var x6=Object.defineProperty;var S6=(n,e,t)=>e in n?x6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var av=(n,e,t)=>S6(n,typeof e!="symbol"?e+"":e,t);function A6(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function K0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tM={exports:{}},ov={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function E6(){if(iD)return ov;iD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:a,ref:s!==void 0?s:null,props:r}}return ov.Fragment=e,ov.jsx=t,ov.jsxs=t,ov}var sD;function M6(){return sD||(sD=1,tM.exports=E6()),tM.exports}var he=M6(),nM={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD;function T6(){if(rD)return pn;rD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function A(X,ae,_e){this.props=X,this.context=ae,this.refs=E,this.updater=_e||b}A.prototype.isReactComponent={},A.prototype.setState=function(X,ae){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ae,"setState")},A.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=A.prototype;function B(X,ae,_e){this.props=X,this.context=ae,this.refs=E,this.updater=_e||b}var w=B.prototype=new S;w.constructor=B,x(w,A.prototype),w.isPureReactComponent=!0;var R=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function U(X,ae,_e,Ae,ce,be){return _e=be.ref,{$$typeof:n,type:X,key:ae,ref:_e!==void 0?_e:null,props:be}}function P(X,ae){return U(X.type,ae,void 0,void 0,void 0,X.props)}function L(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function M(X){var ae={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(_e){return ae[_e]})}var F=/\/+/g;function G(X,ae){return typeof X=="object"&&X!==null&&X.key!=null?M(""+X.key):ae.toString(36)}function J(){}function ie(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(J,J):(X.status="pending",X.then(function(ae){X.status==="pending"&&(X.status="fulfilled",X.value=ae)},function(ae){X.status==="pending"&&(X.status="rejected",X.reason=ae)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ne(X,ae,_e,Ae,ce){var be=typeof X;(be==="undefined"||be==="boolean")&&(X=null);var Ue=!1;if(X===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(X.$$typeof){case n:case e:Ue=!0;break;case m:return Ue=X._init,ne(Ue(X._payload),ae,_e,Ae,ce)}}if(Ue)return ce=ce(X),Ue=Ae===""?"."+G(X,0):Ae,R(ce)?(_e="",Ue!=null&&(_e=Ue.replace(F,"$&/")+"/"),ne(ce,ae,_e,"",function(j){return j})):ce!=null&&(L(ce)&&(ce=P(ce,_e+(ce.key==null||X&&X.key===ce.key?"":(""+ce.key).replace(F,"$&/")+"/")+Ue)),ae.push(ce)),1;Ue=0;var Qe=Ae===""?".":Ae+":";if(R(X))for(var xe=0;xe<X.length;xe++)Ae=X[xe],be=Qe+G(Ae,xe),Ue+=ne(Ae,ae,_e,be,ce);else if(xe=y(X),typeof xe=="function")for(X=xe.call(X),xe=0;!(Ae=X.next()).done;)Ae=Ae.value,be=Qe+G(Ae,xe++),Ue+=ne(Ae,ae,_e,be,ce);else if(be==="object"){if(typeof X.then=="function")return ne(ie(X),ae,_e,Ae,ce);throw ae=String(X),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function H(X,ae,_e){if(X==null)return X;var Ae=[],ce=0;return ne(X,Ae,"","",function(be){return ae.call(_e,be,ce++)}),Ae}function q(X){if(X._status===-1){var ae=X._result;ae=ae(),ae.then(function(_e){(X._status===0||X._status===-1)&&(X._status=1,X._result=_e)},function(_e){(X._status===0||X._status===-1)&&(X._status=2,X._result=_e)}),X._status===-1&&(X._status=0,X._result=ae)}if(X._status===1)return X._result.default;throw X._result}var $=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function se(){}return pn.Children={map:H,forEach:function(X,ae,_e){H(X,function(){ae.apply(this,arguments)},_e)},count:function(X){var ae=0;return H(X,function(){ae++}),ae},toArray:function(X){return H(X,function(ae){return ae})||[]},only:function(X){if(!L(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},pn.Component=A,pn.Fragment=t,pn.Profiler=s,pn.PureComponent=B,pn.StrictMode=i,pn.Suspense=u,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,pn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return N.H.useMemoCache(X)}},pn.cache=function(X){return function(){return X.apply(null,arguments)}},pn.cloneElement=function(X,ae,_e){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Ae=x({},X.props),ce=X.key,be=void 0;if(ae!=null)for(Ue in ae.ref!==void 0&&(be=void 0),ae.key!==void 0&&(ce=""+ae.key),ae)!O.call(ae,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&ae.ref===void 0||(Ae[Ue]=ae[Ue]);var Ue=arguments.length-2;if(Ue===1)Ae.children=_e;else if(1<Ue){for(var Qe=Array(Ue),xe=0;xe<Ue;xe++)Qe[xe]=arguments[xe+2];Ae.children=Qe}return U(X.type,ce,void 0,void 0,be,Ae)},pn.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:r,_context:X},X},pn.createElement=function(X,ae,_e){var Ae,ce={},be=null;if(ae!=null)for(Ae in ae.key!==void 0&&(be=""+ae.key),ae)O.call(ae,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(ce[Ae]=ae[Ae]);var Ue=arguments.length-2;if(Ue===1)ce.children=_e;else if(1<Ue){for(var Qe=Array(Ue),xe=0;xe<Ue;xe++)Qe[xe]=arguments[xe+2];ce.children=Qe}if(X&&X.defaultProps)for(Ae in Ue=X.defaultProps,Ue)ce[Ae]===void 0&&(ce[Ae]=Ue[Ae]);return U(X,be,void 0,void 0,null,ce)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(X){return{$$typeof:l,render:X}},pn.isValidElement=L,pn.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:q}},pn.memo=function(X,ae){return{$$typeof:d,type:X,compare:ae===void 0?null:ae}},pn.startTransition=function(X){var ae=N.T,_e={};N.T=_e;try{var Ae=X(),ce=N.S;ce!==null&&ce(_e,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(se,$)}catch(be){$(be)}finally{N.T=ae}},pn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},pn.use=function(X){return N.H.use(X)},pn.useActionState=function(X,ae,_e){return N.H.useActionState(X,ae,_e)},pn.useCallback=function(X,ae){return N.H.useCallback(X,ae)},pn.useContext=function(X){return N.H.useContext(X)},pn.useDebugValue=function(){},pn.useDeferredValue=function(X,ae){return N.H.useDeferredValue(X,ae)},pn.useEffect=function(X,ae,_e){var Ae=N.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(X,ae)},pn.useId=function(){return N.H.useId()},pn.useImperativeHandle=function(X,ae,_e){return N.H.useImperativeHandle(X,ae,_e)},pn.useInsertionEffect=function(X,ae){return N.H.useInsertionEffect(X,ae)},pn.useLayoutEffect=function(X,ae){return N.H.useLayoutEffect(X,ae)},pn.useMemo=function(X,ae){return N.H.useMemo(X,ae)},pn.useOptimistic=function(X,ae){return N.H.useOptimistic(X,ae)},pn.useReducer=function(X,ae,_e){return N.H.useReducer(X,ae,_e)},pn.useRef=function(X){return N.H.useRef(X)},pn.useState=function(X){return N.H.useState(X)},pn.useSyncExternalStore=function(X,ae,_e){return N.H.useSyncExternalStore(X,ae,_e)},pn.useTransition=function(){return N.H.useTransition()},pn.version="19.1.0",pn}var aD;function Cg(){return aD||(aD=1,nM.exports=T6()),nM.exports}var K=Cg();const Ml=K0(K),ZT=A6({__proto__:null,default:Ml},[K]);var iM={exports:{}},lv={},sM={exports:{}},rM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD;function C6(){return oD||(oD=1,function(n){function e(H,q){var $=H.length;H.push(q);e:for(;0<$;){var se=$-1>>>1,X=H[se];if(0<s(X,q))H[se]=q,H[$]=X,$=se;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],$=H.pop();if($!==q){H[0]=$;e:for(var se=0,X=H.length,ae=X>>>1;se<ae;){var _e=2*(se+1)-1,Ae=H[_e],ce=_e+1,be=H[ce];if(0>s(Ae,$))ce<X&&0>s(be,Ae)?(H[se]=be,H[ce]=$,se=ce):(H[se]=Ae,H[_e]=$,se=_e);else if(ce<X&&0>s(be,$))H[se]=be,H[ce]=$,se=ce;else break e}}return q}function s(H,q){var $=H.sortIndex-q.sortIndex;return $!==0?$:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],d=[],m=1,g=null,y=3,b=!1,x=!1,E=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(d)}}function N(H){if(E=!1,R(H),!x)if(t(u)!==null)x=!0,O||(O=!0,G());else{var q=t(d);q!==null&&ne(N,q.startTime-H)}}var O=!1,U=-1,P=5,L=-1;function M(){return A?!0:!(n.unstable_now()-L<P)}function F(){if(A=!1,O){var H=n.unstable_now();L=H;var q=!0;try{e:{x=!1,E&&(E=!1,B(U),U=-1),b=!0;var $=y;try{t:{for(R(H),g=t(u);g!==null&&!(g.expirationTime>H&&M());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var X=se(g.expirationTime<=H);if(H=n.unstable_now(),typeof X=="function"){g.callback=X,R(H),q=!0;break t}g===t(u)&&i(u),R(H)}else i(u);g=t(u)}if(g!==null)q=!0;else{var ae=t(d);ae!==null&&ne(N,ae.startTime-H),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?G():O=!1}}}var G;if(typeof w=="function")G=function(){w(F)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=F,G=function(){ie.postMessage(null)}}else G=function(){S(F,0)};function ne(H,q){U=S(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return H()}finally{y=$}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return q()}finally{y=$}},n.unstable_scheduleCallback=function(H,q,$){var se=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,H={id:m++,callback:q,priorityLevel:H,startTime:$,expirationTime:X,sortIndex:-1},$>se?(H.sortIndex=$,e(d,H),t(u)===null&&H===t(d)&&(E?(B(U),U=-1):E=!0,ne(N,$-se))):(H.sortIndex=X,e(u,H),x||b||(x=!0,O||(O=!0,G()))),H},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(H){var q=y;return function(){var $=y;y=q;try{return H.apply(this,arguments)}finally{y=$}}}}(rM)),rM}var lD;function w6(){return lD||(lD=1,sM.exports=C6()),sM.exports}var aM={exports:{}},Rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD;function R6(){if(cD)return Rr;cD=1;var n=Cg();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:d,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rr.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(u,d,null,m)},Rr.flushSync=function(u){var d=a.T,m=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=d,i.p=m,i.d.f()}},Rr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},Rr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Rr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},Rr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin);i.d.L(u,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rr.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},Rr.requestFormReset=function(u){i.d.r(u)},Rr.unstable_batchedUpdates=function(u,d){return u(d)},Rr.useFormState=function(u,d,m){return a.H.useFormState(u,d,m)},Rr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Rr.version="19.1.0",Rr}var uD;function jL(){if(uD)return aM.exports;uD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),aM.exports=R6(),aM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD;function B6(){if(fD)return lv;fD=1;var n=w6(),e=Cg(),t=jL();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(i(188))}function u(o){var c=o.alternate;if(!c){if(c=r(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,v=c;;){var T=p.return;if(T===null)break;var D=T.alternate;if(D===null){if(v=T.return,v!==null){p=v;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===p)return l(T),o;if(D===v)return l(T),c;D=D.sibling}throw Error(i(188))}if(p.return!==v.return)p=T,v=D;else{for(var V=!1,ee=T.child;ee;){if(ee===p){V=!0,p=T,v=D;break}if(ee===v){V=!0,v=T,p=D;break}ee=ee.sibling}if(!V){for(ee=D.child;ee;){if(ee===p){V=!0,p=D,v=T;break}if(ee===v){V=!0,v=D,p=T;break}ee=ee.sibling}if(!V)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var J=Symbol.for("react.client.reference");function ie(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===J?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case w:return(o.displayName||"Context")+".Provider";case B:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return c=o.displayName||null,c!==null?c:ie(o.type)||"Memo";case P:c=o._payload,o=o._init;try{return ie(o(c))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},se=[],X=-1;function ae(o){return{current:o}}function _e(o){0>X||(o.current=se[X],se[X]=null,X--)}function Ae(o,c){X++,se[X]=o.current,o.current=c}var ce=ae(null),be=ae(null),Ue=ae(null),Qe=ae(null);function xe(o,c){switch(Ae(Ue,c),Ae(be,o),Ae(ce,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?DB(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=DB(c),o=IB(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}_e(ce),Ae(ce,o)}function j(){_e(ce),_e(be),_e(Ue)}function Q(o){o.memoizedState!==null&&Ae(Qe,o);var c=ce.current,p=IB(c,o.type);c!==p&&(Ae(be,o),Ae(ce,p))}function oe(o){be.current===o&&(_e(ce),_e(be)),Qe.current===o&&(_e(Qe),tv._currentValue=$)}var Ce=Object.prototype.hasOwnProperty,Se=n.unstable_scheduleCallback,W=n.unstable_cancelCallback,ze=n.unstable_shouldYield,De=n.unstable_requestPaint,Ge=n.unstable_now,ve=n.unstable_getCurrentPriorityLevel,at=n.unstable_ImmediatePriority,Te=n.unstable_UserBlockingPriority,Z=n.unstable_NormalPriority,k=n.unstable_LowPriority,me=n.unstable_IdlePriority,Be=n.log,Ke=n.unstable_setDisableYieldValue,He=null,ct=null;function rt(o){if(typeof Be=="function"&&Ke(o),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(He,o)}catch{}}var _t=Math.clz32?Math.clz32:ut,bt=Math.log,Ve=Math.LN2;function ut(o){return o>>>=0,o===0?32:31-(bt(o)/Ve|0)|0}var xt=256,St=4194304;function Ye(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function le(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var T=0,D=o.suspendedLanes,V=o.pingedLanes;o=o.warmLanes;var ee=v&134217727;return ee!==0?(v=ee&~D,v!==0?T=Ye(v):(V&=ee,V!==0?T=Ye(V):p||(p=ee&~o,p!==0&&(T=Ye(p))))):(ee=v&~D,ee!==0?T=Ye(ee):V!==0?T=Ye(V):p||(p=v&~o,p!==0&&(T=Ye(p)))),T===0?0:c!==0&&c!==T&&(c&D)===0&&(D=T&-T,p=c&-c,D>=p||D===32&&(p&4194048)!==0)?c:T}function Oe(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ft(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var o=xt;return xt<<=1,(xt&4194048)===0&&(xt=256),o}function ot(){var o=St;return St<<=1,(St&62914560)===0&&(St=4194304),o}function Le(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Je(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ht(o,c,p,v,T,D){var V=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var ee=o.entanglements,ue=o.expirationTimes,Pe=o.hiddenUpdates;for(p=V&~p;0<p;){var et=31-_t(p),it=1<<et;ee[et]=0,ue[et]=-1;var ke=Pe[et];if(ke!==null)for(Pe[et]=null,et=0;et<ke.length;et++){var je=ke[et];je!==null&&(je.lane&=-536870913)}p&=~it}v!==0&&pt(o,v,0),D!==0&&T===0&&o.tag!==0&&(o.suspendedLanes|=D&~(V&~c))}function pt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-_t(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function Dt(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-_t(p),T=1<<v;T&c|o[v]&c&&(o[v]|=c),p&=~T}}function tn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function En(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Wt(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:QB(o.type))}function Mi(o,c){var p=q.p;try{return q.p=o,c()}finally{q.p=p}}var Zn=Math.random().toString(36).slice(2),$n="__reactFiber$"+Zn,_i="__reactProps$"+Zn,Ni="__reactContainer$"+Zn,ys="__reactEvents$"+Zn,Xo="__reactListeners$"+Zn,Xs="__reactHandles$"+Zn,vs="__reactResources$"+Zn,_s="__reactMarker$"+Zn;function Qt(o){delete o[$n],delete o[_i],delete o[ys],delete o[Xo],delete o[Xs]}function kn(o){var c=o[$n];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Ni]||p[$n]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=PB(o);o!==null;){if(p=o[$n])return p;o=PB(o)}return c}o=p,p=o.parentNode}return null}function Qi(o){if(o=o[$n]||o[Ni]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function _r(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function br(o){var c=o[vs];return c||(c=o[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Xe(o){o[_s]=!0}var qe=new Set,Mt={};function kt(o,c){Y(o,c),Y(o+"Capture",c)}function Y(o,c){for(Mt[o]=c,o=0;o<c.length;o++)qe.add(c[o])}var pe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Re={},Ne={};function Ee(o){return Ce.call(Ne,o)?!0:Ce.call(Re,o)?!1:pe.test(o)?Ne[o]=!0:(Re[o]=!0,!1)}function st(o,c,p){if(Ee(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function mt(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function gt(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}var Tt,yt;function Ot(o){if(Tt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Tt=c&&c[1]||"",yt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+o+yt}var It=!1;function nn(o,c){if(!o||It)return"";It=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(je){var ke=je}Reflect.construct(o,[],it)}else{try{it.call()}catch(je){ke=je}o.call(it.prototype)}}else{try{throw Error()}catch(je){ke=je}(it=o())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(je){if(je&&ke&&typeof je.stack=="string")return[je.stack,ke.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),V=D[0],ee=D[1];if(V&&ee){var ue=V.split(`
`),Pe=ee.split(`
`);for(T=v=0;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;for(;T<Pe.length&&!Pe[T].includes("DetermineComponentFrameRoot");)T++;if(v===ue.length||T===Pe.length)for(v=ue.length-1,T=Pe.length-1;1<=v&&0<=T&&ue[v]!==Pe[T];)T--;for(;1<=v&&0<=T;v--,T--)if(ue[v]!==Pe[T]){if(v!==1||T!==1)do if(v--,T--,0>T||ue[v]!==Pe[T]){var et=`
`+ue[v].replace(" at new "," at ");return o.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",o.displayName)),et}while(1<=v&&0<=T);break}}}finally{It=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Ot(p):""}function In(o){switch(o.tag){case 26:case 27:case 5:return Ot(o.type);case 16:return Ot("Lazy");case 13:return Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return nn(o.type,!1);case 11:return nn(o.type.render,!1);case 1:return nn(o.type,!0);case 31:return Ot("Activity");default:return""}}function Ti(o){try{var c="";do c+=In(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function vn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function bn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ft(o){var c=bn(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,D=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return T.call(this)},set:function(V){v=""+V,D.call(this,V)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Bi(o){o._valueTracker||(o._valueTracker=Ft(o))}function Rn(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=bn(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function Bs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var oo=/[\n"\\]/g;function si(o){return o.replace(oo,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function lo(o,c,p,v,T,D,V,ee){o.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.type=V:o.removeAttribute("type"),c!=null?V==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+vn(c)):o.value!==""+vn(c)&&(o.value=""+vn(c)):V!=="submit"&&V!=="reset"||o.removeAttribute("value"),c!=null?Ds(o,V,vn(c)):p!=null?Ds(o,V,vn(p)):v!=null&&o.removeAttribute("value"),T==null&&D!=null&&(o.defaultChecked=!!D),T!=null&&(o.checked=T&&typeof T!="function"&&typeof T!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.name=""+vn(ee):o.removeAttribute("name")}function ei(o,c,p,v,T,D,V,ee){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),c!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||c!=null))return;p=p!=null?""+vn(p):"",c=c!=null?""+vn(c):p,ee||c===o.value||(o.value=c),o.defaultValue=c}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=ee?o.checked:!!v,o.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(o.name=V)}function Ds(o,c,p){c==="number"&&Bs(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Zi(o,c,p,v){if(o=o.options,c){c={};for(var T=0;T<p.length;T++)c["$"+p[T]]=!0;for(p=0;p<o.length;p++)T=c.hasOwnProperty("$"+o[p].value),o[p].selected!==T&&(o[p].selected=T),T&&v&&(o[p].defaultSelected=!0)}else{for(p=""+vn(p),c=null,T=0;T<o.length;T++){if(o[T].value===p){o[T].selected=!0,v&&(o[T].defaultSelected=!0);return}c!==null||o[T].disabled||(c=o[T])}c!==null&&(c.selected=!0)}}function bs(o,c,p){if(c!=null&&(c=""+vn(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+vn(p):""}function xs(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(i(92));if(ne(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=vn(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function rr(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||co.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function hd(o,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var T in c)v=c[T],c.hasOwnProperty(T)&&p[T]!==v&&dd(o,T,v)}else for(var D in c)c.hasOwnProperty(D)&&dd(o,D,c[D])}function cp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pd(o){return D_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var up=null;function fp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ll=null,Nc=null;function qg(o){var c=Qi(o);if(c&&(o=c.stateNode)){var p=o[_i]||null;e:switch(o=c.stateNode,c.type){case"input":if(lo(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+si(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var T=v[_i]||null;if(!T)throw Error(i(90));lo(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Rn(v)}break e;case"textarea":bs(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Zi(o,!!p.multiple,c,!1)}}}var md=!1;function Kg(o,c,p){if(md)return o(c,p);md=!0;try{var v=o(c);return v}finally{if(md=!1,(Ll!==null||Nc!==null)&&(To(),Ll&&(c=Ll,o=Nc,Nc=Ll=null,qg(c),o)))for(c=0;c<o.length;c++)qg(o[c])}}function Fu(o,c){var p=o.stateNode;if(p===null)return null;var v=p[_i]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=!1;if(uo)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){gd=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{gd=!1}var Yo=null,Jg=null,dp=null;function Qg(){if(dp)return dp;var o,c=Jg,p=c.length,v,T="value"in Yo?Yo.value:Yo.textContent,D=T.length;for(o=0;o<p&&c[o]===T[o];o++);var V=p-o;for(v=1;v<=V&&c[p-v]===T[D-v];v++);return dp=T.slice(o,1<v?1-v:void 0)}function Pl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Hu(){return!0}function yd(){return!1}function ar(o){function c(p,v,T,D,V){this._reactName=p,this._targetInst=T,this.type=v,this.nativeEvent=D,this.target=V,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(p=o[ee],this[ee]=p?p(D):D[ee]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Hu:yd,this.isPropagationStopped=yd,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),c}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=ar(Ul),ku=m({},Ul,{view:0,detail:0}),I_=ar(ku),qo,Vu,ju,Wu=m({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ju&&(ju&&o.type==="mousemove"?(qo=o.screenX-ju.screenX,Vu=o.screenY-ju.screenY):Vu=qo=0,ju=o),qo)},movementY:function(o){return"movementY"in o?o.movementY:Vu}}),Zg=ar(Wu),O_=m({},Wu,{dataTransfer:0}),_E=ar(O_),Is=m({},ku,{relatedTarget:0}),hp=ar(Is),N_=m({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=ar(N_),P_=m({},Ul,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),U_=ar(P_),vd=m({},Ul,{data:0}),pp=ar(vd),F_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=H_[o])?!!c[o]:!1}function _d(){return $g}var G_=m({},ku,{key:function(o){if(o.key){var c=F_[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Pl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?z_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(o){return o.type==="keypress"?Pl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Pl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ey=ar(G_),ty=m({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=ar(ty),k_=m({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),ny=ar(k_),V_=m({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=ar(V_),iy=m({},Wu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bE=ar(iy),j_=m({},Ul,{newState:0,oldState:0}),Fl=ar(j_),Jo=[9,13,27,32],bd=uo&&"CompositionEvent"in window,Lc=null;uo&&"documentMode"in document&&(Lc=document.documentMode);var xd=uo&&"TextEvent"in window&&!Lc,Sd=uo&&(!bd||Lc&&8<Lc&&11>=Lc),zl=" ",Os=!1;function Ad(o,c){switch(o){case"keyup":return Jo.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Hl=!1;function Ed(o,c){switch(o){case"compositionend":return sy(c);case"keypress":return c.which!==32?null:(Os=!0,zl);case"textInput":return o=c.data,o===zl&&Os?null:o;default:return null}}function ry(o,c){if(Hl)return o==="compositionend"||!bd&&Ad(o,c)?(o=Qg(),dp=Jg=Yo=null,Hl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Sd&&c.locale!=="ko"?null:c.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!gp[o.type]:c==="textarea"}function xr(o,c,p,v){Ll?Nc?Nc.push(v):Nc=[v]:Ll=v,c=Vb(c,"onChange"),0<c.length&&(p=new Gu("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var Xu=null,Pc=null;function W_(o){TB(o,0)}function Md(o){var c=_r(o);if(Rn(c))return o}function yp(o,c){if(o==="change")return c}var vp=!1;if(uo){var _p;if(uo){var Yu="oninput"in document;if(!Yu){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),Yu=typeof qu.oninput=="function"}_p=Yu}else _p=!1;vp=_p&&(!document.documentMode||9<document.documentMode)}function Ci(){Xu&&(Xu.detachEvent("onpropertychange",X_),Pc=Xu=null)}function X_(o){if(o.propertyName==="value"&&Md(Pc)){var c=[];xr(c,Pc,o,fp(o)),Kg(W_,c)}}function xE(o,c,p){o==="focusin"?(Ci(),Xu=c,Pc=p,Xu.attachEvent("onpropertychange",X_)):o==="focusout"&&Ci()}function Y_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Md(Pc)}function Td(o,c){if(o==="click")return Md(c)}function Gl(o,c){if(o==="input"||o==="change")return Md(c)}function q_(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Sr=typeof Object.is=="function"?Object.is:q_;function Na(o,c){if(Sr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var T=p[v];if(!Ce.call(c,T)||!Sr(o[T],c[T]))return!1}return!0}function Ar(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function oy(o,c){var p=Ar(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ar(p)}}function ly(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ly(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function cy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Bs(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=Bs(o.document)}return c}function Cd(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var uy=uo&&"documentMode"in document&&11>=document.documentMode,Qo=null,bp=null,wd=null,xp=!1;function fy(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xp||Qo==null||Qo!==Bs(v)||(v=Qo,"selectionStart"in v&&Cd(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),wd&&Na(wd,v)||(wd=v,v=Vb(bp,"onSelect"),0<v.length&&(c=new Gu("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=Qo)))}function Ns(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var kl={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Sp={},K_={};uo&&(K_=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Zo(o){if(Sp[o])return Sp[o];if(!kl[o])return o;var c=kl[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in K_)return Sp[o]=c[p];return o}var or=Zo("animationend"),dy=Zo("animationiteration"),Er=Zo("animationstart"),J_=Zo("transitionrun"),$o=Zo("transitionstart"),Ku=Zo("transitioncancel"),el=Zo("transitionend"),Ap=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Ss(o,c){Ap.set(o,c),kt(c,[o])}var hy=new WeakMap;function Ls(o,c){if(typeof o=="object"&&o!==null){var p=hy.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Ti(c)},hy.set(o,c),c)}return{value:o,source:c,stack:Ti(c)}}var Ys=[],ua=0,Ep=0;function Bd(){for(var o=ua,c=Ep=ua=0;c<o;){var p=Ys[c];Ys[c++]=null;var v=Ys[c];Ys[c++]=null;var T=Ys[c];Ys[c++]=null;var D=Ys[c];if(Ys[c++]=null,v!==null&&T!==null){var V=v.pending;V===null?T.next=T:(T.next=V.next,V.next=T),v.pending=T}D!==0&&py(p,T,D)}}function Vl(o,c,p,v){Ys[ua++]=o,Ys[ua++]=c,Ys[ua++]=p,Ys[ua++]=v,Ep|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Mp(o,c,p,v){return Vl(o,c,p,v),Ju(o)}function tl(o,c){return Vl(o,null,null,c),Ju(o)}function py(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var T=!1,D=o.return;D!==null;)D.childLanes|=p,v=D.alternate,v!==null&&(v.childLanes|=p),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(T=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,T&&c!==null&&(T=31-_t(p),o=D.hiddenUpdates,v=o[T],v===null?o[T]=[c]:v.push(c),c.lane=p|536870912),D):null}function Ju(o){if(50<Mo)throw Mo=0,eu=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var jl={};function my(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,c,p,v){return new my(o,c,p,v)}function Dd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Vi(o,c){var p=o.alternate;return p===null?(p=Mr(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function gy(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function As(o,c,p,v,T,D){var V=0;if(v=o,typeof o=="function")Dd(o)&&(V=1);else if(typeof o=="string")V=l6(o,p,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Mr(31,p,c,T),o.elementType=L,o.lanes=D,o;case x:return Wl(p.children,T,D,c);case E:V=8,T|=24;break;case A:return o=Mr(12,p,c,T|2),o.elementType=A,o.lanes=D,o;case N:return o=Mr(13,p,c,T),o.elementType=N,o.lanes=D,o;case O:return o=Mr(19,p,c,T),o.elementType=O,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case w:V=10;break e;case B:V=9;break e;case R:V=11;break e;case U:V=14;break e;case P:V=16,v=null;break e}V=29,p=Error(i(130,o===null?"null":typeof o,"")),v=null}return c=Mr(V,p,c,T),c.elementType=o,c.type=v,c.lanes=D,c}function Wl(o,c,p,v){return o=Mr(7,o,v,c),o.lanes=p,o}function Id(o,c,p){return o=Mr(6,o,null,c),o.lanes=p,o}function Tp(o,c,p){return c=Mr(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Qu=[],Tr=0,Od=null,Zu=0,Ps=[],kr=0,Xl=null,fo=1,ho="";function nl(o,c){Qu[Tr++]=Zu,Qu[Tr++]=Od,Od=o,Zu=c}function Cp(o,c,p){Ps[kr++]=fo,Ps[kr++]=ho,Ps[kr++]=Xl,Xl=o;var v=fo;o=ho;var T=32-_t(v)-1;v&=~(1<<T),p+=1;var D=32-_t(c)+T;if(30<D){var V=T-T%5;D=(v&(1<<V)-1).toString(32),v>>=V,T-=V,fo=1<<32-_t(c)+T|p<<T|v,ho=D+o}else fo=1<<D|p<<T|v,ho=o}function yy(o){o.return!==null&&(nl(o,1),Cp(o,1,0))}function vy(o){for(;o===Od;)Od=Qu[--Tr],Qu[Tr]=null,Zu=Qu[--Tr],Qu[Tr]=null;for(;o===Xl;)Xl=Ps[--kr],Ps[kr]=null,ho=Ps[--kr],Ps[kr]=null,fo=Ps[--kr],Ps[kr]=null}var lr=null,Di=null,Un=!1,fa=null,Vr=!1,wp=Error(i(519));function Yl(o){var c=Error(i(418,""));throw Uc(Ls(c,o)),wp}function Q_(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[$n]=o,c[_i]=v,p){case"dialog":Mn("cancel",c),Mn("close",c);break;case"iframe":case"object":case"embed":Mn("load",c);break;case"video":case"audio":for(p=0;p<Ky.length;p++)Mn(Ky[p],c);break;case"source":Mn("error",c);break;case"img":case"image":case"link":Mn("error",c),Mn("load",c);break;case"details":Mn("toggle",c);break;case"input":Mn("invalid",c),ei(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Bi(c);break;case"select":Mn("invalid",c);break;case"textarea":Mn("invalid",c),xs(c,v.value,v.defaultValue,v.children),Bi(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||BB(c.textContent,p)?(v.popover!=null&&(Mn("beforetoggle",c),Mn("toggle",c)),v.onScroll!=null&&Mn("scroll",c),v.onScrollEnd!=null&&Mn("scrollend",c),v.onClick!=null&&(c.onclick=jb),c=!0):c=!1,c||Yl(o)}function _y(o){for(lr=o.return;lr;)switch(lr.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:lr=lr.return}}function La(o){if(o!==lr)return!1;if(!Un)return _y(o),Un=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||GE(o.type,o.memoizedProps)),p=!p),p&&Di&&Yl(o),_y(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){Di=gl(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}Di=null}}else c===27?(c=Di,Ef(o.type)?(o=WE,WE=null,Di=o):Di=c):Di=lr?gl(o.stateNode.nextSibling):null;return!0}function $u(){Di=lr=null,Un=!1}function Vn(){var o=fa;return o!==null&&(Vt===null?Vt=o:Vt.push.apply(Vt,o),fa=null),o}function Uc(o){fa===null?fa=[o]:fa.push(o)}var by=ae(null),ql=null,il=null;function Kl(o,c,p){Ae(by,c._currentValue),c._currentValue=p}function sl(o){o._currentValue=by.current,_e(by)}function xy(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function Nd(o,c,p,v){var T=o.child;for(T!==null&&(T.return=o);T!==null;){var D=T.dependencies;if(D!==null){var V=T.child;D=D.firstContext;e:for(;D!==null;){var ee=D;D=T;for(var ue=0;ue<c.length;ue++)if(ee.context===c[ue]){D.lanes|=p,ee=D.alternate,ee!==null&&(ee.lanes|=p),xy(D.return,p,o),v||(V=null);break e}D=ee.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(i(341));V.lanes|=p,D=V.alternate,D!==null&&(D.lanes|=p),xy(V,p,o),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===o){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function da(o,c,p,v){o=null;for(var T=c,D=!1;T!==null;){if(!D){if((T.flags&524288)!==0)D=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var ee=T.type;Sr(T.pendingProps.value,V.value)||(o!==null?o.push(ee):o=[ee])}}else if(T===Qe.current){if(V=T.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(o!==null?o.push(tv):o=[tv])}T=T.return}o!==null&&Nd(c,o,p,v),c.flags|=262144}function Ld(o){for(o=o.firstContext;o!==null;){if(!Sr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function po(o){ql=o,il=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Li(o){return Rp(ql,o)}function Pd(o,c){return ql===null&&po(o),Rp(o,c)}function Rp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},il===null){if(o===null)throw Error(i(308));il=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else il=il.next=c;return p}var Sy=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},SE=n.unstable_scheduleCallback,Z_=n.unstable_NormalPriority,$i={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new Sy,data:new Map,refCount:0}}function ef(o){o.refCount--,o.refCount===0&&SE(Z_,function(){o.controller.abort()})}var tf=null,Ud=0,an=0,nf=null;function jr(o,c){if(tf===null){var p=tf=[];Ud=0,an=IE(),nf={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Ud++,c.then(Dp,Dp),c}function Dp(){if(--Ud===0&&tf!==null){nf!==null&&(nf.status="fulfilled");var o=tf;tf=null,an=0,nf=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function AE(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var T=0;T<p.length;T++)(0,p[T])(c)},function(T){for(v.status="rejected",v.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),v}var Fd=H.S;H.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&jr(o,c),Fd!==null&&Fd(o,c)};var ha=ae(null);function Jl(){var o=ha.current;return o!==null?o:sn.pooledCache}function zd(o,c){c===null?Ae(ha,ha.current):Ae(ha,c.pool)}function Ip(){var o=Jl();return o===null?null:{parent:$i._currentValue,pool:o}}var Hd=Error(i(460)),Ay=Error(i(474)),Pa=Error(i(542)),Gd={then:function(){}};function Op(o){return o=o.status,o==="fulfilled"||o==="rejected"}function sf(){}function Np(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(sf,sf),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,$_(o),o;default:if(typeof c.status=="string")c.then(sf,sf);else{if(o=sn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=v}},function(v){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,$_(o),o}throw pa=c,Hd}}var pa=null;function Ey(){if(pa===null)throw Error(i(459));var o=pa;return pa=null,o}function $_(o){if(o===Hd||o===Pa)throw Error(i(483))}var rl=!1;function My(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function mo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function al(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(jn&2)!==0){var T=v.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),v.pending=c,c=Ju(o),py(o,null,p),c}return Vl(o,v,c,p),Ju(o)}function Fc(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Dt(o,p)}}function rf(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var T=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?T=D=V:D=D.next=V,p=p.next}while(p!==null);D===null?T=D=c:D=D.next=c}else T=D=c;p={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Ty=!1;function kd(){if(Ty){var o=nf;if(o!==null)throw o}}function af(o,c,p,v){Ty=!1;var T=o.updateQueue;rl=!1;var D=T.firstBaseUpdate,V=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var ue=ee,Pe=ue.next;ue.next=null,V===null?D=Pe:V.next=Pe,V=ue;var et=o.alternate;et!==null&&(et=et.updateQueue,ee=et.lastBaseUpdate,ee!==V&&(ee===null?et.firstBaseUpdate=Pe:ee.next=Pe,et.lastBaseUpdate=ue))}if(D!==null){var it=T.baseState;V=0,et=Pe=ue=null,ee=D;do{var ke=ee.lane&-536870913,je=ke!==ee.lane;if(je?(zt&ke)===ke:(v&ke)===ke){ke!==0&&ke===an&&(Ty=!0),et!==null&&(et=et.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Zt=o,Xt=ee;ke=c;var gi=p;switch(Xt.tag){case 1:if(Zt=Xt.payload,typeof Zt=="function"){it=Zt.call(gi,it,ke);break e}it=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=Xt.payload,ke=typeof Zt=="function"?Zt.call(gi,it,ke):Zt,ke==null)break e;it=m({},it,ke);break e;case 2:rl=!0}}ke=ee.callback,ke!==null&&(o.flags|=64,je&&(o.flags|=8192),je=T.callbacks,je===null?T.callbacks=[ke]:je.push(ke))}else je={lane:ke,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},et===null?(Pe=et=je,ue=it):et=et.next=je,V|=ke;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;je=ee,ee=je.next,je.next=null,T.lastBaseUpdate=je,T.shared.pending=null}}while(!0);et===null&&(ue=it),T.baseState=ue,T.firstBaseUpdate=Pe,T.lastBaseUpdate=et,D===null&&(T.shared.lanes=0),ja|=V,o.lanes=V,o.memoizedState=it}}function of(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function eb(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)of(p[o],c)}var lf=ae(null),Lp=ae(0);function tb(o,c){o=ba,Ae(Lp,o),Ae(lf,c),ba=o|c.baseLanes}function Cy(){Ae(Lp,ba),Ae(lf,lf.current)}function Vd(){ba=Lp.current,_e(lf),_e(Lp)}var ol=0,on=null,Kn=null,es=null,Pp=!1,Ql=!1,cr=!1,ls=0,ma=0,Us=null,nb=0;function ji(){throw Error(i(321))}function qs(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Sr(o[p],c[p]))return!1;return!0}function ll(o,c,p,v,T,D){return ol=D,on=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=o===null||o.memoizedState===null?Wp:Vy,cr=!1,D=p(v,T),cr=!1,Ql&&(D=sb(c,p,v,T)),ib(o),D}function ib(o){H.H=Xd;var c=Kn!==null&&Kn.next!==null;if(ol=0,es=Kn=on=null,Pp=!1,ma=0,Us=null,c)throw Error(i(300));o===null||Es||(o=o.dependencies,o!==null&&Ld(o)&&(Es=!0))}function sb(o,c,p,v){on=o;var T=0;do{if(Ql&&(Us=null),ma=0,Ql=!1,25<=T)throw Error(i(301));if(T+=1,es=Kn=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}H.H=Bb,D=c(p,v)}while(Ql);return D}function EE(){var o=H.H,c=o.useState()[0];return c=typeof c.then=="function"?Ua(c):c,o=o.useState()[0],(Kn!==null?Kn.memoizedState:null)!==o&&(on.flags|=1024),c}function wy(){var o=ls!==0;return ls=0,o}function Up(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Ry(o){if(Pp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Pp=!1}ol=0,es=Kn=on=null,Ql=!1,ma=ls=0,Us=null}function ur(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?on.memoizedState=es=o:es=es.next=o,es}function ts(){if(Kn===null){var o=on.alternate;o=o!==null?o.memoizedState:null}else o=Kn.next;var c=es===null?on.memoizedState:es.next;if(c!==null)es=c,Kn=o;else{if(o===null)throw on.alternate===null?Error(i(467)):Error(i(310));Kn=o,o={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},es===null?on.memoizedState=es=o:es=es.next=o}return es}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(o){var c=ma;return ma+=1,Us===null&&(Us=[]),o=Np(Us,o,c),c=on,(es===null?c.memoizedState:es.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?Wp:Vy),o}function Fp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ua(o);if(o.$$typeof===w)return Li(o)}throw Error(i(438,String(o)))}function By(o){var c=null,p=on.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=on.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Zl(),on.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=M;return c.index++,p}function cl(o,c){return typeof c=="function"?c(o):c}function $l(o){var c=ts();return Dy(c,Kn,o)}function Dy(o,c,p){var v=o.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var T=o.baseQueue,D=v.pending;if(D!==null){if(T!==null){var V=T.next;T.next=D.next,D.next=V}c.baseQueue=T=D,v.pending=null}if(D=o.baseState,T===null)o.memoizedState=D;else{c=T.next;var ee=V=null,ue=null,Pe=c,et=!1;do{var it=Pe.lane&-536870913;if(it!==Pe.lane?(zt&it)===it:(ol&it)===it){var ke=Pe.revertLane;if(ke===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),it===an&&(et=!0);else if((ol&ke)===ke){Pe=Pe.next,ke===an&&(et=!0);continue}else it={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ue===null?(ee=ue=it,V=D):ue=ue.next=it,on.lanes|=ke,ja|=ke;it=Pe.action,cr&&p(D,it),D=Pe.hasEagerState?Pe.eagerState:p(D,it)}else ke={lane:it,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ue===null?(ee=ue=ke,V=D):ue=ue.next=ke,on.lanes|=it,ja|=it;Pe=Pe.next}while(Pe!==null&&Pe!==c);if(ue===null?V=D:ue.next=ee,!Sr(D,o.memoizedState)&&(Es=!0,et&&(p=nf,p!==null)))throw p;o.memoizedState=D,o.baseState=V,o.baseQueue=ue,v.lastRenderedState=D}return T===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Iy(o){var c=ts(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var v=p.dispatch,T=p.pending,D=c.memoizedState;if(T!==null){p.pending=null;var V=T=T.next;do D=o(D,V.action),V=V.next;while(V!==T);Sr(D,c.memoizedState)||(Es=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),p.lastRenderedState=D}return[D,v]}function rb(o,c,p){var v=on,T=ts(),D=Un;if(D){if(p===void 0)throw Error(i(407));p=p()}else p=c();var V=!Sr((Kn||T).memoizedState,p);V&&(T.memoizedState=p,Es=!0),T=T.queue;var ee=ob.bind(null,v,T,o);if(ff(2048,8,ee,[o]),T.getSnapshot!==c||V||es!==null&&es.memoizedState.tag&1){if(v.flags|=2048,uf(9,jd(),ab.bind(null,v,T,p,c),null),sn===null)throw Error(i(349));D||(ol&124)!==0||cf(v,c,p)}return p}function cf(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=on.updateQueue,c===null?(c=Zl(),on.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function ab(o,c,p,v){c.value=p,c.getSnapshot=v,lb(c)&&cb(o)}function ob(o,c,p){return p(function(){lb(c)&&cb(o)})}function lb(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Sr(o,p)}catch{return!0}}function cb(o){var c=tl(o,2);c!==null&&hr(c,o,2)}function Oy(o){var c=ur();if(typeof o=="function"){var p=o;if(o=p(),cr){rt(!0);try{p()}finally{rt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:o},c}function ub(o,c,p,v){return o.baseState=p,Dy(o,Kn,typeof v=="function"?v:cl)}function ME(o,c,p,v,T){if(jp(o))throw Error(i(485));if(o=c.action,o!==null){var D={payload:T,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){D.listeners.push(V)}};H.T!==null?p(!0):D.isTransition=!1,v(D),p=c.pending,p===null?(D.next=c.pending=D,fb(c,D)):(D.next=p.next,c.pending=p.next=D)}}function fb(o,c){var p=c.action,v=c.payload,T=o.state;if(c.isTransition){var D=H.T,V={};H.T=V;try{var ee=p(T,v),ue=H.S;ue!==null&&ue(V,ee),db(o,c,ee)}catch(Pe){Ny(o,c,Pe)}finally{H.T=D}}else try{D=p(T,v),db(o,c,D)}catch(Pe){Ny(o,c,Pe)}}function db(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){hb(o,c,v)},function(v){return Ny(o,c,v)}):hb(o,c,p)}function hb(o,c,p){c.status="fulfilled",c.value=p,pb(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,fb(o,p)))}function Ny(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,pb(c),c=c.next;while(c!==v)}o.action=null}function pb(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Ly(o,c){return c}function mb(o,c){if(Un){var p=sn.formState;if(p!==null){e:{var v=on;if(Un){if(Di){t:{for(var T=Di,D=Vr;T.nodeType!==8;){if(!D){T=null;break t}if(T=gl(T.nextSibling),T===null){T=null;break t}}D=T.data,T=D==="F!"||D==="F"?T:null}if(T){Di=gl(T.nextSibling),v=T.data==="F!";break e}}Yl(v)}v=!1}v&&(c=p[0])}}return p=ur(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:c},p.queue=v,p=wb.bind(null,on,v),v.dispatch=p,v=Oy(!1),D=Vp.bind(null,on,!1,v.queue),v=ur(),T={state:c,dispatch:null,action:o,pending:null},v.queue=T,p=ME.bind(null,on,T,D,p),T.dispatch=p,v.memoizedState=o,[c,p,!1]}function gb(o){var c=ts();return yb(c,Kn,o)}function yb(o,c,p){if(c=Dy(o,c,Ly)[0],o=$l(cl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Ua(c)}catch(V){throw V===Hd?Pa:V}else v=c;c=ts();var T=c.queue,D=T.dispatch;return p!==c.memoizedState&&(on.flags|=2048,uf(9,jd(),TE.bind(null,T,p),null)),[v,D,o]}function TE(o,c){o.action=c}function vb(o){var c=ts(),p=Kn;if(p!==null)return yb(c,p,o);ts(),c=c.memoizedState,p=ts();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function uf(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=on.updateQueue,c===null&&(c=Zl(),on.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function jd(){return{destroy:void 0,resource:void 0}}function Py(){return ts().memoizedState}function zp(o,c,p,v){var T=ur();v=v===void 0?null:v,on.flags|=o,T.memoizedState=uf(1|c,jd(),p,v)}function ff(o,c,p,v){var T=ts();v=v===void 0?null:v;var D=T.memoizedState.inst;Kn!==null&&v!==null&&qs(v,Kn.memoizedState.deps)?T.memoizedState=uf(c,D,p,v):(on.flags|=o,T.memoizedState=uf(1|c,D,p,v))}function Uy(o,c){zp(8390656,8,o,c)}function Fy(o,c){ff(2048,8,o,c)}function Hp(o,c){return ff(4,2,o,c)}function Gp(o,c){return ff(4,4,o,c)}function _b(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function bb(o,c,p){p=p!=null?p.concat([o]):null,ff(4,4,_b.bind(null,c,o),p)}function zy(){}function xb(o,c){var p=ts();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&qs(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function Hy(o,c){var p=ts();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&qs(c,v[1]))return v[0];if(v=o(),cr){rt(!0);try{o()}finally{rt(!1)}}return p.memoizedState=[v,c],v}function kp(o,c,p){return p===void 0||(ol&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=nm(),on.lanes|=o,ja|=o,p)}function Sb(o,c,p,v){return Sr(p,c)?p:lf.current!==null?(o=kp(o,p,v),Sr(o,c)||(Es=!0),o):(ol&42)===0?(Es=!0,o.memoizedState=p):(o=nm(),on.lanes|=o,ja|=o,c)}function Ab(o,c,p,v,T){var D=q.p;q.p=D!==0&&8>D?D:8;var V=H.T,ee={};H.T=ee,Vp(o,!1,c,p);try{var ue=T(),Pe=H.S;if(Pe!==null&&Pe(ee,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var et=AE(ue,v);Wd(o,c,et,Fi(o))}else Wd(o,c,v,Fi(o))}catch(it){Wd(o,c,{then:function(){},status:"rejected",reason:it},Fi())}finally{q.p=D,H.T=V}}function CE(){}function Gy(o,c,p,v){if(o.tag!==5)throw Error(i(476));var T=Eb(o).queue;Ab(o,T,c,$,p===null?CE:function(){return Mb(o),p(v)})}function Eb(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:$},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Mb(o){var c=Eb(o).next.queue;Wd(o,c,{},Fi())}function ky(){return Li(tv)}function Tb(){return ts().memoizedState}function Cb(){return ts().memoizedState}function wE(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Fi();o=mo(p);var v=al(c,o,p);v!==null&&(hr(v,c,p),Fc(v,c,p)),c={cache:Bp()},o.payload=c;return}c=c.return}}function RE(o,c,p){var v=Fi();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},jp(o)?Rb(c,p):(p=Mp(o,c,p,v),p!==null&&(hr(p,o,v),Wr(p,c,v)))}function wb(o,c,p){var v=Fi();Wd(o,c,p,v)}function Wd(o,c,p,v){var T={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(jp(o))Rb(c,T);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var V=c.lastRenderedState,ee=D(V,p);if(T.hasEagerState=!0,T.eagerState=ee,Sr(ee,V))return Vl(o,c,T,0),sn===null&&Bd(),!1}catch{}finally{}if(p=Mp(o,c,T,v),p!==null)return hr(p,o,v),Wr(p,c,v),!0}return!1}function Vp(o,c,p,v){if(v={lane:2,revertLane:IE(),action:v,hasEagerState:!1,eagerState:null,next:null},jp(o)){if(c)throw Error(i(479))}else c=Mp(o,p,v,2),c!==null&&hr(c,o,2)}function jp(o){var c=o.alternate;return o===on||c!==null&&c===on}function Rb(o,c){Ql=Pp=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Wr(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Dt(o,p)}}var Xd={readContext:Li,use:Fp,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useLayoutEffect:ji,useInsertionEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useSyncExternalStore:ji,useId:ji,useHostTransitionStatus:ji,useFormState:ji,useActionState:ji,useOptimistic:ji,useMemoCache:ji,useCacheRefresh:ji},Wp={readContext:Li,use:Fp,useCallback:function(o,c){return ur().memoizedState=[o,c===void 0?null:c],o},useContext:Li,useEffect:Uy,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,zp(4194308,4,_b.bind(null,c,o),p)},useLayoutEffect:function(o,c){return zp(4194308,4,o,c)},useInsertionEffect:function(o,c){zp(4,2,o,c)},useMemo:function(o,c){var p=ur();c=c===void 0?null:c;var v=o();if(cr){rt(!0);try{o()}finally{rt(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=ur();if(p!==void 0){var T=p(c);if(cr){rt(!0);try{p(c)}finally{rt(!1)}}}else T=c;return v.memoizedState=v.baseState=T,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:T},v.queue=o,o=o.dispatch=RE.bind(null,on,o),[v.memoizedState,o]},useRef:function(o){var c=ur();return o={current:o},c.memoizedState=o},useState:function(o){o=Oy(o);var c=o.queue,p=wb.bind(null,on,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:zy,useDeferredValue:function(o,c){var p=ur();return kp(p,o,c)},useTransition:function(){var o=Oy(!1);return o=Ab.bind(null,on,o.queue,!0,!1),ur().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=on,T=ur();if(Un){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),sn===null)throw Error(i(349));(zt&124)!==0||cf(v,c,p)}T.memoizedState=p;var D={value:p,getSnapshot:c};return T.queue=D,Uy(ob.bind(null,v,D,o),[o]),v.flags|=2048,uf(9,jd(),ab.bind(null,v,D,p,c),null),p},useId:function(){var o=ur(),c=sn.identifierPrefix;if(Un){var p=ho,v=fo;p=(v&~(1<<32-_t(v)-1)).toString(32)+p,c="«"+c+"R"+p,p=ls++,0<p&&(c+="H"+p.toString(32)),c+="»"}else p=nb++,c="«"+c+"r"+p.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:ky,useFormState:mb,useActionState:mb,useOptimistic:function(o){var c=ur();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Vp.bind(null,on,!0,p),p.dispatch=c,[o,c]},useMemoCache:By,useCacheRefresh:function(){return ur().memoizedState=wE.bind(null,on)}},Vy={readContext:Li,use:Fp,useCallback:xb,useContext:Li,useEffect:Fy,useImperativeHandle:bb,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Hy,useReducer:$l,useRef:Py,useState:function(){return $l(cl)},useDebugValue:zy,useDeferredValue:function(o,c){var p=ts();return Sb(p,Kn.memoizedState,o,c)},useTransition:function(){var o=$l(cl)[0],c=ts().memoizedState;return[typeof o=="boolean"?o:Ua(o),c]},useSyncExternalStore:rb,useId:Tb,useHostTransitionStatus:ky,useFormState:gb,useActionState:gb,useOptimistic:function(o,c){var p=ts();return ub(p,Kn,o,c)},useMemoCache:By,useCacheRefresh:Cb},Bb={readContext:Li,use:Fp,useCallback:xb,useContext:Li,useEffect:Fy,useImperativeHandle:bb,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Hy,useReducer:Iy,useRef:Py,useState:function(){return Iy(cl)},useDebugValue:zy,useDeferredValue:function(o,c){var p=ts();return Kn===null?kp(p,o,c):Sb(p,Kn.memoizedState,o,c)},useTransition:function(){var o=Iy(cl)[0],c=ts().memoizedState;return[typeof o=="boolean"?o:Ua(o),c]},useSyncExternalStore:rb,useId:Tb,useHostTransitionStatus:ky,useFormState:vb,useActionState:vb,useOptimistic:function(o,c){var p=ts();return Kn!==null?ub(p,Kn,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:By,useCacheRefresh:Cb},zc=null,Yd=0;function qd(o){var c=Yd;return Yd+=1,zc===null&&(zc=[]),Np(zc,o,c)}function df(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Xp(o,c){throw c.$$typeof===g?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Db(o){var c=o._init;return c(o._payload)}function Ib(o){function c(Me,ye){if(o){var Ie=Me.deletions;Ie===null?(Me.deletions=[ye],Me.flags|=16):Ie.push(ye)}}function p(Me,ye){if(!o)return null;for(;ye!==null;)c(Me,ye),ye=ye.sibling;return null}function v(Me){for(var ye=new Map;Me!==null;)Me.key!==null?ye.set(Me.key,Me):ye.set(Me.index,Me),Me=Me.sibling;return ye}function T(Me,ye){return Me=Vi(Me,ye),Me.index=0,Me.sibling=null,Me}function D(Me,ye,Ie){return Me.index=Ie,o?(Ie=Me.alternate,Ie!==null?(Ie=Ie.index,Ie<ye?(Me.flags|=67108866,ye):Ie):(Me.flags|=67108866,ye)):(Me.flags|=1048576,ye)}function V(Me){return o&&Me.alternate===null&&(Me.flags|=67108866),Me}function ee(Me,ye,Ie,nt){return ye===null||ye.tag!==6?(ye=Id(Ie,Me.mode,nt),ye.return=Me,ye):(ye=T(ye,Ie),ye.return=Me,ye)}function ue(Me,ye,Ie,nt){var Nt=Ie.type;return Nt===x?et(Me,ye,Ie.props.children,nt,Ie.key):ye!==null&&(ye.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===P&&Db(Nt)===ye.type)?(ye=T(ye,Ie.props),df(ye,Ie),ye.return=Me,ye):(ye=As(Ie.type,Ie.key,Ie.props,null,Me.mode,nt),df(ye,Ie),ye.return=Me,ye)}function Pe(Me,ye,Ie,nt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ie.containerInfo||ye.stateNode.implementation!==Ie.implementation?(ye=Tp(Ie,Me.mode,nt),ye.return=Me,ye):(ye=T(ye,Ie.children||[]),ye.return=Me,ye)}function et(Me,ye,Ie,nt,Nt){return ye===null||ye.tag!==7?(ye=Wl(Ie,Me.mode,nt,Nt),ye.return=Me,ye):(ye=T(ye,Ie),ye.return=Me,ye)}function it(Me,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Id(""+ye,Me.mode,Ie),ye.return=Me,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return Ie=As(ye.type,ye.key,ye.props,null,Me.mode,Ie),df(Ie,ye),Ie.return=Me,Ie;case b:return ye=Tp(ye,Me.mode,Ie),ye.return=Me,ye;case P:var nt=ye._init;return ye=nt(ye._payload),it(Me,ye,Ie)}if(ne(ye)||G(ye))return ye=Wl(ye,Me.mode,Ie,null),ye.return=Me,ye;if(typeof ye.then=="function")return it(Me,qd(ye),Ie);if(ye.$$typeof===w)return it(Me,Pd(Me,ye),Ie);Xp(Me,ye)}return null}function ke(Me,ye,Ie,nt){var Nt=ye!==null?ye.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Nt!==null?null:ee(Me,ye,""+Ie,nt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:return Ie.key===Nt?ue(Me,ye,Ie,nt):null;case b:return Ie.key===Nt?Pe(Me,ye,Ie,nt):null;case P:return Nt=Ie._init,Ie=Nt(Ie._payload),ke(Me,ye,Ie,nt)}if(ne(Ie)||G(Ie))return Nt!==null?null:et(Me,ye,Ie,nt,null);if(typeof Ie.then=="function")return ke(Me,ye,qd(Ie),nt);if(Ie.$$typeof===w)return ke(Me,ye,Pd(Me,Ie),nt);Xp(Me,Ie)}return null}function je(Me,ye,Ie,nt,Nt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Me=Me.get(Ie)||null,ee(ye,Me,""+nt,Nt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case y:return Me=Me.get(nt.key===null?Ie:nt.key)||null,ue(ye,Me,nt,Nt);case b:return Me=Me.get(nt.key===null?Ie:nt.key)||null,Pe(ye,Me,nt,Nt);case P:var Sn=nt._init;return nt=Sn(nt._payload),je(Me,ye,Ie,nt,Nt)}if(ne(nt)||G(nt))return Me=Me.get(Ie)||null,et(ye,Me,nt,Nt,null);if(typeof nt.then=="function")return je(Me,ye,Ie,qd(nt),Nt);if(nt.$$typeof===w)return je(Me,ye,Ie,Pd(ye,nt),Nt);Xp(ye,nt)}return null}function Zt(Me,ye,Ie,nt){for(var Nt=null,Sn=null,Ut=ye,Yt=ye=0,Qs=null;Ut!==null&&Yt<Ie.length;Yt++){Ut.index>Yt?(Qs=Ut,Ut=null):Qs=Ut.sibling;var Xn=ke(Me,Ut,Ie[Yt],nt);if(Xn===null){Ut===null&&(Ut=Qs);break}o&&Ut&&Xn.alternate===null&&c(Me,Ut),ye=D(Xn,ye,Yt),Sn===null?Nt=Xn:Sn.sibling=Xn,Sn=Xn,Ut=Qs}if(Yt===Ie.length)return p(Me,Ut),Un&&nl(Me,Yt),Nt;if(Ut===null){for(;Yt<Ie.length;Yt++)Ut=it(Me,Ie[Yt],nt),Ut!==null&&(ye=D(Ut,ye,Yt),Sn===null?Nt=Ut:Sn.sibling=Ut,Sn=Ut);return Un&&nl(Me,Yt),Nt}for(Ut=v(Ut);Yt<Ie.length;Yt++)Qs=je(Ut,Me,Yt,Ie[Yt],nt),Qs!==null&&(o&&Qs.alternate!==null&&Ut.delete(Qs.key===null?Yt:Qs.key),ye=D(Qs,ye,Yt),Sn===null?Nt=Qs:Sn.sibling=Qs,Sn=Qs);return o&&Ut.forEach(function(Rf){return c(Me,Rf)}),Un&&nl(Me,Yt),Nt}function Xt(Me,ye,Ie,nt){if(Ie==null)throw Error(i(151));for(var Nt=null,Sn=null,Ut=ye,Yt=ye=0,Qs=null,Xn=Ie.next();Ut!==null&&!Xn.done;Yt++,Xn=Ie.next()){Ut.index>Yt?(Qs=Ut,Ut=null):Qs=Ut.sibling;var Rf=ke(Me,Ut,Xn.value,nt);if(Rf===null){Ut===null&&(Ut=Qs);break}o&&Ut&&Rf.alternate===null&&c(Me,Ut),ye=D(Rf,ye,Yt),Sn===null?Nt=Rf:Sn.sibling=Rf,Sn=Rf,Ut=Qs}if(Xn.done)return p(Me,Ut),Un&&nl(Me,Yt),Nt;if(Ut===null){for(;!Xn.done;Yt++,Xn=Ie.next())Xn=it(Me,Xn.value,nt),Xn!==null&&(ye=D(Xn,ye,Yt),Sn===null?Nt=Xn:Sn.sibling=Xn,Sn=Xn);return Un&&nl(Me,Yt),Nt}for(Ut=v(Ut);!Xn.done;Yt++,Xn=Ie.next())Xn=je(Ut,Me,Yt,Xn.value,nt),Xn!==null&&(o&&Xn.alternate!==null&&Ut.delete(Xn.key===null?Yt:Xn.key),ye=D(Xn,ye,Yt),Sn===null?Nt=Xn:Sn.sibling=Xn,Sn=Xn);return o&&Ut.forEach(function(b6){return c(Me,b6)}),Un&&nl(Me,Yt),Nt}function gi(Me,ye,Ie,nt){if(typeof Ie=="object"&&Ie!==null&&Ie.type===x&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:e:{for(var Nt=Ie.key;ye!==null;){if(ye.key===Nt){if(Nt=Ie.type,Nt===x){if(ye.tag===7){p(Me,ye.sibling),nt=T(ye,Ie.props.children),nt.return=Me,Me=nt;break e}}else if(ye.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===P&&Db(Nt)===ye.type){p(Me,ye.sibling),nt=T(ye,Ie.props),df(nt,Ie),nt.return=Me,Me=nt;break e}p(Me,ye);break}else c(Me,ye);ye=ye.sibling}Ie.type===x?(nt=Wl(Ie.props.children,Me.mode,nt,Ie.key),nt.return=Me,Me=nt):(nt=As(Ie.type,Ie.key,Ie.props,null,Me.mode,nt),df(nt,Ie),nt.return=Me,Me=nt)}return V(Me);case b:e:{for(Nt=Ie.key;ye!==null;){if(ye.key===Nt)if(ye.tag===4&&ye.stateNode.containerInfo===Ie.containerInfo&&ye.stateNode.implementation===Ie.implementation){p(Me,ye.sibling),nt=T(ye,Ie.children||[]),nt.return=Me,Me=nt;break e}else{p(Me,ye);break}else c(Me,ye);ye=ye.sibling}nt=Tp(Ie,Me.mode,nt),nt.return=Me,Me=nt}return V(Me);case P:return Nt=Ie._init,Ie=Nt(Ie._payload),gi(Me,ye,Ie,nt)}if(ne(Ie))return Zt(Me,ye,Ie,nt);if(G(Ie)){if(Nt=G(Ie),typeof Nt!="function")throw Error(i(150));return Ie=Nt.call(Ie),Xt(Me,ye,Ie,nt)}if(typeof Ie.then=="function")return gi(Me,ye,qd(Ie),nt);if(Ie.$$typeof===w)return gi(Me,ye,Pd(Me,Ie),nt);Xp(Me,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,ye!==null&&ye.tag===6?(p(Me,ye.sibling),nt=T(ye,Ie),nt.return=Me,Me=nt):(p(Me,ye),nt=Id(Ie,Me.mode,nt),nt.return=Me,Me=nt),V(Me)):p(Me,ye)}return function(Me,ye,Ie,nt){try{Yd=0;var Nt=gi(Me,ye,Ie,nt);return zc=null,Nt}catch(Ut){if(Ut===Hd||Ut===Pa)throw Ut;var Sn=Mr(29,Ut,null,Me.mode);return Sn.lanes=nt,Sn.return=Me,Sn}finally{}}}var Hc=Ib(!0),Ob=Ib(!1),ri=ae(null),Fa=null;function ec(o){var c=o.alternate;Ae(Wi,Wi.current&1),Ae(ri,o),Fa===null&&(c===null||lf.current!==null||c.memoizedState!==null)&&(Fa=o)}function Nb(o){if(o.tag===22){if(Ae(Wi,Wi.current),Ae(ri,o),Fa===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Fa=o)}}else tc()}function tc(){Ae(Wi,Wi.current),Ae(ri,ri.current)}function go(o){_e(ri),Fa===o&&(Fa=null),_e(Wi)}var Wi=ae(0);function ul(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||jE(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function nc(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var fr={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Fi(),T=mo(v);T.payload=c,p!=null&&(T.callback=p),c=al(o,T,v),c!==null&&(hr(c,o,v),Fc(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Fi(),T=mo(v);T.tag=1,T.payload=c,p!=null&&(T.callback=p),c=al(o,T,v),c!==null&&(hr(c,o,v),Fc(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Fi(),v=mo(p);v.tag=2,c!=null&&(v.callback=c),c=al(o,v,p),c!==null&&(hr(c,o,p),Fc(c,o,p))}};function Lb(o,c,p,v,T,D,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,D,V):c.prototype&&c.prototype.isPureReactComponent?!Na(p,v)||!Na(T,D):!0}function Pb(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&fr.enqueueReplaceState(c,c.state,null)}function yo(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var T in o)p[T]===void 0&&(p[T]=o[T])}return p}var Gc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Kd(o){Gc(o)}function Yp(o){console.error(o)}function Ub(o){Gc(o)}function qp(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function ga(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Kp(o,c,p){return p=mo(p),p.tag=3,p.payload={element:null},p.callback=function(){qp(o,c)},p}function Fb(o){return o=mo(o),o.tag=3,o}function Jp(o,c,p,v){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var D=v.value;o.payload=function(){return T(D)},o.callback=function(){ga(c,p,v)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(o.callback=function(){ga(c,p,v),typeof T!="function"&&($r===null?$r=new Set([this]):$r.add(this));var ee=v.stack;this.componentDidCatch(v.value,{componentStack:ee!==null?ee:""})})}function BE(o,c,p,v,T){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&da(c,p,T,!0),p=ri.current,p!==null){switch(p.tag){case 13:return Fa===null?f():p.alternate===null&&bi===0&&(bi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,v===Gd?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),We(o,v,T)),!1;case 22:return p.flags|=65536,v===Gd?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),We(o,v,T)),!1}throw Error(i(435,p.tag))}return We(o,v,T),f(),!1}if(Un)return c=ri.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,v!==wp&&(o=Error(i(422),{cause:v}),Uc(Ls(o,p)))):(v!==wp&&(c=Error(i(423),{cause:v}),Uc(Ls(c,p))),o=o.current.alternate,o.flags|=65536,T&=-T,o.lanes|=T,v=Ls(v,p),T=Kp(o.stateNode,v,T),rf(o,T),bi!==4&&(bi=2)),!1;var D=Error(i(520),{cause:v});if(D=Ls(D,p),Wn===null?Wn=[D]:Wn.push(D),bi!==4&&(bi=2),c===null)return!0;v=Ls(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=T&-T,p.lanes|=o,o=Kp(p.stateNode,v,o),rf(p,o),!1;case 1:if(c=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&($r===null||!$r.has(D))))return p.flags|=65536,T&=-T,p.lanes|=T,T=Fb(T),Jp(T,o,p,v),rf(p,T),!1}p=p.return}while(p!==null);return!1}var zb=Error(i(461)),Es=!1;function Xi(o,c,p,v){c.child=o===null?Ob(c,null,p,v):Hc(c,o.child,p,v)}function Cr(o,c,p,v,T){p=p.render;var D=c.ref;if("ref"in v){var V={};for(var ee in v)ee!=="ref"&&(V[ee]=v[ee])}else V=v;return po(c),v=ll(o,c,p,V,D,T),ee=wy(),o!==null&&!Es?(Up(o,c,T),Ms(o,c,T)):(Un&&ee&&yy(c),c.flags|=1,Xi(o,c,v,T),c.child)}function wr(o,c,p,v,T){if(o===null){var D=p.type;return typeof D=="function"&&!Dd(D)&&D.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=D,jy(o,c,D,v,T)):(o=As(p.type,null,v,c,c.mode,T),o.ref=c.ref,o.return=c,c.child=o)}if(D=o.child,!Jd(o,T)){var V=D.memoizedProps;if(p=p.compare,p=p!==null?p:Na,p(V,v)&&o.ref===c.ref)return Ms(o,c,T)}return c.flags|=1,o=Vi(D,v),o.ref=c.ref,o.return=c,c.child=o}function jy(o,c,p,v,T){if(o!==null){var D=o.memoizedProps;if(Na(D,v)&&o.ref===c.ref)if(Es=!1,c.pendingProps=v=D,Jd(o,T))(o.flags&131072)!==0&&(Es=!0);else return c.lanes=o.lanes,Ms(o,c,T)}return hf(o,c,p,v,T)}function kc(o,c,p){var v=c.pendingProps,T=v.children,D=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=D!==null?D.baseLanes|p:p,o!==null){for(T=c.child=o.child,D=0;T!==null;)D=D|T.lanes|T.childLanes,T=T.sibling;c.childLanes=D&~v}else c.childLanes=0,c.child=null;return Vc(o,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&zd(c,D!==null?D.cachePool:null),D!==null?tb(c,D):Cy(),Nb(c);else return c.lanes=c.childLanes=536870912,Vc(o,c,D!==null?D.baseLanes|p:p,p)}else D!==null?(zd(c,D.cachePool),tb(c,D),tc(),c.memoizedState=null):(o!==null&&zd(c,null),Cy(),tc());return Xi(o,c,T,p),c.child}function Vc(o,c,p,v){var T=Jl();return T=T===null?null:{parent:$i._currentValue,pool:T},c.memoizedState={baseLanes:p,cachePool:T},o!==null&&zd(c,null),Cy(),Nb(c),o!==null&&da(o,c,v,!0),null}function jc(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function hf(o,c,p,v,T){return po(c),p=ll(o,c,p,v,void 0,T),v=wy(),o!==null&&!Es?(Up(o,c,T),Ms(o,c,T)):(Un&&v&&yy(c),c.flags|=1,Xi(o,c,p,T),c.child)}function Xr(o,c,p,v,T,D){return po(c),c.updateQueue=null,p=sb(c,v,p,T),ib(o),v=wy(),o!==null&&!Es?(Up(o,c,D),Ms(o,c,D)):(Un&&v&&yy(c),c.flags|=1,Xi(o,c,p,D),c.child)}function Yr(o,c,p,v,T){if(po(c),c.stateNode===null){var D=jl,V=p.contextType;typeof V=="object"&&V!==null&&(D=Li(V)),D=new p(v,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=fr,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=v,D.state=c.memoizedState,D.refs={},My(c),V=p.contextType,D.context=typeof V=="object"&&V!==null?Li(V):jl,D.state=c.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(nc(c,p,V,v),D.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(V=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),V!==D.state&&fr.enqueueReplaceState(D,D.state,null),af(c,v,D,T),kd(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){D=c.stateNode;var ee=c.memoizedProps,ue=yo(p,ee);D.props=ue;var Pe=D.context,et=p.contextType;V=jl,typeof et=="object"&&et!==null&&(V=Li(et));var it=p.getDerivedStateFromProps;et=typeof it=="function"||typeof D.getSnapshotBeforeUpdate=="function",ee=c.pendingProps!==ee,et||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ee||Pe!==V)&&Pb(c,D,v,V),rl=!1;var ke=c.memoizedState;D.state=ke,af(c,v,D,T),kd(),Pe=c.memoizedState,ee||ke!==Pe||rl?(typeof it=="function"&&(nc(c,p,it,v),Pe=c.memoizedState),(ue=rl||Lb(c,p,ue,v,ke,Pe,V))?(et||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Pe),D.props=v,D.state=Pe,D.context=V,v=ue):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{D=c.stateNode,qt(o,c),V=c.memoizedProps,et=yo(p,V),D.props=et,it=c.pendingProps,ke=D.context,Pe=p.contextType,ue=jl,typeof Pe=="object"&&Pe!==null&&(ue=Li(Pe)),ee=p.getDerivedStateFromProps,(Pe=typeof ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(V!==it||ke!==ue)&&Pb(c,D,v,ue),rl=!1,ke=c.memoizedState,D.state=ke,af(c,v,D,T),kd();var je=c.memoizedState;V!==it||ke!==je||rl||o!==null&&o.dependencies!==null&&Ld(o.dependencies)?(typeof ee=="function"&&(nc(c,p,ee,v),je=c.memoizedState),(et=rl||Lb(c,p,et,v,ke,je,ue)||o!==null&&o.dependencies!==null&&Ld(o.dependencies))?(Pe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,je,ue),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,je,ue)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||V===o.memoizedProps&&ke===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ke===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=je),D.props=v,D.state=je,D.context=ue,v=et):(typeof D.componentDidUpdate!="function"||V===o.memoizedProps&&ke===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ke===o.memoizedState||(c.flags|=1024),v=!1)}return D=v,jc(o,c),v=(c.flags&128)!==0,D||v?(D=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,o!==null&&v?(c.child=Hc(c,o.child,null,T),c.child=Hc(c,null,p,T)):Xi(o,c,p,T),c.memoizedState=D.state,o=c.child):o=Ms(o,c,T),o}function ic(o,c,p,v){return $u(),c.flags|=256,Xi(o,c,p,v),c.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ha(o){return{baseLanes:o,cachePool:Ip()}}function cs(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=xa),o}function pf(o,c,p){var v=c.pendingProps,T=!1,D=(c.flags&128)!==0,V;if((V=D)||(V=o!==null&&o.memoizedState===null?!1:(Wi.current&2)!==0),V&&(T=!0,c.flags&=-129),V=(c.flags&32)!==0,c.flags&=-33,o===null){if(Un){if(T?ec(c):tc(),Un){var ee=Di,ue;if(ue=ee){e:{for(ue=ee,ee=Vr;ue.nodeType!==8;){if(!ee){ee=null;break e}if(ue=gl(ue.nextSibling),ue===null){ee=null;break e}}ee=ue}ee!==null?(c.memoizedState={dehydrated:ee,treeContext:Xl!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},ue=Mr(18,null,null,0),ue.stateNode=ee,ue.return=c,c.child=ue,lr=c,Di=null,ue=!0):ue=!1}ue||Yl(c)}if(ee=c.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return jE(ee)?c.lanes=32:c.lanes=536870912,null;go(c)}return ee=v.children,v=v.fallback,T?(tc(),T=c.mode,ee=Wc({mode:"hidden",children:ee},T),v=Wl(v,T,p,null),ee.return=c,v.return=c,ee.sibling=v,c.child=ee,T=c.child,T.memoizedState=Ha(p),T.childLanes=cs(o,V,p),c.memoizedState=za,v):(ec(c),vo(c,ee))}if(ue=o.memoizedState,ue!==null&&(ee=ue.dehydrated,ee!==null)){if(D)c.flags&256?(ec(c),c.flags&=-257,c=Fs(o,c,p)):c.memoizedState!==null?(tc(),c.child=o.child,c.flags|=128,c=null):(tc(),T=v.fallback,ee=c.mode,v=Wc({mode:"visible",children:v.children},ee),T=Wl(T,ee,p,null),T.flags|=2,v.return=c,T.return=c,v.sibling=T,c.child=v,Hc(c,o.child,null,p),v=c.child,v.memoizedState=Ha(p),v.childLanes=cs(o,V,p),c.memoizedState=za,c=T);else if(ec(c),jE(ee)){if(V=ee.nextSibling&&ee.nextSibling.dataset,V)var Pe=V.dgst;V=Pe,v=Error(i(419)),v.stack="",v.digest=V,Uc({value:v,source:null,stack:null}),c=Fs(o,c,p)}else if(Es||da(o,c,p,!1),V=(p&o.childLanes)!==0,Es||V){if(V=sn,V!==null&&(v=p&-p,v=(v&42)!==0?1:tn(v),v=(v&(V.suspendedLanes|p))!==0?0:v,v!==0&&v!==ue.retryLane))throw ue.retryLane=v,tl(o,v),hr(V,o,v),zb;ee.data==="$?"||f(),c=Fs(o,c,p)}else ee.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ue.treeContext,Di=gl(ee.nextSibling),lr=c,Un=!0,fa=null,Vr=!1,o!==null&&(Ps[kr++]=fo,Ps[kr++]=ho,Ps[kr++]=Xl,fo=o.id,ho=o.overflow,Xl=c),c=vo(c,v.children),c.flags|=4096);return c}return T?(tc(),T=v.fallback,ee=c.mode,ue=o.child,Pe=ue.sibling,v=Vi(ue,{mode:"hidden",children:v.children}),v.subtreeFlags=ue.subtreeFlags&65011712,Pe!==null?T=Vi(Pe,T):(T=Wl(T,ee,p,null),T.flags|=2),T.return=c,v.return=c,v.sibling=T,c.child=v,v=T,T=c.child,ee=o.child.memoizedState,ee===null?ee=Ha(p):(ue=ee.cachePool,ue!==null?(Pe=$i._currentValue,ue=ue.parent!==Pe?{parent:Pe,pool:Pe}:ue):ue=Ip(),ee={baseLanes:ee.baseLanes|p,cachePool:ue}),T.memoizedState=ee,T.childLanes=cs(o,V,p),c.memoizedState=za,v):(ec(c),p=o.child,o=p.sibling,p=Vi(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(V=c.deletions,V===null?(c.deletions=[o],c.flags|=16):V.push(o)),c.child=p,c.memoizedState=null,p)}function vo(o,c){return c=Wc({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Wc(o,c){return o=Mr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Fs(o,c,p){return Hc(c,o.child,null,p),o=vo(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function zs(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),xy(o.return,c,p)}function Bn(o,c,p,v,T){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:T}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=p,D.tailMode=T)}function ya(o,c,p){var v=c.pendingProps,T=v.revealOrder,D=v.tail;if(Xi(o,c,v.children,p),v=Wi.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zs(o,p,c);else if(o.tag===19)zs(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(Ae(Wi,v),T){case"forwards":for(p=c.child,T=null;p!==null;)o=p.alternate,o!==null&&ul(o)===null&&(T=p),p=p.sibling;p=T,p===null?(T=c.child,c.child=null):(T=p.sibling,p.sibling=null),Bn(c,!1,T,p,D);break;case"backwards":for(p=null,T=c.child,c.child=null;T!==null;){if(o=T.alternate,o!==null&&ul(o)===null){c.child=T;break}o=T.sibling,T.sibling=p,p=T,T=o}Bn(c,!0,p,null,D);break;case"together":Bn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ms(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),ja|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(da(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=Vi(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Vi(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Jd(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Ld(o)))}function va(o,c,p){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),Kl(c,$i,o.memoizedState.cache),$u();break;case 27:case 5:Q(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:Kl(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ec(c),c.flags|=128,null):(p&c.child.childLanes)!==0?pf(o,c,p):(ec(c),o=Ms(o,c,p),o!==null?o.sibling:null);ec(c);break;case 19:var T=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(da(o,c,p,!1),v=(p&c.childLanes)!==0),T){if(v)return ya(o,c,p);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ae(Wi,Wi.current),v)break;return null;case 22:case 23:return c.lanes=0,kc(o,c,p);case 24:Kl(c,$i,o.memoizedState.cache)}return Ms(o,c,p)}function Xc(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Es=!0;else{if(!Jd(o,p)&&(c.flags&128)===0)return Es=!1,va(o,c,p);Es=(o.flags&131072)!==0}else Es=!1,Un&&(c.flags&1048576)!==0&&Cp(c,Zu,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,T=v._init;if(v=T(v._payload),c.type=v,typeof v=="function")Dd(v)?(o=yo(v,o),c.tag=1,c=Yr(null,c,v,o,p)):(c.tag=0,c=hf(null,c,v,o,p));else{if(v!=null){if(T=v.$$typeof,T===R){c.tag=11,c=Cr(null,c,v,o,p);break e}else if(T===U){c.tag=14,c=wr(null,c,v,o,p);break e}}throw c=ie(v)||v,Error(i(306,c,""))}}return c;case 0:return hf(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,T=yo(v,c.pendingProps),Yr(o,c,v,T,p);case 3:e:{if(xe(c,c.stateNode.containerInfo),o===null)throw Error(i(387));v=c.pendingProps;var D=c.memoizedState;T=D.element,qt(o,c),af(c,v,null,p);var V=c.memoizedState;if(v=V.cache,Kl(c,$i,v),v!==D.cache&&Nd(c,[$i],p,!0),kd(),v=V.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:V.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=ic(o,c,v,p);break e}else if(v!==T){T=Ls(Error(i(424)),c),Uc(T),c=ic(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Di=gl(o.firstChild),lr=c,Un=!0,fa=null,Vr=!0,p=Ob(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if($u(),v===T){c=Ms(o,c,p);break e}Xi(o,c,v,p)}c=c.child}return c;case 26:return jc(o,c),o===null?(p=HB(c.type,null,c.pendingProps,null))?c.memoizedState=p:Un||(p=c.type,o=c.pendingProps,v=Wb(Ue.current).createElement(p),v[$n]=c,v[_i]=o,pr(v,p,o),Xe(v),c.stateNode=v):c.memoizedState=HB(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Q(c),o===null&&Un&&(v=c.stateNode=UB(c.type,c.pendingProps,Ue.current),lr=c,Vr=!0,T=Di,Ef(c.type)?(WE=T,Di=gl(v.firstChild)):Di=T),Xi(o,c,c.pendingProps.children,p),jc(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Un&&((T=v=Di)&&(v=K5(v,c.type,c.pendingProps,Vr),v!==null?(c.stateNode=v,lr=c,Di=gl(v.firstChild),Vr=!1,T=!0):T=!1),T||Yl(c)),Q(c),T=c.type,D=c.pendingProps,V=o!==null?o.memoizedProps:null,v=D.children,GE(T,D)?v=null:V!==null&&GE(T,V)&&(c.flags|=32),c.memoizedState!==null&&(T=ll(o,c,EE,null,null,p),tv._currentValue=T),jc(o,c),Xi(o,c,v,p),c.child;case 6:return o===null&&Un&&((o=p=Di)&&(p=J5(p,c.pendingProps,Vr),p!==null?(c.stateNode=p,lr=c,Di=null,o=!0):o=!1),o||Yl(c)),null;case 13:return pf(o,c,p);case 4:return xe(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Hc(c,null,v,p):Xi(o,c,v,p),c.child;case 11:return Cr(o,c,c.type,c.pendingProps,p);case 7:return Xi(o,c,c.pendingProps,p),c.child;case 8:return Xi(o,c,c.pendingProps.children,p),c.child;case 12:return Xi(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Kl(c,c.type,v.value),Xi(o,c,v.children,p),c.child;case 9:return T=c.type._context,v=c.pendingProps.children,po(c),T=Li(T),v=v(T),c.flags|=1,Xi(o,c,v,p),c.child;case 14:return wr(o,c,c.type,c.pendingProps,p);case 15:return jy(o,c,c.type,c.pendingProps,p);case 19:return ya(o,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},o===null?(p=Wc(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Vi(o.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return kc(o,c,p);case 24:return po(c),v=Li($i),o===null?(T=Jl(),T===null&&(T=sn,D=Bp(),T.pooledCache=D,D.refCount++,D!==null&&(T.pooledCacheLanes|=p),T=D),c.memoizedState={parent:v,cache:T},My(c),Kl(c,$i,T)):((o.lanes&p)!==0&&(qt(o,c),af(c,null,null,p),kd()),T=o.memoizedState,D=c.memoizedState,T.parent!==v?(T={parent:v,cache:v},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),Kl(c,$i,v)):(v=D.cache,Kl(c,$i,v),v!==T.cache&&Nd(c,[$i],p,!0))),Xi(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ga(o){o.flags|=4}function Qd(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!WB(c)){if(c=ri.current,c!==null&&((zt&4194048)===zt?Fa!==null:(zt&62914560)!==zt&&(zt&536870912)===0||c!==Fa))throw pa=Gd,Ay;o.flags|=8192}}function fl(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?ot():536870912,o.lanes|=c,Nn|=c)}function Yc(o,c){if(!Un)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function di(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var T=o.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function Wy(o,c,p){var v=c.pendingProps;switch(vy(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(c),null;case 1:return di(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),sl($i),j(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(La(c)?Ga(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Vn())),di(c),null;case 26:return p=c.memoizedState,o===null?(Ga(c),p!==null?(di(c),Qd(c,p)):(di(c),c.flags&=-16777217)):p?p!==o.memoizedState?(Ga(c),di(c),Qd(c,p)):(di(c),c.flags&=-16777217):(o.memoizedProps!==v&&Ga(c),di(c),c.flags&=-16777217),null;case 27:oe(c),p=Ue.current;var T=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ga(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return di(c),null}o=ce.current,La(c)?Q_(c):(o=UB(T,v,p),c.stateNode=o,Ga(c))}return di(c),null;case 5:if(oe(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ga(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return di(c),null}if(o=ce.current,La(c))Q_(c);else{switch(T=Wb(Ue.current),o){case 1:o=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?T.createElement("select",{is:v.is}):T.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?T.createElement(p,{is:v.is}):T.createElement(p)}}o[$n]=c,o[_i]=v;e:for(T=c.child;T!==null;){if(T.tag===5||T.tag===6)o.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===c)break e;for(;T.sibling===null;){if(T.return===null||T.return===c)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}c.stateNode=o;e:switch(pr(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ga(c)}}return di(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Ga(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(o=Ue.current,La(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,T=lr,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}o[$n]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||BB(o.nodeValue,p)),o||Yl(c)}else o=Wb(o).createTextNode(v),o[$n]=c,c.stateNode=o}return di(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(T=La(c),v!==null&&v.dehydrated!==null){if(o===null){if(!T)throw Error(i(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[$n]=c}else $u(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;di(c),T=!1}else T=Vn(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(go(c),c):(go(c),null)}if(go(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=c.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool);var D=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==T&&(v.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),fl(c,c.updateQueue),di(c),null;case 4:return j(),o===null&&PE(c.stateNode.containerInfo),di(c),null;case 10:return sl(c.type),di(c),null;case 19:if(_e(Wi),T=c.memoizedState,T===null)return di(c),null;if(v=(c.flags&128)!==0,D=T.rendering,D===null)if(v)Yc(T,!1);else{if(bi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=ul(o),D!==null){for(c.flags|=128,Yc(T,!1),o=D.updateQueue,c.updateQueue=o,fl(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)gy(p,o),p=p.sibling;return Ae(Wi,Wi.current&1|2),c.child}o=o.sibling}T.tail!==null&&Ge()>Ks&&(c.flags|=128,v=!0,Yc(T,!1),c.lanes=4194304)}else{if(!v)if(o=ul(D),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,fl(c,o),Yc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!Un)return di(c),null}else 2*Ge()-T.renderingStartTime>Ks&&p!==536870912&&(c.flags|=128,v=!0,Yc(T,!1),c.lanes=4194304);T.isBackwards?(D.sibling=c.child,c.child=D):(o=T.last,o!==null?o.sibling=D:c.child=D,T.last=D)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=Ge(),c.sibling=null,o=Wi.current,Ae(Wi,v?o&1|2:o&1),c):(di(c),null);case 22:case 23:return go(c),Vd(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(di(c),c.subtreeFlags&6&&(c.flags|=8192)):di(c),p=c.updateQueue,p!==null&&fl(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&_e(ha),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),sl($i),di(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function mf(o,c){switch(vy(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return sl($i),j(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return oe(c),null;case 13:if(go(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));$u()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return _e(Wi),null;case 4:return j(),null;case 10:return sl(c.type),null;case 22:case 23:return go(c),Vd(),o!==null&&_e(ha),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return sl($i),null;case 25:return null;default:return null}}function gf(o,c){switch(vy(c),c.tag){case 3:sl($i),j();break;case 26:case 27:case 5:oe(c);break;case 4:j();break;case 13:go(c);break;case 19:_e(Wi);break;case 10:sl(c.type);break;case 22:case 23:go(c),Vd(),o!==null&&_e(ha);break;case 24:sl($i)}}function qc(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var T=v.next;p=T;do{if((p.tag&o)===o){v=void 0;var D=p.create,V=p.inst;v=D(),V.destroy=v}p=p.next}while(p!==T)}}catch(ee){ge(c,c.return,ee)}}function qr(o,c,p){try{var v=c.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var D=T.next;v=D;do{if((v.tag&o)===o){var V=v.inst,ee=V.destroy;if(ee!==void 0){V.destroy=void 0,T=c;var ue=p,Pe=ee;try{Pe()}catch(et){ge(T,ue,et)}}}v=v.next}while(v!==D)}}catch(et){ge(c,c.return,et)}}function Kc(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{eb(c,p)}catch(v){ge(o,o.return,v)}}}function dl(o,c,p){p.props=yo(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){ge(o,c,v)}}function Jc(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(T){ge(o,c,T)}}function _o(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(T){ge(o,c,T)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){ge(o,c,T)}else p.current=null}function yf(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(T){ge(o,o.return,T)}}function Zd(o,c,p){try{var v=o.stateNode;j5(v,o.type,p,c),v[_i]=c}catch(T){ge(o,o.return,T)}}function $d(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ef(o.type)||o.tag===4}function sc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||$d(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ef(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function rc(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=jb));else if(v!==4&&(v===27&&Ef(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(rc(o,c,p),o=o.sibling;o!==null;)rc(o,c,p),o=o.sibling}function ac(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Ef(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(ac(o,c,p),o=o.sibling;o!==null;)ac(o,c,p),o=o.sibling}function oc(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);pr(c,v,p),c[$n]=o,c[_i]=p}catch(D){ge(o,o.return,D)}}var bo=!1,hi=!1,vf=!1,Kr=typeof WeakSet=="function"?WeakSet:Set,ai=null;function us(o,c){if(o=o.containerInfo,zE=Qb,o=cy(o),Cd(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var T=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var V=0,ee=-1,ue=-1,Pe=0,et=0,it=o,ke=null;t:for(;;){for(var je;it!==p||T!==0&&it.nodeType!==3||(ee=V+T),it!==D||v!==0&&it.nodeType!==3||(ue=V+v),it.nodeType===3&&(V+=it.nodeValue.length),(je=it.firstChild)!==null;)ke=it,it=je;for(;;){if(it===o)break t;if(ke===p&&++Pe===T&&(ee=V),ke===D&&++et===v&&(ue=V),(je=it.nextSibling)!==null)break;it=ke,ke=it.parentNode}it=je}p=ee===-1||ue===-1?null:{start:ee,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(HE={focusedElem:o,selectionRange:p},Qb=!1,ai=c;ai!==null;)if(c=ai,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,ai=o;else for(;ai!==null;){switch(c=ai,D=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,p=c,T=D.memoizedProps,D=D.memoizedState,v=p.stateNode;try{var Zt=yo(p.type,T,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(Zt,D),v.__reactInternalSnapshotBeforeUpdate=o}catch(Xt){ge(p,p.return,Xt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)VE(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":VE(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,ai=o;break}ai=c.return}}function hl(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:dr(o,p),v&4&&qc(5,p);break;case 1:if(dr(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(V){ge(p,p.return,V)}else{var T=yo(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(T,c,o.__reactInternalSnapshotBeforeUpdate)}catch(V){ge(p,p.return,V)}}v&64&&Kc(p),v&512&&Jc(p,p.return);break;case 3:if(dr(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{eb(o,c)}catch(V){ge(p,p.return,V)}}break;case 27:c===null&&v&4&&oc(p);case 26:case 5:dr(o,p),c===null&&v&4&&yf(p),v&512&&Jc(p,p.return);break;case 12:dr(o,p);break;case 13:dr(o,p),v&4&&lc(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=xi.bind(null,p),Q5(o,p))));break;case 22:if(v=p.memoizedState!==null||bo,!v){c=c!==null&&c.memoizedState!==null||hi,T=bo;var D=hi;bo=v,(hi=c)&&!D?xo(o,p,(p.subtreeFlags&8772)!==0):dr(o,p),bo=T,hi=D}break;case 30:break;default:dr(o,p)}}function dn(o){var c=o.alternate;c!==null&&(o.alternate=null,dn(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Qt(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ht=null,On=!1;function _a(o,c,p){for(p=p.child;p!==null;)Qc(o,c,p),p=p.sibling}function Qc(o,c,p){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(He,p)}catch{}switch(p.tag){case 26:hi||_o(p,c),_a(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:hi||_o(p,c);var v=Ht,T=On;Ef(p.type)&&(Ht=p.stateNode,On=!1),_a(o,c,p),Qy(p.stateNode),Ht=v,On=T;break;case 5:hi||_o(p,c);case 6:if(v=Ht,T=On,Ht=null,_a(o,c,p),Ht=v,On=T,Ht!==null)if(On)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(p.stateNode)}catch(D){ge(p,c,D)}else try{Ht.removeChild(p.stateNode)}catch(D){ge(p,c,D)}break;case 18:Ht!==null&&(On?(o=Ht,LB(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),rv(o)):LB(Ht,p.stateNode));break;case 4:v=Ht,T=On,Ht=p.stateNode.containerInfo,On=!0,_a(o,c,p),Ht=v,On=T;break;case 0:case 11:case 14:case 15:hi||qr(2,p,c),hi||qr(4,p,c),_a(o,c,p);break;case 1:hi||(_o(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&dl(p,c,v)),_a(o,c,p);break;case 21:_a(o,c,p);break;case 22:hi=(v=hi)||p.memoizedState!==null,_a(o,c,p),hi=v;break;default:_a(o,c,p)}}function lc(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{rv(o)}catch(p){ge(c,c.return,p)}}function Qp(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Kr),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Kr),c;default:throw Error(i(435,o.tag))}}function Zc(o,c){var p=Qp(o);c.forEach(function(v){var T=Kt.bind(null,o,v);p.has(v)||(p.add(v),v.then(T,T))})}function Ts(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var T=p[v],D=o,V=c,ee=V;e:for(;ee!==null;){switch(ee.tag){case 27:if(Ef(ee.type)){Ht=ee.stateNode,On=!1;break e}break;case 5:Ht=ee.stateNode,On=!1;break e;case 3:case 4:Ht=ee.stateNode.containerInfo,On=!0;break e}ee=ee.return}if(Ht===null)throw Error(i(160));Qc(D,V,T),Ht=null,On=!1,D=T.alternate,D!==null&&(D.return=null),T.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Zp(c,o),c=c.sibling}var ka=null;function Zp(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ts(c,o),Pi(o),v&4&&(qr(3,o,o.return),qc(3,o),qr(5,o,o.return));break;case 1:Ts(c,o),Pi(o),v&512&&(hi||p===null||_o(p,p.return)),v&64&&bo&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var T=ka;if(Ts(c,o),Pi(o),v&512&&(hi||p===null||_o(p,p.return)),v&4){var D=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":D=T.getElementsByTagName("title")[0],(!D||D[_s]||D[$n]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=T.createElement(v),T.head.insertBefore(D,T.querySelector("head > title"))),pr(D,v,p),D[$n]=o,Xe(D),v=D;break e;case"link":var V=VB("link","href",T).get(v+(p.href||""));if(V){for(var ee=0;ee<V.length;ee++)if(D=V[ee],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(ee,1);break t}}D=T.createElement(v),pr(D,v,p),T.head.appendChild(D);break;case"meta":if(V=VB("meta","content",T).get(v+(p.content||""))){for(ee=0;ee<V.length;ee++)if(D=V[ee],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(ee,1);break t}}D=T.createElement(v),pr(D,v,p),T.head.appendChild(D);break;default:throw Error(i(468,v))}D[$n]=o,Xe(D),v=D}o.stateNode=v}else jB(T,o.type,o.stateNode);else o.stateNode=kB(T,v,o.memoizedProps);else D!==v?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,v===null?jB(T,o.type,o.stateNode):kB(T,v,o.memoizedProps)):v===null&&o.stateNode!==null&&Zd(o,o.memoizedProps,p.memoizedProps)}break;case 27:Ts(c,o),Pi(o),v&512&&(hi||p===null||_o(p,p.return)),p!==null&&v&4&&Zd(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Ts(c,o),Pi(o),v&512&&(hi||p===null||_o(p,p.return)),o.flags&32){T=o.stateNode;try{rr(T,"")}catch(je){ge(o,o.return,je)}}v&4&&o.stateNode!=null&&(T=o.memoizedProps,Zd(o,T,p!==null?p.memoizedProps:T)),v&1024&&(vf=!0);break;case 6:if(Ts(c,o),Pi(o),v&4){if(o.stateNode===null)throw Error(i(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(je){ge(o,o.return,je)}}break;case 3:if(qb=null,T=ka,ka=Xb(c.containerInfo),Ts(c,o),ka=T,Pi(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{rv(c.containerInfo)}catch(je){ge(o,o.return,je)}vf&&(vf=!1,cc(o));break;case 4:v=ka,ka=Xb(o.stateNode.containerInfo),Ts(c,o),Pi(o),ka=v;break;case 12:Ts(c,o),Pi(o);break;case 13:Ts(c,o),Pi(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(ti=Ge()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Zc(o,v)));break;case 22:T=o.memoizedState!==null;var ue=p!==null&&p.memoizedState!==null,Pe=bo,et=hi;if(bo=Pe||T,hi=et||ue,Ts(c,o),hi=et,bo=Pe,Pi(o),v&8192)e:for(c=o.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(p===null||ue||bo||hi||Jr(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){ue=p=c;try{if(D=ue.stateNode,T)V=D.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ee=ue.stateNode;var it=ue.memoizedProps.style,ke=it!=null&&it.hasOwnProperty("display")?it.display:null;ee.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(je){ge(ue,ue.return,je)}}}else if(c.tag===6){if(p===null){ue=c;try{ue.stateNode.nodeValue=T?"":ue.memoizedProps}catch(je){ge(ue,ue.return,je)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Zc(o,p))));break;case 19:Ts(c,o),Pi(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Zc(o,v)));break;case 30:break;case 21:break;default:Ts(c,o),Pi(o)}}function Pi(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if($d(v)){p=v;break}v=v.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var T=p.stateNode,D=sc(o);ac(o,D,T);break;case 5:var V=p.stateNode;p.flags&32&&(rr(V,""),p.flags&=-33);var ee=sc(o);ac(o,ee,V);break;case 3:case 4:var ue=p.stateNode.containerInfo,Pe=sc(o);rc(o,Pe,ue);break;default:throw Error(i(161))}}catch(et){ge(o,o.return,et)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function cc(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;cc(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function dr(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)hl(o,c.alternate,c),c=c.sibling}function Jr(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:qr(4,c,c.return),Jr(c);break;case 1:_o(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&dl(c,c.return,p),Jr(c);break;case 27:Qy(c.stateNode);case 26:case 5:_o(c,c.return),Jr(c);break;case 22:c.memoizedState===null&&Jr(c);break;case 30:Jr(c);break;default:Jr(c)}o=o.sibling}}function xo(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,T=o,D=c,V=D.flags;switch(D.tag){case 0:case 11:case 15:xo(T,D,p),qc(4,D);break;case 1:if(xo(T,D,p),v=D,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Pe){ge(v,v.return,Pe)}if(v=D,T=v.updateQueue,T!==null){var ee=v.stateNode;try{var ue=T.shared.hiddenCallbacks;if(ue!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ue.length;T++)of(ue[T],ee)}catch(Pe){ge(v,v.return,Pe)}}p&&V&64&&Kc(D),Jc(D,D.return);break;case 27:oc(D);case 26:case 5:xo(T,D,p),p&&v===null&&V&4&&yf(D),Jc(D,D.return);break;case 12:xo(T,D,p);break;case 13:xo(T,D,p),p&&V&4&&lc(T,D);break;case 22:D.memoizedState===null&&xo(T,D,p),Jc(D,D.return);break;case 30:break;default:xo(T,D,p)}c=c.sibling}}function $p(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&ef(p))}function em(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ef(o))}function oi(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tm(o,c,p,v),c=c.sibling}function tm(o,c,p,v){var T=c.flags;switch(c.tag){case 0:case 11:case 15:oi(o,c,p,v),T&2048&&qc(9,c);break;case 1:oi(o,c,p,v);break;case 3:oi(o,c,p,v),T&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ef(o)));break;case 12:if(T&2048){oi(o,c,p,v),o=c.stateNode;try{var D=c.memoizedProps,V=D.id,ee=D.onPostCommit;typeof ee=="function"&&ee(V,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ue){ge(c,c.return,ue)}}else oi(o,c,p,v);break;case 13:oi(o,c,p,v);break;case 23:break;case 22:D=c.stateNode,V=c.alternate,c.memoizedState!==null?D._visibility&2?oi(o,c,p,v):Va(o,c):D._visibility&2?oi(o,c,p,v):(D._visibility|=2,pl(o,c,p,v,(c.subtreeFlags&10256)!==0)),T&2048&&$p(V,c);break;case 24:oi(o,c,p,v),T&2048&&em(c.alternate,c);break;default:oi(o,c,p,v)}}function pl(o,c,p,v,T){for(T=T&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var D=o,V=c,ee=p,ue=v,Pe=V.flags;switch(V.tag){case 0:case 11:case 15:pl(D,V,ee,ue,T),qc(8,V);break;case 23:break;case 22:var et=V.stateNode;V.memoizedState!==null?et._visibility&2?pl(D,V,ee,ue,T):Va(D,V):(et._visibility|=2,pl(D,V,ee,ue,T)),T&&Pe&2048&&$p(V.alternate,V);break;case 24:pl(D,V,ee,ue,T),T&&Pe&2048&&em(V.alternate,V);break;default:pl(D,V,ee,ue,T)}c=c.sibling}}function Va(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,T=v.flags;switch(v.tag){case 22:Va(p,v),T&2048&&$p(v.alternate,v);break;case 24:Va(p,v),T&2048&&em(v.alternate,v);break;default:Va(p,v)}c=c.sibling}}var Qr=8192;function _f(o){if(o.subtreeFlags&Qr)for(o=o.child;o!==null;)Hb(o),o=o.sibling}function Hb(o){switch(o.tag){case 26:_f(o),o.flags&Qr&&o.memoizedState!==null&&u6(ka,o.memoizedState,o.memoizedProps);break;case 5:_f(o);break;case 3:case 4:var c=ka;ka=Xb(o.stateNode.containerInfo),_f(o),ka=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Qr,Qr=16777216,_f(o),Qr=c):_f(o));break;default:_f(o)}}function Gb(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function pi(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];ai=v,Ao(v,o)}Gb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Xy(o),o=o.sibling}function Xy(o){switch(o.tag){case 0:case 11:case 15:pi(o),o.flags&2048&&qr(9,o,o.return);break;case 3:pi(o);break;case 12:pi(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,So(o)):pi(o);break;default:pi(o)}}function So(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];ai=v,Ao(v,o)}Gb(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:qr(8,c,c.return),So(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,So(c));break;default:So(c)}o=o.sibling}}function Ao(o,c){for(;ai!==null;){var p=ai;switch(p.tag){case 0:case 11:case 15:qr(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ef(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,ai=v;else e:for(p=o;ai!==null;){v=ai;var T=v.sibling,D=v.return;if(dn(v),v===p){ai=null;break e}if(T!==null){T.return=D,ai=T;break e}ai=D}}}var Ui={getCacheForType:function(o){var c=Li($i),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},Yy=typeof WeakMap=="function"?WeakMap:Map,jn=0,sn=null,gn=null,zt=0,un=0,Ii=null,Zr=!1,bf=!1,xf=!1,ba=0,bi=0,ja=0,Eo=0,$c=0,xa=0,Nn=0,Wn=null,Vt=null,xn=!1,ti=0,Ks=1/0,Sa=null,$r=null,fs=0,Js=null,li=null,ea=0,ml=0,eh=null,ta=null,Mo=0,eu=null;function Fi(){if((jn&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var o=an;return o!==0?o:IE()}return Wt()}function nm(){xa===0&&(xa=(zt&536870912)===0||Un?de():536870912);var o=ri.current;return o!==null&&(o.flags|=32),xa}function hr(o,c,p){(o===sn&&(un===2||un===9)||o.cancelPendingCommit!==null)&&(fc(o,0),Wa(o,zt,xa,!1)),Je(o,p),((jn&2)===0||o!==sn)&&(o===sn&&((jn&2)===0&&(Eo|=p),bi===4&&Wa(o,zt,xa,!1)),pc(o))}function Sf(o,c,p){if((jn&6)!==0)throw Error(i(327));var v=!p&&(c&124)===0&&(c&o.expiredLanes)===0||Oe(o,c),T=v?C(o,c):h(o,c,!0),D=v;do{if(T===0){bf&&!v&&Wa(o,c,0,!1);break}else{if(p=o.current.alternate,D&&!uc(p)){T=h(o,c,!1),D=!1;continue}if(T===2){if(D=c,o.errorRecoveryDisabledLanes&D)var V=0;else V=o.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){c=V;e:{var ee=o;T=Wn;var ue=ee.current.memoizedState.isDehydrated;if(ue&&(fc(ee,V).flags|=256),V=h(ee,V,!1),V!==2){if(xf&&!ue){ee.errorRecoveryDisabledLanes|=D,Eo|=D,T=4;break e}D=Vt,Vt=T,D!==null&&(Vt===null?Vt=D:Vt.push.apply(Vt,D))}T=V}if(D=!1,T!==2)continue}}if(T===1){fc(o,0),Wa(o,c,0,!0);break}e:{switch(v=o,D=T,D){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Wa(v,c,xa,!Zr);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(T=ti+300-Ge(),10<T)){if(Wa(v,c,xa,!Zr),le(v,0,!0)!==0)break e;v.timeoutHandle=OB(th.bind(null,v,p,Vt,Sa,xn,c,xa,Eo,Nn,Zr,D,2,-0,0),T);break e}th(v,p,Vt,Sa,xn,c,xa,Eo,Nn,Zr,D,0,-0,0)}}break}while(!0);pc(o)}function th(o,c,p,v,T,D,V,ee,ue,Pe,et,it,ke,je){if(o.timeoutHandle=-1,it=c.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(ev={stylesheets:null,count:0,unsuspend:c6},Hb(c),it=f6(),it!==null)){o.cancelPendingCommit=it(dt.bind(null,o,c,D,p,v,T,V,ee,ue,et,1,ke,je)),Wa(o,D,V,!Pe);return}dt(o,c,D,p,v,T,V,ee,ue)}function uc(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var T=p[v],D=T.getSnapshot;T=T.value;try{if(!Sr(D(),T))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Wa(o,c,p,v){c&=~$c,c&=~Eo,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var T=c;0<T;){var D=31-_t(T),V=1<<D;v[D]=-1,T&=~V}p!==0&&pt(o,p,c)}function To(){return(jn&6)===0?(qy(0),!1):!0}function tu(){if(gn!==null){if(un===0)var o=gn.return;else o=gn,il=ql=null,Ry(o),zc=null,Yd=0,o=gn;for(;o!==null;)gf(o.alternate,o),o=o.return;gn=null}}function fc(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,X5(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),tu(),sn=o,gn=p=Vi(o.current,null),zt=c,un=0,Ii=null,Zr=!1,bf=Oe(o,c),xf=!1,Nn=xa=$c=Eo=ja=bi=0,Vt=Wn=null,xn=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var T=31-_t(v),D=1<<T;c|=o[T],v&=~D}return ba=c,Bd(),p}function im(o,c){on=null,H.H=Xd,c===Hd||c===Pa?(c=Ey(),un=3):c===Ay?(c=Ey(),un=4):un=c===zb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ii=c,gn===null&&(bi=1,qp(o,Ls(c,o.current)))}function Af(){var o=H.H;return H.H=Xd,o===null?Xd:o}function sm(){var o=H.A;return H.A=Ui,o}function f(){bi=4,Zr||(zt&4194048)!==zt&&ri.current!==null||(bf=!0),(ja&134217727)===0&&(Eo&134217727)===0||sn===null||Wa(sn,zt,xa,!1)}function h(o,c,p){var v=jn;jn|=2;var T=Af(),D=sm();(sn!==o||zt!==c)&&(Sa=null,fc(o,c)),c=!1;var V=bi;e:do try{if(un!==0&&gn!==null){var ee=gn,ue=Ii;switch(un){case 8:tu(),V=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(c=!0);var Pe=un;if(un=0,Ii=null,fe(o,ee,ue,Pe),p&&bf){V=0;break e}break;default:Pe=un,un=0,Ii=null,fe(o,ee,ue,Pe)}}_(),V=bi;break}catch(et){im(o,et)}while(!0);return c&&o.shellSuspendCounter++,il=ql=null,jn=v,H.H=T,H.A=D,gn===null&&(sn=null,zt=0,Bd()),V}function _(){for(;gn!==null;)z(gn)}function C(o,c){var p=jn;jn|=2;var v=Af(),T=sm();sn!==o||zt!==c?(Sa=null,Ks=Ge()+500,fc(o,c)):bf=Oe(o,c);e:do try{if(un!==0&&gn!==null){c=gn;var D=Ii;t:switch(un){case 1:un=0,Ii=null,fe(o,c,D,1);break;case 2:case 9:if(Op(D)){un=0,Ii=null,te(c);break}c=function(){un!==2&&un!==9||sn!==o||(un=7),pc(o)},D.then(c,c);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:Op(D)?(un=0,Ii=null,te(c)):(un=0,Ii=null,fe(o,c,D,7));break;case 5:var V=null;switch(gn.tag){case 26:V=gn.memoizedState;case 5:case 27:var ee=gn;if(!V||WB(V)){un=0,Ii=null;var ue=ee.sibling;if(ue!==null)gn=ue;else{var Pe=ee.return;Pe!==null?(gn=Pe,we(Pe)):gn=null}break t}}un=0,Ii=null,fe(o,c,D,5);break;case 6:un=0,Ii=null,fe(o,c,D,6);break;case 8:tu(),bi=6;break e;default:throw Error(i(462))}}I();break}catch(et){im(o,et)}while(!0);return il=ql=null,H.H=v,H.A=T,jn=p,gn!==null?0:(sn=null,zt=0,Bd(),bi)}function I(){for(;gn!==null&&!ze();)z(gn)}function z(o){var c=Xc(o.alternate,o,ba);o.memoizedProps=o.pendingProps,c===null?we(o):gn=c}function te(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Xr(p,c,c.pendingProps,c.type,void 0,zt);break;case 11:c=Xr(p,c,c.pendingProps,c.type.render,c.ref,zt);break;case 5:Ry(c);default:gf(p,c),c=gn=gy(c,ba),c=Xc(p,c,ba)}o.memoizedProps=o.pendingProps,c===null?we(o):gn=c}function fe(o,c,p,v){il=ql=null,Ry(c),zc=null,Yd=0;var T=c.return;try{if(BE(o,T,c,p,zt)){bi=1,qp(o,Ls(p,o.current)),gn=null;return}}catch(D){if(T!==null)throw gn=T,D;bi=1,qp(o,Ls(p,o.current)),gn=null;return}c.flags&32768?(Un||v===1?o=!0:bf||(zt&536870912)!==0?o=!1:(Zr=o=!0,(v===2||v===9||v===3||v===6)&&(v=ri.current,v!==null&&v.tag===13&&(v.flags|=16384))),$e(c,o)):we(c)}function we(o){var c=o;do{if((c.flags&32768)!==0){$e(c,Zr);return}o=c.return;var p=Wy(c.alternate,c,ba);if(p!==null){gn=p;return}if(c=c.sibling,c!==null){gn=c;return}gn=c=o}while(c!==null);bi===0&&(bi=5)}function $e(o,c){do{var p=mf(o.alternate,o);if(p!==null){p.flags&=32767,gn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){gn=o;return}gn=o=p}while(o!==null);bi=6,gn=null}function dt(o,c,p,v,T,D,V,ee,ue){o.cancelPendingCommit=null;do dc();while(fs!==0);if((jn&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(D=c.lanes|c.childLanes,D|=Ep,ht(o,p,D,V,ee,ue),o===sn&&(gn=sn=null,zt=0),li=c,Js=o,ea=p,ml=D,eh=T,ta=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Fn(Z,function(){return hc(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=H.T,H.T=null,T=q.p,q.p=2,V=jn,jn|=4;try{us(o,c,p)}finally{jn=V,q.p=T,H.T=v}}fs=1,Ct(),Rt(),rn()}}function Ct(){if(fs===1){fs=0;var o=Js,c=li,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var v=q.p;q.p=2;var T=jn;jn|=4;try{Zp(c,o);var D=HE,V=cy(o.containerInfo),ee=D.focusedElem,ue=D.selectionRange;if(V!==ee&&ee&&ee.ownerDocument&&ly(ee.ownerDocument.documentElement,ee)){if(ue!==null&&Cd(ee)){var Pe=ue.start,et=ue.end;if(et===void 0&&(et=Pe),"selectionStart"in ee)ee.selectionStart=Pe,ee.selectionEnd=Math.min(et,ee.value.length);else{var it=ee.ownerDocument||document,ke=it&&it.defaultView||window;if(ke.getSelection){var je=ke.getSelection(),Zt=ee.textContent.length,Xt=Math.min(ue.start,Zt),gi=ue.end===void 0?Xt:Math.min(ue.end,Zt);!je.extend&&Xt>gi&&(V=gi,gi=Xt,Xt=V);var Me=oy(ee,Xt),ye=oy(ee,gi);if(Me&&ye&&(je.rangeCount!==1||je.anchorNode!==Me.node||je.anchorOffset!==Me.offset||je.focusNode!==ye.node||je.focusOffset!==ye.offset)){var Ie=it.createRange();Ie.setStart(Me.node,Me.offset),je.removeAllRanges(),Xt>gi?(je.addRange(Ie),je.extend(ye.node,ye.offset)):(Ie.setEnd(ye.node,ye.offset),je.addRange(Ie))}}}}for(it=[],je=ee;je=je.parentNode;)je.nodeType===1&&it.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<it.length;ee++){var nt=it[ee];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Qb=!!zE,HE=zE=null}finally{jn=T,q.p=v,H.T=p}}o.current=c,fs=2}}function Rt(){if(fs===2){fs=0;var o=Js,c=li,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var v=q.p;q.p=2;var T=jn;jn|=4;try{hl(o,c.alternate,c)}finally{jn=T,q.p=v,H.T=p}}fs=3}}function rn(){if(fs===4||fs===3){fs=0,De();var o=Js,c=li,p=ea,v=ta;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?fs=5:(fs=0,li=Js=null,na(o,o.pendingLanes));var T=o.pendingLanes;if(T===0&&($r=null),En(p),c=c.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(He,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=H.T,T=q.p,q.p=2,H.T=null;try{for(var D=o.onRecoverableError,V=0;V<v.length;V++){var ee=v[V];D(ee.value,{componentStack:ee.stack})}}finally{H.T=c,q.p=T}}(ea&3)!==0&&dc(),pc(o),T=o.pendingLanes,(p&4194090)!==0&&(T&42)!==0?o===eu?Mo++:(Mo=0,eu=o):Mo=0,qy(0)}}function na(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ef(c)))}function dc(o){return Ct(),Rt(),rn(),hc()}function hc(){if(fs!==5)return!1;var o=Js,c=ml;ml=0;var p=En(ea),v=H.T,T=q.p;try{q.p=32>p?32:p,H.T=null,p=eh,eh=null;var D=Js,V=ea;if(fs=0,li=Js=null,ea=0,(jn&6)!==0)throw Error(i(331));var ee=jn;if(jn|=4,Xy(D.current),tm(D,D.current,V,p),jn=ee,qy(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(He,D)}catch{}return!0}finally{q.p=T,H.T=v,na(o,c)}}function Fe(o,c,p){c=Ls(p,c),c=Kp(o.stateNode,c,2),o=al(o,c,2),o!==null&&(Je(o,2),pc(o))}function ge(o,c,p){if(o.tag===3)Fe(o,o,p);else for(;c!==null;){if(c.tag===3){Fe(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&($r===null||!$r.has(v))){o=Ls(p,o),p=Fb(2),v=al(c,p,2),v!==null&&(Jp(p,v,c,o),Je(v,2),pc(v));break}}c=c.return}}function We(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Yy;var T=new Set;v.set(c,T)}else T=v.get(c),T===void 0&&(T=new Set,v.set(c,T));T.has(p)||(xf=!0,T.add(p),o=lt.bind(null,o,c,p),c.then(o,o))}function lt(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,sn===o&&(zt&p)===p&&(bi===4||bi===3&&(zt&62914560)===zt&&300>Ge()-ti?(jn&2)===0&&fc(o,0):$c|=p,Nn===zt&&(Nn=0)),pc(o)}function Pt(o,c){c===0&&(c=ot()),o=tl(o,c),o!==null&&(Je(o,c),pc(o))}function xi(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),Pt(o,p)}function Kt(o,c){var p=0;switch(o.tag){case 13:var v=o.stateNode,T=o.memoizedState;T!==null&&(p=T.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),Pt(o,p)}function Fn(o,c){return Se(o,c)}var Yi=null,_n=null,Co=!1,rm=!1,DE=!1,nh=0;function pc(o){o!==_n&&o.next===null&&(_n===null?Yi=_n=o:_n=_n.next=o),rm=!0,Co||(Co=!0,U5())}function qy(o,c){if(!DE&&rm){DE=!0;do for(var p=!1,v=Yi;v!==null;){if(o!==0){var T=v.pendingLanes;if(T===0)var D=0;else{var V=v.suspendedLanes,ee=v.pingedLanes;D=(1<<31-_t(42|o)+1)-1,D&=T&~(V&~ee),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,AB(v,D))}else D=zt,D=le(v,v===sn?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||Oe(v,D)||(p=!0,AB(v,D));v=v.next}while(p);DE=!1}}function P5(){bB()}function bB(){rm=Co=!1;var o=0;nh!==0&&(W5()&&(o=nh),nh=0);for(var c=Ge(),p=null,v=Yi;v!==null;){var T=v.next,D=xB(v,c);D===0?(v.next=null,p===null?Yi=T:p.next=T,T===null&&(_n=p)):(p=v,(o!==0||(D&3)!==0)&&(rm=!0)),v=T}qy(o)}function xB(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,T=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var V=31-_t(D),ee=1<<V,ue=T[V];ue===-1?((ee&p)===0||(ee&v)!==0)&&(T[V]=ft(ee,c)):ue<=c&&(o.expiredLanes|=ee),D&=~ee}if(c=sn,p=zt,p=le(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(un===2||un===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&W(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Oe(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&W(v),En(p)){case 2:case 8:p=Te;break;case 32:p=Z;break;case 268435456:p=me;break;default:p=Z}return v=SB.bind(null,o),p=Se(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&W(v),o.callbackPriority=2,o.callbackNode=null,2}function SB(o,c){if(fs!==0&&fs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(dc()&&o.callbackNode!==p)return null;var v=zt;return v=le(o,o===sn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(Sf(o,v,c),xB(o,Ge()),o.callbackNode!=null&&o.callbackNode===p?SB.bind(null,o):null)}function AB(o,c){if(dc())return null;Sf(o,c,!0)}function U5(){Y5(function(){(jn&6)!==0?Se(at,P5):bB()})}function IE(){return nh===0&&(nh=de()),nh}function EB(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:pd(""+o)}function MB(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function F5(o,c,p,v,T){if(c==="submit"&&p&&p.stateNode===T){var D=EB((T[_i]||null).action),V=v.submitter;V&&(c=(c=V[_i]||null)?EB(c.formAction):V.getAttribute("formAction"),c!==null&&(D=c,V=null));var ee=new Gu("action","action",null,v,T);o.push({event:ee,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(nh!==0){var ue=V?MB(T,V):new FormData(T);Gy(p,{pending:!0,data:ue,method:T.method,action:D},null,ue)}}else typeof D=="function"&&(ee.preventDefault(),ue=V?MB(T,V):new FormData(T),Gy(p,{pending:!0,data:ue,method:T.method,action:D},D,ue))},currentTarget:T}]})}}for(var OE=0;OE<Rd.length;OE++){var NE=Rd[OE],z5=NE.toLowerCase(),H5=NE[0].toUpperCase()+NE.slice(1);Ss(z5,"on"+H5)}Ss(or,"onAnimationEnd"),Ss(dy,"onAnimationIteration"),Ss(Er,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(J_,"onTransitionRun"),Ss($o,"onTransitionStart"),Ss(Ku,"onTransitionCancel"),Ss(el,"onTransitionEnd"),Y("onMouseEnter",["mouseout","mouseover"]),Y("onMouseLeave",["mouseout","mouseover"]),Y("onPointerEnter",["pointerout","pointerover"]),Y("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ky));function TB(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],T=v.event;v=v.listeners;e:{var D=void 0;if(c)for(var V=v.length-1;0<=V;V--){var ee=v[V],ue=ee.instance,Pe=ee.currentTarget;if(ee=ee.listener,ue!==D&&T.isPropagationStopped())break e;D=ee,T.currentTarget=Pe;try{D(T)}catch(et){Gc(et)}T.currentTarget=null,D=ue}else for(V=0;V<v.length;V++){if(ee=v[V],ue=ee.instance,Pe=ee.currentTarget,ee=ee.listener,ue!==D&&T.isPropagationStopped())break e;D=ee,T.currentTarget=Pe;try{D(T)}catch(et){Gc(et)}T.currentTarget=null,D=ue}}}}function Mn(o,c){var p=c[ys];p===void 0&&(p=c[ys]=new Set);var v=o+"__bubble";p.has(v)||(CB(c,o,2,!1),p.add(v))}function LE(o,c,p){var v=0;c&&(v|=4),CB(p,o,v,c)}var kb="_reactListening"+Math.random().toString(36).slice(2);function PE(o){if(!o[kb]){o[kb]=!0,qe.forEach(function(p){p!=="selectionchange"&&(G5.has(p)||LE(p,!1,o),LE(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[kb]||(c[kb]=!0,LE("selectionchange",!1,c))}}function CB(o,c,p,v){switch(QB(c)){case 2:var T=p6;break;case 8:T=m6;break;default:T=JE}p=T.bind(null,c,p,o),T=void 0,!gd||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),v?T!==void 0?o.addEventListener(c,p,{capture:!0,passive:T}):o.addEventListener(c,p,!0):T!==void 0?o.addEventListener(c,p,{passive:T}):o.addEventListener(c,p,!1)}function UE(o,c,p,v,T){var D=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var ee=v.stateNode.containerInfo;if(ee===T)break;if(V===4)for(V=v.return;V!==null;){var ue=V.tag;if((ue===3||ue===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;ee!==null;){if(V=kn(ee),V===null)return;if(ue=V.tag,ue===5||ue===6||ue===26||ue===27){v=D=V;continue e}ee=ee.parentNode}}v=v.return}Kg(function(){var Pe=D,et=fp(p),it=[];e:{var ke=Ap.get(o);if(ke!==void 0){var je=Gu,Zt=o;switch(o){case"keypress":if(Pl(p)===0)break e;case"keydown":case"keyup":je=ey;break;case"focusin":Zt="focus",je=hp;break;case"focusout":Zt="blur",je=hp;break;case"beforeblur":case"afterblur":je=hp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=ny;break;case or:case dy:case Er:je=L_;break;case el:je=Ko;break;case"scroll":case"scrollend":je=I_;break;case"wheel":je=bE;break;case"copy":case"cut":case"paste":je=U_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=mp;break;case"toggle":case"beforetoggle":je=Fl}var Xt=(c&4)!==0,gi=!Xt&&(o==="scroll"||o==="scrollend"),Me=Xt?ke!==null?ke+"Capture":null:ke;Xt=[];for(var ye=Pe,Ie;ye!==null;){var nt=ye;if(Ie=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Ie===null||Me===null||(nt=Fu(ye,Me),nt!=null&&Xt.push(Jy(ye,nt,Ie))),gi)break;ye=ye.return}0<Xt.length&&(ke=new je(ke,Zt,null,p,et),it.push({event:ke,listeners:Xt}))}}if((c&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",je=o==="mouseout"||o==="pointerout",ke&&p!==up&&(Zt=p.relatedTarget||p.fromElement)&&(kn(Zt)||Zt[Ni]))break e;if((je||ke)&&(ke=et.window===et?et:(ke=et.ownerDocument)?ke.defaultView||ke.parentWindow:window,je?(Zt=p.relatedTarget||p.toElement,je=Pe,Zt=Zt?kn(Zt):null,Zt!==null&&(gi=r(Zt),Xt=Zt.tag,Zt!==gi||Xt!==5&&Xt!==27&&Xt!==6)&&(Zt=null)):(je=null,Zt=Pe),je!==Zt)){if(Xt=Zg,nt="onMouseLeave",Me="onMouseEnter",ye="mouse",(o==="pointerout"||o==="pointerover")&&(Xt=mp,nt="onPointerLeave",Me="onPointerEnter",ye="pointer"),gi=je==null?ke:_r(je),Ie=Zt==null?ke:_r(Zt),ke=new Xt(nt,ye+"leave",je,p,et),ke.target=gi,ke.relatedTarget=Ie,nt=null,kn(et)===Pe&&(Xt=new Xt(Me,ye+"enter",Zt,p,et),Xt.target=Ie,Xt.relatedTarget=gi,nt=Xt),gi=nt,je&&Zt)t:{for(Xt=je,Me=Zt,ye=0,Ie=Xt;Ie;Ie=am(Ie))ye++;for(Ie=0,nt=Me;nt;nt=am(nt))Ie++;for(;0<ye-Ie;)Xt=am(Xt),ye--;for(;0<Ie-ye;)Me=am(Me),Ie--;for(;ye--;){if(Xt===Me||Me!==null&&Xt===Me.alternate)break t;Xt=am(Xt),Me=am(Me)}Xt=null}else Xt=null;je!==null&&wB(it,ke,je,Xt,!1),Zt!==null&&gi!==null&&wB(it,gi,Zt,Xt,!0)}}e:{if(ke=Pe?_r(Pe):window,je=ke.nodeName&&ke.nodeName.toLowerCase(),je==="select"||je==="input"&&ke.type==="file")var Nt=yp;else if(ay(ke))if(vp)Nt=Gl;else{Nt=Y_;var Sn=xE}else je=ke.nodeName,!je||je.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Pe&&cp(Pe.elementType)&&(Nt=yp):Nt=Td;if(Nt&&(Nt=Nt(o,Pe))){xr(it,Nt,p,et);break e}Sn&&Sn(o,ke,Pe),o==="focusout"&&Pe&&ke.type==="number"&&Pe.memoizedProps.value!=null&&Ds(ke,"number",ke.value)}switch(Sn=Pe?_r(Pe):window,o){case"focusin":(ay(Sn)||Sn.contentEditable==="true")&&(Qo=Sn,bp=Pe,wd=null);break;case"focusout":wd=bp=Qo=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,fy(it,p,et);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":fy(it,p,et)}var Ut;if(bd)e:{switch(o){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Hl?Ad(o,p)&&(Yt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Yt="onCompositionStart");Yt&&(Sd&&p.locale!=="ko"&&(Hl||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Hl&&(Ut=Qg()):(Yo=et,Jg="value"in Yo?Yo.value:Yo.textContent,Hl=!0)),Sn=Vb(Pe,Yt),0<Sn.length&&(Yt=new pp(Yt,o,null,p,et),it.push({event:Yt,listeners:Sn}),Ut?Yt.data=Ut:(Ut=sy(p),Ut!==null&&(Yt.data=Ut)))),(Ut=xd?Ed(o,p):ry(o,p))&&(Yt=Vb(Pe,"onBeforeInput"),0<Yt.length&&(Sn=new pp("onBeforeInput","beforeinput",null,p,et),it.push({event:Sn,listeners:Yt}),Sn.data=Ut)),F5(it,o,Pe,p,et)}TB(it,c)})}function Jy(o,c,p){return{instance:o,listener:c,currentTarget:p}}function Vb(o,c){for(var p=c+"Capture",v=[];o!==null;){var T=o,D=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||D===null||(T=Fu(o,p),T!=null&&v.unshift(Jy(o,T,D)),T=Fu(o,c),T!=null&&v.push(Jy(o,T,D))),o.tag===3)return v;o=o.return}return[]}function am(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function wB(o,c,p,v,T){for(var D=c._reactName,V=[];p!==null&&p!==v;){var ee=p,ue=ee.alternate,Pe=ee.stateNode;if(ee=ee.tag,ue!==null&&ue===v)break;ee!==5&&ee!==26&&ee!==27||Pe===null||(ue=Pe,T?(Pe=Fu(p,D),Pe!=null&&V.unshift(Jy(p,Pe,ue))):T||(Pe=Fu(p,D),Pe!=null&&V.push(Jy(p,Pe,ue)))),p=p.return}V.length!==0&&o.push({event:c,listeners:V})}var k5=/\r\n?/g,V5=/\u0000|\uFFFD/g;function RB(o){return(typeof o=="string"?o:""+o).replace(k5,`
`).replace(V5,"")}function BB(o,c){return c=RB(c),RB(o)===c}function jb(){}function mi(o,c,p,v,T,D){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||rr(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&rr(o,""+v);break;case"className":mt(o,"class",v);break;case"tabIndex":mt(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(o,p,v);break;case"style":hd(o,v,D);break;case"data":if(c!=="object"){mt(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=pd(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(c!=="input"&&mi(o,c,"name",T.name,T,null),mi(o,c,"formEncType",T.formEncType,T,null),mi(o,c,"formMethod",T.formMethod,T,null),mi(o,c,"formTarget",T.formTarget,T,null)):(mi(o,c,"encType",T.encType,T,null),mi(o,c,"method",T.method,T,null),mi(o,c,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=pd(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=jb);break;case"onScroll":v!=null&&Mn("scroll",o);break;case"onScrollEnd":v!=null&&Mn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(i(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=pd(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Mn("beforetoggle",o),Mn("toggle",o),st(o,"popover",v);break;case"xlinkActuate":gt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":gt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":gt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":gt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":gt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":gt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":gt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":gt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":gt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":st(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Yg.get(p)||p,st(o,p,v))}}function FE(o,c,p,v,T,D){switch(p){case"style":hd(o,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(i(60));o.innerHTML=p}}break;case"children":typeof v=="string"?rr(o,v):(typeof v=="number"||typeof v=="bigint")&&rr(o,""+v);break;case"onScroll":v!=null&&Mn("scroll",o);break;case"onScrollEnd":v!=null&&Mn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=jb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),c=p.slice(2,T?p.length-7:void 0),D=o[_i]||null,D=D!=null?D[p]:null,typeof D=="function"&&o.removeEventListener(c,D,T),typeof v=="function")){typeof D!="function"&&D!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,T);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):st(o,p,v)}}}function pr(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",o),Mn("load",o);var v=!1,T=!1,D;for(D in p)if(p.hasOwnProperty(D)){var V=p[D];if(V!=null)switch(D){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:mi(o,c,D,V,p,null)}}T&&mi(o,c,"srcSet",p.srcSet,p,null),v&&mi(o,c,"src",p.src,p,null);return;case"input":Mn("invalid",o);var ee=D=V=T=null,ue=null,Pe=null;for(v in p)if(p.hasOwnProperty(v)){var et=p[v];if(et!=null)switch(v){case"name":T=et;break;case"type":V=et;break;case"checked":ue=et;break;case"defaultChecked":Pe=et;break;case"value":D=et;break;case"defaultValue":ee=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,c));break;default:mi(o,c,v,et,p,null)}}ei(o,D,ee,ue,Pe,V,T,!1),Bi(o);return;case"select":Mn("invalid",o),v=V=D=null;for(T in p)if(p.hasOwnProperty(T)&&(ee=p[T],ee!=null))switch(T){case"value":D=ee;break;case"defaultValue":V=ee;break;case"multiple":v=ee;default:mi(o,c,T,ee,p,null)}c=D,p=V,o.multiple=!!v,c!=null?Zi(o,!!v,c,!1):p!=null&&Zi(o,!!v,p,!0);return;case"textarea":Mn("invalid",o),D=T=v=null;for(V in p)if(p.hasOwnProperty(V)&&(ee=p[V],ee!=null))switch(V){case"value":v=ee;break;case"defaultValue":T=ee;break;case"children":D=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:mi(o,c,V,ee,p,null)}xs(o,v,T,D),Bi(o);return;case"option":for(ue in p)if(p.hasOwnProperty(ue)&&(v=p[ue],v!=null))switch(ue){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:mi(o,c,ue,v,p,null)}return;case"dialog":Mn("beforetoggle",o),Mn("toggle",o),Mn("cancel",o),Mn("close",o);break;case"iframe":case"object":Mn("load",o);break;case"video":case"audio":for(v=0;v<Ky.length;v++)Mn(Ky[v],o);break;case"image":Mn("error",o),Mn("load",o);break;case"details":Mn("toggle",o);break;case"embed":case"source":case"link":Mn("error",o),Mn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in p)if(p.hasOwnProperty(Pe)&&(v=p[Pe],v!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:mi(o,c,Pe,v,p,null)}return;default:if(cp(c)){for(et in p)p.hasOwnProperty(et)&&(v=p[et],v!==void 0&&FE(o,c,et,v,p,void 0));return}}for(ee in p)p.hasOwnProperty(ee)&&(v=p[ee],v!=null&&mi(o,c,ee,v,p,null))}function j5(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,D=null,V=null,ee=null,ue=null,Pe=null,et=null;for(je in p){var it=p[je];if(p.hasOwnProperty(je)&&it!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ue=it;default:v.hasOwnProperty(je)||mi(o,c,je,null,v,it)}}for(var ke in v){var je=v[ke];if(it=p[ke],v.hasOwnProperty(ke)&&(je!=null||it!=null))switch(ke){case"type":D=je;break;case"name":T=je;break;case"checked":Pe=je;break;case"defaultChecked":et=je;break;case"value":V=je;break;case"defaultValue":ee=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:je!==it&&mi(o,c,ke,je,v,it)}}lo(o,V,ee,ue,Pe,et,D,T);return;case"select":je=V=ee=ke=null;for(D in p)if(ue=p[D],p.hasOwnProperty(D)&&ue!=null)switch(D){case"value":break;case"multiple":je=ue;default:v.hasOwnProperty(D)||mi(o,c,D,null,v,ue)}for(T in v)if(D=v[T],ue=p[T],v.hasOwnProperty(T)&&(D!=null||ue!=null))switch(T){case"value":ke=D;break;case"defaultValue":ee=D;break;case"multiple":V=D;default:D!==ue&&mi(o,c,T,D,v,ue)}c=ee,p=V,v=je,ke!=null?Zi(o,!!p,ke,!1):!!v!=!!p&&(c!=null?Zi(o,!!p,c,!0):Zi(o,!!p,p?[]:"",!1));return;case"textarea":je=ke=null;for(ee in p)if(T=p[ee],p.hasOwnProperty(ee)&&T!=null&&!v.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:mi(o,c,ee,null,v,T)}for(V in v)if(T=v[V],D=p[V],v.hasOwnProperty(V)&&(T!=null||D!=null))switch(V){case"value":ke=T;break;case"defaultValue":je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==D&&mi(o,c,V,T,v,D)}bs(o,ke,je);return;case"option":for(var Zt in p)if(ke=p[Zt],p.hasOwnProperty(Zt)&&ke!=null&&!v.hasOwnProperty(Zt))switch(Zt){case"selected":o.selected=!1;break;default:mi(o,c,Zt,null,v,ke)}for(ue in v)if(ke=v[ue],je=p[ue],v.hasOwnProperty(ue)&&ke!==je&&(ke!=null||je!=null))switch(ue){case"selected":o.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:mi(o,c,ue,ke,v,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in p)ke=p[Xt],p.hasOwnProperty(Xt)&&ke!=null&&!v.hasOwnProperty(Xt)&&mi(o,c,Xt,null,v,ke);for(Pe in v)if(ke=v[Pe],je=p[Pe],v.hasOwnProperty(Pe)&&ke!==je&&(ke!=null||je!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,c));break;default:mi(o,c,Pe,ke,v,je)}return;default:if(cp(c)){for(var gi in p)ke=p[gi],p.hasOwnProperty(gi)&&ke!==void 0&&!v.hasOwnProperty(gi)&&FE(o,c,gi,void 0,v,ke);for(et in v)ke=v[et],je=p[et],!v.hasOwnProperty(et)||ke===je||ke===void 0&&je===void 0||FE(o,c,et,ke,v,je);return}}for(var Me in p)ke=p[Me],p.hasOwnProperty(Me)&&ke!=null&&!v.hasOwnProperty(Me)&&mi(o,c,Me,null,v,ke);for(it in v)ke=v[it],je=p[it],!v.hasOwnProperty(it)||ke===je||ke==null&&je==null||mi(o,c,it,ke,v,je)}var zE=null,HE=null;function Wb(o){return o.nodeType===9?o:o.ownerDocument}function DB(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IB(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function GE(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var kE=null;function W5(){var o=window.event;return o&&o.type==="popstate"?o===kE?!1:(kE=o,!0):(kE=null,!1)}var OB=typeof setTimeout=="function"?setTimeout:void 0,X5=typeof clearTimeout=="function"?clearTimeout:void 0,NB=typeof Promise=="function"?Promise:void 0,Y5=typeof queueMicrotask=="function"?queueMicrotask:typeof NB<"u"?function(o){return NB.resolve(null).then(o).catch(q5)}:OB;function q5(o){setTimeout(function(){throw o})}function Ef(o){return o==="head"}function LB(o,c){var p=c,v=0,T=0;do{var D=p.nextSibling;if(o.removeChild(p),D&&D.nodeType===8)if(p=D.data,p==="/$"){if(0<v&&8>v){p=v;var V=o.ownerDocument;if(p&1&&Qy(V.documentElement),p&2&&Qy(V.body),p&4)for(p=V.head,Qy(p),V=p.firstChild;V;){var ee=V.nextSibling,ue=V.nodeName;V[_s]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&V.rel.toLowerCase()==="stylesheet"||p.removeChild(V),V=ee}}if(T===0){o.removeChild(D),rv(c);return}T--}else p==="$"||p==="$?"||p==="$!"?T++:v=p.charCodeAt(0)-48;else v=0;p=D}while(p);rv(c)}function VE(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":VE(p),Qt(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function K5(o,c,p,v){for(;o.nodeType===1;){var T=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_s])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==T.rel||o.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||o.getAttribute("title")!==(T.title==null?null:T.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(T.src==null?null:T.src)||o.getAttribute("type")!==(T.type==null?null:T.type)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var D=T.name==null?null:""+T.name;if(T.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=gl(o.nextSibling),o===null)break}return null}function J5(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=gl(o.nextSibling),o===null))return null;return o}function jE(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Q5(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function gl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var WE=null;function PB(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function UB(o,c,p){switch(c=Wb(p),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Qy(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Qt(o)}var wo=new Map,FB=new Set;function Xb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var nu=q.d;q.d={f:Z5,r:$5,D:e6,C:t6,L:n6,m:i6,X:r6,S:s6,M:a6};function Z5(){var o=nu.f(),c=To();return o||c}function $5(o){var c=Qi(o);c!==null&&c.tag===5&&c.type==="form"?Mb(c):nu.r(o)}var om=typeof document>"u"?null:document;function zB(o,c,p){var v=om;if(v&&typeof c=="string"&&c){var T=si(c);T='link[rel="'+o+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),FB.has(T)||(FB.add(T),o={rel:o,crossOrigin:p,href:c},v.querySelector(T)===null&&(c=v.createElement("link"),pr(c,"link",o),Xe(c),v.head.appendChild(c)))}}function e6(o){nu.D(o),zB("dns-prefetch",o,null)}function t6(o,c){nu.C(o,c),zB("preconnect",o,c)}function n6(o,c,p){nu.L(o,c,p);var v=om;if(v&&o&&c){var T='link[rel="preload"][as="'+si(c)+'"]';c==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+si(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+si(p.imageSizes)+'"]')):T+='[href="'+si(o)+'"]';var D=T;switch(c){case"style":D=lm(o);break;case"script":D=cm(o)}wo.has(D)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),wo.set(D,o),v.querySelector(T)!==null||c==="style"&&v.querySelector(Zy(D))||c==="script"&&v.querySelector($y(D))||(c=v.createElement("link"),pr(c,"link",o),Xe(c),v.head.appendChild(c)))}}function i6(o,c){nu.m(o,c);var p=om;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+si(v)+'"][href="'+si(o)+'"]',D=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=cm(o)}if(!wo.has(D)&&(o=m({rel:"modulepreload",href:o},c),wo.set(D,o),p.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector($y(D)))return}v=p.createElement("link"),pr(v,"link",o),Xe(v),p.head.appendChild(v)}}}function s6(o,c,p){nu.S(o,c,p);var v=om;if(v&&o){var T=br(v).hoistableStyles,D=lm(o);c=c||"default";var V=T.get(D);if(!V){var ee={loading:0,preload:null};if(V=v.querySelector(Zy(D)))ee.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=wo.get(D))&&XE(o,p);var ue=V=v.createElement("link");Xe(ue),pr(ue,"link",o),ue._p=new Promise(function(Pe,et){ue.onload=Pe,ue.onerror=et}),ue.addEventListener("load",function(){ee.loading|=1}),ue.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Yb(V,c,v)}V={type:"stylesheet",instance:V,count:1,state:ee},T.set(D,V)}}}function r6(o,c){nu.X(o,c);var p=om;if(p&&o){var v=br(p).hoistableScripts,T=cm(o),D=v.get(T);D||(D=p.querySelector($y(T)),D||(o=m({src:o,async:!0},c),(c=wo.get(T))&&YE(o,c),D=p.createElement("script"),Xe(D),pr(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(T,D))}}function a6(o,c){nu.M(o,c);var p=om;if(p&&o){var v=br(p).hoistableScripts,T=cm(o),D=v.get(T);D||(D=p.querySelector($y(T)),D||(o=m({src:o,async:!0,type:"module"},c),(c=wo.get(T))&&YE(o,c),D=p.createElement("script"),Xe(D),pr(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(T,D))}}function HB(o,c,p,v){var T=(T=Ue.current)?Xb(T):null;if(!T)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=lm(p.href),p=br(T).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=lm(p.href);var D=br(T).hoistableStyles,V=D.get(o);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,V),(D=T.querySelector(Zy(o)))&&!D._p&&(V.instance=D,V.state.loading=5),wo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},wo.set(o,p),D||o6(T,o,p,V.state))),c&&v===null)throw Error(i(528,""));return V}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=cm(p),p=br(T).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function lm(o){return'href="'+si(o)+'"'}function Zy(o){return'link[rel="stylesheet"]['+o+"]"}function GB(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function o6(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),pr(c,"link",p),Xe(c),o.head.appendChild(c))}function cm(o){return'[src="'+si(o)+'"]'}function $y(o){return"script[async]"+o}function kB(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+si(p.href)+'"]');if(v)return c.instance=v,Xe(v),v;var T=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Xe(v),pr(v,"style",T),Yb(v,p.precedence,o),c.instance=v;case"stylesheet":T=lm(p.href);var D=o.querySelector(Zy(T));if(D)return c.state.loading|=4,c.instance=D,Xe(D),D;v=GB(p),(T=wo.get(T))&&XE(v,T),D=(o.ownerDocument||o).createElement("link"),Xe(D);var V=D;return V._p=new Promise(function(ee,ue){V.onload=ee,V.onerror=ue}),pr(D,"link",v),c.state.loading|=4,Yb(D,p.precedence,o),c.instance=D;case"script":return D=cm(p.src),(T=o.querySelector($y(D)))?(c.instance=T,Xe(T),T):(v=p,(T=wo.get(D))&&(v=m({},p),YE(v,T)),o=o.ownerDocument||o,T=o.createElement("script"),Xe(T),pr(T,"link",v),o.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Yb(v,p.precedence,o));return c.instance}function Yb(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,D=T,V=0;V<v.length;V++){var ee=v[V];if(ee.dataset.precedence===c)D=ee;else if(D!==T)break}D?D.parentNode.insertBefore(o,D.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function XE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function YE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var qb=null;function VB(o,c,p){if(qb===null){var v=new Map,T=qb=new Map;T.set(p,v)}else T=qb,v=T.get(p),v||(v=new Map,T.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),T=0;T<p.length;T++){var D=p[T];if(!(D[_s]||D[$n]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var V=D.getAttribute(c)||"";V=o+V;var ee=v.get(V);ee?ee.push(D):v.set(V,[D])}}return v}function jB(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function l6(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function WB(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ev=null;function c6(){}function u6(o,c,p){if(ev===null)throw Error(i(475));var v=ev;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var T=lm(p.href),D=o.querySelector(Zy(T));if(D){o=D._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=Kb.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=D,Xe(D);return}D=o.ownerDocument||o,p=GB(p),(T=wo.get(T))&&XE(p,T),D=D.createElement("link"),Xe(D);var V=D;V._p=new Promise(function(ee,ue){V.onload=ee,V.onerror=ue}),pr(D,"link",p),c.instance=D}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=Kb.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function f6(){if(ev===null)throw Error(i(475));var o=ev;return o.stylesheets&&o.count===0&&qE(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&qE(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function Kb(){if(this.count--,this.count===0){if(this.stylesheets)qE(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Jb=null;function qE(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Jb=new Map,c.forEach(d6,o),Jb=null,Kb.call(o))}function d6(o,c){if(!(c.state.loading&4)){var p=Jb.get(o);if(p)var v=p.get(null);else{p=new Map,Jb.set(o,p);for(var T=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<T.length;D++){var V=T[D];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),v=V)}v&&p.set(null,v)}T=c.instance,V=T.getAttribute("data-precedence"),D=p.get(V)||v,D===v&&p.set(null,T),p.set(V,T),this.count++,v=Kb.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),D?D.parentNode.insertBefore(T,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(T,o.firstChild)),c.state.loading|=4}}var tv={$$typeof:w,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function h6(o,c,p,v,T,D,V,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=D,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function XB(o,c,p,v,T,D,V,ee,ue,Pe,et,it){return o=new h6(o,c,p,V,ee,ue,Pe,it),c=1,D===!0&&(c|=24),D=Mr(3,null,null,c),o.current=D,D.stateNode=o,c=Bp(),c.refCount++,o.pooledCache=c,c.refCount++,D.memoizedState={element:v,isDehydrated:p,cache:c},My(D),o}function YB(o){return o?(o=jl,o):jl}function qB(o,c,p,v,T,D){T=YB(T),v.context===null?v.context=T:v.pendingContext=T,v=mo(c),v.payload={element:p},D=D===void 0?null:D,D!==null&&(v.callback=D),p=al(o,v,c),p!==null&&(hr(p,o,c),Fc(p,o,c))}function KB(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function KE(o,c){KB(o,c),(o=o.alternate)&&KB(o,c)}function JB(o){if(o.tag===13){var c=tl(o,67108864);c!==null&&hr(c,o,67108864),KE(o,67108864)}}var Qb=!0;function p6(o,c,p,v){var T=H.T;H.T=null;var D=q.p;try{q.p=2,JE(o,c,p,v)}finally{q.p=D,H.T=T}}function m6(o,c,p,v){var T=H.T;H.T=null;var D=q.p;try{q.p=8,JE(o,c,p,v)}finally{q.p=D,H.T=T}}function JE(o,c,p,v){if(Qb){var T=QE(v);if(T===null)UE(o,c,v,Zb,p),ZB(o,v);else if(y6(T,o,c,p,v))v.stopPropagation();else if(ZB(o,v),c&4&&-1<g6.indexOf(o)){for(;T!==null;){var D=Qi(T);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var V=Ye(D.pendingLanes);if(V!==0){var ee=D;for(ee.pendingLanes|=2,ee.entangledLanes|=2;V;){var ue=1<<31-_t(V);ee.entanglements[1]|=ue,V&=~ue}pc(D),(jn&6)===0&&(Ks=Ge()+500,qy(0))}}break;case 13:ee=tl(D,2),ee!==null&&hr(ee,D,2),To(),KE(D,2)}if(D=QE(v),D===null&&UE(o,c,v,Zb,p),D===T)break;T=D}T!==null&&v.stopPropagation()}else UE(o,c,v,null,p)}}function QE(o){return o=fp(o),ZE(o)}var Zb=null;function ZE(o){if(Zb=null,o=kn(o),o!==null){var c=r(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Zb=o,null}function QB(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case at:return 2;case Te:return 8;case Z:case k:return 32;case me:return 268435456;default:return 32}default:return 32}}var $E=!1,Mf=null,Tf=null,Cf=null,nv=new Map,iv=new Map,wf=[],g6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZB(o,c){switch(o){case"focusin":case"focusout":Mf=null;break;case"dragenter":case"dragleave":Tf=null;break;case"mouseover":case"mouseout":Cf=null;break;case"pointerover":case"pointerout":nv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":iv.delete(c.pointerId)}}function sv(o,c,p,v,T,D){return o===null||o.nativeEvent!==D?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:D,targetContainers:[T]},c!==null&&(c=Qi(c),c!==null&&JB(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),o)}function y6(o,c,p,v,T){switch(c){case"focusin":return Mf=sv(Mf,o,c,p,v,T),!0;case"dragenter":return Tf=sv(Tf,o,c,p,v,T),!0;case"mouseover":return Cf=sv(Cf,o,c,p,v,T),!0;case"pointerover":var D=T.pointerId;return nv.set(D,sv(nv.get(D)||null,o,c,p,v,T)),!0;case"gotpointercapture":return D=T.pointerId,iv.set(D,sv(iv.get(D)||null,o,c,p,v,T)),!0}return!1}function $B(o){var c=kn(o.target);if(c!==null){var p=r(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,Mi(o.priority,function(){if(p.tag===13){var v=Fi();v=tn(v);var T=tl(p,v);T!==null&&hr(T,p,v),KE(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $b(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=QE(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);up=v,p.target.dispatchEvent(v),up=null}else return c=Qi(p),c!==null&&JB(c),o.blockedOn=p,!1;c.shift()}return!0}function eD(o,c,p){$b(o)&&p.delete(c)}function v6(){$E=!1,Mf!==null&&$b(Mf)&&(Mf=null),Tf!==null&&$b(Tf)&&(Tf=null),Cf!==null&&$b(Cf)&&(Cf=null),nv.forEach(eD),iv.forEach(eD)}function ex(o,c){o.blockedOn===c&&(o.blockedOn=null,$E||($E=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,v6)))}var tx=null;function tD(o){tx!==o&&(tx=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tx===o&&(tx=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],T=o[c+2];if(typeof v!="function"){if(ZE(v||p)===null)continue;break}var D=Qi(p);D!==null&&(o.splice(c,3),c-=3,Gy(D,{pending:!0,data:T,method:p.method,action:v},v,T))}}))}function rv(o){function c(ue){return ex(ue,o)}Mf!==null&&ex(Mf,o),Tf!==null&&ex(Tf,o),Cf!==null&&ex(Cf,o),nv.forEach(c),iv.forEach(c);for(var p=0;p<wf.length;p++){var v=wf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<wf.length&&(p=wf[0],p.blockedOn===null);)$B(p),p.blockedOn===null&&wf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var T=p[v],D=p[v+1],V=T[_i]||null;if(typeof D=="function")V||tD(p);else if(V){var ee=null;if(D&&D.hasAttribute("formAction")){if(T=D,V=D[_i]||null)ee=V.formAction;else if(ZE(T)!==null)continue}else ee=V.action;typeof ee=="function"?p[v+1]=ee:(p.splice(v,3),v-=3),tD(p)}}}function eM(o){this._internalRoot=o}nx.prototype.render=eM.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,v=Fi();qB(p,v,o,c,null,null)},nx.prototype.unmount=eM.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;qB(o.current,2,null,o,null,null),To(),c[Ni]=null}};function nx(o){this._internalRoot=o}nx.prototype.unstable_scheduleHydration=function(o){if(o){var c=Wt();o={blockedOn:null,target:o,priority:c};for(var p=0;p<wf.length&&c!==0&&c<wf[p].priority;p++);wf.splice(p,0,o),p===0&&$B(o)}};var nD=e.version;if(nD!=="19.1.0")throw Error(i(527,nD,"19.1.0"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var _6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ix.isDisabled&&ix.supportsFiber)try{He=ix.inject(_6),ct=ix}catch{}}return lv.createRoot=function(o,c){if(!s(o))throw Error(i(299));var p=!1,v="",T=Kd,D=Yp,V=Ub,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ee=c.unstable_transitionCallbacks)),c=XB(o,1,!1,null,null,p,v,T,D,V,ee,null),o[Ni]=c.current,PE(o),new eM(c)},lv.hydrateRoot=function(o,c,p){if(!s(o))throw Error(i(299));var v=!1,T="",D=Kd,V=Yp,ee=Ub,ue=null,Pe=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(ee=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ue=p.unstable_transitionCallbacks),p.formState!==void 0&&(Pe=p.formState)),c=XB(o,1,!0,c,p??null,v,T,D,V,ee,ue,Pe),c.context=YB(null),p=c.current,v=Fi(),v=tn(v),T=mo(v),T.callback=null,al(p,T,v),p=v,c.current.lanes=p,Je(c,p),pc(c),o[Ni]=c.current,PE(o),new nx(c)},lv.version="19.1.0",lv}var dD;function D6(){if(dD)return iM.exports;dD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),iM.exports=B6(),iM.exports}var I6=D6();const d0={black:"#000",white:"#fff"},um={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},dm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},hm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},pm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cv={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},O6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Eu(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const n1="$$material";function tg(){return tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tg.apply(null,arguments)}function N6(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function L6(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var P6=function(){function n(t){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(L6(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=N6(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Or="-ms-",OS="-moz-",Jn="-webkit-",WL="comm",Rw="rule",Bw="decl",U6="@import",XL="@keyframes",F6="@layer",z6=Math.abs,i1=String.fromCharCode,H6=Object.assign;function G6(n,e){return gr(n,0)^45?(((e<<2^gr(n,0))<<2^gr(n,1))<<2^gr(n,2))<<2^gr(n,3):0}function YL(n){return n.trim()}function k6(n,e){return(n=e.exec(n))?n[0]:n}function Qn(n,e,t){return n.replace(e,t)}function $T(n,e){return n.indexOf(e)}function gr(n,e){return n.charCodeAt(e)|0}function h0(n,e,t){return n.slice(e,t)}function vc(n){return n.length}function Dw(n){return n.length}function sx(n,e){return e.push(n),n}function V6(n,e){return n.map(e).join("")}var s1=1,ng=1,qL=0,Ia=0,ws=0,wg="";function r1(n,e,t,i,s,r,a){return{value:n,root:e,parent:t,type:i,props:s,children:r,line:s1,column:ng,length:a,return:""}}function uv(n,e){return H6(r1("",null,null,"",null,null,0),n,{length:-n.length},e)}function j6(){return ws}function W6(){return ws=Ia>0?gr(wg,--Ia):0,ng--,ws===10&&(ng=1,s1--),ws}function eo(){return ws=Ia<qL?gr(wg,Ia++):0,ng++,ws===10&&(ng=1,s1++),ws}function xc(){return gr(wg,Ia)}function mS(){return Ia}function J0(n,e){return h0(wg,n,e)}function p0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KL(n){return s1=ng=1,qL=vc(wg=n),Ia=0,[]}function JL(n){return wg="",n}function gS(n){return YL(J0(Ia-1,eC(n===91?n+2:n===40?n+1:n)))}function X6(n){for(;(ws=xc())&&ws<33;)eo();return p0(n)>2||p0(ws)>3?"":" "}function Y6(n,e){for(;--e&&eo()&&!(ws<48||ws>102||ws>57&&ws<65||ws>70&&ws<97););return J0(n,mS()+(e<6&&xc()==32&&eo()==32))}function eC(n){for(;eo();)switch(ws){case n:return Ia;case 34:case 39:n!==34&&n!==39&&eC(ws);break;case 40:n===41&&eC(n);break;case 92:eo();break}return Ia}function q6(n,e){for(;eo()&&n+ws!==57;)if(n+ws===84&&xc()===47)break;return"/*"+J0(e,Ia-1)+"*"+i1(n===47?n:eo())}function K6(n){for(;!p0(xc());)eo();return J0(n,Ia)}function J6(n){return JL(yS("",null,null,null,[""],n=KL(n),0,[0],n))}function yS(n,e,t,i,s,r,a,l,u){for(var d=0,m=0,g=a,y=0,b=0,x=0,E=1,A=1,S=1,B=0,w="",R=s,N=r,O=i,U=w;A;)switch(x=B,B=eo()){case 40:if(x!=108&&gr(U,g-1)==58){$T(U+=Qn(gS(B),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:U+=gS(B);break;case 9:case 10:case 13:case 32:U+=X6(x);break;case 92:U+=Y6(mS()-1,7);continue;case 47:switch(xc()){case 42:case 47:sx(Q6(q6(eo(),mS()),e,t),u);break;default:U+="/"}break;case 123*E:l[d++]=vc(U)*S;case 125*E:case 59:case 0:switch(B){case 0:case 125:A=0;case 59+m:S==-1&&(U=Qn(U,/\f/g,"")),b>0&&vc(U)-g&&sx(b>32?pD(U+";",i,t,g-1):pD(Qn(U," ","")+";",i,t,g-2),u);break;case 59:U+=";";default:if(sx(O=hD(U,e,t,d,m,s,l,w,R=[],N=[],g),r),B===123)if(m===0)yS(U,e,O,O,R,r,g,l,N);else switch(y===99&&gr(U,3)===110?100:y){case 100:case 108:case 109:case 115:yS(n,O,O,i&&sx(hD(n,O,O,0,0,s,l,w,s,R=[],g),N),s,N,g,l,i?R:N);break;default:yS(U,O,O,O,[""],N,0,l,N)}}d=m=b=0,E=S=1,w=U="",g=a;break;case 58:g=1+vc(U),b=x;default:if(E<1){if(B==123)--E;else if(B==125&&E++==0&&W6()==125)continue}switch(U+=i1(B),B*E){case 38:S=m>0?1:(U+="\f",-1);break;case 44:l[d++]=(vc(U)-1)*S,S=1;break;case 64:xc()===45&&(U+=gS(eo())),y=xc(),m=g=vc(w=U+=K6(mS())),B++;break;case 45:x===45&&vc(U)==2&&(E=0)}}return r}function hD(n,e,t,i,s,r,a,l,u,d,m){for(var g=s-1,y=s===0?r:[""],b=Dw(y),x=0,E=0,A=0;x<i;++x)for(var S=0,B=h0(n,g+1,g=z6(E=a[x])),w=n;S<b;++S)(w=YL(E>0?y[S]+" "+B:Qn(B,/&\f/g,y[S])))&&(u[A++]=w);return r1(n,e,t,s===0?Rw:l,u,d,m)}function Q6(n,e,t){return r1(n,e,t,WL,i1(j6()),h0(n,2,-2),0)}function pD(n,e,t,i){return r1(n,e,t,Bw,h0(n,0,i),h0(n,i+1,-1),i)}function Ym(n,e){for(var t="",i=Dw(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function Z6(n,e,t,i){switch(n.type){case F6:if(n.children.length)break;case U6:case Bw:return n.return=n.return||n.value;case WL:return"";case XL:return n.return=n.value+"{"+Ym(n.children,i)+"}";case Rw:n.value=n.props.join(",")}return vc(t=Ym(n.children,i))?n.return=n.value+"{"+t+"}":""}function $6(n){var e=Dw(n);return function(t,i,s,r){for(var a="",l=0;l<e;l++)a+=n[l](t,i,s,r)||"";return a}}function eG(n){return function(e){e.root||(e=e.return)&&n(e)}}var mD=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var s=e(i);return t.set(i,s),s}};function QL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var tG=function(e,t,i){for(var s=0,r=0;s=r,r=xc(),s===38&&r===12&&(t[i]=1),!p0(r);)eo();return J0(e,Ia)},nG=function(e,t){var i=-1,s=44;do switch(p0(s)){case 0:s===38&&xc()===12&&(t[i]=1),e[i]+=tG(Ia-1,t,i);break;case 2:e[i]+=gS(s);break;case 4:if(s===44){e[++i]=xc()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=i1(s)}while(s=eo());return e},iG=function(e,t){return JL(nG(KL(e),t))},gD=new WeakMap,sG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!gD.get(i))&&!s){gD.set(e,!0);for(var r=[],a=iG(t,r),l=i.props,u=0,d=0;u<a.length;u++)for(var m=0;m<l.length;m++,d++)e.props[d]=r[u]?a[u].replace(/&\f/g,l[m]):l[m]+" "+a[u]}}},rG=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZL(n,e){switch(G6(n,e)){case 5103:return Jn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+n+OS+n+Or+n+n;case 6828:case 4268:return Jn+n+Or+n+n;case 6165:return Jn+n+Or+"flex-"+n+n;case 5187:return Jn+n+Qn(n,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+Or+"flex-$1$2")+n;case 5443:return Jn+n+Or+"flex-item-"+Qn(n,/flex-|-self/,"")+n;case 4675:return Jn+n+Or+"flex-line-pack"+Qn(n,/align-content|flex-|-self/,"")+n;case 5548:return Jn+n+Or+Qn(n,"shrink","negative")+n;case 5292:return Jn+n+Or+Qn(n,"basis","preferred-size")+n;case 6060:return Jn+"box-"+Qn(n,"-grow","")+Jn+n+Or+Qn(n,"grow","positive")+n;case 4554:return Jn+Qn(n,/([^-])(transform)/g,"$1"+Jn+"$2")+n;case 6187:return Qn(Qn(Qn(n,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),n,"")+n;case 5495:case 3959:return Qn(n,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return Qn(Qn(n,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+n+n;case 4095:case 3583:case 4068:case 2532:return Qn(n,/(.+)-inline(.+)/,Jn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vc(n)-1-e>6)switch(gr(n,e+1)){case 109:if(gr(n,e+4)!==45)break;case 102:return Qn(n,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+OS+(gr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~$T(n,"stretch")?ZL(Qn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(gr(n,e+1)!==115)break;case 6444:switch(gr(n,vc(n)-3-(~$T(n,"!important")&&10))){case 107:return Qn(n,":",":"+Jn)+n;case 101:return Qn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jn+(gr(n,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+Or+"$2box$3")+n}break;case 5936:switch(gr(n,e+11)){case 114:return Jn+n+Or+Qn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Jn+n+Or+Qn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Jn+n+Or+Qn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Jn+n+Or+n+n}return n}var aG=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case Bw:e.return=ZL(e.value,e.length);break;case XL:return Ym([uv(e,{value:Qn(e.value,"@","@"+Jn)})],s);case Rw:if(e.length)return V6(e.props,function(r){switch(k6(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ym([uv(e,{props:[Qn(r,/:(read-\w+)/,":"+OS+"$1")]})],s);case"::placeholder":return Ym([uv(e,{props:[Qn(r,/:(plac\w+)/,":"+Jn+"input-$1")]}),uv(e,{props:[Qn(r,/:(plac\w+)/,":"+OS+"$1")]}),uv(e,{props:[Qn(r,/:(plac\w+)/,Or+"input-$1")]})],s)}return""})}},oG=[aG],lG=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(E){var A=E.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var s=e.stylisPlugins||oG,r={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(E){for(var A=E.getAttribute("data-emotion").split(" "),S=1;S<A.length;S++)r[A[S]]=!0;l.push(E)});var u,d=[sG,rG];{var m,g=[Z6,eG(function(E){m.insert(E)})],y=$6(d.concat(s,g)),b=function(A){return Ym(J6(A),y)};u=function(A,S,B,w){m=B,b(A?A+"{"+S.styles+"}":S.styles),w&&(x.inserted[S.name]=!0)}}var x={key:t,sheet:new P6({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:u};return x.sheet.hydrate(l),x},oM={exports:{}},ni={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD;function cG(){if(yD)return ni;yD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,E=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,B=n?Symbol.for("react.scope"):60119;function w(N){if(typeof N=="object"&&N!==null){var O=N.$$typeof;switch(O){case e:switch(N=N.type,N){case u:case d:case i:case r:case s:case g:return N;default:switch(N=N&&N.$$typeof,N){case l:case m:case x:case b:case a:return N;default:return O}}case t:return O}}}function R(N){return w(N)===d}return ni.AsyncMode=u,ni.ConcurrentMode=d,ni.ContextConsumer=l,ni.ContextProvider=a,ni.Element=e,ni.ForwardRef=m,ni.Fragment=i,ni.Lazy=x,ni.Memo=b,ni.Portal=t,ni.Profiler=r,ni.StrictMode=s,ni.Suspense=g,ni.isAsyncMode=function(N){return R(N)||w(N)===u},ni.isConcurrentMode=R,ni.isContextConsumer=function(N){return w(N)===l},ni.isContextProvider=function(N){return w(N)===a},ni.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},ni.isForwardRef=function(N){return w(N)===m},ni.isFragment=function(N){return w(N)===i},ni.isLazy=function(N){return w(N)===x},ni.isMemo=function(N){return w(N)===b},ni.isPortal=function(N){return w(N)===t},ni.isProfiler=function(N){return w(N)===r},ni.isStrictMode=function(N){return w(N)===s},ni.isSuspense=function(N){return w(N)===g},ni.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===i||N===d||N===r||N===s||N===g||N===y||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===b||N.$$typeof===a||N.$$typeof===l||N.$$typeof===m||N.$$typeof===A||N.$$typeof===S||N.$$typeof===B||N.$$typeof===E)},ni.typeOf=w,ni}var vD;function uG(){return vD||(vD=1,oM.exports=cG()),oM.exports}var lM,_D;function fG(){if(_D)return lM;_D=1;var n=uG(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=i,r[n.Memo]=s;function a(x){return n.isMemo(x)?s:r[x.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function b(x,E,A){if(typeof E!="string"){if(y){var S=g(E);S&&S!==y&&b(x,S,A)}var B=u(E);d&&(B=B.concat(d(E)));for(var w=a(x),R=a(E),N=0;N<B.length;++N){var O=B[N];if(!t[O]&&!(A&&A[O])&&!(R&&R[O])&&!(w&&w[O])){var U=m(E,O);try{l(x,O,U)}catch{}}}}return x}return lM=b,lM}fG();var dG=!0;function $L(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var Iw=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||dG===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},Ow=function(e,t,i){Iw(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function hG(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var pG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mG=/[A-Z]|^ms/g,gG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eP=function(e){return e.charCodeAt(1)===45},bD=function(e){return e!=null&&typeof e!="boolean"},cM=QL(function(n){return eP(n)?n:n.replace(mG,"-$&").toLowerCase()}),xD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(gG,function(i,s,r){return _c={name:s,styles:r,next:_c},s})}return pG[e]!==1&&!eP(e)&&typeof t=="number"&&t!==0?t+"px":t};function m0(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return _c={name:s.name,styles:s.styles,next:_c},s.name;var r=t;if(r.styles!==void 0){var a=r.next;if(a!==void 0)for(;a!==void 0;)_c={name:a.name,styles:a.styles,next:_c},a=a.next;var l=r.styles+";";return l}return yG(n,e,t)}case"function":{if(n!==void 0){var u=_c,d=t(n);return _c=u,m0(n,e,d)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function yG(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=m0(n,e,t[s])+";";else for(var r in t){var a=t[r];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?i+=r+"{"+e[l]+"}":bD(l)&&(i+=cM(r)+":"+xD(r,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)bD(a[u])&&(i+=cM(r)+":"+xD(r,a[u])+";");else{var d=m0(n,e,a);switch(r){case"animation":case"animationName":{i+=cM(r)+":"+d+";";break}default:i+=r+"{"+d+"}"}}}return i}var SD=/label:\s*([^\s;{]+)\s*(;|$)/g,_c;function Q0(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";_c=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,s+=m0(t,e,r);else{var a=r;s+=a[0]}for(var l=1;l<n.length;l++)if(s+=m0(t,e,n[l]),i){var u=r;s+=u[l]}SD.lastIndex=0;for(var d="",m;(m=SD.exec(s))!==null;)d+="-"+m[1];var g=hG(s)+d;return{name:g,styles:s,next:_c}}var vG=function(e){return e()},tP=ZT.useInsertionEffect?ZT.useInsertionEffect:!1,nP=tP||vG,AD=tP||K.useLayoutEffect,iP=K.createContext(typeof HTMLElement<"u"?lG({key:"css"}):null);iP.Provider;var Nw=function(e){return K.forwardRef(function(t,i){var s=K.useContext(iP);return e(t,s,i)})},ig=K.createContext({}),_G=function(e,t){if(typeof t=="function"){var i=t(e);return i}return tg({},e,t)},bG=mD(function(n){return mD(function(e){return _G(n,e)})}),xG=function(e){var t=K.useContext(ig);return e.theme!==t&&(t=bG(t)(e.theme)),K.createElement(ig.Provider,{value:t},e.children)},Lw={}.hasOwnProperty,tC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SG=function(e,t){var i={};for(var s in t)Lw.call(t,s)&&(i[s]=t[s]);return i[tC]=e,i},AG=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return Iw(t,i,s),nP(function(){return Ow(t,i,s)}),null},EG=Nw(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[tC],r=[i],a="";typeof n.className=="string"?a=$L(e.registered,r,n.className):n.className!=null&&(a=n.className+" ");var l=Q0(r,void 0,K.useContext(ig));a+=e.key+"-"+l.name;var u={};for(var d in n)Lw.call(n,d)&&d!=="css"&&d!==tC&&(u[d]=n[d]);return u.className=a,t&&(u.ref=t),K.createElement(K.Fragment,null,K.createElement(AG,{cache:e,serialized:l,isStringTag:typeof s=="string"}),K.createElement(s,u))}),MG=EG,ED=function(e,t){var i=arguments;if(t==null||!Lw.call(t,"css"))return K.createElement.apply(void 0,i);var s=i.length,r=new Array(s);r[0]=MG,r[1]=SG(e,t);for(var a=2;a<s;a++)r[a]=i[a];return K.createElement.apply(null,r)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ED||(ED={}));var TG=Nw(function(n,e){var t=n.styles,i=Q0([t],void 0,K.useContext(ig)),s=K.useRef();return AD(function(){var r=e.key+"-global",a=new e.sheet.constructor({key:r,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+r+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",r),a.hydrate([u])),s.current=[a,l],function(){a.flush()}},[e]),AD(function(){var r=s.current,a=r[0],l=r[1];if(l){r[1]=!1;return}if(i.next!==void 0&&Ow(e,i.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function Pw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Q0(e)}function Z0(){var n=Pw.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var CG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wG=QL(function(n){return CG.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),RG=wG,BG=function(e){return e!=="theme"},MD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?RG:BG},TD=function(e,t,i){var s;if(t){var r=t.shouldForwardProp;s=e.__emotion_forwardProp&&r?function(a){return e.__emotion_forwardProp(a)&&r(a)}:r}return typeof s!="function"&&i&&(s=e.__emotion_forwardProp),s},DG=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return Iw(t,i,s),nP(function(){return Ow(t,i,s)}),null},IG=function n(e,t){var i=e.__emotion_real===e,s=i&&e.__emotion_base||e,r,a;t!==void 0&&(r=t.label,a=t.target);var l=TD(e,t,i),u=l||MD(s),d=!u("as");return function(){var m=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var y=m[0];g.push(y[0]);for(var b=m.length,x=1;x<b;x++)g.push(m[x],y[x])}var E=Nw(function(A,S,B){var w=d&&A.as||s,R="",N=[],O=A;if(A.theme==null){O={};for(var U in A)O[U]=A[U];O.theme=K.useContext(ig)}typeof A.className=="string"?R=$L(S.registered,N,A.className):A.className!=null&&(R=A.className+" ");var P=Q0(g.concat(N),S.registered,O);R+=S.key+"-"+P.name,a!==void 0&&(R+=" "+a);var L=d&&l===void 0?MD(w):u,M={};for(var F in A)d&&F==="as"||L(F)&&(M[F]=A[F]);return M.className=R,B&&(M.ref=B),K.createElement(K.Fragment,null,K.createElement(DG,{cache:S,serialized:P,isStringTag:typeof w=="string"}),K.createElement(w,M))});return E.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=s,E.__emotion_styles=g,E.__emotion_forwardProp=l,Object.defineProperty(E,"toString",{value:function(){return"."+a}}),E.withComponent=function(A,S){var B=n(A,tg({},t,S,{shouldForwardProp:TD(E,S,!0)}));return B.apply(void 0,g)},E}},OG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nC=IG.bind(null);OG.forEach(function(n){nC[n]=nC(n)});function NG(n){return n==null||Object.keys(n).length===0}function LG(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?s=>e(NG(s)?t:s):e;return he.jsx(TG,{styles:i})}function sP(n,e){return nC(n,e)}function PG(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const CD=[];function wD(n){return CD[0]=n,Q0(CD)}var uM={exports:{}},yi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function UG(){if(RD)return yi;RD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function x(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case n:switch(E=E.type,E){case t:case s:case i:case u:case d:case y:return E;default:switch(E=E&&E.$$typeof,E){case a:case l:case g:case m:return E;case r:return E;default:return A}}case e:return A}}}return yi.ContextConsumer=r,yi.ContextProvider=a,yi.Element=n,yi.ForwardRef=l,yi.Fragment=t,yi.Lazy=g,yi.Memo=m,yi.Portal=e,yi.Profiler=s,yi.StrictMode=i,yi.Suspense=u,yi.SuspenseList=d,yi.isContextConsumer=function(E){return x(E)===r},yi.isContextProvider=function(E){return x(E)===a},yi.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===n},yi.isForwardRef=function(E){return x(E)===l},yi.isFragment=function(E){return x(E)===t},yi.isLazy=function(E){return x(E)===g},yi.isMemo=function(E){return x(E)===m},yi.isPortal=function(E){return x(E)===e},yi.isProfiler=function(E){return x(E)===s},yi.isStrictMode=function(E){return x(E)===i},yi.isSuspense=function(E){return x(E)===u},yi.isSuspenseList=function(E){return x(E)===d},yi.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===s||E===i||E===u||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===a||E.$$typeof===r||E.$$typeof===l||E.$$typeof===b||E.getModuleId!==void 0)},yi.typeOf=x,yi}var BD;function FG(){return BD||(BD=1,uM.exports=UG()),uM.exports}var rP=FG();function bc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function aP(n){if(K.isValidElement(n)||rP.isValidElementType(n)||!bc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=aP(n[t])}),e}function zr(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return bc(n)&&bc(e)&&Object.keys(e).forEach(s=>{K.isValidElement(e[s])||rP.isValidElementType(e[s])?i[s]=e[s]:bc(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&bc(n[s])?i[s]=zr(n[s],e[s],t):t.clone?i[s]=bc(e[s])?aP(e[s]):e[s]:i[s]=e[s]}),i}const zG=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function HG(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...s}=n,r=zG(e),a=Object.keys(r);function l(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function u(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function d(y,b){const x=a.indexOf(b);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:b)-i/100}${t})`}function m(y){return a.indexOf(y)+1<a.length?d(y,a[a.indexOf(y)+1]):l(y)}function g(y){const b=a.indexOf(y);return b===0?l(a[1]):b===a.length-1?u(a[b]):d(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:r,up:l,down:u,between:d,only:m,not:g,unit:t,...s}}function GG(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,s)=>{var a,l;const r=/min-width:\s*([0-9.]+)/;return+(((a=i.match(r))==null?void 0:a[1])||0)-+(((l=s.match(r))==null?void 0:l[1])||0)});return t.length?t.reduce((i,s)=>{const r=e[s];return delete i[s],i[s]=r,i},{...e}):e}function kG(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function VG(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,s]=t,r=Number.isNaN(+i)?i||0:+i;return n.containerQueries(s).up(r)}function jG(n){const e=(r,a)=>r.replace("@media",a?`@container ${a}`:"@container");function t(r,a){r.up=(...l)=>e(n.breakpoints.up(...l),a),r.down=(...l)=>e(n.breakpoints.down(...l),a),r.between=(...l)=>e(n.breakpoints.between(...l),a),r.only=(...l)=>e(n.breakpoints.only(...l),a),r.not=(...l)=>{const u=e(n.breakpoints.not(...l),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},s=r=>(t(i,r),i);return t(s),{...n,containerQueries:s}}const WG={borderRadius:4};function zv(n,e){return e?zr(n,e,{clone:!1}):n}const a1={xs:0,sm:600,md:900,lg:1200,xl:1536},DD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${a1[n]}px)`},XG={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:a1[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Mu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const r=i.breakpoints||DD;return e.reduce((a,l,u)=>(a[r.up(r.keys[u])]=t(e[u]),a),{})}if(typeof e=="object"){const r=i.breakpoints||DD;return Object.keys(e).reduce((a,l)=>{if(kG(r.keys,l)){const u=VG(i.containerQueries?i:XG,l);u&&(a[u]=t(e[l],l))}else if(Object.keys(r.values||a1).includes(l)){const u=r.up(l);a[u]=t(e[l],l)}else{const u=l;a[u]=e[u]}return a},{})}return t(e)}function YG(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,s)=>{const r=n.up(s);return i[r]={},i},{}))||{}}function qG(n,e){return n.reduce((t,i)=>{const s=t[i];return(!s||Object.keys(s).length===0)&&delete t[i],t},e)}function At(n){if(typeof n!="string")throw new Error(Eu(7));return n.charAt(0).toUpperCase()+n.slice(1)}function o1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,n);if(i!=null)return i}return e.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,n)}function NS(n,e,t,i=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||i:s=o1(n,t)||i,e&&(s=e(s,i,n)),s}function gs(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:s}=n,r=a=>{if(a[e]==null)return null;const l=a[e],u=a.theme,d=o1(u,i)||{};return Mu(a,l,g=>{let y=NS(d,s,g);return g===y&&typeof g=="string"&&(y=NS(d,s,`${e}${g==="default"?"":At(g)}`,g)),t===!1?y:{[t]:y}})};return r.propTypes={},r.filterProps=[e],r}function KG(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const JG={m:"margin",p:"padding"},QG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ID={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ZG=KG(n=>{if(n.length>2)if(ID[n])n=ID[n];else return[n];const[e,t]=n.split(""),i=JG[e],s=QG[t]||"";return Array.isArray(s)?s.map(r=>i+r):[i+s]}),Uw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Fw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uw,...Fw];function $0(n,e,t,i){const s=o1(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?s.startsWith("var(")&&r===0?0:s.startsWith("var(")&&r===1?s:`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const a=Math.abs(r),l=s[a];return r>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function zw(n){return $0(n,"spacing",8)}function e_(n,e){return typeof e=="string"||e==null?e:n(e)}function $G(n,e){return t=>n.reduce((i,s)=>(i[s]=e_(e,t),i),{})}function e8(n,e,t,i){if(!e.includes(t))return null;const s=ZG(t),r=$G(s,i),a=n[t];return Mu(n,a,r)}function oP(n,e){const t=zw(n.theme);return Object.keys(n).map(i=>e8(n,e,i,t)).reduce(zv,{})}function is(n){return oP(n,Uw)}is.propTypes={};is.filterProps=Uw;function ss(n){return oP(n,Fw)}ss.propTypes={};ss.filterProps=Fw;function lP(n=8,e=zw({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(r=>{const a=e(r);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function l1(...n){const e=n.reduce((i,s)=>(s.filterProps.forEach(r=>{i[r]=s}),i),{}),t=i=>Object.keys(i).reduce((s,r)=>e[r]?zv(s,e[r](i)):s,{});return t.propTypes={},t.filterProps=n.reduce((i,s)=>i.concat(s.filterProps),[]),t}function Lo(n){return typeof n!="number"?n:`${n}px solid`}function Vo(n,e){return gs({prop:n,themeKey:"borders",transform:e})}const t8=Vo("border",Lo),n8=Vo("borderTop",Lo),i8=Vo("borderRight",Lo),s8=Vo("borderBottom",Lo),r8=Vo("borderLeft",Lo),a8=Vo("borderColor"),o8=Vo("borderTopColor"),l8=Vo("borderRightColor"),c8=Vo("borderBottomColor"),u8=Vo("borderLeftColor"),f8=Vo("outline",Lo),d8=Vo("outlineColor"),c1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=$0(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:e_(e,i)});return Mu(n,n.borderRadius,t)}return null};c1.propTypes={};c1.filterProps=["borderRadius"];l1(t8,n8,i8,s8,r8,a8,o8,l8,c8,u8,c1,f8,d8);const u1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=$0(n.theme,"spacing",8),t=i=>({gap:e_(e,i)});return Mu(n,n.gap,t)}return null};u1.propTypes={};u1.filterProps=["gap"];const f1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=$0(n.theme,"spacing",8),t=i=>({columnGap:e_(e,i)});return Mu(n,n.columnGap,t)}return null};f1.propTypes={};f1.filterProps=["columnGap"];const d1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=$0(n.theme,"spacing",8),t=i=>({rowGap:e_(e,i)});return Mu(n,n.rowGap,t)}return null};d1.propTypes={};d1.filterProps=["rowGap"];const h8=gs({prop:"gridColumn"}),p8=gs({prop:"gridRow"}),m8=gs({prop:"gridAutoFlow"}),g8=gs({prop:"gridAutoColumns"}),y8=gs({prop:"gridAutoRows"}),v8=gs({prop:"gridTemplateColumns"}),_8=gs({prop:"gridTemplateRows"}),b8=gs({prop:"gridTemplateAreas"}),x8=gs({prop:"gridArea"});l1(u1,f1,d1,h8,p8,m8,g8,y8,v8,_8,b8,x8);function qm(n,e){return e==="grey"?e:n}const S8=gs({prop:"color",themeKey:"palette",transform:qm}),A8=gs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qm}),E8=gs({prop:"backgroundColor",themeKey:"palette",transform:qm});l1(S8,A8,E8);function Ja(n){return n<=1&&n!==0?`${n*100}%`:n}const M8=gs({prop:"width",transform:Ja}),Hw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,r,a,l,u;const i=((a=(r=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:a[t])||a1[t];return i?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Ja(t)}};return Mu(n,n.maxWidth,e)}return null};Hw.filterProps=["maxWidth"];const T8=gs({prop:"minWidth",transform:Ja}),C8=gs({prop:"height",transform:Ja}),w8=gs({prop:"maxHeight",transform:Ja}),R8=gs({prop:"minHeight",transform:Ja});gs({prop:"size",cssProperty:"width",transform:Ja});gs({prop:"size",cssProperty:"height",transform:Ja});const B8=gs({prop:"boxSizing"});l1(M8,Hw,T8,C8,w8,R8,B8);const t_={border:{themeKey:"borders",transform:Lo},borderTop:{themeKey:"borders",transform:Lo},borderRight:{themeKey:"borders",transform:Lo},borderBottom:{themeKey:"borders",transform:Lo},borderLeft:{themeKey:"borders",transform:Lo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c1},color:{themeKey:"palette",transform:qm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qm},backgroundColor:{themeKey:"palette",transform:qm},p:{style:ss},pt:{style:ss},pr:{style:ss},pb:{style:ss},pl:{style:ss},px:{style:ss},py:{style:ss},padding:{style:ss},paddingTop:{style:ss},paddingRight:{style:ss},paddingBottom:{style:ss},paddingLeft:{style:ss},paddingX:{style:ss},paddingY:{style:ss},paddingInline:{style:ss},paddingInlineStart:{style:ss},paddingInlineEnd:{style:ss},paddingBlock:{style:ss},paddingBlockStart:{style:ss},paddingBlockEnd:{style:ss},m:{style:is},mt:{style:is},mr:{style:is},mb:{style:is},ml:{style:is},mx:{style:is},my:{style:is},margin:{style:is},marginTop:{style:is},marginRight:{style:is},marginBottom:{style:is},marginLeft:{style:is},marginX:{style:is},marginY:{style:is},marginInline:{style:is},marginInlineStart:{style:is},marginInlineEnd:{style:is},marginBlock:{style:is},marginBlockStart:{style:is},marginBlockEnd:{style:is},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:u1},rowGap:{style:d1},columnGap:{style:f1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ja},maxWidth:{style:Hw},minWidth:{transform:Ja},height:{transform:Ja},maxHeight:{transform:Ja},minHeight:{transform:Ja},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function D8(...n){const e=n.reduce((i,s)=>i.concat(Object.keys(s)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function I8(n,e){return typeof n=="function"?n(e):n}function O8(){function n(t,i,s,r){const a={[t]:i,theme:s},l=r[t];if(!l)return{[t]:i};const{cssProperty:u=t,themeKey:d,transform:m,style:g}=l;if(i==null)return null;if(d==="typography"&&i==="inherit")return{[t]:i};const y=o1(s,d)||{};return g?g(a):Mu(a,i,x=>{let E=NS(y,m,x);return x===E&&typeof x=="string"&&(E=NS(y,m,`${t}${x==="default"?"":At(x)}`,x)),u===!1?E:{[u]:E}})}function e(t){const{sx:i,theme:s={}}=t||{};if(!i)return null;const r=s.unstable_sxConfig??t_;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=YG(s.breakpoints),m=Object.keys(d);let g=d;return Object.keys(u).forEach(y=>{const b=I8(u[y],s);if(b!=null)if(typeof b=="object")if(r[y])g=zv(g,n(y,b,s,r));else{const x=Mu({theme:s},b,E=>({[y]:E}));D8(x,b)?g[y]=e({sx:b,theme:s}):g=zv(g,x)}else g=zv(g,n(y,b,s,r))}),GG(s,qG(m,g))}return Array.isArray(i)?i.map(a):a(i)}return e}const Xh=O8();Xh.filterProps=["sx"];function N8(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function Gw(n={},...e){const{breakpoints:t={},palette:i={},spacing:s,shape:r={},...a}=n,l=HG(t),u=lP(s);let d=zr({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...WG,...r}},a);return d=jG(d),d.applyStyles=N8,d=e.reduce((m,g)=>zr(m,g),d),d.unstable_sxConfig={...t_,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return Xh({sx:g,theme:this})},d}function L8(n){return Object.keys(n).length===0}function P8(n=null){const e=K.useContext(ig);return!e||L8(e)?n:e}const U8=Gw();function kw(n=U8){return P8(n)}function F8({styles:n,themeId:e,defaultTheme:t={}}){const i=kw(t),s=typeof n=="function"?n(e&&i[e]||i):n;return he.jsx(LG,{styles:s})}const z8=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??t_;return Object.keys(n).forEach(s=>{t[s]?e.systemProps[s]=n[s]:e.otherProps[s]=n[s]}),e};function cP(n){const{sx:e,...t}=n,{systemProps:i,otherProps:s}=z8(t);let r;return Array.isArray(e)?r=[i,...e]:typeof e=="function"?r=(...a)=>{const l=e(...a);return bc(l)?{...i,...l}:i}:r={...i,...e},{...s,sx:r}}const OD=n=>n,H8=()=>{let n=OD;return{configure(e){n=e},generate(e){return n(e)},reset(){n=OD}}},uP=H8();function fP(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=fP(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function en(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=fP(n))&&(i&&(i+=" "),i+=e);return i}function G8(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:s}=n,r=sP("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Xh);return K.forwardRef(function(u,d){const m=kw(t),{className:g,component:y="div",...b}=cP(u);return he.jsx(r,{as:y,ref:d,className:en(g,s?s(i):i),theme:e&&m[e]||m,...b})})}const k8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ui(n,e,t="Mui"){const i=k8[e];return i?`${t}-${i}`:`${uP.generate(n)}-${e}`}function ii(n,e,t="Mui"){const i={};return e.forEach(s=>{i[s]=ui(n,s,t)}),i}function dP(n){const{variants:e,...t}=n,i={variants:e,style:wD(t),isProcessed:!0};return i.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=wD(s.style))}),i}const V8=Gw();function fM(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function j8(n){return n?(e,t)=>t[n]:null}function W8(n,e,t){n.theme=q8(n.theme)?t:n.theme[e]||n.theme}function vS(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>vS(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:s,...r}=t;i=r}return hP(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function hP(n,e,t=[]){var s;let i;e:for(let r=0;r<e.length;r+=1){const a=e[r];if(typeof a.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!a.props(i))continue}else for(const l in a.props)if(n[l]!==a.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==a.props[l])continue e;typeof a.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(a.style(i))):t.push(a.style)}return t}function X8(n={}){const{themeId:e,defaultTheme:t=V8,rootShouldForwardProp:i=fM,slotShouldForwardProp:s=fM}=n;function r(l){W8(l,e,t)}return(l,u={})=>{PG(l,N=>N.filter(O=>O!==Xh));const{name:d,slot:m,skipVariantsResolver:g,skipSx:y,overridesResolver:b=j8(J8(m)),...x}=u,E=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,A=y||!1;let S=fM;m==="Root"||m==="root"?S=i:m?S=s:K8(l)&&(S=void 0);const B=sP(l,{shouldForwardProp:S,label:Y8(),...x}),w=N=>{if(typeof N=="function"&&N.__emotion_real!==N)return function(U){return vS(U,N)};if(bc(N)){const O=dP(N);return O.variants?function(P){return vS(P,O)}:O.style}return N},R=(...N)=>{const O=[],U=N.map(w),P=[];if(O.push(r),d&&b&&P.push(function(G){var H,q;const ie=(q=(H=G.theme.components)==null?void 0:H[d])==null?void 0:q.styleOverrides;if(!ie)return null;const ne={};for(const $ in ie)ne[$]=vS(G,ie[$]);return b(G,ne)}),d&&!E&&P.push(function(G){var ne,H;const J=G.theme,ie=(H=(ne=J==null?void 0:J.components)==null?void 0:ne[d])==null?void 0:H.variants;return ie?hP(G,ie):null}),A||P.push(Xh),Array.isArray(U[0])){const F=U.shift(),G=new Array(O.length).fill(""),J=new Array(P.length).fill("");let ie;ie=[...G,...F,...J],ie.raw=[...G,...F.raw,...J],O.unshift(ie)}const L=[...O,...U,...P],M=B(...L);return l.muiName&&(M.muiName=l.muiName),M};return B.withConfig&&(R.withConfig=B.withConfig),R}}function Y8(n,e){return void 0}function q8(n){for(const e in n)return!1;return!0}function K8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function J8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function LS(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const r=n[s],a=e[s];if(!a)t[s]=r||{};else if(!r)t[s]=a;else{t[s]={...a};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=l;t[s][u]=LS(r[u],a[u])}}}else t[s]===void 0&&(t[s]=n[s])}return t}const Tu=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Q8(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Vw(n,e=0,t=1){return Q8(n,e,t)}function Z8(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Qf(n){if(n.type)return n;if(n.charAt(0)==="#")return Qf(Z8(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Eu(9,n));let i=n.substring(e+1,n.length-1),s;if(t==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Eu(10,s))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:t,values:i,colorSpace:s}}const $8=n=>{const e=Qf(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Iv=(n,e)=>{try{return $8(n)}catch{return n}};function h1(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((s,r)=>r<3?parseInt(s,10):s):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function pP(n){n=Qf(n);const{values:e}=n,t=e[0],i=e[1]/100,s=e[2]/100,r=i*Math.min(s,1-s),a=(d,m=(d+t/30)%12)=>s-r*Math.max(Math.min(m-3,9-m,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),h1({type:l,values:u})}function iC(n){n=Qf(n);let e=n.type==="hsl"||n.type==="hsla"?Qf(pP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ek(n,e){const t=iC(n),i=iC(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Hi(n,e){return n=Qf(n),e=Vw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,h1(n)}function rx(n,e,t){try{return Hi(n,e)}catch{return n}}function jw(n,e){if(n=Qf(n),e=Vw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return h1(n)}function Si(n,e,t){try{return jw(n,e)}catch{return n}}function Ww(n,e){if(n=Qf(n),e=Vw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return h1(n)}function Ai(n,e,t){try{return Ww(n,e)}catch{return n}}function tk(n,e=.15){return iC(n)>.5?jw(n,e):Ww(n,e)}function ax(n,e,t){try{return tk(n,e)}catch{return n}}const nk=K.createContext(),mP=()=>K.useContext(nk)??!1,ik=K.createContext(void 0);function sk(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const s=e.components[t];return s.defaultProps?LS(s.defaultProps,i):!s.styleOverrides&&!s.variants?LS(s,i):i}function rk({props:n,name:e}){const t=K.useContext(ik);return sk({props:n,name:e,theme:{components:t}})}const ND={theme:void 0};function ak(n){let e,t;return function(s){let r=e;return(r===void 0||s.theme!==t)&&(ND.theme=s.theme,r=dP(n(ND)),e=r,t=s.theme),r}}function ok(n=""){function e(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${n?`${n}-`:""}${i}${e(...s)})`}const LD=(n,e,t,i=[])=>{let s=n;e.forEach((r,a)=>{a===e.length-1?Array.isArray(s)?s[Number(r)]=t:s&&typeof s=="object"&&(s[r]=t):s&&typeof s=="object"&&(s[r]||(s[r]=i.includes(r)?[]:{}),s=s[r])})},lk=(n,e,t)=>{function i(s,r=[],a=[]){Object.entries(s).forEach(([l,u])=>{(!t||t&&!t([...r,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...r,l],Array.isArray(u)?[...a,l]:a):e([...r,l],u,a))})}i(n)},ck=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function dM(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},s={},r={},a={};return lk(n,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(l,u))){const m=`--${t?`${t}-`:""}${l.join("-")}`,g=ck(l,u);Object.assign(s,{[m]:g}),LD(r,l,`var(${m})`,d),LD(a,l,`var(${m}, ${g})`,d)}},l=>l[0]==="vars"),{css:s,vars:r,varsWithDefaults:a}}function uk(n,e={}){const{getSelector:t=A,disableCssColorScheme:i,colorSchemeSelector:s}=e,{colorSchemes:r={},components:a,defaultColorScheme:l="light",...u}=n,{vars:d,css:m,varsWithDefaults:g}=dM(u,e);let y=g;const b={},{[l]:x,...E}=r;if(Object.entries(E||{}).forEach(([w,R])=>{const{vars:N,css:O,varsWithDefaults:U}=dM(R,e);y=zr(y,U),b[w]={css:O,vars:N}}),x){const{css:w,vars:R,varsWithDefaults:N}=dM(x,e);y=zr(y,N),b[l]={css:w,vars:R}}function A(w,R){var O,U;let N=s;if(s==="class"&&(N=".%s"),s==="data"&&(N="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(N=`[${s}="%s"]`),w){if(N==="media")return n.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((U=(O=r[w])==null?void 0:O.palette)==null?void 0:U.mode)||w})`]:{":root":R}};if(N)return n.defaultColorScheme===w?`:root, ${N.replace("%s",String(w))}`:N.replace("%s",String(w))}return":root"}return{vars:y,generateThemeVars:()=>{let w={...d};return Object.entries(b).forEach(([,{vars:R}])=>{w=zr(w,R)}),w},generateStyleSheets:()=>{var P,L;const w=[],R=n.defaultColorScheme||"light";function N(M,F){Object.keys(F).length&&w.push(typeof M=="string"?{[M]:{...F}}:M)}N(t(void 0,{...m}),m);const{[R]:O,...U}=b;if(O){const{css:M}=O,F=(L=(P=r[R])==null?void 0:P.palette)==null?void 0:L.mode,G=!i&&F?{colorScheme:F,...M}:{...M};N(t(R,{...G}),G)}return Object.entries(U).forEach(([M,{css:F}])=>{var ie,ne;const G=(ne=(ie=r[M])==null?void 0:ie.palette)==null?void 0:ne.mode,J=!i&&G?{colorScheme:G,...F}:{...F};N(t(M,{...J}),J)}),w}}}function fk(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function fi(n,e,t=void 0){const i={};for(const s in n){const r=n[s];let a="",l=!0;for(let u=0;u<r.length;u+=1){const d=r[u];d&&(a+=(l===!0?"":" ")+e(d),l=!1,t&&t[d]&&(a+=" "+t[d]))}i[s]=a}return i}function hM(n,e){var t,i,s;return K.isValidElement(n)&&e.indexOf(n.type.muiName??((s=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:s.muiName))!==-1}function gP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d0.white,default:d0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const dk=gP();function yP(){return{text:{primary:d0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const PD=yP();function UD(n,e,t,i){const s=i.light||i,r=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Ww(n.main,s):e==="dark"&&(n.dark=jw(n.main,r)))}function hk(n="light"){return n==="dark"?{main:dm[200],light:dm[50],dark:dm[400]}:{main:dm[700],light:dm[400],dark:dm[800]}}function pk(n="light"){return n==="dark"?{main:fm[200],light:fm[50],dark:fm[400]}:{main:fm[500],light:fm[300],dark:fm[700]}}function mk(n="light"){return n==="dark"?{main:um[500],light:um[300],dark:um[700]}:{main:um[700],light:um[400],dark:um[800]}}function gk(n="light"){return n==="dark"?{main:hm[400],light:hm[300],dark:hm[700]}:{main:hm[700],light:hm[500],dark:hm[900]}}function yk(n="light"){return n==="dark"?{main:pm[400],light:pm[300],dark:pm[700]}:{main:pm[800],light:pm[500],dark:pm[900]}}function vk(n="light"){return n==="dark"?{main:cv[400],light:cv[300],dark:cv[700]}:{main:"#ed6c02",light:cv[500],dark:cv[900]}}function Xw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...s}=n,r=n.primary||hk(e),a=n.secondary||pk(e),l=n.error||mk(e),u=n.info||gk(e),d=n.success||yk(e),m=n.warning||vk(e);function g(E){return ek(E,PD.text.primary)>=t?PD.text.primary:dk.text.primary}const y=({color:E,name:A,mainShade:S=500,lightShade:B=300,darkShade:w=700})=>{if(E={...E},!E.main&&E[S]&&(E.main=E[S]),!E.hasOwnProperty("main"))throw new Error(Eu(11,A?` (${A})`:"",S));if(typeof E.main!="string")throw new Error(Eu(12,A?` (${A})`:"",JSON.stringify(E.main)));return UD(E,"light",B,i),UD(E,"dark",w,i),E.contrastText||(E.contrastText=g(E.main)),E};let b;return e==="light"?b=gP():e==="dark"&&(b=yP()),zr({common:{...d0},mode:e,primary:y({color:r,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:d,name:"success"}),grey:O6,contrastThreshold:t,getContrastText:g,augmentColor:y,tonalOffset:i,...b},s)}function _k(n){const e={};return Object.entries(n).forEach(i=>{const[s,r]=i;typeof r=="object"&&(e[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function bk(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function xk(n){return Math.round(n*1e5)/1e5}const FD={textTransform:"uppercase"},zD='"Roboto", "Helvetica", "Arial", sans-serif';function Sk(n,e){const{fontFamily:t=zD,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:m,...g}=typeof e=="function"?e(n):e,y=i/14,b=m||(A=>`${A/u*y}rem`),x=(A,S,B,w,R)=>({fontFamily:t,fontWeight:A,fontSize:b(S),lineHeight:B,...t===zD?{letterSpacing:`${xk(w/S)}em`}:{},...R,...d}),E={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(r,48,1.167,0),h4:x(r,34,1.235,.25),h5:x(r,24,1.334,0),h6:x(a,20,1.6,.15),subtitle1:x(r,16,1.75,.15),subtitle2:x(a,14,1.57,.1),body1:x(r,16,1.5,.15),body2:x(r,14,1.43,.15),button:x(a,14,1.75,.4,FD),caption:x(r,12,1.66,.4),overline:x(r,12,2.66,1,FD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zr({htmlFontSize:u,pxToRem:b,fontFamily:t,fontSize:i,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:a,fontWeightBold:l,...E},g,{clone:!1})}const Ak=.2,Ek=.14,Mk=.12;function zi(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Ak})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Ek})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Mk})`].join(",")}const Tk=["none",zi(0,2,1,-1,0,1,1,0,0,1,3,0),zi(0,3,1,-2,0,2,2,0,0,1,5,0),zi(0,3,3,-2,0,3,4,0,0,1,8,0),zi(0,2,4,-1,0,4,5,0,0,1,10,0),zi(0,3,5,-1,0,5,8,0,0,1,14,0),zi(0,3,5,-1,0,6,10,0,0,1,18,0),zi(0,4,5,-2,0,7,10,1,0,2,16,1),zi(0,5,5,-3,0,8,10,1,0,3,14,2),zi(0,5,6,-3,0,9,12,1,0,3,16,2),zi(0,6,6,-3,0,10,14,1,0,4,18,3),zi(0,6,7,-4,0,11,15,1,0,4,20,3),zi(0,7,8,-4,0,12,17,2,0,5,22,4),zi(0,7,8,-4,0,13,19,2,0,5,24,4),zi(0,7,9,-4,0,14,21,2,0,5,26,4),zi(0,8,9,-5,0,15,22,2,0,6,28,5),zi(0,8,10,-5,0,16,24,2,0,6,30,5),zi(0,8,11,-5,0,17,26,2,0,6,32,5),zi(0,9,11,-5,0,18,28,2,0,7,34,6),zi(0,9,12,-6,0,19,29,2,0,7,36,6),zi(0,10,13,-6,0,20,31,3,0,8,38,7),zi(0,10,13,-6,0,21,33,3,0,8,40,7),zi(0,10,14,-6,0,22,35,3,0,8,42,7),zi(0,11,14,-7,0,23,36,3,0,9,44,8),zi(0,11,15,-7,0,24,38,3,0,9,46,8)],Ck={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function HD(n){return`${Math.round(n)}ms`}function Rk(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Bk(n){const e={...Ck,...n.easing},t={...wk,...n.duration};return{getAutoHeightDuration:Rk,create:(s=["all"],r={})=>{const{duration:a=t.standard,easing:l=e.easeInOut,delay:u=0,...d}=r;return(Array.isArray(s)?s:[s]).map(m=>`${m} ${typeof a=="string"?a:HD(a)} ${l} ${typeof u=="string"?u:HD(u)}`).join(",")},...n,easing:e,duration:t}}const Dk={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ik(n){return bc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function vP(n={}){const e={...n};function t(i){const s=Object.entries(i);for(let r=0;r<s.length;r++){const[a,l]=s[r];!Ik(l)||a.startsWith("unstable_")?delete i[a]:bc(l)&&(i[a]={...l},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sC(n={},...e){const{breakpoints:t,mixins:i={},spacing:s,palette:r={},transitions:a={},typography:l={},shape:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Eu(20));const m=Xw(r),g=Gw(n);let y=zr(g,{mixins:bk(g.breakpoints,i),palette:m,shadows:Tk.slice(),typography:Sk(m,l),transitions:Bk(a),zIndex:{...Dk}});return y=zr(y,d),y=e.reduce((b,x)=>zr(b,x),y),y.unstable_sxConfig={...t_,...d==null?void 0:d.unstable_sxConfig},y.unstable_sx=function(x){return Xh({sx:x,theme:this})},y.toRuntimeSource=vP,y}function rC(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Ok=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=rC(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function _P(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function bP(n){return n==="dark"?Ok:[]}function Nk(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...s}=n,r=Xw(e);return{palette:r,opacity:{..._P(r.mode),...t},overlays:i||bP(r.mode),...s}}function Lk(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Pk=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Uk=n=>(e,t)=>{const i=n.rootSelector||":root",s=n.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return Pk(n.cssVarPrefix).forEach(l=>{a[l]=t[l],delete t[l]}),r==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:r?{[r.replace("%s",e)]:a,[`${i}, ${r.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(r)return r.replace("%s",String(e))}return i};function Fk(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ze(n,e,t){!n[e]&&t&&(n[e]=t)}function Ov(n){return typeof n!="string"||!n.startsWith("hsl")?n:pP(n)}function iu(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Iv(Ov(n[e])))}function zk(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const mc=n=>{try{return n()}catch{}},Hk=(n="mui")=>ok(n);function pM(n,e,t,i){if(!e)return;e=e===!0?{}:e;const s=i==="dark"?"dark":"light";if(!t){n[i]=Nk({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:r,...a}=sC({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[i]={...e,palette:r,opacity:{..._P(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||bP(s)},a}function Gk(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:a=Lk,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...d}=n,m=Object.keys(t)[0],g=i||(t.light&&m!=="light"?"light":m),y=Hk(r),{[g]:b,light:x,dark:E,...A}=t,S={...A};let B=b;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(B=!0),!B)throw new Error(Eu(21,g));const w=pM(S,B,d,g);x&&!S.light&&pM(S,x,void 0,"light"),E&&!S.dark&&pM(S,E,void 0,"dark");let R={defaultColorScheme:g,...w,cssVarPrefix:r,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:S,font:{..._k(w.typography),...w.font},spacing:zk(d.spacing)};Object.keys(R.colorSchemes).forEach(L=>{const M=R.colorSchemes[L].palette,F=G=>{const J=G.split("-"),ie=J[1],ne=J[2];return y(G,M[ie][ne])};if(M.mode==="light"&&(Ze(M.common,"background","#fff"),Ze(M.common,"onBackground","#000")),M.mode==="dark"&&(Ze(M.common,"background","#000"),Ze(M.common,"onBackground","#fff")),Fk(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){Ze(M.Alert,"errorColor",Si(M.error.light,.6)),Ze(M.Alert,"infoColor",Si(M.info.light,.6)),Ze(M.Alert,"successColor",Si(M.success.light,.6)),Ze(M.Alert,"warningColor",Si(M.warning.light,.6)),Ze(M.Alert,"errorFilledBg",F("palette-error-main")),Ze(M.Alert,"infoFilledBg",F("palette-info-main")),Ze(M.Alert,"successFilledBg",F("palette-success-main")),Ze(M.Alert,"warningFilledBg",F("palette-warning-main")),Ze(M.Alert,"errorFilledColor",mc(()=>M.getContrastText(M.error.main))),Ze(M.Alert,"infoFilledColor",mc(()=>M.getContrastText(M.info.main))),Ze(M.Alert,"successFilledColor",mc(()=>M.getContrastText(M.success.main))),Ze(M.Alert,"warningFilledColor",mc(()=>M.getContrastText(M.warning.main))),Ze(M.Alert,"errorStandardBg",Ai(M.error.light,.9)),Ze(M.Alert,"infoStandardBg",Ai(M.info.light,.9)),Ze(M.Alert,"successStandardBg",Ai(M.success.light,.9)),Ze(M.Alert,"warningStandardBg",Ai(M.warning.light,.9)),Ze(M.Alert,"errorIconColor",F("palette-error-main")),Ze(M.Alert,"infoIconColor",F("palette-info-main")),Ze(M.Alert,"successIconColor",F("palette-success-main")),Ze(M.Alert,"warningIconColor",F("palette-warning-main")),Ze(M.AppBar,"defaultBg",F("palette-grey-100")),Ze(M.Avatar,"defaultBg",F("palette-grey-400")),Ze(M.Button,"inheritContainedBg",F("palette-grey-300")),Ze(M.Button,"inheritContainedHoverBg",F("palette-grey-A100")),Ze(M.Chip,"defaultBorder",F("palette-grey-400")),Ze(M.Chip,"defaultAvatarColor",F("palette-grey-700")),Ze(M.Chip,"defaultIconColor",F("palette-grey-700")),Ze(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ze(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ze(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ze(M.LinearProgress,"primaryBg",Ai(M.primary.main,.62)),Ze(M.LinearProgress,"secondaryBg",Ai(M.secondary.main,.62)),Ze(M.LinearProgress,"errorBg",Ai(M.error.main,.62)),Ze(M.LinearProgress,"infoBg",Ai(M.info.main,.62)),Ze(M.LinearProgress,"successBg",Ai(M.success.main,.62)),Ze(M.LinearProgress,"warningBg",Ai(M.warning.main,.62)),Ze(M.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),Ze(M.Slider,"primaryTrack",Ai(M.primary.main,.62)),Ze(M.Slider,"secondaryTrack",Ai(M.secondary.main,.62)),Ze(M.Slider,"errorTrack",Ai(M.error.main,.62)),Ze(M.Slider,"infoTrack",Ai(M.info.main,.62)),Ze(M.Slider,"successTrack",Ai(M.success.main,.62)),Ze(M.Slider,"warningTrack",Ai(M.warning.main,.62));const G=ax(M.background.default,.8);Ze(M.SnackbarContent,"bg",G),Ze(M.SnackbarContent,"color",mc(()=>M.getContrastText(G))),Ze(M.SpeedDialAction,"fabHoverBg",ax(M.background.paper,.15)),Ze(M.StepConnector,"border",F("palette-grey-400")),Ze(M.StepContent,"border",F("palette-grey-400")),Ze(M.Switch,"defaultColor",F("palette-common-white")),Ze(M.Switch,"defaultDisabledColor",F("palette-grey-100")),Ze(M.Switch,"primaryDisabledColor",Ai(M.primary.main,.62)),Ze(M.Switch,"secondaryDisabledColor",Ai(M.secondary.main,.62)),Ze(M.Switch,"errorDisabledColor",Ai(M.error.main,.62)),Ze(M.Switch,"infoDisabledColor",Ai(M.info.main,.62)),Ze(M.Switch,"successDisabledColor",Ai(M.success.main,.62)),Ze(M.Switch,"warningDisabledColor",Ai(M.warning.main,.62)),Ze(M.TableCell,"border",Ai(rx(M.divider,1),.88)),Ze(M.Tooltip,"bg",rx(M.grey[700],.92))}if(M.mode==="dark"){Ze(M.Alert,"errorColor",Ai(M.error.light,.6)),Ze(M.Alert,"infoColor",Ai(M.info.light,.6)),Ze(M.Alert,"successColor",Ai(M.success.light,.6)),Ze(M.Alert,"warningColor",Ai(M.warning.light,.6)),Ze(M.Alert,"errorFilledBg",F("palette-error-dark")),Ze(M.Alert,"infoFilledBg",F("palette-info-dark")),Ze(M.Alert,"successFilledBg",F("palette-success-dark")),Ze(M.Alert,"warningFilledBg",F("palette-warning-dark")),Ze(M.Alert,"errorFilledColor",mc(()=>M.getContrastText(M.error.dark))),Ze(M.Alert,"infoFilledColor",mc(()=>M.getContrastText(M.info.dark))),Ze(M.Alert,"successFilledColor",mc(()=>M.getContrastText(M.success.dark))),Ze(M.Alert,"warningFilledColor",mc(()=>M.getContrastText(M.warning.dark))),Ze(M.Alert,"errorStandardBg",Si(M.error.light,.9)),Ze(M.Alert,"infoStandardBg",Si(M.info.light,.9)),Ze(M.Alert,"successStandardBg",Si(M.success.light,.9)),Ze(M.Alert,"warningStandardBg",Si(M.warning.light,.9)),Ze(M.Alert,"errorIconColor",F("palette-error-main")),Ze(M.Alert,"infoIconColor",F("palette-info-main")),Ze(M.Alert,"successIconColor",F("palette-success-main")),Ze(M.Alert,"warningIconColor",F("palette-warning-main")),Ze(M.AppBar,"defaultBg",F("palette-grey-900")),Ze(M.AppBar,"darkBg",F("palette-background-paper")),Ze(M.AppBar,"darkColor",F("palette-text-primary")),Ze(M.Avatar,"defaultBg",F("palette-grey-600")),Ze(M.Button,"inheritContainedBg",F("palette-grey-800")),Ze(M.Button,"inheritContainedHoverBg",F("palette-grey-700")),Ze(M.Chip,"defaultBorder",F("palette-grey-700")),Ze(M.Chip,"defaultAvatarColor",F("palette-grey-300")),Ze(M.Chip,"defaultIconColor",F("palette-grey-300")),Ze(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ze(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ze(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ze(M.LinearProgress,"primaryBg",Si(M.primary.main,.5)),Ze(M.LinearProgress,"secondaryBg",Si(M.secondary.main,.5)),Ze(M.LinearProgress,"errorBg",Si(M.error.main,.5)),Ze(M.LinearProgress,"infoBg",Si(M.info.main,.5)),Ze(M.LinearProgress,"successBg",Si(M.success.main,.5)),Ze(M.LinearProgress,"warningBg",Si(M.warning.main,.5)),Ze(M.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),Ze(M.Slider,"primaryTrack",Si(M.primary.main,.5)),Ze(M.Slider,"secondaryTrack",Si(M.secondary.main,.5)),Ze(M.Slider,"errorTrack",Si(M.error.main,.5)),Ze(M.Slider,"infoTrack",Si(M.info.main,.5)),Ze(M.Slider,"successTrack",Si(M.success.main,.5)),Ze(M.Slider,"warningTrack",Si(M.warning.main,.5));const G=ax(M.background.default,.98);Ze(M.SnackbarContent,"bg",G),Ze(M.SnackbarContent,"color",mc(()=>M.getContrastText(G))),Ze(M.SpeedDialAction,"fabHoverBg",ax(M.background.paper,.15)),Ze(M.StepConnector,"border",F("palette-grey-600")),Ze(M.StepContent,"border",F("palette-grey-600")),Ze(M.Switch,"defaultColor",F("palette-grey-300")),Ze(M.Switch,"defaultDisabledColor",F("palette-grey-600")),Ze(M.Switch,"primaryDisabledColor",Si(M.primary.main,.55)),Ze(M.Switch,"secondaryDisabledColor",Si(M.secondary.main,.55)),Ze(M.Switch,"errorDisabledColor",Si(M.error.main,.55)),Ze(M.Switch,"infoDisabledColor",Si(M.info.main,.55)),Ze(M.Switch,"successDisabledColor",Si(M.success.main,.55)),Ze(M.Switch,"warningDisabledColor",Si(M.warning.main,.55)),Ze(M.TableCell,"border",Si(rx(M.divider,1),.68)),Ze(M.Tooltip,"bg",rx(M.grey[700],.92))}iu(M.background,"default"),iu(M.background,"paper"),iu(M.common,"background"),iu(M.common,"onBackground"),iu(M,"divider"),Object.keys(M).forEach(G=>{const J=M[G];G!=="tonalOffset"&&J&&typeof J=="object"&&(J.main&&Ze(M[G],"mainChannel",Iv(Ov(J.main))),J.light&&Ze(M[G],"lightChannel",Iv(Ov(J.light))),J.dark&&Ze(M[G],"darkChannel",Iv(Ov(J.dark))),J.contrastText&&Ze(M[G],"contrastTextChannel",Iv(Ov(J.contrastText))),G==="text"&&(iu(M[G],"primary"),iu(M[G],"secondary")),G==="action"&&(J.active&&iu(M[G],"active"),J.selected&&iu(M[G],"selected")))})}),R=e.reduce((L,M)=>zr(L,M),R);const N={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:a,getSelector:Uk(R)},{vars:O,generateThemeVars:U,generateStyleSheets:P}=uk(R,N);return R.vars=O,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([L,M])=>{R[L]=M}),R.generateThemeVars=U,R.generateStyleSheets=P,R.generateSpacing=function(){return lP(d.spacing,zw(this))},R.getColorSchemeSelector=fk(l),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=a,R.unstable_sxConfig={...t_,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(M){return Xh({sx:M,theme:this})},R.toRuntimeSource=vP,R}function GD(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Xw({...t===!0?{}:t.palette,mode:e})})}function Yw(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:r=t==null?void 0:t.mode,...a}=n,l=r||"light",u=s==null?void 0:s[l],d={...s,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return sC(n,...e);let m=t;"palette"in n||d[l]&&(d[l]!==!0?m=d[l].palette:l==="dark"&&(m={mode:"dark"}));const g=sC({...n,palette:m},...e);return g.defaultColorScheme=l,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},GD(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},GD(g,"light",d.light)),g}return!t&&!("light"in d)&&l==="light"&&(d.light=!0),Gk({...a,colorSchemes:d,defaultColorScheme:l,...typeof i!="boolean"&&i},...e)}const qw=Yw();function p1(){const n=kw(qw);return n[n1]||n}function xP(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Il=n=>xP(n)&&n!=="classes",Bt=X8({themeId:n1,defaultTheme:qw,rootShouldForwardProp:Il});function kD(...n){return n.reduce((e,t)=>t==null?e:function(...s){e.apply(this,s),t.apply(this,s)},()=>{})}function kk(n){return he.jsx(F8,{...n,defaultTheme:qw,themeId:n1})}function Vk(n){return function(t){return he.jsx(kk,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function jk(){return cP}const qn=ak;function vi(n){return rk(n)}function Wk(n){return ui("MuiSvgIcon",n)}ii("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Xk=n=>{const{color:e,fontSize:t,classes:i}=n,s={root:["root",e!=="inherit"&&`color${At(e)}`,`fontSize${At(t)}`]};return fi(s,Wk,i)},Yk=Bt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${At(t.color)}`],e[`fontSize${At(t.fontSize)}`]]}})(qn(({theme:n})=>{var e,t,i,s,r,a,l,u,d,m,g,y,b,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(r=n.typography)==null?void 0:r.pxToRem)==null?void 0:a.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:m.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,E])=>E&&E.main).map(([E])=>{var A,S;return{props:{color:E},style:{color:(S=(A=(n.vars??n).palette)==null?void 0:A[E])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(y=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(x=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),aC=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiSvgIcon"}),{children:s,className:r,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:m=!1,titleAccess:g,viewBox:y="0 0 24 24",...b}=i,x=K.isValidElement(s)&&s.type==="svg",E={...i,color:a,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:y,hasSvgAsChild:x},A={};m||(A.viewBox=y);const S=Xk(E);return he.jsxs(Yk,{as:l,className:en(S.root,r),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...b,...x&&s.props,ownerState:E,children:[x?s.props.children:s,g?he.jsx("title",{children:g}):null]})});aC.muiName="SvgIcon";function Kw(n,e){function t(i,s){return he.jsx(aC,{"data-testid":void 0,ref:s,...i,children:n})}return t.muiName=aC.muiName,K.memo(K.forwardRef(t))}function SP(n,e=166){let t;function i(...s){const r=()=>{n.apply(this,s)};clearTimeout(t),t=setTimeout(r,e)}return i.clear=()=>{clearTimeout(t)},i}function io(n){return n&&n.ownerDocument||document}function Cu(n){return io(n).defaultView||window}function oC(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let VD=0;function qk(n){const[e,t]=K.useState(n),i=n||e;return K.useEffect(()=>{e==null&&(VD+=1,t(`mui-${VD}`))},[e]),i}const Kk={...ZT},jD=Kk.useId;function n_(n){if(jD!==void 0){const e=jD();return n??e}return qk(n)}function Hv(n){const{controlled:e,default:t,name:i,state:s="value"}=n,{current:r}=K.useRef(e!==void 0),[a,l]=K.useState(t),u=r?e:a,d=K.useCallback(m=>{r||l(m)},[]);return[u,d]}function Tl(n){const e=K.useRef(n);return Tu(()=>{e.current=n}),K.useRef((...t)=>(0,e.current)(...t)).current}function vr(...n){const e=K.useRef(void 0),t=K.useCallback(i=>{const s=n.map(r=>{if(r==null)return null;if(typeof r=="function"){const a=r,l=a(i);return typeof l=="function"?l:()=>{a(null)}}return r.current=i,()=>{r.current=null}});return()=>{s.forEach(r=>r==null?void 0:r())}},n);return K.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function Jk(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function Qk(n,e){if(!n)return e;function t(a,l){const u={};return Object.keys(l).forEach(d=>{Jk(d,l[d])&&typeof a[d]=="function"&&(u[d]=(...m)=>{a[d](...m),l[d](...m)})}),u}if(typeof n=="function"||typeof e=="function")return a=>{const l=typeof e=="function"?e(a):e,u=typeof n=="function"?n({...a,...l}):n,d=en(a==null?void 0:a.className,l==null?void 0:l.className,u==null?void 0:u.className),m=t(u,l);return{...l,...u,...m,...!!d&&{className:d},...(l==null?void 0:l.style)&&(u==null?void 0:u.style)&&{style:{...l.style,...u.style}},...(l==null?void 0:l.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=e,s=t(n,i),r=en(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...s,...!!r&&{className:r},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function AP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function lC(n,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},lC(n,e)}function EP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,lC(n,e)}var MP=jL();const ox=K0(MP),WD={disabled:!1},PS=Ml.createContext(null);var Zk=function(e){return e.scrollTop},Nv="unmounted",_h="exited",bh="entering",Fm="entered",cC="exiting",Ic=function(n){EP(e,n);function e(i,s){var r;r=n.call(this,i,s)||this;var a=s,l=a&&!a.isMounting?i.enter:i.appear,u;return r.appearStatus=null,i.in?l?(u=_h,r.appearStatus=bh):u=Fm:i.unmountOnExit||i.mountOnEnter?u=Nv:u=_h,r.state={status:u},r.nextCallback=null,r}e.getDerivedStateFromProps=function(s,r){var a=s.in;return a&&r.status===Nv?{status:_h}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var r=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==bh&&a!==Fm&&(r=bh):(a===bh||a===Fm)&&(r=cC)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,r,a,l;return r=a=l=s,s!=null&&typeof s!="number"&&(r=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:r,enter:a,appear:l}},t.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===bh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ox.findDOMNode(this);a&&Zk(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_h&&this.setState({status:Nv})},t.performEnter=function(s){var r=this,a=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[ox.findDOMNode(this),l],d=u[0],m=u[1],g=this.getTimeouts(),y=l?g.appear:g.enter;if(!s&&!a||WD.disabled){this.safeSetState({status:Fm},function(){r.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:bh},function(){r.props.onEntering(d,m),r.onTransitionEnd(y,function(){r.safeSetState({status:Fm},function(){r.props.onEntered(d,m)})})})},t.performExit=function(){var s=this,r=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:ox.findDOMNode(this);if(!r||WD.disabled){this.safeSetState({status:_h},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:cC},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:_h},function(){s.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},t.setNextCallback=function(s){var r=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,r.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(s,r){this.setNextCallback(r);var a=this.props.nodeRef?this.props.nodeRef.current:ox.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],m=u[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Nv)return null;var r=this.props,a=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var l=AP(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ml.createElement(PS.Provider,{value:null},typeof a=="function"?a(s,l):Ml.cloneElement(Ml.Children.only(a),l))},e}(Ml.Component);Ic.contextType=PS;Ic.propTypes={};function mm(){}Ic.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mm,onEntering:mm,onEntered:mm,onExit:mm,onExiting:mm,onExited:mm};Ic.UNMOUNTED=Nv;Ic.EXITED=_h;Ic.ENTERING=bh;Ic.ENTERED=Fm;Ic.EXITING=cC;function $k(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jw(n,e){var t=function(r){return e&&K.isValidElement(r)?e(r):r},i=Object.create(null);return n&&K.Children.map(n,function(s){return s}).forEach(function(s){i[s.key]=t(s)}),i}function eV(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var i=Object.create(null),s=[];for(var r in n)r in e?s.length&&(i[r]=s,s=[]):s.push(r);var a,l={};for(var u in e){if(i[u])for(a=0;a<i[u].length;a++){var d=i[u][a];l[i[u][a]]=t(d)}l[u]=t(u)}for(a=0;a<s.length;a++)l[s[a]]=t(s[a]);return l}function Rh(n,e,t){return t[e]!=null?t[e]:n.props[e]}function tV(n,e){return Jw(n.children,function(t){return K.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Rh(t,"appear",n),enter:Rh(t,"enter",n),exit:Rh(t,"exit",n)})})}function nV(n,e,t){var i=Jw(n.children),s=eV(e,i);return Object.keys(s).forEach(function(r){var a=s[r];if(K.isValidElement(a)){var l=r in e,u=r in i,d=e[r],m=K.isValidElement(d)&&!d.props.in;u&&(!l||m)?s[r]=K.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Rh(a,"exit",n),enter:Rh(a,"enter",n)}):!u&&l&&!m?s[r]=K.cloneElement(a,{in:!1}):u&&l&&K.isValidElement(d)&&(s[r]=K.cloneElement(a,{onExited:t.bind(null,a),in:d.props.in,exit:Rh(a,"exit",n),enter:Rh(a,"enter",n)}))}}),s}var iV=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},sV={component:"div",childFactory:function(e){return e}},Qw=function(n){EP(e,n);function e(i,s){var r;r=n.call(this,i,s)||this;var a=r.handleExited.bind($k(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,r){var a=r.children,l=r.handleExited,u=r.firstRender;return{children:u?tV(s,l):nV(s,a,l),firstRender:!1}},t.handleExited=function(s,r){var a=Jw(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(r),this.mounted&&this.setState(function(l){var u=tg({},l.children);return delete u[s.key],{children:u}}))},t.render=function(){var s=this.props,r=s.component,a=s.childFactory,l=AP(s,["component","childFactory"]),u=this.state.contextValue,d=iV(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,r===null?Ml.createElement(PS.Provider,{value:u},d):Ml.createElement(PS.Provider,{value:u},Ml.createElement(r,l,d))},e}(Ml.Component);Qw.propTypes={};Qw.defaultProps=sV;const XD={};function TP(n,e){const t=K.useRef(XD);return t.current===XD&&(t.current=n(e)),t}const rV=[];function aV(n){K.useEffect(n,rV)}class Zw{constructor(){av(this,"currentId",null);av(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});av(this,"disposeEffect",()=>this.clear)}static create(){return new Zw}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function CP(){const n=TP(Zw.create).current;return aV(n.disposeEffect),n}const wP=n=>n.scrollTop;function US(n,e){const{timeout:t,easing:i,style:s={}}=n;return{duration:s.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:s.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:s.transitionDelay}}function oV(n){return ui("MuiPaper",n)}ii("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const lV=n=>{const{square:e,elevation:t,variant:i,classes:s}=n,r={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return fi(r,oV,s)},cV=Bt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(qn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Rg=K.forwardRef(function(e,t){var b;const i=vi({props:e,name:"MuiPaper"}),s=p1(),{className:r,component:a="div",elevation:l=1,square:u=!1,variant:d="elevation",...m}=i,g={...i,component:a,elevation:l,square:u,variant:d},y=lV(g);return he.jsx(cV,{as:a,ownerState:g,className:en(y.root,r),ref:t,...m,style:{...d==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(b=s.vars.overlays)==null?void 0:b[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Hi("#fff",rC(l))}, ${Hi("#fff",rC(l))})`}},...m.style}})});function uV(n){return typeof n=="string"}function RP(n,e,t){return n===void 0||uV(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function BP(n,e,t){return typeof n=="function"?n(e,t):n}function DP(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function YD(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function IP(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:s,className:r}=n;if(!e){const b=en(t==null?void 0:t.className,r,s==null?void 0:s.className,i==null?void 0:i.className),x={...t==null?void 0:t.style,...s==null?void 0:s.style,...i==null?void 0:i.style},E={...t,...s,...i};return b.length>0&&(E.className=b),Object.keys(x).length>0&&(E.style=x),{props:E,internalRef:void 0}}const a=DP({...s,...i}),l=YD(i),u=YD(s),d=e(a),m=en(d==null?void 0:d.className,t==null?void 0:t.className,r,s==null?void 0:s.className,i==null?void 0:i.className),g={...d==null?void 0:d.style,...t==null?void 0:t.style,...s==null?void 0:s.style,...i==null?void 0:i.style},y={...d,...t,...u,...l};return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:d.ref}}function Hs(n,e){const{className:t,elementType:i,ownerState:s,externalForwardedProps:r,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...u}=e,{component:d,slots:m={[n]:void 0},slotProps:g={[n]:void 0},...y}=r,b=m[n]||i,x=BP(g[n],s),{props:{component:E,...A},internalRef:S}=IP({className:t,...u,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:x}),B=vr(S,x==null?void 0:x.ref,e.ref),w=n==="root"?E||d:E,R=RP(b,{...n==="root"&&!d&&!m[n]&&a,...n!=="root"&&!m[n]&&a,...A,...w&&!l&&{as:w},...w&&l&&{component:w},ref:B},s);return[b,R]}function qD(n){try{return n.matches(":focus-visible")}catch{}return!1}class FS{constructor(){av(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new FS}static use(){const e=TP(FS.create).current,[t,i]=K.useState(!1);return e.shouldMount=t,e.setShouldMount=i,K.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=dV(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function fV(){return FS.use()}function dV(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});return t.resolve=n,t.reject=e,t}function hV(n){const{className:e,classes:t,pulsate:i=!1,rippleX:s,rippleY:r,rippleSize:a,in:l,onExited:u,timeout:d}=n,[m,g]=K.useState(!1),y=en(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),b={width:a,height:a,top:-(a/2)+r,left:-(a/2)+s},x=en(t.child,m&&t.childLeaving,i&&t.childPulsate);return!l&&!m&&g(!0),K.useEffect(()=>{if(!l&&u!=null){const E=setTimeout(u,d);return()=>{clearTimeout(E)}}},[u,l,d]),he.jsx("span",{className:y,style:b,children:he.jsx("span",{className:x})})}const No=ii("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),uC=550,pV=80,mV=Z0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,gV=Z0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,yV=Z0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,vV=Bt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_V=Bt(hV,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${No.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${mV};
    animation-duration: ${uC}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${No.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${No.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${No.childLeaving} {
    opacity: 0;
    animation-name: ${gV};
    animation-duration: ${uC}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${No.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${yV};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,bV=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:r={},className:a,...l}=i,[u,d]=K.useState([]),m=K.useRef(0),g=K.useRef(null);K.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const y=K.useRef(!1),b=CP(),x=K.useRef(null),E=K.useRef(null),A=K.useCallback(R=>{const{pulsate:N,rippleX:O,rippleY:U,rippleSize:P,cb:L}=R;d(M=>[...M,he.jsx(_V,{classes:{ripple:en(r.ripple,No.ripple),rippleVisible:en(r.rippleVisible,No.rippleVisible),ripplePulsate:en(r.ripplePulsate,No.ripplePulsate),child:en(r.child,No.child),childLeaving:en(r.childLeaving,No.childLeaving),childPulsate:en(r.childPulsate,No.childPulsate)},timeout:uC,pulsate:N,rippleX:O,rippleY:U,rippleSize:P},m.current)]),m.current+=1,g.current=L},[r]),S=K.useCallback((R={},N={},O=()=>{})=>{const{pulsate:U=!1,center:P=s||N.pulsate,fakeElement:L=!1}=N;if((R==null?void 0:R.type)==="mousedown"&&y.current){y.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(y.current=!0);const M=L?null:E.current,F=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let G,J,ie;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)G=Math.round(F.width/2),J=Math.round(F.height/2);else{const{clientX:ne,clientY:H}=R.touches&&R.touches.length>0?R.touches[0]:R;G=Math.round(ne-F.left),J=Math.round(H-F.top)}if(P)ie=Math.sqrt((2*F.width**2+F.height**2)/3),ie%2===0&&(ie+=1);else{const ne=Math.max(Math.abs((M?M.clientWidth:0)-G),G)*2+2,H=Math.max(Math.abs((M?M.clientHeight:0)-J),J)*2+2;ie=Math.sqrt(ne**2+H**2)}R!=null&&R.touches?x.current===null&&(x.current=()=>{A({pulsate:U,rippleX:G,rippleY:J,rippleSize:ie,cb:O})},b.start(pV,()=>{x.current&&(x.current(),x.current=null)})):A({pulsate:U,rippleX:G,rippleY:J,rippleSize:ie,cb:O})},[s,A,b]),B=K.useCallback(()=>{S({},{pulsate:!0})},[S]),w=K.useCallback((R,N)=>{if(b.clear(),(R==null?void 0:R.type)==="touchend"&&x.current){x.current(),x.current=null,b.start(0,()=>{w(R,N)});return}x.current=null,d(O=>O.length>0?O.slice(1):O),g.current=N},[b]);return K.useImperativeHandle(t,()=>({pulsate:B,start:S,stop:w}),[B,S,w]),he.jsx(vV,{className:en(No.root,r.root,a),ref:E,...l,children:he.jsx(Qw,{component:null,exit:!0,children:u})})});function xV(n){return ui("MuiButtonBase",n)}const SV=ii("MuiButtonBase",["root","disabled","focusVisible"]),AV=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:s}=n,a=fi({root:["root",e&&"disabled",t&&"focusVisible"]},xV,s);return t&&i&&(a.root+=` ${i}`),a},EV=Bt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${SV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zS=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:r=!1,children:a,className:l,component:u="button",disabled:d=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:x="a",onBlur:E,onClick:A,onContextMenu:S,onDragLeave:B,onFocus:w,onFocusVisible:R,onKeyDown:N,onKeyUp:O,onMouseDown:U,onMouseLeave:P,onMouseUp:L,onTouchEnd:M,onTouchMove:F,onTouchStart:G,tabIndex:J=0,TouchRippleProps:ie,touchRippleRef:ne,type:H,...q}=i,$=K.useRef(null),se=fV(),X=vr(se.ref,ne),[ae,_e]=K.useState(!1);d&&ae&&_e(!1),K.useImperativeHandle(s,()=>({focusVisible:()=>{_e(!0),$.current.focus()}}),[]);const Ae=se.shouldMount&&!m&&!d;K.useEffect(()=>{ae&&y&&!m&&se.pulsate()},[m,y,ae,se]);const ce=su(se,"start",U,g),be=su(se,"stop",S,g),Ue=su(se,"stop",B,g),Qe=su(se,"stop",L,g),xe=su(se,"stop",k=>{ae&&k.preventDefault(),P&&P(k)},g),j=su(se,"start",G,g),Q=su(se,"stop",M,g),oe=su(se,"stop",F,g),Ce=su(se,"stop",k=>{qD(k.target)||_e(!1),E&&E(k)},!1),Se=Tl(k=>{$.current||($.current=k.currentTarget),qD(k.target)&&(_e(!0),R&&R(k)),w&&w(k)}),W=()=>{const k=$.current;return u&&u!=="button"&&!(k.tagName==="A"&&k.href)},ze=Tl(k=>{y&&!k.repeat&&ae&&k.key===" "&&se.stop(k,()=>{se.start(k)}),k.target===k.currentTarget&&W()&&k.key===" "&&k.preventDefault(),N&&N(k),k.target===k.currentTarget&&W()&&k.key==="Enter"&&!d&&(k.preventDefault(),A&&A(k))}),De=Tl(k=>{y&&k.key===" "&&ae&&!k.defaultPrevented&&se.stop(k,()=>{se.pulsate(k)}),O&&O(k),A&&k.target===k.currentTarget&&W()&&k.key===" "&&!k.defaultPrevented&&A(k)});let Ge=u;Ge==="button"&&(q.href||q.to)&&(Ge=x);const ve={};Ge==="button"?(ve.type=H===void 0?"button":H,ve.disabled=d):(!q.href&&!q.to&&(ve.role="button"),d&&(ve["aria-disabled"]=d));const at=vr(t,$),Te={...i,centerRipple:r,component:u,disabled:d,disableRipple:m,disableTouchRipple:g,focusRipple:y,tabIndex:J,focusVisible:ae},Z=AV(Te);return he.jsxs(EV,{as:Ge,className:en(Z.root,l),ownerState:Te,onBlur:Ce,onClick:A,onContextMenu:be,onFocus:Se,onKeyDown:ze,onKeyUp:De,onMouseDown:ce,onMouseLeave:xe,onMouseUp:Qe,onDragLeave:Ue,onTouchEnd:Q,onTouchMove:oe,onTouchStart:j,ref:at,tabIndex:d?-1:J,type:H,...ve,...q,children:[a,Ae?he.jsx(bV,{ref:X,center:r,...ie}):null]})});function su(n,e,t,i=!1){return Tl(s=>(t&&t(s),i||n[e](s),!0))}function MV(n){return typeof n.main=="string"}function TV(n,e=[]){if(!MV(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Qa(n=[]){return([,e])=>e&&TV(e,n)}function CV(n){return ui("MuiCircularProgress",n)}ii("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bf=44,fC=Z0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,dC=Z0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,wV=typeof fC!="string"?Pw`
        animation: ${fC} 1.4s linear infinite;
      `:null,RV=typeof dC!="string"?Pw`
        animation: ${dC} 1.4s ease-in-out infinite;
      `:null,BV=n=>{const{classes:e,variant:t,color:i,disableShrink:s}=n,r={root:["root",t,`color${At(i)}`],svg:["svg"],circle:["circle",`circle${At(t)}`,s&&"circleDisableShrink"]};return fi(r,CV,e)},DV=Bt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${At(t.color)}`]]}})(qn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:wV||{animation:`${fC} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Qa()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),IV=Bt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),OV=Bt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${At(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(qn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:RV||{animation:`${dC} 1.4s ease-in-out infinite`}}]}))),OP=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiCircularProgress"}),{className:s,color:r="primary",disableShrink:a=!1,size:l=40,style:u,thickness:d=3.6,value:m=0,variant:g="indeterminate",...y}=i,b={...i,color:r,disableShrink:a,size:l,thickness:d,value:m,variant:g},x=BV(b),E={},A={},S={};if(g==="determinate"){const B=2*Math.PI*((Bf-d)/2);E.strokeDasharray=B.toFixed(3),S["aria-valuenow"]=Math.round(m),E.strokeDashoffset=`${((100-m)/100*B).toFixed(3)}px`,A.transform="rotate(-90deg)"}return he.jsx(DV,{className:en(x.root,s),style:{width:l,height:l,...A,...u},ownerState:b,ref:t,role:"progressbar",...S,...y,children:he.jsx(IV,{className:x.svg,ownerState:b,viewBox:`${Bf/2} ${Bf/2} ${Bf} ${Bf}`,children:he.jsx(OV,{className:x.circle,style:E,ownerState:b,cx:Bf,cy:Bf,r:(Bf-d)/2,fill:"none",strokeWidth:d})})})});function NV(n){return ui("MuiIconButton",n)}const KD=ii("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),LV=n=>{const{classes:e,disabled:t,color:i,edge:s,size:r,loading:a}=n,l={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${At(i)}`,s&&`edge${At(s)}`,`size${At(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return fi(l,NV,e)},PV=Bt(zS,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${At(t.color)}`],t.edge&&e[`edge${At(t.edge)}`],e[`size${At(t.size)}`]]}})(qn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),qn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Qa()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Qa()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${KD.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${KD.loading}`]:{color:"transparent"}}))),UV=Bt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),NP=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiIconButton"}),{edge:s=!1,children:r,className:a,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:m="medium",id:g,loading:y=null,loadingIndicator:b,...x}=i,E=n_(g),A=b??he.jsx(OP,{"aria-labelledby":E,color:"inherit",size:16}),S={...i,edge:s,color:l,disabled:u,disableFocusRipple:d,loading:y,loadingIndicator:A,size:m},B=LV(S);return he.jsxs(PV,{id:y?E:g,className:en(B.root,a),centerRipple:!0,focusRipple:!d,disabled:u||y,ref:t,...x,ownerState:S,children:[typeof y=="boolean"&&he.jsx("span",{className:B.loadingWrapper,style:{display:"contents"},children:he.jsx(UV,{className:B.loadingIndicator,ownerState:S,children:y&&A})}),r]})}),FV=Kw(he.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function zV(n){return ui("MuiTypography",n)}ii("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const HV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},GV=jk(),kV=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:s,variant:r,classes:a}=n,l={root:["root",r,n.align!=="inherit"&&`align${At(e)}`,t&&"gutterBottom",i&&"noWrap",s&&"paragraph"]};return fi(l,zV,a)},VV=Bt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${At(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(qn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(Qa()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${At(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),JD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},to=K.forwardRef(function(e,t){const{color:i,...s}=vi({props:e,name:"MuiTypography"}),r=!HV[i],a=GV({...s,...r&&{color:i}}),{align:l="inherit",className:u,component:d,gutterBottom:m=!1,noWrap:g=!1,paragraph:y=!1,variant:b="body1",variantMapping:x=JD,...E}=a,A={...a,align:l,color:i,className:u,component:d,gutterBottom:m,noWrap:g,paragraph:y,variant:b,variantMapping:x},S=d||(y?"p":x[b]||JD[b])||"span",B=kV(A);return he.jsx(VV,{as:S,ref:t,className:en(B.root,u),...E,ownerState:A,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...E.style}})}),jV=n=>{const e=K.useRef({});return K.useEffect(()=>{e.current=n}),e.current};function QD(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function WV(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:i,matchFrom:s="any",stringify:r,trim:a=!1}=n;return(l,{inputValue:u,getOptionLabel:d})=>{let m=a?u.trim():u;t&&(m=m.toLowerCase()),e&&(m=QD(m));const g=m?l.filter(y=>{let b=(r||d)(y);return t&&(b=b.toLowerCase()),e&&(b=QD(b)),s==="start"?b.startsWith(m):b.includes(m)}):l;return typeof i=="number"?g.slice(0,i):g}}const XV=WV(),YV=5,qV=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},KV=[];function ZD(n,e,t,i){if(e||n==null||i)return"";const s=t(n);return typeof s=="string"?s:""}function JV(n){const{unstable_isActiveElementInListbox:e=qV,unstable_classNamePrefix:t="Mui",autoComplete:i=!1,autoHighlight:s=!1,autoSelect:r=!1,blurOnSelect:a=!1,clearOnBlur:l=!n.freeSolo,clearOnEscape:u=!1,componentName:d="useAutocomplete",defaultValue:m=n.multiple?KV:null,disableClearable:g=!1,disableCloseOnSelect:y=!1,disabled:b,disabledItemsFocusable:x=!1,disableListWrap:E=!1,filterOptions:A=XV,filterSelectedOptions:S=!1,freeSolo:B=!1,getOptionDisabled:w,getOptionKey:R,getOptionLabel:N=Xe=>Xe.label??Xe,groupBy:O,handleHomeEndKeys:U=!n.freeSolo,id:P,includeInputInList:L=!1,inputValue:M,isOptionEqualToValue:F=(Xe,qe)=>Xe===qe,multiple:G=!1,onChange:J,onClose:ie,onHighlightChange:ne,onInputChange:H,onOpen:q,open:$,openOnFocus:se=!1,options:X,readOnly:ae=!1,renderValue:_e,selectOnFocus:Ae=!n.freeSolo,value:ce}=n,be=n_(P);let Ue=N;Ue=Xe=>{const qe=N(Xe);return typeof qe!="string"?String(qe):qe};const Qe=K.useRef(!1),xe=K.useRef(!0),j=K.useRef(null),Q=K.useRef(null),[oe,Ce]=K.useState(null),[Se,W]=K.useState(-1),ze=s?0:-1,De=K.useRef(ze),Ge=K.useRef(ZD(m??ce,G,Ue)).current,[ve,at]=Hv({controlled:ce,default:m,name:d}),[Te,Z]=Hv({controlled:M,default:Ge,name:d,state:"inputValue"}),[k,me]=K.useState(!1),Be=K.useCallback((Xe,qe,Mt)=>{if(!(G?ve.length<qe.length:qe!==null)&&!l)return;const Y=ZD(qe,G,Ue,_e);Te!==Y&&(Z(Y),H&&H(Xe,Y,Mt))},[Ue,Te,G,H,Z,l,ve,_e]),[Ke,He]=Hv({controlled:$,default:!1,name:d,state:"open"}),[ct,rt]=K.useState(!0),_t=!G&&ve!=null&&Te===Ue(ve),bt=Ke&&!ae,Ve=bt?A(X.filter(Xe=>!(S&&(G?ve:[ve]).some(qe=>qe!==null&&F(Xe,qe)))),{inputValue:_t&&ct?"":Te,getOptionLabel:Ue}):[],ut=jV({filteredOptions:Ve,value:ve,inputValue:Te});K.useEffect(()=>{const Xe=ve!==ut.value;k&&!Xe||B&&!Xe||Be(null,ve,"reset")},[ve,Be,k,ut.value,B]);const xt=Ke&&Ve.length>0&&!ae,St=Tl(Xe=>{if(Xe===-1)j.current.focus();else{const qe=_e?"data-item-index":"data-tag-index";oe.querySelector(`[${qe}="${Xe}"]`).focus()}});K.useEffect(()=>{G&&Se>ve.length-1&&(W(-1),St(-1))},[ve,G,Se,St]);function Ye(Xe,qe){if(!Q.current||Xe<0||Xe>=Ve.length)return-1;let Mt=Xe;for(;;){const kt=Q.current.querySelector(`[data-option-index="${Mt}"]`),Y=x?!1:!kt||kt.disabled||kt.getAttribute("aria-disabled")==="true";if(kt&&kt.hasAttribute("tabindex")&&!Y)return Mt;if(qe==="next"?Mt=(Mt+1)%Ve.length:Mt=(Mt-1+Ve.length)%Ve.length,Mt===Xe)return-1}}const le=Tl(({event:Xe,index:qe,reason:Mt})=>{if(De.current=qe,qe===-1?j.current.removeAttribute("aria-activedescendant"):j.current.setAttribute("aria-activedescendant",`${be}-option-${qe}`),ne&&["mouse","keyboard","touch"].includes(Mt)&&ne(Xe,qe===-1?null:Ve[qe],Mt),!Q.current)return;const kt=Q.current.querySelector(`[role="option"].${t}-focused`);kt&&(kt.classList.remove(`${t}-focused`),kt.classList.remove(`${t}-focusVisible`));let Y=Q.current;if(Q.current.getAttribute("role")!=="listbox"&&(Y=Q.current.parentElement.querySelector('[role="listbox"]')),!Y)return;if(qe===-1){Y.scrollTop=0;return}const pe=Q.current.querySelector(`[data-option-index="${qe}"]`);if(pe&&(pe.classList.add(`${t}-focused`),Mt==="keyboard"&&pe.classList.add(`${t}-focusVisible`),Y.scrollHeight>Y.clientHeight&&Mt!=="mouse"&&Mt!=="touch")){const Re=pe,Ne=Y.clientHeight+Y.scrollTop,Ee=Re.offsetTop+Re.offsetHeight;Ee>Ne?Y.scrollTop=Ee-Y.clientHeight:Re.offsetTop-Re.offsetHeight*(O?1.3:0)<Y.scrollTop&&(Y.scrollTop=Re.offsetTop-Re.offsetHeight*(O?1.3:0))}}),Oe=Tl(({event:Xe,diff:qe,direction:Mt="next",reason:kt})=>{if(!bt)return;const pe=Ye((()=>{const Re=Ve.length-1;if(qe==="reset")return ze;if(qe==="start")return 0;if(qe==="end")return Re;const Ne=De.current+qe;return Ne<0?Ne===-1&&L?-1:E&&De.current!==-1||Math.abs(qe)>1?0:Re:Ne>Re?Ne===Re+1&&L?-1:E||Math.abs(qe)>1?Re:0:Ne})(),Mt);if(le({index:pe,reason:kt,event:Xe}),i&&qe!=="reset")if(pe===-1)j.current.value=Te;else{const Re=Ue(Ve[pe]);j.current.value=Re,Re.toLowerCase().indexOf(Te.toLowerCase())===0&&Te.length>0&&j.current.setSelectionRange(Te.length,Re.length)}}),ft=()=>{const Xe=(qe,Mt)=>{const kt=qe?Ue(qe):"",Y=Mt?Ue(Mt):"";return kt===Y};if(De.current!==-1&&ut.filteredOptions&&ut.filteredOptions.length!==Ve.length&&ut.inputValue===Te&&(G?ve.length===ut.value.length&&ut.value.every((qe,Mt)=>Ue(ve[Mt])===Ue(qe)):Xe(ut.value,ve))){const qe=ut.filteredOptions[De.current];if(qe)return Ve.findIndex(Mt=>Ue(Mt)===Ue(qe))}return-1},de=K.useCallback(()=>{if(!bt)return;const Xe=ft();if(Xe!==-1){De.current=Xe;return}const qe=G?ve[0]:ve;if(Ve.length===0||qe==null){Oe({diff:"reset"});return}if(Q.current){if(qe!=null){const Mt=Ve[De.current];if(G&&Mt&&ve.findIndex(Y=>F(Mt,Y))!==-1)return;const kt=Ve.findIndex(Y=>F(Y,qe));kt===-1?Oe({diff:"reset"}):le({index:kt});return}if(De.current>=Ve.length-1){le({index:Ve.length-1});return}le({index:De.current})}},[Ve.length,G?!1:ve,S,Oe,le,bt,Te,G]),ot=Tl(Xe=>{oC(Q,Xe),Xe&&de()});K.useEffect(()=>{de()},[de]);const Le=Xe=>{Ke||(He(!0),rt(!0),q&&q(Xe))},Je=(Xe,qe)=>{Ke&&(He(!1),ie&&ie(Xe,qe))},ht=(Xe,qe,Mt,kt)=>{if(G){if(ve.length===qe.length&&ve.every((Y,pe)=>Y===qe[pe]))return}else if(ve===qe)return;J&&J(Xe,qe,Mt,kt),at(qe)},pt=K.useRef(!1),Dt=(Xe,qe,Mt="selectOption",kt="options")=>{let Y=Mt,pe=qe;if(G){pe=Array.isArray(ve)?ve.slice():[];const Re=pe.findIndex(Ne=>F(qe,Ne));Re===-1?pe.push(qe):kt!=="freeSolo"&&(pe.splice(Re,1),Y="removeOption")}Be(Xe,pe,Y),ht(Xe,pe,Y,{option:qe}),!y&&(!Xe||!Xe.ctrlKey&&!Xe.metaKey)&&Je(Xe,Y),(a===!0||a==="touch"&&pt.current||a==="mouse"&&!pt.current)&&j.current.blur()};function tn(Xe,qe){if(Xe===-1)return-1;let Mt=Xe;for(;;){if(qe==="next"&&Mt===ve.length||qe==="previous"&&Mt===-1)return-1;const kt=_e?"data-item-index":"data-tag-index",Y=oe.querySelector(`[${kt}="${Mt}"]`);if(!Y||!Y.hasAttribute("tabindex")||Y.disabled||Y.getAttribute("aria-disabled")==="true")Mt+=qe==="next"?1:-1;else return Mt}}const En=(Xe,qe)=>{if(!G)return;Te===""&&Je(Xe,"toggleInput");let Mt=Se;Se===-1?Te===""&&qe==="previous"&&(Mt=ve.length-1):(Mt+=qe==="next"?1:-1,Mt<0&&(Mt=0),Mt===ve.length&&(Mt=-1)),Mt=tn(Mt,qe),W(Mt),St(Mt)},Wt=Xe=>{Qe.current=!0,Z(""),H&&H(Xe,"","clear"),ht(Xe,G?[]:null,"clear")},Mi=Xe=>qe=>{if(Xe.onKeyDown&&Xe.onKeyDown(qe),!qe.defaultMuiPrevented&&(Se!==-1&&!["ArrowLeft","ArrowRight"].includes(qe.key)&&(W(-1),St(-1)),qe.which!==229))switch(qe.key){case"Home":bt&&U&&(qe.preventDefault(),Oe({diff:"start",direction:"next",reason:"keyboard",event:qe}));break;case"End":bt&&U&&(qe.preventDefault(),Oe({diff:"end",direction:"previous",reason:"keyboard",event:qe}));break;case"PageUp":qe.preventDefault(),Oe({diff:-5,direction:"previous",reason:"keyboard",event:qe}),Le(qe);break;case"PageDown":qe.preventDefault(),Oe({diff:YV,direction:"next",reason:"keyboard",event:qe}),Le(qe);break;case"ArrowDown":qe.preventDefault(),Oe({diff:1,direction:"next",reason:"keyboard",event:qe}),Le(qe);break;case"ArrowUp":qe.preventDefault(),Oe({diff:-1,direction:"previous",reason:"keyboard",event:qe}),Le(qe);break;case"ArrowLeft":!G&&_e?St(0):En(qe,"previous");break;case"ArrowRight":!G&&_e?St(-1):En(qe,"next");break;case"Enter":if(De.current!==-1&&bt){const Mt=Ve[De.current],kt=w?w(Mt):!1;if(qe.preventDefault(),kt)return;Dt(qe,Mt,"selectOption"),i&&j.current.setSelectionRange(j.current.value.length,j.current.value.length)}else B&&Te!==""&&_t===!1&&(G&&qe.preventDefault(),Dt(qe,Te,"createOption","freeSolo"));break;case"Escape":bt?(qe.preventDefault(),qe.stopPropagation(),Je(qe,"escape")):u&&(Te!==""||G&&ve.length>0||_e)&&(qe.preventDefault(),qe.stopPropagation(),Wt(qe));break;case"Backspace":if(G&&!ae&&Te===""&&ve.length>0){const Mt=Se===-1?ve.length-1:Se,kt=ve.slice();kt.splice(Mt,1),ht(qe,kt,"removeOption",{option:ve[Mt]})}!G&&_e&&!ae&&(at(null),St(-1));break;case"Delete":if(G&&!ae&&Te===""&&ve.length>0&&Se!==-1){const Mt=Se,kt=ve.slice();kt.splice(Mt,1),ht(qe,kt,"removeOption",{option:ve[Mt]})}!G&&_e&&!ae&&(at(null),St(-1));break}},Zn=Xe=>{me(!0),se&&!Qe.current&&Le(Xe)},$n=Xe=>{if(e(Q)){j.current.focus();return}me(!1),xe.current=!0,Qe.current=!1,r&&De.current!==-1&&bt?Dt(Xe,Ve[De.current],"blur"):r&&B&&Te!==""?Dt(Xe,Te,"blur","freeSolo"):l&&Be(Xe,ve,"blur"),Je(Xe,"blur")},_i=Xe=>{const qe=Xe.target.value;Te!==qe&&(Z(qe),rt(!1),H&&H(Xe,qe,"input")),qe===""?!g&&!G&&ht(Xe,null,"clear"):Le(Xe)},Ni=Xe=>{const qe=Number(Xe.currentTarget.getAttribute("data-option-index"));De.current!==qe&&le({event:Xe,index:qe,reason:"mouse"})},ys=Xe=>{le({event:Xe,index:Number(Xe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),pt.current=!0},Xo=Xe=>{const qe=Number(Xe.currentTarget.getAttribute("data-option-index"));Dt(Xe,Ve[qe],"selectOption"),pt.current=!1},Xs=Xe=>qe=>{const Mt=ve.slice();Mt.splice(Xe,1),ht(qe,Mt,"removeOption",{option:ve[Xe]})},vs=Xe=>{ht(Xe,null,"removeOption",{option:ve})},_s=Xe=>{Ke?Je(Xe,"toggleInput"):Le(Xe)},Qt=Xe=>{Xe.currentTarget.contains(Xe.target)&&Xe.target.getAttribute("id")!==be&&Xe.preventDefault()},kn=Xe=>{Xe.currentTarget.contains(Xe.target)&&(j.current.focus(),Ae&&xe.current&&j.current.selectionEnd-j.current.selectionStart===0&&j.current.select(),xe.current=!1)},Qi=Xe=>{!b&&(Te===""||!Ke)&&_s(Xe)};let _r=B&&Te.length>0;_r=_r||(G?ve.length>0:ve!==null);let br=Ve;return O&&(br=Ve.reduce((Xe,qe,Mt)=>{const kt=O(qe);return Xe.length>0&&Xe[Xe.length-1].group===kt?Xe[Xe.length-1].options.push(qe):Xe.push({key:Mt,index:Mt,group:kt,options:[qe]}),Xe},[])),b&&k&&$n(),{getRootProps:(Xe={})=>({...Xe,onKeyDown:Mi(Xe),onMouseDown:Qt,onClick:kn}),getInputLabelProps:()=>({id:`${be}-label`,htmlFor:be}),getInputProps:()=>({id:be,value:Te,onBlur:$n,onFocus:Zn,onChange:_i,onMouseDown:Qi,"aria-activedescendant":bt?"":null,"aria-autocomplete":i?"both":"list","aria-controls":xt?`${be}-listbox`:void 0,"aria-expanded":xt,autoComplete:"off",ref:j,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:b}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Wt}),getItemProps:({index:Xe=0}={})=>({...G&&{key:Xe},..._e?{"data-item-index":Xe}:{"data-tag-index":Xe},tabIndex:-1,...!ae&&{onDelete:G?Xs(Xe):vs}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:_s}),getTagProps:({index:Xe})=>({key:Xe,"data-tag-index":Xe,tabIndex:-1,...!ae&&{onDelete:Xs(Xe)}}),getListboxProps:()=>({role:"listbox",id:`${be}-listbox`,"aria-labelledby":`${be}-label`,ref:ot,onMouseDown:Xe=>{Xe.preventDefault()}}),getOptionProps:({index:Xe,option:qe})=>{const Mt=(G?ve:[ve]).some(Y=>Y!=null&&F(qe,Y)),kt=w?w(qe):!1;return{key:(R==null?void 0:R(qe))??Ue(qe),tabIndex:-1,role:"option",id:`${be}-option-${Xe}`,onMouseMove:Ni,onClick:Xo,onTouchStart:ys,"data-option-index":Xe,"aria-disabled":kt,"aria-selected":Mt}},id:be,inputValue:Te,value:ve,dirty:_r,expanded:bt&&oe,popupOpen:bt,focused:k||Se!==-1,anchorEl:oe,setAnchorEl:Ce,focusedItem:Se,focusedTag:Se,groupedOptions:br}}var Ra="top",Ho="bottom",Go="right",Ba="left",$w="auto",i_=[Ra,Ho,Go,Ba],sg="start",g0="end",QV="clippingParents",LP="viewport",fv="popper",ZV="reference",$D=i_.reduce(function(n,e){return n.concat([e+"-"+sg,e+"-"+g0])},[]),PP=[].concat(i_,[$w]).reduce(function(n,e){return n.concat([e,e+"-"+sg,e+"-"+g0])},[]),$V="beforeRead",e9="read",t9="afterRead",n9="beforeMain",i9="main",s9="afterMain",r9="beforeWrite",a9="write",o9="afterWrite",l9=[$V,e9,t9,n9,i9,s9,r9,a9,o9];function wc(n){return n?(n.nodeName||"").toLowerCase():null}function so(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Yh(n){var e=so(n).Element;return n instanceof e||n instanceof Element}function Fo(n){var e=so(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function eR(n){if(typeof ShadowRoot>"u")return!1;var e=so(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function c9(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!Fo(r)||!wc(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(a){var l=s[a];l===!1?r.removeAttribute(a):r.setAttribute(a,l===!0?"":l)}))})}function u9(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=a.reduce(function(u,d){return u[d]="",u},{});!Fo(s)||!wc(s)||(Object.assign(s.style,l),Object.keys(r).forEach(function(u){s.removeAttribute(u)}))})}}const f9={name:"applyStyles",enabled:!0,phase:"write",fn:c9,effect:u9,requires:["computeStyles"]};function Sc(n){return n.split("-")[0]}var Hh=Math.max,HS=Math.min,rg=Math.round;function hC(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function UP(){return!/^((?!chrome|android).)*safari/i.test(hC())}function ag(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&Fo(n)&&(s=n.offsetWidth>0&&rg(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&rg(i.height)/n.offsetHeight||1);var a=Yh(n)?so(n):window,l=a.visualViewport,u=!UP()&&t,d=(i.left+(u&&l?l.offsetLeft:0))/s,m=(i.top+(u&&l?l.offsetTop:0))/r,g=i.width/s,y=i.height/r;return{width:g,height:y,top:m,right:d+g,bottom:m+y,left:d,x:d,y:m}}function tR(n){var e=ag(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function FP(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&eR(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function wu(n){return so(n).getComputedStyle(n)}function d9(n){return["table","td","th"].indexOf(wc(n))>=0}function od(n){return((Yh(n)?n.ownerDocument:n.document)||window.document).documentElement}function m1(n){return wc(n)==="html"?n:n.assignedSlot||n.parentNode||(eR(n)?n.host:null)||od(n)}function eI(n){return!Fo(n)||wu(n).position==="fixed"?null:n.offsetParent}function h9(n){var e=/firefox/i.test(hC()),t=/Trident/i.test(hC());if(t&&Fo(n)){var i=wu(n);if(i.position==="fixed")return null}var s=m1(n);for(eR(s)&&(s=s.host);Fo(s)&&["html","body"].indexOf(wc(s))<0;){var r=wu(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function s_(n){for(var e=so(n),t=eI(n);t&&d9(t)&&wu(t).position==="static";)t=eI(t);return t&&(wc(t)==="html"||wc(t)==="body"&&wu(t).position==="static")?e:t||h9(n)||e}function nR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Gv(n,e,t){return Hh(n,HS(e,t))}function p9(n,e,t){var i=Gv(n,e,t);return i>t?t:i}function zP(){return{top:0,right:0,bottom:0,left:0}}function HP(n){return Object.assign({},zP(),n)}function GP(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var m9=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,HP(typeof e!="number"?e:GP(e,i_))};function g9(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,a=t.modifiersData.popperOffsets,l=Sc(t.placement),u=nR(l),d=[Ba,Go].indexOf(l)>=0,m=d?"height":"width";if(!(!r||!a)){var g=m9(s.padding,t),y=tR(r),b=u==="y"?Ra:Ba,x=u==="y"?Ho:Go,E=t.rects.reference[m]+t.rects.reference[u]-a[u]-t.rects.popper[m],A=a[u]-t.rects.reference[u],S=s_(r),B=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,w=E/2-A/2,R=g[b],N=B-y[m]-g[x],O=B/2-y[m]/2+w,U=Gv(R,O,N),P=u;t.modifiersData[i]=(e={},e[P]=U,e.centerOffset=U-O,e)}}function y9(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||FP(e.elements.popper,s)&&(e.elements.arrow=s))}const v9={name:"arrow",enabled:!0,phase:"main",fn:g9,effect:y9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function og(n){return n.split("-")[1]}var _9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function b9(n,e){var t=n.x,i=n.y,s=e.devicePixelRatio||1;return{x:rg(t*s)/s||0,y:rg(i*s)/s||0}}function tI(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,a=n.offsets,l=n.position,u=n.gpuAcceleration,d=n.adaptive,m=n.roundOffsets,g=n.isFixed,y=a.x,b=y===void 0?0:y,x=a.y,E=x===void 0?0:x,A=typeof m=="function"?m({x:b,y:E}):{x:b,y:E};b=A.x,E=A.y;var S=a.hasOwnProperty("x"),B=a.hasOwnProperty("y"),w=Ba,R=Ra,N=window;if(d){var O=s_(t),U="clientHeight",P="clientWidth";if(O===so(t)&&(O=od(t),wu(O).position!=="static"&&l==="absolute"&&(U="scrollHeight",P="scrollWidth")),O=O,s===Ra||(s===Ba||s===Go)&&r===g0){R=Ho;var L=g&&O===N&&N.visualViewport?N.visualViewport.height:O[U];E-=L-i.height,E*=u?1:-1}if(s===Ba||(s===Ra||s===Ho)&&r===g0){w=Go;var M=g&&O===N&&N.visualViewport?N.visualViewport.width:O[P];b-=M-i.width,b*=u?1:-1}}var F=Object.assign({position:l},d&&_9),G=m===!0?b9({x:b,y:E},so(t)):{x:b,y:E};if(b=G.x,E=G.y,u){var J;return Object.assign({},F,(J={},J[R]=B?"0":"",J[w]=S?"0":"",J.transform=(N.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",J))}return Object.assign({},F,(e={},e[R]=B?E+"px":"",e[w]=S?b+"px":"",e.transform="",e))}function x9(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,r=t.adaptive,a=r===void 0?!0:r,l=t.roundOffsets,u=l===void 0?!0:l,d={placement:Sc(e.placement),variation:og(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,tI(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,tI(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const S9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:x9,data:{}};var lx={passive:!0};function A9(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,a=i.resize,l=a===void 0?!0:a,u=so(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(m){m.addEventListener("scroll",t.update,lx)}),l&&u.addEventListener("resize",t.update,lx),function(){r&&d.forEach(function(m){m.removeEventListener("scroll",t.update,lx)}),l&&u.removeEventListener("resize",t.update,lx)}}const E9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:A9,data:{}};var M9={left:"right",right:"left",bottom:"top",top:"bottom"};function _S(n){return n.replace(/left|right|bottom|top/g,function(e){return M9[e]})}var T9={start:"end",end:"start"};function nI(n){return n.replace(/start|end/g,function(e){return T9[e]})}function iR(n){var e=so(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function sR(n){return ag(od(n)).left+iR(n).scrollLeft}function C9(n,e){var t=so(n),i=od(n),s=t.visualViewport,r=i.clientWidth,a=i.clientHeight,l=0,u=0;if(s){r=s.width,a=s.height;var d=UP();(d||!d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:l+sR(n),y:u}}function w9(n){var e,t=od(n),i=iR(n),s=(e=n.ownerDocument)==null?void 0:e.body,r=Hh(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Hh(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-i.scrollLeft+sR(n),u=-i.scrollTop;return wu(s||t).direction==="rtl"&&(l+=Hh(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:l,y:u}}function rR(n){var e=wu(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function kP(n){return["html","body","#document"].indexOf(wc(n))>=0?n.ownerDocument.body:Fo(n)&&rR(n)?n:kP(m1(n))}function kv(n,e){var t;e===void 0&&(e=[]);var i=kP(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),r=so(i),a=s?[r].concat(r.visualViewport||[],rR(i)?i:[]):i,l=e.concat(a);return s?l:l.concat(kv(m1(a)))}function pC(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function R9(n,e){var t=ag(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function iI(n,e,t){return e===LP?pC(C9(n,t)):Yh(e)?R9(e,t):pC(w9(od(n)))}function B9(n){var e=kv(m1(n)),t=["absolute","fixed"].indexOf(wu(n).position)>=0,i=t&&Fo(n)?s_(n):n;return Yh(i)?e.filter(function(s){return Yh(s)&&FP(s,i)&&wc(s)!=="body"}):[]}function D9(n,e,t,i){var s=e==="clippingParents"?B9(n):[].concat(e),r=[].concat(s,[t]),a=r[0],l=r.reduce(function(u,d){var m=iI(n,d,i);return u.top=Hh(m.top,u.top),u.right=HS(m.right,u.right),u.bottom=HS(m.bottom,u.bottom),u.left=Hh(m.left,u.left),u},iI(n,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function VP(n){var e=n.reference,t=n.element,i=n.placement,s=i?Sc(i):null,r=i?og(i):null,a=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,u;switch(s){case Ra:u={x:a,y:e.y-t.height};break;case Ho:u={x:a,y:e.y+e.height};break;case Go:u={x:e.x+e.width,y:l};break;case Ba:u={x:e.x-t.width,y:l};break;default:u={x:e.x,y:e.y}}var d=s?nR(s):null;if(d!=null){var m=d==="y"?"height":"width";switch(r){case sg:u[d]=u[d]-(e[m]/2-t[m]/2);break;case g0:u[d]=u[d]+(e[m]/2-t[m]/2);break}}return u}function y0(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,r=t.strategy,a=r===void 0?n.strategy:r,l=t.boundary,u=l===void 0?QV:l,d=t.rootBoundary,m=d===void 0?LP:d,g=t.elementContext,y=g===void 0?fv:g,b=t.altBoundary,x=b===void 0?!1:b,E=t.padding,A=E===void 0?0:E,S=HP(typeof A!="number"?A:GP(A,i_)),B=y===fv?ZV:fv,w=n.rects.popper,R=n.elements[x?B:y],N=D9(Yh(R)?R:R.contextElement||od(n.elements.popper),u,m,a),O=ag(n.elements.reference),U=VP({reference:O,element:w,placement:s}),P=pC(Object.assign({},w,U)),L=y===fv?P:O,M={top:N.top-L.top+S.top,bottom:L.bottom-N.bottom+S.bottom,left:N.left-L.left+S.left,right:L.right-N.right+S.right},F=n.modifiersData.offset;if(y===fv&&F){var G=F[s];Object.keys(M).forEach(function(J){var ie=[Go,Ho].indexOf(J)>=0?1:-1,ne=[Ra,Ho].indexOf(J)>=0?"y":"x";M[J]+=G[ne]*ie})}return M}function I9(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,r=t.rootBoundary,a=t.padding,l=t.flipVariations,u=t.allowedAutoPlacements,d=u===void 0?PP:u,m=og(i),g=m?l?$D:$D.filter(function(x){return og(x)===m}):i_,y=g.filter(function(x){return d.indexOf(x)>=0});y.length===0&&(y=g);var b=y.reduce(function(x,E){return x[E]=y0(n,{placement:E,boundary:s,rootBoundary:r,padding:a})[Sc(E)],x},{});return Object.keys(b).sort(function(x,E){return b[x]-b[E]})}function O9(n){if(Sc(n)===$w)return[];var e=_S(n);return[nI(n),e,nI(e)]}function N9(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,a=t.altAxis,l=a===void 0?!0:a,u=t.fallbackPlacements,d=t.padding,m=t.boundary,g=t.rootBoundary,y=t.altBoundary,b=t.flipVariations,x=b===void 0?!0:b,E=t.allowedAutoPlacements,A=e.options.placement,S=Sc(A),B=S===A,w=u||(B||!x?[_S(A)]:O9(A)),R=[A].concat(w).reduce(function(ce,be){return ce.concat(Sc(be)===$w?I9(e,{placement:be,boundary:m,rootBoundary:g,padding:d,flipVariations:x,allowedAutoPlacements:E}):be)},[]),N=e.rects.reference,O=e.rects.popper,U=new Map,P=!0,L=R[0],M=0;M<R.length;M++){var F=R[M],G=Sc(F),J=og(F)===sg,ie=[Ra,Ho].indexOf(G)>=0,ne=ie?"width":"height",H=y0(e,{placement:F,boundary:m,rootBoundary:g,altBoundary:y,padding:d}),q=ie?J?Go:Ba:J?Ho:Ra;N[ne]>O[ne]&&(q=_S(q));var $=_S(q),se=[];if(r&&se.push(H[G]<=0),l&&se.push(H[q]<=0,H[$]<=0),se.every(function(ce){return ce})){L=F,P=!1;break}U.set(F,se)}if(P)for(var X=x?3:1,ae=function(be){var Ue=R.find(function(Qe){var xe=U.get(Qe);if(xe)return xe.slice(0,be).every(function(j){return j})});if(Ue)return L=Ue,"break"},_e=X;_e>0;_e--){var Ae=ae(_e);if(Ae==="break")break}e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}}const L9={name:"flip",enabled:!0,phase:"main",fn:N9,requiresIfExists:["offset"],data:{_skip:!1}};function sI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function rI(n){return[Ra,Go,Ho,Ba].some(function(e){return n[e]>=0})}function P9(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,a=y0(e,{elementContext:"reference"}),l=y0(e,{altBoundary:!0}),u=sI(a,i),d=sI(l,s,r),m=rI(u),g=rI(d);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const U9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:P9};function F9(n,e,t){var i=Sc(n),s=[Ba,Ra].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=r[0],l=r[1];return a=a||0,l=(l||0)*s,[Ba,Go].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function z9(n){var e=n.state,t=n.options,i=n.name,s=t.offset,r=s===void 0?[0,0]:s,a=PP.reduce(function(m,g){return m[g]=F9(g,e.rects,r),m},{}),l=a[e.placement],u=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=a}const H9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z9};function G9(n){var e=n.state,t=n.name;e.modifiersData[t]=VP({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const k9={name:"popperOffsets",enabled:!0,phase:"read",fn:G9,data:{}};function V9(n){return n==="x"?"y":"x"}function j9(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=s===void 0?!0:s,a=t.altAxis,l=a===void 0?!1:a,u=t.boundary,d=t.rootBoundary,m=t.altBoundary,g=t.padding,y=t.tether,b=y===void 0?!0:y,x=t.tetherOffset,E=x===void 0?0:x,A=y0(e,{boundary:u,rootBoundary:d,padding:g,altBoundary:m}),S=Sc(e.placement),B=og(e.placement),w=!B,R=nR(S),N=V9(R),O=e.modifiersData.popperOffsets,U=e.rects.reference,P=e.rects.popper,L=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,M=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(O){if(r){var J,ie=R==="y"?Ra:Ba,ne=R==="y"?Ho:Go,H=R==="y"?"height":"width",q=O[R],$=q+A[ie],se=q-A[ne],X=b?-P[H]/2:0,ae=B===sg?U[H]:P[H],_e=B===sg?-P[H]:-U[H],Ae=e.elements.arrow,ce=b&&Ae?tR(Ae):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zP(),Ue=be[ie],Qe=be[ne],xe=Gv(0,U[H],ce[H]),j=w?U[H]/2-X-xe-Ue-M.mainAxis:ae-xe-Ue-M.mainAxis,Q=w?-U[H]/2+X+xe+Qe+M.mainAxis:_e+xe+Qe+M.mainAxis,oe=e.elements.arrow&&s_(e.elements.arrow),Ce=oe?R==="y"?oe.clientTop||0:oe.clientLeft||0:0,Se=(J=F==null?void 0:F[R])!=null?J:0,W=q+j-Se-Ce,ze=q+Q-Se,De=Gv(b?HS($,W):$,q,b?Hh(se,ze):se);O[R]=De,G[R]=De-q}if(l){var Ge,ve=R==="x"?Ra:Ba,at=R==="x"?Ho:Go,Te=O[N],Z=N==="y"?"height":"width",k=Te+A[ve],me=Te-A[at],Be=[Ra,Ba].indexOf(S)!==-1,Ke=(Ge=F==null?void 0:F[N])!=null?Ge:0,He=Be?k:Te-U[Z]-P[Z]-Ke+M.altAxis,ct=Be?Te+U[Z]+P[Z]-Ke-M.altAxis:me,rt=b&&Be?p9(He,Te,ct):Gv(b?He:k,Te,b?ct:me);O[N]=rt,G[N]=rt-Te}e.modifiersData[i]=G}}const W9={name:"preventOverflow",enabled:!0,phase:"main",fn:j9,requiresIfExists:["offset"]};function X9(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Y9(n){return n===so(n)||!Fo(n)?iR(n):X9(n)}function q9(n){var e=n.getBoundingClientRect(),t=rg(e.width)/n.offsetWidth||1,i=rg(e.height)/n.offsetHeight||1;return t!==1||i!==1}function K9(n,e,t){t===void 0&&(t=!1);var i=Fo(e),s=Fo(e)&&q9(e),r=od(e),a=ag(n,s,t),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!t)&&((wc(e)!=="body"||rR(r))&&(l=Y9(e)),Fo(e)?(u=ag(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):r&&(u.x=sR(r))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function J9(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(l){if(!t.has(l)){var u=e.get(l);u&&s(u)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||s(r)}),i}function Q9(n){var e=J9(n);return l9.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function Z9(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function $9(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var aI={placement:"bottom",modifiers:[],strategy:"absolute"};function oI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function e7(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?aI:s;return function(l,u,d){d===void 0&&(d=r);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},aI,r),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},g=[],y=!1,b={state:m,setOptions:function(S){var B=typeof S=="function"?S(m.options):S;E(),m.options=Object.assign({},r,m.options,B),m.scrollParents={reference:Yh(l)?kv(l):l.contextElement?kv(l.contextElement):[],popper:kv(u)};var w=Q9($9([].concat(i,m.options.modifiers)));return m.orderedModifiers=w.filter(function(R){return R.enabled}),x(),b.update()},forceUpdate:function(){if(!y){var S=m.elements,B=S.reference,w=S.popper;if(oI(B,w)){m.rects={reference:K9(B,s_(w),m.options.strategy==="fixed"),popper:tR(w)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(M){return m.modifiersData[M.name]=Object.assign({},M.data)});for(var R=0;R<m.orderedModifiers.length;R++){if(m.reset===!0){m.reset=!1,R=-1;continue}var N=m.orderedModifiers[R],O=N.fn,U=N.options,P=U===void 0?{}:U,L=N.name;typeof O=="function"&&(m=O({state:m,options:P,name:L,instance:b})||m)}}}},update:Z9(function(){return new Promise(function(A){b.forceUpdate(),A(m)})}),destroy:function(){E(),y=!0}};if(!oI(l,u))return b;b.setOptions(d).then(function(A){!y&&d.onFirstUpdate&&d.onFirstUpdate(A)});function x(){m.orderedModifiers.forEach(function(A){var S=A.name,B=A.options,w=B===void 0?{}:B,R=A.effect;if(typeof R=="function"){var N=R({state:m,name:S,instance:b,options:w}),O=function(){};g.push(N||O)}})}function E(){g.forEach(function(A){return A()}),g=[]}return b}}var t7=[E9,k9,S9,f9,H9,L9,W9,v9,U9],n7=e7({defaultModifiers:t7});function jP(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:s=!1,...r}=n,a=s?{}:BP(t,i),{props:l,internalRef:u}=IP({...r,externalSlotProps:a}),d=vr(u,a==null?void 0:a.ref,(g=n.additionalProps)==null?void 0:g.ref);return RP(e,{...l,ref:d},i)}function r_(n){var e;return parseInt(K.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function i7(n){return typeof n=="function"?n():n}const WP=K.forwardRef(function(e,t){const{children:i,container:s,disablePortal:r=!1}=e,[a,l]=K.useState(null),u=vr(K.isValidElement(i)?r_(i):null,t);if(Tu(()=>{r||l(i7(s)||document.body)},[s,r]),Tu(()=>{if(a&&!r)return oC(t,a),()=>{oC(t,null)}},[t,a,r]),r){if(K.isValidElement(i)){const d={ref:u};return K.cloneElement(i,d)}return i}return a&&MP.createPortal(i,a)});function s7(n){return ui("MuiPopper",n)}ii("MuiPopper",["root"]);function r7(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function mC(n){return typeof n=="function"?n():n}function a7(n){return n.nodeType!==void 0}const o7=n=>{const{classes:e}=n;return fi({root:["root"]},s7,e)},l7={},c7=K.forwardRef(function(e,t){const{anchorEl:i,children:s,direction:r,disablePortal:a,modifiers:l,open:u,placement:d,popperOptions:m,popperRef:g,slotProps:y={},slots:b={},TransitionProps:x,ownerState:E,...A}=e,S=K.useRef(null),B=vr(S,t),w=K.useRef(null),R=vr(w,g),N=K.useRef(R);Tu(()=>{N.current=R},[R]),K.useImperativeHandle(g,()=>w.current,[]);const O=r7(d,r),[U,P]=K.useState(O),[L,M]=K.useState(mC(i));K.useEffect(()=>{w.current&&w.current.forceUpdate()}),K.useEffect(()=>{i&&M(mC(i))},[i]),Tu(()=>{if(!L||!u)return;const ne=$=>{P($.placement)};let H=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{ne($)}}];l!=null&&(H=H.concat(l)),m&&m.modifiers!=null&&(H=H.concat(m.modifiers));const q=n7(L,S.current,{placement:O,...m,modifiers:H});return N.current(q),()=>{q.destroy(),N.current(null)}},[L,a,l,u,m,O]);const F={placement:U};x!==null&&(F.TransitionProps=x);const G=o7(e),J=b.root??"div",ie=jP({elementType:J,externalSlotProps:y.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:B},ownerState:e,className:G.root});return he.jsx(J,{...ie,children:typeof s=="function"?s(F):s})}),u7=K.forwardRef(function(e,t){const{anchorEl:i,children:s,container:r,direction:a="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:d,open:m,placement:g="bottom",popperOptions:y=l7,popperRef:b,style:x,transition:E=!1,slotProps:A={},slots:S={},...B}=e,[w,R]=K.useState(!0),N=()=>{R(!1)},O=()=>{R(!0)};if(!u&&!m&&(!E||w))return null;let U;if(r)U=r;else if(i){const M=mC(i);U=M&&a7(M)?io(M).body:io(null).body}const P=!m&&u&&(!E||w)?"none":void 0,L=E?{in:m,onEnter:N,onExited:O}:void 0;return he.jsx(WP,{disablePortal:l,container:U,children:he.jsx(c7,{anchorEl:i,direction:a,disablePortal:l,modifiers:d,ref:t,open:E?!w:m,placement:g,popperOptions:y,popperRef:b,slotProps:A,slots:S,...B,style:{position:"fixed",top:0,left:0,display:P,...x},TransitionProps:L,children:s})})}),f7=Bt(u7,{name:"MuiPopper",slot:"Root"})({}),XP=K.forwardRef(function(e,t){const i=mP(),s=vi({props:e,name:"MuiPopper"}),{anchorEl:r,component:a,components:l,componentsProps:u,container:d,disablePortal:m,keepMounted:g,modifiers:y,open:b,placement:x,popperOptions:E,popperRef:A,transition:S,slots:B,slotProps:w,...R}=s,N=(B==null?void 0:B.root)??(l==null?void 0:l.Root),O={anchorEl:r,container:d,disablePortal:m,keepMounted:g,modifiers:y,open:b,placement:x,popperOptions:E,popperRef:A,transition:S,...R};return he.jsx(f7,{as:a,direction:i?"rtl":"ltr",slots:{root:N},slotProps:w??u,...O,ref:t})});function d7(n){return ui("MuiListSubheader",n)}ii("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const h7=n=>{const{classes:e,color:t,disableGutters:i,inset:s,disableSticky:r}=n,a={root:["root",t!=="default"&&`color${At(t)}`,!i&&"gutters",s&&"inset",!r&&"sticky"]};return fi(a,d7,e)},p7=Bt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${At(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(qn(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),gC=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiListSubheader"}),{className:s,color:r="default",component:a="li",disableGutters:l=!1,disableSticky:u=!1,inset:d=!1,...m}=i,g={...i,color:r,component:a,disableGutters:l,disableSticky:u,inset:d},y=h7(g);return he.jsx(p7,{as:a,className:en(y.root,s),ref:t,ownerState:g,...m})});gC&&(gC.muiSkipListHighlight=!0);const m7=Kw(he.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function g7(n){return ui("MuiChip",n)}const Tn=ii("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),y7=n=>{const{classes:e,disabled:t,size:i,color:s,iconColor:r,onDelete:a,clickable:l,variant:u}=n,d={root:["root",u,t&&"disabled",`size${At(i)}`,`color${At(s)}`,l&&"clickable",l&&`clickableColor${At(s)}`,a&&"deletable",a&&`deletableColor${At(s)}`,`${u}${At(s)}`],label:["label",`label${At(i)}`],avatar:["avatar",`avatar${At(i)}`,`avatarColor${At(s)}`],icon:["icon",`icon${At(i)}`,`iconColor${At(r)}`],deleteIcon:["deleteIcon",`deleteIcon${At(i)}`,`deleteIconColor${At(s)}`,`deleteIcon${At(u)}Color${At(s)}`]};return fi(d,g7,e)},v7=Bt("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:s,clickable:r,onDelete:a,size:l,variant:u}=t;return[{[`& .${Tn.avatar}`]:e.avatar},{[`& .${Tn.avatar}`]:e[`avatar${At(l)}`]},{[`& .${Tn.avatar}`]:e[`avatarColor${At(i)}`]},{[`& .${Tn.icon}`]:e.icon},{[`& .${Tn.icon}`]:e[`icon${At(l)}`]},{[`& .${Tn.icon}`]:e[`iconColor${At(s)}`]},{[`& .${Tn.deleteIcon}`]:e.deleteIcon},{[`& .${Tn.deleteIcon}`]:e[`deleteIcon${At(l)}`]},{[`& .${Tn.deleteIcon}`]:e[`deleteIconColor${At(i)}`]},{[`& .${Tn.deleteIcon}`]:e[`deleteIcon${At(u)}Color${At(i)}`]},e.root,e[`size${At(l)}`],e[`color${At(i)}`],r&&e.clickable,r&&i!=="default"&&e[`clickableColor${At(i)})`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${At(i)}`],e[u],e[`${u}${At(i)}`]]}})(qn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Tn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Tn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Tn.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Tn.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Tn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Tn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Tn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:Hi(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:Hi(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Tn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Tn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(Qa(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Tn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:Hi(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Tn.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Tn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Tn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Hi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(Qa(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Tn.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Hi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${Tn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Hi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(Qa(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Tn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Tn.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Tn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Tn.avatar}`]:{marginLeft:4},[`& .${Tn.avatarSmall}`]:{marginLeft:2},[`& .${Tn.icon}`]:{marginLeft:4},[`& .${Tn.iconSmall}`]:{marginLeft:2},[`& .${Tn.deleteIcon}`]:{marginRight:5},[`& .${Tn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(Qa()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:Hi(n.palette[t].main,.7)}`,[`&.${Tn.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${Tn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:Hi(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${Tn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:Hi(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),_7=Bt("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${At(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function lI(n){return n.key==="Backspace"||n.key==="Delete"}const b7=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiChip"}),{avatar:s,className:r,clickable:a,color:l="default",component:u,deleteIcon:d,disabled:m=!1,icon:g,label:y,onClick:b,onDelete:x,onKeyDown:E,onKeyUp:A,size:S="medium",variant:B="filled",tabIndex:w,skipFocusWhenDisabled:R=!1,...N}=i,O=K.useRef(null),U=vr(O,t),P=se=>{se.stopPropagation(),x&&x(se)},L=se=>{se.currentTarget===se.target&&lI(se)&&se.preventDefault(),E&&E(se)},M=se=>{se.currentTarget===se.target&&x&&lI(se)&&x(se),A&&A(se)},F=a!==!1&&b?!0:a,G=F||x?zS:u||"div",J={...i,component:G,disabled:m,size:S,color:l,iconColor:K.isValidElement(g)&&g.props.color||l,onDelete:!!x,clickable:F,variant:B},ie=y7(J),ne=G===zS?{component:u||"div",focusVisibleClassName:ie.focusVisible,...x&&{disableRipple:!0}}:{};let H=null;x&&(H=d&&K.isValidElement(d)?K.cloneElement(d,{className:en(d.props.className,ie.deleteIcon),onClick:P}):he.jsx(m7,{className:ie.deleteIcon,onClick:P}));let q=null;s&&K.isValidElement(s)&&(q=K.cloneElement(s,{className:en(ie.avatar,s.props.className)}));let $=null;return g&&K.isValidElement(g)&&($=K.cloneElement(g,{className:en(ie.icon,g.props.className)})),he.jsxs(v7,{as:G,className:en(ie.root,r),disabled:F&&m?!0:void 0,onClick:b,onKeyDown:L,onKeyUp:M,ref:U,tabIndex:R&&m?-1:w,ownerState:J,...ne,...N,children:[q||$,he.jsx(_7,{className:ie.label,ownerState:J,children:y}),H]})});function cx(n){return parseInt(n,10)||0}const x7={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function S7(n){for(const e in n)return!1;return!0}function cI(n){return S7(n)||n.outerHeightStyle===0&&!n.overflowing}const A7=K.forwardRef(function(e,t){const{onChange:i,maxRows:s,minRows:r=1,style:a,value:l,...u}=e,{current:d}=K.useRef(l!=null),m=K.useRef(null),g=vr(t,m),y=K.useRef(null),b=K.useRef(null),x=K.useCallback(()=>{const w=m.current,R=b.current;if(!w||!R)return;const O=Cu(w).getComputedStyle(w);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=O.width,R.value=w.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const U=O.boxSizing,P=cx(O.paddingBottom)+cx(O.paddingTop),L=cx(O.borderBottomWidth)+cx(O.borderTopWidth),M=R.scrollHeight;R.value="x";const F=R.scrollHeight;let G=M;r&&(G=Math.max(Number(r)*F,G)),s&&(G=Math.min(Number(s)*F,G)),G=Math.max(G,F);const J=G+(U==="border-box"?P+L:0),ie=Math.abs(G-M)<=1;return{outerHeightStyle:J,overflowing:ie}},[s,r,e.placeholder]),E=Tl(()=>{const w=m.current,R=x();if(!w||!R||cI(R))return!1;const N=R.outerHeightStyle;return y.current!=null&&y.current!==N}),A=K.useCallback(()=>{const w=m.current,R=x();if(!w||!R||cI(R))return;const N=R.outerHeightStyle;y.current!==N&&(y.current=N,w.style.height=`${N}px`),w.style.overflow=R.overflowing?"hidden":""},[x]),S=K.useRef(-1);Tu(()=>{const w=SP(A),R=m==null?void 0:m.current;if(!R)return;const N=Cu(R);N.addEventListener("resize",w);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(()=>{E()&&(O.unobserve(R),cancelAnimationFrame(S.current),A(),S.current=requestAnimationFrame(()=>{O.observe(R)}))}),O.observe(R)),()=>{w.clear(),cancelAnimationFrame(S.current),N.removeEventListener("resize",w),O&&O.disconnect()}},[x,A,E]),Tu(()=>{A()});const B=w=>{d||A();const R=w.target,N=R.value.length,O=R.value.endsWith(`
`),U=R.selectionStart===N;O&&U&&R.setSelectionRange(N,N),i&&i(w)};return he.jsxs(K.Fragment,{children:[he.jsx("textarea",{value:l,onChange:B,ref:g,rows:r,style:a,...u}),he.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:{...x7.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function yC(n){return typeof n=="string"}function Bg({props:n,states:e,muiFormControl:t}){return e.reduce((i,s)=>(i[s]=n[s],t&&typeof n[s]>"u"&&(i[s]=t[s]),i),{})}const aR=K.createContext(void 0);function Dg(){return K.useContext(aR)}function uI(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function GS(n,e=!1){return n&&(uI(n.value)&&n.value!==""||e&&uI(n.defaultValue)&&n.defaultValue!=="")}function E7(n){return n.startAdornment}function M7(n){return ui("MuiInputBase",n)}const qa=ii("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var fI;const g1=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${At(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},y1=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},T7=n=>{const{classes:e,color:t,disabled:i,error:s,endAdornment:r,focused:a,formControl:l,fullWidth:u,hiddenLabel:d,multiline:m,readOnly:g,size:y,startAdornment:b,type:x}=n,E={root:["root",`color${At(t)}`,i&&"disabled",s&&"error",u&&"fullWidth",a&&"focused",l&&"formControl",y&&y!=="medium"&&`size${At(y)}`,m&&"multiline",b&&"adornedStart",r&&"adornedEnd",d&&"hiddenLabel",g&&"readOnly"],input:["input",i&&"disabled",x==="search"&&"inputTypeSearch",m&&"inputMultiline",y==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",b&&"inputAdornedStart",r&&"inputAdornedEnd",g&&"readOnly"]};return fi(E,M7,e)},v1=Bt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:g1})(qn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${qa.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),_1=Bt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:y1})(qn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${qa.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${qa.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),dI=Vk({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),oR=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:r,autoFocus:a,className:l,color:u,components:d={},componentsProps:m={},defaultValue:g,disabled:y,disableInjectingGlobalStyles:b,endAdornment:x,error:E,fullWidth:A=!1,id:S,inputComponent:B="input",inputProps:w={},inputRef:R,margin:N,maxRows:O,minRows:U,multiline:P=!1,name:L,onBlur:M,onChange:F,onClick:G,onFocus:J,onKeyDown:ie,onKeyUp:ne,placeholder:H,readOnly:q,renderSuffix:$,rows:se,size:X,slotProps:ae={},slots:_e={},startAdornment:Ae,type:ce="text",value:be,...Ue}=i,Qe=w.value!=null?w.value:be,{current:xe}=K.useRef(Qe!=null),j=K.useRef(),Q=K.useCallback(Ve=>{},[]),oe=vr(j,R,w.ref,Q),[Ce,Se]=K.useState(!1),W=Dg(),ze=Bg({props:i,muiFormControl:W,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=W?W.focused:Ce,K.useEffect(()=>{!W&&y&&Ce&&(Se(!1),M&&M())},[W,y,Ce,M]);const De=W&&W.onFilled,Ge=W&&W.onEmpty,ve=K.useCallback(Ve=>{GS(Ve)?De&&De():Ge&&Ge()},[De,Ge]);Tu(()=>{xe&&ve({value:Qe})},[Qe,ve,xe]);const at=Ve=>{J&&J(Ve),w.onFocus&&w.onFocus(Ve),W&&W.onFocus?W.onFocus(Ve):Se(!0)},Te=Ve=>{M&&M(Ve),w.onBlur&&w.onBlur(Ve),W&&W.onBlur?W.onBlur(Ve):Se(!1)},Z=(Ve,...ut)=>{if(!xe){const xt=Ve.target||j.current;if(xt==null)throw new Error(Eu(1));ve({value:xt.value})}w.onChange&&w.onChange(Ve,...ut),F&&F(Ve,...ut)};K.useEffect(()=>{ve(j.current)},[]);const k=Ve=>{j.current&&Ve.currentTarget===Ve.target&&j.current.focus(),G&&G(Ve)};let me=B,Be=w;P&&me==="input"&&(se?Be={type:void 0,minRows:se,maxRows:se,...Be}:Be={type:void 0,maxRows:O,minRows:U,...Be},me=A7);const Ke=Ve=>{ve(Ve.animationName==="mui-auto-fill-cancel"?j.current:{value:"x"})};K.useEffect(()=>{W&&W.setAdornedStart(!!Ae)},[W,Ae]);const He={...i,color:ze.color||"primary",disabled:ze.disabled,endAdornment:x,error:ze.error,focused:ze.focused,formControl:W,fullWidth:A,hiddenLabel:ze.hiddenLabel,multiline:P,size:ze.size,startAdornment:Ae,type:ce},ct=T7(He),rt=_e.root||d.Root||v1,_t=ae.root||m.root||{},bt=_e.input||d.Input||_1;return Be={...Be,...ae.input??m.input},he.jsxs(K.Fragment,{children:[!b&&typeof dI=="function"&&(fI||(fI=he.jsx(dI,{}))),he.jsxs(rt,{..._t,ref:t,onClick:k,...Ue,...!yC(rt)&&{ownerState:{...He,..._t.ownerState}},className:en(ct.root,_t.className,l,q&&"MuiInputBase-readOnly"),children:[Ae,he.jsx(aR.Provider,{value:null,children:he.jsx(bt,{"aria-invalid":ze.error,"aria-describedby":s,autoComplete:r,autoFocus:a,defaultValue:g,disabled:ze.disabled,id:S,onAnimationStart:Ke,name:L,placeholder:H,readOnly:q,required:ze.required,rows:se,value:Qe,onKeyDown:ie,onKeyUp:ne,type:ce,...Be,...!yC(bt)&&{as:me,ownerState:{...He,...Be.ownerState}},ref:oe,className:en(ct.input,Be.className,q&&"MuiInputBase-readOnly"),onBlur:Te,onChange:Z,onFocus:at})}),x,$?$({...ze,startAdornment:Ae}):null]})]})});function C7(n){return ui("MuiInput",n)}const Gf={...qa,...ii("MuiInput",["root","underline","input"])};function w7(n){return ui("MuiOutlinedInput",n)}const Do={...qa,...ii("MuiOutlinedInput",["root","notchedOutline","input"])};function R7(n){return ui("MuiFilledInput",n)}const Ka={...qa,...ii("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},YP=Kw(he.jsx("path",{d:"M7 10l5 5 5-5z"}));function B7(n){return ui("MuiAutocomplete",n)}const yn=ii("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var hI,pI;const D7=n=>{const{classes:e,disablePortal:t,expanded:i,focused:s,fullWidth:r,hasClearIcon:a,hasPopupIcon:l,inputFocused:u,popupOpen:d,size:m}=n,g={root:["root",i&&"expanded",s&&"focused",r&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",u&&"inputFocused"],tag:["tag",`tagSize${At(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return fi(g,B7,e)},I7=Bt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:i,hasClearIcon:s,hasPopupIcon:r,inputFocused:a,size:l}=t;return[{[`& .${yn.tag}`]:e.tag},{[`& .${yn.tag}`]:e[`tagSize${At(l)}`]},{[`& .${yn.inputRoot}`]:e.inputRoot},{[`& .${yn.input}`]:e.input},{[`& .${yn.input}`]:a&&e.inputFocused},e.root,i&&e.fullWidth,r&&e.hasPopupIcon,s&&e.hasClearIcon]}})({[`&.${yn.focused} .${yn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${yn.clearIndicator}`]:{visibility:"visible"}},[`& .${yn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${yn.inputRoot}`]:{[`.${yn.hasPopupIcon}&, .${yn.hasClearIcon}&`]:{paddingRight:30},[`.${yn.hasPopupIcon}.${yn.hasClearIcon}&`]:{paddingRight:56},[`& .${yn.input}`]:{width:0,minWidth:30}},[`& .${Gf.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Gf.root}.${qa.sizeSmall}`]:{[`& .${Gf.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Do.root}`]:{padding:9,[`.${yn.hasPopupIcon}&, .${yn.hasClearIcon}&`]:{paddingRight:39},[`.${yn.hasPopupIcon}.${yn.hasClearIcon}&`]:{paddingRight:65},[`& .${yn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${yn.endAdornment}`]:{right:9}},[`& .${Do.root}.${qa.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${yn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ka.root}`]:{paddingTop:19,paddingLeft:8,[`.${yn.hasPopupIcon}&, .${yn.hasClearIcon}&`]:{paddingRight:39},[`.${yn.hasPopupIcon}.${yn.hasClearIcon}&`]:{paddingRight:65},[`& .${Ka.input}`]:{padding:"7px 4px"},[`& .${yn.endAdornment}`]:{right:9}},[`& .${Ka.root}.${qa.sizeSmall}`]:{paddingBottom:1,[`& .${Ka.input}`]:{padding:"2.5px 4px"}},[`& .${qa.hiddenLabel}`]:{paddingTop:8},[`& .${Ka.root}.${qa.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${yn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ka.root}.${qa.hiddenLabel}.${qa.sizeSmall}`]:{[`& .${yn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${yn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${yn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${yn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${yn.inputRoot}`]:{flexWrap:"wrap"}}}]}),O7=Bt("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),N7=Bt(NP,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),L7=Bt(NP,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),P7=Bt(XP,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${yn.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(qn(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),U7=Bt(Rg,{name:"MuiAutocomplete",slot:"Paper"})(qn(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),F7=Bt("div",{name:"MuiAutocomplete",slot:"Loading"})(qn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),z7=Bt("div",{name:"MuiAutocomplete",slot:"NoOptions"})(qn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),H7=Bt("ul",{name:"MuiAutocomplete",slot:"Listbox"})(qn(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${yn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${yn.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${yn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Hi(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${yn.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Hi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${yn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Hi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),G7=Bt(gC,{name:"MuiAutocomplete",slot:"GroupLabel"})(qn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),k7=Bt("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${yn.option}`]:{paddingLeft:24}}),kS=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiAutocomplete"}),{autoComplete:s=!1,autoHighlight:r=!1,autoSelect:a=!1,blurOnSelect:l=!1,ChipProps:u,className:d,clearIcon:m=hI||(hI=he.jsx(FV,{fontSize:"small"})),clearOnBlur:g=!i.freeSolo,clearOnEscape:y=!1,clearText:b="Clear",closeText:x="Close",componentsProps:E,defaultValue:A=i.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:B=!1,disabled:w=!1,disabledItemsFocusable:R=!1,disableListWrap:N=!1,disablePortal:O=!1,filterOptions:U,filterSelectedOptions:P=!1,forcePopupIcon:L="auto",freeSolo:M=!1,fullWidth:F=!1,getLimitTagsText:G=yt=>`+${yt}`,getOptionDisabled:J,getOptionKey:ie,getOptionLabel:ne,isOptionEqualToValue:H,groupBy:q,handleHomeEndKeys:$=!i.freeSolo,id:se,includeInputInList:X=!1,inputValue:ae,limitTags:_e=-1,ListboxComponent:Ae,ListboxProps:ce,loading:be=!1,loadingText:Ue="Loading…",multiple:Qe=!1,noOptionsText:xe="No options",onChange:j,onClose:Q,onHighlightChange:oe,onInputChange:Ce,onOpen:Se,open:W,openOnFocus:ze=!1,openText:De="Open",options:Ge,PaperComponent:ve,PopperComponent:at,popupIcon:Te=pI||(pI=he.jsx(YP,{})),readOnly:Z=!1,renderGroup:k,renderInput:me,renderOption:Be,renderTags:Ke,renderValue:He,selectOnFocus:ct=!i.freeSolo,size:rt="medium",slots:_t={},slotProps:bt={},value:Ve,...ut}=i,{getRootProps:xt,getInputProps:St,getInputLabelProps:Ye,getPopupIndicatorProps:le,getClearProps:Oe,getItemProps:ft,getListboxProps:de,getOptionProps:ot,value:Le,dirty:Je,expanded:ht,id:pt,popupOpen:Dt,focused:tn,focusedItem:En,anchorEl:Wt,setAnchorEl:Mi,inputValue:Zn,groupedOptions:$n}=JV({...i,componentName:"Autocomplete"}),_i=!S&&!w&&Je&&!Z,Ni=(!M||L===!0)&&L!==!1,{onMouseDown:ys}=St(),{ref:Xo,...Xs}=de(),_s=ne||(yt=>yt.label??yt),Qt={...i,disablePortal:O,expanded:ht,focused:tn,fullWidth:F,getOptionLabel:_s,hasClearIcon:_i,hasPopupIcon:Ni,inputFocused:En===-1,popupOpen:Dt,size:rt},kn=D7(Qt),Qi={slots:{paper:ve,popper:at,..._t},slotProps:{chip:u,listbox:ce,...E,...bt}},[_r,br]=Hs("listbox",{elementType:H7,externalForwardedProps:Qi,ownerState:Qt,className:kn.listbox,additionalProps:Xs,ref:Xo}),[Xe,qe]=Hs("paper",{elementType:Rg,externalForwardedProps:Qi,ownerState:Qt,className:kn.paper}),[Mt,kt]=Hs("popper",{elementType:XP,externalForwardedProps:Qi,ownerState:Qt,className:kn.popper,additionalProps:{disablePortal:O,style:{width:Wt?Wt.clientWidth:null},role:"presentation",anchorEl:Wt,open:Dt}});let Y;const pe=yt=>({className:kn.tag,disabled:w,...ft(yt)});if(Ke&&Qe&&Le.length>0?Y=Ke(Le,pe,Qt):He&&Le?Y=He(Le,pe,Qt):Qe&&Le.length>0&&(Y=Le.map((yt,Ot)=>{const{key:It,...nn}=pe({index:Ot});return he.jsx(b7,{label:_s(yt),size:rt,...nn,...Qi.slotProps.chip},It)})),_e>-1&&Array.isArray(Y)){const yt=Y.length-_e;!tn&&yt>0&&(Y=Y.splice(0,_e),Y.push(he.jsx("span",{className:kn.tag,children:G(yt)},Y.length)))}const Ne=k||(yt=>he.jsxs("li",{children:[he.jsx(G7,{className:kn.groupLabel,ownerState:Qt,component:"div",children:yt.group}),he.jsx(k7,{className:kn.groupUl,ownerState:Qt,children:yt.children})]},yt.key)),st=Be||((yt,Ot)=>{const{key:It,...nn}=yt;return he.jsx("li",{...nn,children:_s(Ot)},It)}),mt=(yt,Ot)=>{const It=ot({option:yt,index:Ot});return st({...It,className:kn.option},yt,{selected:It["aria-selected"],index:Ot,inputValue:Zn},Qt)},gt=Qi.slotProps.clearIndicator,Tt=Qi.slotProps.popupIndicator;return he.jsxs(K.Fragment,{children:[he.jsx(I7,{ref:t,className:en(kn.root,d),ownerState:Qt,...xt(ut),children:me({id:pt,disabled:w,fullWidth:!0,size:rt==="small"?"small":void 0,InputLabelProps:Ye(),InputProps:{ref:Mi,className:kn.inputRoot,startAdornment:Y,onMouseDown:yt=>{yt.target===yt.currentTarget&&ys(yt)},...(_i||Ni)&&{endAdornment:he.jsxs(O7,{className:kn.endAdornment,ownerState:Qt,children:[_i?he.jsx(N7,{...Oe(),"aria-label":b,title:b,ownerState:Qt,...gt,className:en(kn.clearIndicator,gt==null?void 0:gt.className),children:m}):null,Ni?he.jsx(L7,{...le(),disabled:w,"aria-label":Dt?x:De,title:Dt?x:De,ownerState:Qt,...Tt,className:en(kn.popupIndicator,Tt==null?void 0:Tt.className),children:Te}):null]})}},inputProps:{className:kn.input,disabled:w,readOnly:Z,...St()}})}),Wt?he.jsx(P7,{as:Mt,...kt,children:he.jsxs(U7,{as:Xe,...qe,children:[be&&$n.length===0?he.jsx(F7,{className:kn.loading,ownerState:Qt,children:Ue}):null,$n.length===0&&!M&&!be?he.jsx(z7,{className:kn.noOptions,ownerState:Qt,role:"presentation",onMouseDown:yt=>{yt.preventDefault()},children:xe}):null,$n.length>0?he.jsx(_r,{as:Ae,...br,children:$n.map((yt,Ot)=>q?Ne({key:yt.key,group:yt.group,children:yt.options.map((It,nn)=>mt(It,yt.index+nn))}):mt(yt,Ot))}):null]})}):null]})}),V7={entering:{opacity:1},entered:{opacity:1}},j7=K.forwardRef(function(e,t){const i=p1(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:a=!0,children:l,easing:u,in:d,onEnter:m,onEntered:g,onEntering:y,onExit:b,onExited:x,onExiting:E,style:A,timeout:S=s,TransitionComponent:B=Ic,...w}=e,R=K.useRef(null),N=vr(R,r_(l),t),O=ie=>ne=>{if(ie){const H=R.current;ne===void 0?ie(H):ie(H,ne)}},U=O(y),P=O((ie,ne)=>{wP(ie);const H=US({style:A,timeout:S,easing:u},{mode:"enter"});ie.style.webkitTransition=i.transitions.create("opacity",H),ie.style.transition=i.transitions.create("opacity",H),m&&m(ie,ne)}),L=O(g),M=O(E),F=O(ie=>{const ne=US({style:A,timeout:S,easing:u},{mode:"exit"});ie.style.webkitTransition=i.transitions.create("opacity",ne),ie.style.transition=i.transitions.create("opacity",ne),b&&b(ie)}),G=O(x),J=ie=>{r&&r(R.current,ie)};return he.jsx(B,{appear:a,in:d,nodeRef:R,onEnter:P,onEntered:L,onEntering:U,onExit:F,onExited:G,onExiting:M,addEndListener:J,timeout:S,...w,children:(ie,{ownerState:ne,...H})=>K.cloneElement(l,{style:{opacity:0,visibility:ie==="exited"&&!d?"hidden":void 0,...V7[ie],...A,...l.props.style},ref:N,...H})})});function W7(n){return ui("MuiBackdrop",n)}ii("MuiBackdrop",["root","invisible"]);const X7=n=>{const{classes:e,invisible:t}=n;return fi({root:["root",t&&"invisible"]},W7,e)},Y7=Bt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),q7=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiBackdrop"}),{children:s,className:r,component:a="div",invisible:l=!1,open:u,components:d={},componentsProps:m={},slotProps:g={},slots:y={},TransitionComponent:b,transitionDuration:x,...E}=i,A={...i,component:a,invisible:l},S=X7(A),B={transition:b,root:d.Root,...y},w={...m,...g},R={slots:B,slotProps:w},[N,O]=Hs("root",{elementType:Y7,externalForwardedProps:R,className:en(S.root,r),ownerState:A}),[U,P]=Hs("transition",{elementType:j7,externalForwardedProps:R,ownerState:A});return he.jsx(U,{in:u,timeout:x,...E,...P,children:he.jsx(N,{"aria-hidden":!0,...O,classes:S,ref:t,children:s})})}),K7=ii("MuiBox",["root"]),J7=Yw(),Rs=G8({themeId:n1,defaultTheme:J7,defaultClassName:K7.root,generateClassName:uP.generate});function Q7(n){return ui("MuiButton",n)}const ih=ii("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Z7=K.createContext({}),$7=K.createContext(void 0),ej=n=>{const{color:e,disableElevation:t,fullWidth:i,size:s,variant:r,loading:a,loadingPosition:l,classes:u}=n,d={root:["root",a&&"loading",r,`${r}${At(e)}`,`size${At(s)}`,`${r}Size${At(s)}`,`color${At(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${At(l)}`],startIcon:["icon","startIcon",`iconSize${At(s)}`],endIcon:["icon","endIcon",`iconSize${At(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},m=fi(d,Q7,u);return{...u,...m}},qP=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],tj=Bt(zS,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${At(t.color)}`],e[`size${At(t.size)}`],e[`${t.variant}Size${At(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(qn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ih.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${ih.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${ih.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ih.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Qa()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:Hi(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Hi(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ih.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ih.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${ih.loading}`]:{color:"transparent"}}}]}})),nj=Bt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${At(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...qP]})),ij=Bt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${At(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...qP]})),sj=Bt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),mI=Bt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),lR=K.forwardRef(function(e,t){const i=K.useContext(Z7),s=K.useContext($7),r=LS(i,e),a=vi({props:r,name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:m,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:b=!1,endIcon:x,focusVisibleClassName:E,fullWidth:A=!1,id:S,loading:B=null,loadingIndicator:w,loadingPosition:R="center",size:N="medium",startIcon:O,type:U,variant:P="text",...L}=a,M=n_(S),F=w??he.jsx(OP,{"aria-labelledby":M,color:"inherit",size:16}),G={...a,color:u,component:d,disabled:g,disableElevation:y,disableFocusRipple:b,fullWidth:A,loading:B,loadingIndicator:F,loadingPosition:R,size:N,type:U,variant:P},J=ej(G),ie=(O||B&&R==="start")&&he.jsx(nj,{className:J.startIcon,ownerState:G,children:O||he.jsx(mI,{className:J.loadingIconPlaceholder,ownerState:G})}),ne=(x||B&&R==="end")&&he.jsx(ij,{className:J.endIcon,ownerState:G,children:x||he.jsx(mI,{className:J.loadingIconPlaceholder,ownerState:G})}),H=s||"",q=typeof B=="boolean"?he.jsx("span",{className:J.loadingWrapper,style:{display:"contents"},children:B&&he.jsx(sj,{className:J.loadingIndicator,ownerState:G,children:F})}):null;return he.jsxs(tj,{ownerState:G,className:en(i.className,J.root,m,H),component:d,disabled:g||B,focusRipple:!b,focusVisibleClassName:en(J.focusVisible,E),ref:t,type:U,id:B?M:S,...L,classes:J,children:[ie,R!=="end"&&q,l,R==="end"&&q,ne]})});function KP(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function rj(n){const e=io(n);return e.body===n?Cu(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Vv(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function gI(n){return parseInt(Cu(n).getComputedStyle(n).paddingRight,10)||0}function aj(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function yI(n,e,t,i,s){const r=[e,t,...i];[].forEach.call(n.children,a=>{const l=!r.includes(a),u=!aj(a);l&&u&&Vv(a,s)})}function mM(n,e){let t=-1;return n.some((i,s)=>e(i)?(t=s,!0):!1),t}function oj(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(rj(i)){const a=KP(Cu(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${gI(i)+a}px`;const l=io(i).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${gI(u)+a}px`})}let r;if(i.parentNode instanceof DocumentFragment)r=io(i).body;else{const a=i.parentElement,l=Cu(i);r=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{t.forEach(({value:r,el:a,property:l})=>{r?a.style.setProperty(l,r):a.style.removeProperty(l)})}}function lj(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class cj{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Vv(e.modalRef,!1);const s=lj(t);yI(t,e.mount,e.modalRef,s,!0);const r=mM(this.containers,a=>a.container===t);return r!==-1?(this.containers[r].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:s}),i)}mount(e,t){const i=mM(this.containers,r=>r.modals.includes(e)),s=this.containers[i];s.restore||(s.restore=oj(s,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const s=mM(this.containers,a=>a.modals.includes(e)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(i,1),r.modals.length===0)r.restore&&r.restore(),e.modalRef&&Vv(e.modalRef,t),yI(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=r.modals[r.modals.length-1];a.modalRef&&Vv(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const uj=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function fj(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function dj(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function hj(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||dj(n))}function pj(n){const e=[],t=[];return Array.from(n.querySelectorAll(uj)).forEach((i,s)=>{const r=fj(i);r===-1||!hj(i)||(r===0?e.push(i):t.push({documentOrder:s,tabIndex:r,node:i}))}),t.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(e)}function mj(){return!0}function gj(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:r=pj,isEnabled:a=mj,open:l}=n,u=K.useRef(!1),d=K.useRef(null),m=K.useRef(null),g=K.useRef(null),y=K.useRef(null),b=K.useRef(!1),x=K.useRef(null),E=vr(r_(e),x),A=K.useRef(null);K.useEffect(()=>{!l||!x.current||(b.current=!t)},[t,l]),K.useEffect(()=>{if(!l||!x.current)return;const w=io(x.current);return x.current.contains(w.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),b.current&&x.current.focus()),()=>{s||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[l]),K.useEffect(()=>{if(!l||!x.current)return;const w=io(x.current),R=U=>{A.current=U,!(i||!a()||U.key!=="Tab")&&w.activeElement===x.current&&U.shiftKey&&(u.current=!0,m.current&&m.current.focus())},N=()=>{var L,M;const U=x.current;if(U===null)return;if(!w.hasFocus()||!a()||u.current){u.current=!1;return}if(U.contains(w.activeElement)||i&&w.activeElement!==d.current&&w.activeElement!==m.current)return;if(w.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!b.current)return;let P=[];if((w.activeElement===d.current||w.activeElement===m.current)&&(P=r(x.current)),P.length>0){const F=!!((L=A.current)!=null&&L.shiftKey&&((M=A.current)==null?void 0:M.key)==="Tab"),G=P[0],J=P[P.length-1];typeof G!="string"&&typeof J!="string"&&(F?J.focus():G.focus())}else U.focus()};w.addEventListener("focusin",N),w.addEventListener("keydown",R,!0);const O=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(O),w.removeEventListener("focusin",N),w.removeEventListener("keydown",R,!0)}},[t,i,s,a,l,r]);const S=w=>{g.current===null&&(g.current=w.relatedTarget),b.current=!0,y.current=w.target;const R=e.props.onFocus;R&&R(w)},B=w=>{g.current===null&&(g.current=w.relatedTarget),b.current=!0};return he.jsxs(K.Fragment,{children:[he.jsx("div",{tabIndex:l?0:-1,onFocus:B,ref:d,"data-testid":"sentinelStart"}),K.cloneElement(e,{ref:E,onFocus:S}),he.jsx("div",{tabIndex:l?0:-1,onFocus:B,ref:m,"data-testid":"sentinelEnd"})]})}function yj(n){return typeof n=="function"?n():n}function vj(n){return n?n.props.hasOwnProperty("in"):!1}const vI=()=>{},ux=new cj;function _j(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:m}=n,g=K.useRef({}),y=K.useRef(null),b=K.useRef(null),x=vr(b,m),[E,A]=K.useState(!d),S=vj(l);let B=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(B=!1);const w=()=>io(y.current),R=()=>(g.current.modalRef=b.current,g.current.mount=y.current,g.current),N=()=>{ux.mount(R(),{disableScrollLock:i}),b.current&&(b.current.scrollTop=0)},O=Tl(()=>{const ne=yj(e)||w().body;ux.add(R(),ne),b.current&&N()}),U=()=>ux.isTopModal(R()),P=Tl(ne=>{y.current=ne,ne&&(d&&U()?N():b.current&&Vv(b.current,B))}),L=K.useCallback(()=>{ux.remove(R(),B)},[B]);K.useEffect(()=>()=>{L()},[L]),K.useEffect(()=>{d?O():(!S||!s)&&L()},[d,L,S,s,O]);const M=ne=>H=>{var q;(q=ne.onKeyDown)==null||q.call(ne,H),!(H.key!=="Escape"||H.which===229||!U())&&(t||(H.stopPropagation(),u&&u(H,"escapeKeyDown")))},F=ne=>H=>{var q;(q=ne.onClick)==null||q.call(ne,H),H.target===H.currentTarget&&u&&u(H,"backdropClick")};return{getRootProps:(ne={})=>{const H=DP(n);delete H.onTransitionEnter,delete H.onTransitionExited;const q={...H,...ne};return{role:"presentation",...q,onKeyDown:M(q),ref:x}},getBackdropProps:(ne={})=>{const H=ne;return{"aria-hidden":!0,...H,onClick:F(H),open:d}},getTransitionProps:()=>{const ne=()=>{A(!1),r&&r()},H=()=>{A(!0),a&&a(),s&&L()};return{onEnter:kD(ne,(l==null?void 0:l.props.onEnter)??vI),onExited:kD(H,(l==null?void 0:l.props.onExited)??vI)}},rootRef:x,portalRef:P,isTopModal:U,exited:E,hasTransition:S}}function bj(n){return ui("MuiModal",n)}ii("MuiModal",["root","hidden","backdrop"]);const xj=n=>{const{open:e,exited:t,classes:i}=n;return fi({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},bj,i)},Sj=Bt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(qn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Aj=Bt(q7,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Ej=K.forwardRef(function(e,t){const i=vi({name:"MuiModal",props:e}),{BackdropComponent:s=Aj,BackdropProps:r,classes:a,className:l,closeAfterTransition:u=!1,children:d,container:m,component:g,components:y={},componentsProps:b={},disableAutoFocus:x=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:A=!1,disablePortal:S=!1,disableRestoreFocus:B=!1,disableScrollLock:w=!1,hideBackdrop:R=!1,keepMounted:N=!1,onClose:O,onTransitionEnter:U,onTransitionExited:P,open:L,slotProps:M={},slots:F={},theme:G,...J}=i,ie={...i,closeAfterTransition:u,disableAutoFocus:x,disableEnforceFocus:E,disableEscapeKeyDown:A,disablePortal:S,disableRestoreFocus:B,disableScrollLock:w,hideBackdrop:R,keepMounted:N},{getRootProps:ne,getBackdropProps:H,getTransitionProps:q,portalRef:$,isTopModal:se,exited:X,hasTransition:ae}=_j({...ie,rootRef:t}),_e={...ie,exited:X},Ae=xj(_e),ce={};if(d.props.tabIndex===void 0&&(ce.tabIndex="-1"),ae){const{onEnter:Q,onExited:oe}=q();ce.onEnter=Q,ce.onExited=oe}const be={slots:{root:y.Root,backdrop:y.Backdrop,...F},slotProps:{...b,...M}},[Ue,Qe]=Hs("root",{ref:t,elementType:Sj,externalForwardedProps:{...be,...J,component:g},getSlotProps:ne,ownerState:_e,className:en(l,Ae==null?void 0:Ae.root,!_e.open&&_e.exited&&(Ae==null?void 0:Ae.hidden))}),[xe,j]=Hs("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:be,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:Q=>H({...Q,onClick:oe=>{Q!=null&&Q.onClick&&Q.onClick(oe)}}),className:en(r==null?void 0:r.className,Ae==null?void 0:Ae.backdrop),ownerState:_e});return!N&&!L&&(!ae||X)?null:he.jsx(WP,{ref:$,container:m,disablePortal:S,children:he.jsxs(Ue,{...Qe,children:[!R&&s?he.jsx(xe,{...j}):null,he.jsx(gj,{disableEnforceFocus:E,disableAutoFocus:x,disableRestoreFocus:B,isEnabled:se,open:L,children:K.cloneElement(d,ce)})]})})});function Mj(n){return ui("MuiDivider",n)}ii("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Tj=n=>{const{absolute:e,children:t,classes:i,flexItem:s,light:r,orientation:a,textAlign:l,variant:u}=n;return fi({root:["root",e&&"absolute",u,r&&"light",a==="vertical"&&"vertical",s&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},Mj,i)},Cj=Bt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(qn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:Hi(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),wj=Bt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(qn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),vC=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiDivider"}),{absolute:s=!1,children:r,className:a,orientation:l="horizontal",component:u=r||l==="vertical"?"div":"hr",flexItem:d=!1,light:m=!1,role:g=u!=="hr"?"separator":void 0,textAlign:y="center",variant:b="fullWidth",...x}=i,E={...i,absolute:s,component:u,flexItem:d,light:m,orientation:l,role:g,textAlign:y,variant:b},A=Tj(E);return he.jsx(Cj,{as:u,className:en(A.root,a),role:g,ref:t,ownerState:E,"aria-orientation":g==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,...x,children:r?he.jsx(wj,{className:A.wrapper,ownerState:E,children:r}):null})});vC&&(vC.muiSkipListHighlight=!0);const Rj=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:s,size:r,hiddenLabel:a,multiline:l}=n,u={root:["root",!t&&"underline",i&&"adornedStart",s&&"adornedEnd",r==="small"&&`size${At(r)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},d=fi(u,R7,e);return{...e,...d}},Bj=Bt(v1,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...g1(n,e),!t.disableUnderline&&e.underline]}})(qn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Ka.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Ka.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ka.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ka.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ka.disabled}, .${Ka.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ka.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Qa()).map(([a])=>{var l;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[a])==null?void 0:l.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Dj=Bt(_1,{name:"MuiFilledInput",slot:"Input",overridesResolver:y1})(qn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),cR=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:r={},componentsProps:a,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:m=!1,slotProps:g,slots:y={},type:b="text",...x}=i,E={...i,disableUnderline:s,fullWidth:l,inputComponent:d,multiline:m,type:b},A=Rj(i),S={root:{ownerState:E},input:{ownerState:E}},B=g??a?zr(S,g??a):S,w=y.root??r.Root??Bj,R=y.input??r.Input??Dj;return he.jsx(oR,{slots:{root:w,input:R},slotProps:B,fullWidth:l,inputComponent:d,multiline:m,ref:t,type:b,...x,classes:A})});cR.muiName="Input";function Ij(n){return ui("MuiFormControl",n)}ii("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Oj=n=>{const{classes:e,margin:t,fullWidth:i}=n,s={root:["root",t!=="none"&&`margin${At(t)}`,i&&"fullWidth"]};return fi(s,Ij,e)},Nj=Bt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${At(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Lj=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiFormControl"}),{children:s,className:r,color:a="primary",component:l="div",disabled:u=!1,error:d=!1,focused:m,fullWidth:g=!1,hiddenLabel:y=!1,margin:b="none",required:x=!1,size:E="medium",variant:A="outlined",...S}=i,B={...i,color:a,component:l,disabled:u,error:d,fullWidth:g,hiddenLabel:y,margin:b,required:x,size:E,variant:A},w=Oj(B),[R,N]=K.useState(()=>{let ne=!1;return s&&K.Children.forEach(s,H=>{if(!hM(H,["Input","Select"]))return;const q=hM(H,["Select"])?H.props.input:H;q&&E7(q.props)&&(ne=!0)}),ne}),[O,U]=K.useState(()=>{let ne=!1;return s&&K.Children.forEach(s,H=>{hM(H,["Input","Select"])&&(GS(H.props,!0)||GS(H.props.inputProps,!0))&&(ne=!0)}),ne}),[P,L]=K.useState(!1);u&&P&&L(!1);const M=m!==void 0&&!u?m:P;let F;K.useRef(!1);const G=K.useCallback(()=>{U(!0)},[]),J=K.useCallback(()=>{U(!1)},[]),ie=K.useMemo(()=>({adornedStart:R,setAdornedStart:N,color:a,disabled:u,error:d,filled:O,focused:M,fullWidth:g,hiddenLabel:y,size:E,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:J,onFilled:G,registerEffect:F,required:x,variant:A}),[R,a,u,d,O,M,g,y,F,J,G,x,E,A]);return he.jsx(aR.Provider,{value:ie,children:he.jsx(Nj,{as:l,ownerState:B,className:en(w.root,r),ref:t,...S,children:s})})});function Pj(n){return ui("MuiFormHelperText",n)}const _I=ii("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var bI;const Uj=n=>{const{classes:e,contained:t,size:i,disabled:s,error:r,filled:a,focused:l,required:u}=n,d={root:["root",s&&"disabled",r&&"error",i&&`size${At(i)}`,t&&"contained",l&&"focused",a&&"filled",u&&"required"]};return fi(d,Pj,e)},Fj=Bt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${At(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(qn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${_I.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${_I.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),zj=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiFormHelperText"}),{children:s,className:r,component:a="p",disabled:l,error:u,filled:d,focused:m,margin:g,required:y,variant:b,...x}=i,E=Dg(),A=Bg({props:i,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),S={...i,component:a,contained:A.variant==="filled"||A.variant==="outlined",variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required};delete S.ownerState;const B=Uj(S);return he.jsx(Fj,{as:a,className:en(B.root,r),ref:t,...x,ownerState:S,children:s===" "?bI||(bI=he.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):s})});function Hj(n){return ui("MuiFormLabel",n)}const jv=ii("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Gj=n=>{const{classes:e,color:t,focused:i,disabled:s,error:r,filled:a,required:l}=n,u={root:["root",`color${At(t)}`,s&&"disabled",r&&"error",a&&"filled",i&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return fi(u,Hj,e)},kj=Bt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(qn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Qa()).map(([e])=>({props:{color:e},style:{[`&.${jv.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${jv.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${jv.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),Vj=Bt("span",{name:"MuiFormLabel",slot:"Asterisk"})(qn(({theme:n})=>({[`&.${jv.error}`]:{color:(n.vars||n).palette.error.main}}))),jj=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiFormLabel"}),{children:s,className:r,color:a,component:l="label",disabled:u,error:d,filled:m,focused:g,required:y,...b}=i,x=Dg(),E=Bg({props:i,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),A={...i,color:E.color||"primary",component:l,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},S=Gj(A);return he.jsxs(kj,{as:l,ownerState:A,className:en(S.root,r),ref:t,...b,children:[s,E.required&&he.jsxs(Vj,{ownerState:A,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function _C(n){return`scale(${n}, ${n**2})`}const Wj={entering:{opacity:1,transform:_C(1)},entered:{opacity:1,transform:"none"}},gM=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bC=K.forwardRef(function(e,t){const{addEndListener:i,appear:s=!0,children:r,easing:a,in:l,onEnter:u,onEntered:d,onEntering:m,onExit:g,onExited:y,onExiting:b,style:x,timeout:E="auto",TransitionComponent:A=Ic,...S}=e,B=CP(),w=K.useRef(),R=p1(),N=K.useRef(null),O=vr(N,r_(r),t),U=ne=>H=>{if(ne){const q=N.current;H===void 0?ne(q):ne(q,H)}},P=U(m),L=U((ne,H)=>{wP(ne);const{duration:q,delay:$,easing:se}=US({style:x,timeout:E,easing:a},{mode:"enter"});let X;E==="auto"?(X=R.transitions.getAutoHeightDuration(ne.clientHeight),w.current=X):X=q,ne.style.transition=[R.transitions.create("opacity",{duration:X,delay:$}),R.transitions.create("transform",{duration:gM?X:X*.666,delay:$,easing:se})].join(","),u&&u(ne,H)}),M=U(d),F=U(b),G=U(ne=>{const{duration:H,delay:q,easing:$}=US({style:x,timeout:E,easing:a},{mode:"exit"});let se;E==="auto"?(se=R.transitions.getAutoHeightDuration(ne.clientHeight),w.current=se):se=H,ne.style.transition=[R.transitions.create("opacity",{duration:se,delay:q}),R.transitions.create("transform",{duration:gM?se:se*.666,delay:gM?q:q||se*.333,easing:$})].join(","),ne.style.opacity=0,ne.style.transform=_C(.75),g&&g(ne)}),J=U(y),ie=ne=>{E==="auto"&&B.start(w.current||0,ne),i&&i(N.current,ne)};return he.jsx(A,{appear:s,in:l,nodeRef:N,onEnter:L,onEntered:M,onEntering:P,onExit:G,onExited:J,onExiting:F,addEndListener:ie,timeout:E==="auto"?null:E,...S,children:(ne,{ownerState:H,...q})=>K.cloneElement(r,{style:{opacity:0,transform:_C(.75),visibility:ne==="exited"&&!l?"hidden":void 0,...Wj[ne],...x,...r.props.style},ref:O,...q})})});bC&&(bC.muiSupportAuto=!0);const Xj=n=>{const{classes:e,disableUnderline:t}=n,s=fi({root:["root",!t&&"underline"],input:["input"]},C7,e);return{...e,...s}},Yj=Bt(v1,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...g1(n,e),!t.disableUnderline&&e.underline]}})(qn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gf.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gf.disabled}, .${Gf.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Gf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Qa()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),qj=Bt(_1,{name:"MuiInput",slot:"Input",overridesResolver:y1})({}),uR=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:r={},componentsProps:a,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:m,slots:g={},type:y="text",...b}=i,x=Xj(i),A={root:{ownerState:{disableUnderline:s}}},S=m??a?zr(m??a,A):A,B=g.root??r.Root??Yj,w=g.input??r.Input??qj;return he.jsx(oR,{slots:{root:B,input:w},slotProps:S,fullWidth:l,inputComponent:u,multiline:d,ref:t,type:y,...b,classes:x})});uR.muiName="Input";function Kj(n){return ui("MuiInputLabel",n)}ii("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Jj=n=>{const{classes:e,formControl:t,size:i,shrink:s,disableAnimation:r,variant:a,required:l}=n,u={root:["root",t&&"formControl",!r&&"animated",s&&"shrink",i&&i!=="medium"&&`size${At(i)}`,a],asterisk:[l&&"asterisk"]},d=fi(u,Kj,e);return{...e,...d}},Qj=Bt(jj,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${jv.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(qn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Zj=K.forwardRef(function(e,t){const i=vi({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:r,shrink:a,variant:l,className:u,...d}=i,m=Dg();let g=a;typeof g>"u"&&m&&(g=m.filled||m.focused||m.adornedStart);const y=Bg({props:i,muiFormControl:m,states:["size","variant","required","focused"]}),b={...i,disableAnimation:s,formControl:m,shrink:g,size:y.size,variant:y.variant,required:y.required,focused:y.focused},x=Jj(b);return he.jsx(Qj,{"data-shrink":g,ref:t,className:en(x.root,u),...d,ownerState:b,classes:x})}),$j=K.createContext({});function eW(n){return ui("MuiList",n)}ii("MuiList",["root","padding","dense","subheader"]);const tW=n=>{const{classes:e,disablePadding:t,dense:i,subheader:s}=n;return fi({root:["root",!t&&"padding",i&&"dense",s&&"subheader"]},eW,e)},nW=Bt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),iW=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiList"}),{children:s,className:r,component:a="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...m}=i,g=K.useMemo(()=>({dense:l}),[l]),y={...i,component:a,dense:l,disablePadding:u},b=tW(y);return he.jsx($j.Provider,{value:g,children:he.jsxs(nW,{as:a,className:en(b.root,r),ref:t,ownerState:y,...m,children:[d,s]})})});function yM(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function xI(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function JP(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function dv(n,e,t,i,s,r){let a=!1,l=s(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(a)return!1;a=!0}const u=i?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!JP(l,r)||u)l=s(n,l,t);else return l.focus(),!0}return!1}const sW=K.forwardRef(function(e,t){const{actions:i,autoFocus:s=!1,autoFocusItem:r=!1,children:a,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:m,variant:g="selectedMenu",...y}=e,b=K.useRef(null),x=K.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Tu(()=>{s&&b.current.focus()},[s]),K.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(w,{direction:R})=>{const N=!b.current.style.width;if(w.clientHeight<b.current.clientHeight&&N){const O=`${KP(Cu(w))}px`;b.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=O,b.current.style.width=`calc(100% + ${O})`}return b.current}}),[]);const E=w=>{const R=b.current,N=w.key;if(w.ctrlKey||w.metaKey||w.altKey){m&&m(w);return}const U=io(R).activeElement;if(N==="ArrowDown")w.preventDefault(),dv(R,U,d,u,yM);else if(N==="ArrowUp")w.preventDefault(),dv(R,U,d,u,xI);else if(N==="Home")w.preventDefault(),dv(R,null,d,u,yM);else if(N==="End")w.preventDefault(),dv(R,null,d,u,xI);else if(N.length===1){const P=x.current,L=N.toLowerCase(),M=performance.now();P.keys.length>0&&(M-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&L!==P.keys[0]&&(P.repeating=!1)),P.lastTime=M,P.keys.push(L);const F=U&&!P.repeating&&JP(U,P);P.previousKeyMatched&&(F||dv(R,U,!1,u,yM,P))?w.preventDefault():P.previousKeyMatched=!1}m&&m(w)},A=vr(b,t);let S=-1;K.Children.forEach(a,(w,R)=>{if(!K.isValidElement(w)){S===R&&(S+=1,S>=a.length&&(S=-1));return}w.props.disabled||(g==="selectedMenu"&&w.props.selected||S===-1)&&(S=R),S===R&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(S+=1,S>=a.length&&(S=-1))});const B=K.Children.map(a,(w,R)=>{if(R===S){const N={};return r&&(N.autoFocus=!0),w.props.tabIndex===void 0&&g==="selectedMenu"&&(N.tabIndex=0),K.cloneElement(w,N)}return w});return he.jsx(iW,{role:"menu",ref:A,className:l,onKeyDown:E,tabIndex:s?0:-1,...y,children:B})});function rW(n){return ui("MuiPopover",n)}ii("MuiPopover",["root","paper"]);function SI(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function AI(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function EI(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function fx(n){return typeof n=="function"?n():n}const aW=n=>{const{classes:e}=n;return fi({root:["root"],paper:["paper"]},rW,e)},oW=Bt(Ej,{name:"MuiPopover",slot:"Root"})({}),QP=Bt(Rg,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),lW=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiPopover"}),{action:s,anchorEl:r,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:m,container:g,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:E={},slots:A={},slotProps:S={},transformOrigin:B={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:R="auto",TransitionProps:N={},disableScrollLock:O=!1,...U}=i,P=K.useRef(),L={...i,anchorOrigin:a,anchorReference:u,elevation:y,marginThreshold:b,transformOrigin:B,TransitionComponent:w,transitionDuration:R,TransitionProps:N},M=aW(L),F=K.useCallback(()=>{if(u==="anchorPosition")return l;const Q=fx(r),Ce=(Q&&Q.nodeType===1?Q:io(P.current).body).getBoundingClientRect();return{top:Ce.top+SI(Ce,a.vertical),left:Ce.left+AI(Ce,a.horizontal)}},[r,a.horizontal,a.vertical,l,u]),G=K.useCallback(Q=>({vertical:SI(Q,B.vertical),horizontal:AI(Q,B.horizontal)}),[B.horizontal,B.vertical]),J=K.useCallback(Q=>{const oe={width:Q.offsetWidth,height:Q.offsetHeight},Ce=G(oe);if(u==="none")return{top:null,left:null,transformOrigin:EI(Ce)};const Se=F();let W=Se.top-Ce.vertical,ze=Se.left-Ce.horizontal;const De=W+oe.height,Ge=ze+oe.width,ve=Cu(fx(r)),at=ve.innerHeight-b,Te=ve.innerWidth-b;if(b!==null&&W<b){const Z=W-b;W-=Z,Ce.vertical+=Z}else if(b!==null&&De>at){const Z=De-at;W-=Z,Ce.vertical+=Z}if(b!==null&&ze<b){const Z=ze-b;ze-=Z,Ce.horizontal+=Z}else if(Ge>Te){const Z=Ge-Te;ze-=Z,Ce.horizontal+=Z}return{top:`${Math.round(W)}px`,left:`${Math.round(ze)}px`,transformOrigin:EI(Ce)}},[r,u,F,G,b]),[ie,ne]=K.useState(x),H=K.useCallback(()=>{const Q=P.current;if(!Q)return;const oe=J(Q);oe.top!==null&&Q.style.setProperty("top",oe.top),oe.left!==null&&(Q.style.left=oe.left),Q.style.transformOrigin=oe.transformOrigin,ne(!0)},[J]);K.useEffect(()=>(O&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[r,O,H]);const q=()=>{H()},$=()=>{ne(!1)};K.useEffect(()=>{x&&H()}),K.useImperativeHandle(s,()=>x?{updatePosition:()=>{H()}}:null,[x,H]),K.useEffect(()=>{if(!x)return;const Q=SP(()=>{H()}),oe=Cu(fx(r));return oe.addEventListener("resize",Q),()=>{Q.clear(),oe.removeEventListener("resize",Q)}},[r,x,H]);let se=R;const X={slots:{transition:w,...A},slotProps:{transition:N,paper:E,...S}},[ae,_e]=Hs("transition",{elementType:bC,externalForwardedProps:X,ownerState:L,getSlotProps:Q=>({...Q,onEntering:(oe,Ce)=>{var Se;(Se=Q.onEntering)==null||Se.call(Q,oe,Ce),q()},onExited:oe=>{var Ce;(Ce=Q.onExited)==null||Ce.call(Q,oe),$()}}),additionalProps:{appear:!0,in:x}});R==="auto"&&!ae.muiSupportAuto&&(se=void 0);const Ae=g||(r?io(fx(r)).body:void 0),[ce,{slots:be,slotProps:Ue,...Qe}]=Hs("root",{ref:t,elementType:oW,externalForwardedProps:{...X,...U},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:A.backdrop},slotProps:{backdrop:Qk(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:Ae,open:x},ownerState:L,className:en(M.root,m)}),[xe,j]=Hs("paper",{ref:P,className:M.paper,elementType:QP,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:ie?void 0:{opacity:0}},ownerState:L});return he.jsx(ce,{...Qe,...!yC(ce)&&{slots:be,slotProps:Ue,disableScrollLock:O},children:he.jsx(ae,{..._e,timeout:se,children:he.jsx(xe,{...j,children:d})})})});function cW(n){return ui("MuiMenu",n)}ii("MuiMenu",["root","paper","list"]);const uW={vertical:"top",horizontal:"right"},fW={vertical:"top",horizontal:"left"},dW=n=>{const{classes:e}=n;return fi({root:["root"],paper:["paper"],list:["list"]},cW,e)},hW=Bt(lW,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),pW=Bt(QP,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),mW=Bt(sW,{name:"MuiMenu",slot:"List"})({outline:0}),gW=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:r,className:a,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:m,PaperProps:g={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:x,...E}={},variant:A="selectedMenu",slots:S={},slotProps:B={},...w}=i,R=mP(),N={...i,autoFocus:s,disableAutoFocusItem:l,MenuListProps:u,onEntering:x,PaperProps:g,transitionDuration:b,TransitionProps:E,variant:A},O=dW(N),U=s&&!l&&m,P=K.useRef(null),L=(se,X)=>{P.current&&P.current.adjustStyleForScrollbar(se,{direction:R?"rtl":"ltr"}),x&&x(se,X)},M=se=>{se.key==="Tab"&&(se.preventDefault(),d&&d(se,"tabKeyDown"))};let F=-1;K.Children.map(r,(se,X)=>{K.isValidElement(se)&&(se.props.disabled||(A==="selectedMenu"&&se.props.selected||F===-1)&&(F=X))});const G={slots:S,slotProps:{list:u,transition:E,paper:g,...B}},J=jP({elementType:S.root,externalSlotProps:B.root,ownerState:N,className:[O.root,a]}),[ie,ne]=Hs("paper",{className:O.paper,elementType:pW,externalForwardedProps:G,shouldForwardComponentProp:!0,ownerState:N}),[H,q]=Hs("list",{className:en(O.list,u.className),elementType:mW,shouldForwardComponentProp:!0,externalForwardedProps:G,getSlotProps:se=>({...se,onKeyDown:X=>{var ae;M(X),(ae=se.onKeyDown)==null||ae.call(se,X)}}),ownerState:N}),$=typeof G.slotProps.transition=="function"?G.slotProps.transition(N):G.slotProps.transition;return he.jsx(hW,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?uW:fW,slots:{root:S.root,paper:ie,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:J,paper:ne,backdrop:typeof B.backdrop=="function"?B.backdrop(N):B.backdrop,transition:{...$,onEntering:(...se)=>{var X;L(...se),(X=$==null?void 0:$.onEntering)==null||X.call($,...se)}}},open:m,ref:t,transitionDuration:b,ownerState:N,...w,classes:y,children:he.jsx(H,{actions:P,autoFocus:s&&(F===-1||l),autoFocusItem:U,variant:A,...q,children:r})})});function yW(n){return ui("MuiNativeSelect",n)}const fR=ii("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vW=n=>{const{classes:e,variant:t,disabled:i,multiple:s,open:r,error:a}=n,l={select:["select",t,i&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${At(t)}`,r&&"iconOpen",i&&"disabled"]};return fi(l,yW,e)},ZP=Bt("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${fR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),_W=Bt(ZP,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Il,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${fR.multiple}`]:e.multiple}]}})({}),$P=Bt("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${fR.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),bW=Bt($P,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${At(t.variant)}`],t.open&&e.iconOpen]}})({}),xW=K.forwardRef(function(e,t){const{className:i,disabled:s,error:r,IconComponent:a,inputRef:l,variant:u="standard",...d}=e,m={...e,disabled:s,variant:u,error:r},g=vW(m);return he.jsxs(K.Fragment,{children:[he.jsx(_W,{ownerState:m,className:en(g.select,i),disabled:s,ref:l||t,...d}),e.multiple?null:he.jsx(bW,{as:a,ownerState:m,className:g.icon})]})});var MI;const SW=Bt("fieldset",{shouldForwardProp:Il})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),AW=Bt("legend",{shouldForwardProp:Il})(qn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function EW(n){const{children:e,classes:t,className:i,label:s,notched:r,...a}=n,l=s!=null&&s!=="",u={...n,notched:r,withLabel:l};return he.jsx(SW,{"aria-hidden":!0,className:i,ownerState:u,...a,children:he.jsx(AW,{ownerState:u,children:l?he.jsx("span",{children:s}):MI||(MI=he.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const MW=n=>{const{classes:e}=n,i=fi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},w7,e);return{...e,...i}},TW=Bt(v1,{shouldForwardProp:n=>Il(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:g1})(qn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Do.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Do.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Do.focused} .${Do.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Qa()).map(([t])=>({props:{color:t},style:{[`&.${Do.focused} .${Do.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Do.error} .${Do.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Do.disabled} .${Do.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),CW=Bt(EW,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(qn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),wW=Bt(_1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:y1})(qn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),dR=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:r=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:d,slots:m={},slotProps:g={},type:y="text",...b}=i,x=MW(i),E=Dg(),A=Bg({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...i,color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:E,fullWidth:r,hiddenLabel:A.hiddenLabel,multiline:u,size:A.size,type:y},B=m.root??s.Root??TW,w=m.input??s.Input??wW,[R,N]=Hs("notchedOutline",{elementType:CW,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:m,slotProps:g},additionalProps:{label:l!=null&&l!==""&&A.required?he.jsxs(K.Fragment,{children:[l," ","*"]}):l}});return he.jsx(oR,{slots:{root:B,input:w},slotProps:g,renderSuffix:O=>he.jsx(R,{...N,notched:typeof d<"u"?d:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:r,inputComponent:a,multiline:u,ref:t,type:y,...b,classes:{...x,notchedOutline:null}})});dR.muiName="Input";function eU(n){return ui("MuiSelect",n)}const hv=ii("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var TI;const RW=Bt(ZP,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${hv.select}`]:e.select},{[`&.${hv.select}`]:e[t.variant]},{[`&.${hv.error}`]:e.error},{[`&.${hv.multiple}`]:e.multiple}]}})({[`&.${hv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),BW=Bt($P,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${At(t.variant)}`],t.open&&e.iconOpen]}})({}),DW=Bt("input",{shouldForwardProp:n=>xP(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function CI(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function IW(n){return n==null||typeof n=="string"&&!n.trim()}const OW=n=>{const{classes:e,variant:t,disabled:i,multiple:s,open:r,error:a}=n,l={select:["select",t,i&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${At(t)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return fi(l,eU,e)},NW=K.forwardRef(function(e,t){var St;const{"aria-describedby":i,"aria-label":s,autoFocus:r,autoWidth:a,children:l,className:u,defaultOpen:d,defaultValue:m,disabled:g,displayEmpty:y,error:b=!1,IconComponent:x,inputRef:E,labelId:A,MenuProps:S={},multiple:B,name:w,onBlur:R,onChange:N,onClose:O,onFocus:U,onOpen:P,open:L,readOnly:M,renderValue:F,required:G,SelectDisplayProps:J={},tabIndex:ie,type:ne,value:H,variant:q="standard",...$}=e,[se,X]=Hv({controlled:H,default:m,name:"Select"}),[ae,_e]=Hv({controlled:L,default:d,name:"Select"}),Ae=K.useRef(null),ce=K.useRef(null),[be,Ue]=K.useState(null),{current:Qe}=K.useRef(L!=null),[xe,j]=K.useState(),Q=vr(t,E),oe=K.useCallback(Ye=>{ce.current=Ye,Ye&&Ue(Ye)},[]),Ce=be==null?void 0:be.parentNode;K.useImperativeHandle(Q,()=>({focus:()=>{ce.current.focus()},node:Ae.current,value:se}),[se]),K.useEffect(()=>{d&&ae&&be&&!Qe&&(j(a?null:Ce.clientWidth),ce.current.focus())},[be,a]),K.useEffect(()=>{r&&ce.current.focus()},[r]),K.useEffect(()=>{if(!A)return;const Ye=io(ce.current).getElementById(A);if(Ye){const le=()=>{getSelection().isCollapsed&&ce.current.focus()};return Ye.addEventListener("click",le),()=>{Ye.removeEventListener("click",le)}}},[A]);const Se=(Ye,le)=>{Ye?P&&P(le):O&&O(le),Qe||(j(a?null:Ce.clientWidth),_e(Ye))},W=Ye=>{Ye.button===0&&(Ye.preventDefault(),ce.current.focus(),Se(!0,Ye))},ze=Ye=>{Se(!1,Ye)},De=K.Children.toArray(l),Ge=Ye=>{const le=De.find(Oe=>Oe.props.value===Ye.target.value);le!==void 0&&(X(le.props.value),N&&N(Ye,le))},ve=Ye=>le=>{let Oe;if(le.currentTarget.hasAttribute("tabindex")){if(B){Oe=Array.isArray(se)?se.slice():[];const ft=se.indexOf(Ye.props.value);ft===-1?Oe.push(Ye.props.value):Oe.splice(ft,1)}else Oe=Ye.props.value;if(Ye.props.onClick&&Ye.props.onClick(le),se!==Oe&&(X(Oe),N)){const ft=le.nativeEvent||le,de=new ft.constructor(ft.type,ft);Object.defineProperty(de,"target",{writable:!0,value:{value:Oe,name:w}}),N(de,Ye)}B||Se(!1,le)}},at=Ye=>{M||[" ","ArrowUp","ArrowDown","Enter"].includes(Ye.key)&&(Ye.preventDefault(),Se(!0,Ye))},Te=be!==null&&ae,Z=Ye=>{!Te&&R&&(Object.defineProperty(Ye,"target",{writable:!0,value:{value:se,name:w}}),R(Ye))};delete $["aria-invalid"];let k,me;const Be=[];let Ke=!1;(GS({value:se})||y)&&(F?k=F(se):Ke=!0);const He=De.map(Ye=>{if(!K.isValidElement(Ye))return null;let le;if(B){if(!Array.isArray(se))throw new Error(Eu(2));le=se.some(Oe=>CI(Oe,Ye.props.value)),le&&Ke&&Be.push(Ye.props.children)}else le=CI(se,Ye.props.value),le&&Ke&&(me=Ye.props.children);return K.cloneElement(Ye,{"aria-selected":le?"true":"false",onClick:ve(Ye),onKeyUp:Oe=>{Oe.key===" "&&Oe.preventDefault(),Ye.props.onKeyUp&&Ye.props.onKeyUp(Oe)},role:"option",selected:le,value:void 0,"data-value":Ye.props.value})});Ke&&(B?Be.length===0?k=null:k=Be.reduce((Ye,le,Oe)=>(Ye.push(le),Oe<Be.length-1&&Ye.push(", "),Ye),[]):k=me);let ct=xe;!a&&Qe&&be&&(ct=Ce.clientWidth);let rt;typeof ie<"u"?rt=ie:rt=g?null:0;const _t=J.id||(w?`mui-component-select-${w}`:void 0),bt={...e,variant:q,value:se,open:Te,error:b},Ve=OW(bt),ut={...S.PaperProps,...(St=S.slotProps)==null?void 0:St.paper},xt=n_();return he.jsxs(K.Fragment,{children:[he.jsx(RW,{as:"div",ref:oe,tabIndex:rt,role:"combobox","aria-controls":Te?xt:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":Te?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[A,_t].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":G?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:at,onMouseDown:g||M?null:W,onBlur:Z,onFocus:U,...J,ownerState:bt,className:en(J.className,Ve.select,u),id:_t,children:IW(k)?TI||(TI=he.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):k}),he.jsx(DW,{"aria-invalid":b,value:Array.isArray(se)?se.join(","):se,name:w,ref:Ae,"aria-hidden":!0,onChange:Ge,tabIndex:-1,disabled:g,className:Ve.nativeInput,autoFocus:r,required:G,...$,ownerState:bt}),he.jsx(BW,{as:x,className:Ve.icon,ownerState:bt}),he.jsx(gW,{id:`menu-${w||""}`,anchorEl:Ce,open:Te,onClose:ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":A,role:"listbox","aria-multiselectable":B?"true":void 0,disableListWrap:!0,id:xt,...S.MenuListProps},paper:{...ut,style:{minWidth:ct,...ut!=null?ut.style:null}}},children:He})]})}),LW=n=>{const{classes:e}=n,i=fi({root:["root"]},eU,e);return{...e,...i}},hR={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Il(n)&&n!=="variant"},PW=Bt(uR,hR)(""),UW=Bt(dR,hR)(""),FW=Bt(cR,hR)(""),tU=K.forwardRef(function(e,t){const i=vi({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:r,classes:a={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:m=YP,id:g,input:y,inputProps:b,label:x,labelId:E,MenuProps:A,multiple:S=!1,native:B=!1,onClose:w,onOpen:R,open:N,renderValue:O,SelectDisplayProps:U,variant:P="outlined",...L}=i,M=B?xW:NW,F=Dg(),G=Bg({props:i,muiFormControl:F,states:["variant","error"]}),J=G.variant||P,ie={...i,variant:J,classes:a},ne=LW(ie),{root:H,...q}=ne,$=y||{standard:he.jsx(PW,{ownerState:ie}),outlined:he.jsx(UW,{label:x,ownerState:ie}),filled:he.jsx(FW,{ownerState:ie})}[J],se=vr(t,r_($));return he.jsx(K.Fragment,{children:K.cloneElement($,{inputComponent:M,inputProps:{children:r,error:G.error,IconComponent:m,variant:J,type:void 0,multiple:S,...B?{id:g}:{autoWidth:s,defaultOpen:u,displayEmpty:d,labelId:E,MenuProps:A,onClose:w,onOpen:R,open:N,renderValue:O,SelectDisplayProps:{id:g,...U}},...b,classes:b?zr(q,b.classes):q,...y?y.props.inputProps:{}},...(S&&B||d)&&J==="outlined"?{notched:!0}:{},ref:se,className:en($.props.className,l,ne.root),...!y&&{variant:J},...L})})});tU.muiName="Select";function zW(n){return ui("MuiTextField",n)}ii("MuiTextField",["root"]);const HW={standard:uR,filled:cR,outlined:dR},GW=n=>{const{classes:e}=n;return fi({root:["root"]},zW,e)},kW=Bt(Lj,{name:"MuiTextField",slot:"Root"})({}),Wf=K.forwardRef(function(e,t){const i=vi({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:a,className:l,color:u="primary",defaultValue:d,disabled:m=!1,error:g=!1,FormHelperTextProps:y,fullWidth:b=!1,helperText:x,id:E,InputLabelProps:A,inputProps:S,InputProps:B,inputRef:w,label:R,maxRows:N,minRows:O,multiline:U=!1,name:P,onBlur:L,onChange:M,onFocus:F,placeholder:G,required:J=!1,rows:ie,select:ne=!1,SelectProps:H,slots:q={},slotProps:$={},type:se,value:X,variant:ae="outlined",..._e}=i,Ae={...i,autoFocus:r,color:u,disabled:m,error:g,fullWidth:b,multiline:U,required:J,select:ne,variant:ae},ce=GW(Ae),be=n_(E),Ue=x&&be?`${be}-helper-text`:void 0,Qe=R&&be?`${be}-label`:void 0,xe=HW[ae],j={slots:q,slotProps:{input:B,inputLabel:A,htmlInput:S,formHelperText:y,select:H,...$}},Q={},oe=j.slotProps.inputLabel;ae==="outlined"&&(oe&&typeof oe.shrink<"u"&&(Q.notched=oe.shrink),Q.label=R),ne&&((!H||!H.native)&&(Q.id=void 0),Q["aria-describedby"]=void 0);const[Ce,Se]=Hs("root",{elementType:kW,shouldForwardComponentProp:!0,externalForwardedProps:{...j,..._e},ownerState:Ae,className:en(ce.root,l),ref:t,additionalProps:{disabled:m,error:g,fullWidth:b,required:J,color:u,variant:ae}}),[W,ze]=Hs("input",{elementType:xe,externalForwardedProps:j,additionalProps:Q,ownerState:Ae}),[De,Ge]=Hs("inputLabel",{elementType:Zj,externalForwardedProps:j,ownerState:Ae}),[ve,at]=Hs("htmlInput",{elementType:"input",externalForwardedProps:j,ownerState:Ae}),[Te,Z]=Hs("formHelperText",{elementType:zj,externalForwardedProps:j,ownerState:Ae}),[k,me]=Hs("select",{elementType:tU,externalForwardedProps:j,ownerState:Ae}),Be=he.jsx(W,{"aria-describedby":Ue,autoComplete:s,autoFocus:r,defaultValue:d,fullWidth:b,multiline:U,name:P,rows:ie,maxRows:N,minRows:O,type:se,value:X,id:be,inputRef:w,onBlur:L,onChange:M,onFocus:F,placeholder:G,inputProps:at,slots:{input:q.htmlInput?ve:void 0},...ze});return he.jsxs(Ce,{...Se,children:[R!=null&&R!==""&&he.jsx(De,{htmlFor:be,id:Qe,...Ge,children:R}),ne?he.jsx(k,{"aria-describedby":Ue,id:be,labelId:Qe,value:X,input:Be,...me,children:a}):Be,x&&he.jsx(Te,{id:Ue,...Z,children:x})]})}),VW=()=>{};var wI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt=function(n,e){if(!n)throw Ig(e)},Ig=function(n){return new Error("Firebase Database ("+nU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jW=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],a=n[t++],l=n[t++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=n[t++],a=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},pR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],a=s+1<n.length,l=a?n[s+1]:0,u=s+2<n.length,d=u?n[s+2]:0,m=r>>2,g=(r&3)<<4|l>>4;let y=(l&15)<<2|d>>6,b=d&63;u||(b=64,a||(y=64)),i.push(t[m],t[g],t[y],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jW(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||l==null||d==null||g==null)throw new WW;const y=r<<2|l>>4;if(i.push(y),d!==64){const b=l<<4&240|d>>2;if(i.push(b),g!==64){const x=d<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sU=function(n){const e=iU(n);return pR.encodeByteArray(e,!0)},VS=function(n){return sU(n).replace(/\./g,"")},xC=function(n){try{return pR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(n){return rU(void 0,n)}function rU(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!YW(t)||(n[t]=rU(n[t],e[t]));return n}function YW(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=()=>qW().__FIREBASE_DEFAULTS__,JW=()=>{if(typeof process>"u"||typeof wI>"u")return;const n=wI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QW=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xC(n[1]);return e&&JSON.parse(e)},aU=()=>{try{return VW()||KW()||JW()||QW()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZW=n=>{var e,t;return(t=(e=aU())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$W=n=>{const e=ZW(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},oU=()=>{var n;return(n=aU())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){return n.endsWith(".cloudworkstations.dev")}async function eX(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[VS(JSON.stringify(t)),VS(JSON.stringify(a)),""].join(".")}const Wv={};function nX(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wv))Wv[e]?n.emulator.push(e):n.prod.push(e);return n}function iX(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let RI=!1;function sX(n,e){if(typeof window>"u"||typeof document>"u"||!mR(window.location.host)||Wv[n]===e||Wv[n]||RI)return;Wv[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",r=nX().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{RI=!0,a()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=iX(i),b=t("text"),x=document.getElementById(b)||document.createElement("span"),E=t("learnmore"),A=document.getElementById(E)||document.createElement("a"),S=t("preprendIcon"),B=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const w=y.element;l(w),m(A,E);const R=d();u(B,S),w.append(B,x,A,R),document.body.appendChild(w)}r?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rX())}function aX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oX(){return nU.NODE_ADMIN===!0}function lX(){try{return typeof indexedDB=="object"}catch{return!1}}function cX(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX="FirebaseError";class a_ extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uX,Object.setPrototypeOf(this,a_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cU.prototype.create)}}class cU{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?fX(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new a_(s,l,i)}}function fX(n,e){return n.replace(dX,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const dX=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n){return JSON.parse(n)}function Gs(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=function(n){let e={},t={},i={},s="";try{const r=n.split(".");e=v0(xC(r[0])||""),t=v0(xC(r[1])||""),s=r[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},hX=function(n){const e=uU(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},pX=function(n){const e=uU(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function lg(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function BI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jS(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function WS(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],a=e[s];if(DI(r)&&DI(a)){if(!WS(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function DI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)i[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const y=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],d,m;for(let g=0;g<80;g++){g<40?g<20?(d=l^r&(a^l),m=1518500249):(d=r^a^l,m=1859775393):g<60?(d=r&a|l&(r|a),m=2400959708):(d=r^a^l,m=3395469782);const y=(s<<5|s>>>27)+d+u+m+i[g]&4294967295;u=l,l=a,a=(r<<30|r>>>2)&4294967295,r=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<t;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<t;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function gR(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yX=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,vt(i<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},x1=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n){return n&&n._delegate?n._delegate:n}class _0{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vX=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new b1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bX(e))try{this.getOrInitializeService({instanceIdentifier:xh})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=xh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xh){return this.instances.has(e)}getOptions(e=xh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_X(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xh){return this.component?this.component.multipleInstances?e:xh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _X(n){return n===xh?void 0:n}function bX(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wi||(wi={}));const SX={debug:wi.DEBUG,verbose:wi.VERBOSE,info:wi.INFO,warn:wi.WARN,error:wi.ERROR,silent:wi.SILENT},AX=wi.INFO,EX={[wi.DEBUG]:"log",[wi.VERBOSE]:"log",[wi.INFO]:"info",[wi.WARN]:"warn",[wi.ERROR]:"error"},MX=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=EX[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fU{constructor(e){this.name=e,this._logLevel=AX,this._logHandler=MX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wi.DEBUG,...e),this._logHandler(this,wi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wi.VERBOSE,...e),this._logHandler(this,wi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wi.INFO,...e),this._logHandler(this,wi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wi.WARN,...e),this._logHandler(this,wi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wi.ERROR,...e),this._logHandler(this,wi.ERROR,...e)}}const TX=(n,e)=>e.some(t=>n instanceof t);let II,OI;function CX(){return II||(II=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wX(){return OI||(OI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dU=new WeakMap,SC=new WeakMap,hU=new WeakMap,vM=new WeakMap,yR=new WeakMap;function RX(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{t(Xf(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&dU.set(t,n)}).catch(()=>{}),yR.set(e,n),e}function BX(n){if(SC.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});SC.set(n,e)}let AC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return SC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DX(n){AC=n(AC)}function IX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_M(this),e,...t);return hU.set(i,e.sort?e.sort():[e]),Xf(i)}:wX().includes(n)?function(...e){return n.apply(_M(this),e),Xf(dU.get(this))}:function(...e){return Xf(n.apply(_M(this),e))}}function OX(n){return typeof n=="function"?IX(n):(n instanceof IDBTransaction&&BX(n),TX(n,CX())?new Proxy(n,AC):n)}function Xf(n){if(n instanceof IDBRequest)return RX(n);if(vM.has(n))return vM.get(n);const e=OX(n);return e!==n&&(vM.set(n,e),yR.set(e,n)),e}const _M=n=>yR.get(n);function NX(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(n,e),l=Xf(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Xf(a.result),u.oldVersion,u.newVersion,Xf(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const LX=["get","getKey","getAll","getAllKeys","count"],PX=["put","add","delete","clear"],bM=new Map;function NI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bM.get(e))return bM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=PX.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||LX.includes(t)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),s&&u.done]))[0]};return bM.set(e,r),r}DX(n=>({...n,get:(e,t,i)=>NI(e,t)||n.get(e,t,i),has:(e,t)=>!!NI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FX(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function FX(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const EC="@firebase/app",LI="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new fU("@firebase/app"),zX="@firebase/app-compat",HX="@firebase/analytics-compat",GX="@firebase/analytics",kX="@firebase/app-check-compat",VX="@firebase/app-check",jX="@firebase/auth",WX="@firebase/auth-compat",XX="@firebase/database",YX="@firebase/data-connect",qX="@firebase/database-compat",KX="@firebase/functions",JX="@firebase/functions-compat",QX="@firebase/installations",ZX="@firebase/installations-compat",$X="@firebase/messaging",eY="@firebase/messaging-compat",tY="@firebase/performance",nY="@firebase/performance-compat",iY="@firebase/remote-config",sY="@firebase/remote-config-compat",rY="@firebase/storage",aY="@firebase/storage-compat",oY="@firebase/firestore",lY="@firebase/ai",cY="@firebase/firestore-compat",uY="firebase",fY="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="[DEFAULT]",dY={[EC]:"fire-core",[zX]:"fire-core-compat",[GX]:"fire-analytics",[HX]:"fire-analytics-compat",[VX]:"fire-app-check",[kX]:"fire-app-check-compat",[jX]:"fire-auth",[WX]:"fire-auth-compat",[XX]:"fire-rtdb",[YX]:"fire-data-connect",[qX]:"fire-rtdb-compat",[KX]:"fire-fn",[JX]:"fire-fn-compat",[QX]:"fire-iid",[ZX]:"fire-iid-compat",[$X]:"fire-fcm",[eY]:"fire-fcm-compat",[tY]:"fire-perf",[nY]:"fire-perf-compat",[iY]:"fire-rc",[sY]:"fire-rc-compat",[rY]:"fire-gcs",[aY]:"fire-gcs-compat",[oY]:"fire-fst",[cY]:"fire-fst-compat",[lY]:"fire-vertex","fire-js":"fire-js",[uY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map,hY=new Map,TC=new Map;function PI(n,e){try{n.container.addComponent(e)}catch(t){Ru.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function YS(n){const e=n.name;if(TC.has(e))return Ru.debug(`There were multiple attempts to register component ${e}.`),!1;TC.set(e,n);for(const t of XS.values())PI(t,n);for(const t of hY.values())PI(t,n);return!0}function pY(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mY(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yf=new cU("app","Firebase",gY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=fY;function pU(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:MC,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Yf.create("bad-app-name",{appName:String(s)});if(t||(t=oU()),!t)throw Yf.create("no-options");const r=XS.get(s);if(r){if(WS(t,r.options)&&WS(i,r.config))return r;throw Yf.create("duplicate-app",{appName:s})}const a=new xX(s);for(const u of TC.values())a.addComponent(u);const l=new yY(t,i,a);return XS.set(s,l),l}function _Y(n=MC){const e=XS.get(n);if(!e&&n===MC&&oU())return pU();if(!e)throw Yf.create("no-app",{appName:n});return e}function Km(n,e,t){var i;let s=(i=dY[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ru.warn(l.join(" "));return}YS(new _0(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY="firebase-heartbeat-database",xY=1,b0="firebase-heartbeat-store";let xM=null;function mU(){return xM||(xM=NX(bY,xY,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(b0)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yf.create("idb-open",{originalErrorMessage:n.message})})),xM}async function SY(n){try{const t=(await mU()).transaction(b0),i=await t.objectStore(b0).get(gU(n));return await t.done,i}catch(e){if(e instanceof a_)Ru.warn(e.message);else{const t=Yf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ru.warn(t.message)}}}async function UI(n,e){try{const i=(await mU()).transaction(b0,"readwrite");await i.objectStore(b0).put(e,gU(n)),await i.done}catch(t){if(t instanceof a_)Ru.warn(t.message);else{const i=Yf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ru.warn(i.message)}}}function gU(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=1024,EY=30;class MY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CY(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>EY){const a=wY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ru.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FI(),{heartbeatsToSend:i,unsentEntries:s}=TY(this._heartbeatsCache.heartbeats),r=VS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ru.warn(t),""}}}function FI(){return new Date().toISOString().substring(0,10)}function TY(n,e=AY){const t=[];let i=n.slice();for(const s of n){const r=t.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),zI(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),zI(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lX()?cX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SY(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return UI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return UI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zI(n){return VS(JSON.stringify({version:2,heartbeats:n})).length}function wY(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(n){YS(new _0("platform-logger",e=>new UX(e),"PRIVATE")),YS(new _0("heartbeat",e=>new MY(e),"PRIVATE")),Km(EC,LI,n),Km(EC,LI,"esm2017"),Km("fire-js","")}RY("");var BY="firebase",DY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Km(BY,DY,"app");var HI={};const GI="@firebase/database",kI="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yU="";function IY(n){yU=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gs(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:v0(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Pu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OY(e)}}catch{}return new NY},Bh=vU("localStorage"),LY=vU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new fU("@firebase/database"),PY=function(){let n=1;return function(){return n++}}(),_U=function(n){const e=yX(n),t=new gX;t.update(e);const i=t.digest();return pR.encodeByteArray(i)},o_=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=o_.apply(null,i):typeof i=="object"?e+=Gs(i):e+=i,e+=" "}return e};let Xv=null,VI=!0;const UY=function(n,e){vt(!0,"Can't turn on custom loggers persistently."),Jm.logLevel=wi.VERBOSE,Xv=Jm.log.bind(Jm)},Pr=function(...n){if(VI===!0&&(VI=!1,Xv===null&&LY.get("logging_enabled")===!0&&UY()),Xv){const e=o_.apply(null,n);Xv(e)}},l_=function(n){return function(...e){Pr(n,...e)}},CC=function(...n){const e="FIREBASE INTERNAL ERROR: "+o_(...n);Jm.error(e)},Bu=function(...n){const e=`FIREBASE FATAL ERROR: ${o_(...n)}`;throw Jm.error(e),new Error(e)},Da=function(...n){const e="FIREBASE WARNING: "+o_(...n);Jm.warn(e)},FY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Da("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bU=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zY=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},cg="[MIN_NAME]",qh="[MAX_NAME]",Ng=function(n,e){if(n===e)return 0;if(n===cg||e===qh)return-1;if(e===cg||n===qh)return 1;{const t=jI(n),i=jI(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},HY=function(n,e){return n===e?0:n<e?-1:1},pv=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Gs(e))},vR=function(n){if(typeof n!="object"||n===null)return Gs(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Gs(e[i]),t+=":",t+=vR(n[e[i]]);return t+="}",t},xU=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function Oa(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const SU=function(n){vt(!bU(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,a,l,u;n===0?(r=0,a=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=l+i,a=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(r=0,a=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(u=t;u;u-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)d.push(r%2?1:0),r=Math.floor(r/2);d.push(s?1:0),d.reverse();const m=d.join("");let g="";for(u=0;u<64;u+=8){let y=parseInt(m.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},GY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VY(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const jY=new RegExp("^-?(0*)\\d{1,10}$"),WY=-2147483648,XY=2147483647,jI=function(n){if(jY.test(n)){const e=Number(n);if(e>=WY&&e<=XY)return e}return null},Lg=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Da("Exception was thrown by user callback.",t),e},Math.floor(0))}},YY=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yv=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,mY(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Da(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Da(e)}}class bS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="5",AU="v",EU="s",MU="r",TU="f",CU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wU="ls",RU="p",wC="ac",BU="websocket",DU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t,i,s,r=!1,a="",l=!1,u=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function JY(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function OU(n,e,t){vt(typeof e=="string","typeof type must == string"),vt(typeof t=="object","typeof params must == object");let i;if(e===BU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===DU)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);JY(n)&&(t.ns=n.namespace);const s=[];return Oa(t,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(){this.counters_={}}incrementCounter(e,t=1){Pu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return XW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={},AM={};function bR(n){const e=n.toString();return SM[e]||(SM[e]=new QY),SM[e]}function ZY(n,e){const t=n.toString();return AM[t]||(AM[t]=e()),AM[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Lg(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="start",eq="close",tq="pLPCommand",nq="pRTLPCB",NU="id",LU="pw",PU="ser",iq="cb",sq="seg",rq="ts",aq="d",oq="dframe",UU=1870,FU=30,lq=UU-FU,cq=25e3,uq=3e4;class zm{constructor(e,t,i,s,r,a,l){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=l_(e),this.stats_=bR(t),this.urlFn=u=>(this.appCheckToken&&(u[wC]=this.appCheckToken),OU(t,DU,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $Y(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uq)),zY(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xR((...r)=>{const[a,l,u,d,m]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===WI)this.id=l,this.password=u;else if(a===eq)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[WI]="t",i[PU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[iq]=this.scriptTagHolder.uniqueCallbackIdentifier),i[AU]=_R,this.transportSessionId&&(i[EU]=this.transportSessionId),this.lastSessionId&&(i[wU]=this.lastSessionId),this.applicationId&&(i[RU]=this.applicationId),this.appCheckToken&&(i[wC]=this.appCheckToken),typeof location<"u"&&location.hostname&&CU.test(location.hostname)&&(i[MU]=TU);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zm.forceAllow_=!0}static forceDisallow(){zm.forceDisallow_=!0}static isAvailable(){return zm.forceAllow_?!0:!zm.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GY()&&!kY()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Gs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=sU(t),s=xU(i,lq);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[oq]="t",i[NU]=e,i[LU]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Gs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class xR{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PY(),window[tq+this.uniqueCallbackIdentifier]=e,window[nq+this.uniqueCallbackIdentifier]=t,this.myIFrame=xR.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Pr("frame writing exception"),l.stack&&Pr(l.stack),Pr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NU]=this.myID,e[LU]=this.myPW,e[PU]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FU+i.length<=UU;){const a=this.pendingSegs.shift();i=i+"&"+sq+s+"="+a.seg+"&"+rq+s+"="+a.ts+"&"+aq+s+"="+a.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(cq)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Pr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=16384,dq=45e3;let qS=null;typeof MozWebSocket<"u"?qS=MozWebSocket:typeof WebSocket<"u"&&(qS=WebSocket);class Al{constructor(e,t,i,s,r,a,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=l_(this.connId),this.stats_=bR(t),this.connURL=Al.connectionURL_(t,a,l,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,r){const a={};return a[AU]=_R,typeof location<"u"&&location.hostname&&CU.test(location.hostname)&&(a[MU]=TU),t&&(a[EU]=t),i&&(a[wU]=i),s&&(a[wC]=s),r&&(a[RU]=r),OU(e,BU,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bh.set("previous_websocket_failure",!0);try{let i;oX(),this.mySock=new qS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Al.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&qS!==null&&!Al.forceDisallow_}static previouslyFailed(){return Bh.isInMemoryStorage||Bh.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=v0(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(vt(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Gs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=xU(t,fq);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dq))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Al.responsesRequiredToBeHealthy=2;Al.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static get ALL_TRANSPORTS(){return[zm,Al]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Al&&Al.isAvailable();let i=t&&!Al.previouslyFailed();if(e.webSocketOnly&&(t||Da("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Al];else{const s=this.transports_=[];for(const r of x0.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);x0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}x0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=6e4,pq=5e3,mq=10*1024,gq=100*1024,EM="t",XI="d",yq="s",YI="r",vq="e",qI="o",KI="a",JI="n",QI="p",_q="h";class bq{constructor(e,t,i,s,r,a,l,u,d,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=l_("c:"+this.id+":"),this.transportManager_=new x0(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Yv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(EM in e){const t=e[EM];t===KI?this.upgradeIfSecondaryHealthy_():t===YI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===qI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=pv("t",e),i=pv("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:QI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:KI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=pv("t",e),i=pv("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=pv(EM,e);if(XI in e){const i=e[XI];if(t===_q){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===JI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===yq?this.onConnectionShutdown_(i):t===YI?this.onReset_(i):t===vq?CC("Server Error: "+i):t===qI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CC("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_R!==i&&Da("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Yv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:QI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.allowedEvents_=e,this.listeners_={},vt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){vt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends HU{static getInstance(){return new KS}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lU()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return vt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=32,$I=768;let Ei=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Yn(){return new Ei("")}function Dn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zf(n){return n.pieces_.length-n.pieceNum_}function Ri(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ei(n.pieces_,e)}function GU(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xq(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function kU(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function VU(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ei(e,0)}function ks(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ei)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new Ei(t,0)}function Cn(n){return n.pieceNum_>=n.pieces_.length}function oa(n,e){const t=Dn(n),i=Dn(e);if(t===null)return e;if(t===i)return oa(Ri(n),Ri(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function jU(n,e){if(Zf(n)!==Zf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Cl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Zf(n)>Zf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Sq{constructor(e,t){this.errorPrefix_=t,this.parts_=kU(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=x1(this.parts_[i]);WU(this)}}function Aq(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=x1(e),WU(n)}function Eq(n){const e=n.parts_.pop();n.byteLength_-=x1(e),n.parts_.length>0&&(n.byteLength_-=1)}function WU(n){if(n.byteLength_>$I)throw new Error(n.errorPrefix_+"has a key path longer than "+$I+" bytes ("+n.byteLength_+").");if(n.parts_.length>ZI)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZI+") or object contains a cycle "+Sh(n))}function Sh(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends HU{static getInstance(){return new SR}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return vt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=1e3,Mq=60*5*1e3,eO=30*1e3,Tq=1.3,Cq=3e4,wq="server_kill",tO=3;class _u extends zU{constructor(e,t,i,s,r,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=_u.nextPersistentConnectionId_++,this.log_=l_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mv,this.maxReconnectDelay_=Mq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");SR.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&KS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(Gs(r)),vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new b1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vt(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(a).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,l=>{const u=l.d,d=l.s;_u.warnOnListenWarnings_(u,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Pu(e,"w")){const i=lg(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();Da(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pX(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eO)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=hX(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const a={p:t,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gs(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):CC("Unrecognized action received from server: "+Gs(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Cq&&(this.reconnectDelay_=mv),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Tq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+_u.nextConnectionId_++,r=this.lastSessionId;let a=!1,l=null;const u=function(){l?l.close():(a=!0,i())},d=function(g){vt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)};this.realtime_={close:u,sendRequest:d};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,l=new bq(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{Da(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(wq)},r))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&Da(g),u())}}}interrupt(e){Pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],BI(this.interruptReasons_)&&(this.reconnectDelay_=mv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>vR(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new Ei(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){Pr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tO&&(this.reconnectDelay_=eO,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Pr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+yU.replace(/\./g,"-")]=1,lU()?e["framework.cordova"]=1:aX()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=KS.getInstance().currentlyOnline();return BI(this.interruptReasons_)&&e}}_u.nextPersistentConnectionId_=0;_u.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new An(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new An(cg,e),s=new An(cg,t);return this.compare(i,s)!==0}minPost(){return An.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dx;class XU extends S1{static get __EMPTY_NODE(){return dx}static set __EMPTY_NODE(e){dx=e}compare(e,t){return Ng(e.name,t.name)}isDefinedOn(e){throw Ig("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return An.MIN}maxPost(){return new An(qh,dx)}makePost(e,t){return vt(typeof e=="string","KeyIndex indexValue must always be a string."),new An(e,dx)}toString(){return".key"}}const Qm=new XU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class er{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??er.RED,this.left=s??Ta.EMPTY_NODE,this.right=r??Ta.EMPTY_NODE}copy(e,t,i,s,r){return new er(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ta.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Ta.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}er.RED=!0;er.BLACK=!1;class Rq{copy(e,t,i,s,r){return this}insert(e,t,i){return new er(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ta{constructor(e,t=Ta.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ta(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,er.BLACK,null,null))}remove(e){return new Ta(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,er.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new hx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new hx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new hx(this.root_,null,this.comparator_,!0,e)}}Ta.EMPTY_NODE=new Rq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(n,e){return Ng(n.name,e.name)}function AR(n,e){return Ng(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RC;function Dq(n){RC=n}const YU=function(n){return typeof n=="number"?"number:"+SU(n):"string:"+n},qU=function(n){if(n.isLeafNode()){const e=n.val();vt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Pu(e,".sv"),"Priority must be a string or number.")}else vt(n===RC||n.isEmpty(),"priority of unexpected type.");vt(n===RC||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nO;class $s{static set __childrenNodeConstructor(e){nO=e}static get __childrenNodeConstructor(){return nO}constructor(e,t=$s.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,vt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qU(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $s(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$s.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Cn(e)?this:Dn(e)===".priority"?this.priorityNode_:$s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:$s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Dn(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(vt(i!==".priority"||Zf(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,$s.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ri(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YU(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=SU(this.value_):e+=this.value_,this.lazyHash_=_U(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$s.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $s.__childrenNodeConstructor?-1:(vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=$s.VALUE_TYPE_ORDER.indexOf(t),r=$s.VALUE_TYPE_ORDER.indexOf(i);return vt(s>=0,"Unknown leaf type: "+t),vt(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}$s.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KU,JU;function Iq(n){KU=n}function Oq(n){JU=n}class Nq extends S1{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?Ng(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return An.MIN}maxPost(){return new An(qh,new $s("[PRIORITY-POST]",JU))}makePost(e,t){const i=KU(e);return new An(t,new $s("[PRIORITY-POST]",i))}toString(){return".priority"}}const os=new Nq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=Math.log(2);class Pq{constructor(e){const t=r=>parseInt(Math.log(r)/Lq,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const JS=function(n,e,t,i){n.sort(e);const s=function(u,d){const m=d-u;let g,y;if(m===0)return null;if(m===1)return g=n[u],y=t?t(g):g,new er(y,g.node,er.BLACK,null,null);{const b=parseInt(m/2,10)+u,x=s(u,b),E=s(b+1,d);return g=n[b],y=t?t(g):g,new er(y,g.node,er.BLACK,x,E)}},r=function(u){let d=null,m=null,g=n.length;const y=function(x,E){const A=g-x,S=g;g-=x;const B=s(A+1,S),w=n[A],R=t?t(w):w;b(new er(R,w.node,E,null,B))},b=function(x){d?(d.left=x,d=x):(m=x,d=x)};for(let x=0;x<u.count;++x){const E=u.nextBitIsOne(),A=Math.pow(2,u.count-(x+1));E?y(A,er.BLACK):(y(A,er.BLACK),y(A,er.RED))}return m},a=new Pq(n.length),l=r(a);return new Ta(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MM;const gm={};class gu{static get Default(){return vt(gm&&os,"ChildrenNode.ts has not been loaded"),MM=MM||new gu({".priority":gm},{".priority":os}),MM}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=lg(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ta?t:null}hasIndex(e){return Pu(this.indexSet_,e.toString())}addIndex(e,t){vt(e!==Qm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(An.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let l;s?l=JS(i,e.getCompare()):l=gm;const u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;const m=Object.assign({},this.indexes_);return m[u]=l,new gu(m,d)}addToIndexes(e,t){const i=jS(this.indexes_,(s,r)=>{const a=lg(this.indexSet_,r);if(vt(a,"Missing index implementation for "+r),s===gm)if(a.isDefinedOn(e.node)){const l=[],u=t.getIterator(An.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&l.push(d),d=u.getNext();return l.push(e),JS(l,a.getCompare())}else return gm;else{const l=t.get(e.name);let u=s;return l&&(u=u.remove(new An(e.name,l))),u.insert(e,e.node)}});return new gu(i,this.indexSet_)}removeFromIndexes(e,t){const i=jS(this.indexes_,s=>{if(s===gm)return s;{const r=t.get(e.name);return r?s.remove(new An(e.name,r)):s}});return new gu(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv;class Jt{static get EMPTY_NODE(){return gv||(gv=new Jt(new Ta(AR),null,gu.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qU(this.priorityNode_),this.children_.isEmpty()&&vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gv}updatePriority(e){return this.children_.isEmpty()?this:new Jt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?gv:t}}getChild(e){const t=Dn(e);return t===null?this:this.getImmediateChild(t).getChild(Ri(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(vt(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new An(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?gv:this.priorityNode_;return new Jt(s,a,r)}}updateChild(e,t){const i=Dn(e);if(i===null)return t;{vt(Dn(e)!==".priority"||Zf(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ri(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(os,(a,l)=>{t[a]=l.val(e),i++,r&&Jt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const l in t)a[l]=t[l];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YU(this.getPriority().val())+":"),this.forEachChild(os,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":_U(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new An(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new An(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new An(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,An.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,An.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===c_?-1:0}withIndex(e){if(e===Qm||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Jt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Qm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(os),s=t.getIterator(os);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Qm?null:this.indexMap_.get(e.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Uq extends Jt{constructor(){super(new Ta(AR),Jt.EMPTY_NODE,gu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}}const c_=new Uq;Object.defineProperties(An,{MIN:{value:new An(cg,Jt.EMPTY_NODE)},MAX:{value:new An(qh,c_)}});XU.__EMPTY_NODE=Jt.EMPTY_NODE;$s.__childrenNodeConstructor=Jt;Dq(c_);Oq(c_);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=!0;function tr(n,e=null){if(n===null)return Jt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),vt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new $s(t,tr(e))}if(!(n instanceof Array)&&Fq){const t=[];let i=!1;if(Oa(n,(a,l)=>{if(a.substring(0,1)!=="."){const u=tr(l);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),t.push(new An(a,u)))}}),t.length===0)return Jt.EMPTY_NODE;const r=JS(t,Bq,a=>a.name,AR);if(i){const a=JS(t,os.getCompare());return new Jt(r,tr(e),new gu({".priority":a},{".priority":os}))}else return new Jt(r,tr(e),gu.Default)}else{let t=Jt.EMPTY_NODE;return Oa(n,(i,s)=>{if(Pu(n,i)&&i.substring(0,1)!=="."){const r=tr(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(tr(e))}}Iq(tr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq extends S1{constructor(e){super(),this.indexPath_=e,vt(!Cn(e)&&Dn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?Ng(e.name,t.name):r}makePost(e,t){const i=tr(e),s=Jt.EMPTY_NODE.updateChild(this.indexPath_,i);return new An(t,s)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,c_);return new An(qh,e)}toString(){return kU(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq extends S1{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Ng(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return An.MIN}maxPost(){return An.MAX}makePost(e,t){const i=tr(e);return new An(t,i)}toString(){return".value"}}const Gq=new Hq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n){return{type:"value",snapshotNode:n}}function ug(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function S0(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function A0(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function kq(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.index_=e}updateChild(e,t,i,s,r,a){vt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(t);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(S0(t,l)):vt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(ug(t,i)):a.trackChildChange(A0(t,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(os,(s,r)=>{t.hasChild(s)||i.trackChildChange(S0(s,r))}),t.isLeafNode()||t.forEachChild(os,(s,r)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(r)||i.trackChildChange(A0(s,r,a))}else i.trackChildChange(ug(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Jt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.indexedFilter_=new ER(e.getIndex()),this.index_=e.getIndex(),this.startPost_=E0.getStartPost_(e),this.endPost_=E0.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,r,a){return this.matches(new An(t,i))||(i=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Jt.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Jt.EMPTY_NODE);const r=this;return t.forEachChild(os,(a,l)=>{r.matches(new An(a,l))||(s=s.updateImmediateChild(a,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new E0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,r,a){return this.rangedFilter_.matches(new An(t,i))||(i=Jt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,a):this.fullLimitUpdateChild_(e,t,i,r,a)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Jt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Jt.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;r.hasNext()&&a<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Jt.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let a=0;for(;r.hasNext();){const l=r.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:s=s.updateImmediateChild(l.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let a;if(this.reverse_){const g=this.index_.getCompare();a=(y,b)=>g(b,y)}else a=this.index_.getCompare();const l=e;vt(l.numChildren()===this.limit_,"");const u=new An(t,i),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),m=this.rangedFilter_.matches(u);if(l.hasChild(t)){const g=l.getImmediateChild(t);let y=s.getChildAfterChild(this.index_,d,this.reverse_);for(;y!=null&&(y.name===t||l.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:a(y,u);if(m&&!i.isEmpty()&&b>=0)return r!=null&&r.trackChildChange(A0(t,i,g)),l.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(S0(t,g));const E=l.updateImmediateChild(t,Jt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(r!=null&&r.trackChildChange(ug(y.name,y.node)),E.updateImmediateChild(y.name,y.node)):E}}else return i.isEmpty()?e:m&&a(d,u)>=0?(r!=null&&(r.trackChildChange(S0(d.name,d.node)),r.trackChildChange(ug(t,i))),l.updateImmediateChild(t,i).updateImmediateChild(d.name,Jt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=os}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cg}hasEnd(){return this.endSet_}getIndexEndValue(){return vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return vt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===os}copy(){const e=new MR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jq(n){return n.loadsAllData()?new ER(n.getIndex()):n.hasLimit()?new Vq(n):new E0(n)}function iO(n){const e={};if(n.isDefault())return e;let t;if(n.index_===os?t="$priority":n.index_===Gq?t="$value":n.index_===Qm?t="$key":(vt(n.index_ instanceof zq,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Gs(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Gs(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Gs(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Gs(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Gs(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function sO(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==os&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends zU{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(vt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=l_("p:rest:"),this.listens_={}}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=QS.getListenId_(e,i),l={};this.listens_[a]=l;const u=iO(e._queryParams);this.restRequest_(r+".json",u,(d,m)=>{let g=m;if(d===404&&(g=null,d=null),d===null&&this.onDataUpdate_(r,g,!1,i),lg(this.listens_,a)===l){let y;d?d===401?y="permission_denied":y="rest_error:"+d:y="ok",s(y,null)}})}unlisten(e,t){const i=QS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=iO(e._queryParams),i=e._path.toString(),s=new b1;return this.restRequest_(i+".json",t,(r,a)=>{let l=a;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mX(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=v0(l.responseText)}catch{Da("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,u)}else l.status!==401&&l.status!==404&&Da("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return{value:null,children:new Map}}function ZU(n,e,t){if(Cn(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Dn(e);n.children.has(i)||n.children.set(i,ZS());const s=n.children.get(i);e=Ri(e),ZU(s,e,t)}}function BC(n,e,t){n.value!==null?t(e,n.value):Xq(n,(i,s)=>{const r=new Ei(e.toString()+"/"+i);BC(s,r,t)})}function Xq(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Oa(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*1e3,qq=30*1e3,Kq=5*60*1e3;class Jq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Yq(e);const i=rO+(qq-rO)*Math.random();Yv(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Oa(e,(s,r)=>{r>0&&Pu(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),Yv(this.reportStats_.bind(this),Math.floor(Math.random()*2*Kq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wl;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wl||(wl={}));function $U(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function TR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function CR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=wl.ACK_USER_WRITE,this.source=$U()}operationForChild(e){if(Cn(this.path)){if(this.affectedTree.value!=null)return vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ei(e));return new $S(Yn(),t,this.revert)}}else return vt(Dn(this.path)===e,"operationForChild called for unrelated child."),new $S(Ri(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.source=e,this.path=t,this.type=wl.LISTEN_COMPLETE}operationForChild(e){return Cn(this.path)?new M0(this.source,Yn()):new M0(this.source,Ri(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=wl.OVERWRITE}operationForChild(e){return Cn(this.path)?new Kh(this.source,Yn(),this.snap.getImmediateChild(e)):new Kh(this.source,Ri(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=wl.MERGE}operationForChild(e){if(Cn(this.path)){const t=this.children.subtree(new Ei(e));return t.isEmpty()?null:t.value?new Kh(this.source,Yn(),t.value):new T0(this.source,Yn(),t)}else return vt(Dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new T0(this.source,Ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Cn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Dn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zq(n,e,t,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(kq(a.childName,a.snapshotNode))}),yv(n,s,"child_removed",e,i,t),yv(n,s,"child_added",e,i,t),yv(n,s,"child_moved",r,i,t),yv(n,s,"child_changed",e,i,t),yv(n,s,"value",e,i,t),s}function yv(n,e,t,i,s,r){const a=i.filter(l=>l.type===t);a.sort((l,u)=>eK(n,l,u)),a.forEach(l=>{const u=$q(n,l,r);s.forEach(d=>{d.respondsTo(l.type)&&e.push(d.createEvent(u,n.query_))})})}function $q(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function eK(n,e,t){if(e.childName==null||t.childName==null)throw Ig("Should only compare child_ events.");const i=new An(e.childName,e.snapshotNode),s=new An(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n,e){return{eventCache:n,serverCache:e}}function qv(n,e,t,i){return A1(new $f(e,t,i),n.serverCache)}function eF(n,e,t,i){return A1(n.eventCache,new $f(e,t,i))}function eA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TM;const tK=()=>(TM||(TM=new Ta(HY)),TM);class Oi{static fromObject(e){let t=new Oi(null);return Oa(e,(i,s)=>{t=t.set(new Ei(i),s)}),t}constructor(e,t=tK()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Yn(),value:this.value};if(Cn(e))return null;{const i=Dn(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Ri(e),t);return r!=null?{path:ks(new Ei(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Cn(e))return this;{const t=Dn(e),i=this.children.get(t);return i!==null?i.subtree(Ri(e)):new Oi(null)}}set(e,t){if(Cn(e))return new Oi(t,this.children);{const i=Dn(e),r=(this.children.get(i)||new Oi(null)).set(Ri(e),t),a=this.children.insert(i,r);return new Oi(this.value,a)}}remove(e){if(Cn(e))return this.children.isEmpty()?new Oi(null):new Oi(null,this.children);{const t=Dn(e),i=this.children.get(t);if(i){const s=i.remove(Ri(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new Oi(null):new Oi(this.value,r)}else return this}}get(e){if(Cn(e))return this.value;{const t=Dn(e),i=this.children.get(t);return i?i.get(Ri(e)):null}}setTree(e,t){if(Cn(e))return t;{const i=Dn(e),r=(this.children.get(i)||new Oi(null)).setTree(Ri(e),t);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Oi(this.value,a)}}fold(e){return this.fold_(Yn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ks(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Yn(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(Cn(e))return null;{const r=Dn(e),a=this.children.get(r);return a?a.findOnPath_(Ri(e),ks(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Yn(),t)}foreachOnPath_(e,t,i){if(Cn(e))return this;{this.value&&i(t,this.value);const s=Dn(e),r=this.children.get(s);return r?r.foreachOnPath_(Ri(e),ks(t,s),i):new Oi(null)}}foreach(e){this.foreach_(Yn(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(ks(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.writeTree_=e}static empty(){return new Bl(new Oi(null))}}function Kv(n,e,t){if(Cn(e))return new Bl(new Oi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=oa(s,e);return r=r.updateChild(a,t),new Bl(n.writeTree_.set(s,r))}else{const s=new Oi(t),r=n.writeTree_.setTree(e,s);return new Bl(r)}}}function aO(n,e,t){let i=n;return Oa(t,(s,r)=>{i=Kv(i,ks(e,s),r)}),i}function oO(n,e){if(Cn(e))return Bl.empty();{const t=n.writeTree_.setTree(e,new Oi(null));return new Bl(t)}}function DC(n,e){return sp(n,e)!=null}function sp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(oa(t.path,e)):null}function lO(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(os,(i,s)=>{e.push(new An(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new An(i,s.value))}),e}function qf(n,e){if(Cn(e))return n;{const t=sp(n,e);return t!=null?new Bl(new Oi(t)):new Bl(n.writeTree_.subtree(e))}}function IC(n){return n.writeTree_.isEmpty()}function fg(n,e){return tF(Yn(),n.writeTree_,e)}function tF(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(vt(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=tF(ks(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ks(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e){return rF(e,n)}function nK(n,e,t,i,s){vt(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Kv(n.visibleWrites,e,t)),n.lastWriteId=i}function iK(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function sK(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);vt(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,a=n.allWrites.length-1;for(;s&&a>=0;){const l=n.allWrites[a];l.visible&&(a>=t&&rK(l,i.path)?s=!1:Cl(i.path,l.path)&&(r=!0)),a--}if(s){if(r)return aK(n),!0;if(i.snap)n.visibleWrites=oO(n.visibleWrites,i.path);else{const l=i.children;Oa(l,u=>{n.visibleWrites=oO(n.visibleWrites,ks(i.path,u))})}return!0}else return!1}function rK(n,e){if(n.snap)return Cl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Cl(ks(n.path,t),e))return!0;return!1}function aK(n){n.visibleWrites=nF(n.allWrites,oK,Yn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function oK(n){return n.visible}function nF(n,e,t){let i=Bl.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const a=r.path;let l;if(r.snap)Cl(t,a)?(l=oa(t,a),i=Kv(i,l,r.snap)):Cl(a,t)&&(l=oa(a,t),i=Kv(i,Yn(),r.snap.getChild(l)));else if(r.children){if(Cl(t,a))l=oa(t,a),i=aO(i,l,r.children);else if(Cl(a,t))if(l=oa(a,t),Cn(l))i=aO(i,Yn(),r.children);else{const u=lg(r.children,Dn(l));if(u){const d=u.getChild(Ri(l));i=Kv(i,Yn(),d)}}}else throw Ig("WriteRecord should have .snap or .children")}}return i}function iF(n,e,t,i,s){if(!i&&!s){const r=sp(n.visibleWrites,e);if(r!=null)return r;{const a=qf(n.visibleWrites,e);if(IC(a))return t;if(t==null&&!DC(a,Yn()))return null;{const l=t||Jt.EMPTY_NODE;return fg(a,l)}}}else{const r=qf(n.visibleWrites,e);if(!s&&IC(r))return t;if(!s&&t==null&&!DC(r,Yn()))return null;{const a=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(Cl(d.path,e)||Cl(e,d.path))},l=nF(n.allWrites,a,e),u=t||Jt.EMPTY_NODE;return fg(l,u)}}}function lK(n,e,t){let i=Jt.EMPTY_NODE;const s=sp(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(os,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(t){const r=qf(n.visibleWrites,e);return t.forEachChild(os,(a,l)=>{const u=fg(qf(r,new Ei(a)),l);i=i.updateImmediateChild(a,u)}),lO(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=qf(n.visibleWrites,e);return lO(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function cK(n,e,t,i,s){vt(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ks(e,t);if(DC(n.visibleWrites,r))return null;{const a=qf(n.visibleWrites,r);return IC(a)?s.getChild(t):fg(a,s.getChild(t))}}function uK(n,e,t,i){const s=ks(e,t),r=sp(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const a=qf(n.visibleWrites,s);return fg(a,i.getNode().getImmediateChild(t))}else return null}function fK(n,e){return sp(n.visibleWrites,e)}function dK(n,e,t,i,s,r,a){let l;const u=qf(n.visibleWrites,e),d=sp(u,Yn());if(d!=null)l=d;else if(t!=null)l=fg(u,t);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const m=[],g=a.getCompare(),y=r?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let b=y.getNext();for(;b&&m.length<s;)g(b,i)!==0&&m.push(b),b=y.getNext();return m}else return[]}function hK(){return{visibleWrites:Bl.empty(),allWrites:[],lastWriteId:-1}}function tA(n,e,t,i){return iF(n.writeTree,n.treePath,e,t,i)}function wR(n,e){return lK(n.writeTree,n.treePath,e)}function cO(n,e,t,i){return cK(n.writeTree,n.treePath,e,t,i)}function nA(n,e){return fK(n.writeTree,ks(n.treePath,e))}function pK(n,e,t,i,s,r){return dK(n.writeTree,n.treePath,e,t,i,s,r)}function RR(n,e,t){return uK(n.writeTree,n.treePath,e,t)}function sF(n,e){return rF(ks(n.treePath,e),n.writeTree)}function rF(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;vt(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),vt(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,A0(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,S0(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,ug(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,A0(i,e.snapshotNode,s.oldSnap));else throw Ig("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const aF=new gK;class BR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new $f(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jh(this.viewCache_),r=pK(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(n){return{filter:n}}function vK(n,e){vt(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),vt(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function _K(n,e,t,i,s){const r=new mK;let a,l;if(t.type===wl.OVERWRITE){const d=t;d.source.fromUser?a=OC(n,e,d.path,d.snap,i,s,r):(vt(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!Cn(d.path),a=iA(n,e,d.path,d.snap,i,s,l,r))}else if(t.type===wl.MERGE){const d=t;d.source.fromUser?a=xK(n,e,d.path,d.children,i,s,r):(vt(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),a=NC(n,e,d.path,d.children,i,s,l,r))}else if(t.type===wl.ACK_USER_WRITE){const d=t;d.revert?a=EK(n,e,d.path,i,s,r):a=SK(n,e,d.path,d.affectedTree,i,s,r)}else if(t.type===wl.LISTEN_COMPLETE)a=AK(n,e,t.path,i,r);else throw Ig("Unknown operation type: "+t.type);const u=r.getChanges();return bK(e,a,u),{viewCache:a,changes:u}}function bK(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=eA(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(QU(eA(e)))}}function oF(n,e,t,i,s,r){const a=e.eventCache;if(nA(i,t)!=null)return e;{let l,u;if(Cn(t))if(vt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Jh(e),m=d instanceof Jt?d:Jt.EMPTY_NODE,g=wR(i,m);l=n.filter.updateFullNode(e.eventCache.getNode(),g,r)}else{const d=tA(i,Jh(e));l=n.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const d=Dn(t);if(d===".priority"){vt(Zf(t)===1,"Can't have a priority with additional path components");const m=a.getNode();u=e.serverCache.getNode();const g=cO(i,t,m,u);g!=null?l=n.filter.updatePriority(m,g):l=a.getNode()}else{const m=Ri(t);let g;if(a.isCompleteForChild(d)){u=e.serverCache.getNode();const y=cO(i,t,a.getNode(),u);y!=null?g=a.getNode().getImmediateChild(d).updateChild(m,y):g=a.getNode().getImmediateChild(d)}else g=RR(i,d,e.serverCache);g!=null?l=n.filter.updateChild(a.getNode(),d,g,m,s,r):l=a.getNode()}}return qv(e,l,a.isFullyInitialized()||Cn(t),n.filter.filtersNodes())}}function iA(n,e,t,i,s,r,a,l){const u=e.serverCache;let d;const m=a?n.filter:n.filter.getIndexedFilter();if(Cn(t))d=m.updateFullNode(u.getNode(),i,null);else if(m.filtersNodes()&&!u.isFiltered()){const b=u.getNode().updateChild(t,i);d=m.updateFullNode(u.getNode(),b,null)}else{const b=Dn(t);if(!u.isCompleteForPath(t)&&Zf(t)>1)return e;const x=Ri(t),A=u.getNode().getImmediateChild(b).updateChild(x,i);b===".priority"?d=m.updatePriority(u.getNode(),A):d=m.updateChild(u.getNode(),b,A,x,aF,null)}const g=eF(e,d,u.isFullyInitialized()||Cn(t),m.filtersNodes()),y=new BR(s,g,r);return oF(n,g,t,s,y,l)}function OC(n,e,t,i,s,r,a){const l=e.eventCache;let u,d;const m=new BR(s,e,r);if(Cn(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,a),u=qv(e,d,!0,n.filter.filtersNodes());else{const g=Dn(t);if(g===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),u=qv(e,d,l.isFullyInitialized(),l.isFiltered());else{const y=Ri(t),b=l.getNode().getImmediateChild(g);let x;if(Cn(y))x=i;else{const E=m.getCompleteChild(g);E!=null?GU(y)===".priority"&&E.getChild(VU(y)).isEmpty()?x=E:x=E.updateChild(y,i):x=Jt.EMPTY_NODE}if(b.equals(x))u=e;else{const E=n.filter.updateChild(l.getNode(),g,x,y,m,a);u=qv(e,E,l.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function uO(n,e){return n.eventCache.isCompleteForChild(e)}function xK(n,e,t,i,s,r,a){let l=e;return i.foreach((u,d)=>{const m=ks(t,u);uO(e,Dn(m))&&(l=OC(n,l,m,d,s,r,a))}),i.foreach((u,d)=>{const m=ks(t,u);uO(e,Dn(m))||(l=OC(n,l,m,d,s,r,a))}),l}function fO(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function NC(n,e,t,i,s,r,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;Cn(t)?d=i:d=new Oi(null).setTree(t,i);const m=e.serverCache.getNode();return d.children.inorderTraversal((g,y)=>{if(m.hasChild(g)){const b=e.serverCache.getNode().getImmediateChild(g),x=fO(n,b,y);u=iA(n,u,new Ei(g),x,s,r,a,l)}}),d.children.inorderTraversal((g,y)=>{const b=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!m.hasChild(g)&&!b){const x=e.serverCache.getNode().getImmediateChild(g),E=fO(n,x,y);u=iA(n,u,new Ei(g),E,s,r,a,l)}}),u}function SK(n,e,t,i,s,r,a){if(nA(s,t)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(Cn(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return iA(n,e,t,u.getNode().getChild(t),s,r,l,a);if(Cn(t)){let d=new Oi(null);return u.getNode().forEachChild(Qm,(m,g)=>{d=d.set(new Ei(m),g)}),NC(n,e,t,d,s,r,l,a)}else return e}else{let d=new Oi(null);return i.foreach((m,g)=>{const y=ks(t,m);u.isCompleteForPath(y)&&(d=d.set(m,u.getNode().getChild(y)))}),NC(n,e,t,d,s,r,l,a)}}function AK(n,e,t,i,s){const r=e.serverCache,a=eF(e,r.getNode(),r.isFullyInitialized()||Cn(t),r.isFiltered());return oF(n,a,t,i,aF,s)}function EK(n,e,t,i,s,r){let a;if(nA(i,t)!=null)return e;{const l=new BR(i,e,s),u=e.eventCache.getNode();let d;if(Cn(t)||Dn(t)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=tA(i,Jh(e));else{const g=e.serverCache.getNode();vt(g instanceof Jt,"serverChildren would be complete if leaf node"),m=wR(i,g)}m=m,d=n.filter.updateFullNode(u,m,r)}else{const m=Dn(t);let g=RR(i,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=u.getImmediateChild(m)),g!=null?d=n.filter.updateChild(u,m,g,Ri(t),l,r):e.eventCache.getNode().hasChild(m)?d=n.filter.updateChild(u,m,Jt.EMPTY_NODE,Ri(t),l,r):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=tA(i,Jh(e)),a.isLeafNode()&&(d=n.filter.updateFullNode(d,a,r)))}return a=e.serverCache.isFullyInitialized()||nA(i,Yn())!=null,qv(e,d,a,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new ER(i.getIndex()),r=jq(i);this.processor_=yK(r);const a=t.serverCache,l=t.eventCache,u=s.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),d=r.updateFullNode(Jt.EMPTY_NODE,l.getNode(),null),m=new $f(u,a.isFullyInitialized(),s.filtersNodes()),g=new $f(d,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=A1(g,m),this.eventGenerator_=new Qq(this.query_)}get query(){return this.query_}}function TK(n){return n.viewCache_.serverCache.getNode()}function CK(n){return eA(n.viewCache_)}function wK(n,e){const t=Jh(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Cn(e)&&!t.getImmediateChild(Dn(e)).isEmpty())?t.getChild(e):null}function dO(n){return n.eventRegistrations_.length===0}function RK(n,e){n.eventRegistrations_.push(e)}function hO(n,e,t){const i=[];if(t){vt(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const a=r.createCancelEvent(t,s);a&&i.push(a)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const a=n.eventRegistrations_[r];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function pO(n,e,t,i){e.type===wl.MERGE&&e.source.queryId!==null&&(vt(Jh(n.viewCache_),"We should always have a full cache before handling merges"),vt(eA(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=_K(n.processor_,s,e,t,i);return vK(n.processor_,r.viewCache),vt(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,lF(n,r.changes,r.viewCache.eventCache.getNode(),null)}function BK(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(os,(r,a)=>{i.push(ug(r,a))}),t.isFullyInitialized()&&i.push(QU(t.getNode())),lF(n,i,t.getNode(),e)}function lF(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return Zq(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sA;class cF{constructor(){this.views=new Map}}function DK(n){vt(!sA,"__referenceConstructor has already been defined"),sA=n}function IK(){return vt(sA,"Reference.ts has not been loaded"),sA}function OK(n){return n.views.size===0}function DR(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return vt(r!=null,"SyncTree gave us an op for an invalid query."),pO(r,e,t,i)}else{let r=[];for(const a of n.views.values())r=r.concat(pO(a,e,t,i));return r}}function uF(n,e,t,i,s){const r=e._queryIdentifier,a=n.views.get(r);if(!a){let l=tA(t,s?i:null),u=!1;l?u=!0:i instanceof Jt?(l=wR(t,i),u=!1):(l=Jt.EMPTY_NODE,u=!1);const d=A1(new $f(l,u,!1),new $f(i,s,!1));return new MK(e,d)}return a}function NK(n,e,t,i,s,r){const a=uF(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),RK(a,t),BK(a,t)}function LK(n,e,t,i){const s=e._queryIdentifier,r=[];let a=[];const l=ed(n);if(s==="default")for(const[u,d]of n.views.entries())a=a.concat(hO(d,t,i)),dO(d)&&(n.views.delete(u),d.query._queryParams.loadsAllData()||r.push(d.query));else{const u=n.views.get(s);u&&(a=a.concat(hO(u,t,i)),dO(u)&&(n.views.delete(s),u.query._queryParams.loadsAllData()||r.push(u.query)))}return l&&!ed(n)&&r.push(new(IK())(e._repo,e._path)),{removed:r,events:a}}function fF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Kf(n,e){let t=null;for(const i of n.views.values())t=t||wK(i,e);return t}function dF(n,e){if(e._queryParams.loadsAllData())return M1(n);{const i=e._queryIdentifier;return n.views.get(i)}}function hF(n,e){return dF(n,e)!=null}function ed(n){return M1(n)!=null}function M1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rA;function PK(n){vt(!rA,"__referenceConstructor has already been defined"),rA=n}function UK(){return vt(rA,"Reference.ts has not been loaded"),rA}let FK=1;class mO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oi(null),this.pendingWriteTree_=hK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pF(n,e,t,i,s){return nK(n.pendingWriteTree_,e,t,i,s),s?f_(n,new Kh($U(),e,t)):[]}function Dh(n,e,t=!1){const i=iK(n.pendingWriteTree_,e);if(sK(n.pendingWriteTree_,e)){let r=new Oi(null);return i.snap!=null?r=r.set(Yn(),!0):Oa(i.children,a=>{r=r.set(new Ei(a),!0)}),f_(n,new $S(i.path,r,t))}else return[]}function u_(n,e,t){return f_(n,new Kh(TR(),e,t))}function zK(n,e,t){const i=Oi.fromObject(t);return f_(n,new T0(TR(),e,i))}function HK(n,e){return f_(n,new M0(TR(),e))}function GK(n,e,t){const i=OR(n,t);if(i){const s=NR(i),r=s.path,a=s.queryId,l=oa(r,e),u=new M0(CR(a),l);return LR(n,r,u)}else return[]}function mF(n,e,t,i,s=!1){const r=e._path,a=n.syncPointTree_.get(r);let l=[];if(a&&(e._queryIdentifier==="default"||hF(a,e))){const u=LK(a,e,t,i);OK(a)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const d=u.removed;if(l=u.events,!s){const m=d.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=n.syncPointTree_.findOnPath(r,(y,b)=>ed(b));if(m&&!g){const y=n.syncPointTree_.subtree(r);if(!y.isEmpty()){const b=WK(y);for(let x=0;x<b.length;++x){const E=b[x],A=E.query,S=_F(n,E);n.listenProvider_.startListening(Jv(A),C0(n,A),S.hashFn,S.onComplete)}}}!g&&d.length>0&&!i&&(m?n.listenProvider_.stopListening(Jv(e),null):d.forEach(y=>{const b=n.queryToTagMap.get(T1(y));n.listenProvider_.stopListening(Jv(y),b)}))}XK(n,d)}return l}function gF(n,e,t,i){const s=OR(n,i);if(s!=null){const r=NR(s),a=r.path,l=r.queryId,u=oa(a,e),d=new Kh(CR(l),u,t);return LR(n,a,d)}else return[]}function kK(n,e,t,i){const s=OR(n,i);if(s){const r=NR(s),a=r.path,l=r.queryId,u=oa(a,e),d=Oi.fromObject(t),m=new T0(CR(l),u,d);return LR(n,a,m)}else return[]}function VK(n,e,t,i=!1){const s=e._path;let r=null,a=!1;n.syncPointTree_.foreachOnPath(s,(y,b)=>{const x=oa(y,s);r=r||Kf(b,x),a=a||ed(b)});let l=n.syncPointTree_.get(s);l?(a=a||ed(l),r=r||Kf(l,Yn())):(l=new cF,n.syncPointTree_=n.syncPointTree_.set(s,l));let u;r!=null?u=!0:(u=!1,r=Jt.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((b,x)=>{const E=Kf(x,Yn());E&&(r=r.updateImmediateChild(b,E))}));const d=hF(l,e);if(!d&&!e._queryParams.loadsAllData()){const y=T1(e);vt(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=YK();n.queryToTagMap.set(y,b),n.tagToQueryMap.set(b,y)}const m=E1(n.pendingWriteTree_,s);let g=NK(l,e,t,m,r,u);if(!d&&!a&&!i){const y=dF(l,e);g=g.concat(qK(n,e,y))}return g}function IR(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(a,l)=>{const u=oa(a,e),d=Kf(l,u);if(d)return d});return iF(s,e,r,t,!0)}function jK(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(d,m)=>{const g=oa(d,t);i=i||Kf(m,g)});let s=n.syncPointTree_.get(t);s?i=i||Kf(s,Yn()):(s=new cF,n.syncPointTree_=n.syncPointTree_.set(t,s));const r=i!=null,a=r?new $f(i,!0,!1):null,l=E1(n.pendingWriteTree_,e._path),u=uF(s,e,l,r?a.getNode():Jt.EMPTY_NODE,r);return CK(u)}function f_(n,e){return yF(e,n.syncPointTree_,null,E1(n.pendingWriteTree_,Yn()))}function yF(n,e,t,i){if(Cn(n.path))return vF(n,e,t,i);{const s=e.get(Yn());t==null&&s!=null&&(t=Kf(s,Yn()));let r=[];const a=Dn(n.path),l=n.operationForChild(a),u=e.children.get(a);if(u&&l){const d=t?t.getImmediateChild(a):null,m=sF(i,a);r=r.concat(yF(l,u,d,m))}return s&&(r=r.concat(DR(s,n,i,t))),r}}function vF(n,e,t,i){const s=e.get(Yn());t==null&&s!=null&&(t=Kf(s,Yn()));let r=[];return e.children.inorderTraversal((a,l)=>{const u=t?t.getImmediateChild(a):null,d=sF(i,a),m=n.operationForChild(a);m&&(r=r.concat(vF(m,l,u,d)))}),s&&(r=r.concat(DR(s,n,i,t))),r}function _F(n,e){const t=e.query,i=C0(n,t);return{hashFn:()=>(TK(e)||Jt.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?GK(n,t._path,i):HK(n,t._path);{const r=VY(s,t);return mF(n,t,null,r)}}}}function C0(n,e){const t=T1(e);return n.queryToTagMap.get(t)}function T1(n){return n._path.toString()+"$"+n._queryIdentifier}function OR(n,e){return n.tagToQueryMap.get(e)}function NR(n){const e=n.indexOf("$");return vt(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ei(n.substr(0,e))}}function LR(n,e,t){const i=n.syncPointTree_.get(e);vt(i,"Missing sync point for query tag that we're tracking");const s=E1(n.pendingWriteTree_,e);return DR(i,t,s,null)}function WK(n){return n.fold((e,t,i)=>{if(t&&ed(t))return[M1(t)];{let s=[];return t&&(s=fF(t)),Oa(i,(r,a)=>{s=s.concat(a)}),s}})}function Jv(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(UK())(n._repo,n._path):n}function XK(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=T1(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function YK(){return FK++}function qK(n,e,t){const i=e._path,s=C0(n,e),r=_F(n,t),a=n.listenProvider_.startListening(Jv(e),s,r.hashFn,r.onComplete),l=n.syncPointTree_.subtree(i);if(s)vt(!ed(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((d,m,g)=>{if(!Cn(d)&&m&&ed(m))return[M1(m).query];{let y=[];return m&&(y=y.concat(fF(m).map(b=>b.query))),Oa(g,(b,x)=>{y=y.concat(x)}),y}});for(let d=0;d<u.length;++d){const m=u[d];n.listenProvider_.stopListening(Jv(m),C0(n,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new PR(t)}node(){return this.node_}}class UR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ks(this.path_,e);return new UR(this.syncTree_,t)}node(){return IR(this.syncTree_,this.path_)}}const KK=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},gO=function(n,e,t){if(!n||typeof n!="object")return n;if(vt(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return JK(n[".sv"],e,t);if(typeof n[".sv"]=="object")return QK(n[".sv"],e);vt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},JK=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:vt(!1,"Unexpected server value: "+n)}},QK=function(n,e,t){n.hasOwnProperty("increment")||vt(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&vt(!1,"Unexpected increment value: "+i);const s=e.node();if(vt(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},ZK=function(n,e,t,i){return FR(e,new UR(t,n),i)},bF=function(n,e,t){return FR(n,new PR(e),t)};function FR(n,e,t){const i=n.getPriority().val(),s=gO(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const a=n,l=gO(a.getValue(),e,t);return l!==a.getValue()||s!==a.getPriority().val()?new $s(l,tr(s)):n}else{const a=n;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new $s(s))),a.forEachChild(os,(l,u)=>{const d=FR(u,e.getImmediateChild(l),t);d!==u&&(r=r.updateImmediateChild(l,d))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function HR(n,e){let t=e instanceof Ei?e:new Ei(e),i=n,s=Dn(t);for(;s!==null;){const r=lg(i.node.children,s)||{children:{},childCount:0};i=new zR(s,i,r),t=Ri(t),s=Dn(t)}return i}function Pg(n){return n.node.value}function xF(n,e){n.node.value=e,LC(n)}function SF(n){return n.node.childCount>0}function $K(n){return Pg(n)===void 0&&!SF(n)}function C1(n,e){Oa(n.node.children,(t,i)=>{e(new zR(t,n,i))})}function AF(n,e,t,i){t&&e(n),C1(n,s=>{AF(s,e,!0)})}function eJ(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function d_(n){return new Ei(n.parent===null?n.name:d_(n.parent)+"/"+n.name)}function LC(n){n.parent!==null&&tJ(n.parent,n.name,n)}function tJ(n,e,t){const i=$K(t),s=Pu(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,LC(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,LC(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=/[\[\].#$\/\u0000-\u001F\u007F]/,iJ=/[\[\].#$\u0000-\u001F\u007F]/,CM=10*1024*1024,EF=function(n){return typeof n=="string"&&n.length!==0&&!nJ.test(n)},MF=function(n){return typeof n=="string"&&n.length!==0&&!iJ.test(n)},sJ=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),MF(n)},rJ=function(n,e,t,i){GR(gR(n,"value"),e,t)},GR=function(n,e,t){const i=t instanceof Ei?new Sq(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Sh(i));if(typeof e=="function")throw new Error(n+"contains a function "+Sh(i)+" with contents = "+e.toString());if(bU(e))throw new Error(n+"contains "+e.toString()+" "+Sh(i));if(typeof e=="string"&&e.length>CM/3&&x1(e)>CM)throw new Error(n+"contains a string greater than "+CM+" utf8 bytes "+Sh(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Oa(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!EF(a)))throw new Error(n+" contains an invalid key ("+a+") "+Sh(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Aq(i,a),GR(n,l,i),Eq(i)}),s&&r)throw new Error(n+' contains ".value" child '+Sh(i)+" in addition to actual children.")}},TF=function(n,e,t,i){if(!MF(t))throw new Error(gR(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aJ=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TF(n,e,t)},oJ=function(n,e){if(Dn(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},lJ=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!EF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!sJ(t))throw new Error(gR(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CF(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!jU(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function Rc(n,e,t){CF(n,t),uJ(n,i=>Cl(i,e)||Cl(e,i))}function uJ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(fJ(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function fJ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Xv&&Pr("event: "+t.toString()),Lg(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ="repo_interrupt",hJ=25;class pJ{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ZS(),this.transactionQueueTree_=new zR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mJ(n,e,t){if(n.stats_=bR(n.repoInfo_),n.forceRestClient_||YY())n.server_=new QS(n.repoInfo_,(i,s,r,a)=>{yO(n,i,s,r,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vO(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gs(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _u(n.repoInfo_,e,(i,s,r,a)=>{yO(n,i,s,r,a)},i=>{vO(n,i)},i=>{yJ(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=ZY(n.repoInfo_,()=>new Jq(n.stats_,n.server_)),n.infoData_=new Wq,n.infoSyncTree_=new mO({startListening:(i,s,r,a)=>{let l=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(l=u_(n.infoSyncTree_,i._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),VR(n,"connected",!1),n.serverSyncTree_=new mO({startListening:(i,s,r,a)=>(n.server_.listen(i,r,s,(l,u)=>{const d=a(l,u);Rc(n.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function gJ(n){const t=n.infoData_.getNode(new Ei(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function kR(n){return KK({timestamp:gJ(n)})}function yO(n,e,t,i,s){n.dataUpdateCount++;const r=new Ei(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(s)if(i){const u=jS(t,d=>tr(d));a=kK(n.serverSyncTree_,r,u,s)}else{const u=tr(t);a=gF(n.serverSyncTree_,r,u,s)}else if(i){const u=jS(t,d=>tr(d));a=zK(n.serverSyncTree_,r,u)}else{const u=tr(t);a=u_(n.serverSyncTree_,r,u)}let l=r;a.length>0&&(l=R1(n,r)),Rc(n.eventQueue_,l,a)}function vO(n,e){VR(n,"connected",e),e===!1&&bJ(n)}function yJ(n,e){Oa(e,(t,i)=>{VR(n,t,i)})}function VR(n,e,t){const i=new Ei("/.info/"+e),s=tr(t);n.infoData_.updateSnapshot(i,s);const r=u_(n.infoSyncTree_,i,s);Rc(n.eventQueue_,i,r)}function wF(n){return n.nextWriteId_++}function vJ(n,e,t){const i=jK(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const r=tr(s).withIndex(e._queryParams.getIndex());VK(n.serverSyncTree_,e,t,!0);let a;if(e._queryParams.loadsAllData())a=u_(n.serverSyncTree_,e._path,r);else{const l=C0(n.serverSyncTree_,e);a=gF(n.serverSyncTree_,e._path,r,l)}return Rc(n.eventQueue_,e._path,a),mF(n.serverSyncTree_,e,t,null,!0),r},s=>(w1(n,"get for query "+Gs(e)+" failed: "+s),Promise.reject(new Error(s))))}function _J(n,e,t,i,s){w1(n,"set",{path:e.toString(),value:t,priority:i});const r=kR(n),a=tr(t,i),l=IR(n.serverSyncTree_,e),u=bF(a,l,r),d=wF(n),m=pF(n.serverSyncTree_,e,u,d,!0);CF(n.eventQueue_,m),n.server_.put(e.toString(),a.val(!0),(y,b)=>{const x=y==="ok";x||Da("set at "+e+" failed: "+y);const E=Dh(n.serverSyncTree_,d,!x);Rc(n.eventQueue_,e,E),SJ(n,s,y,b)});const g=OF(n,e);R1(n,g),Rc(n.eventQueue_,g,[])}function bJ(n){w1(n,"onDisconnectEvents");const e=kR(n),t=ZS();BC(n.onDisconnect_,Yn(),(s,r)=>{const a=ZK(s,r,n.serverSyncTree_,e);ZU(t,s,a)});let i=[];BC(t,Yn(),(s,r)=>{i=i.concat(u_(n.serverSyncTree_,s,r));const a=OF(n,s);R1(n,a)}),n.onDisconnect_=ZS(),Rc(n.eventQueue_,Yn(),i)}function xJ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(dJ)}function w1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Pr(t,...e)}function SJ(n,e,t,i){e&&Lg(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const a=new Error(r);a.code=s,e(a)}})}function RF(n,e,t){return IR(n.serverSyncTree_,e,t)||Jt.EMPTY_NODE}function jR(n,e=n.transactionQueueTree_){if(e||B1(n,e),Pg(e)){const t=DF(n,e);vt(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&AJ(n,d_(e),t)}else SF(e)&&C1(e,t=>{jR(n,t)})}function AJ(n,e,t){const i=t.map(d=>d.currentWriteId),s=RF(n,e,i);let r=s;const a=s.hash();for(let d=0;d<t.length;d++){const m=t[d];vt(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=oa(e,m.path);r=r.updateChild(g,m.currentOutputSnapshotRaw)}const l=r.val(!0),u=e;n.server_.put(u.toString(),l,d=>{w1(n,"transaction put response",{path:u.toString(),status:d});let m=[];if(d==="ok"){const g=[];for(let y=0;y<t.length;y++)t[y].status=2,m=m.concat(Dh(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&g.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();B1(n,HR(n.transactionQueueTree_,e)),jR(n,n.transactionQueueTree_),Rc(n.eventQueue_,e,m);for(let y=0;y<g.length;y++)Lg(g[y])}else{if(d==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{Da("transaction at "+u.toString()+" failed: "+d);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=d}R1(n,e)}},a)}function R1(n,e){const t=BF(n,e),i=d_(t),s=DF(n,t);return EJ(n,s,i),i}function EJ(n,e,t){if(e.length===0)return;const i=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],d=oa(t,u.path);let m=!1,g;if(vt(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)m=!0,g=u.abortReason,s=s.concat(Dh(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=hJ)m=!0,g="maxretry",s=s.concat(Dh(n.serverSyncTree_,u.currentWriteId,!0));else{const y=RF(n,u.path,a);u.currentInputSnapshot=y;const b=e[l].update(y.val());if(b!==void 0){GR("transaction failed: Data returned ",b,u.path);let x=tr(b);typeof b=="object"&&b!=null&&Pu(b,".priority")||(x=x.updatePriority(y.getPriority()));const A=u.currentWriteId,S=kR(n),B=bF(x,y,S);u.currentOutputSnapshotRaw=x,u.currentOutputSnapshotResolved=B,u.currentWriteId=wF(n),a.splice(a.indexOf(A),1),s=s.concat(pF(n.serverSyncTree_,u.path,B,u.currentWriteId,u.applyLocally)),s=s.concat(Dh(n.serverSyncTree_,A,!0))}else m=!0,g="nodata",s=s.concat(Dh(n.serverSyncTree_,u.currentWriteId,!0))}Rc(n.eventQueue_,t,s),s=[],m&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(g==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(g),!1,null))))}B1(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)Lg(i[l]);jR(n,n.transactionQueueTree_)}function BF(n,e){let t,i=n.transactionQueueTree_;for(t=Dn(e);t!==null&&Pg(i)===void 0;)i=HR(i,t),e=Ri(e),t=Dn(e);return i}function DF(n,e){const t=[];return IF(n,e,t),t.sort((i,s)=>i.order-s.order),t}function IF(n,e,t){const i=Pg(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);C1(e,s=>{IF(n,s,t)})}function B1(n,e){const t=Pg(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,xF(e,t.length>0?t:void 0)}C1(e,i=>{B1(n,i)})}function OF(n,e){const t=d_(BF(n,e)),i=HR(n.transactionQueueTree_,e);return eJ(i,s=>{wM(n,s)}),wM(n,i),AF(i,s=>{wM(n,s)}),t}function wM(n,e){const t=Pg(e);if(t){const i=[];let s=[],r=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(vt(r===a-1,"All SENT items should be at beginning of queue."),r=a,t[a].status=3,t[a].abortReason="set"):(vt(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),s=s.concat(Dh(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?xF(e,void 0):t.length=r+1,Rc(n.eventQueue_,d_(e),s);for(let a=0;a<i.length;a++)Lg(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function TJ(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Da(`Invalid query segment '${t}' in query '${n}'`)}return e}const _O=function(n,e){const t=CJ(n),i=t.namespace;t.domain==="firebase.com"&&Bu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Bu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||FY();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new IU(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new Ei(t.pathString)}},CJ=function(n){let e="",t="",i="",s="",r="",a=!0,l="https",u=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(l=n.substring(0,d-1),n=n.substring(d+2));let m=n.indexOf("/");m===-1&&(m=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),e=n.substring(0,Math.min(m,g)),m<g&&(s=MJ(n.substring(m,g)));const y=TJ(n.substring(Math.min(n.length,g)));d=e.indexOf(":"),d>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),r=i}"ns"in y&&(r=y.ns)}return{host:e,port:u,domain:t,subdomain:i,secure:a,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Gs(this.snapshot.exportVal())}}class RJ{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return Cn(this._path)?null:GU(this._path)}get ref(){return new Uu(this._repo,this._path)}get _queryIdentifier(){const e=sO(this._queryParams),t=vR(e);return t==="{}"?"default":t}get _queryObject(){return sO(this._queryParams)}isEqual(e){if(e=Og(e),!(e instanceof WR))return!1;const t=this._repo===e._repo,i=jU(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+xq(this._path)}}class Uu extends WR{constructor(e,t){super(e,t,new MR,!1)}get parent(){const e=VU(this._path);return e===null?null:new Uu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class w0{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ei(e),i=PC(this.ref,e);return new w0(this._node.getChild(t),i,os)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new w0(s,PC(this.ref,i),os)))}hasChild(e){const t=new Ei(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function D1(n,e){return n=Og(n),n._checkNotDeleted("ref"),e!==void 0?PC(n._root,e):n._root}function PC(n,e){return n=Og(n),Dn(n._path)===null?aJ("child","path",e):TF("child","path",e),new Uu(n._repo,ks(n._path,e))}function XR(n,e){n=Og(n),oJ("set",n._path),rJ("set",e,n._path);const t=new b1;return _J(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function DJ(n){n=Og(n);const e=new BJ(()=>{}),t=new YR(e);return vJ(n._repo,n,t).then(i=>new w0(i,new Uu(n._repo,n._path),n._queryParams.getIndex()))}class YR{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new wJ("value",this,new w0(e.snapshotNode,new Uu(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new RJ(this,e,t):null}matches(e){return e instanceof YR?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}DK(Uu);PK(Uu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="FIREBASE_DATABASE_EMULATOR_HOST",UC={};let OJ=!1;function NJ(n,e,t,i){const s=e.lastIndexOf(":"),r=e.substring(0,s),a=mR(r);n.repoInfo_=new IU(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function LJ(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||Bu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=_O(r,s),l=a.repoInfo,u;typeof process<"u"&&HI&&(u=HI[IJ]),u?(r=`http://${u}?ns=${l.namespace}`,a=_O(r,s),l=a.repoInfo):a.repoInfo.secure;const d=new KY(n.name,n.options,e);lJ("Invalid Firebase Database URL",a),Cn(a.path)||Bu("Database URL must point to the root of a Firebase Database (not including a child path).");const m=UJ(l,n,d,new qY(n,t));return new FJ(m,n)}function PJ(n,e){const t=UC[e];(!t||t[n.key]!==n)&&Bu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),xJ(n),delete t[n.key]}function UJ(n,e,t,i){let s=UC[e.name];s||(s={},UC[e.name]=s);let r=s[n.toURLString()];return r&&Bu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new pJ(n,OJ,t,i),s[n.toURLString()]=r,r}class FJ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mJ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uu(this._repo,Yn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PJ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bu("Cannot call "+e+" on a deleted database.")}}function zJ(n=_Y(),e){const t=pY(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=$W("database");i&&HJ(t,...i)}return t}function HJ(n,e,t,i={}){n=Og(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,r=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&WS(i,r.repoInfo_.emulatorOptions))return;Bu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Bu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new bS(bS.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:tX(i.mockUserToken,n.app.options.projectId);a=new bS(l)}mR(e)&&(eX(e),sX("Database",!0)),NJ(r,s,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(n){IY(vY),YS(new _0("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return LJ(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),Km(GI,kI,n),Km(GI,kI,"esm2017")}_u.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};_u.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};GJ();const kJ={authDomain:"ti-stats-c491d.firebaseapp.com",databaseURL:"https://ti-stats-c491d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ti-stats-c491d",storageBucket:"ti-stats-c491d.firebasestorage.app",messagingSenderId:"848081025843",appId:"1:848081025843:web:6bdc91ad175de6e12d9c46",measurementId:"G-MY89MT8BZV"},VJ=pU(kJ),I1=zJ(VJ);function px(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var RM={exports:{}},bO;function jJ(){return bO||(bO=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,s,r){function a(d,m){if(!s[d]){if(!i[d]){var g=typeof px=="function"&&px;if(!m&&g)return g(d,!0);if(l)return l(d,!0);throw new Error("Cannot find module '"+d+"'")}m=s[d]={exports:{}},i[d][0].call(m.exports,function(y){var b=i[d][1][y];return a(b||y)},m,m.exports,t,i,s,r)}return s[d].exports}for(var l=typeof px=="function"&&px,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){var x=t("crypto");function E(O,U){U=B(O,U);var P;return(P=U.algorithm!=="passthrough"?x.createHash(U.algorithm):new N).write===void 0&&(P.write=P.update,P.end=P.update),R(U,P).dispatch(O),P.update||P.end(""),P.digest?P.digest(U.encoding==="buffer"?void 0:U.encoding):(O=P.read(),U.encoding!=="buffer"?O.toString(U.encoding):O)}(s=i.exports=E).sha1=function(O){return E(O)},s.keys=function(O){return E(O,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(O){return E(O,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(O){return E(O,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var A=x.getHashes?x.getHashes().slice():["sha1","md5"],S=(A.push("passthrough"),["buffer","hex","binary","base64"]);function B(O,U){var P={};if(P.algorithm=(U=U||{}).algorithm||"sha1",P.encoding=U.encoding||"hex",P.excludeValues=!!U.excludeValues,P.algorithm=P.algorithm.toLowerCase(),P.encoding=P.encoding.toLowerCase(),P.ignoreUnknown=U.ignoreUnknown===!0,P.respectType=U.respectType!==!1,P.respectFunctionNames=U.respectFunctionNames!==!1,P.respectFunctionProperties=U.respectFunctionProperties!==!1,P.unorderedArrays=U.unorderedArrays===!0,P.unorderedSets=U.unorderedSets!==!1,P.unorderedObjects=U.unorderedObjects!==!1,P.replacer=U.replacer||void 0,P.excludeKeys=U.excludeKeys||void 0,O===void 0)throw new Error("Object argument required.");for(var L=0;L<A.length;++L)A[L].toLowerCase()===P.algorithm.toLowerCase()&&(P.algorithm=A[L]);if(A.indexOf(P.algorithm)===-1)throw new Error('Algorithm "'+P.algorithm+'"  not supported. supported values: '+A.join(", "));if(S.indexOf(P.encoding)===-1&&P.algorithm!=="passthrough")throw new Error('Encoding "'+P.encoding+'"  not supported. supported values: '+S.join(", "));return P}function w(O){if(typeof O=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(O))!=null}function R(O,U,P){P=P||[];function L(M){return U.update?U.update(M,"utf8"):U.write(M,"utf8")}return{dispatch:function(M){return this["_"+((M=O.replacer?O.replacer(M):M)===null?"null":typeof M)](M)},_object:function(M){var F,G=Object.prototype.toString.call(M),J=/\[object (.*)\]/i.exec(G);if(J=(J=J?J[1]:"unknown:["+G+"]").toLowerCase(),0<=(G=P.indexOf(M)))return this.dispatch("[CIRCULAR:"+G+"]");if(P.push(M),l!==void 0&&l.isBuffer&&l.isBuffer(M))return L("buffer:"),L(M);if(J==="object"||J==="function"||J==="asyncfunction")return G=Object.keys(M),O.unorderedObjects&&(G=G.sort()),O.respectType===!1||w(M)||G.splice(0,0,"prototype","__proto__","constructor"),O.excludeKeys&&(G=G.filter(function(ie){return!O.excludeKeys(ie)})),L("object:"+G.length+":"),F=this,G.forEach(function(ie){F.dispatch(ie),L(":"),O.excludeValues||F.dispatch(M[ie]),L(",")});if(!this["_"+J]){if(O.ignoreUnknown)return L("["+J+"]");throw new Error('Unknown object type "'+J+'"')}this["_"+J](M)},_array:function(M,ie){ie=ie!==void 0?ie:O.unorderedArrays!==!1;var G=this;if(L("array:"+M.length+":"),!ie||M.length<=1)return M.forEach(function(ne){return G.dispatch(ne)});var J=[],ie=M.map(function(ne){var H=new N,q=P.slice();return R(O,H,q).dispatch(ne),J=J.concat(q.slice(P.length)),H.read().toString()});return P=P.concat(J),ie.sort(),this._array(ie,!1)},_date:function(M){return L("date:"+M.toJSON())},_symbol:function(M){return L("symbol:"+M.toString())},_error:function(M){return L("error:"+M.toString())},_boolean:function(M){return L("bool:"+M.toString())},_string:function(M){L("string:"+M.length+":"),L(M.toString())},_function:function(M){L("fn:"),w(M)?this.dispatch("[native]"):this.dispatch(M.toString()),O.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(M.name)),O.respectFunctionProperties&&this._object(M)},_number:function(M){return L("number:"+M.toString())},_xml:function(M){return L("xml:"+M.toString())},_null:function(){return L("Null")},_undefined:function(){return L("Undefined")},_regexp:function(M){return L("regex:"+M.toString())},_uint8array:function(M){return L("uint8array:"),this.dispatch(Array.prototype.slice.call(M))},_uint8clampedarray:function(M){return L("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(M))},_int8array:function(M){return L("int8array:"),this.dispatch(Array.prototype.slice.call(M))},_uint16array:function(M){return L("uint16array:"),this.dispatch(Array.prototype.slice.call(M))},_int16array:function(M){return L("int16array:"),this.dispatch(Array.prototype.slice.call(M))},_uint32array:function(M){return L("uint32array:"),this.dispatch(Array.prototype.slice.call(M))},_int32array:function(M){return L("int32array:"),this.dispatch(Array.prototype.slice.call(M))},_float32array:function(M){return L("float32array:"),this.dispatch(Array.prototype.slice.call(M))},_float64array:function(M){return L("float64array:"),this.dispatch(Array.prototype.slice.call(M))},_arraybuffer:function(M){return L("arraybuffer:"),this.dispatch(new Uint8Array(M))},_url:function(M){return L("url:"+M.toString())},_map:function(M){return L("map:"),M=Array.from(M),this._array(M,O.unorderedSets!==!1)},_set:function(M){return L("set:"),M=Array.from(M),this._array(M,O.unorderedSets!==!1)},_file:function(M){return L("file:"),this.dispatch([M.name,M.size,M.type,M.lastModfied])},_blob:function(){if(O.ignoreUnknown)return L("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return L("domwindow")},_bigint:function(M){return L("bigint:"+M.toString())},_process:function(){return L("process")},_timer:function(){return L("timer")},_pipe:function(){return L("pipe")},_tcp:function(){return L("tcp")},_udp:function(){return L("udp")},_tty:function(){return L("tty")},_statwatcher:function(){return L("statwatcher")},_securecontext:function(){return L("securecontext")},_connection:function(){return L("connection")},_zlib:function(){return L("zlib")},_context:function(){return L("context")},_nodescript:function(){return L("nodescript")},_httpparser:function(){return L("httpparser")},_dataview:function(){return L("dataview")},_signal:function(){return L("signal")},_fsevent:function(){return L("fsevent")},_tlswrap:function(){return L("tlswrap")}}}function N(){return{buf:"",write:function(O){this.buf+=O},end:function(O){this.buf+=O},read:function(){return this.buf}}}s.writeToStream=function(O,U,P){return P===void 0&&(P=U,U={}),R(U=B(O,U),P).dispatch(O)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){(function(x){var E=typeof Uint8Array<"u"?Uint8Array:Array,A=43,S=47,B=48,w=97,R=65,N=45,O=95;function U(P){return P=P.charCodeAt(0),P===A||P===N?62:P===S||P===O?63:P<B?-1:P<B+10?P-B+26+26:P<R+26?P-R:P<w+26?P-w+26:void 0}x.toByteArray=function(P){var L,M;if(0<P.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var F=P.length,F=P.charAt(F-2)==="="?2:P.charAt(F-1)==="="?1:0,G=new E(3*P.length/4-F),J=0<F?P.length-4:P.length,ie=0;function ne(H){G[ie++]=H}for(L=0;L<J;L+=4,0)ne((16711680&(M=U(P.charAt(L))<<18|U(P.charAt(L+1))<<12|U(P.charAt(L+2))<<6|U(P.charAt(L+3))))>>16),ne((65280&M)>>8),ne(255&M);return F==2?ne(255&(M=U(P.charAt(L))<<2|U(P.charAt(L+1))>>4)):F==1&&(ne((M=U(P.charAt(L))<<10|U(P.charAt(L+1))<<4|U(P.charAt(L+2))>>2)>>8&255),ne(255&M)),G},x.fromByteArray=function(P){var L,M,F,G,J=P.length%3,ie="";function ne(H){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H)}for(L=0,F=P.length-J;L<F;L+=3)M=(P[L]<<16)+(P[L+1]<<8)+P[L+2],ie+=ne((G=M)>>18&63)+ne(G>>12&63)+ne(G>>6&63)+ne(63&G);switch(J){case 1:ie=(ie+=ne((M=P[P.length-1])>>2))+ne(M<<4&63)+"==";break;case 2:ie=(ie=(ie+=ne((M=(P[P.length-2]<<8)+P[P.length-1])>>10))+ne(M>>4&63))+ne(M<<2&63)+"="}return ie}})(s===void 0?this.base64js={}:s)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,i,s){(function(r,a,A,u,d,m,g,y,b){var x=t("base64-js"),E=t("ieee754");function A(j,Q,oe){if(!(this instanceof A))return new A(j,Q,oe);var Ce,Se,W,ze,De=typeof j;if(Q==="base64"&&De=="string")for(j=(ze=j).trim?ze.trim():ze.replace(/^\s+|\s+$/g,"");j.length%4!=0;)j+="=";if(De=="number")Ce=$(j);else if(De=="string")Ce=A.byteLength(j,Q);else{if(De!="object")throw new Error("First argument needs to be a number, array or string.");Ce=$(j.length)}if(A._useTypedArrays?Se=A._augment(new Uint8Array(Ce)):((Se=this).length=Ce,Se._isBuffer=!0),A._useTypedArrays&&typeof j.byteLength=="number")Se._set(j);else if(se(ze=j)||A.isBuffer(ze)||ze&&typeof ze=="object"&&typeof ze.length=="number")for(W=0;W<Ce;W++)A.isBuffer(j)?Se[W]=j.readUInt8(W):Se[W]=j[W];else if(De=="string")Se.write(j,0,Q);else if(De=="number"&&!A._useTypedArrays&&!oe)for(W=0;W<Ce;W++)Se[W]=0;return Se}function S(j,Q,oe,Ce){return A._charsWritten=Ae(function(Se){for(var W=[],ze=0;ze<Se.length;ze++)W.push(255&Se.charCodeAt(ze));return W}(Q),j,oe,Ce)}function B(j,Q,oe,Ce){return A._charsWritten=Ae(function(Se){for(var W,ze,De=[],Ge=0;Ge<Se.length;Ge++)ze=Se.charCodeAt(Ge),W=ze>>8,ze=ze%256,De.push(ze),De.push(W);return De}(Q),j,oe,Ce)}function w(j,Q,oe){var Ce="";oe=Math.min(j.length,oe);for(var Se=Q;Se<oe;Se++)Ce+=String.fromCharCode(j[Se]);return Ce}function R(j,Q,oe,W){W||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q!=null,"missing offset"),xe(Q+1<j.length,"Trying to read beyond buffer length"));var Se,W=j.length;if(!(W<=Q))return oe?(Se=j[Q],Q+1<W&&(Se|=j[Q+1]<<8)):(Se=j[Q]<<8,Q+1<W&&(Se|=j[Q+1])),Se}function N(j,Q,oe,W){W||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q!=null,"missing offset"),xe(Q+3<j.length,"Trying to read beyond buffer length"));var Se,W=j.length;if(!(W<=Q))return oe?(Q+2<W&&(Se=j[Q+2]<<16),Q+1<W&&(Se|=j[Q+1]<<8),Se|=j[Q],Q+3<W&&(Se+=j[Q+3]<<24>>>0)):(Q+1<W&&(Se=j[Q+1]<<16),Q+2<W&&(Se|=j[Q+2]<<8),Q+3<W&&(Se|=j[Q+3]),Se+=j[Q]<<24>>>0),Se}function O(j,Q,oe,Ce){if(Ce||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q!=null,"missing offset"),xe(Q+1<j.length,"Trying to read beyond buffer length")),!(j.length<=Q))return Ce=R(j,Q,oe,!0),32768&Ce?-1*(65535-Ce+1):Ce}function U(j,Q,oe,Ce){if(Ce||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q!=null,"missing offset"),xe(Q+3<j.length,"Trying to read beyond buffer length")),!(j.length<=Q))return Ce=N(j,Q,oe,!0),2147483648&Ce?-1*(4294967295-Ce+1):Ce}function P(j,Q,oe,Ce){return Ce||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q+3<j.length,"Trying to read beyond buffer length")),E.read(j,Q,oe,23,4)}function L(j,Q,oe,Ce){return Ce||(xe(typeof oe=="boolean","missing or invalid endian"),xe(Q+7<j.length,"Trying to read beyond buffer length")),E.read(j,Q,oe,52,8)}function M(j,Q,oe,Ce,Se){if(Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+1<j.length,"trying to write beyond buffer length"),be(Q,65535)),Se=j.length,!(Se<=oe))for(var W=0,ze=Math.min(Se-oe,2);W<ze;W++)j[oe+W]=(Q&255<<8*(Ce?W:1-W))>>>8*(Ce?W:1-W)}function F(j,Q,oe,Ce,Se){if(Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+3<j.length,"trying to write beyond buffer length"),be(Q,4294967295)),Se=j.length,!(Se<=oe))for(var W=0,ze=Math.min(Se-oe,4);W<ze;W++)j[oe+W]=Q>>>8*(Ce?W:3-W)&255}function G(j,Q,oe,Ce,Se){Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+1<j.length,"Trying to write beyond buffer length"),Ue(Q,32767,-32768)),j.length<=oe||M(j,0<=Q?Q:65535+Q+1,oe,Ce,Se)}function J(j,Q,oe,Ce,Se){Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+3<j.length,"Trying to write beyond buffer length"),Ue(Q,2147483647,-2147483648)),j.length<=oe||F(j,0<=Q?Q:4294967295+Q+1,oe,Ce,Se)}function ie(j,Q,oe,Ce,Se){Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+3<j.length,"Trying to write beyond buffer length"),Qe(Q,34028234663852886e22,-34028234663852886e22)),j.length<=oe||E.write(j,Q,oe,Ce,23,4)}function ne(j,Q,oe,Ce,Se){Se||(xe(Q!=null,"missing value"),xe(typeof Ce=="boolean","missing or invalid endian"),xe(oe!=null,"missing offset"),xe(oe+7<j.length,"Trying to write beyond buffer length"),Qe(Q,17976931348623157e292,-17976931348623157e292)),j.length<=oe||E.write(j,Q,oe,Ce,52,8)}s.Buffer=A,s.SlowBuffer=A,s.INSPECT_MAX_BYTES=50,A.poolSize=8192,A._useTypedArrays=function(){try{var j=new ArrayBuffer(0),Q=new Uint8Array(j);return Q.foo=function(){return 42},Q.foo()===42&&typeof Q.subarray=="function"}catch{return!1}}(),A.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.isBuffer=function(j){return!(j==null||!j._isBuffer)},A.byteLength=function(j,Q){var oe;switch(j+="",Q||"utf8"){case"hex":oe=j.length/2;break;case"utf8":case"utf-8":oe=ae(j).length;break;case"ascii":case"binary":case"raw":oe=j.length;break;case"base64":oe=_e(j).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":oe=2*j.length;break;default:throw new Error("Unknown encoding")}return oe},A.concat=function(j,Q){if(xe(se(j),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),j.length===0)return new A(0);if(j.length===1)return j[0];if(typeof Q!="number")for(Se=Q=0;Se<j.length;Se++)Q+=j[Se].length;for(var oe=new A(Q),Ce=0,Se=0;Se<j.length;Se++){var W=j[Se];W.copy(oe,Ce),Ce+=W.length}return oe},A.prototype.write=function(j,Q,oe,Ce){isFinite(Q)?isFinite(oe)||(Ce=oe,oe=void 0):(Ge=Ce,Ce=Q,Q=oe,oe=Ge),Q=Number(Q)||0;var Se,W,ze,De,Ge=this.length-Q;switch((!oe||Ge<(oe=Number(oe)))&&(oe=Ge),Ce=String(Ce||"utf8").toLowerCase()){case"hex":Se=function(ve,at,Te,Z){Te=Number(Te)||0;var k=ve.length-Te;(!Z||k<(Z=Number(Z)))&&(Z=k),xe((k=at.length)%2==0,"Invalid hex string"),k/2<Z&&(Z=k/2);for(var me=0;me<Z;me++){var Be=parseInt(at.substr(2*me,2),16);xe(!isNaN(Be),"Invalid hex string"),ve[Te+me]=Be}return A._charsWritten=2*me,me}(this,j,Q,oe);break;case"utf8":case"utf-8":W=this,ze=Q,De=oe,Se=A._charsWritten=Ae(ae(j),W,ze,De);break;case"ascii":case"binary":Se=S(this,j,Q,oe);break;case"base64":W=this,ze=Q,De=oe,Se=A._charsWritten=Ae(_e(j),W,ze,De);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Se=B(this,j,Q,oe);break;default:throw new Error("Unknown encoding")}return Se},A.prototype.toString=function(j,Q,oe){var Ce,Se,W,ze,De=this;if(j=String(j||"utf8").toLowerCase(),Q=Number(Q)||0,(oe=oe!==void 0?Number(oe):De.length)===Q)return"";switch(j){case"hex":Ce=function(Ge,ve,at){var Te=Ge.length;(!ve||ve<0)&&(ve=0),(!at||at<0||Te<at)&&(at=Te);for(var Z="",k=ve;k<at;k++)Z+=X(Ge[k]);return Z}(De,Q,oe);break;case"utf8":case"utf-8":Ce=function(Ge,ve,at){var Te="",Z="";at=Math.min(Ge.length,at);for(var k=ve;k<at;k++)Ge[k]<=127?(Te+=ce(Z)+String.fromCharCode(Ge[k]),Z=""):Z+="%"+Ge[k].toString(16);return Te+ce(Z)}(De,Q,oe);break;case"ascii":case"binary":Ce=w(De,Q,oe);break;case"base64":Se=De,ze=oe,Ce=(W=Q)===0&&ze===Se.length?x.fromByteArray(Se):x.fromByteArray(Se.slice(W,ze));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Ce=function(Ge,ve,at){for(var Te=Ge.slice(ve,at),Z="",k=0;k<Te.length;k+=2)Z+=String.fromCharCode(Te[k]+256*Te[k+1]);return Z}(De,Q,oe);break;default:throw new Error("Unknown encoding")}return Ce},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},A.prototype.copy=function(j,Q,oe,Ce){if(Q=Q||0,(Ce=Ce||Ce===0?Ce:this.length)!==(oe=oe||0)&&j.length!==0&&this.length!==0){xe(oe<=Ce,"sourceEnd < sourceStart"),xe(0<=Q&&Q<j.length,"targetStart out of bounds"),xe(0<=oe&&oe<this.length,"sourceStart out of bounds"),xe(0<=Ce&&Ce<=this.length,"sourceEnd out of bounds"),Ce>this.length&&(Ce=this.length);var Se=(Ce=j.length-Q<Ce-oe?j.length-Q+oe:Ce)-oe;if(Se<100||!A._useTypedArrays)for(var W=0;W<Se;W++)j[W+Q]=this[W+oe];else j._set(this.subarray(oe,oe+Se),Q)}},A.prototype.slice=function(j,Q){var oe=this.length;if(j=q(j,oe,0),Q=q(Q,oe,oe),A._useTypedArrays)return A._augment(this.subarray(j,Q));for(var Ce=Q-j,Se=new A(Ce,void 0,!0),W=0;W<Ce;W++)Se[W]=this[W+j];return Se},A.prototype.get=function(j){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(j)},A.prototype.set=function(j,Q){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(j,Q)},A.prototype.readUInt8=function(j,Q){if(Q||(xe(j!=null,"missing offset"),xe(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return this[j]},A.prototype.readUInt16LE=function(j,Q){return R(this,j,!0,Q)},A.prototype.readUInt16BE=function(j,Q){return R(this,j,!1,Q)},A.prototype.readUInt32LE=function(j,Q){return N(this,j,!0,Q)},A.prototype.readUInt32BE=function(j,Q){return N(this,j,!1,Q)},A.prototype.readInt8=function(j,Q){if(Q||(xe(j!=null,"missing offset"),xe(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return 128&this[j]?-1*(255-this[j]+1):this[j]},A.prototype.readInt16LE=function(j,Q){return O(this,j,!0,Q)},A.prototype.readInt16BE=function(j,Q){return O(this,j,!1,Q)},A.prototype.readInt32LE=function(j,Q){return U(this,j,!0,Q)},A.prototype.readInt32BE=function(j,Q){return U(this,j,!1,Q)},A.prototype.readFloatLE=function(j,Q){return P(this,j,!0,Q)},A.prototype.readFloatBE=function(j,Q){return P(this,j,!1,Q)},A.prototype.readDoubleLE=function(j,Q){return L(this,j,!0,Q)},A.prototype.readDoubleBE=function(j,Q){return L(this,j,!1,Q)},A.prototype.writeUInt8=function(j,Q,oe){oe||(xe(j!=null,"missing value"),xe(Q!=null,"missing offset"),xe(Q<this.length,"trying to write beyond buffer length"),be(j,255)),Q>=this.length||(this[Q]=j)},A.prototype.writeUInt16LE=function(j,Q,oe){M(this,j,Q,!0,oe)},A.prototype.writeUInt16BE=function(j,Q,oe){M(this,j,Q,!1,oe)},A.prototype.writeUInt32LE=function(j,Q,oe){F(this,j,Q,!0,oe)},A.prototype.writeUInt32BE=function(j,Q,oe){F(this,j,Q,!1,oe)},A.prototype.writeInt8=function(j,Q,oe){oe||(xe(j!=null,"missing value"),xe(Q!=null,"missing offset"),xe(Q<this.length,"Trying to write beyond buffer length"),Ue(j,127,-128)),Q>=this.length||(0<=j?this.writeUInt8(j,Q,oe):this.writeUInt8(255+j+1,Q,oe))},A.prototype.writeInt16LE=function(j,Q,oe){G(this,j,Q,!0,oe)},A.prototype.writeInt16BE=function(j,Q,oe){G(this,j,Q,!1,oe)},A.prototype.writeInt32LE=function(j,Q,oe){J(this,j,Q,!0,oe)},A.prototype.writeInt32BE=function(j,Q,oe){J(this,j,Q,!1,oe)},A.prototype.writeFloatLE=function(j,Q,oe){ie(this,j,Q,!0,oe)},A.prototype.writeFloatBE=function(j,Q,oe){ie(this,j,Q,!1,oe)},A.prototype.writeDoubleLE=function(j,Q,oe){ne(this,j,Q,!0,oe)},A.prototype.writeDoubleBE=function(j,Q,oe){ne(this,j,Q,!1,oe)},A.prototype.fill=function(j,Q,oe){if(Q=Q||0,oe=oe||this.length,xe(typeof(j=typeof(j=j||0)=="string"?j.charCodeAt(0):j)=="number"&&!isNaN(j),"value is not a number"),xe(Q<=oe,"end < start"),oe!==Q&&this.length!==0){xe(0<=Q&&Q<this.length,"start out of bounds"),xe(0<=oe&&oe<=this.length,"end out of bounds");for(var Ce=Q;Ce<oe;Ce++)this[Ce]=j}},A.prototype.inspect=function(){for(var j=[],Q=this.length,oe=0;oe<Q;oe++)if(j[oe]=X(this[oe]),oe===s.INSPECT_MAX_BYTES){j[oe+1]="...";break}return"<Buffer "+j.join(" ")+">"},A.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(A._useTypedArrays)return new A(this).buffer;for(var j=new Uint8Array(this.length),Q=0,oe=j.length;Q<oe;Q+=1)j[Q]=this[Q];return j.buffer};var H=A.prototype;function q(j,Q,oe){return typeof j!="number"?oe:Q<=(j=~~j)?Q:0<=j||0<=(j+=Q)?j:0}function $(j){return(j=~~Math.ceil(+j))<0?0:j}function se(j){return(Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"})(j)}function X(j){return j<16?"0"+j.toString(16):j.toString(16)}function ae(j){for(var Q=[],oe=0;oe<j.length;oe++){var Ce=j.charCodeAt(oe);if(Ce<=127)Q.push(j.charCodeAt(oe));else for(var Se=oe,W=(55296<=Ce&&Ce<=57343&&oe++,encodeURIComponent(j.slice(Se,oe+1)).substr(1).split("%")),ze=0;ze<W.length;ze++)Q.push(parseInt(W[ze],16))}return Q}function _e(j){return x.toByteArray(j)}function Ae(j,Q,oe,Ce){for(var Se=0;Se<Ce&&!(Se+oe>=Q.length||Se>=j.length);Se++)Q[Se+oe]=j[Se];return Se}function ce(j){try{return decodeURIComponent(j)}catch{return"�"}}function be(j,Q){xe(typeof j=="number","cannot write a non-number as a number"),xe(0<=j,"specified a negative value for writing an unsigned value"),xe(j<=Q,"value is larger than maximum value for type"),xe(Math.floor(j)===j,"value has a fractional component")}function Ue(j,Q,oe){xe(typeof j=="number","cannot write a non-number as a number"),xe(j<=Q,"value larger than maximum allowed value"),xe(oe<=j,"value smaller than minimum allowed value"),xe(Math.floor(j)===j,"value has a fractional component")}function Qe(j,Q,oe){xe(typeof j=="number","cannot write a non-number as a number"),xe(j<=Q,"value larger than maximum allowed value"),xe(oe<=j,"value smaller than minimum allowed value")}function xe(j,Q){if(!j)throw new Error(Q||"Failed assertion")}A._augment=function(j){return j._isBuffer=!0,j._get=j.get,j._set=j.set,j.get=H.get,j.set=H.set,j.write=H.write,j.toString=H.toString,j.toLocaleString=H.toString,j.toJSON=H.toJSON,j.copy=H.copy,j.slice=H.slice,j.readUInt8=H.readUInt8,j.readUInt16LE=H.readUInt16LE,j.readUInt16BE=H.readUInt16BE,j.readUInt32LE=H.readUInt32LE,j.readUInt32BE=H.readUInt32BE,j.readInt8=H.readInt8,j.readInt16LE=H.readInt16LE,j.readInt16BE=H.readInt16BE,j.readInt32LE=H.readInt32LE,j.readInt32BE=H.readInt32BE,j.readFloatLE=H.readFloatLE,j.readFloatBE=H.readFloatBE,j.readDoubleLE=H.readDoubleLE,j.readDoubleBE=H.readDoubleBE,j.writeUInt8=H.writeUInt8,j.writeUInt16LE=H.writeUInt16LE,j.writeUInt16BE=H.writeUInt16BE,j.writeUInt32LE=H.writeUInt32LE,j.writeUInt32BE=H.writeUInt32BE,j.writeInt8=H.writeInt8,j.writeInt16LE=H.writeInt16LE,j.writeInt16BE=H.writeInt16BE,j.writeInt32LE=H.writeInt32LE,j.writeInt32BE=H.writeInt32BE,j.writeFloatLE=H.writeFloatLE,j.writeFloatBE=H.writeFloatBE,j.writeDoubleLE=H.writeDoubleLE,j.writeDoubleBE=H.writeDoubleBE,j.fill=H.fill,j.inspect=H.inspect,j.toArrayBuffer=H.toArrayBuffer,j}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,i,s){(function(r,a,x,u,d,m,g,y,b){var x=t("buffer").Buffer,E=4,A=new x(E);A.fill(0),i.exports={hash:function(S,B,w,R){for(var N=B(function(M,F){M.length%E!=0&&(G=M.length+(E-M.length%E),M=x.concat([M,A],G));for(var G,J=[],ie=F?M.readInt32BE:M.readInt32LE,ne=0;ne<M.length;ne+=E)J.push(ie.call(M,ne));return J}(S=x.isBuffer(S)?S:new x(S),R),8*S.length),B=R,O=new x(w),U=B?O.writeInt32BE:O.writeInt32LE,P=0;P<N.length;P++)U.call(O,N[P],4*P,!0);return O}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,i,s){(function(r,a,x,u,d,m,g,y,b){var x=t("buffer").Buffer,E=t("./sha"),A=t("./sha256"),S=t("./rng"),B={sha1:E,sha256:A,md5:t("./md5")},w=64,R=new x(w);function N(M,F){var G=B[M=M||"sha1"],J=[];return G||O("algorithm:",M,"is not yet supported"),{update:function(ie){return x.isBuffer(ie)||(ie=new x(ie)),J.push(ie),ie.length,this},digest:function(ie){var ne=x.concat(J),ne=F?function(H,q,$){x.isBuffer(q)||(q=new x(q)),x.isBuffer($)||($=new x($)),q.length>w?q=H(q):q.length<w&&(q=x.concat([q,R],w));for(var se=new x(w),X=new x(w),ae=0;ae<w;ae++)se[ae]=54^q[ae],X[ae]=92^q[ae];return $=H(x.concat([se,$])),H(x.concat([X,$]))}(G,F,ne):G(ne);return J=null,ie?ne.toString(ie):ne}}}function O(){var M=[].slice.call(arguments).join(" ");throw new Error([M,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}R.fill(0),s.createHash=function(M){return N(M)},s.createHmac=N,s.randomBytes=function(M,F){if(!F||!F.call)return new x(S(M));try{F.call(this,void 0,new x(S(M)))}catch(G){F(G)}};var U,P=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],L=function(M){s[M]=function(){O("sorry,",M,"is not implemented yet")}};for(U in P)L(P[U])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){var x=t("./helpers");function E(O,U){O[U>>5]|=128<<U%32,O[14+(U+64>>>9<<4)]=U;for(var P=1732584193,L=-271733879,M=-1732584194,F=271733878,G=0;G<O.length;G+=16){var J=P,ie=L,ne=M,H=F,P=S(P,L,M,F,O[G+0],7,-680876936),F=S(F,P,L,M,O[G+1],12,-389564586),M=S(M,F,P,L,O[G+2],17,606105819),L=S(L,M,F,P,O[G+3],22,-1044525330);P=S(P,L,M,F,O[G+4],7,-176418897),F=S(F,P,L,M,O[G+5],12,1200080426),M=S(M,F,P,L,O[G+6],17,-1473231341),L=S(L,M,F,P,O[G+7],22,-45705983),P=S(P,L,M,F,O[G+8],7,1770035416),F=S(F,P,L,M,O[G+9],12,-1958414417),M=S(M,F,P,L,O[G+10],17,-42063),L=S(L,M,F,P,O[G+11],22,-1990404162),P=S(P,L,M,F,O[G+12],7,1804603682),F=S(F,P,L,M,O[G+13],12,-40341101),M=S(M,F,P,L,O[G+14],17,-1502002290),P=B(P,L=S(L,M,F,P,O[G+15],22,1236535329),M,F,O[G+1],5,-165796510),F=B(F,P,L,M,O[G+6],9,-1069501632),M=B(M,F,P,L,O[G+11],14,643717713),L=B(L,M,F,P,O[G+0],20,-373897302),P=B(P,L,M,F,O[G+5],5,-701558691),F=B(F,P,L,M,O[G+10],9,38016083),M=B(M,F,P,L,O[G+15],14,-660478335),L=B(L,M,F,P,O[G+4],20,-405537848),P=B(P,L,M,F,O[G+9],5,568446438),F=B(F,P,L,M,O[G+14],9,-1019803690),M=B(M,F,P,L,O[G+3],14,-187363961),L=B(L,M,F,P,O[G+8],20,1163531501),P=B(P,L,M,F,O[G+13],5,-1444681467),F=B(F,P,L,M,O[G+2],9,-51403784),M=B(M,F,P,L,O[G+7],14,1735328473),P=w(P,L=B(L,M,F,P,O[G+12],20,-1926607734),M,F,O[G+5],4,-378558),F=w(F,P,L,M,O[G+8],11,-2022574463),M=w(M,F,P,L,O[G+11],16,1839030562),L=w(L,M,F,P,O[G+14],23,-35309556),P=w(P,L,M,F,O[G+1],4,-1530992060),F=w(F,P,L,M,O[G+4],11,1272893353),M=w(M,F,P,L,O[G+7],16,-155497632),L=w(L,M,F,P,O[G+10],23,-1094730640),P=w(P,L,M,F,O[G+13],4,681279174),F=w(F,P,L,M,O[G+0],11,-358537222),M=w(M,F,P,L,O[G+3],16,-722521979),L=w(L,M,F,P,O[G+6],23,76029189),P=w(P,L,M,F,O[G+9],4,-640364487),F=w(F,P,L,M,O[G+12],11,-421815835),M=w(M,F,P,L,O[G+15],16,530742520),P=R(P,L=w(L,M,F,P,O[G+2],23,-995338651),M,F,O[G+0],6,-198630844),F=R(F,P,L,M,O[G+7],10,1126891415),M=R(M,F,P,L,O[G+14],15,-1416354905),L=R(L,M,F,P,O[G+5],21,-57434055),P=R(P,L,M,F,O[G+12],6,1700485571),F=R(F,P,L,M,O[G+3],10,-1894986606),M=R(M,F,P,L,O[G+10],15,-1051523),L=R(L,M,F,P,O[G+1],21,-2054922799),P=R(P,L,M,F,O[G+8],6,1873313359),F=R(F,P,L,M,O[G+15],10,-30611744),M=R(M,F,P,L,O[G+6],15,-1560198380),L=R(L,M,F,P,O[G+13],21,1309151649),P=R(P,L,M,F,O[G+4],6,-145523070),F=R(F,P,L,M,O[G+11],10,-1120210379),M=R(M,F,P,L,O[G+2],15,718787259),L=R(L,M,F,P,O[G+9],21,-343485551),P=N(P,J),L=N(L,ie),M=N(M,ne),F=N(F,H)}return Array(P,L,M,F)}function A(O,U,P,L,M,F){return N((U=N(N(U,O),N(L,F)))<<M|U>>>32-M,P)}function S(O,U,P,L,M,F,G){return A(U&P|~U&L,O,U,M,F,G)}function B(O,U,P,L,M,F,G){return A(U&L|P&~L,O,U,M,F,G)}function w(O,U,P,L,M,F,G){return A(U^P^L,O,U,M,F,G)}function R(O,U,P,L,M,F,G){return A(P^(U|~L),O,U,M,F,G)}function N(O,U){var P=(65535&O)+(65535&U);return(O>>16)+(U>>16)+(P>>16)<<16|65535&P}i.exports=function(O){return x.hash(O,E,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){i.exports=function(x){for(var E,A=new Array(x),S=0;S<x;S++)(3&S)==0&&(E=4294967296*Math.random()),A[S]=E>>>((3&S)<<3)&255;return A}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){var x=t("./helpers");function E(B,w){B[w>>5]|=128<<24-w%32,B[15+(w+64>>9<<4)]=w;for(var R,N,O,U=Array(80),P=1732584193,L=-271733879,M=-1732584194,F=271733878,G=-1009589776,J=0;J<B.length;J+=16){for(var ie=P,ne=L,H=M,q=F,$=G,se=0;se<80;se++){U[se]=se<16?B[J+se]:S(U[se-3]^U[se-8]^U[se-14]^U[se-16],1);var X=A(A(S(P,5),(X=L,N=M,O=F,(R=se)<20?X&N|~X&O:!(R<40)&&R<60?X&N|X&O|N&O:X^N^O)),A(A(G,U[se]),(R=se)<20?1518500249:R<40?1859775393:R<60?-1894007588:-899497514)),G=F,F=M,M=S(L,30),L=P,P=X}P=A(P,ie),L=A(L,ne),M=A(M,H),F=A(F,q),G=A(G,$)}return Array(P,L,M,F,G)}function A(B,w){var R=(65535&B)+(65535&w);return(B>>16)+(w>>16)+(R>>16)<<16|65535&R}function S(B,w){return B<<w|B>>>32-w}i.exports=function(B){return x.hash(B,E,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){function x(w,R){var N=(65535&w)+(65535&R);return(w>>16)+(R>>16)+(N>>16)<<16|65535&N}function E(w,R){var N,O=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),U=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),P=new Array(64);w[R>>5]|=128<<24-R%32,w[15+(R+64>>9<<4)]=R;for(var L,M,F=0;F<w.length;F+=16){for(var G=U[0],J=U[1],ie=U[2],ne=U[3],H=U[4],q=U[5],$=U[6],se=U[7],X=0;X<64;X++)P[X]=X<16?w[X+F]:x(x(x((M=P[X-2],S(M,17)^S(M,19)^B(M,10)),P[X-7]),(M=P[X-15],S(M,7)^S(M,18)^B(M,3))),P[X-16]),N=x(x(x(x(se,S(M=H,6)^S(M,11)^S(M,25)),H&q^~H&$),O[X]),P[X]),L=x(S(L=G,2)^S(L,13)^S(L,22),G&J^G&ie^J&ie),se=$,$=q,q=H,H=x(ne,N),ne=ie,ie=J,J=G,G=x(N,L);U[0]=x(G,U[0]),U[1]=x(J,U[1]),U[2]=x(ie,U[2]),U[3]=x(ne,U[3]),U[4]=x(H,U[4]),U[5]=x(q,U[5]),U[6]=x($,U[6]),U[7]=x(se,U[7])}return U}var A=t("./helpers"),S=function(w,R){return w>>>R|w<<32-R},B=function(w,R){return w>>>R};i.exports=function(w){return A.hash(w,E,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){s.read=function(x,E,A,S,F){var w,R,N=8*F-S-1,O=(1<<N)-1,U=O>>1,P=-7,L=A?F-1:0,M=A?-1:1,F=x[E+L];for(L+=M,w=F&(1<<-P)-1,F>>=-P,P+=N;0<P;w=256*w+x[E+L],L+=M,P-=8);for(R=w&(1<<-P)-1,w>>=-P,P+=S;0<P;R=256*R+x[E+L],L+=M,P-=8);if(w===0)w=1-U;else{if(w===O)return R?NaN:1/0*(F?-1:1);R+=Math.pow(2,S),w-=U}return(F?-1:1)*R*Math.pow(2,w-S)},s.write=function(x,E,A,S,B,G){var R,N,O=8*G-B-1,U=(1<<O)-1,P=U>>1,L=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=S?0:G-1,F=S?1:-1,G=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(N=isNaN(E)?1:0,R=U):(R=Math.floor(Math.log(E)/Math.LN2),E*(S=Math.pow(2,-R))<1&&(R--,S*=2),2<=(E+=1<=R+P?L/S:L*Math.pow(2,1-P))*S&&(R++,S/=2),U<=R+P?(N=0,R=U):1<=R+P?(N=(E*S-1)*Math.pow(2,B),R+=P):(N=E*Math.pow(2,P-1)*Math.pow(2,B),R=0));8<=B;x[A+M]=255&N,M+=F,N/=256,B-=8);for(R=R<<B|N,O+=B;0<O;x[A+M]=255&R,M+=F,R/=256,O-=8);x[A+M-F]|=128*G}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,i,s){(function(r,a,l,u,d,m,g,y,b){var x,E,A;function S(){}(r=i.exports={}).nextTick=(E=typeof window<"u"&&window.setImmediate,A=typeof window<"u"&&window.postMessage&&window.addEventListener,E?function(B){return window.setImmediate(B)}:A?(x=[],window.addEventListener("message",function(B){var w=B.source;w!==window&&w!==null||B.data!=="process-tick"||(B.stopPropagation(),0<x.length&&x.shift()())},!0),function(B){x.push(B),window.postMessage("process-tick","*")}):function(B){setTimeout(B,0)}),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=S,r.addListener=S,r.once=S,r.off=S,r.removeListener=S,r.removeAllListeners=S,r.emit=S,r.binding=function(B){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(B){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(RM)),RM.exports}var WJ=jJ();const XJ=K0(WJ),R0=()=>"/TI-Stats/",FC=n=>(console.log(n),XJ({date:n.date,players:n.playedFactions.map(e=>e.player).sort(),factions:n.playedFactions.map(e=>e.faction).sort()}));async function YJ(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map(s=>s.toString(16).padStart(2,"0")).join("")}async function qJ(n,e){await XR(D1(I1,`campaigns/${n}/players/${e.name}`),e)}async function xS(n){const e=await qR(`campaigns/${n}/players`,[]);return e?Object.values(e):[]}async function KJ(n,e){await XR(D1(I1,`campaigns/${n}/games/${FC(e)}`),e)}async function SS(n){const e=await qR(`campaigns/${n}/games`,[]);return console.log("gamedict:",e),e?Object.values(e):[]}async function JJ(n){await XR(D1(I1,`campaignInfos/${n.id}`),n)}async function QJ(n){return await qR(`campaignInfos/${n}`,null)}async function qR(n,e){const t=await DJ(D1(I1,n));return t.exists()?t.val():e}const ZJ=({availablePlayers:n,availableFactions:e,chosenPlayer:t,setPlayer:i,chosenFaction:s,setFaction:r})=>he.jsxs(Rs,{sx:{display:"flex"},children:[he.jsx(kS,{options:n,value:t,onChange:(a,l)=>i(l||""),renderInput:a=>he.jsx(Wf,{...a,label:"Player",variant:"outlined",size:"small"}),sx:{width:200}}),he.jsx(kS,{options:e,value:s,onChange:(a,l)=>r(l||""),renderInput:a=>he.jsx(Wf,{...a,label:"Faction",variant:"outlined",size:"small"}),sx:{width:250}})]}),$J=({campaignId:n,availableFactions:e,gameAddedCallback:t})=>{const[i,s]=K.useState([]),[r,a]=K.useState([]),[l,u]=K.useState(""),[d,m]=K.useState(""),[g,y]=K.useState(3),[b,x]=K.useState([{player:"",faction:""},{player:"",faction:""},{player:"",faction:""}]),E=(w,R,N)=>{const O=[...b];O[w][R]=N,x(O)};K.useEffect(()=>{SS(n).then(w=>s(w)),xS(n).then(w=>a(w))},[n]);const A=async()=>{s(await SS(n));const w=FC({date:l,playedFactions:[],winnersName:d});if(i!=null&&i.map(N=>FC(N)).includes(w))return;u(""),m(""),y(3),x([{player:"",faction:""},{player:"",faction:""},{player:"",faction:""}]),await KJ(n,{date:l,playedFactions:b,winnersName:d}),SS(n).then(N=>s(N.sort((O,U)=>new Date(O.date).getTime()-new Date(U.date).getTime()))),t()},S=w=>{x(R=>{const N=w-R.length;if(N<=0)return R.slice(0,Math.max(3,w));const O=Array.from({length:N},()=>({player:"",faction:""}));return[...R,...O]}),y(w)},B=()=>l&&d&&b.every(w=>w.player&&w.faction);return he.jsxs(Rs,{sx:{display:"flex",gap:4,padding:2,alignItems:"flex-start",flexWrap:"wrap"},children:[he.jsxs(Rs,{sx:{display:"flex",flexDirection:"column",gap:2,maxWidth:"350px"},children:[he.jsx(Wf,{label:"Game Date",type:"date",variant:"outlined",value:l,onChange:w=>u(w.target.value),size:"small",slotProps:{inputLabel:{shrink:!0}},sx:{maxWidth:"3500px"}}),he.jsx(kS,{options:r.map(w=>w.name),value:d,onChange:(w,R)=>m(R||""),renderInput:w=>he.jsx(Wf,{...w,label:"Winner",variant:"outlined",size:"small"})}),he.jsx(kS,{options:["3","4","5","6","7","8"],value:g.toString(),onChange:(w,R)=>S(R?parseInt(R):3),renderInput:w=>he.jsx(Wf,{...w,label:"Number of players",variant:"outlined",size:"small"})}),he.jsx(vC,{}),he.jsx(Rs,{children:Array.from({length:g}).map((w,R)=>he.jsx(ZJ,{availablePlayers:r.map(N=>N.name).filter(N=>!b.map(O=>O.player).includes(N)),availableFactions:e.filter(N=>!b.map(O=>O.faction).includes(N)),chosenPlayer:b[R].player,setPlayer:N=>E(R,"player",N),chosenFaction:b[R].faction,setFaction:N=>E(R,"faction",N)},R))}),he.jsx(lR,{variant:"contained",onClick:A,disabled:!B(),children:"Add Game"})]}),he.jsxs(Rg,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",minWidth:"200px",height:"200px",overflowY:"auto"},children:[he.jsx(to,{variant:"h6",gutterBottom:!0,children:"Games"}),i.length===0?he.jsx(to,{variant:"body2",color:"text.secondary",children:"No games added yet."}):i.map((w,R)=>he.jsxs(to,{variant:"body1",children:["• ",w.date]},R))]})]})},eQ=({campaignId:n})=>{const[e,t]=K.useState(""),[i,s]=K.useState([]);K.useEffect(()=>{xS(n).then(a=>s(a)),console.log("Fetched players")},[n]);const r=async()=>{s(await xS(n));const a=e.trim(),l={name:a};!a||i!=null&&i.map(u=>u.name).includes(a)||(await qJ(n,l),t(""),xS(n).then(u=>s(u)))};return he.jsxs(Rs,{sx:{display:"flex",gap:4,padding:2,alignItems:"flex-start",flexWrap:"wrap"},children:[he.jsxs(Rs,{sx:{display:"flex",flexDirection:"column",gap:2,width:"250px"},children:[he.jsx(Wf,{label:"Player Name",variant:"outlined",value:e,onChange:a=>t(a.target.value),size:"small"}),he.jsx(lR,{variant:"contained",onClick:r,disabled:!e.trim(),children:"Add Player"})]}),he.jsxs(Rg,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",minWidth:"200px",overflowY:"auto"},children:[he.jsx(to,{variant:"h6",gutterBottom:!0,children:"Players"}),i.length===0?he.jsx(to,{variant:"body2",color:"text.secondary",children:"No players added yet."}):i.map((a,l)=>he.jsxs(to,{variant:"body1",children:["• ",a.name]},l))]})]})},tQ=()=>he.jsx(he.Fragment,{children:he.jsx("h2",{children:"COMING SOON..."})}),NF=({children:n,sx:e})=>he.jsx(Rs,{sx:{width:"50vw",minWidth:"385px",minHeight:"640px",borderRadius:5,display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"rgba(37, 77, 110,0.8)",overflowY:"auto",boxShadow:"0 0 15px rgba(0,0,0,0.5)",color:"white",padding:"30px","@media (min-width:1100px)":{width:"60vw"},"@media (min-width:1300px)":{width:"65vw"},"@media (min-width:1500px)":{width:"70vw"},"@media (min-width:1800px)":{width:"75vw"},"@media (min-width:2200px)":{width:"80vw"},...e},children:n}),mx=80,BM=({number:n,title:e,color:t,onClick:i})=>he.jsx(Rs,{component:"div",onClick:i,sx:{width:mx,height:1.23*mx,background:t,color:"white",borderTopLeftRadius:11,clipPath:"polygon(0% 0%, 90% 0%, 100% 12%, 100% 11%,57% 100%, 0% 100%, 0% 90%, 0% 10%)",padding:"5px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"30 30 30px rgba(255, 215, 0, 0.3)",transition:"transform 0.5s ease","&:hover":{transform:"translateX(45px)",cursor:"pointer"}},children:he.jsx(Rs,{sx:{width:mx-2,height:1.23*mx-2,backgroundImage:`url("${R0()}/images/strategy-card-bg.png")`,backgroundSize:"cover",backgroundPosition:"center",color:"white",borderTopLeftRadius:11,clipPath:"polygon(0% 0%, 90% 0%, 100% 12%, 100% 11%,57% 100%, 0% 100%, 0% 90%, 0% 10%)",display:"flex",flexDirection:"column"},children:he.jsxs(Rs,{sx:{marginRight:"11px"},children:[he.jsx(to,{variant:"h5",sx:{marginLeft:"55px",marginTop:"-2px"},children:n}),he.jsx(to,{fontSize:12,sx:{marginTop:"-2px"},children:e})]})})}),LF=K.createContext({});function nQ(n){const e=K.useRef(null);return e.current===null&&(e.current=n()),e.current}const KR=typeof window<"u",iQ=KR?K.useLayoutEffect:K.useEffect,JR=K.createContext(null);function QR(n,e){n.indexOf(e)===-1&&n.push(e)}function ZR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Du=(n,e,t)=>t>e?e:t<n?n:t;let $R=()=>{};const Iu={},PF=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function UF(n){return typeof n=="object"&&n!==null}const FF=n=>/^0[^.\s]+$/u.test(n);function e2(n){let e;return()=>(e===void 0&&(e=n()),e)}const zo=n=>n,sQ=(n,e)=>t=>e(n(t)),h_=(...n)=>n.reduce(sQ),B0=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class t2{constructor(){this.subscriptions=[]}add(e){return QR(this.subscriptions,e),()=>ZR(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ac=n=>n*1e3,Ec=n=>n/1e3;function zF(n,e){return e?n*(1e3/e):0}const HF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,rQ=1e-7,aQ=12;function oQ(n,e,t,i,s){let r,a,l=0;do a=e+(t-e)/2,r=HF(a,i,s)-n,r>0?t=a:e=a;while(Math.abs(r)>rQ&&++l<aQ);return a}function p_(n,e,t,i){if(n===e&&t===i)return zo;const s=r=>oQ(r,0,1,n,t);return r=>r===0||r===1?r:HF(s(r),e,i)}const GF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,kF=n=>e=>1-n(1-e),VF=p_(.33,1.53,.69,.99),n2=kF(VF),jF=GF(n2),WF=n=>(n*=2)<1?.5*n2(n):.5*(2-Math.pow(2,-10*(n-1))),i2=n=>1-Math.sin(Math.acos(n)),XF=kF(i2),YF=GF(i2),lQ=p_(.42,0,1,1),cQ=p_(0,0,.58,1),qF=p_(.42,0,.58,1),uQ=n=>Array.isArray(n)&&typeof n[0]!="number",KF=n=>Array.isArray(n)&&typeof n[0]=="number",fQ={linear:zo,easeIn:lQ,easeInOut:qF,easeOut:cQ,circIn:i2,circInOut:YF,circOut:XF,backIn:n2,backInOut:jF,backOut:VF,anticipate:WF},dQ=n=>typeof n=="string",xO=n=>{if(KF(n)){$R(n.length===4);const[e,t,i,s]=n;return p_(e,t,i,s)}else if(dQ(n))return fQ[n];return n},gx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],SO={value:null};function hQ(n,e){let t=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function d(g){a.has(g)&&(m.schedule(g),n()),u++,g(l)}const m={schedule:(g,y=!1,b=!1)=>{const E=b&&s?t:i;return y&&a.add(g),E.has(g)||E.add(g),g},cancel:g=>{i.delete(g),a.delete(g)},process:g=>{if(l=g,s){r=!0;return}s=!0,[t,i]=[i,t],t.forEach(d),e&&SO.value&&SO.value.frameloop[e].push(u),u=0,t.clear(),s=!1,r&&(r=!1,m.process(g))}};return m}const pQ=40;function JF(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=gx.reduce((w,R)=>(w[R]=hQ(r,e?R:void 0),w),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:m,update:g,preRender:y,render:b,postRender:x}=a,E=()=>{const w=Iu.useManualTiming?s.timestamp:performance.now();t=!1,Iu.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,pQ),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),m.process(s),g.process(s),y.process(s),b.process(s),x.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(E))},A=()=>{t=!0,i=!0,s.isProcessing||n(E)};return{schedule:gx.reduce((w,R)=>{const N=a[R];return w[R]=(O,U=!1,P=!1)=>(t||A(),N.schedule(O,U,P)),w},{}),cancel:w=>{for(let R=0;R<gx.length;R++)a[gx[R]].cancel(w)},state:s,steps:a}}const{schedule:Ji,cancel:td,state:mr,steps:DM}=JF(typeof requestAnimationFrame<"u"?requestAnimationFrame:zo,!0);let AS;function mQ(){AS=void 0}const Ca={now:()=>(AS===void 0&&Ca.set(mr.isProcessing||Iu.useManualTiming?mr.timestamp:performance.now()),AS),set:n=>{AS=n,queueMicrotask(mQ)}},QF=n=>e=>typeof e=="string"&&e.startsWith(n),s2=QF("--"),gQ=QF("var(--"),r2=n=>gQ(n)?yQ.test(n.split("/*")[0].trim()):!1,yQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ug={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},D0={...Ug,transform:n=>Du(0,1,n)},yx={...Ug,default:1},Qv=n=>Math.round(n*1e5)/1e5,a2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vQ(n){return n==null}const _Q=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o2=(n,e)=>t=>!!(typeof t=="string"&&_Q.test(t)&&t.startsWith(n)||e&&!vQ(t)&&Object.prototype.hasOwnProperty.call(t,e)),ZF=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,a,l]=i.match(a2);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},bQ=n=>Du(0,255,n),IM={...Ug,transform:n=>Math.round(bQ(n))},Ih={test:o2("rgb","red"),parse:ZF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+IM.transform(n)+", "+IM.transform(e)+", "+IM.transform(t)+", "+Qv(D0.transform(i))+")"};function xQ(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const zC={test:o2("#"),parse:xQ,transform:Ih.transform},m_=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Hf=m_("deg"),Mc=m_("%"),$t=m_("px"),SQ=m_("vh"),AQ=m_("vw"),AO={...Mc,parse:n=>Mc.parse(n)/100,transform:n=>Mc.transform(n*100)},Hm={test:o2("hsl","hue"),parse:ZF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Mc.transform(Qv(e))+", "+Mc.transform(Qv(t))+", "+Qv(D0.transform(i))+")"},Nr={test:n=>Ih.test(n)||zC.test(n)||Hm.test(n),parse:n=>Ih.test(n)?Ih.parse(n):Hm.test(n)?Hm.parse(n):zC.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ih.transform(n):Hm.transform(n)},EQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MQ(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(a2))==null?void 0:e.length)||0)+(((t=n.match(EQ))==null?void 0:t.length)||0)>0}const $F="number",e4="color",TQ="var",CQ="var(",EO="${}",wQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function I0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=e.replace(wQ,u=>(Nr.test(u)?(i.color.push(r),s.push(e4),t.push(Nr.parse(u))):u.startsWith(CQ)?(i.var.push(r),s.push(TQ),t.push(u)):(i.number.push(r),s.push($F),t.push(parseFloat(u))),++r,EO)).split(EO);return{values:t,split:l,indexes:i,types:s}}function t4(n){return I0(n).values}function n4(n){const{split:e,types:t}=I0(n),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const l=t[a];l===$F?r+=Qv(s[a]):l===e4?r+=Nr.transform(s[a]):r+=s[a]}return r}}const RQ=n=>typeof n=="number"?0:n;function BQ(n){const e=t4(n);return n4(n)(e.map(RQ))}const nd={test:MQ,parse:t4,createTransformer:n4,getAnimatableNone:BQ};function OM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function DQ({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,a=0;if(!e)s=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;s=OM(u,l,n+1/3),r=OM(u,l,n),a=OM(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function aA(n,e){return t=>t>0?e:n}const qi=(n,e,t)=>n+(e-n)*t,NM=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},IQ=[zC,Ih,Hm],OQ=n=>IQ.find(e=>e.test(n));function MO(n){const e=OQ(n);if(!e)return!1;let t=e.parse(n);return e===Hm&&(t=DQ(t)),t}const TO=(n,e)=>{const t=MO(n),i=MO(e);if(!t||!i)return aA(n,e);const s={...t};return r=>(s.red=NM(t.red,i.red,r),s.green=NM(t.green,i.green,r),s.blue=NM(t.blue,i.blue,r),s.alpha=qi(t.alpha,i.alpha,r),Ih.transform(s))},HC=new Set(["none","hidden"]);function NQ(n,e){return HC.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function LQ(n,e){return t=>qi(n,e,t)}function l2(n){return typeof n=="number"?LQ:typeof n=="string"?r2(n)?aA:Nr.test(n)?TO:FQ:Array.isArray(n)?i4:typeof n=="object"?Nr.test(n)?TO:PQ:aA}function i4(n,e){const t=[...n],i=t.length,s=n.map((r,a)=>l2(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)t[a]=s[a](r);return t}}function PQ(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=l2(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function UQ(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=n.indexes[r][i[r]],l=n.values[a]??0;t[s]=l,i[r]++}return t}const FQ=(n,e)=>{const t=nd.createTransformer(e),i=I0(n),s=I0(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?HC.has(n)&&!s.values.length||HC.has(e)&&!i.values.length?NQ(n,e):h_(i4(UQ(i,s),s.values),t):aA(n,e)};function s4(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?qi(n,e,t):l2(n)(n,e)}const zQ=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ji.update(e,t),stop:()=>td(e),now:()=>mr.isProcessing?mr.timestamp:Ca.now()}},r4=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=n(r/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},oA=2e4;function c2(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<oA;)e+=t,i=n.next(e);return e>=oA?1/0:e}function HQ(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(c2(i),oA);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:Ec(s)}}const GQ=5;function a4(n,e,t){const i=Math.max(e-GQ,0);return zF(t-n(i),e-i)}const rs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CO=.001;function kQ({duration:n=rs.duration,bounce:e=rs.bounce,velocity:t=rs.velocity,mass:i=rs.mass}){let s,r,a=1-e;a=Du(rs.minDamping,rs.maxDamping,a),n=Du(rs.minDuration,rs.maxDuration,Ec(n)),a<1?(s=d=>{const m=d*a,g=m*n,y=m-t,b=GC(d,a),x=Math.exp(-g);return CO-y/b*x},r=d=>{const g=d*a*n,y=g*t+t,b=Math.pow(a,2)*Math.pow(d,2)*n,x=Math.exp(-g),E=GC(Math.pow(d,2),a);return(-s(d)+CO>0?-1:1)*((y-b)*x)/E}):(s=d=>{const m=Math.exp(-d*n),g=(d-t)*n+1;return-.001+m*g},r=d=>{const m=Math.exp(-d*n),g=(t-d)*(n*n);return m*g});const l=5/n,u=jQ(s,r,l);if(n=Ac(n),isNaN(u))return{stiffness:rs.stiffness,damping:rs.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:n}}}const VQ=12;function jQ(n,e,t){let i=t;for(let s=1;s<VQ;s++)i=i-n(i)/e(i);return i}function GC(n,e){return n*Math.sqrt(1-e*e)}const WQ=["duration","bounce"],XQ=["stiffness","damping","mass"];function wO(n,e){return e.some(t=>n[t]!==void 0)}function YQ(n){let e={velocity:rs.velocity,stiffness:rs.stiffness,damping:rs.damping,mass:rs.mass,isResolvedFromDuration:!1,...n};if(!wO(n,XQ)&&wO(n,WQ))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*Du(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:rs.mass,stiffness:s,damping:r}}else{const t=kQ(n);e={...e,...t,mass:rs.mass},e.isResolvedFromDuration=!0}return e}function lA(n=rs.visualDuration,e=rs.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=YQ({...t,velocity:-Ec(t.velocity||0)}),x=y||0,E=d/(2*Math.sqrt(u*m)),A=a-r,S=Ec(Math.sqrt(u/m)),B=Math.abs(A)<5;i||(i=B?rs.restSpeed.granular:rs.restSpeed.default),s||(s=B?rs.restDelta.granular:rs.restDelta.default);let w;if(E<1){const N=GC(S,E);w=O=>{const U=Math.exp(-E*S*O);return a-U*((x+E*S*A)/N*Math.sin(N*O)+A*Math.cos(N*O))}}else if(E===1)w=N=>a-Math.exp(-S*N)*(A+(x+S*A)*N);else{const N=S*Math.sqrt(E*E-1);w=O=>{const U=Math.exp(-E*S*O),P=Math.min(N*O,300);return a-U*((x+E*S*A)*Math.sinh(P)+N*A*Math.cosh(P))/N}}const R={calculatedDuration:b&&g||null,next:N=>{const O=w(N);if(b)l.done=N>=g;else{let U=N===0?x:0;E<1&&(U=N===0?Ac(x):a4(w,N,O));const P=Math.abs(U)<=i,L=Math.abs(a-O)<=s;l.done=P&&L}return l.value=l.done?a:O,l},toString:()=>{const N=Math.min(c2(R),oA),O=r4(U=>R.next(N*U).value,N,30);return N+"ms "+O},toTransition:()=>{}};return R}lA.applyToOptions=n=>{const e=HQ(n,100,lA);return n.ease=e.ease,n.duration=Ac(e.duration),n.type="keyframes",n};function kC({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},b=P=>l!==void 0&&P<l||u!==void 0&&P>u,x=P=>l===void 0?u:u===void 0||Math.abs(l-P)<Math.abs(u-P)?l:u;let E=t*e;const A=g+E,S=a===void 0?A:a(A);S!==A&&(E=S-g);const B=P=>-E*Math.exp(-P/i),w=P=>S+B(P),R=P=>{const L=B(P),M=w(P);y.done=Math.abs(L)<=d,y.value=y.done?S:M};let N,O;const U=P=>{b(y.value)&&(N=P,O=lA({keyframes:[y.value,x(y.value)],velocity:a4(w,P,y.value),damping:s,stiffness:r,restDelta:d,restSpeed:m}))};return U(0),{calculatedDuration:null,next:P=>{let L=!1;return!O&&N===void 0&&(L=!0,R(P),U(P)),N!==void 0&&P>=N?O.next(P-N):(!L&&R(P),y)}}}function qQ(n,e,t){const i=[],s=t||Iu.mix||s4,r=n.length-1;for(let a=0;a<r;a++){let l=s(n[a],n[a+1]);if(e){const u=Array.isArray(e)?e[a]||zo:e;l=h_(u,l)}i.push(l)}return i}function KQ(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if($R(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=qQ(e,i,s),u=l.length,d=m=>{if(a&&m<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=B0(n[g],n[g+1],m);return l[g](y)};return t?m=>d(Du(n[0],n[r-1],m)):d}function JQ(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=B0(0,e,i);n.push(qi(t,1,s))}}function QQ(n){const e=[0];return JQ(e,n.length-1),e}function ZQ(n,e){return n.map(t=>t*e)}function $Q(n,e){return n.map(()=>e||qF).splice(0,n.length-1)}function Zv({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=uQ(i)?i.map(xO):xO(i),r={done:!1,value:e[0]},a=ZQ(t&&t.length===e.length?t:QQ(e),n),l=KQ(a,e,{ease:Array.isArray(s)?s:$Q(e,s)});return{calculatedDuration:n,next:u=>(r.value=l(u),r.done=u>=n,r)}}const eZ=n=>n!==null;function u2(n,{repeat:e,repeatType:t="loop"},i,s=1){const r=n.filter(eZ),l=s<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const tZ={decay:kC,inertia:kC,tween:Zv,keyframes:Zv,spring:lA};function o4(n){typeof n.type=="string"&&(n.type=tZ[n.type])}class f2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const nZ=n=>n/100;class d2 extends f2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var i,s;if(t){const{motionValue:r}=this.options;r&&r.updatedAt!==Ca.now()&&this.tick(Ca.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;o4(e);const{type:t=Zv,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const u=t||Zv;u!==Zv&&typeof l[0]!="number"&&(this.mixKeyframes=h_(nZ,s4(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=c2(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:x,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,R=i;if(g){const P=Math.min(this.currentTime,s)/l;let L=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(y==="reverse"?(M=1-M,b&&(M-=b/l)):y==="mirror"&&(R=a)),w=Du(0,1,M)*l}const N=B?{done:!1,value:m[0]}:R.next(w);r&&(N.value=r(N.value));let{done:O}=N;!B&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return U&&x!==kC&&(N.value=u2(m,this.options,A,this.speed)),E&&E(N.value),U&&this.finish(),N}then(e,t){return this.finished.then(e,t)}get duration(){return Ec(this.calculatedDuration)}get time(){return Ec(this.currentTime)}set time(e){var t;e=Ac(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ca.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ec(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:e=zQ,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ca.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function iZ(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Oh=n=>n*180/Math.PI,VC=n=>{const e=Oh(Math.atan2(n[1],n[0]));return jC(e)},sZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:VC,rotateZ:VC,skewX:n=>Oh(Math.atan(n[1])),skewY:n=>Oh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jC=n=>(n=n%360,n<0&&(n+=360),n),RO=VC,BO=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),DO=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),rZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BO,scaleY:DO,scale:n=>(BO(n)+DO(n))/2,rotateX:n=>jC(Oh(Math.atan2(n[6],n[5]))),rotateY:n=>jC(Oh(Math.atan2(-n[2],n[0]))),rotateZ:RO,rotate:RO,skewX:n=>Oh(Math.atan(n[4])),skewY:n=>Oh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function WC(n){return n.includes("scale")?1:0}function XC(n,e){if(!n||n==="none")return WC(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=rZ,s=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=sZ,s=l}if(!s)return WC(e);const r=i[e],a=s[1].split(",").map(oZ);return typeof r=="function"?r(a):a[r]}const aZ=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return XC(t,e)};function oZ(n){return parseFloat(n.trim())}const Fg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zg=new Set(Fg),IO=n=>n===Ug||n===$t,lZ=new Set(["x","y","z"]),cZ=Fg.filter(n=>!lZ.has(n));function uZ(n){const e=[];return cZ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Gh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>XC(e,"x"),y:(n,{transform:e})=>XC(e,"y")};Gh.translateX=Gh.x;Gh.translateY=Gh.y;const kh=new Set;let YC=!1,qC=!1,KC=!1;function l4(){if(qC){const n=Array.from(kh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=uZ(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,a])=>{var l;(l=i.getValue(r))==null||l.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}qC=!1,YC=!1,kh.forEach(n=>n.complete(KC)),kh.clear()}function c4(){kh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qC=!0)})}function fZ(){KC=!0,c4(),l4(),KC=!1}class h2{constructor(e,t,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(kh.add(this),YC||(YC=!0,Ji.read(c4),Ji.resolveKeyframes(l4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const r=s==null?void 0:s.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&r===void 0&&s.set(e[0])}iZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),kh.delete(this)}cancel(){this.state==="scheduled"&&(kh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dZ=n=>n.startsWith("--");function hZ(n,e,t){dZ(e)?n.style.setProperty(e,t):n.style[e]=t}const pZ=e2(()=>window.ScrollTimeline!==void 0),mZ={};function gZ(n,e){const t=e2(n);return()=>mZ[e]??t()}const u4=gZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lv=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,OO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lv([0,.65,.55,1]),circOut:Lv([.55,0,1,.45]),backIn:Lv([.31,.01,.66,-.59]),backOut:Lv([.33,1.53,.69,.99])};function f4(n,e){if(n)return typeof n=="function"?u4()?r4(n,e):"ease-out":KF(n)?Lv(n):Array.isArray(n)?n.map(t=>f4(t,e)||OO.easeOut):OO[n]}function yZ(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:l="easeOut",times:u}={},d=void 0){const m={[e]:t};u&&(m.offset=u);const g=f4(l,s);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),n.animate(m,y)}function d4(n){return typeof n=="function"&&"applyToOptions"in n}function vZ({type:n,...e}){return d4(n)&&u4()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _Z extends f2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,$R(typeof e.type!="string");const d=vZ(e);this.animation=yZ(t,i,s,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=u2(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):hZ(t,i,m),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Ec(Number(e))}get time(){return Ec(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ac(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pZ()?(this.animation.timeline=e,zo):t(this)}}const h4={anticipate:WF,backInOut:jF,circInOut:YF};function bZ(n){return n in h4}function xZ(n){typeof n.ease=="string"&&bZ(n.ease)&&(n.ease=h4[n.ease])}const NO=10;class SZ extends _Z{constructor(e){xZ(e),o4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new d2({...a,autoplay:!1}),u=Ac(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-NO).value,l.sample(u).value,NO),l.stop()}}const LO=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(nd.test(n)||n==="0")&&!n.startsWith("url("));function AZ(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function EZ(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=LO(s,e),l=LO(r,e);return!a||!l?!1:AZ(n)||(t==="spring"||d4(t))&&i}function p4(n){return UF(n)&&"offsetHeight"in n}const MZ=new Set(["opacity","clipPath","filter","transform"]),TZ=e2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CZ(n){var d;const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:r,type:a}=n;if(!p4((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return TZ()&&t&&MZ.has(t)&&(t!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const wZ=40;class RZ extends f2{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:l,name:u,motionValue:d,element:m,...g}){var x;super(),this.stop=()=>{var E,A;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Ca.now();const y={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:d,element:m,...g},b=(m==null?void 0:m.KeyframeResolver)||h2;this.keyframeResolver=new b(l,(E,A,S)=>this.onKeyframesResolved(E,A,y,!S),u,d,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:u,isHandoff:d,onUpdate:m}=i;this.resolvedAt=Ca.now(),EZ(e,r,a,l)||((Iu.instantAnimations||!u)&&(m==null||m(u2(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>wZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!d&&CZ(y)?new SZ({...y,element:y.motionValue.owner.current}):new d2(y);b.finished.then(()=>this.notifyFinished()).catch(zo),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fZ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const BZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DZ(n){const e=BZ.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function m4(n,e,t=1){const[i,s]=DZ(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return PF(a)?parseFloat(a):a}return r2(s)?m4(s,e,t+1):s}function p2(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const g4=new Set(["width","height","top","left","right","bottom",...Fg]),IZ={test:n=>n==="auto",parse:n=>n},y4=n=>e=>e.test(n),v4=[Ug,$t,Mc,Hf,AQ,SQ,IZ],PO=n=>v4.find(y4(n));function OZ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FF(n):!0}const NZ=new Set(["brightness","contrast","saturate","opacity"]);function LZ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(a2)||[];if(!i)return n;const s=t.replace(i,"");let r=NZ.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const PZ=/\b([a-z-]*)\(.*?\)/gu,JC={...nd,getAnimatableNone:n=>{const e=n.match(PZ);return e?e.map(LZ).join(" "):n}},UO={...Ug,transform:Math.round},UZ={rotate:Hf,rotateX:Hf,rotateY:Hf,rotateZ:Hf,scale:yx,scaleX:yx,scaleY:yx,scaleZ:yx,skew:Hf,skewX:Hf,skewY:Hf,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:D0,originX:AO,originY:AO,originZ:$t},m2={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t,...UZ,zIndex:UO,fillOpacity:D0,strokeOpacity:D0,numOctaves:UO},FZ={...m2,color:Nr,backgroundColor:Nr,outlineColor:Nr,fill:Nr,stroke:Nr,borderColor:Nr,borderTopColor:Nr,borderRightColor:Nr,borderBottomColor:Nr,borderLeftColor:Nr,filter:JC,WebkitFilter:JC},_4=n=>FZ[n];function b4(n,e){let t=_4(n);return t!==JC&&(t=nd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zZ=new Set(["auto","none","0"]);function HZ(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!zZ.has(r)&&I0(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=b4(t,s)}class GZ extends h2{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),r2(d))){const m=m4(d,t.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!g4.has(i)||e.length!==2)return;const[s,r]=e,a=PO(s),l=PO(r);if(a!==l)if(IO(a)&&IO(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Gh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||OZ(e[s]))&&i.push(s);i.length&&HZ(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Gh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function kZ(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(t==null?void 0:t[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const FO=30,VZ=n=>!isNaN(parseFloat(n));class jZ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var a,l;const r=Ca.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ca.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new t2);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ji.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FO)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,FO);return zF(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dg(n,e){return new jZ(n,e)}const x4=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:g2}=JF(queueMicrotask,!1),bl={x:!1,y:!1};function S4(){return bl.x||bl.y}function WZ(n){return n==="x"||n==="y"?bl[n]?null:(bl[n]=!0,()=>{bl[n]=!1}):bl.x||bl.y?null:(bl.x=bl.y=!0,()=>{bl.x=bl.y=!1})}function A4(n,e){const t=kZ(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function zO(n){return!(n.pointerType==="touch"||S4())}function XZ(n,e,t={}){const[i,s,r]=A4(n,t),a=l=>{if(!zO(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const m=g=>{zO(g)&&(d(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(l=>{l.addEventListener("pointerenter",a,s)}),r}const E4=(n,e)=>e?n===e?!0:E4(n,e.parentElement):!1,y2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,YZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qZ(n){return YZ.has(n.tagName)||n.tabIndex!==-1}const ES=new WeakSet;function HO(n){return e=>{e.key==="Enter"&&n(e)}}function LM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KZ=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=HO(()=>{if(ES.has(t))return;LM(t,"down");const s=HO(()=>{LM(t,"up")}),r=()=>LM(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function GO(n){return y2(n)&&!S4()}function JZ(n,e,t={}){const[i,s,r]=A4(n,t),a=l=>{const u=l.currentTarget;if(!GO(l))return;ES.add(u);const d=e(u,l),m=(b,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),ES.has(u)&&ES.delete(u),GO(b)&&typeof d=="function"&&d(b,{success:x})},g=b=>{m(b,u===window||u===document||t.useGlobalTarget||E4(u,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),p4(l)&&(l.addEventListener("focus",d=>KZ(d,s)),!qZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function M4(n){return UF(n)&&"ownerSVGElement"in n}function QZ(n){return M4(n)&&n.tagName==="svg"}const Ur=n=>!!(n&&n.getVelocity),ZZ=[...v4,Nr,nd],$Z=n=>ZZ.find(y4(n)),T4=K.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function e$(n=!0){const e=K.useContext(JR);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,r=K.useId();K.useEffect(()=>{if(n)return s(r)},[n]);const a=K.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,a]:[!0]}const C4=K.createContext({strict:!1}),kO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hg={};for(const n in kO)hg[n]={isEnabled:e=>kO[n].some(t=>!!e[t])};function t$(n){for(const e in n)hg[e]={...hg[e],...n[e]}}const n$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cA(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||n$.has(n)}let w4=n=>!cA(n);function i$(n){n&&(w4=e=>e.startsWith("on")?!cA(e):n(e))}try{i$(require("@emotion/is-prop-valid").default)}catch{}function s$(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(w4(s)||t===!0&&cA(s)||!e&&!cA(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function r$(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const O1=K.createContext({});function N1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function O0(n){return typeof n=="string"||Array.isArray(n)}const v2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_2=["initial",...v2];function L1(n){return N1(n.animate)||_2.some(e=>O0(n[e]))}function R4(n){return!!(L1(n)||n.variants)}function a$(n,e){if(L1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||O0(t)?t:void 0,animate:O0(i)?i:void 0}}return n.inherit!==!1?e:{}}function o$(n){const{initial:e,animate:t}=a$(n,K.useContext(O1));return K.useMemo(()=>({initial:e,animate:t}),[VO(e),VO(t)])}function VO(n){return Array.isArray(n)?n.join(" "):n}const l$=Symbol.for("motionComponentSymbol");function Gm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function c$(n,e,t){return K.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Gm(t)&&(t.current=i))},[e])}const b2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u$="framerAppearId",B4="data-"+b2(u$),D4=K.createContext({});function f$(n,e,t,i,s){var E,A;const{visualElement:r}=K.useContext(O1),a=K.useContext(C4),l=K.useContext(JR),u=K.useContext(T4).reducedMotion,d=K.useRef(null);i=i||a.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=d.current,g=K.useContext(D4);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&d$(d.current,t,s,g);const y=K.useRef(!1);K.useInsertionEffect(()=>{m&&y.current&&m.update(t,l)});const b=t[B4],x=K.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,b)));return iQ(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),g2.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),K.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,b)}),x.current=!1))}),m}function d$(n,e,t,i){const{layoutId:s,layout:r,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:I4(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||l&&Gm(l),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:u,layoutRoot:d})}function I4(n){if(n)return n.options.allowProjection!==!1?n.projection:I4(n.parent)}function h$({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){n&&t$(n);function r(l,u){let d;const m={...K.useContext(T4),...l,layoutId:p$(l)},{isStatic:g}=m,y=o$(l),b=i(l,g);if(!g&&KR){m$();const x=g$(m);d=x.MeasureLayout,y.visualElement=f$(s,b,m,e,x.ProjectionNode)}return he.jsxs(O1.Provider,{value:y,children:[d&&y.visualElement?he.jsx(d,{visualElement:y.visualElement,...m}):null,t(s,l,c$(b,y.visualElement,u),b,g,y.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=K.forwardRef(r);return a[l$]=s,a}function p$({layoutId:n}){const e=K.useContext(LF).id;return e&&n!==void 0?e+"-"+n:n}function m$(n,e){K.useContext(C4).strict}function g$(n){const{drag:e,layout:t}=hg;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const N0={};function y$(n){for(const e in n)N0[e]=n[e],s2(e)&&(N0[e].isCSSVariable=!0)}function O4(n,{layout:e,layoutId:t}){return zg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!N0[n]||n==="opacity")}const v$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_$=Fg.length;function b$(n,e,t){let i="",s=!0;for(let r=0;r<_$;r++){const a=Fg[r],l=n[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const d=x4(l,m2[a]);if(!u){s=!1;const m=v$[a]||a;i+=`${m}(${d}) `}t&&(e[a]=d)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function x2(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let a=!1,l=!1;for(const u in e){const d=e[u];if(zg.has(u)){a=!0;continue}else if(s2(u)){s[u]=d;continue}else{const m=x4(d,m2[u]);u.startsWith("origin")?(l=!0,r[u]=m):i[u]=m}}if(e.transform||(a||t?i.transform=b$(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:m=0}=r;i.transformOrigin=`${u} ${d} ${m}`}}const S2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N4(n,e,t){for(const i in e)!Ur(e[i])&&!O4(i,t)&&(n[i]=e[i])}function x$({transformTemplate:n},e){return K.useMemo(()=>{const t=S2();return x2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function S$(n,e){const t=n.style||{},i={};return N4(i,t,n),Object.assign(i,x$(n,e)),i}function A$(n,e){const t={},i=S$(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const E$={offset:"stroke-dashoffset",array:"stroke-dasharray"},M$={offset:"strokeDashoffset",array:"strokeDasharray"};function T$(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?E$:M$;n[r.offset]=$t.transform(-i);const a=$t.transform(e),l=$t.transform(t);n[r.array]=`${a} ${l}`}function L4(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...l},u,d,m){if(x2(n,l,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),s!==void 0&&T$(g,s,r,a,!1)}const P4=()=>({...S2(),attrs:{}}),U4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function C$(n,e,t,i){const s=K.useMemo(()=>{const r=P4();return L4(r,e,U4(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};N4(r,n.style,n),s.style={...r,...s.style}}return s}const w$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A2(n){return typeof n!="string"||n.includes("-")?!1:!!(w$.indexOf(n)>-1||/[A-Z]/u.test(n))}function R$(n=!1){return(t,i,s,{latestValues:r},a)=>{const u=(A2(t)?C$:A$)(i,r,a,t),d=s$(i,typeof t=="string",n),m=t!==K.Fragment?{...d,...u,ref:s}:{},{children:g}=i,y=K.useMemo(()=>Ur(g)?g.get():g,[g]);return K.createElement(t,{...m,children:y})}}function jO(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function E2(n,e,t,i){if(typeof e=="function"){const[s,r]=jO(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=jO(i);e=e(t!==void 0?t:n.custom,s,r)}return e}function MS(n){return Ur(n)?n.get():n}function B$({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:D$(t,i,s,n),renderState:e()}}const F4=n=>(e,t)=>{const i=K.useContext(O1),s=K.useContext(JR),r=()=>B$(n,e,i,s);return t?r():nQ(r)};function D$(n,e,t,i){const s={},r=i(n,{});for(const y in r)s[y]=MS(r[y]);let{initial:a,animate:l}=n;const u=L1(n),d=R4(n);e&&d&&!u&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?l:a;if(g&&typeof g!="boolean"&&!N1(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const x=E2(n,y[b]);if(x){const{transitionEnd:E,transition:A,...S}=x;for(const B in S){let w=S[B];if(Array.isArray(w)){const R=m?w.length-1:0;w=w[R]}w!==null&&(s[B]=w)}for(const B in E)s[B]=E[B]}}}return s}function M2(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Ur(i[a])||e.style&&Ur(e.style[a])||O4(a,n)||((r=t==null?void 0:t.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const I$={useVisualState:F4({scrapeMotionValuesFromProps:M2,createRenderState:S2})};function z4(n,e,t){const i=M2(n,e,t);for(const s in n)if(Ur(n[s])||Ur(e[s])){const r=Fg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const O$={useVisualState:F4({scrapeMotionValuesFromProps:z4,createRenderState:P4})};function N$(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...A2(i)?O$:I$,preloadedFeatures:n,useRender:R$(s),createVisualElement:e,Component:i};return h$(a)}}function L0(n,e,t){const i=n.getProps();return E2(i,e,t!==void 0?t:i.custom,n)}const QC=n=>Array.isArray(n);function L$(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,dg(t))}function P$(n){return QC(n)?n[n.length-1]||0:n}function U$(n,e){const t=L0(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const a in r){const l=P$(r[a]);L$(n,a,l)}}function F$(n){return!!(Ur(n)&&n.add)}function ZC(n,e){const t=n.getValue("willChange");if(F$(t))return t.add(e);if(!t&&Iu.WillChange){const i=new Iu.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function H4(n){return n.props[B4]}const z$=n=>n!==null;function H$(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(z$),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[r]}const G$={type:"spring",stiffness:500,damping:25,restSpeed:10},k$=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),V$={type:"keyframes",duration:.8},j$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W$=(n,{keyframes:e})=>e.length>2?V$:zg.has(n)?n.startsWith("scale")?k$(e[1]):G$:j$;function X$({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:l,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const T2=(n,e,t,i={},s,r)=>a=>{const l=p2(i,n)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Ac(u);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:r?void 0:s};X$(l)||Object.assign(m,W$(n,m)),m.duration&&(m.duration=Ac(m.duration)),m.repeatDelay&&(m.repeatDelay=Ac(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(Iu.instantAnimations||Iu.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!l.type&&!l.ease,g&&!r&&e.get()!==void 0){const y=H$(m.keyframes,l);if(y!==void 0){Ji.update(()=>{m.onUpdate(y),m.onComplete()});return}}return l.isSync?new d2(m):new RZ(m)};function Y$({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function G4(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(r=i);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const m in l){const g=n.getValue(m,n.latestValues[m]??null),y=l[m];if(y===void 0||d&&Y$(d,m))continue;const b={delay:t,...p2(r||{},m)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===x&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const S=H4(n);if(S){const B=window.MotionHandoffAnimation(S,m,Ji);B!==null&&(b.startTime=B,E=!0)}}ZC(n,m),g.start(T2(m,g,y,n.shouldReduceMotion&&g4.has(m)?{type:!1}:b,n,E));const A=g.animation;A&&u.push(A)}return a&&Promise.all(u).then(()=>{Ji.update(()=>{a&&U$(n,a)})}),u}function $C(n,e,t={}){var u;const i=L0(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const r=i?()=>Promise.all(G4(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=s;return q$(n,e,m+d,g,y,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,m]=l==="beforeChildren"?[r,a]:[a,r];return d().then(()=>m())}else return Promise.all([r(),a(t.delay)])}function q$(n,e,t=0,i=0,s=1,r){const a=[],l=(n.variantChildren.size-1)*i,u=s===1?(d=0)=>d*i:(d=0)=>l-d*i;return Array.from(n.variantChildren).sort(K$).forEach((d,m)=>{d.notify("AnimationStart",e),a.push($C(d,e,{...r,delay:t+u(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function K$(n,e){return n.sortNodePosition(e)}function J$(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>$C(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=$C(n,e,t);else{const s=typeof e=="function"?L0(n,e,t.custom):e;i=Promise.all(G4(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function k4(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Q$=_2.length;function V4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?V4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Q$;t++){const i=_2[t],s=n.props[i];(O0(s)||s===!1)&&(e[i]=s)}return e}const Z$=[...v2].reverse(),$$=v2.length;function eee(n){return e=>Promise.all(e.map(({animation:t,options:i})=>J$(n,t,i)))}function tee(n){let e=eee(n),t=WO(),i=!0;const s=u=>(d,m)=>{var y;const g=L0(n,m,u==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:b,transitionEnd:x,...E}=g;d={...d,...E,...x}}return d};function r(u){e=u(n)}function a(u){const{props:d}=n,m=V4(n.parent)||{},g=[],y=new Set;let b={},x=1/0;for(let A=0;A<$$;A++){const S=Z$[A],B=t[S],w=d[S]!==void 0?d[S]:m[S],R=O0(w),N=S===u?B.isActive:null;N===!1&&(x=A);let O=w===m[S]&&w!==d[S]&&R;if(O&&i&&n.manuallyAnimateOnMount&&(O=!1),B.protectedKeys={...b},!B.isActive&&N===null||!w&&!B.prevProp||N1(w)||typeof w=="boolean")continue;const U=nee(B.prevProp,w);let P=U||S===u&&B.isActive&&!O&&R||A>x&&R,L=!1;const M=Array.isArray(w)?w:[w];let F=M.reduce(s(S),{});N===!1&&(F={});const{prevResolvedValues:G={}}=B,J={...G,...F},ie=q=>{P=!0,y.has(q)&&(L=!0,y.delete(q)),B.needsAnimating[q]=!0;const $=n.getValue(q);$&&($.liveStyle=!1)};for(const q in J){const $=F[q],se=G[q];if(b.hasOwnProperty(q))continue;let X=!1;QC($)&&QC(se)?X=!k4($,se):X=$!==se,X?$!=null?ie(q):y.add(q):$!==void 0&&y.has(q)?ie(q):B.protectedKeys[q]=!0}B.prevProp=w,B.prevResolvedValues=F,B.isActive&&(b={...b,...F}),i&&n.blockInitialAnimation&&(P=!1),P&&(!(O&&U)||L)&&g.push(...M.map(q=>({animation:q,options:{type:S}})))}if(y.size){const A={};if(typeof d.initial!="boolean"){const S=L0(n,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(A.transition=S.transition)}y.forEach(S=>{const B=n.getBaseTarget(S),w=n.getValue(S);w&&(w.liveStyle=!0),A[S]=B??null}),g.push({animation:A})}let E=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(g):Promise.resolve()}function l(u,d){var g;if(t[u].isActive===d)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(u,d)}),t[u].isActive=d;const m=a(u);for(const y in t)t[y].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=WO(),i=!0}}}function nee(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!k4(e,n):!1}function sh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WO(){return{animate:sh(!0),whileInView:sh(),whileHover:sh(),whileTap:sh(),whileDrag:sh(),whileFocus:sh(),exit:sh()}}class ld{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iee extends ld{constructor(e){super(e),e.animationState||(e.animationState=tee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let see=0;class ree extends ld{constructor(){super(...arguments),this.id=see++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aee={animation:{Feature:iee},exit:{Feature:ree}};function P0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function g_(n){return{point:{x:n.pageX,y:n.pageY}}}const oee=n=>e=>y2(e)&&n(e,g_(e));function $v(n,e,t,i){return P0(n,e,oee(t),i)}function j4({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function lee({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function cee(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const W4=1e-4,uee=1-W4,fee=1+W4,X4=.01,dee=0-X4,hee=0+X4;function la(n){return n.max-n.min}function pee(n,e,t){return Math.abs(n-e)<=t}function XO(n,e,t,i=.5){n.origin=i,n.originPoint=qi(e.min,e.max,n.origin),n.scale=la(t)/la(e),n.translate=qi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=uee&&n.scale<=fee||isNaN(n.scale))&&(n.scale=1),(n.translate>=dee&&n.translate<=hee||isNaN(n.translate))&&(n.translate=0)}function e0(n,e,t,i){XO(n.x,e.x,t.x,i?i.originX:void 0),XO(n.y,e.y,t.y,i?i.originY:void 0)}function YO(n,e,t){n.min=t.min+e.min,n.max=n.min+la(e)}function mee(n,e,t){YO(n.x,e.x,t.x),YO(n.y,e.y,t.y)}function qO(n,e,t){n.min=e.min-t.min,n.max=n.min+la(e)}function t0(n,e,t){qO(n.x,e.x,t.x),qO(n.y,e.y,t.y)}const KO=()=>({translate:0,scale:1,origin:0,originPoint:0}),km=()=>({x:KO(),y:KO()}),JO=()=>({min:0,max:0}),hs=()=>({x:JO(),y:JO()});function Io(n){return[n("x"),n("y")]}function PM(n){return n===void 0||n===1}function ew({scale:n,scaleX:e,scaleY:t}){return!PM(n)||!PM(e)||!PM(t)}function Ah(n){return ew(n)||Y4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Y4(n){return QO(n.x)||QO(n.y)}function QO(n){return n&&n!=="0%"}function uA(n,e,t){const i=n-t,s=e*i;return t+s}function ZO(n,e,t,i,s){return s!==void 0&&(n=uA(n,s,i)),uA(n,t,i)+e}function tw(n,e=0,t=1,i,s){n.min=ZO(n.min,e,t,i,s),n.max=ZO(n.max,e,t,i,s)}function q4(n,{x:e,y:t}){tw(n.x,e.translate,e.scale,e.originPoint),tw(n.y,t.translate,t.scale,t.originPoint)}const $O=.999999999999,eN=1.0000000000001;function gee(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,a;for(let l=0;l<s;l++){r=t[l],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&jm(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,q4(n,a)),i&&Ah(r.latestValues)&&jm(n,r.latestValues))}e.x<eN&&e.x>$O&&(e.x=1),e.y<eN&&e.y>$O&&(e.y=1)}function Vm(n,e){n.min=n.min+e,n.max=n.max+e}function tN(n,e,t,i,s=.5){const r=qi(n.min,n.max,s);tw(n,e,t,r,i)}function jm(n,e){tN(n.x,e.x,e.scaleX,e.scale,e.originX),tN(n.y,e.y,e.scaleY,e.scale,e.originY)}function K4(n,e){return j4(cee(n.getBoundingClientRect(),e))}function yee(n,e,t){const i=K4(n,t),{scroll:s}=e;return s&&(Vm(i.x,s.offset.x),Vm(i.y,s.offset.y)),i}const J4=({current:n})=>n?n.ownerDocument.defaultView:null,nN=(n,e)=>Math.abs(n-e);function vee(n,e){const t=nN(n.x,e.x),i=nN(n.y,e.y);return Math.sqrt(t**2+i**2)}class Q4{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=FM(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=vee(g.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:x}=g,{timestamp:E}=mr;this.history.push({...x,timestamp:E});const{onStart:A,onMove:S}=this.handlers;y||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=UM(y,this.transformPagePoint),Ji.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=FM(g.type==="pointercancel"?this.lastMoveEventInfo:UM(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,A),x&&x(g,A)},!y2(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const a=g_(e),l=UM(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=mr;this.history=[{...u,timestamp:d}];const{onSessionStart:m}=t;m&&m(e,FM(l,this.history)),this.removeListeners=h_($v(this.contextWindow,"pointermove",this.handlePointerMove),$v(this.contextWindow,"pointerup",this.handlePointerUp),$v(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),td(this.updatePoint)}}function UM(n,e){return e?{point:e(n.point)}:n}function iN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function FM({point:n},e){return{point:n,delta:iN(n,Z4(e)),offset:iN(n,_ee(e)),velocity:bee(e,.1)}}function _ee(n){return n[0]}function Z4(n){return n[n.length-1]}function bee(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=Z4(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>Ac(e)));)t--;if(!i)return{x:0,y:0};const r=Ec(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function xee(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?qi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?qi(t,n,i.max):Math.min(n,t)),n}function sN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function See(n,{top:e,left:t,bottom:i,right:s}){return{x:sN(n.x,t,s),y:sN(n.y,e,i)}}function rN(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Aee(n,e){return{x:rN(n.x,e.x),y:rN(n.y,e.y)}}function Eee(n,e){let t=.5;const i=la(n),s=la(e);return s>i?t=B0(e.min,e.max-i,n.min):i>s&&(t=B0(n.min,n.max-s,e.min)),Du(0,1,t)}function Mee(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const nw=.35;function Tee(n=nw){return n===!1?n=0:n===!0&&(n=nw),{x:aN(n,"left","right"),y:aN(n,"top","bottom")}}function aN(n,e,t){return{min:oN(n,e),max:oN(n,t)}}function oN(n,e){return typeof n=="number"?n:n[e]||0}const Cee=new WeakMap;class wee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hs(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(g_(m).point)},r=(m,g)=>{const{drag:y,dragPropagation:b,onDragStart:x}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WZ(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Io(A=>{let S=this.getAxisMotionValue(A).get()||0;if(Mc.test(S)){const{projection:B}=this.visualElement;if(B&&B.layout){const w=B.layout.layoutBox[A];w&&(S=la(w)*(parseFloat(S)/100))}}this.originPoint[A]=S}),x&&Ji.postRender(()=>x(m,g)),ZC(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(b&&this.currentDirection===null){this.currentDirection=Ree(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),E&&E(m,g)},l=(m,g)=>this.stop(m,g),u=()=>Io(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Q4(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:J4(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Ji.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!vx(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=xee(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&Gm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=See(i.layoutBox,e):this.constraints=!1,this.elastic=Tee(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Io(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Mee(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Gm(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=yee(i,s.root,this.visualElement.getTransformPagePoint());let a=Aee(s.layout.layoutBox,r);if(t){const l=t(lee(a));this.hasMutatedConstraints=!!l,l&&(a=j4(l))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Io(m=>{if(!vx(m,t,this.currentDirection))return;let g=u&&u[m]||{};a&&(g={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,x={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return ZC(this.visualElement,e),i.start(T2(e,i,0,t,this.visualElement,!1))}stopAnimation(){Io(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Io(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Io(t=>{const{drag:i}=this.getProps();if(!vx(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];r.set(e[t]-qi(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Gm(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Io(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();s[a]=Eee({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Io(a=>{if(!vx(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(qi(u,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;Cee.set(this.visualElement,this);const e=this.visualElement.current,t=$v(e,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Gm(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ji.read(i);const a=P0(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Io(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=nw,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function vx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Ree(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Bee extends ld{constructor(e){super(e),this.removeGroupControls=zo,this.removeListeners=zo,this.controls=new wee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zo}unmount(){this.removeGroupControls(),this.removeListeners()}}const lN=n=>(e,t)=>{n&&Ji.postRender(()=>n(e,t))};class Dee extends ld{constructor(){super(...arguments),this.removePointerDownListener=zo}onPointerDown(e){this.session=new Q4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:lN(e),onStart:lN(t),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Ji.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=$v(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const TS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const vv={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if($t.test(n))n=parseFloat(n);else return n;const t=cN(n,e.target.x),i=cN(n,e.target.y);return`${t}% ${i}%`}},Iee={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=nd.parse(n);if(s.length>5)return i;const r=nd.createTransformer(n),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=u;const d=qi(l,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),r(s)}};class Oee extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;y$(Nee),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),TS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Ji.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $4(n){const[e,t]=e$(),i=K.useContext(LF);return he.jsx(Oee,{...n,layoutGroup:i,switchLayoutGroup:K.useContext(D4),isPresent:e,safeToRemove:t})}const Nee={borderRadius:{...vv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vv,borderTopRightRadius:vv,borderBottomLeftRadius:vv,borderBottomRightRadius:vv,boxShadow:Iee};function Lee(n,e,t){const i=Ur(n)?n:dg(n);return i.start(T2("",i,e,t)),i.animation}const Pee=(n,e)=>n.depth-e.depth;class Uee{constructor(){this.children=[],this.isDirty=!1}add(e){QR(this.children,e),this.isDirty=!0}remove(e){ZR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pee),this.isDirty=!1,this.children.forEach(e)}}function Fee(n,e){const t=Ca.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(td(i),n(r-e))};return Ji.setup(i,!0),()=>td(i)}const ez=["TopLeft","TopRight","BottomLeft","BottomRight"],zee=ez.length,uN=n=>typeof n=="string"?parseFloat(n):n,fN=n=>typeof n=="number"||$t.test(n);function Hee(n,e,t,i,s,r){s?(n.opacity=qi(0,t.opacity??1,Gee(i)),n.opacityExit=qi(e.opacity??1,0,kee(i))):r&&(n.opacity=qi(e.opacity??1,t.opacity??1,i));for(let a=0;a<zee;a++){const l=`border${ez[a]}Radius`;let u=dN(e,l),d=dN(t,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||fN(u)===fN(d)?(n[l]=Math.max(qi(uN(u),uN(d),i),0),(Mc.test(d)||Mc.test(u))&&(n[l]+="%")):n[l]=d}(e.rotate||t.rotate)&&(n.rotate=qi(e.rotate||0,t.rotate||0,i))}function dN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Gee=tz(0,.5,XF),kee=tz(.5,.95,zo);function tz(n,e,t){return i=>i<n?0:i>e?1:t(B0(n,e,i))}function hN(n,e){n.min=e.min,n.max=e.max}function Ro(n,e){hN(n.x,e.x),hN(n.y,e.y)}function pN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function mN(n,e,t,i,s){return n-=e,n=uA(n,1/t,i),s!==void 0&&(n=uA(n,1/s,i)),n}function Vee(n,e=0,t=1,i=.5,s,r=n,a=n){if(Mc.test(e)&&(e=parseFloat(e),e=qi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=qi(r.min,r.max,i);n===r&&(l-=e),n.min=mN(n.min,e,t,l,s),n.max=mN(n.max,e,t,l,s)}function gN(n,e,[t,i,s],r,a){Vee(n,e[t],e[i],e[s],e.scale,r,a)}const jee=["x","scaleX","originX"],Wee=["y","scaleY","originY"];function yN(n,e,t,i){gN(n.x,e,jee,t?t.x:void 0,i?i.x:void 0),gN(n.y,e,Wee,t?t.y:void 0,i?i.y:void 0)}function vN(n){return n.translate===0&&n.scale===1}function nz(n){return vN(n.x)&&vN(n.y)}function _N(n,e){return n.min===e.min&&n.max===e.max}function Xee(n,e){return _N(n.x,e.x)&&_N(n.y,e.y)}function bN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function iz(n,e){return bN(n.x,e.x)&&bN(n.y,e.y)}function xN(n){return la(n.x)/la(n.y)}function SN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Yee{constructor(){this.members=[]}add(e){QR(this.members,e),e.scheduleRender()}remove(e){if(ZR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qee(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:x}=t;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const zM=["","X","Y","Z"],Kee={visibility:"hidden"},Jee=1e3;let Qee=0;function HM(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function sz(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=H4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ji,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&sz(i)}function rz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Qee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ete),this.nodes.forEach(rte),this.nodes.forEach(ate),this.nodes.forEach(tte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uee)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new t2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=M4(a)&&!QZ(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let m;const g=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Fee(g,250),TS.hasAnimatedSinceResize&&(TS.hasAnimatedSinceResize=!1,this.nodes.forEach(EN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||fte,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=d.getProps(),S=!this.targetLayout||!iz(this.targetLayout,b),B=!g&&y;if(this.options.layoutRoot||this.resumeFrom||B||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,B);const w={...p2(x,"layout"),onPlay:E,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else g||EN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),td(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ote),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AN);return}this.isUpdating||this.nodes.forEach(ite),this.isUpdating=!1,this.nodes.forEach(ste),this.nodes.forEach(Zee),this.nodes.forEach($ee),this.clearAllSnapshots();const l=Ca.now();mr.delta=Du(0,1e3/60,l-mr.timestamp),mr.timestamp=l,mr.isProcessing=!0,DM.update.process(mr),DM.preRender.process(mr),DM.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nte),this.sharedNodes.forEach(lte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!la(this.snapshot.measuredBox.x)&&!la(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nz(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Ah(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),dte(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return hs();const l=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(hte))){const{scroll:m}=this.root;m&&(Vm(l.x,m.offset.x),Vm(l.y,m.offset.y))}return l}removeElementScroll(a){var u;const l=hs();if(Ro(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Ro(l,a),Vm(l.x,g.offset.x),Vm(l.y,g.offset.y))}return l}applyTransform(a,l=!1){const u=hs();Ro(u,a);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&jm(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ah(m.latestValues)&&jm(u,m.latestValues)}return Ah(this.latestValues)&&jm(u,this.latestValues),u}removeTransform(a){const l=hs();Ro(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Ah(d.latestValues))continue;ew(d.latestValues)&&d.updateSnapshot();const m=hs(),g=d.measurePageBox();Ro(m,g),yN(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ah(this.latestValues)&&yN(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),t0(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hs(),this.targetWithTransforms=hs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ro(this.target,this.layout.layoutBox),q4(this.target,this.targetDelta)):Ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),t0(this.relativeTargetOrigin,this.target,b.target),Ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ew(this.parent.latestValues)||Y4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Ro(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;gee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=hs());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pN(this.prevProjectionDelta.x,this.projectionDelta.x),pN(this.prevProjectionDelta.y,this.projectionDelta.y)),e0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!SN(this.projectionDelta.x,this.prevProjectionDelta.x)||!SN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=km(),this.projectionDelta=km(),this.projectionDeltaWithTransform=km()}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},g=km();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=hs(),b=u?u.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,A=this.getStack(),S=!A||A.members.length<=1,B=!!(E&&!S&&this.options.crossfade===!0&&!this.path.some(ute));this.animationProgress=0;let w;this.mixTargetDelta=R=>{const N=R/1e3;MN(g.x,a.x,N),MN(g.y,a.y,N),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cte(this.relativeTarget,this.relativeTargetOrigin,y,N),w&&Xee(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=hs()),Ro(w,this.relativeTarget)),E&&(this.animationValues=m,Hee(m,d,this.latestValues,N,B,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(td(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ji.update(()=>{TS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dg(0)),this.currentAnimation=Lee(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jee),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:m}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&az(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||hs();const g=la(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=la(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Ro(l,u),jm(l,m),e0(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Yee),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&HM("z",a,d,this.animationValues);for(let m=0;m<zM.length;m++)HM(`rotate${zM[m]}`,a,d,this.animationValues),HM(`skew${zM[m]}`,a,d,this.animationValues);a.render();for(const m in d)a.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Kee;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=MS(a==null?void 0:a.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=MS(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ah(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=qee(this.projectionDeltaWithTransform,this.treeScale,m),u&&(l.transform=u(m,l.transform));const{x:g,y}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?l.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in N0){if(m[b]===void 0)continue;const{correct:x,applyTo:E,isCSSVariable:A}=N0[b],S=l.transform==="none"?m[b]:x(m[b],d);if(E){const B=E.length;for(let w=0;w<B;w++)l[E[w]]=S}else A?this.options.visualElement.renderState.vars[b]=S:l[b]=S}return this.options.layoutId&&(l.pointerEvents=d===this?MS(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(AN),this.root.sharedNodes.clear()}}}function Zee(n){n.updateLayout()}function $ee(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?Io(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=la(y);y.min=i[g].min,y.max=y.min+b}):az(r,e.layoutBox,i)&&Io(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=la(i[g]);y.max=y.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const l=km();e0(l,i,e.layoutBox);const u=km();a?e0(u,n.applyTransform(s,!0),e.measuredBox):e0(u,i,e.layoutBox);const d=!nz(l);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const x=hs();t0(x,e.layoutBox,y.layoutBox);const E=hs();t0(E,i,b.layoutBox),iz(x,E)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=x,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function ete(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tte(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nte(n){n.clearSnapshot()}function AN(n){n.clearMeasurements()}function ite(n){n.isLayoutDirty=!1}function ste(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function EN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rte(n){n.resolveTargetDelta()}function ate(n){n.calcProjection()}function ote(n){n.resetSkewAndRotation()}function lte(n){n.removeLeadSnapshot()}function MN(n,e,t){n.translate=qi(e.translate,0,t),n.scale=qi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function TN(n,e,t,i){n.min=qi(e.min,t.min,i),n.max=qi(e.max,t.max,i)}function cte(n,e,t,i){TN(n.x,e.x,t.x,i),TN(n.y,e.y,t.y,i)}function ute(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fte={duration:.45,ease:[.4,0,.1,1]},CN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),wN=CN("applewebkit/")&&!CN("chrome/")?Math.round:zo;function RN(n){n.min=wN(n.min),n.max=wN(n.max)}function dte(n){RN(n.x),RN(n.y)}function az(n,e,t){return n==="position"||n==="preserve-aspect"&&!pee(xN(e),xN(t),.2)}function hte(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const pte=rz({attachResizeListener:(n,e)=>P0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),GM={current:void 0},oz=rz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!GM.current){const n=new pte({});n.mount(window),n.setOptions({layoutScroll:!0}),GM.current=n}return GM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mte={pan:{Feature:Dee},drag:{Feature:Bee,ProjectionNode:oz,MeasureLayout:$4}};function BN(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&Ji.postRender(()=>r(e,g_(e)))}class gte extends ld{mount(){const{current:e}=this.node;e&&(this.unmount=XZ(e,(t,i)=>(BN(this.node,i,"Start"),s=>BN(this.node,s,"End"))))}unmount(){}}class yte extends ld{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=h_(P0(this.node.current,"focus",()=>this.onFocus()),P0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DN(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&Ji.postRender(()=>r(e,g_(e)))}class vte extends ld{mount(){const{current:e}=this.node;e&&(this.unmount=JZ(e,(t,i)=>(DN(this.node,i,"Start"),(s,{success:r})=>DN(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iw=new WeakMap,kM=new WeakMap,_te=n=>{const e=iw.get(n.target);e&&e(n)},bte=n=>{n.forEach(_te)};function xte({root:n,...e}){const t=n||document;kM.has(t)||kM.set(t,{});const i=kM.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(bte,{root:n,...e})),i[s]}function Ste(n,e,t){const i=xte(e);return iw.set(n,t),i.observe(n),()=>{iw.delete(n),i.unobserve(n)}}const Ate={some:0,all:1};class Ete extends ld{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Ate[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(u)};return Ste(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Mte(e,t))&&this.startObserver()}unmount(){}}function Mte({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Tte={inView:{Feature:Ete},tap:{Feature:vte},focus:{Feature:yte},hover:{Feature:gte}},Cte={layout:{ProjectionNode:oz,MeasureLayout:$4}},sw={current:null},lz={current:!1};function wte(){if(lz.current=!0,!!KR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sw.current=n.matches;n.addListener(e),e()}else sw.current=!1}const Rte=new WeakMap;function Bte(n,e,t){for(const i in e){const s=e[i],r=t[i];if(Ur(s))n.addValue(i,s);else if(Ur(r))n.addValue(i,dg(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,dg(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const IN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dte{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ca.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ji.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=L1(t),this.isVariantNode=R4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const b=g[y];u[y]!==void 0&&Ur(b)&&b.set(u[y],!1)}}mount(e){this.current=e,Rte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),lz.current||wte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),td(this.notifyUpdate),td(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=zg.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ji.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hg){const t=hg[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<IN.length;i++){const s=IN[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Bte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=dg(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PF(i)||FF(i))?i=parseFloat(i):!$Z(i)&&nd.test(t)&&(i=b4(e,t)),this.setBaseTarget(e,Ur(i)?i.get():i)),Ur(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=E2(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ur(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new t2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class cz extends Dte{constructor(){super(...arguments),this.KeyframeResolver=GZ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ur(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function uz(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}function Ite(n){return window.getComputedStyle(n)}class Ote extends cz{constructor(){super(...arguments),this.type="html",this.renderInstance=uz}readValueFromInstance(e,t){var i;if(zg.has(t))return(i=this.projection)!=null&&i.isProjecting?WC(t):aZ(e,t);{const s=Ite(e),r=(s2(t)?s.getPropertyValue(t):s[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return K4(e,t)}build(e,t,i){x2(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return M2(e,t,i)}}const fz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nte(n,e,t,i){uz(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(fz.has(s)?s:b2(s),e.attrs[s])}class Lte extends cz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(zg.has(t)){const i=_4(t);return i&&i.default||0}return t=fz.has(t)?t:b2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return z4(e,t,i)}build(e,t,i){L4(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){Nte(e,t,i,s)}mount(e){this.isSVGTag=U4(e.tagName),super.mount(e)}}const Pte=(n,e)=>A2(n)?new Lte(e):new Ote(e,{allowProjection:n!==K.Fragment}),Ute=N$({...aee,...Tte,...mte,...Cte},Pte),dz=r$(Ute);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const y_="176",Eh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hz=0,rw=1,pz=2,Fte=3,mz=0,P1=1,n0=2,xl=3,Bc=0,ca=1,El=2,bu=0,Vh=1,aw=2,ow=3,lw=4,gz=5,kf=100,yz=101,vz=102,_z=103,bz=104,xz=200,Sz=201,Az=202,Ez=203,fA=204,dA=205,Mz=206,Tz=207,Cz=208,wz=209,Rz=210,Bz=211,Dz=212,Iz=213,Oz=214,hA=0,pA=1,mA=2,Qh=3,gA=4,yA=5,vA=6,_A=7,v_=0,Nz=1,Lz=2,Tc=0,Pz=1,Uz=2,Fz=3,C2=4,zz=5,Hz=6,Gz=7,cw="attached",kz="detached",U1=300,Ou=301,id=302,U0=303,F0=304,Hg=306,sd=1e3,Za=1001,pg=1002,nr=1003,F1=1004,zte=1004,Nh=1005,Hte=1005,ps=1006,Zm=1007,Gte=1007,Po=1008,kte=1008,ko=1009,w2=1010,R2=1011,mg=1012,z1=1013,Nu=1014,wa=1015,Gg=1016,H1=1017,G1=1018,gg=1020,B2=35902,D2=1021,I2=1022,Fr=1023,yg=1026,vg=1027,k1=1028,__=1029,O2=1030,V1=1031,Vte=1032,j1=1033,i0=33776,s0=33777,r0=33778,a0=33779,bA=35840,xA=35841,SA=35842,AA=35843,EA=36196,MA=37492,TA=37496,CA=37808,wA=37809,RA=37810,BA=37811,DA=37812,IA=37813,OA=37814,NA=37815,LA=37816,PA=37817,UA=37818,FA=37819,zA=37820,HA=37821,o0=36492,GA=36494,kA=36495,N2=36283,VA=36284,jA=36285,WA=36286,Vz=2200,jz=2201,Wz=2202,_g=2300,bg=2301,CS=2302,Lh=2400,Ph=2401,z0=2402,W1=2500,L2=2501,Xz=0,P2=1,XA=2,Yz=3200,qz=3201,jte=3202,Wte=3203,cd=0,Kz=1,pu="",Lr="srgb",rd="srgb-linear",H0="linear",ci="srgb",Xte=0,Th=7680,Yte=7681,qte=7682,Kte=7683,Jte=34055,Qte=34056,Zte=5386,$te=512,ene=513,tne=514,nne=515,ine=516,sne=517,rne=518,uw=519,Jz=512,Qz=513,Zz=514,U2=515,$z=516,eH=517,tH=518,nH=519,G0=35044,ane=35048,one=35040,lne=35045,cne=35049,une=35041,fne=35046,dne=35050,hne=35042,pne="100",fw="300 es",Uo=2e3,k0=2001,mne={COMPUTE:"compute",RENDER:"render"},gne={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},yne={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Oc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}};const Br=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ON=1234567;const jh=Math.PI/180,xg=180/Math.PI;function no(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Br[n&255]+Br[n>>8&255]+Br[n>>16&255]+Br[n>>24&255]+"-"+Br[e&255]+Br[e>>8&255]+"-"+Br[e>>16&15|64]+Br[e>>24&255]+"-"+Br[t&63|128]+Br[t>>8&255]+"-"+Br[t>>16&255]+Br[t>>24&255]+Br[i&255]+Br[i>>8&255]+Br[i>>16&255]+Br[i>>24&255]).toLowerCase()}function ln(n,e,t){return Math.max(e,Math.min(t,n))}function F2(n,e){return(n%e+e)%e}function vne(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)}function _ne(n,e,t){return n!==e?(t-n)/(e-n):0}function l0(n,e,t){return(1-t)*n+t*e}function bne(n,e,t,i){return l0(n,e,1-Math.exp(-t*i))}function xne(n,e=1){return e-Math.abs(F2(n,e*2)-e)}function Sne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Ane(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Ene(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Mne(n,e){return n+Math.random()*(e-n)}function Tne(n){return n*(.5-Math.random())}function Cne(n){n!==void 0&&(ON=n);let e=ON+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function wne(n){return n*jh}function Rne(n){return n*xg}function Bne(n){return(n&n-1)===0&&n!==0}function Dne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Ine(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function One(n,e,t,i,s){const r=Math.cos,a=Math.sin,l=r(t/2),u=a(t/2),d=r((e+i)/2),m=a((e+i)/2),g=r((e-i)/2),y=a((e-i)/2),b=r((i-e)/2),x=a((i-e)/2);switch(s){case"XYX":n.set(l*m,u*g,u*y,l*d);break;case"YZY":n.set(u*y,l*m,u*g,l*d);break;case"ZXZ":n.set(u*g,u*y,l*m,l*d);break;case"XZX":n.set(l*m,u*x,u*b,l*d);break;case"YXY":n.set(u*b,l*m,u*x,l*d);break;case"ZYZ":n.set(u*x,u*b,l*m,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function aa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function hn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const iH={DEG2RAD:jh,RAD2DEG:xg,generateUUID:no,clamp:ln,euclideanModulo:F2,mapLinear:vne,inverseLerp:_ne,lerp:l0,damp:bne,pingpong:xne,smoothstep:Sne,smootherstep:Ane,randInt:Ene,randFloat:Mne,randFloatSpread:Tne,seededRandom:Cne,degToRad:wne,radToDeg:Rne,isPowerOfTwo:Bne,ceilPowerOfTwo:Dne,floorPowerOfTwo:Ine,setQuaternionFromProperEuler:One,normalize:hn,denormalize:aa};class tt{constructor(e=0,t=0){tt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ln(this.x,e.x,t.x),this.y=ln(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ln(this.x,e,t),this.y=ln(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ln(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ln(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*s+e.x,this.y=r*s+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fn{constructor(e,t,i,s,r,a,l,u,d){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,a,l,u,d)}set(e,t,i,s,r,a,l,u,d){const m=this.elements;return m[0]=e,m[1]=s,m[2]=l,m[3]=t,m[4]=r,m[5]=u,m[6]=i,m[7]=a,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,a=i[0],l=i[3],u=i[6],d=i[1],m=i[4],g=i[7],y=i[2],b=i[5],x=i[8],E=s[0],A=s[3],S=s[6],B=s[1],w=s[4],R=s[7],N=s[2],O=s[5],U=s[8];return r[0]=a*E+l*B+u*N,r[3]=a*A+l*w+u*O,r[6]=a*S+l*R+u*U,r[1]=d*E+m*B+g*N,r[4]=d*A+m*w+g*O,r[7]=d*S+m*R+g*U,r[2]=y*E+b*B+x*N,r[5]=y*A+b*w+x*O,r[8]=y*S+b*R+x*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8];return t*a*m-t*l*d-i*r*m+i*l*u+s*r*d-s*a*u}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8],g=m*a-l*d,y=l*u-m*r,b=d*r-a*u,x=t*g+i*y+s*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/x;return e[0]=g*E,e[1]=(s*d-m*i)*E,e[2]=(l*i-s*a)*E,e[3]=y*E,e[4]=(m*t-s*u)*E,e[5]=(s*r-l*t)*E,e[6]=b*E,e[7]=(i*u-d*t)*E,e[8]=(a*t-i*r)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,r,a,l){const u=Math.cos(r),d=Math.sin(r);return this.set(i*u,i*d,-i*(u*a+d*l)+a+e,-s*d,s*u,-s*(-d*a+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(VM.makeScale(e,t)),this}rotate(e){return this.premultiply(VM.makeRotation(-e)),this}translate(e,t){return this.premultiply(VM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const VM=new fn;function sH(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Nne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wm(n,e){return new Nne[n](e)}function V0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function rH(){const n=V0("canvas");return n.style.display="block",n}const NN={};function wS(n){n in NN||(NN[n]=!0,console.warn(n))}function Lne(n,e,t){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}function Pne(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Une(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const LN=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),PN=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Fne(){const n={enabled:!0,workingColorSpace:rd,spaces:{},convert:function(s,r,a){return this.enabled===!1||r===a||!r||!a||(this.spaces[r].transfer===ci&&(s.r=xu(s.r),s.g=xu(s.g),s.b=xu(s.b)),this.spaces[r].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===ci&&(s.r=$m(s.r),s.g=$m(s.g),s.b=$m(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===pu?H0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,a){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[rd]:{primaries:e,whitePoint:i,transfer:H0,toXYZ:LN,fromXYZ:PN,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Lr},outputColorSpaceConfig:{drawingBufferColorSpace:Lr}},[Lr]:{primaries:e,whitePoint:i,transfer:ci,toXYZ:LN,fromXYZ:PN,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Lr}}}),n}const Ln=Fne();function xu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $m(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let ym;class aH{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{ym===void 0&&(ym=V0("canvas")),ym.width=e.width,ym.height=e.height;const s=ym.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=ym}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=V0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=xu(r[a]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(xu(t[i]/255)*255):t[i]=xu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zne=0;class jf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zne++}),this.uuid=no(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let a=0,l=s.length;a<l;a++)s[a].isDataTexture?r.push(jM(s[a].image)):r.push(jM(s[a]))}else r=jM(s);i.url=r}return t||(e.images[this.uuid]=i),i}}function jM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?aH.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Hne=0;class ki extends Oc{constructor(e=ki.DEFAULT_IMAGE,t=ki.DEFAULT_MAPPING,i=Za,s=Za,r=ps,a=Po,l=Fr,u=ko,d=ki.DEFAULT_ANISOTROPY,m=pu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Hne++}),this.uuid=no(),this.name="",this.source=new jf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=u,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==U1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sd:e.x=e.x-Math.floor(e.x);break;case Za:e.x=e.x<0?0:1;break;case pg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sd:e.y=e.y-Math.floor(e.y);break;case Za:e.y=e.y<0?0:1;break;case pg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ki.DEFAULT_IMAGE=null;ki.DEFAULT_MAPPING=U1;ki.DEFAULT_ANISOTROPY=1;class Hn{constructor(e=0,t=0,i=0,s=1){Hn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*s+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*s+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*s+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*s+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,r;const u=e.elements,d=u[0],m=u[4],g=u[8],y=u[1],b=u[5],x=u[9],E=u[2],A=u[6],S=u[10];if(Math.abs(m-y)<.01&&Math.abs(g-E)<.01&&Math.abs(x-A)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+E)<.1&&Math.abs(x+A)<.1&&Math.abs(d+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(d+1)/2,R=(b+1)/2,N=(S+1)/2,O=(m+y)/4,U=(g+E)/4,P=(x+A)/4;return w>R&&w>N?w<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(w),s=O/i,r=U/i):R>N?R<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(R),i=O/s,r=P/s):N<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(N),i=U/r,s=P/r),this.set(i,s,r,t),this}let B=Math.sqrt((A-x)*(A-x)+(g-E)*(g-E)+(y-m)*(y-m));return Math.abs(B)<.001&&(B=1),this.x=(A-x)/B,this.y=(g-E)/B,this.z=(y-m)/B,this.w=Math.acos((d+b+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ln(this.x,e.x,t.x),this.y=ln(this.y,e.y,t.y),this.z=ln(this.z,e.z,t.z),this.w=ln(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ln(this.x,e,t),this.y=ln(this.y,e,t),this.z=ln(this.z,e,t),this.w=ln(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ln(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class X1 extends Oc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new Hn(0,0,e,t),this.scissorTest=!1,this.viewport=new Hn(0,0,e,t);const s={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ps,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const r=new ki(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let l=0;l<a;l++)this.textures[l]=r.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new jf(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Dc extends X1{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class b_ extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=nr,this.minFilter=nr,this.wrapR=Za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Gne extends Dc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new b_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Y1 extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=nr,this.minFilter=nr,this.wrapR=Za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kne extends Dc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Y1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ir{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,r,a,l){let u=i[s+0],d=i[s+1],m=i[s+2],g=i[s+3];const y=r[a+0],b=r[a+1],x=r[a+2],E=r[a+3];if(l===0){e[t+0]=u,e[t+1]=d,e[t+2]=m,e[t+3]=g;return}if(l===1){e[t+0]=y,e[t+1]=b,e[t+2]=x,e[t+3]=E;return}if(g!==E||u!==y||d!==b||m!==x){let A=1-l;const S=u*y+d*b+m*x+g*E,B=S>=0?1:-1,w=1-S*S;if(w>Number.EPSILON){const N=Math.sqrt(w),O=Math.atan2(N,S*B);A=Math.sin(A*O)/N,l=Math.sin(l*O)/N}const R=l*B;if(u=u*A+y*R,d=d*A+b*R,m=m*A+x*R,g=g*A+E*R,A===1-l){const N=1/Math.sqrt(u*u+d*d+m*m+g*g);u*=N,d*=N,m*=N,g*=N}}e[t]=u,e[t+1]=d,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,s,r,a){const l=i[s],u=i[s+1],d=i[s+2],m=i[s+3],g=r[a],y=r[a+1],b=r[a+2],x=r[a+3];return e[t]=l*x+m*g+u*b-d*y,e[t+1]=u*x+m*y+d*g-l*b,e[t+2]=d*x+m*b+l*y-u*g,e[t+3]=m*x-l*g-u*y-d*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,r=e._z,a=e._order,l=Math.cos,u=Math.sin,d=l(i/2),m=l(s/2),g=l(r/2),y=u(i/2),b=u(s/2),x=u(r/2);switch(a){case"XYZ":this._x=y*m*g+d*b*x,this._y=d*b*g-y*m*x,this._z=d*m*x+y*b*g,this._w=d*m*g-y*b*x;break;case"YXZ":this._x=y*m*g+d*b*x,this._y=d*b*g-y*m*x,this._z=d*m*x-y*b*g,this._w=d*m*g+y*b*x;break;case"ZXY":this._x=y*m*g-d*b*x,this._y=d*b*g+y*m*x,this._z=d*m*x+y*b*g,this._w=d*m*g-y*b*x;break;case"ZYX":this._x=y*m*g-d*b*x,this._y=d*b*g+y*m*x,this._z=d*m*x-y*b*g,this._w=d*m*g+y*b*x;break;case"YZX":this._x=y*m*g+d*b*x,this._y=d*b*g+y*m*x,this._z=d*m*x-y*b*g,this._w=d*m*g-y*b*x;break;case"XZY":this._x=y*m*g-d*b*x,this._y=d*b*g-y*m*x,this._z=d*m*x+y*b*g,this._w=d*m*g+y*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],r=t[8],a=t[1],l=t[5],u=t[9],d=t[2],m=t[6],g=t[10],y=i+l+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-u)*b,this._y=(r-d)*b,this._z=(a-s)*b}else if(i>l&&i>g){const b=2*Math.sqrt(1+i-l-g);this._w=(m-u)/b,this._x=.25*b,this._y=(s+a)/b,this._z=(r+d)/b}else if(l>g){const b=2*Math.sqrt(1+l-i-g);this._w=(r-d)/b,this._x=(s+a)/b,this._y=.25*b,this._z=(u+m)/b}else{const b=2*Math.sqrt(1+g-i-l);this._w=(a-s)/b,this._x=(r+d)/b,this._y=(u+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ln(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,r=e._z,a=e._w,l=t._x,u=t._y,d=t._z,m=t._w;return this._x=i*m+a*l+s*d-r*u,this._y=s*m+a*u+r*l-i*d,this._z=r*m+a*d+i*u-s*l,this._w=a*m-i*l-s*u-r*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,a=this._w;let l=a*e._w+i*e._x+s*e._y+r*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=s,this._z=r,this;const u=1-l*l;if(u<=Number.EPSILON){const b=1-t;return this._w=b*a+t*this._w,this._x=b*i+t*this._x,this._y=b*s+t*this._y,this._z=b*r+t*this._z,this.normalize(),this}const d=Math.sqrt(u),m=Math.atan2(d,l),g=Math.sin((1-t)*m)/d,y=Math.sin(t*m)/d;return this._w=a*g+this._w*y,this._x=i*g+this._x*y,this._y=s*g+this._y*y,this._z=r*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*s,this.y=r[1]*t+r[4]*i+r[7]*s,this.z=r[2]*t+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*s+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*s+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*s+r[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,r=e.x,a=e.y,l=e.z,u=e.w,d=2*(a*s-l*i),m=2*(l*t-r*s),g=2*(r*i-a*t);return this.x=t+u*d+a*g-l*m,this.y=i+u*m+l*d-r*g,this.z=s+u*g+r*m-a*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*s,this.y=r[1]*t+r[5]*i+r[9]*s,this.z=r[2]*t+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ln(this.x,e.x,t.x),this.y=ln(this.y,e.y,t.y),this.z=ln(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ln(this.x,e,t),this.y=ln(this.y,e,t),this.z=ln(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ln(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,r=e.z,a=t.x,l=t.y,u=t.z;return this.x=s*u-r*l,this.y=r*a-i*u,this.z=i*l-s*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return WM.copy(this).projectOnVector(e),this.sub(WM)}reflect(e){return this.sub(WM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ln(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const WM=new re,UN=new ir;class yr{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(yl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(yl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=yl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=r.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,yl):yl.fromBufferAttribute(r,a),yl.applyMatrix4(e.matrixWorld),this.expandByPoint(yl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_x.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),_x.copy(i.boundingBox)),_x.applyMatrix4(e.matrixWorld),this.union(_x)}const s=e.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,yl),yl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_v),bx.subVectors(this.max,_v),vm.subVectors(e.a,_v),_m.subVectors(e.b,_v),bm.subVectors(e.c,_v),Df.subVectors(_m,vm),If.subVectors(bm,_m),rh.subVectors(vm,bm);let t=[0,-Df.z,Df.y,0,-If.z,If.y,0,-rh.z,rh.y,Df.z,0,-Df.x,If.z,0,-If.x,rh.z,0,-rh.x,-Df.y,Df.x,0,-If.y,If.x,0,-rh.y,rh.x,0];return!XM(t,vm,_m,bm,bx)||(t=[1,0,0,0,1,0,0,0,1],!XM(t,vm,_m,bm,bx))?!1:(xx.crossVectors(Df,If),t=[xx.x,xx.y,xx.z],XM(t,vm,_m,bm,bx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(yl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ru[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ru[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ru[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ru[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ru[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ru[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ru[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ru[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ru),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ru=[new re,new re,new re,new re,new re,new re,new re,new re],yl=new re,_x=new yr,vm=new re,_m=new re,bm=new re,Df=new re,If=new re,rh=new re,_v=new re,bx=new re,xx=new re,ah=new re;function XM(n,e,t,i,s){for(let r=0,a=n.length-3;r<=a;r+=3){ah.fromArray(n,r);const l=s.x*Math.abs(ah.x)+s.y*Math.abs(ah.y)+s.z*Math.abs(ah.z),u=e.dot(ah),d=t.dot(ah),m=i.dot(ah);if(Math.max(-Math.max(u,d,m),Math.min(u,d,m))>l)return!1}return!0}const Vne=new yr,bv=new re,YM=new re;class sr{constructor(e=new re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Vne.setFromPoints(e).getCenter(i);let s=0;for(let r=0,a=e.length;r<a;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;bv.subVectors(e,this.center);const t=bv.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(bv,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(YM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(bv.copy(e.center).add(YM)),this.expandByPoint(bv.copy(e.center).sub(YM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const au=new re,qM=new re,Sx=new re,Of=new re,KM=new re,Ax=new re,JM=new re;class rp{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,au)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=au.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(au.copy(this.origin).addScaledVector(this.direction,t),au.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){qM.copy(e).add(t).multiplyScalar(.5),Sx.copy(t).sub(e).normalize(),Of.copy(this.origin).sub(qM);const r=e.distanceTo(t)*.5,a=-this.direction.dot(Sx),l=Of.dot(this.direction),u=-Of.dot(Sx),d=Of.lengthSq(),m=Math.abs(1-a*a);let g,y,b,x;if(m>0)if(g=a*u-l,y=a*l-u,x=r*m,g>=0)if(y>=-x)if(y<=x){const E=1/m;g*=E,y*=E,b=g*(g+a*y+2*l)+y*(a*g+y+2*u)+d}else y=r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+d;else y=-r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+d;else y<=-x?(g=Math.max(0,-(-a*r+l)),y=g>0?-r:Math.min(Math.max(-r,-u),r),b=-g*g+y*(y+2*u)+d):y<=x?(g=0,y=Math.min(Math.max(-r,-u),r),b=y*(y+2*u)+d):(g=Math.max(0,-(a*r+l)),y=g>0?r:Math.min(Math.max(-r,-u),r),b=-g*g+y*(y+2*u)+d);else y=a>0?-r:r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(qM).addScaledVector(Sx,y),b}intersectSphere(e,t){au.subVectors(e.center,this.origin);const i=au.dot(this.direction),s=au.dot(au)-i*i,r=e.radius*e.radius;if(s>r)return null;const a=Math.sqrt(r-s),l=i-a,u=i+a;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,r,a,l,u;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(i=(e.min.x-y.x)*d,s=(e.max.x-y.x)*d):(i=(e.max.x-y.x)*d,s=(e.min.x-y.x)*d),m>=0?(r=(e.min.y-y.y)*m,a=(e.max.y-y.y)*m):(r=(e.max.y-y.y)*m,a=(e.min.y-y.y)*m),i>a||r>s||((r>i||isNaN(i))&&(i=r),(a<s||isNaN(s))&&(s=a),g>=0?(l=(e.min.z-y.z)*g,u=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,u=(e.min.z-y.z)*g),i>u||l>s)||((l>i||i!==i)&&(i=l),(u<s||s!==s)&&(s=u),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,au)!==null}intersectTriangle(e,t,i,s,r){KM.subVectors(t,e),Ax.subVectors(i,e),JM.crossVectors(KM,Ax);let a=this.direction.dot(JM),l;if(a>0){if(s)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Of.subVectors(this.origin,e);const u=l*this.direction.dot(Ax.crossVectors(Of,Ax));if(u<0)return null;const d=l*this.direction.dot(KM.cross(Of));if(d<0||u+d>a)return null;const m=-l*Of.dot(JM);return m<0?null:this.at(m/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,t,i,s,r,a,l,u,d,m,g,y,b,x,E,A){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,a,l,u,d,m,g,y,b,x,E,A)}set(e,t,i,s,r,a,l,u,d,m,g,y,b,x,E,A){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=s,S[1]=r,S[5]=a,S[9]=l,S[13]=u,S[2]=d,S[6]=m,S[10]=g,S[14]=y,S[3]=b,S[7]=x,S[11]=E,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/xm.setFromMatrixColumn(e,0).length(),r=1/xm.setFromMatrixColumn(e,1).length(),a=1/xm.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,r=e.z,a=Math.cos(i),l=Math.sin(i),u=Math.cos(s),d=Math.sin(s),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const y=a*m,b=a*g,x=l*m,E=l*g;t[0]=u*m,t[4]=-u*g,t[8]=d,t[1]=b+x*d,t[5]=y-E*d,t[9]=-l*u,t[2]=E-y*d,t[6]=x+b*d,t[10]=a*u}else if(e.order==="YXZ"){const y=u*m,b=u*g,x=d*m,E=d*g;t[0]=y+E*l,t[4]=x*l-b,t[8]=a*d,t[1]=a*g,t[5]=a*m,t[9]=-l,t[2]=b*l-x,t[6]=E+y*l,t[10]=a*u}else if(e.order==="ZXY"){const y=u*m,b=u*g,x=d*m,E=d*g;t[0]=y-E*l,t[4]=-a*g,t[8]=x+b*l,t[1]=b+x*l,t[5]=a*m,t[9]=E-y*l,t[2]=-a*d,t[6]=l,t[10]=a*u}else if(e.order==="ZYX"){const y=a*m,b=a*g,x=l*m,E=l*g;t[0]=u*m,t[4]=x*d-b,t[8]=y*d+E,t[1]=u*g,t[5]=E*d+y,t[9]=b*d-x,t[2]=-d,t[6]=l*u,t[10]=a*u}else if(e.order==="YZX"){const y=a*u,b=a*d,x=l*u,E=l*d;t[0]=u*m,t[4]=E-y*g,t[8]=x*g+b,t[1]=g,t[5]=a*m,t[9]=-l*m,t[2]=-d*m,t[6]=b*g+x,t[10]=y-E*g}else if(e.order==="XZY"){const y=a*u,b=a*d,x=l*u,E=l*d;t[0]=u*m,t[4]=-g,t[8]=d*m,t[1]=y*g+E,t[5]=a*m,t[9]=b*g-x,t[2]=x*g-b,t[6]=l*m,t[10]=E*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jne,e,Wne)}lookAt(e,t,i){const s=this.elements;return Xa.subVectors(e,t),Xa.lengthSq()===0&&(Xa.z=1),Xa.normalize(),Nf.crossVectors(i,Xa),Nf.lengthSq()===0&&(Math.abs(i.z)===1?Xa.x+=1e-4:Xa.z+=1e-4,Xa.normalize(),Nf.crossVectors(i,Xa)),Nf.normalize(),Ex.crossVectors(Xa,Nf),s[0]=Nf.x,s[4]=Ex.x,s[8]=Xa.x,s[1]=Nf.y,s[5]=Ex.y,s[9]=Xa.y,s[2]=Nf.z,s[6]=Ex.z,s[10]=Xa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,a=i[0],l=i[4],u=i[8],d=i[12],m=i[1],g=i[5],y=i[9],b=i[13],x=i[2],E=i[6],A=i[10],S=i[14],B=i[3],w=i[7],R=i[11],N=i[15],O=s[0],U=s[4],P=s[8],L=s[12],M=s[1],F=s[5],G=s[9],J=s[13],ie=s[2],ne=s[6],H=s[10],q=s[14],$=s[3],se=s[7],X=s[11],ae=s[15];return r[0]=a*O+l*M+u*ie+d*$,r[4]=a*U+l*F+u*ne+d*se,r[8]=a*P+l*G+u*H+d*X,r[12]=a*L+l*J+u*q+d*ae,r[1]=m*O+g*M+y*ie+b*$,r[5]=m*U+g*F+y*ne+b*se,r[9]=m*P+g*G+y*H+b*X,r[13]=m*L+g*J+y*q+b*ae,r[2]=x*O+E*M+A*ie+S*$,r[6]=x*U+E*F+A*ne+S*se,r[10]=x*P+E*G+A*H+S*X,r[14]=x*L+E*J+A*q+S*ae,r[3]=B*O+w*M+R*ie+N*$,r[7]=B*U+w*F+R*ne+N*se,r[11]=B*P+w*G+R*H+N*X,r[15]=B*L+w*J+R*q+N*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],r=e[12],a=e[1],l=e[5],u=e[9],d=e[13],m=e[2],g=e[6],y=e[10],b=e[14],x=e[3],E=e[7],A=e[11],S=e[15];return x*(+r*u*g-s*d*g-r*l*y+i*d*y+s*l*b-i*u*b)+E*(+t*u*b-t*d*y+r*a*y-s*a*b+s*d*m-r*u*m)+A*(+t*d*g-t*l*b-r*a*g+i*a*b+r*l*m-i*d*m)+S*(-s*l*m-t*u*g+t*l*y+s*a*g-i*a*y+i*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8],g=e[9],y=e[10],b=e[11],x=e[12],E=e[13],A=e[14],S=e[15],B=g*A*d-E*y*d+E*u*b-l*A*b-g*u*S+l*y*S,w=x*y*d-m*A*d-x*u*b+a*A*b+m*u*S-a*y*S,R=m*E*d-x*g*d+x*l*b-a*E*b-m*l*S+a*g*S,N=x*g*u-m*E*u-x*l*y+a*E*y+m*l*A-a*g*A,O=t*B+i*w+s*R+r*N;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/O;return e[0]=B*U,e[1]=(E*y*r-g*A*r-E*s*b+i*A*b+g*s*S-i*y*S)*U,e[2]=(l*A*r-E*u*r+E*s*d-i*A*d-l*s*S+i*u*S)*U,e[3]=(g*u*r-l*y*r-g*s*d+i*y*d+l*s*b-i*u*b)*U,e[4]=w*U,e[5]=(m*A*r-x*y*r+x*s*b-t*A*b-m*s*S+t*y*S)*U,e[6]=(x*u*r-a*A*r-x*s*d+t*A*d+a*s*S-t*u*S)*U,e[7]=(a*y*r-m*u*r+m*s*d-t*y*d-a*s*b+t*u*b)*U,e[8]=R*U,e[9]=(x*g*r-m*E*r-x*i*b+t*E*b+m*i*S-t*g*S)*U,e[10]=(a*E*r-x*l*r+x*i*d-t*E*d-a*i*S+t*l*S)*U,e[11]=(m*l*r-a*g*r-m*i*d+t*g*d+a*i*b-t*l*b)*U,e[12]=N*U,e[13]=(m*E*s-x*g*s+x*i*y-t*E*y-m*i*A+t*g*A)*U,e[14]=(x*l*s-a*E*s-x*i*u+t*E*u+a*i*A-t*l*A)*U,e[15]=(a*g*s-m*l*s+m*i*u-t*g*u-a*i*y+t*l*y)*U,this}scale(e){const t=this.elements,i=e.x,s=e.y,r=e.z;return t[0]*=i,t[4]*=s,t[8]*=r,t[1]*=i,t[5]*=s,t[9]*=r,t[2]*=i,t[6]*=s,t[10]*=r,t[3]*=i,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),r=1-i,a=e.x,l=e.y,u=e.z,d=r*a,m=r*l;return this.set(d*a+i,d*l-s*u,d*u+s*l,0,d*l+s*u,m*l+i,m*u-s*a,0,d*u-s*l,m*u+s*a,r*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,r,a){return this.set(1,i,r,0,e,1,a,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,r=t._x,a=t._y,l=t._z,u=t._w,d=r+r,m=a+a,g=l+l,y=r*d,b=r*m,x=r*g,E=a*m,A=a*g,S=l*g,B=u*d,w=u*m,R=u*g,N=i.x,O=i.y,U=i.z;return s[0]=(1-(E+S))*N,s[1]=(b+R)*N,s[2]=(x-w)*N,s[3]=0,s[4]=(b-R)*O,s[5]=(1-(y+S))*O,s[6]=(A+B)*O,s[7]=0,s[8]=(x+w)*U,s[9]=(A-B)*U,s[10]=(1-(y+E))*U,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let r=xm.set(s[0],s[1],s[2]).length();const a=xm.set(s[4],s[5],s[6]).length(),l=xm.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],vl.copy(this);const d=1/r,m=1/a,g=1/l;return vl.elements[0]*=d,vl.elements[1]*=d,vl.elements[2]*=d,vl.elements[4]*=m,vl.elements[5]*=m,vl.elements[6]*=m,vl.elements[8]*=g,vl.elements[9]*=g,vl.elements[10]*=g,t.setFromRotationMatrix(vl),i.x=r,i.y=a,i.z=l,this}makePerspective(e,t,i,s,r,a,l=Uo){const u=this.elements,d=2*r/(t-e),m=2*r/(i-s),g=(t+e)/(t-e),y=(i+s)/(i-s);let b,x;if(l===Uo)b=-(a+r)/(a-r),x=-2*a*r/(a-r);else if(l===k0)b=-a/(a-r),x=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,s,r,a,l=Uo){const u=this.elements,d=1/(t-e),m=1/(i-s),g=1/(a-r),y=(t+e)*d,b=(i+s)*m;let x,E;if(l===Uo)x=(a+r)*g,E=-2*g;else if(l===k0)x=r*g,E=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-y,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-b,u[2]=0,u[6]=0,u[10]=E,u[14]=-x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const xm=new re,vl=new Gt,jne=new re(0,0,0),Wne=new re(1,1,1),Nf=new re,Ex=new re,Xa=new re,FN=new Gt,zN=new ir;class ro{constructor(e=0,t=0,i=0,s=ro.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,r=s[0],a=s[4],l=s[8],u=s[1],d=s[5],m=s[9],g=s[2],y=s[6],b=s[10];switch(t){case"XYZ":this._y=Math.asin(ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-ln(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(ln(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(u,r));break;case"ZYX":this._y=Math.asin(-ln(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(u,r)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(ln(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-ln(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(l,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return FN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(FN,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zN.setFromEuler(this),this.setFromQuaternion(zN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ro.DEFAULT_ORDER="XYZ";class Sg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Xne=0;const HN=new re,Sm=new ir,ou=new Gt,Mx=new re,xv=new re,Yne=new re,qne=new ir,GN=new re(1,0,0),kN=new re(0,1,0),VN=new re(0,0,1),jN={type:"added"},Kne={type:"removed"},Am={type:"childadded",child:null},QM={type:"childremoved",child:null};class Pn extends Oc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xne++}),this.uuid=no(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DEFAULT_UP.clone();const e=new re,t=new ro,i=new ir,s=new re(1,1,1);function r(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Gt},normalMatrix:{value:new fn}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=Pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Sg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sm.setFromAxisAngle(e,t),this.quaternion.multiply(Sm),this}rotateOnWorldAxis(e,t){return Sm.setFromAxisAngle(e,t),this.quaternion.premultiply(Sm),this}rotateX(e){return this.rotateOnAxis(GN,e)}rotateY(e){return this.rotateOnAxis(kN,e)}rotateZ(e){return this.rotateOnAxis(VN,e)}translateOnAxis(e,t){return HN.copy(e).applyQuaternion(this.quaternion),this.position.add(HN.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(GN,e)}translateY(e){return this.translateOnAxis(kN,e)}translateZ(e){return this.translateOnAxis(VN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ou.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Mx.copy(e):Mx.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),xv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ou.lookAt(xv,Mx,this.up):ou.lookAt(Mx,xv,this.up),this.quaternion.setFromRotationMatrix(ou),s&&(ou.extractRotation(s.matrixWorld),Sm.setFromRotationMatrix(ou),this.quaternion.premultiply(Sm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(jN),Am.child=e,this.dispatchEvent(Am),Am.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Kne),QM.child=e,this.dispatchEvent(QM),QM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ou.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ou.multiply(e.parent.matrixWorld)),e.applyMatrix4(ou),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(jN),Am.child=e,this.dispatchEvent(Am),Am.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xv,e,Yne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xv,qne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?{min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}:void 0,boundingSphere:l.boundingSphere?{radius:l.boundingSphere.radius,center:l.boundingSphere.center.toArray()}:void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function r(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let d=0,m=u.length;d<m;d++){const g=u[d];r(e.shapes,g)}else r(e.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,d=this.material.length;u<d;u++)l.push(r(e.materials,this.material[u]));s.material=l}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];s.animations.push(r(e.animations,u))}}if(t){const l=a(e.geometries),u=a(e.materials),d=a(e.textures),m=a(e.images),g=a(e.shapes),y=a(e.skeletons),b=a(e.animations),x=a(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),x.length>0&&(i.nodes=x)}return i.object=s,i;function a(l){const u=[];for(const d in l){const m=l[d];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Pn.DEFAULT_UP=new re(0,1,0);Pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _l=new re,lu=new re,ZM=new re,cu=new re,Em=new re,Mm=new re,WN=new re,$M=new re,eT=new re,tT=new re,nT=new Hn,iT=new Hn,sT=new Hn;class Ma{constructor(e=new re,t=new re,i=new re){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),_l.subVectors(e,t),s.cross(_l);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,i,s,r){_l.subVectors(s,t),lu.subVectors(i,t),ZM.subVectors(e,t);const a=_l.dot(_l),l=_l.dot(lu),u=_l.dot(ZM),d=lu.dot(lu),m=lu.dot(ZM),g=a*d-l*l;if(g===0)return r.set(0,0,0),null;const y=1/g,b=(d*u-l*m)*y,x=(a*m-l*u)*y;return r.set(1-b-x,x,b)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,cu)===null?!1:cu.x>=0&&cu.y>=0&&cu.x+cu.y<=1}static getInterpolation(e,t,i,s,r,a,l,u){return this.getBarycoord(e,t,i,s,cu)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(r,cu.x),u.addScaledVector(a,cu.y),u.addScaledVector(l,cu.z),u)}static getInterpolatedAttribute(e,t,i,s,r,a){return nT.setScalar(0),iT.setScalar(0),sT.setScalar(0),nT.fromBufferAttribute(e,t),iT.fromBufferAttribute(e,i),sT.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(nT,r.x),a.addScaledVector(iT,r.y),a.addScaledVector(sT,r.z),a}static isFrontFacing(e,t,i,s){return _l.subVectors(i,t),lu.subVectors(e,t),_l.cross(lu).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _l.subVectors(this.c,this.b),lu.subVectors(this.a,this.b),_l.cross(lu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ma.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ma.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,r){return Ma.getInterpolation(e,this.a,this.b,this.c,t,i,s,r)}containsPoint(e){return Ma.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ma.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,r=this.c;let a,l;Em.subVectors(s,i),Mm.subVectors(r,i),$M.subVectors(e,i);const u=Em.dot($M),d=Mm.dot($M);if(u<=0&&d<=0)return t.copy(i);eT.subVectors(e,s);const m=Em.dot(eT),g=Mm.dot(eT);if(m>=0&&g<=m)return t.copy(s);const y=u*g-m*d;if(y<=0&&u>=0&&m<=0)return a=u/(u-m),t.copy(i).addScaledVector(Em,a);tT.subVectors(e,r);const b=Em.dot(tT),x=Mm.dot(tT);if(x>=0&&b<=x)return t.copy(r);const E=b*d-u*x;if(E<=0&&d>=0&&x<=0)return l=d/(d-x),t.copy(i).addScaledVector(Mm,l);const A=m*x-b*g;if(A<=0&&g-m>=0&&b-x>=0)return WN.subVectors(r,s),l=(g-m)/(g-m+(b-x)),t.copy(s).addScaledVector(WN,l);const S=1/(A+E+y);return a=E*S,l=y*S,t.copy(i).addScaledVector(Em,a).addScaledVector(Mm,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const oH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lf={h:0,s:0,l:0},Tx={h:0,s:0,l:0};function rT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Et{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Lr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ln.toWorkingColorSpace(this,t),this}setRGB(e,t,i,s=Ln.workingColorSpace){return this.r=e,this.g=t,this.b=i,Ln.toWorkingColorSpace(this,s),this}setHSL(e,t,i,s=Ln.workingColorSpace){if(e=F2(e,1),t=ln(t,0,1),i=ln(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,a=2*i-r;this.r=rT(a,r,e+1/3),this.g=rT(a,r,e),this.b=rT(a,r,e-1/3)}return Ln.toWorkingColorSpace(this,s),this}setStyle(e,t=Lr){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[1],l=s[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Lr){const i=oH[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xu(e.r),this.g=xu(e.g),this.b=xu(e.b),this}copyLinearToSRGB(e){return this.r=$m(e.r),this.g=$m(e.g),this.b=$m(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Lr){return Ln.fromWorkingColorSpace(Dr.copy(this),e),Math.round(ln(Dr.r*255,0,255))*65536+Math.round(ln(Dr.g*255,0,255))*256+Math.round(ln(Dr.b*255,0,255))}getHexString(e=Lr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ln.workingColorSpace){Ln.fromWorkingColorSpace(Dr.copy(this),t);const i=Dr.r,s=Dr.g,r=Dr.b,a=Math.max(i,s,r),l=Math.min(i,s,r);let u,d;const m=(l+a)/2;if(l===a)u=0,d=0;else{const g=a-l;switch(d=m<=.5?g/(a+l):g/(2-a-l),a){case i:u=(s-r)/g+(s<r?6:0);break;case s:u=(r-i)/g+2;break;case r:u=(i-s)/g+4;break}u/=6}return e.h=u,e.s=d,e.l=m,e}getRGB(e,t=Ln.workingColorSpace){return Ln.fromWorkingColorSpace(Dr.copy(this),t),e.r=Dr.r,e.g=Dr.g,e.b=Dr.b,e}getStyle(e=Lr){Ln.fromWorkingColorSpace(Dr.copy(this),e);const t=Dr.r,i=Dr.g,s=Dr.b;return e!==Lr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL(Lf),this.setHSL(Lf.h+e,Lf.s+t,Lf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Lf),e.getHSL(Tx);const i=l0(Lf.h,Tx.h,t),s=l0(Lf.s,Tx.s,t),r=l0(Lf.l,Tx.l,t);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*s,this.g=r[1]*t+r[4]*i+r[7]*s,this.b=r[2]*t+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Dr=new Et;Et.NAMES=oH;let Jne=0;class Vs extends Oc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Jne++}),this.uuid=no(),this.name="",this.type="Material",this.blending=Vh,this.side=Bc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=fA,this.blendDst=dA,this.blendEquation=kf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=Qh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Th,this.stencilZFail=Th,this.stencilZPass=Th,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Vh&&(i.blending=this.blending),this.side!==Bc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==fA&&(i.blendSrc=this.blendSrc),this.blendDst!==dA&&(i.blendDst=this.blendDst),this.blendEquation!==kf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Qh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Th&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Th&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Th&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const a=[];for(const l in r){const u=r[l];delete u.metadata,a.push(u)}return a}if(t){const r=s(e.textures),a=s(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class $a extends Vs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=v_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const mu=Qne();function Qne(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(i[u]=0,i[u|256]=32768,s[u]=24,s[u|256]=24):d<-14?(i[u]=1024>>-d-14,i[u|256]=1024>>-d-14|32768,s[u]=-d-1,s[u|256]=-d-1):d<=15?(i[u]=d+15<<10,i[u|256]=d+15<<10|32768,s[u]=13,s[u|256]=13):d<128?(i[u]=31744,i[u|256]=64512,s[u]=24,s[u|256]=24):(i[u]=31744,i[u|256]=64512,s[u]=13,s[u|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,r[u]=d|m}for(let u=1024;u<2048;++u)r[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:a,offsetTable:l}}function Ea(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ln(n,-65504,65504),mu.floatView[0]=n;const e=mu.uint32View[0],t=e>>23&511;return mu.baseTable[t]+((e&8388607)>>mu.shiftTable[t])}function Pv(n){const e=n>>10;return mu.uint32View[0]=mu.mantissaTable[mu.offsetTable[e]+(n&1023)]+mu.exponentTable[e],mu.floatView[0]}class Zne{static toHalfFloat(e){return Ea(e)}static fromHalfFloat(e){return Pv(e)}}const Cs=new re,Cx=new tt;let $ne=0;class Gn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:$ne++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=G0,this.updateRanges=[],this.gpuType=wa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Cx.fromBufferAttribute(this,t),Cx.applyMatrix3(e),this.setXY(t,Cx.x,Cx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.applyMatrix3(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.applyMatrix4(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.applyNormalMatrix(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.transformDirection(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=aa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=hn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=aa(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=aa(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=aa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=aa(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==G0&&(e.usage=this.usage),e}}class eie extends Gn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class tie extends Gn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class nie extends Gn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class iie extends Gn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class z2 extends Gn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class sie extends Gn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class H2 extends Gn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class rie extends Gn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Pv(this.array[e*this.itemSize]);return this.normalized&&(t=aa(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=Ea(t),this}getY(e){let t=Pv(this.array[e*this.itemSize+1]);return this.normalized&&(t=aa(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=Ea(t),this}getZ(e){let t=Pv(this.array[e*this.itemSize+2]);return this.normalized&&(t=aa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=Ea(t),this}getW(e){let t=Pv(this.array[e*this.itemSize+3]);return this.normalized&&(t=aa(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=Ea(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.array[e+0]=Ea(t),this.array[e+1]=Ea(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.array[e+0]=Ea(t),this.array[e+1]=Ea(i),this.array[e+2]=Ea(s),this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.array[e+0]=Ea(t),this.array[e+1]=Ea(i),this.array[e+2]=Ea(s),this.array[e+3]=Ea(r),this}}class Lt extends Gn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let aie=0;const Bo=new Gt,aT=new Pn,Tm=new re,Ya=new yr,Sv=new yr,Zs=new re;class cn extends Oc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:aie++}),this.uuid=no(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sH(e)?H2:z2)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new fn().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Bo.makeRotationFromQuaternion(e),this.applyMatrix4(Bo),this}rotateX(e){return Bo.makeRotationX(e),this.applyMatrix4(Bo),this}rotateY(e){return Bo.makeRotationY(e),this.applyMatrix4(Bo),this}rotateZ(e){return Bo.makeRotationZ(e),this.applyMatrix4(Bo),this}translate(e,t,i){return Bo.makeTranslation(e,t,i),this.applyMatrix4(Bo),this}scale(e,t,i){return Bo.makeScale(e,t,i),this.applyMatrix4(Bo),this}lookAt(e){return aT.lookAt(e),aT.updateMatrix(),this.applyMatrix4(aT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tm).negate(),this.translate(Tm.x,Tm.y,Tm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Lt(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const r=e[s];t.setXYZ(s,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const r=t[i];Ya.setFromBufferAttribute(r),this.morphTargetsRelative?(Zs.addVectors(this.boundingBox.min,Ya.min),this.boundingBox.expandByPoint(Zs),Zs.addVectors(this.boundingBox.max,Ya.max),this.boundingBox.expandByPoint(Zs)):(this.boundingBox.expandByPoint(Ya.min),this.boundingBox.expandByPoint(Ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(Ya.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const l=t[r];Sv.setFromBufferAttribute(l),this.morphTargetsRelative?(Zs.addVectors(Ya.min,Sv.min),Ya.expandByPoint(Zs),Zs.addVectors(Ya.max,Sv.max),Ya.expandByPoint(Zs)):(Ya.expandByPoint(Sv.min),Ya.expandByPoint(Sv.max))}Ya.getCenter(i);let s=0;for(let r=0,a=e.count;r<a;r++)Zs.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Zs));if(t)for(let r=0,a=t.length;r<a;r++){const l=t[r],u=this.morphTargetsRelative;for(let d=0,m=l.count;d<m;d++)Zs.fromBufferAttribute(l,d),u&&(Tm.fromBufferAttribute(e,d),Zs.add(Tm)),s=Math.max(s,i.distanceToSquared(Zs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gn(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let P=0;P<i.count;P++)l[P]=new re,u[P]=new re;const d=new re,m=new re,g=new re,y=new tt,b=new tt,x=new tt,E=new re,A=new re;function S(P,L,M){d.fromBufferAttribute(i,P),m.fromBufferAttribute(i,L),g.fromBufferAttribute(i,M),y.fromBufferAttribute(r,P),b.fromBufferAttribute(r,L),x.fromBufferAttribute(r,M),m.sub(d),g.sub(d),b.sub(y),x.sub(y);const F=1/(b.x*x.y-x.x*b.y);isFinite(F)&&(E.copy(m).multiplyScalar(x.y).addScaledVector(g,-b.y).multiplyScalar(F),A.copy(g).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(F),l[P].add(E),l[L].add(E),l[M].add(E),u[P].add(A),u[L].add(A),u[M].add(A))}let B=this.groups;B.length===0&&(B=[{start:0,count:e.count}]);for(let P=0,L=B.length;P<L;++P){const M=B[P],F=M.start,G=M.count;for(let J=F,ie=F+G;J<ie;J+=3)S(e.getX(J+0),e.getX(J+1),e.getX(J+2))}const w=new re,R=new re,N=new re,O=new re;function U(P){N.fromBufferAttribute(s,P),O.copy(N);const L=l[P];w.copy(L),w.sub(N.multiplyScalar(N.dot(L))).normalize(),R.crossVectors(O,L);const F=R.dot(u[P])<0?-1:1;a.setXYZW(P,w.x,w.y,w.z,F)}for(let P=0,L=B.length;P<L;++P){const M=B[P],F=M.start,G=M.count;for(let J=F,ie=F+G;J<ie;J+=3)U(e.getX(J+0)),U(e.getX(J+1)),U(e.getX(J+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Gn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const s=new re,r=new re,a=new re,l=new re,u=new re,d=new re,m=new re,g=new re;if(e)for(let y=0,b=e.count;y<b;y+=3){const x=e.getX(y+0),E=e.getX(y+1),A=e.getX(y+2);s.fromBufferAttribute(t,x),r.fromBufferAttribute(t,E),a.fromBufferAttribute(t,A),m.subVectors(a,r),g.subVectors(s,r),m.cross(g),l.fromBufferAttribute(i,x),u.fromBufferAttribute(i,E),d.fromBufferAttribute(i,A),l.add(m),u.add(m),d.add(m),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(E,u.x,u.y,u.z),i.setXYZ(A,d.x,d.y,d.z)}else for(let y=0,b=t.count;y<b;y+=3)s.fromBufferAttribute(t,y+0),r.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),m.subVectors(a,r),g.subVectors(s,r),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zs.fromBufferAttribute(e,t),Zs.normalize(),e.setXYZ(t,Zs.x,Zs.y,Zs.z)}toNonIndexed(){function e(l,u){const d=l.array,m=l.itemSize,g=l.normalized,y=new d.constructor(u.length*m);let b=0,x=0;for(let E=0,A=u.length;E<A;E++){l.isInterleavedBufferAttribute?b=u[E]*l.data.stride+l.offset:b=u[E]*m;for(let S=0;S<m;S++)y[x++]=d[b++]}return new Gn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new cn,i=this.index.array,s=this.attributes;for(const l in s){const u=s[l],d=e(u,i);t.setAttribute(l,d)}const r=this.morphAttributes;for(const l in r){const u=[],d=r[l];for(let m=0,g=d.length;m<g;m++){const y=d[m],b=e(y,i);u.push(b)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(e[d]=u[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const d=i[u];e.data.attributes[u]=d.toJSON(e.data)}const s={};let r=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g];m.push(b.toJSON(e.data))}m.length>0&&(s[u]=m,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const d in s){const m=s[d];this.setAttribute(d,m.clone(t))}const r=e.morphAttributes;for(const d in r){const m=[],g=r[d];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,m=a.length;d<m;d++){const g=a[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XN=new Gt,oh=new rp,wx=new sr,YN=new re,Rx=new re,Bx=new re,Dx=new re,oT=new re,Ix=new re,qN=new re,Ox=new re;class ms extends Pn{constructor(e=new cn,t=new $a){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(r&&l){Ix.set(0,0,0);for(let u=0,d=r.length;u<d;u++){const m=l[u],g=r[u];m!==0&&(oT.fromBufferAttribute(g,e),a?Ix.addScaledVector(oT,m):Ix.addScaledVector(oT.sub(t),m))}t.add(Ix)}return t}raycast(e,t){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),wx.copy(i.boundingSphere),wx.applyMatrix4(r),oh.copy(e.ray).recast(e.near),!(wx.containsPoint(oh.origin)===!1&&(oh.intersectSphere(wx,YN)===null||oh.origin.distanceToSquared(YN)>(e.far-e.near)**2))&&(XN.copy(r).invert(),oh.copy(e.ray).applyMatrix4(XN),!(i.boundingBox!==null&&oh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,oh)))}_computeIntersections(e,t,i){let s;const r=this.geometry,a=this.material,l=r.index,u=r.attributes.position,d=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,y=r.groups,b=r.drawRange;if(l!==null)if(Array.isArray(a))for(let x=0,E=y.length;x<E;x++){const A=y[x],S=a[A.materialIndex],B=Math.max(A.start,b.start),w=Math.min(l.count,Math.min(A.start+A.count,b.start+b.count));for(let R=B,N=w;R<N;R+=3){const O=l.getX(R),U=l.getX(R+1),P=l.getX(R+2);s=Nx(this,S,e,i,d,m,g,O,U,P),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const x=Math.max(0,b.start),E=Math.min(l.count,b.start+b.count);for(let A=x,S=E;A<S;A+=3){const B=l.getX(A),w=l.getX(A+1),R=l.getX(A+2);s=Nx(this,a,e,i,d,m,g,B,w,R),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}else if(u!==void 0)if(Array.isArray(a))for(let x=0,E=y.length;x<E;x++){const A=y[x],S=a[A.materialIndex],B=Math.max(A.start,b.start),w=Math.min(u.count,Math.min(A.start+A.count,b.start+b.count));for(let R=B,N=w;R<N;R+=3){const O=R,U=R+1,P=R+2;s=Nx(this,S,e,i,d,m,g,O,U,P),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const x=Math.max(0,b.start),E=Math.min(u.count,b.start+b.count);for(let A=x,S=E;A<S;A+=3){const B=A,w=A+1,R=A+2;s=Nx(this,a,e,i,d,m,g,B,w,R),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}}}function oie(n,e,t,i,s,r,a,l){let u;if(e.side===ca?u=i.intersectTriangle(a,r,s,!0,l):u=i.intersectTriangle(s,r,a,e.side===Bc,l),u===null)return null;Ox.copy(l),Ox.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(Ox);return d<t.near||d>t.far?null:{distance:d,point:Ox.clone(),object:n}}function Nx(n,e,t,i,s,r,a,l,u,d){n.getVertexPosition(l,Rx),n.getVertexPosition(u,Bx),n.getVertexPosition(d,Dx);const m=oie(n,e,t,i,Rx,Bx,Dx,qN);if(m){const g=new re;Ma.getBarycoord(qN,Rx,Bx,Dx,g),s&&(m.uv=Ma.getInterpolatedAttribute(s,l,u,d,g,new tt)),r&&(m.uv1=Ma.getInterpolatedAttribute(r,l,u,d,g,new tt)),a&&(m.normal=Ma.getInterpolatedAttribute(a,l,u,d,g,new re),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:l,b:u,c:d,normal:new re,materialIndex:0};Ma.getNormal(Rx,Bx,Dx,y.normal),m.face=y,m.barycoord=g}return m}class ap extends cn{constructor(e=1,t=1,i=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:r,depthSegments:a};const l=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const u=[],d=[],m=[],g=[];let y=0,b=0;x("z","y","x",-1,-1,i,t,e,a,r,0),x("z","y","x",1,-1,i,t,-e,a,r,1),x("x","z","y",1,1,e,i,t,s,a,2),x("x","z","y",1,-1,e,i,-t,s,a,3),x("x","y","z",1,-1,e,t,i,s,r,4),x("x","y","z",-1,-1,e,t,-i,s,r,5),this.setIndex(u),this.setAttribute("position",new Lt(d,3)),this.setAttribute("normal",new Lt(m,3)),this.setAttribute("uv",new Lt(g,2));function x(E,A,S,B,w,R,N,O,U,P,L){const M=R/U,F=N/P,G=R/2,J=N/2,ie=O/2,ne=U+1,H=P+1;let q=0,$=0;const se=new re;for(let X=0;X<H;X++){const ae=X*F-J;for(let _e=0;_e<ne;_e++){const Ae=_e*M-G;se[E]=Ae*B,se[A]=ae*w,se[S]=ie,d.push(se.x,se.y,se.z),se[E]=0,se[A]=0,se[S]=O>0?1:-1,m.push(se.x,se.y,se.z),g.push(_e/U),g.push(1-X/P),q+=1}}for(let X=0;X<P;X++)for(let ae=0;ae<U;ae++){const _e=y+ae+ne*X,Ae=y+ae+ne*(X+1),ce=y+(ae+1)+ne*(X+1),be=y+(ae+1)+ne*X;u.push(_e,Ae,be),u.push(Ae,ce,be),$+=6}l.addGroup(b,$,L),b+=$,y+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ap(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ag(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function sa(n){const e={};for(let t=0;t<n.length;t++){const i=Ag(n[t]);for(const s in i)e[s]=i[s]}return e}function lie(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function lH(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ln.workingColorSpace}const cH={clone:Ag,merge:sa};var cie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Dl extends Vs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=cie,this.fragmentShader=uie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ag(e.uniforms),this.uniformsGroups=lie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?t.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[s]={type:"m4",value:a.toArray()}:t.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class q1 extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=Uo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Pf=new re,KN=new tt,JN=new tt;class as extends q1{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=xg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(jh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xg*2*Math.atan(Math.tan(jh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Pf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Pf.x,Pf.y).multiplyScalar(-e/Pf.z),Pf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Pf.x,Pf.y).multiplyScalar(-e/Pf.z)}getViewSize(e,t){return this.getViewBounds(e,KN,JN),t.subVectors(JN,KN)}setViewOffset(e,t,i,s,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(jh*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,r=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,d=a.fullHeight;r+=a.offsetX*s/u,t-=a.offsetY*i/d,s*=a.width/u,i*=a.height/d}const l=this.filmOffset;l!==0&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Cm=-90,wm=1;class uH extends Pn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new as(Cm,wm,e,t);s.layers=this.layers,this.add(s);const r=new as(Cm,wm,e,t);r.layers=this.layers,this.add(r);const a=new as(Cm,wm,e,t);a.layers=this.layers,this.add(a);const l=new as(Cm,wm,e,t);l.layers=this.layers,this.add(l);const u=new as(Cm,wm,e,t);u.layers=this.layers,this.add(u);const d=new as(Cm,wm,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,r,a,l,u]=t;for(const d of t)this.remove(d);if(e===Uo)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===k0)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,l,u,d,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,r),e.setRenderTarget(i,1,s),e.render(t,a),e.setRenderTarget(i,2,s),e.render(t,l),e.setRenderTarget(i,3,s),e.render(t,u),e.setRenderTarget(i,4,s),e.render(t,d),i.texture.generateMipmaps=E,e.setRenderTarget(i,5,s),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class x_ extends ki{constructor(e=[],t=Ou,i,s,r,a,l,u,d,m){super(e,t,i,s,r,a,l,u,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fH extends Dc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new x_(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ps}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new ap(5,5,5),r=new Dl({name:"CubemapFromEquirect",uniforms:Ag(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ca,blending:bu});r.uniforms.tEquirect.value=t;const a=new ms(s,r),l=t.minFilter;return t.minFilter===Po&&(t.minFilter=ps),new uH(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,s);e.setRenderTarget(r)}}class yu extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fie={type:"move"};class RS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new yu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new yu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new yu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,r=null,a=null;const l=this._targetRay,u=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const E of e.hand.values()){const A=t.getJointPose(E,i),S=this._getHandJoint(d,E);A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=A.radius),S.visible=A!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,x=.005;d.inputState.pinching&&y>b+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=b-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(fie)))}return l!==null&&(l.visible=s!==null),u!==null&&(u.visible=r!==null),d!==null&&(d.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new yu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class K1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Et(e),this.density=t}clone(){return new K1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class J1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=t,this.far=i}clone(){return new J1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class G2 extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ro,this.environmentIntensity=1,this.environmentRotation=new ro,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class S_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=G0,this.updateRanges=[],this.version=0,this.uuid=no()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ia=new re;class ad{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ia.fromBufferAttribute(this,t),ia.applyMatrix4(e),this.setXYZ(t,ia.x,ia.y,ia.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ia.fromBufferAttribute(this,t),ia.applyNormalMatrix(e),this.setXYZ(t,ia.x,ia.y,ia.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ia.fromBufferAttribute(this,t),ia.transformDirection(e),this.setXYZ(t,ia.x,ia.y,ia.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=aa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=hn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=aa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=aa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=aa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=aa(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return new Gn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ad(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class k2 extends Vs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rm;const Av=new re,Bm=new re,Dm=new re,Im=new tt,Ev=new tt,dH=new Gt,Lx=new re,Mv=new re,Px=new re,QN=new tt,lT=new tt,ZN=new tt;class hH extends Pn{constructor(e=new k2){if(super(),this.isSprite=!0,this.type="Sprite",Rm===void 0){Rm=new cn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new S_(t,5);Rm.setIndex([0,1,2,0,2,3]),Rm.setAttribute("position",new ad(i,3,0,!1)),Rm.setAttribute("uv",new ad(i,2,3,!1))}this.geometry=Rm,this.material=e,this.center=new tt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bm.setFromMatrixScale(this.matrixWorld),dH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bm.multiplyScalar(-Dm.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const a=this.center;Ux(Lx.set(-.5,-.5,0),Dm,a,Bm,s,r),Ux(Mv.set(.5,-.5,0),Dm,a,Bm,s,r),Ux(Px.set(.5,.5,0),Dm,a,Bm,s,r),QN.set(0,0),lT.set(1,0),ZN.set(1,1);let l=e.ray.intersectTriangle(Lx,Mv,Px,!1,Av);if(l===null&&(Ux(Mv.set(-.5,.5,0),Dm,a,Bm,s,r),lT.set(0,1),l=e.ray.intersectTriangle(Lx,Px,Mv,!1,Av),l===null))return;const u=e.ray.origin.distanceTo(Av);u<e.near||u>e.far||t.push({distance:u,point:Av.clone(),uv:Ma.getInterpolation(Av,Lx,Mv,Px,QN,lT,ZN,new tt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ux(n,e,t,i,s,r){Im.subVectors(n,t).addScalar(.5).multiply(i),s!==void 0?(Ev.x=r*Im.x-s*Im.y,Ev.y=s*Im.x+r*Im.y):Ev.copy(Im),n.copy(e),n.x+=Ev.x,n.y+=Ev.y,n.applyMatrix4(dH)}const Fx=new re,$N=new re;class pH extends Pn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let r;for(r=0;r<s.length&&!(t<s[r].distance);r++);return s.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const s=t.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Fx.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Fx);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Fx.setFromMatrixPosition(e.matrixWorld),$N.setFromMatrixPosition(this.matrixWorld);const i=Fx.distanceTo($N)/e.zoom;t[0].object.visible=!0;let s,r;for(s=1,r=t.length;s<r;s++){let a=t[s].distance;if(t[s].object.visible&&(a-=a*t[s].hysteresis),i>=a)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const a=i[s];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const e3=new re,t3=new Hn,n3=new Hn,die=new re,i3=new Gt,zx=new re,cT=new sr,s3=new Gt,uT=new rp;class V2 extends ms{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cw,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new yr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,zx),this.boundingBox.expandByPoint(zx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new sr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,zx),this.boundingSphere.expandByPoint(zx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cT.copy(this.boundingSphere),cT.applyMatrix4(s),e.ray.intersectsSphere(cT)!==!1&&(s3.copy(s).invert(),uT.copy(e.ray).applyMatrix4(s3),!(this.boundingBox!==null&&uT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,uT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Hn,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===cw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===kz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;t3.fromBufferAttribute(s.attributes.skinIndex,e),n3.fromBufferAttribute(s.attributes.skinWeight,e),e3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const a=n3.getComponent(r);if(a!==0){const l=t3.getComponent(r);i3.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(die.copy(e3).applyMatrix4(i3),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Q1 extends Pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Cc extends ki{constructor(e=null,t=1,i=1,s,r,a,l,u,d=nr,m=nr,g,y){super(null,a,l,u,d,m,s,r,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const r3=new Gt,hie=new Gt;class A_{constructor(e=[],t=[]){this.uuid=no(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Gt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const l=e[r]?e[r].matrixWorld:hie;r3.multiplyMatrices(l,t[r]),r3.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new A_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Cc(t,e,e,Fr,wa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let a=t[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new Q1),this.bones.push(a),this.boneInverses.push(new Gt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,r=t.length;s<r;s++){const a=t[s];e.bones.push(a.uuid);const l=i[s];e.boneInverses.push(l.toArray())}return e}}class Zh extends Gn{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Om=new Gt,a3=new Gt,Hx=[],o3=new yr,pie=new Gt,Tv=new ms,Cv=new sr;class j2 extends ms{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Zh(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,pie)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new yr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Om),o3.copy(e.boundingBox).applyMatrix4(Om),this.boundingBox.union(o3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new sr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Om),Cv.copy(e.boundingSphere).applyMatrix4(Om),this.boundingSphere.union(Cv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,a=e*r+1;for(let l=0;l<i.length;l++)i[l]=s[a+l]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(Tv.geometry=this.geometry,Tv.material=this.material,Tv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Cv.copy(this.boundingSphere),Cv.applyMatrix4(i),e.ray.intersectsSphere(Cv)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Om),a3.multiplyMatrices(i,Om),Tv.matrixWorld=a3,Tv.raycast(e,Hx);for(let a=0,l=Hx.length;a<l;a++){const u=Hx[a];u.instanceId=r,u.object=this,t.push(u)}Hx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Zh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new Cc(new Float32Array(s*this.count),s,this.count,k1,wa));const r=this.morphTexture.source.data.data;let a=0;for(let d=0;d<i.length;d++)a+=i[d];const l=this.geometry.morphTargetsRelative?1:1-a,u=s*e;r[u]=l,r.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const fT=new re,mie=new re,gie=new fn;class hu{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=fT.subVectors(i,t).cross(mie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(fT),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||gie.getNormalMatrix(e),s=this.coplanarPoint(fT).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const lh=new sr,Gx=new re;class kg{constructor(e=new hu,t=new hu,i=new hu,s=new hu,r=new hu,a=new hu){this.planes=[e,t,i,s,r,a]}set(e,t,i,s,r,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(s),l[4].copy(r),l[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Uo){const i=this.planes,s=e.elements,r=s[0],a=s[1],l=s[2],u=s[3],d=s[4],m=s[5],g=s[6],y=s[7],b=s[8],x=s[9],E=s[10],A=s[11],S=s[12],B=s[13],w=s[14],R=s[15];if(i[0].setComponents(u-r,y-d,A-b,R-S).normalize(),i[1].setComponents(u+r,y+d,A+b,R+S).normalize(),i[2].setComponents(u+a,y+m,A+x,R+B).normalize(),i[3].setComponents(u-a,y-m,A-x,R-B).normalize(),i[4].setComponents(u-l,y-g,A-E,R-w).normalize(),t===Uo)i[5].setComponents(u+l,y+g,A+E,R+w).normalize();else if(t===k0)i[5].setComponents(l,g,E,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),lh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),lh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(lh)}intersectsSprite(e){return lh.center.set(0,0,0),lh.radius=.7071067811865476,lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(lh)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(Gx.x=s.normal.x>0?e.max.x:e.min.x,Gx.y=s.normal.y>0?e.max.y:e.min.y,Gx.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Gx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const gc=new Gt,yc=new kg;class Z1{constructor(){this.coordinateSystem=Uo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),yc.setFromProjectionMatrix(gc,this.coordinateSystem),yc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),yc.setFromProjectionMatrix(gc,this.coordinateSystem),yc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),yc.setFromProjectionMatrix(gc,this.coordinateSystem),yc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),yc.setFromProjectionMatrix(gc,this.coordinateSystem),yc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),yc.setFromProjectionMatrix(gc,this.coordinateSystem),yc.containsPoint(e))return!0}return!1}clone(){return new Z1}}function dT(n,e){return n-e}function yie(n,e){return n.z-e.z}function vie(n,e){return e.z-n.z}class _ie{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,s){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const l=r[this.index];a.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=s}reset(){this.list.length=0,this.index=0}}const Aa=new Gt,bie=new Et(1,1,1),l3=new kg,xie=new Z1,kx=new yr,ch=new sr,wv=new re,c3=new re,Sie=new re,hT=new _ie,Ir=new ms,Vx=[];function Aie(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let a=0;a<i;a++)e.setComponent(r+t,a,n.getComponent(r,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function uh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class mH extends ms{constructor(e,t,i=t*2,s){super(new cn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Cc(t,e,e,Fr,wa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Cc(t,e,e,__,Nu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Cc(t,e,e,Fr,wa);i.colorSpace=Ln.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const a=e.getAttribute(r),{array:l,itemSize:u,normalized:d}=a,m=new l.constructor(i*u),g=new Gn(m,u,d);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Gn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=t.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Aa),this.getBoundingBoxAt(r,kx).applyMatrix4(Aa),e.union(kx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Aa),this.getBoundingSphereAt(r,ch).applyMatrix4(Aa),e.union(ch)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(dT),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Aa.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const a=this._colorsTexture;return a&&(bie.toArray(a.image.data,s*4),a.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?a.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(dT),u=this._availableGeometryIds.shift(),r[u]=s):(u=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(u,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),a=t.getIndex(),l=this._geometryInfo[e];if(s&&a.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);Aie(g,y,u);const b=g.itemSize;for(let x=g.count,E=d;x<E;x++){const A=u+x;for(let S=0;S<b;S++)y.setComponent(A,S,0)}y.needsUpdate=!0,y.addUpdateRange(u*b,d*b)}if(s){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)r.setX(m+y,u+a.getX(y));for(let y=a.count,b=g;y<b;y++)r.setX(m+y,u);r.needsUpdate=!0,r.addUpdateRange(m,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,s=i.map((a,l)=>l).sort((a,l)=>i[a].vertexStart-i[l].vertexStart),r=this.geometry;for(let a=0,l=i.length;a<l;a++){const u=s[a],d=i[u];if(d.active!==!1){if(r.index!==null){if(d.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=d,b=r.index,x=b.array,E=e-g;for(let A=m;A<m+y;A++)x[A]=x[A]+E;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=d,y=r.attributes;for(const b in y){const x=y[b],{array:E,itemSize:A}=x;E.copyWithin(e*A,m*A,(m+g)*A),x.addUpdateRange(e*A,g*A)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=r.index?d.indexStart:d.vertexStart,this._nextIndexStart=r.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new yr,a=i.index,l=i.attributes.position;for(let u=s.start,d=s.start+s.count;u<d;u++){let m=u;a&&(m=a.getX(m)),r.expandByPoint(wv.fromBufferAttribute(l,m))}s.boundingBox=r}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new sr;this.getBoundingBoxAt(e,kx),kx.getCenter(r.center);const a=i.index,l=i.attributes.position;let u=0;for(let d=s.start,m=s.start+s.count;d<m;d++){let g=d;a&&(g=a.getX(g)),wv.fromBufferAttribute(l,g),u=Math.max(u,r.center.distanceToSquared(wv))}r.radius=Math.sqrt(u),s.boundingSphere=r}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(dT);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);uh(this._multiDrawCounts,s),uh(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;a.dispose(),this._initIndirectTexture(),uh(a.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),uh(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),uh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new cn,this._initializeGeometry(r));const a=this.geometry;r.index&&uh(r.index.array,a.index.array);for(const l in r.attributes)uh(r.attributes[l].array,a.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,a=this.geometry;Ir.material=this.material,Ir.geometry.index=a.index,Ir.geometry.attributes=a.attributes,Ir.geometry.boundingBox===null&&(Ir.geometry.boundingBox=new yr),Ir.geometry.boundingSphere===null&&(Ir.geometry.boundingSphere=new sr);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const d=i[l].geometryIndex,m=s[d];Ir.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Ir.matrixWorld).premultiply(r),this.getBoundingBoxAt(d,Ir.geometry.boundingBox),this.getBoundingSphereAt(d,Ir.geometry.boundingSphere),Ir.raycast(e,Vx);for(let g=0,y=Vx.length;g<y;g++){const b=Vx[g];b.object=this,b.batchId=l,t.push(b)}Vx.length=0}Ir.material=null,Ir.geometry.index=null,Ir.geometry.attributes={},Ir.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=s.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,E=i.isArrayCamera?xie:l3;y&&!i.isArrayCamera&&(Aa.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),l3.setFromProjectionMatrix(Aa,e.coordinateSystem));let A=0;if(this.sortObjects){Aa.copy(this.matrixWorld).invert(),wv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Aa),c3.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Aa);for(let w=0,R=u.length;w<R;w++)if(u[w].visible&&u[w].active){const N=u[w].geometryIndex;this.getMatrixAt(w,Aa),this.getBoundingSphereAt(N,ch).applyMatrix4(Aa);let O=!1;if(y&&(O=!E.intersectsSphere(ch,i)),!O){const U=g[N],P=Sie.subVectors(ch.center,wv).dot(c3);hT.push(U.start,U.count,P,w)}}const S=hT.list,B=this.customSort;B===null?S.sort(r.transparent?vie:yie):B.call(this,S,i);for(let w=0,R=S.length;w<R;w++){const N=S[w];d[A]=N.start*l,m[A]=N.count,x[A]=N.index,A++}hT.reset()}else for(let S=0,B=u.length;S<B;S++)if(u[S].visible&&u[S].active){const w=u[S].geometryIndex;let R=!1;if(y&&(this.getMatrixAt(S,Aa),this.getBoundingSphereAt(w,ch).applyMatrix4(Aa),R=!E.intersectsSphere(ch,i)),!R){const N=g[w];d[A]=N.start*l,m[A]=N.count,x[A]=S,A++}}b.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,r,a){this.onBeforeRender(e,null,s,r,a)}}class Hr extends Vs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const YA=new re,qA=new re,u3=new Gt,Rv=new rp,jx=new sr,pT=new re,f3=new re;class Lu extends Pn{constructor(e=new cn,t=new Hr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,r=t.count;s<r;s++)YA.fromBufferAttribute(t,s-1),qA.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=YA.distanceTo(qA);e.setAttribute("lineDistance",new Lt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),jx.copy(i.boundingSphere),jx.applyMatrix4(s),jx.radius+=r,e.ray.intersectsSphere(jx)===!1)return;u3.copy(s).invert(),Rv.copy(e.ray).applyMatrix4(u3);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,a.start),x=Math.min(m.count,a.start+a.count);for(let E=b,A=x-1;E<A;E+=d){const S=m.getX(E),B=m.getX(E+1),w=Wx(this,e,Rv,u,S,B,E);w&&t.push(w)}if(this.isLineLoop){const E=m.getX(x-1),A=m.getX(b),S=Wx(this,e,Rv,u,E,A,x-1);S&&t.push(S)}}else{const b=Math.max(0,a.start),x=Math.min(y.count,a.start+a.count);for(let E=b,A=x-1;E<A;E+=d){const S=Wx(this,e,Rv,u,E,E+1,E);S&&t.push(S)}if(this.isLineLoop){const E=Wx(this,e,Rv,u,x-1,b,x-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function Wx(n,e,t,i,s,r,a){const l=n.geometry.attributes.position;if(YA.fromBufferAttribute(l,s),qA.fromBufferAttribute(l,r),t.distanceSqToSegment(YA,qA,pT,f3)>i)return;pT.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(pT);if(!(d<e.near||d>e.far))return{distance:d,point:f3.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const d3=new re,h3=new re;class Ol extends Lu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,r=t.count;s<r;s+=2)d3.fromBufferAttribute(t,s),h3.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+d3.distanceTo(h3);e.setAttribute("lineDistance",new Lt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class W2 extends Lu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class $1 extends Vs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const p3=new Gt,dw=new rp,Xx=new sr,Yx=new re;class X2 extends Pn{constructor(e=new cn,t=new $1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Xx.copy(i.boundingSphere),Xx.applyMatrix4(s),Xx.radius+=r,e.ray.intersectsSphere(Xx)===!1)return;p3.copy(s).invert(),dw.copy(e.ray).applyMatrix4(p3);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=i.index,g=i.attributes.position;if(d!==null){const y=Math.max(0,a.start),b=Math.min(d.count,a.start+a.count);for(let x=y,E=b;x<E;x++){const A=d.getX(x);Yx.fromBufferAttribute(g,A),m3(Yx,A,u,s,e,t,this)}}else{const y=Math.max(0,a.start),b=Math.min(g.count,a.start+a.count);for(let x=y,E=b;x<E;x++)Yx.fromBufferAttribute(g,x),m3(Yx,x,u,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function m3(n,e,t,i,s,r,a){const l=dw.distanceSqToPoint(n);if(l<t){const u=new re;dw.closestPointToPoint(n,u),u.applyMatrix4(i);const d=s.ray.origin.distanceTo(u);if(d<s.near||d>s.far)return;r.push({distance:d,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class gH extends ki{constructor(e,t,i,s,r=ps,a=ps,l,u,d){super(e,t,i,s,r,a,l,u,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Eie extends gH{constructor(e,t,i,s,r,a,l,u){super({},e,t,i,s,r,a,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Mie extends ki{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=nr,this.minFilter=nr,this.generateMipmaps=!1,this.needsUpdate=!0}}class eE extends ki{constructor(e,t,i,s,r,a,l,u,d,m,g,y){super(null,a,l,u,d,m,s,r,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tie extends eE{constructor(e,t,i,s,r,a){super(e,t,i,r,a),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Za,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Cie extends eE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ou),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class wie extends ki{constructor(e,t,i,s,r,a,l,u,d){super(e,t,i,s,r,a,l,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tE extends ki{constructor(e,t,i=Nu,s,r,a,l=nr,u=nr,d,m=yg){if(m!==yg&&m!==vg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,s,r,a,l,u,m,i,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new jf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Rie extends tE{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nE extends cn{constructor(e=1,t=1,i=4,s=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:s,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),r=Math.max(1,Math.floor(r));const a=[],l=[],u=[],d=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,x=i*2+r,E=s+1,A=new re,S=new re;for(let B=0;B<=x;B++){let w=0,R=0,N=0,O=0;if(B<=i){const L=B/i,M=L*Math.PI/2;R=-m-e*Math.cos(M),N=e*Math.sin(M),O=-e*Math.cos(M),w=L*g}else if(B<=i+r){const L=(B-i)/r;R=-m+L*t,N=e,O=0,w=g+L*y}else{const L=(B-i-r)/i,M=L*Math.PI/2;R=m+e*Math.sin(M),N=e*Math.cos(M),O=e*Math.sin(M),w=g+y+L*g}const U=Math.max(0,Math.min(1,w/b));let P=0;B===0?P=.5/s:B===x&&(P=-.5/s);for(let L=0;L<=s;L++){const M=L/s,F=M*Math.PI*2,G=Math.sin(F),J=Math.cos(F);S.x=-N*J,S.y=R,S.z=N*G,l.push(S.x,S.y,S.z),A.set(-N*J,O,N*G),A.normalize(),u.push(A.x,A.y,A.z),d.push(M+P,U)}if(B>0){const L=(B-1)*E;for(let M=0;M<s;M++){const F=L+M,G=L+M+1,J=B*E+M,ie=B*E+M+1;a.push(F,G,J),a.push(G,ie,J)}}}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class iE extends cn{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const r=[],a=[],l=[],u=[],d=new re,m=new tt;a.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=i+g/t*s;d.x=e*Math.cos(b),d.y=e*Math.sin(b),a.push(d.x,d.y,d.z),l.push(0,0,1),m.x=(a[y]/e+1)/2,m.y=(a[y+1]/e+1)/2,u.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new Lt(a,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class E_ extends cn{constructor(e=1,t=1,i=1,s=32,r=1,a=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:r,openEnded:a,thetaStart:l,thetaLength:u};const d=this;s=Math.floor(s),r=Math.floor(r);const m=[],g=[],y=[],b=[];let x=0;const E=[],A=i/2;let S=0;B(),a===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(m),this.setAttribute("position",new Lt(g,3)),this.setAttribute("normal",new Lt(y,3)),this.setAttribute("uv",new Lt(b,2));function B(){const R=new re,N=new re;let O=0;const U=(t-e)/i;for(let P=0;P<=r;P++){const L=[],M=P/r,F=M*(t-e)+e;for(let G=0;G<=s;G++){const J=G/s,ie=J*u+l,ne=Math.sin(ie),H=Math.cos(ie);N.x=F*ne,N.y=-M*i+A,N.z=F*H,g.push(N.x,N.y,N.z),R.set(ne,U,H).normalize(),y.push(R.x,R.y,R.z),b.push(J,1-M),L.push(x++)}E.push(L)}for(let P=0;P<s;P++)for(let L=0;L<r;L++){const M=E[L][P],F=E[L+1][P],G=E[L+1][P+1],J=E[L][P+1];(e>0||L!==0)&&(m.push(M,F,J),O+=3),(t>0||L!==r-1)&&(m.push(F,G,J),O+=3)}d.addGroup(S,O,0),S+=O}function w(R){const N=x,O=new tt,U=new re;let P=0;const L=R===!0?e:t,M=R===!0?1:-1;for(let G=1;G<=s;G++)g.push(0,A*M,0),y.push(0,M,0),b.push(.5,.5),x++;const F=x;for(let G=0;G<=s;G++){const ie=G/s*u+l,ne=Math.cos(ie),H=Math.sin(ie);U.x=L*H,U.y=A*M,U.z=L*ne,g.push(U.x,U.y,U.z),y.push(0,M,0),O.x=ne*.5+.5,O.y=H*.5*M+.5,b.push(O.x,O.y),x++}for(let G=0;G<s;G++){const J=N+G,ie=F+G;R===!0?m.push(ie,ie+1,J):m.push(ie+1,ie,J),P+=3}d.addGroup(S,P,R===!0?1:2),S+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class M_ extends E_{constructor(e=1,t=1,i=32,s=1,r=!1,a=0,l=Math.PI*2){super(0,e,t,i,s,r,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:l}}static fromJSON(e){return new M_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ud extends cn{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const r=[],a=[];l(s),d(i),m(),this.setAttribute("position",new Lt(r,3)),this.setAttribute("normal",new Lt(r.slice(),3)),this.setAttribute("uv",new Lt(a,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(B){const w=new re,R=new re,N=new re;for(let O=0;O<t.length;O+=3)b(t[O+0],w),b(t[O+1],R),b(t[O+2],N),u(w,R,N,B)}function u(B,w,R,N){const O=N+1,U=[];for(let P=0;P<=O;P++){U[P]=[];const L=B.clone().lerp(R,P/O),M=w.clone().lerp(R,P/O),F=O-P;for(let G=0;G<=F;G++)G===0&&P===O?U[P][G]=L:U[P][G]=L.clone().lerp(M,G/F)}for(let P=0;P<O;P++)for(let L=0;L<2*(O-P)-1;L++){const M=Math.floor(L/2);L%2===0?(y(U[P][M+1]),y(U[P+1][M]),y(U[P][M])):(y(U[P][M+1]),y(U[P+1][M+1]),y(U[P+1][M]))}}function d(B){const w=new re;for(let R=0;R<r.length;R+=3)w.x=r[R+0],w.y=r[R+1],w.z=r[R+2],w.normalize().multiplyScalar(B),r[R+0]=w.x,r[R+1]=w.y,r[R+2]=w.z}function m(){const B=new re;for(let w=0;w<r.length;w+=3){B.x=r[w+0],B.y=r[w+1],B.z=r[w+2];const R=A(B)/2/Math.PI+.5,N=S(B)/Math.PI+.5;a.push(R,1-N)}x(),g()}function g(){for(let B=0;B<a.length;B+=6){const w=a[B+0],R=a[B+2],N=a[B+4],O=Math.max(w,R,N),U=Math.min(w,R,N);O>.9&&U<.1&&(w<.2&&(a[B+0]+=1),R<.2&&(a[B+2]+=1),N<.2&&(a[B+4]+=1))}}function y(B){r.push(B.x,B.y,B.z)}function b(B,w){const R=B*3;w.x=e[R+0],w.y=e[R+1],w.z=e[R+2]}function x(){const B=new re,w=new re,R=new re,N=new re,O=new tt,U=new tt,P=new tt;for(let L=0,M=0;L<r.length;L+=9,M+=6){B.set(r[L+0],r[L+1],r[L+2]),w.set(r[L+3],r[L+4],r[L+5]),R.set(r[L+6],r[L+7],r[L+8]),O.set(a[M+0],a[M+1]),U.set(a[M+2],a[M+3]),P.set(a[M+4],a[M+5]),N.copy(B).add(w).add(R).divideScalar(3);const F=A(N);E(O,M+0,B,F),E(U,M+2,w,F),E(P,M+4,R,F)}}function E(B,w,R,N){N<0&&B.x===1&&(a[w]=B.x-1),R.x===0&&R.z===0&&(a[w]=N/2/Math.PI+.5)}function A(B){return Math.atan2(B.z,-B.x)}function S(B){return Math.atan2(-B.y,Math.sqrt(B.x*B.x+B.z*B.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ud(e.vertices,e.indices,e.radius,e.details)}}class sE extends ud{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sE(e.radius,e.detail)}}const qx=new re,Kx=new re,mT=new re,Jx=new Ma;class yH extends cn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),r=Math.cos(jh*t),a=e.getIndex(),l=e.getAttribute("position"),u=a?a.count:l.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let x=0;x<u;x+=3){a?(d[0]=a.getX(x),d[1]=a.getX(x+1),d[2]=a.getX(x+2)):(d[0]=x,d[1]=x+1,d[2]=x+2);const{a:E,b:A,c:S}=Jx;if(E.fromBufferAttribute(l,d[0]),A.fromBufferAttribute(l,d[1]),S.fromBufferAttribute(l,d[2]),Jx.getNormal(mT),g[0]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,g[1]=`${Math.round(A.x*s)},${Math.round(A.y*s)},${Math.round(A.z*s)}`,g[2]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let B=0;B<3;B++){const w=(B+1)%3,R=g[B],N=g[w],O=Jx[m[B]],U=Jx[m[w]],P=`${R}_${N}`,L=`${N}_${R}`;L in y&&y[L]?(mT.dot(y[L].normal)<=r&&(b.push(O.x,O.y,O.z),b.push(U.x,U.y,U.z)),y[L]=null):P in y||(y[P]={index0:d[B],index1:d[w],normal:mT.clone()})}}for(const x in y)if(y[x]){const{index0:E,index1:A}=y[x];qx.fromBufferAttribute(l,E),Kx.fromBufferAttribute(l,A),b.push(qx.x,qx.y,qx.z),b.push(Kx.x,Kx.y,Kx.z)}this.setAttribute("position",new Lt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),r+=i.distanceTo(s),t.push(r),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let s=0;const r=i.length;let a;t?a=t:a=e*i[r-1];let l=0,u=r-1,d;for(;l<=u;)if(s=Math.floor(l+(u-l)/2),d=i[s]-a,d<0)l=s+1;else if(d>0)u=s-1;else{u=s;break}if(s=u,i[s]===a)return s/(r-1);const m=i[s],y=i[s+1]-m,b=(a-m)/y;return(s+b)/(r-1)}getTangent(e,t){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),l=this.getPoint(r),u=t||(a.isVector2?new tt:new re);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new re,s=[],r=[],a=[],l=new re,u=new Gt;for(let b=0;b<=e;b++){const x=b/e;s[b]=this.getTangentAt(x,new re)}r[0]=new re,a[0]=new re;let d=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),y=Math.abs(s[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),y<=d&&i.set(0,0,1),l.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],l),a[0].crossVectors(s[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),a[b]=a[b-1].clone(),l.crossVectors(s[b-1],s[b]),l.length()>Number.EPSILON){l.normalize();const x=Math.acos(ln(s[b-1].dot(s[b]),-1,1));r[b].applyMatrix4(u.makeRotationAxis(l,x))}a[b].crossVectors(s[b],r[b])}if(t===!0){let b=Math.acos(ln(r[0].dot(r[e]),-1,1));b/=e,s[0].dot(l.crossVectors(r[0],r[e]))>0&&(b=-b);for(let x=1;x<=e;x++)r[x].applyMatrix4(u.makeRotationAxis(s[x],b*x)),a[x].crossVectors(s[x],r[x])}return{tangents:s,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rE extends Nl{constructor(e=0,t=0,i=1,s=1,r=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new tt){const i=t,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(a?r=0:r=s),this.aClockwise===!0&&!a&&(r===s?r=-s:r=r-s);const l=this.aStartAngle+e*r;let u=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=u-this.aX,b=d-this.aY;u=y*m-b*g+this.aX,d=y*g+b*m+this.aY}return i.set(u,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class vH extends rE{constructor(e,t,i,s,r,a){super(e,t,i,i,s,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Y2(){let n=0,e=0,t=0,i=0;function s(r,a,l,u){n=r,e=l,t=-3*r+3*a-2*l-u,i=2*r-2*a+l+u}return{initCatmullRom:function(r,a,l,u,d){s(a,l,d*(l-r),d*(u-a))},initNonuniformCatmullRom:function(r,a,l,u,d,m,g){let y=(a-r)/d-(l-r)/(d+m)+(l-a)/m,b=(l-a)/m-(u-a)/(m+g)+(u-l)/g;y*=m,b*=m,s(a,l,y,b)},calc:function(r){const a=r*r,l=a*r;return n+e*r+t*a+i*l}}}const Qx=new re,gT=new Y2,yT=new Y2,vT=new Y2;class _H extends Nl{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new re){const i=t,s=this.points,r=s.length,a=(r-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:u===0&&l===r-1&&(l=r-2,u=1);let d,m;this.closed||l>0?d=s[(l-1)%r]:(Qx.subVectors(s[0],s[1]).add(s[0]),d=Qx);const g=s[l%r],y=s[(l+1)%r];if(this.closed||l+2<r?m=s[(l+2)%r]:(Qx.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=Qx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(d.distanceToSquared(g),b),E=Math.pow(g.distanceToSquared(y),b),A=Math.pow(y.distanceToSquared(m),b);E<1e-4&&(E=1),x<1e-4&&(x=E),A<1e-4&&(A=E),gT.initNonuniformCatmullRom(d.x,g.x,y.x,m.x,x,E,A),yT.initNonuniformCatmullRom(d.y,g.y,y.y,m.y,x,E,A),vT.initNonuniformCatmullRom(d.z,g.z,y.z,m.z,x,E,A)}else this.curveType==="catmullrom"&&(gT.initCatmullRom(d.x,g.x,y.x,m.x,this.tension),yT.initCatmullRom(d.y,g.y,y.y,m.y,this.tension),vT.initCatmullRom(d.z,g.z,y.z,m.z,this.tension));return i.set(gT.calc(u),yT.calc(u),vT.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new re().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function g3(n,e,t,i,s){const r=(i-e)*.5,a=(s-t)*.5,l=n*n,u=n*l;return(2*t-2*i+r+a)*u+(-3*t+3*i-2*r-a)*l+r*n+t}function Bie(n,e){const t=1-n;return t*t*e}function Die(n,e){return 2*(1-n)*n*e}function Iie(n,e){return n*n*e}function c0(n,e,t,i){return Bie(n,e)+Die(n,t)+Iie(n,i)}function Oie(n,e){const t=1-n;return t*t*t*e}function Nie(n,e){const t=1-n;return 3*t*t*n*e}function Lie(n,e){return 3*(1-n)*n*n*e}function Pie(n,e){return n*n*n*e}function u0(n,e,t,i,s){return Oie(n,e)+Nie(n,t)+Lie(n,i)+Pie(n,s)}class q2 extends Nl{constructor(e=new tt,t=new tt,i=new tt,s=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new tt){const i=t,s=this.v0,r=this.v1,a=this.v2,l=this.v3;return i.set(u0(e,s.x,r.x,a.x,l.x),u0(e,s.y,r.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bH extends Nl{constructor(e=new re,t=new re,i=new re,s=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new re){const i=t,s=this.v0,r=this.v1,a=this.v2,l=this.v3;return i.set(u0(e,s.x,r.x,a.x,l.x),u0(e,s.y,r.y,a.y,l.y),u0(e,s.z,r.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class K2 extends Nl{constructor(e=new tt,t=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new tt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new tt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xH extends Nl{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class J2 extends Nl{constructor(e=new tt,t=new tt,i=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new tt){const i=t,s=this.v0,r=this.v1,a=this.v2;return i.set(c0(e,s.x,r.x,a.x),c0(e,s.y,r.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Q2 extends Nl{constructor(e=new re,t=new re,i=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new re){const i=t,s=this.v0,r=this.v1,a=this.v2;return i.set(c0(e,s.x,r.x,a.x),c0(e,s.y,r.y,a.y),c0(e,s.z,r.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Z2 extends Nl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new tt){const i=t,s=this.points,r=(s.length-1)*e,a=Math.floor(r),l=r-a,u=s[a===0?a:a-1],d=s[a],m=s[a>s.length-2?s.length-1:a+1],g=s[a>s.length-3?s.length-1:a+2];return i.set(g3(l,u.x,d.x,m.x,g.x),g3(l,u.y,d.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new tt().fromArray(s))}return this}}var KA=Object.freeze({__proto__:null,ArcCurve:vH,CatmullRomCurve3:_H,CubicBezierCurve:q2,CubicBezierCurve3:bH,EllipseCurve:rE,LineCurve:K2,LineCurve3:xH,QuadraticBezierCurve:J2,QuadraticBezierCurve3:Q2,SplineCurve:Z2});class SH extends Nl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new KA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const a=s[r]-i,l=this.curves[r],u=l.getLength(),d=u===0?0:1-a/u;return l.getPointAt(d,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,u=a.getPoints(l);for(let d=0;d<u.length;d++){const m=u[d];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new KA[s.type]().fromJSON(s))}return this}}class JA extends SH{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new K2(this.currentPoint.clone(),new tt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const r=new J2(this.currentPoint.clone(),new tt(e,t),new tt(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,r,a){const l=new q2(this.currentPoint.clone(),new tt(e,t),new tt(i,s),new tt(r,a));return this.curves.push(l),this.currentPoint.set(r,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Z2(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,r,a){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,i,s,r,a),this}absarc(e,t,i,s,r,a){return this.absellipse(e,t,i,i,s,r,a),this}ellipse(e,t,i,s,r,a,l,u){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,t+m,i,s,r,a,l,u),this}absellipse(e,t,i,s,r,a,l,u){const d=new rE(e,t,i,s,r,a,l,u);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Wh extends JA{constructor(e){super(e),this.uuid=no(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new JA().fromJSON(s))}return this}}function Uie(n,e,t=2){const i=e&&e.length,s=i?e[0]*t:n.length;let r=AH(n,0,s,t,!0);const a=[];if(!r||r.next===r.prev)return a;let l,u,d;if(i&&(r=kie(n,e,r,t)),n.length>80*t){l=1/0,u=1/0;let m=-1/0,g=-1/0;for(let y=t;y<s;y+=t){const b=n[y],x=n[y+1];b<l&&(l=b),x<u&&(u=x),b>m&&(m=b),x>g&&(g=x)}d=Math.max(m-l,g-u),d=d!==0?32767/d:0}return j0(r,a,t,l,u,d,0),a}function AH(n,e,t,i,s){let r;if(s===$ie(n,e,t,i)>0)for(let a=e;a<t;a+=i)r=y3(a/i|0,n[a],n[a+1],r);else for(let a=t-i;a>=e;a-=i)r=y3(a/i|0,n[a],n[a+1],r);return r&&Eg(r,r.next)&&(X0(r),r=r.next),r}function $h(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Eg(t,t.next)||Ki(t.prev,t,t.next)===0)){if(X0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function j0(n,e,t,i,s,r,a){if(!n)return;!a&&r&&Yie(n,i,s,r);let l=n;for(;n.prev!==n.next;){const u=n.prev,d=n.next;if(r?zie(n,i,s,r):Fie(n)){e.push(u.i,n.i,d.i),X0(n),n=d.next,l=d.next;continue}if(n=d,n===l){a?a===1?(n=Hie($h(n),e),j0(n,e,t,i,s,r,2)):a===2&&Gie(n,e,t,i,s,r):j0($h(n),e,t,i,s,r,1);break}}}function Fie(n){const e=n.prev,t=n,i=n.next;if(Ki(e,t,i)>=0)return!1;const s=e.x,r=t.x,a=i.x,l=e.y,u=t.y,d=i.y,m=Math.min(s,r,a),g=Math.min(l,u,d),y=Math.max(s,r,a),b=Math.max(l,u,d);let x=i.next;for(;x!==e;){if(x.x>=m&&x.x<=y&&x.y>=g&&x.y<=b&&Uv(s,l,r,u,a,d,x.x,x.y)&&Ki(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function zie(n,e,t,i){const s=n.prev,r=n,a=n.next;if(Ki(s,r,a)>=0)return!1;const l=s.x,u=r.x,d=a.x,m=s.y,g=r.y,y=a.y,b=Math.min(l,u,d),x=Math.min(m,g,y),E=Math.max(l,u,d),A=Math.max(m,g,y),S=hw(b,x,e,t,i),B=hw(E,A,e,t,i);let w=n.prevZ,R=n.nextZ;for(;w&&w.z>=S&&R&&R.z<=B;){if(w.x>=b&&w.x<=E&&w.y>=x&&w.y<=A&&w!==s&&w!==a&&Uv(l,m,u,g,d,y,w.x,w.y)&&Ki(w.prev,w,w.next)>=0||(w=w.prevZ,R.x>=b&&R.x<=E&&R.y>=x&&R.y<=A&&R!==s&&R!==a&&Uv(l,m,u,g,d,y,R.x,R.y)&&Ki(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;w&&w.z>=S;){if(w.x>=b&&w.x<=E&&w.y>=x&&w.y<=A&&w!==s&&w!==a&&Uv(l,m,u,g,d,y,w.x,w.y)&&Ki(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;R&&R.z<=B;){if(R.x>=b&&R.x<=E&&R.y>=x&&R.y<=A&&R!==s&&R!==a&&Uv(l,m,u,g,d,y,R.x,R.y)&&Ki(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function Hie(n,e){let t=n;do{const i=t.prev,s=t.next.next;!Eg(i,s)&&MH(i,t,t.next,s)&&W0(i,s)&&W0(s,i)&&(e.push(i.i,t.i,s.i),X0(t),X0(t.next),t=n=s),t=t.next}while(t!==n);return $h(t)}function Gie(n,e,t,i,s,r){let a=n;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&Jie(a,l)){let u=TH(a,l);a=$h(a,a.next),u=$h(u,u.next),j0(a,e,t,i,s,r,0),j0(u,e,t,i,s,r,0);return}l=l.next}a=a.next}while(a!==n)}function kie(n,e,t,i){const s=[];for(let r=0,a=e.length;r<a;r++){const l=e[r]*i,u=r<a-1?e[r+1]*i:n.length,d=AH(n,l,u,i,!1);d===d.next&&(d.steiner=!0),s.push(Kie(d))}s.sort(Vie);for(let r=0;r<s.length;r++)t=jie(s[r],t);return t}function Vie(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=i-s}return t}function jie(n,e){const t=Wie(n,e);if(!t)return e;const i=TH(t,n);return $h(i,i.next),$h(t,t.next)}function Wie(n,e){let t=e;const i=n.x,s=n.y;let r=-1/0,a;if(Eg(n,t))return t;do{if(Eg(n,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const g=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>r&&(r=g,a=t.x<t.next.x?t:t.next,g===i))return a}t=t.next}while(t!==e);if(!a)return null;const l=a,u=a.x,d=a.y;let m=1/0;t=a;do{if(i>=t.x&&t.x>=u&&i!==t.x&&EH(s<d?i:r,s,u,d,s<d?r:i,s,t.x,t.y)){const g=Math.abs(s-t.y)/(i-t.x);W0(t,n)&&(g<m||g===m&&(t.x>a.x||t.x===a.x&&Xie(a,t)))&&(a=t,m=g)}t=t.next}while(t!==l);return a}function Xie(n,e){return Ki(n.prev,n,e.prev)<0&&Ki(e.next,n,n.next)<0}function Yie(n,e,t,i){let s=n;do s.z===0&&(s.z=hw(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,qie(s)}function qie(n){let e,t=1;do{let i=n,s;n=null;let r=null;for(e=0;i;){e++;let a=i,l=0;for(let d=0;d<t&&(l++,a=a.nextZ,!!a);d++);let u=t;for(;l>0||u>0&&a;)l!==0&&(u===0||!a||i.z<=a.z)?(s=i,i=i.nextZ,l--):(s=a,a=a.nextZ,u--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;i=a}r.nextZ=null,t*=2}while(e>1);return n}function hw(n,e,t,i,s){return n=(n-t)*s|0,e=(e-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Kie(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function EH(n,e,t,i,s,r,a,l){return(s-a)*(e-l)>=(n-a)*(r-l)&&(n-a)*(i-l)>=(t-a)*(e-l)&&(t-a)*(r-l)>=(s-a)*(i-l)}function Uv(n,e,t,i,s,r,a,l){return!(n===a&&e===l)&&EH(n,e,t,i,s,r,a,l)}function Jie(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Qie(n,e)&&(W0(n,e)&&W0(e,n)&&Zie(n,e)&&(Ki(n.prev,n,e.prev)||Ki(n,e.prev,e))||Eg(n,e)&&Ki(n.prev,n,n.next)>0&&Ki(e.prev,e,e.next)>0)}function Ki(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Eg(n,e){return n.x===e.x&&n.y===e.y}function MH(n,e,t,i){const s=$x(Ki(n,e,t)),r=$x(Ki(n,e,i)),a=$x(Ki(t,i,n)),l=$x(Ki(t,i,e));return!!(s!==r&&a!==l||s===0&&Zx(n,t,e)||r===0&&Zx(n,i,e)||a===0&&Zx(t,n,i)||l===0&&Zx(t,e,i))}function Zx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function $x(n){return n>0?1:n<0?-1:0}function Qie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&MH(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function W0(n,e){return Ki(n.prev,n,n.next)<0?Ki(n,e,n.next)>=0&&Ki(n,n.prev,e)>=0:Ki(n,e,n.prev)<0||Ki(n,n.next,e)<0}function Zie(n,e){let t=n,i=!1;const s=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&s<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function TH(n,e){const t=pw(n.i,n.x,n.y),i=pw(e.i,e.x,e.y),s=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=s,s.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function y3(n,e,t,i){const s=pw(n,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function X0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function pw(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function $ie(n,e,t,i){let s=0;for(let r=e,a=t-i;r<t;r+=i)s+=(n[a]-n[r])*(n[r+1]+n[a+1]),a=r;return s}class ese{static triangulate(e,t,i=2){return Uie(e,t,i)}}class Rl{static area(e){const t=e.length;let i=0;for(let s=t-1,r=0;r<t;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return Rl.area(e)<0}static triangulateShape(e,t){const i=[],s=[],r=[];v3(e),_3(i,e);let a=e.length;t.forEach(v3);for(let u=0;u<t.length;u++)s.push(a),a+=t[u].length,_3(i,t[u]);const l=ese.triangulate(i,s);for(let u=0;u<l.length;u+=3)r.push(l.slice(u,u+3));return r}}function v3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function _3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class aE extends cn{constructor(e=new Wh([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let l=0,u=e.length;l<u;l++){const d=e[l];a(d)}this.setAttribute("position",new Lt(s,3)),this.setAttribute("uv",new Lt(r,2)),this.computeVertexNormals();function a(l){const u=[],d=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:b-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,B=t.UVGenerator!==void 0?t.UVGenerator:tse;let w,R=!1,N,O,U,P;S&&(w=S.getSpacedPoints(m),R=!0,y=!1,N=S.computeFrenetFrames(m,!1),O=new re,U=new re,P=new re),y||(A=0,b=0,x=0,E=0);const L=l.extractPoints(d);let M=L.shape;const F=L.holes;if(!Rl.isClockWise(M)){M=M.reverse();for(let W=0,ze=F.length;W<ze;W++){const De=F[W];Rl.isClockWise(De)&&(F[W]=De.reverse())}}function J(W){const De=10000000000000001e-36;let Ge=W[0];for(let ve=1;ve<=W.length;ve++){const at=ve%W.length,Te=W[at],Z=Te.x-Ge.x,k=Te.y-Ge.y,me=Z*Z+k*k,Be=Math.max(Math.abs(Te.x),Math.abs(Te.y),Math.abs(Ge.x),Math.abs(Ge.y)),Ke=De*Be*Be;if(me<=Ke){W.splice(at,1),ve--;continue}Ge=Te}}J(M),F.forEach(J);const ie=F.length,ne=M;for(let W=0;W<ie;W++){const ze=F[W];M=M.concat(ze)}function H(W,ze,De){return ze||console.error("THREE.ExtrudeGeometry: vec does not exist"),W.clone().addScaledVector(ze,De)}const q=M.length;function $(W,ze,De){let Ge,ve,at;const Te=W.x-ze.x,Z=W.y-ze.y,k=De.x-W.x,me=De.y-W.y,Be=Te*Te+Z*Z,Ke=Te*me-Z*k;if(Math.abs(Ke)>Number.EPSILON){const He=Math.sqrt(Be),ct=Math.sqrt(k*k+me*me),rt=ze.x-Z/He,_t=ze.y+Te/He,bt=De.x-me/ct,Ve=De.y+k/ct,ut=((bt-rt)*me-(Ve-_t)*k)/(Te*me-Z*k);Ge=rt+Te*ut-W.x,ve=_t+Z*ut-W.y;const xt=Ge*Ge+ve*ve;if(xt<=2)return new tt(Ge,ve);at=Math.sqrt(xt/2)}else{let He=!1;Te>Number.EPSILON?k>Number.EPSILON&&(He=!0):Te<-Number.EPSILON?k<-Number.EPSILON&&(He=!0):Math.sign(Z)===Math.sign(me)&&(He=!0),He?(Ge=-Z,ve=Te,at=Math.sqrt(Be)):(Ge=Te,ve=Z,at=Math.sqrt(Be/2))}return new tt(Ge/at,ve/at)}const se=[];for(let W=0,ze=ne.length,De=ze-1,Ge=W+1;W<ze;W++,De++,Ge++)De===ze&&(De=0),Ge===ze&&(Ge=0),se[W]=$(ne[W],ne[De],ne[Ge]);const X=[];let ae,_e=se.concat();for(let W=0,ze=ie;W<ze;W++){const De=F[W];ae=[];for(let Ge=0,ve=De.length,at=ve-1,Te=Ge+1;Ge<ve;Ge++,at++,Te++)at===ve&&(at=0),Te===ve&&(Te=0),ae[Ge]=$(De[Ge],De[at],De[Te]);X.push(ae),_e=_e.concat(ae)}let Ae;if(A===0)Ae=Rl.triangulateShape(ne,F);else{const W=[],ze=[];for(let De=0;De<A;De++){const Ge=De/A,ve=b*Math.cos(Ge*Math.PI/2),at=x*Math.sin(Ge*Math.PI/2)+E;for(let Te=0,Z=ne.length;Te<Z;Te++){const k=H(ne[Te],se[Te],at);j(k.x,k.y,-ve),Ge===0&&W.push(k)}for(let Te=0,Z=ie;Te<Z;Te++){const k=F[Te];ae=X[Te];const me=[];for(let Be=0,Ke=k.length;Be<Ke;Be++){const He=H(k[Be],ae[Be],at);j(He.x,He.y,-ve),Ge===0&&me.push(He)}Ge===0&&ze.push(me)}}Ae=Rl.triangulateShape(W,ze)}const ce=Ae.length,be=x+E;for(let W=0;W<q;W++){const ze=y?H(M[W],_e[W],be):M[W];R?(U.copy(N.normals[0]).multiplyScalar(ze.x),O.copy(N.binormals[0]).multiplyScalar(ze.y),P.copy(w[0]).add(U).add(O),j(P.x,P.y,P.z)):j(ze.x,ze.y,0)}for(let W=1;W<=m;W++)for(let ze=0;ze<q;ze++){const De=y?H(M[ze],_e[ze],be):M[ze];R?(U.copy(N.normals[W]).multiplyScalar(De.x),O.copy(N.binormals[W]).multiplyScalar(De.y),P.copy(w[W]).add(U).add(O),j(P.x,P.y,P.z)):j(De.x,De.y,g/m*W)}for(let W=A-1;W>=0;W--){const ze=W/A,De=b*Math.cos(ze*Math.PI/2),Ge=x*Math.sin(ze*Math.PI/2)+E;for(let ve=0,at=ne.length;ve<at;ve++){const Te=H(ne[ve],se[ve],Ge);j(Te.x,Te.y,g+De)}for(let ve=0,at=F.length;ve<at;ve++){const Te=F[ve];ae=X[ve];for(let Z=0,k=Te.length;Z<k;Z++){const me=H(Te[Z],ae[Z],Ge);R?j(me.x,me.y+w[m-1].y,w[m-1].x+De):j(me.x,me.y,g+De)}}}Ue(),Qe();function Ue(){const W=s.length/3;if(y){let ze=0,De=q*ze;for(let Ge=0;Ge<ce;Ge++){const ve=Ae[Ge];Q(ve[2]+De,ve[1]+De,ve[0]+De)}ze=m+A*2,De=q*ze;for(let Ge=0;Ge<ce;Ge++){const ve=Ae[Ge];Q(ve[0]+De,ve[1]+De,ve[2]+De)}}else{for(let ze=0;ze<ce;ze++){const De=Ae[ze];Q(De[2],De[1],De[0])}for(let ze=0;ze<ce;ze++){const De=Ae[ze];Q(De[0]+q*m,De[1]+q*m,De[2]+q*m)}}i.addGroup(W,s.length/3-W,0)}function Qe(){const W=s.length/3;let ze=0;xe(ne,ze),ze+=ne.length;for(let De=0,Ge=F.length;De<Ge;De++){const ve=F[De];xe(ve,ze),ze+=ve.length}i.addGroup(W,s.length/3-W,1)}function xe(W,ze){let De=W.length;for(;--De>=0;){const Ge=De;let ve=De-1;ve<0&&(ve=W.length-1);for(let at=0,Te=m+A*2;at<Te;at++){const Z=q*at,k=q*(at+1),me=ze+Ge+Z,Be=ze+ve+Z,Ke=ze+ve+k,He=ze+Ge+k;oe(me,Be,Ke,He)}}}function j(W,ze,De){u.push(W),u.push(ze),u.push(De)}function Q(W,ze,De){Ce(W),Ce(ze),Ce(De);const Ge=s.length/3,ve=B.generateTopUV(i,s,Ge-3,Ge-2,Ge-1);Se(ve[0]),Se(ve[1]),Se(ve[2])}function oe(W,ze,De,Ge){Ce(W),Ce(ze),Ce(Ge),Ce(ze),Ce(De),Ce(Ge);const ve=s.length/3,at=B.generateSideWallUV(i,s,ve-6,ve-3,ve-2,ve-1);Se(at[0]),Se(at[1]),Se(at[3]),Se(at[1]),Se(at[2]),Se(at[3])}function Ce(W){s.push(u[W*3+0]),s.push(u[W*3+1]),s.push(u[W*3+2])}function Se(W){r.push(W.x),r.push(W.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return nse(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const l=t[e.shapes[r]];i.push(l)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new KA[s.type]().fromJSON(s)),new aE(i,e.options)}}const tse={generateTopUV:function(n,e,t,i,s){const r=e[t*3],a=e[t*3+1],l=e[i*3],u=e[i*3+1],d=e[s*3],m=e[s*3+1];return[new tt(r,a),new tt(l,u),new tt(d,m)]},generateSideWallUV:function(n,e,t,i,s,r){const a=e[t*3],l=e[t*3+1],u=e[t*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],b=e[s*3+1],x=e[s*3+2],E=e[r*3],A=e[r*3+1],S=e[r*3+2];return Math.abs(l-m)<Math.abs(a-d)?[new tt(a,1-u),new tt(d,1-g),new tt(y,1-x),new tt(E,1-S)]:[new tt(l,1-u),new tt(m,1-g),new tt(b,1-x),new tt(A,1-S)]}};function nse(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class oE extends ud{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new oE(e.radius,e.detail)}}class lE extends cn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=ln(s,0,Math.PI*2);const r=[],a=[],l=[],u=[],d=[],m=1/t,g=new re,y=new tt,b=new re,x=new re,E=new re;let A=0,S=0;for(let B=0;B<=e.length-1;B++)switch(B){case 0:A=e[B+1].x-e[B].x,S=e[B+1].y-e[B].y,b.x=S*1,b.y=-A,b.z=S*0,E.copy(b),b.normalize(),u.push(b.x,b.y,b.z);break;case e.length-1:u.push(E.x,E.y,E.z);break;default:A=e[B+1].x-e[B].x,S=e[B+1].y-e[B].y,b.x=S*1,b.y=-A,b.z=S*0,x.copy(b),b.x+=E.x,b.y+=E.y,b.z+=E.z,b.normalize(),u.push(b.x,b.y,b.z),E.copy(x)}for(let B=0;B<=t;B++){const w=i+B*m*s,R=Math.sin(w),N=Math.cos(w);for(let O=0;O<=e.length-1;O++){g.x=e[O].x*R,g.y=e[O].y,g.z=e[O].x*N,a.push(g.x,g.y,g.z),y.x=B/t,y.y=O/(e.length-1),l.push(y.x,y.y);const U=u[3*O+0]*R,P=u[3*O+1],L=u[3*O+0]*N;d.push(U,P,L)}}for(let B=0;B<t;B++)for(let w=0;w<e.length-1;w++){const R=w+B*e.length,N=R,O=R+e.length,U=R+e.length+1,P=R+1;r.push(N,O,P),r.push(U,P,O)}this.setIndex(r),this.setAttribute("position",new Lt(a,3)),this.setAttribute("uv",new Lt(l,2)),this.setAttribute("normal",new Lt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lE(e.points,e.segments,e.phiStart,e.phiLength)}}class T_ extends ud{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new T_(e.radius,e.detail)}}class Vg extends cn{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const r=e/2,a=t/2,l=Math.floor(i),u=Math.floor(s),d=l+1,m=u+1,g=e/l,y=t/u,b=[],x=[],E=[],A=[];for(let S=0;S<m;S++){const B=S*y-a;for(let w=0;w<d;w++){const R=w*g-r;x.push(R,-B,0),E.push(0,0,1),A.push(w/l),A.push(1-S/u)}}for(let S=0;S<u;S++)for(let B=0;B<l;B++){const w=B+d*S,R=B+d*(S+1),N=B+1+d*(S+1),O=B+1+d*S;b.push(w,R,O),b.push(R,N,O)}this.setIndex(b),this.setAttribute("position",new Lt(x,3)),this.setAttribute("normal",new Lt(E,3)),this.setAttribute("uv",new Lt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vg(e.width,e.height,e.widthSegments,e.heightSegments)}}class cE extends cn{constructor(e=.5,t=1,i=32,s=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:a},i=Math.max(3,i),s=Math.max(1,s);const l=[],u=[],d=[],m=[];let g=e;const y=(t-e)/s,b=new re,x=new tt;for(let E=0;E<=s;E++){for(let A=0;A<=i;A++){const S=r+A/i*a;b.x=g*Math.cos(S),b.y=g*Math.sin(S),u.push(b.x,b.y,b.z),d.push(0,0,1),x.x=(b.x/t+1)/2,x.y=(b.y/t+1)/2,m.push(x.x,x.y)}g+=y}for(let E=0;E<s;E++){const A=E*(i+1);for(let S=0;S<i;S++){const B=S+A,w=B,R=B+i+1,N=B+i+2,O=B+1;l.push(w,R,O),l.push(R,N,O)}}this.setIndex(l),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class uE extends cn{constructor(e=new Wh([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],r=[],a=[];let l=0,u=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(l,u,m),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(r,3)),this.setAttribute("uv",new Lt(a,2));function d(m){const g=s.length/3,y=m.extractPoints(t);let b=y.shape;const x=y.holes;Rl.isClockWise(b)===!1&&(b=b.reverse());for(let A=0,S=x.length;A<S;A++){const B=x[A];Rl.isClockWise(B)===!0&&(x[A]=B.reverse())}const E=Rl.triangulateShape(b,x);for(let A=0,S=x.length;A<S;A++){const B=x[A];b=b.concat(B)}for(let A=0,S=b.length;A<S;A++){const B=b[A];s.push(B.x,B.y,0),r.push(0,0,1),a.push(B.x,B.y)}for(let A=0,S=E.length;A<S;A++){const B=E[A],w=B[0]+g,R=B[1]+g,N=B[2]+g;i.push(w,R,N),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ise(t,e)}static fromJSON(e,t){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const a=t[e.shapes[s]];i.push(a)}return new uE(i,e.curveSegments)}}function ise(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const s=n[t];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return e}class C_ extends cn{constructor(e=1,t=32,i=16,s=0,r=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:r,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(a+l,Math.PI);let d=0;const m=[],g=new re,y=new re,b=[],x=[],E=[],A=[];for(let S=0;S<=i;S++){const B=[],w=S/i;let R=0;S===0&&a===0?R=.5/t:S===i&&u===Math.PI&&(R=-.5/t);for(let N=0;N<=t;N++){const O=N/t;g.x=-e*Math.cos(s+O*r)*Math.sin(a+w*l),g.y=e*Math.cos(a+w*l),g.z=e*Math.sin(s+O*r)*Math.sin(a+w*l),x.push(g.x,g.y,g.z),y.copy(g).normalize(),E.push(y.x,y.y,y.z),A.push(O+R,1-w),B.push(d++)}m.push(B)}for(let S=0;S<i;S++)for(let B=0;B<t;B++){const w=m[S][B+1],R=m[S][B],N=m[S+1][B],O=m[S+1][B+1];(S!==0||a>0)&&b.push(w,R,O),(S!==i-1||u<Math.PI)&&b.push(R,N,O)}this.setIndex(b),this.setAttribute("position",new Lt(x,3)),this.setAttribute("normal",new Lt(E,3)),this.setAttribute("uv",new Lt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fE extends ud{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fE(e.radius,e.detail)}}class dE extends cn{constructor(e=1,t=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const a=[],l=[],u=[],d=[],m=new re,g=new re,y=new re;for(let b=0;b<=i;b++)for(let x=0;x<=s;x++){const E=x/s*r,A=b/i*Math.PI*2;g.x=(e+t*Math.cos(A))*Math.cos(E),g.y=(e+t*Math.cos(A))*Math.sin(E),g.z=t*Math.sin(A),l.push(g.x,g.y,g.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),y.subVectors(g,m).normalize(),u.push(y.x,y.y,y.z),d.push(x/s),d.push(b/i)}for(let b=1;b<=i;b++)for(let x=1;x<=s;x++){const E=(s+1)*b+x-1,A=(s+1)*(b-1)+x-1,S=(s+1)*(b-1)+x,B=(s+1)*b+x;a.push(E,A,B),a.push(A,S,B)}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class hE extends cn{constructor(e=1,t=.4,i=64,s=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:r,q:a},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],d=[],m=[],g=new re,y=new re,b=new re,x=new re,E=new re,A=new re,S=new re;for(let w=0;w<=i;++w){const R=w/i*r*Math.PI*2;B(R,r,a,e,b),B(R+.01,r,a,e,x),A.subVectors(x,b),S.addVectors(x,b),E.crossVectors(A,S),S.crossVectors(E,A),E.normalize(),S.normalize();for(let N=0;N<=s;++N){const O=N/s*Math.PI*2,U=-t*Math.cos(O),P=t*Math.sin(O);g.x=b.x+(U*S.x+P*E.x),g.y=b.y+(U*S.y+P*E.y),g.z=b.z+(U*S.z+P*E.z),u.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),d.push(y.x,y.y,y.z),m.push(w/i),m.push(N/s)}}for(let w=1;w<=i;w++)for(let R=1;R<=s;R++){const N=(s+1)*(w-1)+(R-1),O=(s+1)*w+(R-1),U=(s+1)*w+R,P=(s+1)*(w-1)+R;l.push(N,O,P),l.push(O,U,P)}this.setIndex(l),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(m,2));function B(w,R,N,O,U){const P=Math.cos(w),L=Math.sin(w),M=N/R*w,F=Math.cos(M);U.x=O*(2+F)*.5*P,U.y=O*(2+F)*L*.5,U.z=O*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class pE extends cn{constructor(e=new Q2(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new re,u=new re,d=new tt;let m=new re;const g=[],y=[],b=[],x=[];E(),this.setIndex(x),this.setAttribute("position",new Lt(g,3)),this.setAttribute("normal",new Lt(y,3)),this.setAttribute("uv",new Lt(b,2));function E(){for(let w=0;w<t;w++)A(w);A(r===!1?t:0),B(),S()}function A(w){m=e.getPointAt(w/t,m);const R=a.normals[w],N=a.binormals[w];for(let O=0;O<=s;O++){const U=O/s*Math.PI*2,P=Math.sin(U),L=-Math.cos(U);u.x=L*R.x+P*N.x,u.y=L*R.y+P*N.y,u.z=L*R.z+P*N.z,u.normalize(),y.push(u.x,u.y,u.z),l.x=m.x+i*u.x,l.y=m.y+i*u.y,l.z=m.z+i*u.z,g.push(l.x,l.y,l.z)}}function S(){for(let w=1;w<=t;w++)for(let R=1;R<=s;R++){const N=(s+1)*(w-1)+(R-1),O=(s+1)*w+(R-1),U=(s+1)*w+R,P=(s+1)*(w-1)+R;x.push(N,O,P),x.push(O,U,P)}}function B(){for(let w=0;w<=t;w++)for(let R=0;R<=s;R++)d.x=w/t,d.y=R/s,b.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new pE(new KA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class CH extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new re,r=new re;if(e.index!==null){const a=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,m=u.length;d<m;++d){const g=u[d],y=g.start,b=g.count;for(let x=y,E=y+b;x<E;x+=3)for(let A=0;A<3;A++){const S=l.getX(x+A),B=l.getX(x+(A+1)%3);s.fromBufferAttribute(a,S),r.fromBufferAttribute(a,B),b3(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let l=0,u=a.count/3;l<u;l++)for(let d=0;d<3;d++){const m=3*l+d,g=3*l+(d+1)%3;s.fromBufferAttribute(a,m),r.fromBufferAttribute(a,g),b3(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Lt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function b3(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var x3=Object.freeze({__proto__:null,BoxGeometry:ap,CapsuleGeometry:nE,CircleGeometry:iE,ConeGeometry:M_,CylinderGeometry:E_,DodecahedronGeometry:sE,EdgesGeometry:yH,ExtrudeGeometry:aE,IcosahedronGeometry:oE,LatheGeometry:lE,OctahedronGeometry:T_,PlaneGeometry:Vg,PolyhedronGeometry:ud,RingGeometry:cE,ShapeGeometry:uE,SphereGeometry:C_,TetrahedronGeometry:fE,TorusGeometry:dE,TorusKnotGeometry:hE,TubeGeometry:pE,WireframeGeometry:CH});class wH extends Vs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RH extends Dl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class w_ extends Vs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jo extends w_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class BH extends Vs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=v_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DH extends Vs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class IH extends Vs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class OH extends Vs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ro,this.combine=v_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $2 extends Vs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Yz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class eB extends Vs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class NH extends Vs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LH extends Hr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Uh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function PH(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function UH(n){function e(s,r){return n[s]-n[r]}const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function mw(n,e,t){const i=n.length,s=new n.constructor(i);for(let r=0,a=0;a!==i;++r){const l=t[r]*e;for(let u=0;u!==e;++u)s[a++]=n[l+u]}return s}function tB(n,e,t,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(e.push(r.time),t.push(...a)),r=n[s++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(e.push(r.time),a.toArray(t,t.length)),r=n[s++];while(r!==void 0);else do a=r[i],a!==void 0&&(e.push(r.time),t.push(a)),r=n[s++];while(r!==void 0)}function sse(n,e,t,i,s=30){const r=n.clone();r.name=e;const a=[];for(let u=0;u<r.tracks.length;++u){const d=r.tracks[u],m=d.getValueSize(),g=[],y=[];for(let b=0;b<d.times.length;++b){const x=d.times[b]*s;if(!(x<t||x>=i)){g.push(d.times[b]);for(let E=0;E<m;++E)y.push(d.values[b*m+E])}}g.length!==0&&(d.times=Uh(g,d.times.constructor),d.values=Uh(y,d.values.constructor),a.push(d))}r.tracks=a;let l=1/0;for(let u=0;u<r.tracks.length;++u)l>r.tracks[u].times[0]&&(l=r.tracks[u].times[0]);for(let u=0;u<r.tracks.length;++u)r.tracks[u].shift(-1*l);return r.resetDuration(),r}function rse(n,e=0,t=n,i=30){i<=0&&(i=30);const s=t.tracks.length,r=e/i;for(let a=0;a<s;++a){const l=t.tracks[a],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const d=n.tracks.find(function(S){return S.name===l.name&&S.ValueTypeName===u});if(d===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const x=l.times.length-1;let E;if(r<=l.times[0]){const S=m,B=g-m;E=l.values.slice(S,B)}else if(r>=l.times[x]){const S=x*g+m,B=S+g-m;E=l.values.slice(S,B)}else{const S=l.createInterpolant(),B=m,w=g-m;S.evaluate(r),E=S.resultBuffer.slice(B,w)}u==="quaternion"&&new ir().fromArray(E).normalize().conjugate().toArray(E);const A=d.times.length;for(let S=0;S<A;++S){const B=S*b+y;if(u==="quaternion")ir.multiplyQuaternionsFlat(d.values,B,E,0,d.values,B);else{const w=b-y*2;for(let R=0;R<w;++R)d.values[B+R]-=E[R]}}}return n.blendMode=L2,n}class ase{static convertArray(e,t){return Uh(e,t)}static isTypedArray(e){return PH(e)}static getKeyframeOrder(e){return UH(e)}static sortedArray(e,t,i){return mw(e,t,i)}static flattenJSON(e,t,i,s){tB(e,t,i,s)}static subclip(e,t,i,s,r=30){return sse(e,t,i,s,r)}static makeClipAdditive(e,t=0,i=e,s=30){return rse(e,t,i,s)}}class jg{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],r=t[i-1];e:{t:{let a;n:{i:if(!(e<s)){for(let l=i+2;;){if(s===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(r=s,s=t[++i],e<s)break t}a=t.length;break n}if(!(e>=r)){const l=t[1];e<l&&(i=2,r=l);for(let u=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(s=r,r=t[--i-1],e>=r)break t}a=i,i=0;break n}break e}for(;i<a;){const l=i+a>>>1;e<t[l]?a=l:i=l+1}if(s=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let a=0;a!==s;++a)t[a]=i[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class FH extends jg{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lh,endingEnd:Lh}}intervalChanged_(e,t,i){const s=this.parameterPositions;let r=e-2,a=e+1,l=s[r],u=s[a];if(l===void 0)switch(this.getSettings_().endingStart){case Ph:r=e,l=2*t-i;break;case z0:r=s.length-2,l=t+s[r]-s[r+1];break;default:r=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Ph:a=e,u=2*i-t;break;case z0:a=1,u=i+s[1]-s[0];break;default:a=e-1,u=t}const d=(i-t)*.5,m=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(u-i),this._offsetPrev=r*m,this._offsetNext=a*m}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,d=u-l,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,x=(i-t)/(s-t),E=x*x,A=E*x,S=-y*A+2*y*E-y*x,B=(1+y)*A+(-1.5-2*y)*E+(-.5+y)*x+1,w=(-1-b)*A+(1.5+b)*E+.5*x,R=b*A-b*E;for(let N=0;N!==l;++N)r[N]=S*a[m+N]+B*a[d+N]+w*a[u+N]+R*a[g+N];return r}}class nB extends jg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,d=u-l,m=(i-t)/(s-t),g=1-m;for(let y=0;y!==l;++y)r[y]=a[d+y]*g+a[u+y]*m;return r}}class zH extends jg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wo{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uh(t,this.TimeBufferType),this.values=Uh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Uh(e.times,Array),values:Uh(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new zH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new FH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _g:t=this.InterpolantFactoryMethodDiscrete;break;case bg:t=this.InterpolantFactoryMethodLinear;break;case CS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _g;case this.InterpolantFactoryMethodLinear:return bg;case this.InterpolantFactoryMethodSmooth:return CS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let r=0,a=s-1;for(;r!==s&&i[r]<e;)++r;for(;a!==-1&&i[a]>t;)--a;if(++a,r!==0||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const l=this.getValueSize();this.times=i.slice(r,a),this.values=this.values.slice(r*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==r;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(a!==null&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,a),e=!1;break}a=u}if(s!==void 0&&PH(s))for(let l=0,u=s.length;l!==u;++l){const d=s[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===CS,r=e.length-1;let a=1;for(let l=1;l<r;++l){let u=!1;const d=e[l],m=e[l+1];if(d!==m&&(l!==1||d!==e[0]))if(s)u=!0;else{const g=l*i,y=g-i,b=g+i;for(let x=0;x!==i;++x){const E=t[g+x];if(E!==t[y+x]||E!==t[b+x]){u=!0;break}}}if(u){if(l!==a){e[a]=e[l];const g=l*i,y=a*i;for(let b=0;b!==i;++b)t[y+b]=t[g+b]}++a}}if(r>0){e[a]=e[r];for(let l=r*i,u=a*i,d=0;d!==i;++d)t[u+d]=t[l+d];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Wo.prototype.ValueTypeName="";Wo.prototype.TimeBufferType=Float32Array;Wo.prototype.ValueBufferType=Float32Array;Wo.prototype.DefaultInterpolation=bg;class op extends Wo{constructor(e,t,i){super(e,t,i)}}op.prototype.ValueTypeName="bool";op.prototype.ValueBufferType=Array;op.prototype.DefaultInterpolation=_g;op.prototype.InterpolantFactoryMethodLinear=void 0;op.prototype.InterpolantFactoryMethodSmooth=void 0;class iB extends Wo{constructor(e,t,i,s){super(e,t,i,s)}}iB.prototype.ValueTypeName="color";class ep extends Wo{constructor(e,t,i,s){super(e,t,i,s)}}ep.prototype.ValueTypeName="number";class HH extends jg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=(i-t)/(s-t);let d=e*l;for(let m=d+l;d!==m;d+=4)ir.slerpFlat(r,0,a,d-l,a,d,u);return r}}class tp extends Wo{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new HH(this.times,this.values,this.getValueSize(),e)}}tp.prototype.ValueTypeName="quaternion";tp.prototype.InterpolantFactoryMethodSmooth=void 0;class lp extends Wo{constructor(e,t,i){super(e,t,i)}}lp.prototype.ValueTypeName="string";lp.prototype.ValueBufferType=Array;lp.prototype.DefaultInterpolation=_g;lp.prototype.InterpolantFactoryMethodLinear=void 0;lp.prototype.InterpolantFactoryMethodSmooth=void 0;class np extends Wo{constructor(e,t,i,s){super(e,t,i,s)}}np.prototype.ValueTypeName="vector";class Mg{constructor(e="",t=-1,i=[],s=W1){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=no(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)t.push(lse(i[a]).scale(s));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=i.length;r!==a;++r)t.push(Wo.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const r=t.length,a=[];for(let l=0;l<r;l++){let u=[],d=[];u.push((l+r-1)%r,l,(l+1)%r),d.push(0,1,0);const m=UH(u);u=mw(u,1,m),d=mw(d,1,m),!s&&u[0]===0&&(u.push(r),d.push(d[0])),a.push(new ep(".morphTargetInfluences["+t[l].name+"]",u,d).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const d=e[l],m=d.name.match(r);if(m&&m.length>1){const g=m[1];let y=s[g];y||(s[g]=y=[]),y.push(d)}}const a=[];for(const l in s)a.push(this.CreateFromMorphTargetSequence(l,s[l],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,x,E){if(b.length!==0){const A=[],S=[];tB(b,A,S,x),A.length!==0&&E.push(new g(y,A,S))}},s=[],r=e.name||"default",a=e.fps||30,l=e.blendMode;let u=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let x;for(x=0;x<y.length;x++)if(y[x].morphTargets)for(let E=0;E<y[x].morphTargets.length;E++)b[y[x].morphTargets[E]]=-1;for(const E in b){const A=[],S=[];for(let B=0;B!==y[x].morphTargets.length;++B){const w=y[x];A.push(w.time),S.push(w.morphTarget===E?1:0)}s.push(new ep(".morphTargetInfluence["+E+"]",A,S))}u=b.length*a}else{const b=".bones["+t[g].name+"]";i(np,b+".position",y,"pos",s),i(tp,b+".quaternion",y,"rot",s),i(np,b+".scale",y,"scl",s)}}return s.length===0?null:new this(r,u,s,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ose(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ep;case"vector":case"vector2":case"vector3":case"vector4":return np;case"color":return iB;case"quaternion":return tp;case"bool":case"boolean":return op;case"string":return lp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function lse(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ose(n.type);if(n.times===void 0){const t=[],i=[];tB(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const vu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class sB{constructor(e,t,i){const s=this;let r=!1,a=0,l=0,u;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){l++,r===!1&&s.onStart!==void 0&&s.onStart(m,a,l),r=!0},this.itemEnd=function(m){a++,s.onProgress!==void 0&&s.onProgress(m,a,l),a===l&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=d.length;g<y;g+=2){const b=d[g],x=d[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const GH=new sB;class Gr{constructor(e){this.manager=e!==void 0?e:GH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,r){i.load(e,s,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Gr.DEFAULT_MATERIAL_NAME="__DEFAULT";const uu={};class cse extends Error{constructor(e,t){super(e),this.response=t}}class ao extends Gr{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=vu.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(uu[e]!==void 0){uu[e].push({onLoad:t,onProgress:i,onError:s});return}uu[e]=[],uu[e].push({onLoad:t,onProgress:i,onError:s});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=uu[e],g=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=y?parseInt(y):0,x=b!==0;let E=0;const A=new ReadableStream({start(S){B();function B(){g.read().then(({done:w,value:R})=>{if(w)S.close();else{E+=R.byteLength;const N=new ProgressEvent("progress",{lengthComputable:x,loaded:E,total:b});for(let O=0,U=m.length;O<U;O++){const P=m[O];P.onProgress&&P.onProgress(N)}S.enqueue(R),B()}},w=>{S.error(w)})}}});return new Response(A)}else throw new cse(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return d.json();default:if(l==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return d.arrayBuffer().then(x=>b.decode(x))}}}).then(d=>{vu.add(e,d);const m=uu[e];delete uu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=uu[e];if(m===void 0)throw this.manager.itemError(e),d;delete uu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class use extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new ao(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=Mg.parse(e[i]);t.push(s)}return t}}class fse extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=[],l=new eE,u=new ao(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(r.withCredentials);let d=0;function m(g){u.load(e[g],function(y){const b=r.parse(y,!0);a[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(l.minFilter=ps),l.image=a,l.format=b.format,l.needsUpdate=!0,t&&t(l))},i,s)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else u.load(e,function(g){const y=r.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let x=0;x<b;x++){a[x]={mipmaps:[]};for(let E=0;E<y.mipmapCount;E++)a[x].mipmaps.push(y.mipmaps[x*y.mipmapCount+E]),a[x].format=y.format,a[x].width=y.width,a[x].height=y.height}l.image=a}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=ps),l.format=y.format,l.needsUpdate=!0,t&&t(l)},i,s);return l}}class Y0 extends Gr{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=vu.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;const l=V0("img");function u(){m(),vu.add(e,this),t&&t(this),r.manager.itemEnd(e)}function d(g){m(),s&&s(g),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){l.removeEventListener("load",u,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),r.manager.itemStart(e),l.src=e,l}}class dse extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=new x_;r.colorSpace=Lr;const a=new Y0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function u(d){a.load(e[d],function(m){r.images[d]=m,l++,l===6&&(r.needsUpdate=!0,t&&t(r))},void 0,s)}for(let d=0;d<e.length;++d)u(d);return r}}class hse extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new Cc,l=new ao(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(r.withCredentials),l.load(e,function(u){let d;try{d=r.parse(u)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:Za,a.wrapT=d.wrapT!==void 0?d.wrapT:Za,a.magFilter=d.magFilter!==void 0?d.magFilter:ps,a.minFilter=d.minFilter!==void 0?d.minFilter:ps,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(a.colorSpace=d.colorSpace),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=Po),d.mipmapCount===1&&(a.minFilter=ps),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d)},i,s),a}}class kH extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=new ki,a=new Y0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){r.image=l,r.needsUpdate=!0,t!==void 0&&t(r)},i,s),r}}class fd extends Pn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class VH extends fd{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const _T=new Gt,S3=new re,A3=new re;class rB{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.mapType=ko,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kg,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;S3.setFromMatrixPosition(e.matrixWorld),t.position.copy(S3),A3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(A3),t.updateMatrixWorld(),_T.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_T),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(_T)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pse extends rB{constructor(){super(new as(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=xg*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(i!==t.fov||s!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=s,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class aB extends fd{constructor(e,t,i=0,s=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new pse}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const E3=new Gt,Bv=new re,bT=new re;class mse extends rB{constructor(){super(new as(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Bv.setFromMatrixPosition(e.matrixWorld),i.position.copy(Bv),bT.copy(i.position),bT.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(bT),i.updateMatrixWorld(),s.makeTranslation(-Bv.x,-Bv.y,-Bv.z),E3.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(E3)}}class oB extends fd{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new mse}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Su extends q1{constructor(e=-1,t=1,i=1,s=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,a=i+e,l=s+t,u=s-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=d*this.view.offsetX,a=r+d*this.view.width,l-=m*this.view.offsetY,u=l-m*this.view.height}this.projectionMatrix.makeOrthographic(r,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class gse extends rB{constructor(){super(new Su(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class lB extends fd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.shadow=new gse}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class jH extends fd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class WH extends fd{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class XH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*s),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*s)),t.addScaledVector(a[5],1.092548*(s*r)),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],1.092548*(i*r)),t.addScaledVector(a[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*s),t.addScaledVector(a[2],2*.511664*r),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*s),t.addScaledVector(a[5],2*.429043*s*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],2*.429043*i*r),t.addScaledVector(a[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,r=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-s*s)}}class YH extends fd{constructor(e=new XH,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class mE extends Gr{constructor(e){super(e),this.textures={}}load(e,t,i,s){const r=this,a=new ao(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(s.uniforms[r]={},a.type){case"t":s.uniforms[r].value=i(a.value);break;case"c":s.uniforms[r].value=new Et().setHex(a.value);break;case"v2":s.uniforms[r].value=new tt().fromArray(a.value);break;case"v3":s.uniforms[r].value=new re().fromArray(a.value);break;case"v4":s.uniforms[r].value=new Hn().fromArray(a.value);break;case"m3":s.uniforms[r].value=new fn().fromArray(a.value);break;case"m4":s.uniforms[r].value=new Gt().fromArray(a.value);break;default:s.uniforms[r].value=a.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new tt().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return mE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:wH,SpriteMaterial:k2,RawShaderMaterial:RH,ShaderMaterial:Dl,PointsMaterial:$1,MeshPhysicalMaterial:jo,MeshStandardMaterial:w_,MeshPhongMaterial:BH,MeshToonMaterial:DH,MeshNormalMaterial:IH,MeshLambertMaterial:OH,MeshDepthMaterial:$2,MeshDistanceMaterial:eB,MeshBasicMaterial:$a,MeshMatcapMaterial:NH,LineDashedMaterial:LH,LineBasicMaterial:Hr,Material:Vs};return new t[e]}}class Jf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class qH extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KH extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new ao(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(b,x){if(t[x]!==void 0)return t[x];const A=b.interleavedBuffers[x],S=r(b,A.buffer),B=Wm(A.type,S),w=new S_(B,A.stride);return w.uuid=A.uuid,t[x]=w,w}function r(b,x){if(i[x]!==void 0)return i[x];const A=b.arrayBuffers[x],S=new Uint32Array(A).buffer;return i[x]=S,S}const a=e.isInstancedBufferGeometry?new qH:new cn,l=e.data.index;if(l!==void 0){const b=Wm(l.type,l.array);a.setIndex(new Gn(b,1))}const u=e.data.attributes;for(const b in u){const x=u[b];let E;if(x.isInterleavedBufferAttribute){const A=s(e.data,x.data);E=new ad(A,x.itemSize,x.offset,x.normalized)}else{const A=Wm(x.type,x.array),S=x.isInstancedBufferAttribute?Zh:Gn;E=new S(A,x.itemSize,x.normalized)}x.name!==void 0&&(E.name=x.name),x.usage!==void 0&&E.setUsage(x.usage),a.setAttribute(b,E)}const d=e.data.morphAttributes;if(d)for(const b in d){const x=d[b],E=[];for(let A=0,S=x.length;A<S;A++){const B=x[A];let w;if(B.isInterleavedBufferAttribute){const R=s(e.data,B.data);w=new ad(R,B.itemSize,B.offset,B.normalized)}else{const R=Wm(B.type,B.array);w=new Gn(R,B.itemSize,B.normalized)}B.name!==void 0&&(w.name=B.name),E.push(w)}a.morphAttributes[b]=E}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,x=g.length;b!==x;++b){const E=g[b];a.addGroup(E.start,E.count,E.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const b=new re;y.center!==void 0&&b.fromArray(y.center),a.boundingSphere=new sr(b,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class yse extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=this.path===""?Jf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new ao(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let d=null;try{d=JSON.parse(u)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(d,t)},i,s)}async loadAsync(e,t){const i=this,s=this.path===""?Jf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new ao(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(e,t),l=JSON.parse(a),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,r,u,l,i),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),t!==void 0){let g=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,t),d=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new Wh().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=new A_().fromJSON(e[r],s);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new KH;for(let r=0,a=e.length;r<a;r++){let l;const u=e[r];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(u);break;default:u.type in x3?l=x3[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const r=new mE;r.setTextures(t);for(let a=0,l=e.length;a<l;a++){const u=e[a];i[u.uuid]===void 0&&(i[u.uuid]=r.parse(u)),s[u.uuid]=i[u.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=Mg.parse(s);t[r.uuid]=r}return t}parseImages(e,t){const i=this,s={};let r;function a(u){return i.manager.itemStart(u),r.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const d=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return a(m)}else return u.data?{data:Wm(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new sB(t);r=new Y0(u),r.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],y=g.url;if(Array.isArray(y)){const b=[];for(let x=0,E=y.length;x<E;x++){const A=y[x],S=l(A);S!==null&&(S instanceof HTMLImageElement?b.push(S):b.push(new Cc(S.data,S.width,S.height)))}s[g.uuid]=new jf(b)}else{const b=l(g.url);s[g.uuid]=new jf(b)}}}return s}async parseImagesAsync(e){const t=this,i={};let s;async function r(a){if(typeof a=="string"){const l=a,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await s.loadAsync(u)}else return a.data?{data:Wm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){s=new Y0(this.manager),s.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g],x=await r(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Cc(x.data,x.width,x.height)))}i[u.uuid]=new jf(m)}else{const m=await r(u.url);i[u.uuid]=new jf(m)}}}return i}parseTextures(e,t){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const s={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=e[r];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],d=u.data;let m;Array.isArray(d)?(m=new x_,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new Cc:m=new ki,d&&(m.needsUpdate=!0)),m.source=u,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,vse)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],M3),m.wrapT=i(l.wrap[1],M3)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,T3)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,T3)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),s[l.uuid]=m}return s}parseObject(e,t,i,s,r){let a;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let x=0,E=y.length;x<E;x++){const A=y[x];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),b.push(i[A])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function d(y){return s[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),s[y]}let m,g;switch(e.type){case"Scene":a=new G2,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Et(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new J1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new K1(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new as(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Su(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new jH(e.color,e.intensity);break;case"DirectionalLight":a=new lB(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new oB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new WH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new aB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new VH(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new YH().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=u(e.material),a=new V2(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=u(e.material),a=new ms(m,g);break;case"InstancedMesh":m=l(e.geometry),g=u(e.material);const y=e.count,b=e.instanceMatrix,x=e.instanceColor;a=new j2(m,g,y),a.instanceMatrix=new Zh(new Float32Array(b.array),16),x!==void 0&&(a.instanceColor=new Zh(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=u(e.material),a=new mH(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=m,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(E=>{let A=null,S=null;return E.boundingBox!==void 0&&(A=new yr,A.min.fromArray(E.boundingBox.min),A.max.fromArray(E.boundingBox.max)),E.boundingSphere!==void 0&&(S=new sr,S.radius=E.boundingSphere.radius,S.center.fromArray(E.boundingSphere.center)),{...E,boundingBox:A,boundingSphere:S}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=d(e.matricesTexture.uuid),a._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new sr,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new yr,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new pH;break;case"Line":a=new Lu(l(e.geometry),u(e.material));break;case"LineLoop":a=new W2(l(e.geometry),u(e.material));break;case"LineSegments":a=new Ol(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new X2(l(e.geometry),u(e.material));break;case"Sprite":a=new hH(u(e.material));break;case"Group":a=new yu;break;case"Bone":a=new Q1;break;default:a=new Pn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)a.add(this.parseObject(y[b],t,i,s,r))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const x=y[b];a.animations.push(r[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const x=y[b],E=a.getObjectByProperty("uuid",x.object);E!==void 0&&a.addLevel(E,x.distance,x.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new Pn}})}}const vse={UVMapping:U1,CubeReflectionMapping:Ou,CubeRefractionMapping:id,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:F0,CubeUVReflectionMapping:Hg},M3={RepeatWrapping:sd,ClampToEdgeWrapping:Za,MirroredRepeatWrapping:pg},T3={NearestFilter:nr,NearestMipmapNearestFilter:F1,NearestMipmapLinearFilter:Nh,LinearFilter:ps,LinearMipmapNearestFilter:Zm,LinearMipmapLinearFilter:Po};class JH extends Gr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=vu.get(e);if(a!==void 0){if(r.manager.itemStart(e),a.then){a.then(d=>{t&&t(d),r.manager.itemEnd(e)}).catch(d=>{s&&s(d)});return}return setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){return vu.add(e,d),t&&t(d),r.manager.itemEnd(e),d}).catch(function(d){s&&s(d),vu.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});vu.add(e,u),r.manager.itemStart(e)}}let eS;class cB{static getContext(){return eS===void 0&&(eS=new(window.AudioContext||window.webkitAudioContext)),eS}static setContext(e){eS=e}}class _se extends Gr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new ao(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{const d=u.slice(0);cB.getContext().decodeAudioData(d,function(g){t(g)}).catch(l)}catch(d){l(d)}},i,s);function l(u){s?s(u):console.error(u),r.manager.itemError(e)}}}const C3=new Gt,w3=new Gt,fh=new Gt;class bse{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new as,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new as,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,fh.copy(e.projectionMatrix);const s=t.eyeSep/2,r=s*t.near/t.focus,a=t.near*Math.tan(jh*t.fov*.5)/t.zoom;let l,u;w3.elements[12]=-s,C3.elements[12]=s,l=-a*t.aspect+r,u=a*t.aspect+r,fh.elements[0]=2*t.near/(u-l),fh.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(fh),l=-a*t.aspect-r,u=a*t.aspect-r,fh.elements[0]=2*t.near/(u-l),fh.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(fh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(w3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(C3)}}class QH extends as{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class uB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=R3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=R3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function R3(){return performance.now()}const dh=new re,B3=new ir,xse=new re,hh=new re;class Sse extends Pn{constructor(){super(),this.type="AudioListener",this.context=cB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dh,B3,xse),hh.set(0,0,-1).applyQuaternion(B3),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dh.x,s),t.positionY.linearRampToValueAtTime(dh.y,s),t.positionZ.linearRampToValueAtTime(dh.z,s),t.forwardX.linearRampToValueAtTime(hh.x,s),t.forwardY.linearRampToValueAtTime(hh.y,s),t.forwardZ.linearRampToValueAtTime(hh.z,s),t.upX.linearRampToValueAtTime(i.x,s),t.upY.linearRampToValueAtTime(i.y,s),t.upZ.linearRampToValueAtTime(i.z,s)}else t.setPosition(dh.x,dh.y,dh.z),t.setOrientation(hh.x,hh.y,hh.z,i.x,i.y,i.z)}}class ZH extends Pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ph=new re,D3=new ir,Ase=new re,mh=new re;class Ese extends ZH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ph,D3,Ase),mh.set(0,0,1).applyQuaternion(D3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ph.x,i),t.positionY.linearRampToValueAtTime(ph.y,i),t.positionZ.linearRampToValueAtTime(ph.z,i),t.orientationX.linearRampToValueAtTime(mh.x,i),t.orientationY.linearRampToValueAtTime(mh.y,i),t.orientationZ.linearRampToValueAtTime(mh.z,i)}else t.setPosition(ph.x,ph.y,ph.z),t.setOrientation(mh.x,mh.y,mh.z)}}class Mse{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class $H{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,r,a;switch(t){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,r=e*s+s;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==s;++l)i[r+l]=i[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(i,r,0,l,s)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const u=t*this._origIndex;this._mixBufferRegion(i,s,u,1-r,t)}a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let u=t,d=t+t;u!==d;++u)if(i[u]!==i[u+t]){l.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let r=i,a=s;r!==a;++r)t[r]=t[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,r){if(s>=.5)for(let a=0;a!==r;++a)e[t+a]=e[i+a]}_slerp(e,t,i,s){ir.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,r){const a=this._workIndex*r;ir.multiplyQuaternionsFlat(e,a,e,t,e,i),ir.slerpFlat(e,t,e,t,e,a,s)}_lerp(e,t,i,s,r){const a=1-s;for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]*a+e[i+l]*s}}_lerpAdditive(e,t,i,s,r){for(let a=0;a!==r;++a){const l=t+a;e[l]=e[l]+e[i+a]*s}}}const fB="\\[\\]\\.:\\/",Tse=new RegExp("["+fB+"]","g"),dB="[^"+fB+"]",Cse="[^"+fB.replace("\\.","")+"]",wse=/((?:WC+[\/:])*)/.source.replace("WC",dB),Rse=/(WCOD+)?/.source.replace("WCOD",Cse),Bse=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dB),Dse=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dB),Ise=new RegExp("^"+wse+Rse+Bse+Dse+"$"),Ose=["material","materials","bones","map"];class Nse{constructor(e,t,i){const s=i||zn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class zn{constructor(e,t,i){this.path=t,this.parsedPath=i||zn.parseTrackName(t),this.node=zn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new zn.Composite(e,t,i):new zn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tse,"")}static parseTrackName(e){const t=Ise.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);Ose.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let a=0;a<r.length;a++){const l=r[a];if(l.name===t||l.uuid===t)return l;const u=i(l.children);if(u)return u}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let r=t.propertyIndex;if(e||(e=zn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[s];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+s+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(u=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zn.Composite=Nse;zn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zn.prototype.GetterByBindingType=[zn.prototype._getValue_direct,zn.prototype._getValue_array,zn.prototype._getValue_arrayElement,zn.prototype._getValue_toArray];zn.prototype.SetterByBindingTypeAndVersioning=[[zn.prototype._setValue_direct,zn.prototype._setValue_direct_setNeedsUpdate,zn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_array,zn.prototype._setValue_array_setNeedsUpdate,zn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_arrayElement,zn.prototype._setValue_arrayElement_setNeedsUpdate,zn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_fromArray,zn.prototype._setValue_fromArray_setNeedsUpdate,zn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lse{constructor(){this.isAnimationObjectGroup=!0,this.uuid=no(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,a=r.length;let l,u=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let x=t[b];if(x===void 0){x=u++,t[b]=x,e.push(y);for(let E=0,A=a;E!==A;++E)r[E].push(new zn(y,i[E],s[E]))}else if(x<d){l=e[x];const E=--d,A=e[E];t[A.uuid]=x,e[x]=A,t[b]=E,e[E]=y;for(let S=0,B=a;S!==B;++S){const w=r[S],R=w[E];let N=w[x];w[x]=R,N===void 0&&(N=new zn(y,i[S],s[S])),w[E]=N}}else e[x]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,m=t[d];if(m!==void 0&&m>=r){const g=r++,y=e[g];t[y.uuid]=m,e[m]=y,t[d]=g,e[g]=u;for(let b=0,x=s;b!==x;++b){const E=i[b],A=E[g],S=E[m];E[m]=A,E[g]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,a=e.length;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],m=d.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const y=--r,b=e[y],x=--a,E=e[x];t[b.uuid]=g,e[g]=b,t[E.uuid]=y,e[y]=E,e.pop();for(let A=0,S=s;A!==S;++A){const B=i[A],w=B[y],R=B[x];B[g]=w,B[y]=R,B.pop()}}else{const y=--a,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let x=0,E=s;x!==E;++x){const A=i[x];A[g]=A[y],A.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const a=this._paths,l=this._parsedPaths,u=this._objects,d=u.length,m=this.nCachedObjects_,g=new Array(d);s=r.length,i[e]=s,a.push(e),l.push(t),r.push(g);for(let y=m,b=u.length;y!==b;++y){const x=u[y];g[y]=new zn(x,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,a=this._bindings,l=a.length-1,u=a[l],d=e[l];t[d]=i,a[i]=u,a.pop(),r[i]=r[l],r.pop(),s[i]=s[l],s.pop()}}}class e5{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const r=t.tracks,a=r.length,l=new Array(a),u={endingStart:Lh,endingEnd:Lh};for(let d=0;d!==a;++d){const m=r[d].createInterpolant(null);l[d]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const s=this._clip.duration,r=e._clip.duration,a=r/s,l=s/r;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,r=s.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=r,u[1]=r+i,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const u=(e-r)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case L2:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),d[m].accumulateAdditive(l);break;case W1:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),d[m].accumulate(s,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const a=i===Wz;if(e===0)return r===-1?s:a&&(r&1)===1?t-s:s;if(i===Vz){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),s>=t||s<0){const l=Math.floor(s/t);s-=t*l,r+=Math.abs(l);const u=this.repetitions-r;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(a&&(r&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=Ph,s.endingEnd=Ph):(e?s.endingStart=this.zeroSlopeAtStart?Ph:Lh:s.endingStart=z0,t?s.endingEnd=this.zeroSlopeAtEnd?Ph:Lh:s.endingEnd=z0)}_scheduleFading(e,t,i){const s=this._mixer,r=s.time;let a=this._weightInterpolant;a===null&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=r,u[0]=t,l[1]=r+e,u[1]=i,this}}const Pse=new Float32Array(1);class Use extends Oc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,a=e._propertyBindings,l=e._interpolants,u=i.uuid,d=this._bindingsByRootAndName;let m=d[u];m===void 0&&(m={},d[u]=m);for(let g=0;g!==r;++g){const y=s[g],b=y.name;let x=m[b];if(x!==void 0)++x.referenceCount,a[g]=x;else{if(x=a[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,u,b));continue}const E=t&&t._propertyBindings[g].binding.parsedPath;x=new $H(zn.create(i,b,E),y.ValueTypeName,y.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,u,b),a[g]=x}l[g].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,r=this._actionsByClip;let a=r[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=s.length,s.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,l=a[r],u=l.knownActions,d=u[u.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,u[m]=d,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],u.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[t];a===void 0&&(a={},s[t]=a),a[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,l=a[s],u=t[t.length-1],d=e._cacheIndex;u._cacheIndex=d,t[d]=u,t.pop(),delete l[r],Object.keys(l).length===0&&delete a[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new nB(new Float32Array(2),new Float32Array(2),1,Pse),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=t[s];e.__cacheIndex=s,t[s]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const s=t||this._root,r=s.uuid;let a=typeof e=="string"?Mg.findByName(s,e):e;const l=a!==null?a.uuid:e,u=this._actionsByClip[l];let d=null;if(i===void 0&&(a!==null?i=a.blendMode:i=W1),u!==void 0){const g=u.actionByRoot[r];if(g!==void 0&&g.blendMode===i)return g;d=u.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const m=new e5(this,a,t,i);return this._bindAction(m,d),this._addInactiveAction(m,l,r),m}existingAction(e,t){const i=t||this._root,s=i.uuid,r=typeof e=="string"?Mg.findByName(i,e):e,a=r?r.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==i;++d)t[d]._update(s,e,r,a);const l=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)l[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const a=r.knownActions;for(let l=0,u=a.length;l!==u;++l){const d=a[l];this._deactivateAction(d);const m=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const l=i[a].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,r=s[t];if(r!==void 0)for(const a in r){const l=r[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Fse extends X1{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Y1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class zse extends X1{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new b_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class hB{constructor(e){this.value=e}clone(){return new hB(this.value.clone===void 0?this.value:this.value.clone())}}let Hse=0;class Gse extends Oc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Hse++}),this.name="",this.usage=G0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<r.length;a++)this.uniforms.push(r[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class kse extends S_{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Vse{constructor(e,t,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const I3=new Gt;class t5{constructor(e,t,i=0,s=1/0){this.ray=new rp(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new Sg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return I3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(I3),this}intersectObject(e,t=!0,i=[]){return gw(e,this,i,t),i.sort(O3),i}intersectObjects(e,t=!0,i=[]){for(let s=0,r=e.length;s<r;s++)gw(e[s],this,i,t);return i.sort(O3),i}}function O3(n,e){return n.distance-e.distance}function gw(n,e,t,i){let s=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let a=0,l=r.length;a<l;a++)gw(r[a],e,t,!0)}}class yw{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ln(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ln(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jse{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class pB{constructor(e,t,i,s){pB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=s,this}}const N3=new tt;class Wse{constructor(e=new tt(1/0,1/0),t=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=N3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,N3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const L3=new re,tS=new re;class Xse{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){L3.subVectors(e,this.start),tS.subVectors(this.end,this.start);const i=tS.dot(tS);let r=tS.dot(L3)/i;return t&&(r=ln(r,0,1)),r}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const P3=new re;class Yse extends Pn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new cn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,u=32;a<u;a++,l++){const d=a/u*Math.PI*2,m=l/u*Math.PI*2;s.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Lt(s,3));const r=new Hr({fog:!1,toneMapped:!1});this.cone=new Ol(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),P3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(P3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Uf=new re,nS=new Gt,xT=new Gt;class qse extends Ol{constructor(e){const t=n5(e),i=new cn,s=[],r=[],a=new Et(0,0,1),l=new Et(0,1,0);for(let d=0;d<t.length;d++){const m=t[d];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(l.r,l.g,l.b))}i.setAttribute("position",new Lt(s,3)),i.setAttribute("color",new Lt(r,3));const u=new Hr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");xT.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<t.length;r++){const l=t[r];l.parent&&l.parent.isBone&&(nS.multiplyMatrices(xT,l.matrixWorld),Uf.setFromMatrixPosition(nS),s.setXYZ(a,Uf.x,Uf.y,Uf.z),nS.multiplyMatrices(xT,l.parent.matrixWorld),Uf.setFromMatrixPosition(nS),s.setXYZ(a+1,Uf.x,Uf.y,Uf.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function n5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...n5(n.children[t]));return e}class Kse extends ms{constructor(e,t,i){const s=new C_(t,4,2),r=new $a({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Jse=new re,U3=new Et,F3=new Et;class Qse extends Pn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new T_(t);s.rotateY(Math.PI*.5),this.material=new $a({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),a=new Float32Array(r.count*3);s.setAttribute("color",new Gn(a,3)),this.add(new ms(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");U3.copy(this.light.color),F3.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const r=i<s/2?U3:F3;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Jse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Zse extends Ol{constructor(e=10,t=10,i=4473924,s=8947848){i=new Et(i),s=new Et(s);const r=t/2,a=e/t,l=e/2,u=[],d=[];for(let y=0,b=0,x=-l;y<=t;y++,x+=a){u.push(-l,0,x,l,0,x),u.push(x,0,-l,x,0,l);const E=y===r?i:s;E.toArray(d,b),b+=3,E.toArray(d,b),b+=3,E.toArray(d,b),b+=3,E.toArray(d,b),b+=3}const m=new cn;m.setAttribute("position",new Lt(u,3)),m.setAttribute("color",new Lt(d,3));const g=new Hr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $se extends Ol{constructor(e=10,t=16,i=8,s=64,r=4473924,a=8947848){r=new Et(r),a=new Et(a);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,x=Math.cos(y)*e;l.push(0,0,0),l.push(b,0,x);const E=g&1?r:a;u.push(E.r,E.g,E.b),u.push(E.r,E.g,E.b)}for(let g=0;g<i;g++){const y=g&1?r:a,b=e-e/i*g;for(let x=0;x<s;x++){let E=x/s*(Math.PI*2),A=Math.sin(E)*b,S=Math.cos(E)*b;l.push(A,0,S),u.push(y.r,y.g,y.b),E=(x+1)/s*(Math.PI*2),A=Math.sin(E)*b,S=Math.cos(E)*b,l.push(A,0,S),u.push(y.r,y.g,y.b)}}const d=new cn;d.setAttribute("position",new Lt(l,3)),d.setAttribute("color",new Lt(u,3));const m=new Hr({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const z3=new re,iS=new re,H3=new re;class ere extends Pn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new cn;s.setAttribute("position",new Lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Hr({fog:!1,toneMapped:!1});this.lightPlane=new Lu(s,r),this.add(this.lightPlane),s=new cn,s.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new Lu(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),z3.setFromMatrixPosition(this.light.matrixWorld),iS.setFromMatrixPosition(this.light.target.matrixWorld),H3.subVectors(iS,z3),this.lightPlane.lookAt(iS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iS),this.targetLine.scale.z=H3.length()}}const sS=new re,ns=new q1;class tre extends Ol{constructor(e){const t=new cn,i=new Hr({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(x,E){u(x),u(E)}function u(x){s.push(0,0,0),r.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(s.length/3-1)}t.setAttribute("position",new Lt(s,3)),t.setAttribute("color",new Lt(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new Et(16755200),m=new Et(16711680),g=new Et(43775),y=new Et(16777215),b=new Et(3355443);this.setColors(d,m,g,y,b)}setColors(e,t,i,s,r){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,r.r,r.g,r.b),l.setXYZ(41,r.r,r.g,r.b),l.setXYZ(42,r.r,r.g,r.b),l.setXYZ(43,r.r,r.g,r.b),l.setXYZ(44,r.r,r.g,r.b),l.setXYZ(45,r.r,r.g,r.b),l.setXYZ(46,r.r,r.g,r.b),l.setXYZ(47,r.r,r.g,r.b),l.setXYZ(48,r.r,r.g,r.b),l.setXYZ(49,r.r,r.g,r.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;ns.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===Uo?-1:0;ds("c",t,e,ns,0,0,r),ds("t",t,e,ns,0,0,1),ds("n1",t,e,ns,-1,-1,r),ds("n2",t,e,ns,i,-1,r),ds("n3",t,e,ns,-1,s,r),ds("n4",t,e,ns,i,s,r),ds("f1",t,e,ns,-1,-1,1),ds("f2",t,e,ns,i,-1,1),ds("f3",t,e,ns,-1,s,1),ds("f4",t,e,ns,i,s,1),ds("u1",t,e,ns,i*.7,s*1.1,r),ds("u2",t,e,ns,-1*.7,s*1.1,r),ds("u3",t,e,ns,0,s*2,r),ds("cf1",t,e,ns,-1,0,1),ds("cf2",t,e,ns,i,0,1),ds("cf3",t,e,ns,0,-1,1),ds("cf4",t,e,ns,0,s,1),ds("cn1",t,e,ns,-1,0,r),ds("cn2",t,e,ns,i,0,r),ds("cn3",t,e,ns,0,-1,r),ds("cn4",t,e,ns,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ds(n,e,t,i,s,r,a){sS.set(s,r,a).unproject(i);const l=e[n];if(l!==void 0){const u=t.getAttribute("position");for(let d=0,m=l.length;d<m;d++)u.setXYZ(l[d],sS.x,sS.y,sS.z)}}const rS=new yr;class nre extends Ol{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new cn;r.setIndex(new Gn(i,1)),r.setAttribute("position",new Gn(s,3)),super(r,new Hr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&rS.setFromObject(this.object),rS.isEmpty())return;const e=rS.min,t=rS.max,i=this.geometry.attributes.position,s=i.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ire extends Ol{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new cn;r.setIndex(new Gn(i,1)),r.setAttribute("position",new Lt(s,3)),super(r,new Hr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class sre extends Lu{constructor(e,t=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new cn;a.setAttribute("position",new Lt(r,3)),a.computeBoundingSphere(),super(a,new Hr({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new cn;u.setAttribute("position",new Lt(l,3)),u.computeBoundingSphere(),this.add(new ms(u,new $a({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const G3=new re;let aS,ST;class rre extends Pn{constructor(e=new re(0,0,1),t=new re(0,0,0),i=1,s=16776960,r=i*.2,a=r*.2){super(),this.type="ArrowHelper",aS===void 0&&(aS=new cn,aS.setAttribute("position",new Lt([0,0,0,0,1,0],3)),ST=new M_(.5,1,5,1),ST.translate(0,-.5,0)),this.position.copy(t),this.line=new Lu(aS,new Hr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ms(ST,new $a({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{G3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(G3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class are extends Ol{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new cn;s.setAttribute("position",new Lt(t,3)),s.setAttribute("color",new Lt(i,3));const r=new Hr({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,t,i){const s=new Et,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(t),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ore{constructor(){this.type="ShapePath",this.color=new Et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new JA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,r,a){return this.currentPath.bezierCurveTo(e,t,i,s,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const B=[];for(let w=0,R=S.length;w<R;w++){const N=S[w],O=new Wh;O.curves=N.curves,B.push(O)}return B}function i(S,B){const w=B.length;let R=!1;for(let N=w-1,O=0;O<w;N=O++){let U=B[N],P=B[O],L=P.x-U.x,M=P.y-U.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(U=B[O],L=-L,P=B[N],M=-M),S.y<U.y||S.y>P.y)continue;if(S.y===U.y){if(S.x===U.x)return!0}else{const F=M*(S.x-U.x)-L*(S.y-U.y);if(F===0)return!0;if(F<0)continue;R=!R}}else{if(S.y!==U.y)continue;if(P.x<=S.x&&S.x<=U.x||U.x<=S.x&&S.x<=P.x)return!0}}return R}const s=Rl.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,l,u;const d=[];if(r.length===1)return l=r[0],u=new Wh,u.curves=l.curves,d.push(u),d;let m=!s(r[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],x=0,E;y[x]=void 0,b[x]=[];for(let S=0,B=r.length;S<B;S++)l=r[S],E=l.getPoints(),a=s(E),a=e?!a:a,a?(!m&&y[x]&&x++,y[x]={s:new Wh,p:E},y[x].s.curves=l.curves,m&&x++,b[x]=[]):b[x].push({h:l,p:E[0]});if(!y[0])return t(r);if(y.length>1){let S=!1,B=0;for(let w=0,R=y.length;w<R;w++)g[w]=[];for(let w=0,R=y.length;w<R;w++){const N=b[w];for(let O=0;O<N.length;O++){const U=N[O];let P=!0;for(let L=0;L<y.length;L++)i(U.p,y[L].p)&&(w!==L&&B++,P?(P=!1,g[L].push(U)):S=!0);P&&g[w].push(U)}}B>0&&S===!1&&(b=g)}let A;for(let S=0,B=y.length;S<B;S++){u=y[S].s,d.push(u),A=b[S];for(let w=0,R=A.length;w<R;w++)u.holes.push(A[w].h)}return d}}class lre extends Oc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function cre(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function ure(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function fre(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function vw(n,e,t,i){const s=dre(i);switch(t){case D2:return n*e;case k1:return n*e/s.components*s.byteLength;case __:return n*e/s.components*s.byteLength;case O2:return n*e*2/s.components*s.byteLength;case V1:return n*e*2/s.components*s.byteLength;case I2:return n*e*3/s.components*s.byteLength;case Fr:return n*e*4/s.components*s.byteLength;case j1:return n*e*4/s.components*s.byteLength;case i0:case s0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case r0:case a0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case xA:case AA:return Math.max(n,16)*Math.max(e,8)/4;case bA:case SA:return Math.max(n,8)*Math.max(e,8)/2;case EA:case MA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case TA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case CA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case wA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case RA:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case BA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case DA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case IA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case OA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case NA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case LA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case PA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case UA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case FA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case zA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case HA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case o0:case GA:case kA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case N2:case VA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case jA:case WA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function dre(n){switch(n){case ko:case w2:return{byteLength:1,components:1};case mg:case R2:case Gg:return{byteLength:2,components:1};case H1:case G1:return{byteLength:2,components:4};case Nu:case z1:case wa:return{byteLength:4,components:1};case B2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class hre{static contain(e,t){return cre(e,t)}static cover(e,t){return ure(e,t)}static fill(e){return fre(e)}static getByteLength(e,t,i,s){return vw(e,t,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:y_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=y_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function i5(){let n=null,e=!1,t=null,i=null;function s(r,a){t(r,a),i=n.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function pre(n){const e=new WeakMap;function t(l,u){const d=l.array,m=l.usage,g=d.byteLength,y=n.createBuffer();n.bindBuffer(u,y),n.bufferData(u,d,m),l.onUploadCallback();let b;if(d instanceof Float32Array)b=n.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)b=n.SHORT;else if(d instanceof Uint32Array)b=n.UNSIGNED_INT;else if(d instanceof Int32Array)b=n.INT;else if(d instanceof Int8Array)b=n.BYTE;else if(d instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:b,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,d){const m=u.array,g=u.updateRanges;if(n.bindBuffer(d,l),g.length===0)n.bufferSubData(d,0,m);else{g.sort((b,x)=>b.start-x.start);let y=0;for(let b=1;b<g.length;b++){const x=g[y],E=g[b];E.start<=x.start+x.count+1?x.count=Math.max(x.count,E.start+E.count-x.start):(++y,g[y]=E)}g.length=y+1;for(let b=0,x=g.length;b<x;b++){const E=g[b];n.bufferSubData(d,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function r(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,t(l,u));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,l,u),d.version=l.version}}return{get:s,remove:r,update:a}}var mre=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,gre=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,yre=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,vre=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_re=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bre=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Sre=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Are=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ere=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Mre=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Tre=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Cre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,wre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Rre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Bre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Dre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ire=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ore=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Nre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Lre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Pre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Ure=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Fre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Hre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Gre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,kre=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Vre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jre=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Wre="gl_FragColor = linearToOutputTexel( gl_FragColor );",Xre=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Yre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Kre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Jre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Qre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Zre=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$re=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,eae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,nae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,iae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,cae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,uae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,fae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hae=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,mae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,yae=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vae=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_ae=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bae=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Sae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Aae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Eae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Tae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Cae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,wae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Rae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Bae=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Dae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Iae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Oae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Nae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Uae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Fae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,zae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Hae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Gae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,kae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Vae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Wae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Xae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Yae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,qae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Kae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Jae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Qae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Zae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$ae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,eoe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,toe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,noe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ioe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,soe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,roe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,aoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ooe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,loe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,coe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,foe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,doe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const poe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,moe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,goe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yoe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,voe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_oe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,boe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xoe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Soe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Aoe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Eoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Moe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Toe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Coe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,woe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Roe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Boe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Doe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ioe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ooe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Noe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Loe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Poe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uoe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Foe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zoe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hoe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Goe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,koe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Voe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,joe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Woe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xoe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yoe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:mre,alphahash_pars_fragment:gre,alphamap_fragment:yre,alphamap_pars_fragment:vre,alphatest_fragment:_re,alphatest_pars_fragment:bre,aomap_fragment:xre,aomap_pars_fragment:Sre,batching_pars_vertex:Are,batching_vertex:Ere,begin_vertex:Mre,beginnormal_vertex:Tre,bsdfs:Cre,iridescence_fragment:wre,bumpmap_pars_fragment:Rre,clipping_planes_fragment:Bre,clipping_planes_pars_fragment:Dre,clipping_planes_pars_vertex:Ire,clipping_planes_vertex:Ore,color_fragment:Nre,color_pars_fragment:Lre,color_pars_vertex:Pre,color_vertex:Ure,common:Fre,cube_uv_reflection_fragment:zre,defaultnormal_vertex:Hre,displacementmap_pars_vertex:Gre,displacementmap_vertex:kre,emissivemap_fragment:Vre,emissivemap_pars_fragment:jre,colorspace_fragment:Wre,colorspace_pars_fragment:Xre,envmap_fragment:Yre,envmap_common_pars_fragment:qre,envmap_pars_fragment:Kre,envmap_pars_vertex:Jre,envmap_physical_pars_fragment:oae,envmap_vertex:Qre,fog_vertex:Zre,fog_pars_vertex:$re,fog_fragment:eae,fog_pars_fragment:tae,gradientmap_pars_fragment:nae,lightmap_pars_fragment:iae,lights_lambert_fragment:sae,lights_lambert_pars_fragment:rae,lights_pars_begin:aae,lights_toon_fragment:lae,lights_toon_pars_fragment:cae,lights_phong_fragment:uae,lights_phong_pars_fragment:fae,lights_physical_fragment:dae,lights_physical_pars_fragment:hae,lights_fragment_begin:pae,lights_fragment_maps:mae,lights_fragment_end:gae,logdepthbuf_fragment:yae,logdepthbuf_pars_fragment:vae,logdepthbuf_pars_vertex:_ae,logdepthbuf_vertex:bae,map_fragment:xae,map_pars_fragment:Sae,map_particle_fragment:Aae,map_particle_pars_fragment:Eae,metalnessmap_fragment:Mae,metalnessmap_pars_fragment:Tae,morphinstance_vertex:Cae,morphcolor_vertex:wae,morphnormal_vertex:Rae,morphtarget_pars_vertex:Bae,morphtarget_vertex:Dae,normal_fragment_begin:Iae,normal_fragment_maps:Oae,normal_pars_fragment:Nae,normal_pars_vertex:Lae,normal_vertex:Pae,normalmap_pars_fragment:Uae,clearcoat_normal_fragment_begin:Fae,clearcoat_normal_fragment_maps:zae,clearcoat_pars_fragment:Hae,iridescence_pars_fragment:Gae,opaque_fragment:kae,packing:Vae,premultiplied_alpha_fragment:jae,project_vertex:Wae,dithering_fragment:Xae,dithering_pars_fragment:Yae,roughnessmap_fragment:qae,roughnessmap_pars_fragment:Kae,shadowmap_pars_fragment:Jae,shadowmap_pars_vertex:Qae,shadowmap_vertex:Zae,shadowmask_pars_fragment:$ae,skinbase_vertex:eoe,skinning_pars_vertex:toe,skinning_vertex:noe,skinnormal_vertex:ioe,specularmap_fragment:soe,specularmap_pars_fragment:roe,tonemapping_fragment:aoe,tonemapping_pars_fragment:ooe,transmission_fragment:loe,transmission_pars_fragment:coe,uv_pars_fragment:uoe,uv_pars_vertex:foe,uv_vertex:doe,worldpos_vertex:hoe,background_vert:poe,background_frag:moe,backgroundCube_vert:goe,backgroundCube_frag:yoe,cube_vert:voe,cube_frag:_oe,depth_vert:boe,depth_frag:xoe,distanceRGBA_vert:Soe,distanceRGBA_frag:Aoe,equirect_vert:Eoe,equirect_frag:Moe,linedashed_vert:Toe,linedashed_frag:Coe,meshbasic_vert:woe,meshbasic_frag:Roe,meshlambert_vert:Boe,meshlambert_frag:Doe,meshmatcap_vert:Ioe,meshmatcap_frag:Ooe,meshnormal_vert:Noe,meshnormal_frag:Loe,meshphong_vert:Poe,meshphong_frag:Uoe,meshphysical_vert:Foe,meshphysical_frag:zoe,meshtoon_vert:Hoe,meshtoon_frag:Goe,points_vert:koe,points_frag:Voe,shadow_vert:joe,shadow_frag:Woe,sprite_vert:Xoe,sprite_frag:Yoe},wt={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},Sl={basic:{uniforms:sa([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:sa([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Et(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:sa([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:sa([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:sa([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Et(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:sa([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:sa([wt.points,wt.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:sa([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:sa([wt.common,wt.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:sa([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:sa([wt.sprite,wt.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:sa([wt.common,wt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag},shadow:{uniforms:sa([wt.lights,wt.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};Sl.physical={uniforms:sa([Sl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const oS={r:0,b:0,g:0},gh=new ro,qoe=new Gt;function Koe(n,e,t,i,s,r,a){const l=new Et(0);let u=r===!0?0:1,d,m,g=null,y=0,b=null;function x(w){let R=w.isScene===!0?w.background:null;return R&&R.isTexture&&(R=(w.backgroundBlurriness>0?t:e).get(R)),R}function E(w){let R=!1;const N=x(w);N===null?S(l,u):N&&N.isColor&&(S(N,1),R=!0);const O=n.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(w,R){const N=x(R);N&&(N.isCubeTexture||N.mapping===Hg)?(m===void 0&&(m=new ms(new ap(1,1,1),new Dl({name:"BackgroundCubeMaterial",uniforms:Ag(Sl.backgroundCube.uniforms),vertexShader:Sl.backgroundCube.vertexShader,fragmentShader:Sl.backgroundCube.fragmentShader,side:ca,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(O,U,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),gh.copy(R.backgroundRotation),gh.x*=-1,gh.y*=-1,gh.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(gh.y*=-1,gh.z*=-1),m.material.uniforms.envMap.value=N,m.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(qoe.makeRotationFromEuler(gh)),m.material.toneMapped=Ln.getTransfer(N.colorSpace)!==ci,(g!==N||y!==N.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=N,y=N.version,b=n.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):N&&N.isTexture&&(d===void 0&&(d=new ms(new Vg(2,2),new Dl({name:"BackgroundMaterial",uniforms:Ag(Sl.background.uniforms),vertexShader:Sl.background.vertexShader,fragmentShader:Sl.background.fragmentShader,side:Bc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=N,d.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,d.material.toneMapped=Ln.getTransfer(N.colorSpace)!==ci,N.matrixAutoUpdate===!0&&N.updateMatrix(),d.material.uniforms.uvTransform.value.copy(N.matrix),(g!==N||y!==N.version||b!==n.toneMapping)&&(d.material.needsUpdate=!0,g=N,y=N.version,b=n.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null))}function S(w,R){w.getRGB(oS,lH(n)),i.buffers.color.setClear(oS.r,oS.g,oS.b,R,a)}function B(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(w,R=1){l.set(w),u=R,S(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,S(l,u)},render:E,addToRenderList:A,dispose:B}}function Joe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=y(null);let r=s,a=!1;function l(M,F,G,J,ie){let ne=!1;const H=g(J,G,F);r!==H&&(r=H,d(r.object)),ne=b(M,J,G,ie),ne&&x(M,J,G,ie),ie!==null&&e.update(ie,n.ELEMENT_ARRAY_BUFFER),(ne||a)&&(a=!1,R(M,F,G,J),ie!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ie).buffer))}function u(){return n.createVertexArray()}function d(M){return n.bindVertexArray(M)}function m(M){return n.deleteVertexArray(M)}function g(M,F,G){const J=G.wireframe===!0;let ie=i[M.id];ie===void 0&&(ie={},i[M.id]=ie);let ne=ie[F.id];ne===void 0&&(ne={},ie[F.id]=ne);let H=ne[J];return H===void 0&&(H=y(u()),ne[J]=H),H}function y(M){const F=[],G=[],J=[];for(let ie=0;ie<t;ie++)F[ie]=0,G[ie]=0,J[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:G,attributeDivisors:J,object:M,attributes:{},index:null}}function b(M,F,G,J){const ie=r.attributes,ne=F.attributes;let H=0;const q=G.getAttributes();for(const $ in q)if(q[$].location>=0){const X=ie[$];let ae=ne[$];if(ae===void 0&&($==="instanceMatrix"&&M.instanceMatrix&&(ae=M.instanceMatrix),$==="instanceColor"&&M.instanceColor&&(ae=M.instanceColor)),X===void 0||X.attribute!==ae||ae&&X.data!==ae.data)return!0;H++}return r.attributesNum!==H||r.index!==J}function x(M,F,G,J){const ie={},ne=F.attributes;let H=0;const q=G.getAttributes();for(const $ in q)if(q[$].location>=0){let X=ne[$];X===void 0&&($==="instanceMatrix"&&M.instanceMatrix&&(X=M.instanceMatrix),$==="instanceColor"&&M.instanceColor&&(X=M.instanceColor));const ae={};ae.attribute=X,X&&X.data&&(ae.data=X.data),ie[$]=ae,H++}r.attributes=ie,r.attributesNum=H,r.index=J}function E(){const M=r.newAttributes;for(let F=0,G=M.length;F<G;F++)M[F]=0}function A(M){S(M,0)}function S(M,F){const G=r.newAttributes,J=r.enabledAttributes,ie=r.attributeDivisors;G[M]=1,J[M]===0&&(n.enableVertexAttribArray(M),J[M]=1),ie[M]!==F&&(n.vertexAttribDivisor(M,F),ie[M]=F)}function B(){const M=r.newAttributes,F=r.enabledAttributes;for(let G=0,J=F.length;G<J;G++)F[G]!==M[G]&&(n.disableVertexAttribArray(G),F[G]=0)}function w(M,F,G,J,ie,ne,H){H===!0?n.vertexAttribIPointer(M,F,G,ie,ne):n.vertexAttribPointer(M,F,G,J,ie,ne)}function R(M,F,G,J){E();const ie=J.attributes,ne=G.getAttributes(),H=F.defaultAttributeValues;for(const q in ne){const $=ne[q];if($.location>=0){let se=ie[q];if(se===void 0&&(q==="instanceMatrix"&&M.instanceMatrix&&(se=M.instanceMatrix),q==="instanceColor"&&M.instanceColor&&(se=M.instanceColor)),se!==void 0){const X=se.normalized,ae=se.itemSize,_e=e.get(se);if(_e===void 0)continue;const Ae=_e.buffer,ce=_e.type,be=_e.bytesPerElement,Ue=ce===n.INT||ce===n.UNSIGNED_INT||se.gpuType===z1;if(se.isInterleavedBufferAttribute){const Qe=se.data,xe=Qe.stride,j=se.offset;if(Qe.isInstancedInterleavedBuffer){for(let Q=0;Q<$.locationSize;Q++)S($.location+Q,Qe.meshPerAttribute);M.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Qe.meshPerAttribute*Qe.count)}else for(let Q=0;Q<$.locationSize;Q++)A($.location+Q);n.bindBuffer(n.ARRAY_BUFFER,Ae);for(let Q=0;Q<$.locationSize;Q++)w($.location+Q,ae/$.locationSize,ce,X,xe*be,(j+ae/$.locationSize*Q)*be,Ue)}else{if(se.isInstancedBufferAttribute){for(let Qe=0;Qe<$.locationSize;Qe++)S($.location+Qe,se.meshPerAttribute);M.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Qe=0;Qe<$.locationSize;Qe++)A($.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,Ae);for(let Qe=0;Qe<$.locationSize;Qe++)w($.location+Qe,ae/$.locationSize,ce,X,ae*be,ae/$.locationSize*Qe*be,Ue)}}else if(H!==void 0){const X=H[q];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv($.location,X);break;case 3:n.vertexAttrib3fv($.location,X);break;case 4:n.vertexAttrib4fv($.location,X);break;default:n.vertexAttrib1fv($.location,X)}}}}B()}function N(){P();for(const M in i){const F=i[M];for(const G in F){const J=F[G];for(const ie in J)m(J[ie].object),delete J[ie];delete F[G]}delete i[M]}}function O(M){if(i[M.id]===void 0)return;const F=i[M.id];for(const G in F){const J=F[G];for(const ie in J)m(J[ie].object),delete J[ie];delete F[G]}delete i[M.id]}function U(M){for(const F in i){const G=i[F];if(G[M.id]===void 0)continue;const J=G[M.id];for(const ie in J)m(J[ie].object),delete J[ie];delete G[M.id]}}function P(){L(),a=!0,r!==s&&(r=s,d(r.object))}function L(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:P,resetDefaultState:L,dispose:N,releaseStatesOfGeometry:O,releaseStatesOfProgram:U,initAttributes:E,enableAttribute:A,disableUnusedAttributes:B}}function Qoe(n,e,t){let i;function s(d){i=d}function r(d,m){n.drawArrays(i,d,m),t.update(m,i,1)}function a(d,m,g){g!==0&&(n.drawArraysInstanced(i,d,m,g),t.update(m,i,g))}function l(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let b=0;for(let x=0;x<g;x++)b+=m[x];t.update(b,i,1)}function u(d,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let x=0;x<d.length;x++)a(d[x],m[x],y[x]);else{b.multiDrawArraysInstancedWEBGL(i,d,0,m,0,y,0,g);let x=0;for(let E=0;E<g;E++)x+=m[E]*y[E];t.update(x,i,1)}}this.setMode=s,this.render=r,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function Zoe(n,e,t,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(U){return!(U!==Fr&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const P=U===Gg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==ko&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==wa&&!P)}function u(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const m=u(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),B=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),w=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),N=x>0,O=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:b,maxVertexTextures:x,maxTextureSize:E,maxCubemapSize:A,maxAttributes:S,maxVertexUniforms:B,maxVaryings:w,maxFragmentUniforms:R,vertexTextures:N,maxSamples:O}}function $oe(n){const e=this;let t=null,i=0,s=!1,r=!1;const a=new hu,l=new fn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||s;return s=y,i=g.length,b},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const x=g.clippingPlanes,E=g.clipIntersection,A=g.clipShadows,S=n.get(g);if(!s||x===null||x.length===0||r&&!A)r?m(null):d();else{const B=r?0:i,w=B*4;let R=S.clippingState||null;u.value=R,R=m(x,y,w,b);for(let N=0;N!==w;++N)R[N]=t[N];S.clippingState=R,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=B}};function d(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,x){const E=g!==null?g.length:0;let A=null;if(E!==0){if(A=u.value,x!==!0||A===null){const S=b+E*4,B=y.matrixWorldInverse;l.getNormalMatrix(B),(A===null||A.length<S)&&(A=new Float32Array(S));for(let w=0,R=b;w!==E;++w,R+=4)a.copy(g[w]).applyMatrix4(B,l),a.normal.toArray(A,R),A[R+3]=a.constant}u.value=A,u.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,A}}function ele(n){let e=new WeakMap;function t(a,l){return l===U0?a.mapping=Ou:l===F0&&(a.mapping=id),a}function i(a){if(a&&a.isTexture){const l=a.mapping;if(l===U0||l===F0)if(e.has(a)){const u=e.get(a).texture;return t(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const d=new fH(u.height);return d.fromEquirectangularTexture(n,a),e.set(a,d),a.addEventListener("dispose",s),t(d.texture,a.mapping)}else return null}}return a}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Xm=4,k3=[.125,.215,.35,.446,.526,.582],wh=20,AT=new Su,V3=new Et;let ET=null,MT=0,TT=0,CT=!1;const Ch=(1+Math.sqrt(5))/2,Nm=1/Ch,j3=[new re(-Ch,Nm,0),new re(Ch,Nm,0),new re(-Nm,0,Ch),new re(Nm,0,Ch),new re(0,Ch,-Nm),new re(0,Ch,Nm),new re(-1,1,-1),new re(1,1,-1),new re(-1,1,1),new re(1,1,1)],tle=new re;class _w{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100,r={}){const{size:a=256,position:l=tle}=r;ET=this._renderer.getRenderTarget(),MT=this._renderer.getActiveCubeFace(),TT=this._renderer.getActiveMipmapLevel(),CT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,s,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Y3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=X3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ET,MT,TT),this._renderer.xr.enabled=CT,e.scissorTest=!1,lS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ou||e.mapping===id?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ET=this._renderer.getRenderTarget(),MT=this._renderer.getActiveCubeFace(),TT=this._renderer.getActiveMipmapLevel(),CT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ps,minFilter:ps,generateMipmaps:!1,type:Gg,format:Fr,colorSpace:rd,depthBuffer:!1},s=W3(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=W3(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=nle(r)),this._blurMaterial=ile(r,e,t)}return s}_compileMaterial(e){const t=new ms(this._lodPlanes[0],e);this._renderer.compile(t,AT)}_sceneToCubeUV(e,t,i,s,r){const u=new as(90,1,t,i),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(V3),g.toneMapping=Tc,g.autoClear=!1;const x=new $a({name:"PMREM.Background",side:ca,depthWrite:!1,depthTest:!1}),E=new ms(new ap,x);let A=!1;const S=e.background;S?S.isColor&&(x.color.copy(S),e.background=null,A=!0):(x.color.copy(V3),A=!0);for(let B=0;B<6;B++){const w=B%3;w===0?(u.up.set(0,d[B],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x+m[B],r.y,r.z)):w===1?(u.up.set(0,0,d[B]),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y+m[B],r.z)):(u.up.set(0,d[B],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y,r.z+m[B]));const R=this._cubeSize;lS(s,w*R,B>2?R:0,R,R),g.setRenderTarget(s),A&&g.render(E,u),g.render(e,u)}E.geometry.dispose(),E.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===Ou||e.mapping===id;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=Y3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=X3());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new ms(this._lodPlanes[0],r),l=r.uniforms;l.envMap.value=e;const u=this._cubeSize;lS(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(a,AT)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=j3[(s-r-1)%j3.length];this._blur(e,r-1,r,a,l)}t.autoClear=i}_blur(e,t,i,s,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,s,"latitudinal",r),this._halfBlur(a,e,i,i,s,"longitudinal",r)}_halfBlur(e,t,i,s,r,a,l){const u=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new ms(this._lodPlanes[s],d),y=d.uniforms,b=this._sizeLods[i]-1,x=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*wh-1),E=r/x,A=isFinite(r)?1+Math.floor(m*E):wh;A>wh&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${wh}`);const S=[];let B=0;for(let U=0;U<wh;++U){const P=U/E,L=Math.exp(-P*P/2);S.push(L),U===0?B+=L:U<A&&(B+=2*L)}for(let U=0;U<S.length;U++)S[U]=S[U]/B;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=S,y.latitudinal.value=a==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:w}=this;y.dTheta.value=x,y.mipInt.value=w-i;const R=this._sizeLods[s],N=3*R*(s>w-Xm?s-w+Xm:0),O=4*(this._cubeSize-R);lS(t,N,O,3*R,2*R),u.setRenderTarget(t),u.render(g,AT)}}function nle(n){const e=[],t=[],i=[];let s=n;const r=n-Xm+1+k3.length;for(let a=0;a<r;a++){const l=Math.pow(2,s);t.push(l);let u=1/l;a>n-Xm?u=k3[a-n+Xm-1]:a===0&&(u=0),i.push(u);const d=1/(l-2),m=-d,g=1+d,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,x=6,E=3,A=2,S=1,B=new Float32Array(E*x*b),w=new Float32Array(A*x*b),R=new Float32Array(S*x*b);for(let O=0;O<b;O++){const U=O%3*2/3-1,P=O>2?0:-1,L=[U,P,0,U+2/3,P,0,U+2/3,P+1,0,U,P,0,U+2/3,P+1,0,U,P+1,0];B.set(L,E*x*O),w.set(y,A*x*O);const M=[O,O,O,O,O,O];R.set(M,S*x*O)}const N=new cn;N.setAttribute("position",new Gn(B,E)),N.setAttribute("uv",new Gn(w,A)),N.setAttribute("faceIndex",new Gn(R,S)),e.push(N),s>Xm&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function W3(n,e,t){const i=new Dc(n,e,t);return i.texture.mapping=Hg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function lS(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function ile(n,e,t){const i=new Float32Array(wh),s=new re(0,1,0);return new Dl({name:"SphericalGaussianBlur",defines:{n:wh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:mB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function X3(){return new Dl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function Y3(){return new Dl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bu,depthTest:!1,depthWrite:!1})}function mB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sle(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const u=l.mapping,d=u===U0||u===F0,m=u===Ou||u===id;if(d||m){let g=e.get(l);const y=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return t===null&&(t=new _w(n)),g=d?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const b=l.image;return d&&b&&b.height>0||m&&b&&s(b)?(t===null&&(t=new _w(n)),g=d?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",r),g.texture):null}}}return l}function s(l){let u=0;const d=6;for(let m=0;m<d;m++)l[m]!==void 0&&u++;return u===d}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function rle(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&wS("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function ale(n,e,t,i){const s={},r=new WeakMap;function a(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const x in y.attributes)e.remove(y.attributes[x]);y.removeEventListener("dispose",a),delete s[y.id];const b=r.get(y);b&&(e.remove(b),r.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(g,y){return s[y.id]===!0||(y.addEventListener("dispose",a),s[y.id]=!0,t.memory.geometries++),y}function u(g){const y=g.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function d(g){const y=[],b=g.index,x=g.attributes.position;let E=0;if(b!==null){const B=b.array;E=b.version;for(let w=0,R=B.length;w<R;w+=3){const N=B[w+0],O=B[w+1],U=B[w+2];y.push(N,O,O,U,U,N)}}else if(x!==void 0){const B=x.array;E=x.version;for(let w=0,R=B.length/3-1;w<R;w+=3){const N=w+0,O=w+1,U=w+2;y.push(N,O,O,U,U,N)}}else return;const A=new(sH(y)?H2:z2)(y,1);A.version=E;const S=r.get(g);S&&e.remove(S),r.set(g,A)}function m(g){const y=r.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&d(g)}else d(g);return r.get(g)}return{get:l,update:u,getWireframeAttribute:m}}function ole(n,e,t){let i;function s(y){i=y}let r,a;function l(y){r=y.type,a=y.bytesPerElement}function u(y,b){n.drawElements(i,b,r,y*a),t.update(b,i,1)}function d(y,b,x){x!==0&&(n.drawElementsInstanced(i,b,r,y*a,x),t.update(b,i,x))}function m(y,b,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,r,y,0,x);let A=0;for(let S=0;S<x;S++)A+=b[S];t.update(A,i,1)}function g(y,b,x,E){if(x===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<y.length;S++)d(y[S]/a,b[S],E[S]);else{A.multiDrawElementsInstancedWEBGL(i,b,0,r,y,0,E,0,x);let S=0;for(let B=0;B<x;B++)S+=b[B]*E[B];t.update(S,i,1)}}this.setMode=s,this.setIndex=l,this.render=u,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function lle(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,l){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=l*(r/3);break;case n.LINES:t.lines+=l*(r/2);break;case n.LINE_STRIP:t.lines+=l*(r-1);break;case n.LINE_LOOP:t.lines+=l*r;break;case n.POINTS:t.points+=l*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function cle(n,e,t){const i=new WeakMap,s=new Hn;function r(a,l,u){const d=a.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(l);if(y===void 0||y.count!==g){let M=function(){P.dispose(),i.delete(l),l.removeEventListener("dispose",M)};var b=M;y!==void 0&&y.texture.dispose();const x=l.morphAttributes.position!==void 0,E=l.morphAttributes.normal!==void 0,A=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],B=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let R=0;x===!0&&(R=1),E===!0&&(R=2),A===!0&&(R=3);let N=l.attributes.position.count*R,O=1;N>e.maxTextureSize&&(O=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const U=new Float32Array(N*O*4*g),P=new b_(U,N,O,g);P.type=wa,P.needsUpdate=!0;const L=R*4;for(let F=0;F<g;F++){const G=S[F],J=B[F],ie=w[F],ne=N*O*4*F;for(let H=0;H<G.count;H++){const q=H*L;x===!0&&(s.fromBufferAttribute(G,H),U[ne+q+0]=s.x,U[ne+q+1]=s.y,U[ne+q+2]=s.z,U[ne+q+3]=0),E===!0&&(s.fromBufferAttribute(J,H),U[ne+q+4]=s.x,U[ne+q+5]=s.y,U[ne+q+6]=s.z,U[ne+q+7]=0),A===!0&&(s.fromBufferAttribute(ie,H),U[ne+q+8]=s.x,U[ne+q+9]=s.y,U[ne+q+10]=s.z,U[ne+q+11]=ie.itemSize===4?s.w:1)}}y={count:g,texture:P,size:new tt(N,O)},i.set(l,y),l.addEventListener("dispose",M)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let x=0;for(let A=0;A<d.length;A++)x+=d[A];const E=l.morphTargetsRelative?1:1-x;u.getUniforms().setValue(n,"morphTargetBaseInfluence",E),u.getUniforms().setValue(n,"morphTargetInfluences",d)}u.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:r}}function ule(n,e,t,i){let s=new WeakMap;function r(u){const d=i.render.frame,m=u.geometry,g=e.get(u,m);if(s.get(g)!==d&&(e.update(g),s.set(g,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),s.get(u)!==d&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),s.set(u,d))),u.isSkinnedMesh){const y=u.skeleton;s.get(y)!==d&&(y.update(),s.set(y,d))}return g}function a(){s=new WeakMap}function l(u){const d=u.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:r,dispose:a}}const s5=new ki,q3=new tE(1,1),r5=new b_,a5=new Y1,o5=new x_,K3=[],J3=[],Q3=new Float32Array(16),Z3=new Float32Array(9),$3=new Float32Array(4);function Wg(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let r=K3[s];if(r===void 0&&(r=new Float32Array(s),K3[s]=r),e!==0){i.toArray(r,0);for(let a=1,l=0;a!==e;++a)l+=t,n[a].toArray(r,l)}return r}function js(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ws(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function gE(n,e){let t=J3[e];t===void 0&&(t=new Int32Array(e),J3[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function fle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function dle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(js(t,e))return;n.uniform2fv(this.addr,e),Ws(t,e)}}function hle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(js(t,e))return;n.uniform3fv(this.addr,e),Ws(t,e)}}function ple(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(js(t,e))return;n.uniform4fv(this.addr,e),Ws(t,e)}}function mle(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(js(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ws(t,e)}else{if(js(t,i))return;$3.set(i),n.uniformMatrix2fv(this.addr,!1,$3),Ws(t,i)}}function gle(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(js(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ws(t,e)}else{if(js(t,i))return;Z3.set(i),n.uniformMatrix3fv(this.addr,!1,Z3),Ws(t,i)}}function yle(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(js(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ws(t,e)}else{if(js(t,i))return;Q3.set(i),n.uniformMatrix4fv(this.addr,!1,Q3),Ws(t,i)}}function vle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function _le(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(js(t,e))return;n.uniform2iv(this.addr,e),Ws(t,e)}}function ble(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(js(t,e))return;n.uniform3iv(this.addr,e),Ws(t,e)}}function xle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(js(t,e))return;n.uniform4iv(this.addr,e),Ws(t,e)}}function Sle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ale(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(js(t,e))return;n.uniform2uiv(this.addr,e),Ws(t,e)}}function Ele(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(js(t,e))return;n.uniform3uiv(this.addr,e),Ws(t,e)}}function Mle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(js(t,e))return;n.uniform4uiv(this.addr,e),Ws(t,e)}}function Tle(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(q3.compareFunction=U2,r=q3):r=s5,t.setTexture2D(e||r,s)}function Cle(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||a5,s)}function wle(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||o5,s)}function Rle(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||r5,s)}function Ble(n){switch(n){case 5126:return fle;case 35664:return dle;case 35665:return hle;case 35666:return ple;case 35674:return mle;case 35675:return gle;case 35676:return yle;case 5124:case 35670:return vle;case 35667:case 35671:return _le;case 35668:case 35672:return ble;case 35669:case 35673:return xle;case 5125:return Sle;case 36294:return Ale;case 36295:return Ele;case 36296:return Mle;case 35678:case 36198:case 36298:case 36306:case 35682:return Tle;case 35679:case 36299:case 36307:return Cle;case 35680:case 36300:case 36308:case 36293:return wle;case 36289:case 36303:case 36311:case 36292:return Rle}}function Dle(n,e){n.uniform1fv(this.addr,e)}function Ile(n,e){const t=Wg(e,this.size,2);n.uniform2fv(this.addr,t)}function Ole(n,e){const t=Wg(e,this.size,3);n.uniform3fv(this.addr,t)}function Nle(n,e){const t=Wg(e,this.size,4);n.uniform4fv(this.addr,t)}function Lle(n,e){const t=Wg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Ple(n,e){const t=Wg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Ule(n,e){const t=Wg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Fle(n,e){n.uniform1iv(this.addr,e)}function zle(n,e){n.uniform2iv(this.addr,e)}function Hle(n,e){n.uniform3iv(this.addr,e)}function Gle(n,e){n.uniform4iv(this.addr,e)}function kle(n,e){n.uniform1uiv(this.addr,e)}function Vle(n,e){n.uniform2uiv(this.addr,e)}function jle(n,e){n.uniform3uiv(this.addr,e)}function Wle(n,e){n.uniform4uiv(this.addr,e)}function Xle(n,e,t){const i=this.cache,s=e.length,r=gE(t,s);js(i,r)||(n.uniform1iv(this.addr,r),Ws(i,r));for(let a=0;a!==s;++a)t.setTexture2D(e[a]||s5,r[a])}function Yle(n,e,t){const i=this.cache,s=e.length,r=gE(t,s);js(i,r)||(n.uniform1iv(this.addr,r),Ws(i,r));for(let a=0;a!==s;++a)t.setTexture3D(e[a]||a5,r[a])}function qle(n,e,t){const i=this.cache,s=e.length,r=gE(t,s);js(i,r)||(n.uniform1iv(this.addr,r),Ws(i,r));for(let a=0;a!==s;++a)t.setTextureCube(e[a]||o5,r[a])}function Kle(n,e,t){const i=this.cache,s=e.length,r=gE(t,s);js(i,r)||(n.uniform1iv(this.addr,r),Ws(i,r));for(let a=0;a!==s;++a)t.setTexture2DArray(e[a]||r5,r[a])}function Jle(n){switch(n){case 5126:return Dle;case 35664:return Ile;case 35665:return Ole;case 35666:return Nle;case 35674:return Lle;case 35675:return Ple;case 35676:return Ule;case 5124:case 35670:return Fle;case 35667:case 35671:return zle;case 35668:case 35672:return Hle;case 35669:case 35673:return Gle;case 5125:return kle;case 36294:return Vle;case 36295:return jle;case 36296:return Wle;case 35678:case 36198:case 36298:case 36306:case 35682:return Xle;case 35679:case 36299:case 36307:return Yle;case 35680:case 36300:case 36308:case 36293:return qle;case 36289:case 36303:case 36311:case 36292:return Kle}}class Qle{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Ble(t.type)}}class Zle{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Jle(t.type)}}class $le{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let r=0,a=s.length;r!==a;++r){const l=s[r];l.setValue(e,t[l.id],i)}}}const wT=/(\w+)(\])?(\[|\.)?/g;function eL(n,e){n.seq.push(e),n.map[e.id]=e}function ece(n,e,t){const i=n.name,s=i.length;for(wT.lastIndex=0;;){const r=wT.exec(i),a=wT.lastIndex;let l=r[1];const u=r[2]==="]",d=r[3];if(u&&(l=l|0),d===void 0||d==="["&&a+2===s){eL(t,d===void 0?new Qle(l,n,e):new Zle(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new $le(l),eL(t,g)),t=g}}}class BS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(t,s),a=e.getUniformLocation(t,r.name);ece(r,a,this)}}setValue(e,t,i,s){const r=this.map[t];r!==void 0&&r.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let r=0,a=t.length;r!==a;++r){const l=t[r],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,r=e.length;s!==r;++s){const a=e[s];a.id in t&&i.push(a)}return i}}function tL(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const tce=37297;let nce=0;function ice(n,e){const t=n.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let a=s;a<r;a++){const l=a+1;i.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return i.join(`
`)}const nL=new fn;function sce(n){Ln._getMatrix(nL,Ln.workingColorSpace,n);const e=`mat3( ${nL.elements.map(t=>t.toFixed(4))} )`;switch(Ln.getTransfer(n)){case H0:return[e,"LinearTransferOETF"];case ci:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function iL(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=n.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const a=parseInt(r[1]);return t.toUpperCase()+`

`+s+`

`+ice(n.getShaderSource(e),a)}else return s}function rce(n,e){const t=sce(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function ace(n,e){let t;switch(e){case Pz:t="Linear";break;case Uz:t="Reinhard";break;case Fz:t="Cineon";break;case C2:t="ACESFilmic";break;case Hz:t="AgX";break;case Gz:t="Neutral";break;case zz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const cS=new re;function oce(){Ln.getLuminanceCoefficients(cS);const n=cS.x.toFixed(4),e=cS.y.toFixed(4),t=cS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function lce(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fv).join(`
`)}function cce(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function uce(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(e,s),a=r.name;let l=1;r.type===n.FLOAT_MAT2&&(l=2),r.type===n.FLOAT_MAT3&&(l=3),r.type===n.FLOAT_MAT4&&(l=4),t[a]={type:r.type,location:n.getAttribLocation(e,a),locationSize:l}}return t}function Fv(n){return n!==""}function sL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fce=/^[ \t]*#include +<([\w\d./]+)>/gm;function bw(n){return n.replace(fce,hce)}const dce=new Map;function hce(n,e){let t=mn[e];if(t===void 0){const i=dce.get(e);if(i!==void 0)t=mn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return bw(t)}const pce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aL(n){return n.replace(pce,mce)}function mce(n,e,t,i){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function oL(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function gce(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===P1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===n0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xl&&(e="SHADOWMAP_TYPE_VSM"),e}function yce(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ou:case id:e="ENVMAP_TYPE_CUBE";break;case Hg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function vce(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case id:e="ENVMAP_MODE_REFRACTION";break}return e}function _ce(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case v_:e="ENVMAP_BLENDING_MULTIPLY";break;case Nz:e="ENVMAP_BLENDING_MIX";break;case Lz:e="ENVMAP_BLENDING_ADD";break}return e}function bce(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function xce(n,e,t,i){const s=n.getContext(),r=t.defines;let a=t.vertexShader,l=t.fragmentShader;const u=gce(t),d=yce(t),m=vce(t),g=_ce(t),y=bce(t),b=lce(t),x=cce(r),E=s.createProgram();let A,S,B=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Fv).join(`
`),A.length>0&&(A+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Fv).join(`
`),S.length>0&&(S+=`
`)):(A=[oL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fv).join(`
`),S=[oL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Tc?"#define TONE_MAPPING":"",t.toneMapping!==Tc?mn.tonemapping_pars_fragment:"",t.toneMapping!==Tc?ace("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,rce("linearToOutputTexel",t.outputColorSpace),oce(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fv).join(`
`)),a=bw(a),a=sL(a,t),a=rL(a,t),l=bw(l),l=sL(l,t),l=rL(l,t),a=aL(a),l=aL(l),t.isRawShaderMaterial!==!0&&(B=`#version 300 es
`,A=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["#define varying in",t.glslVersion===fw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===fw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const w=B+A+a,R=B+S+l,N=tL(s,s.VERTEX_SHADER,w),O=tL(s,s.FRAGMENT_SHADER,R);s.attachShader(E,N),s.attachShader(E,O),t.index0AttributeName!==void 0?s.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);function U(F){if(n.debug.checkShaderErrors){const G=s.getProgramInfoLog(E).trim(),J=s.getShaderInfoLog(N).trim(),ie=s.getShaderInfoLog(O).trim();let ne=!0,H=!0;if(s.getProgramParameter(E,s.LINK_STATUS)===!1)if(ne=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,E,N,O);else{const q=iL(s,N,"vertex"),$=iL(s,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(E,s.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+G+`
`+q+`
`+$)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(J===""||ie==="")&&(H=!1);H&&(F.diagnostics={runnable:ne,programLog:G,vertexShader:{log:J,prefix:A},fragmentShader:{log:ie,prefix:S}})}s.deleteShader(N),s.deleteShader(O),P=new BS(s,E),L=uce(s,E)}let P;this.getUniforms=function(){return P===void 0&&U(this),P};let L;this.getAttributes=function(){return L===void 0&&U(this),L};let M=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=s.getProgramParameter(E,tce)),M},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=nce++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=N,this.fragmentShader=O,this}let Sce=0;class Ace{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Ece(e),t.set(e,i)),i}}class Ece{constructor(e){this.id=Sce++,this.code=e,this.usedTimes=0}}function Mce(n,e,t,i,s,r,a){const l=new Sg,u=new Ace,d=new Set,m=[],g=s.logarithmicDepthBuffer,y=s.vertexTextures;let b=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(L){return d.add(L),L===0?"uv":`uv${L}`}function A(L,M,F,G,J){const ie=G.fog,ne=J.geometry,H=L.isMeshStandardMaterial?G.environment:null,q=(L.isMeshStandardMaterial?t:e).get(L.envMap||H),$=q&&q.mapping===Hg?q.image.height:null,se=x[L.type];L.precision!==null&&(b=s.getMaxPrecision(L.precision),b!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",b,"instead."));const X=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ae=X!==void 0?X.length:0;let _e=0;ne.morphAttributes.position!==void 0&&(_e=1),ne.morphAttributes.normal!==void 0&&(_e=2),ne.morphAttributes.color!==void 0&&(_e=3);let Ae,ce,be,Ue;if(se){const Wt=Sl[se];Ae=Wt.vertexShader,ce=Wt.fragmentShader}else Ae=L.vertexShader,ce=L.fragmentShader,u.update(L),be=u.getVertexShaderID(L),Ue=u.getFragmentShaderID(L);const Qe=n.getRenderTarget(),xe=n.state.buffers.depth.getReversed(),j=J.isInstancedMesh===!0,Q=J.isBatchedMesh===!0,oe=!!L.map,Ce=!!L.matcap,Se=!!q,W=!!L.aoMap,ze=!!L.lightMap,De=!!L.bumpMap,Ge=!!L.normalMap,ve=!!L.displacementMap,at=!!L.emissiveMap,Te=!!L.metalnessMap,Z=!!L.roughnessMap,k=L.anisotropy>0,me=L.clearcoat>0,Be=L.dispersion>0,Ke=L.iridescence>0,He=L.sheen>0,ct=L.transmission>0,rt=k&&!!L.anisotropyMap,_t=me&&!!L.clearcoatMap,bt=me&&!!L.clearcoatNormalMap,Ve=me&&!!L.clearcoatRoughnessMap,ut=Ke&&!!L.iridescenceMap,xt=Ke&&!!L.iridescenceThicknessMap,St=He&&!!L.sheenColorMap,Ye=He&&!!L.sheenRoughnessMap,le=!!L.specularMap,Oe=!!L.specularColorMap,ft=!!L.specularIntensityMap,de=ct&&!!L.transmissionMap,ot=ct&&!!L.thicknessMap,Le=!!L.gradientMap,Je=!!L.alphaMap,ht=L.alphaTest>0,pt=!!L.alphaHash,Dt=!!L.extensions;let tn=Tc;L.toneMapped&&(Qe===null||Qe.isXRRenderTarget===!0)&&(tn=n.toneMapping);const En={shaderID:se,shaderType:L.type,shaderName:L.name,vertexShader:Ae,fragmentShader:ce,defines:L.defines,customVertexShaderID:be,customFragmentShaderID:Ue,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:b,batching:Q,batchingColor:Q&&J._colorsTexture!==null,instancing:j,instancingColor:j&&J.instanceColor!==null,instancingMorph:j&&J.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Qe===null?n.outputColorSpace:Qe.isXRRenderTarget===!0?Qe.texture.colorSpace:rd,alphaToCoverage:!!L.alphaToCoverage,map:oe,matcap:Ce,envMap:Se,envMapMode:Se&&q.mapping,envMapCubeUVHeight:$,aoMap:W,lightMap:ze,bumpMap:De,normalMap:Ge,displacementMap:y&&ve,emissiveMap:at,normalMapObjectSpace:Ge&&L.normalMapType===Kz,normalMapTangentSpace:Ge&&L.normalMapType===cd,metalnessMap:Te,roughnessMap:Z,anisotropy:k,anisotropyMap:rt,clearcoat:me,clearcoatMap:_t,clearcoatNormalMap:bt,clearcoatRoughnessMap:Ve,dispersion:Be,iridescence:Ke,iridescenceMap:ut,iridescenceThicknessMap:xt,sheen:He,sheenColorMap:St,sheenRoughnessMap:Ye,specularMap:le,specularColorMap:Oe,specularIntensityMap:ft,transmission:ct,transmissionMap:de,thicknessMap:ot,gradientMap:Le,opaque:L.transparent===!1&&L.blending===Vh&&L.alphaToCoverage===!1,alphaMap:Je,alphaTest:ht,alphaHash:pt,combine:L.combine,mapUv:oe&&E(L.map.channel),aoMapUv:W&&E(L.aoMap.channel),lightMapUv:ze&&E(L.lightMap.channel),bumpMapUv:De&&E(L.bumpMap.channel),normalMapUv:Ge&&E(L.normalMap.channel),displacementMapUv:ve&&E(L.displacementMap.channel),emissiveMapUv:at&&E(L.emissiveMap.channel),metalnessMapUv:Te&&E(L.metalnessMap.channel),roughnessMapUv:Z&&E(L.roughnessMap.channel),anisotropyMapUv:rt&&E(L.anisotropyMap.channel),clearcoatMapUv:_t&&E(L.clearcoatMap.channel),clearcoatNormalMapUv:bt&&E(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ve&&E(L.clearcoatRoughnessMap.channel),iridescenceMapUv:ut&&E(L.iridescenceMap.channel),iridescenceThicknessMapUv:xt&&E(L.iridescenceThicknessMap.channel),sheenColorMapUv:St&&E(L.sheenColorMap.channel),sheenRoughnessMapUv:Ye&&E(L.sheenRoughnessMap.channel),specularMapUv:le&&E(L.specularMap.channel),specularColorMapUv:Oe&&E(L.specularColorMap.channel),specularIntensityMapUv:ft&&E(L.specularIntensityMap.channel),transmissionMapUv:de&&E(L.transmissionMap.channel),thicknessMapUv:ot&&E(L.thicknessMap.channel),alphaMapUv:Je&&E(L.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Ge||k),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!ne.attributes.uv&&(oe||Je),fog:!!ie,useFog:L.fog===!0,fogExp2:!!ie&&ie.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:xe,skinning:J.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:_e,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:tn,decodeVideoTexture:oe&&L.map.isVideoTexture===!0&&Ln.getTransfer(L.map.colorSpace)===ci,decodeVideoTextureEmissive:at&&L.emissiveMap.isVideoTexture===!0&&Ln.getTransfer(L.emissiveMap.colorSpace)===ci,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===El,flipSided:L.side===ca,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Dt&&L.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&L.extensions.multiDraw===!0||Q)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return En.vertexUv1s=d.has(1),En.vertexUv2s=d.has(2),En.vertexUv3s=d.has(3),d.clear(),En}function S(L){const M=[];if(L.shaderID?M.push(L.shaderID):(M.push(L.customVertexShaderID),M.push(L.customFragmentShaderID)),L.defines!==void 0)for(const F in L.defines)M.push(F),M.push(L.defines[F]);return L.isRawShaderMaterial===!1&&(B(M,L),w(M,L),M.push(n.outputColorSpace)),M.push(L.customProgramCacheKey),M.join()}function B(L,M){L.push(M.precision),L.push(M.outputColorSpace),L.push(M.envMapMode),L.push(M.envMapCubeUVHeight),L.push(M.mapUv),L.push(M.alphaMapUv),L.push(M.lightMapUv),L.push(M.aoMapUv),L.push(M.bumpMapUv),L.push(M.normalMapUv),L.push(M.displacementMapUv),L.push(M.emissiveMapUv),L.push(M.metalnessMapUv),L.push(M.roughnessMapUv),L.push(M.anisotropyMapUv),L.push(M.clearcoatMapUv),L.push(M.clearcoatNormalMapUv),L.push(M.clearcoatRoughnessMapUv),L.push(M.iridescenceMapUv),L.push(M.iridescenceThicknessMapUv),L.push(M.sheenColorMapUv),L.push(M.sheenRoughnessMapUv),L.push(M.specularMapUv),L.push(M.specularColorMapUv),L.push(M.specularIntensityMapUv),L.push(M.transmissionMapUv),L.push(M.thicknessMapUv),L.push(M.combine),L.push(M.fogExp2),L.push(M.sizeAttenuation),L.push(M.morphTargetsCount),L.push(M.morphAttributeCount),L.push(M.numDirLights),L.push(M.numPointLights),L.push(M.numSpotLights),L.push(M.numSpotLightMaps),L.push(M.numHemiLights),L.push(M.numRectAreaLights),L.push(M.numDirLightShadows),L.push(M.numPointLightShadows),L.push(M.numSpotLightShadows),L.push(M.numSpotLightShadowsWithMaps),L.push(M.numLightProbes),L.push(M.shadowMapType),L.push(M.toneMapping),L.push(M.numClippingPlanes),L.push(M.numClipIntersection),L.push(M.depthPacking)}function w(L,M){l.disableAll(),M.supportsVertexTextures&&l.enable(0),M.instancing&&l.enable(1),M.instancingColor&&l.enable(2),M.instancingMorph&&l.enable(3),M.matcap&&l.enable(4),M.envMap&&l.enable(5),M.normalMapObjectSpace&&l.enable(6),M.normalMapTangentSpace&&l.enable(7),M.clearcoat&&l.enable(8),M.iridescence&&l.enable(9),M.alphaTest&&l.enable(10),M.vertexColors&&l.enable(11),M.vertexAlphas&&l.enable(12),M.vertexUv1s&&l.enable(13),M.vertexUv2s&&l.enable(14),M.vertexUv3s&&l.enable(15),M.vertexTangents&&l.enable(16),M.anisotropy&&l.enable(17),M.alphaHash&&l.enable(18),M.batching&&l.enable(19),M.dispersion&&l.enable(20),M.batchingColor&&l.enable(21),L.push(l.mask),l.disableAll(),M.fog&&l.enable(0),M.useFog&&l.enable(1),M.flatShading&&l.enable(2),M.logarithmicDepthBuffer&&l.enable(3),M.reverseDepthBuffer&&l.enable(4),M.skinning&&l.enable(5),M.morphTargets&&l.enable(6),M.morphNormals&&l.enable(7),M.morphColors&&l.enable(8),M.premultipliedAlpha&&l.enable(9),M.shadowMapEnabled&&l.enable(10),M.doubleSided&&l.enable(11),M.flipSided&&l.enable(12),M.useDepthPacking&&l.enable(13),M.dithering&&l.enable(14),M.transmission&&l.enable(15),M.sheen&&l.enable(16),M.opaque&&l.enable(17),M.pointsUvs&&l.enable(18),M.decodeVideoTexture&&l.enable(19),M.decodeVideoTextureEmissive&&l.enable(20),M.alphaToCoverage&&l.enable(21),L.push(l.mask)}function R(L){const M=x[L.type];let F;if(M){const G=Sl[M];F=cH.clone(G.uniforms)}else F=L.uniforms;return F}function N(L,M){let F;for(let G=0,J=m.length;G<J;G++){const ie=m[G];if(ie.cacheKey===M){F=ie,++F.usedTimes;break}}return F===void 0&&(F=new xce(n,M,L,r),m.push(F)),F}function O(L){if(--L.usedTimes===0){const M=m.indexOf(L);m[M]=m[m.length-1],m.pop(),L.destroy()}}function U(L){u.remove(L)}function P(){u.dispose()}return{getParameters:A,getProgramCacheKey:S,getUniforms:R,acquireProgram:N,releaseProgram:O,releaseShaderCache:U,programs:m,dispose:P}}function Tce(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let l=n.get(a);return l===void 0&&(l={},n.set(a,l)),l}function i(a){n.delete(a)}function s(a,l,u){n.get(a)[l]=u}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:s,dispose:r}}function Cce(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function lL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function cL(){const n=[];let e=0;const t=[],i=[],s=[];function r(){e=0,t.length=0,i.length=0,s.length=0}function a(g,y,b,x,E,A){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:b,groupOrder:x,renderOrder:g.renderOrder,z:E,group:A},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=b,S.groupOrder=x,S.renderOrder=g.renderOrder,S.z=E,S.group=A),e++,S}function l(g,y,b,x,E,A){const S=a(g,y,b,x,E,A);b.transmission>0?i.push(S):b.transparent===!0?s.push(S):t.push(S)}function u(g,y,b,x,E,A){const S=a(g,y,b,x,E,A);b.transmission>0?i.unshift(S):b.transparent===!0?s.unshift(S):t.unshift(S)}function d(g,y){t.length>1&&t.sort(g||Cce),i.length>1&&i.sort(y||lL),s.length>1&&s.sort(y||lL)}function m(){for(let g=e,y=n.length;g<y;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:s,init:r,push:l,unshift:u,finish:m,sort:d}}function wce(){let n=new WeakMap;function e(i,s){const r=n.get(i);let a;return r===void 0?(a=new cL,n.set(i,[a])):s>=r.length?(a=new cL,r.push(a)):a=r[s],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Rce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new Et};break;case"SpotLight":t={position:new re,direction:new re,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new Et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":t={color:new Et,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function Bce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Dce=0;function Ice(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Oce(n){const e=new Rce,t=Bce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new re);const s=new re,r=new Gt,a=new Gt;function l(d){let m=0,g=0,y=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let b=0,x=0,E=0,A=0,S=0,B=0,w=0,R=0,N=0,O=0,U=0;d.sort(Ice);for(let L=0,M=d.length;L<M;L++){const F=d[L],G=F.color,J=F.intensity,ie=F.distance,ne=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)m+=G.r*J,g+=G.g*J,y+=G.b*J;else if(F.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(F.sh.coefficients[H],J);U++}else if(F.isDirectionalLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const q=F.shadow,$=t.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.directionalShadow[b]=$,i.directionalShadowMap[b]=ne,i.directionalShadowMatrix[b]=F.shadow.matrix,B++}i.directional[b]=H,b++}else if(F.isSpotLight){const H=e.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(G).multiplyScalar(J),H.distance=ie,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,i.spot[E]=H;const q=F.shadow;if(F.map&&(i.spotLightMap[N]=F.map,N++,q.updateMatrices(F),F.castShadow&&O++),i.spotLightMatrix[E]=q.matrix,F.castShadow){const $=t.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.spotShadow[E]=$,i.spotShadowMap[E]=ne,R++}E++}else if(F.isRectAreaLight){const H=e.get(F);H.color.copy(G).multiplyScalar(J),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),i.rectArea[A]=H,A++}else if(F.isPointLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),H.distance=F.distance,H.decay=F.decay,F.castShadow){const q=F.shadow,$=t.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,$.shadowCameraNear=q.camera.near,$.shadowCameraFar=q.camera.far,i.pointShadow[x]=$,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=F.shadow.matrix,w++}i.point[x]=H,x++}else if(F.isHemisphereLight){const H=e.get(F);H.skyColor.copy(F.color).multiplyScalar(J),H.groundColor.copy(F.groundColor).multiplyScalar(J),i.hemi[S]=H,S++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=wt.LTC_FLOAT_1,i.rectAreaLTC2=wt.LTC_FLOAT_2):(i.rectAreaLTC1=wt.LTC_HALF_1,i.rectAreaLTC2=wt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const P=i.hash;(P.directionalLength!==b||P.pointLength!==x||P.spotLength!==E||P.rectAreaLength!==A||P.hemiLength!==S||P.numDirectionalShadows!==B||P.numPointShadows!==w||P.numSpotShadows!==R||P.numSpotMaps!==N||P.numLightProbes!==U)&&(i.directional.length=b,i.spot.length=E,i.rectArea.length=A,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=B,i.directionalShadowMap.length=B,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=B,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=R+N-O,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=U,P.directionalLength=b,P.pointLength=x,P.spotLength=E,P.rectAreaLength=A,P.hemiLength=S,P.numDirectionalShadows=B,P.numPointShadows=w,P.numSpotShadows=R,P.numSpotMaps=N,P.numLightProbes=U,i.version=Dce++)}function u(d,m){let g=0,y=0,b=0,x=0,E=0;const A=m.matrixWorldInverse;for(let S=0,B=d.length;S<B;S++){const w=d[S];if(w.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(A),g++}else if(w.isSpotLight){const R=i.spot[b];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),R.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(A),b++}else if(w.isRectAreaLight){const R=i.rectArea[x];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),a.identity(),r.copy(w.matrixWorld),r.premultiply(A),a.extractRotation(r),R.halfWidth.set(w.width*.5,0,0),R.halfHeight.set(0,w.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),x++}else if(w.isPointLight){const R=i.point[y];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),y++}else if(w.isHemisphereLight){const R=i.hemi[E];R.direction.setFromMatrixPosition(w.matrixWorld),R.direction.transformDirection(A),E++}}}return{setup:l,setupView:u,state:i}}function uL(n){const e=new Oce(n),t=[],i=[];function s(m){d.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function a(m){i.push(m)}function l(){e.setup(t)}function u(m){e.setupView(t,m)}const d={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:d,setupLights:l,setupLightsView:u,pushLight:r,pushShadow:a}}function Nce(n){let e=new WeakMap;function t(s,r=0){const a=e.get(s);let l;return a===void 0?(l=new uL(n),e.set(s,[l])):r>=a.length?(l=new uL(n),a.push(l)):l=a[r],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const Lce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Pce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Uce(n,e,t){let i=new kg;const s=new tt,r=new tt,a=new Hn,l=new $2({depthPacking:qz}),u=new eB,d={},m=t.maxTextureSize,g={[Bc]:ca,[ca]:Bc,[El]:El},y=new Dl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:Lce,fragmentShader:Pce}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const x=new cn;x.setAttribute("position",new Gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new ms(x,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P1;let S=this.type;this.render=function(O,U,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||O.length===0)return;const L=n.getRenderTarget(),M=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),G=n.state;G.setBlending(bu),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const J=S!==xl&&this.type===xl,ie=S===xl&&this.type!==xl;for(let ne=0,H=O.length;ne<H;ne++){const q=O[ne],$=q.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;s.copy($.mapSize);const se=$.getFrameExtents();if(s.multiply(se),r.copy($.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/se.x),s.x=r.x*se.x,$.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/se.y),s.y=r.y*se.y,$.mapSize.y=r.y)),$.map===null||J===!0||ie===!0){const ae=this.type!==xl?{minFilter:nr,magFilter:nr}:{};$.map!==null&&$.map.dispose(),$.map=new Dc(s.x,s.y,ae),$.map.texture.name=q.name+".shadowMap",$.camera.updateProjectionMatrix()}n.setRenderTarget($.map),n.clear();const X=$.getViewportCount();for(let ae=0;ae<X;ae++){const _e=$.getViewport(ae);a.set(r.x*_e.x,r.y*_e.y,r.x*_e.z,r.y*_e.w),G.viewport(a),$.updateMatrices(q,ae),i=$.getFrustum(),R(U,P,$.camera,q,this.type)}$.isPointLightShadow!==!0&&this.type===xl&&B($,P),$.needsUpdate=!1}S=this.type,A.needsUpdate=!1,n.setRenderTarget(L,M,F)};function B(O,U){const P=e.update(E);y.defines.VSM_SAMPLES!==O.blurSamples&&(y.defines.VSM_SAMPLES=O.blurSamples,b.defines.VSM_SAMPLES=O.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new Dc(s.x,s.y)),y.uniforms.shadow_pass.value=O.map.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(U,null,P,y,E,null),b.uniforms.shadow_pass.value=O.mapPass.texture,b.uniforms.resolution.value=O.mapSize,b.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(U,null,P,b,E,null)}function w(O,U,P,L){let M=null;const F=P.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(F!==void 0)M=F;else if(M=P.isPointLight===!0?u:l,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0||U.alphaToCoverage===!0){const G=M.uuid,J=U.uuid;let ie=d[G];ie===void 0&&(ie={},d[G]=ie);let ne=ie[J];ne===void 0&&(ne=M.clone(),ie[J]=ne,U.addEventListener("dispose",N)),M=ne}if(M.visible=U.visible,M.wireframe=U.wireframe,L===xl?M.side=U.shadowSide!==null?U.shadowSide:U.side:M.side=U.shadowSide!==null?U.shadowSide:g[U.side],M.alphaMap=U.alphaMap,M.alphaTest=U.alphaToCoverage===!0?.5:U.alphaTest,M.map=U.map,M.clipShadows=U.clipShadows,M.clippingPlanes=U.clippingPlanes,M.clipIntersection=U.clipIntersection,M.displacementMap=U.displacementMap,M.displacementScale=U.displacementScale,M.displacementBias=U.displacementBias,M.wireframeLinewidth=U.wireframeLinewidth,M.linewidth=U.linewidth,P.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const G=n.properties.get(M);G.light=P}return M}function R(O,U,P,L,M){if(O.visible===!1)return;if(O.layers.test(U.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&M===xl)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,O.matrixWorld);const J=e.update(O),ie=O.material;if(Array.isArray(ie)){const ne=J.groups;for(let H=0,q=ne.length;H<q;H++){const $=ne[H],se=ie[$.materialIndex];if(se&&se.visible){const X=w(O,se,L,M);O.onBeforeShadow(n,O,U,P,J,X,$),n.renderBufferDirect(P,null,J,X,O,$),O.onAfterShadow(n,O,U,P,J,X,$)}}}else if(ie.visible){const ne=w(O,ie,L,M);O.onBeforeShadow(n,O,U,P,J,ne,null),n.renderBufferDirect(P,null,J,ne,O,null),O.onAfterShadow(n,O,U,P,J,ne,null)}}const G=O.children;for(let J=0,ie=G.length;J<ie;J++)R(G[J],U,P,L,M)}function N(O){O.target.removeEventListener("dispose",N);for(const P in d){const L=d[P],M=O.target.uuid;M in L&&(L[M].dispose(),delete L[M])}}}const Fce={[hA]:pA,[mA]:vA,[gA]:_A,[Qh]:yA,[pA]:hA,[vA]:mA,[_A]:gA,[yA]:Qh};function zce(n,e){function t(){let de=!1;const ot=new Hn;let Le=null;const Je=new Hn(0,0,0,0);return{setMask:function(ht){Le!==ht&&!de&&(n.colorMask(ht,ht,ht,ht),Le=ht)},setLocked:function(ht){de=ht},setClear:function(ht,pt,Dt,tn,En){En===!0&&(ht*=tn,pt*=tn,Dt*=tn),ot.set(ht,pt,Dt,tn),Je.equals(ot)===!1&&(n.clearColor(ht,pt,Dt,tn),Je.copy(ot))},reset:function(){de=!1,Le=null,Je.set(-1,0,0,0)}}}function i(){let de=!1,ot=!1,Le=null,Je=null,ht=null;return{setReversed:function(pt){if(ot!==pt){const Dt=e.get("EXT_clip_control");pt?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT),ot=pt;const tn=ht;ht=null,this.setClear(tn)}},getReversed:function(){return ot},setTest:function(pt){pt?Qe(n.DEPTH_TEST):xe(n.DEPTH_TEST)},setMask:function(pt){Le!==pt&&!de&&(n.depthMask(pt),Le=pt)},setFunc:function(pt){if(ot&&(pt=Fce[pt]),Je!==pt){switch(pt){case hA:n.depthFunc(n.NEVER);break;case pA:n.depthFunc(n.ALWAYS);break;case mA:n.depthFunc(n.LESS);break;case Qh:n.depthFunc(n.LEQUAL);break;case gA:n.depthFunc(n.EQUAL);break;case yA:n.depthFunc(n.GEQUAL);break;case vA:n.depthFunc(n.GREATER);break;case _A:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Je=pt}},setLocked:function(pt){de=pt},setClear:function(pt){ht!==pt&&(ot&&(pt=1-pt),n.clearDepth(pt),ht=pt)},reset:function(){de=!1,Le=null,Je=null,ht=null,ot=!1}}}function s(){let de=!1,ot=null,Le=null,Je=null,ht=null,pt=null,Dt=null,tn=null,En=null;return{setTest:function(Wt){de||(Wt?Qe(n.STENCIL_TEST):xe(n.STENCIL_TEST))},setMask:function(Wt){ot!==Wt&&!de&&(n.stencilMask(Wt),ot=Wt)},setFunc:function(Wt,Mi,Zn){(Le!==Wt||Je!==Mi||ht!==Zn)&&(n.stencilFunc(Wt,Mi,Zn),Le=Wt,Je=Mi,ht=Zn)},setOp:function(Wt,Mi,Zn){(pt!==Wt||Dt!==Mi||tn!==Zn)&&(n.stencilOp(Wt,Mi,Zn),pt=Wt,Dt=Mi,tn=Zn)},setLocked:function(Wt){de=Wt},setClear:function(Wt){En!==Wt&&(n.clearStencil(Wt),En=Wt)},reset:function(){de=!1,ot=null,Le=null,Je=null,ht=null,pt=null,Dt=null,tn=null,En=null}}}const r=new t,a=new i,l=new s,u=new WeakMap,d=new WeakMap;let m={},g={},y=new WeakMap,b=[],x=null,E=!1,A=null,S=null,B=null,w=null,R=null,N=null,O=null,U=new Et(0,0,0),P=0,L=!1,M=null,F=null,G=null,J=null,ie=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec($)[1]),H=q>=1):$.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),H=q>=2);let se=null,X={};const ae=n.getParameter(n.SCISSOR_BOX),_e=n.getParameter(n.VIEWPORT),Ae=new Hn().fromArray(ae),ce=new Hn().fromArray(_e);function be(de,ot,Le,Je){const ht=new Uint8Array(4),pt=n.createTexture();n.bindTexture(de,pt),n.texParameteri(de,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(de,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<Le;Dt++)de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY?n.texImage3D(ot,0,n.RGBA,1,1,Je,0,n.RGBA,n.UNSIGNED_BYTE,ht):n.texImage2D(ot+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ht);return pt}const Ue={};Ue[n.TEXTURE_2D]=be(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=be(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ue[n.TEXTURE_2D_ARRAY]=be(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=be(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),l.setClear(0),Qe(n.DEPTH_TEST),a.setFunc(Qh),De(!1),Ge(rw),Qe(n.CULL_FACE),W(bu);function Qe(de){m[de]!==!0&&(n.enable(de),m[de]=!0)}function xe(de){m[de]!==!1&&(n.disable(de),m[de]=!1)}function j(de,ot){return g[de]!==ot?(n.bindFramebuffer(de,ot),g[de]=ot,de===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=ot),de===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=ot),!0):!1}function Q(de,ot){let Le=b,Je=!1;if(de){Le=y.get(ot),Le===void 0&&(Le=[],y.set(ot,Le));const ht=de.textures;if(Le.length!==ht.length||Le[0]!==n.COLOR_ATTACHMENT0){for(let pt=0,Dt=ht.length;pt<Dt;pt++)Le[pt]=n.COLOR_ATTACHMENT0+pt;Le.length=ht.length,Je=!0}}else Le[0]!==n.BACK&&(Le[0]=n.BACK,Je=!0);Je&&n.drawBuffers(Le)}function oe(de){return x!==de?(n.useProgram(de),x=de,!0):!1}const Ce={[kf]:n.FUNC_ADD,[yz]:n.FUNC_SUBTRACT,[vz]:n.FUNC_REVERSE_SUBTRACT};Ce[_z]=n.MIN,Ce[bz]=n.MAX;const Se={[xz]:n.ZERO,[Sz]:n.ONE,[Az]:n.SRC_COLOR,[fA]:n.SRC_ALPHA,[Rz]:n.SRC_ALPHA_SATURATE,[Cz]:n.DST_COLOR,[Mz]:n.DST_ALPHA,[Ez]:n.ONE_MINUS_SRC_COLOR,[dA]:n.ONE_MINUS_SRC_ALPHA,[wz]:n.ONE_MINUS_DST_COLOR,[Tz]:n.ONE_MINUS_DST_ALPHA,[Bz]:n.CONSTANT_COLOR,[Dz]:n.ONE_MINUS_CONSTANT_COLOR,[Iz]:n.CONSTANT_ALPHA,[Oz]:n.ONE_MINUS_CONSTANT_ALPHA};function W(de,ot,Le,Je,ht,pt,Dt,tn,En,Wt){if(de===bu){E===!0&&(xe(n.BLEND),E=!1);return}if(E===!1&&(Qe(n.BLEND),E=!0),de!==gz){if(de!==A||Wt!==L){if((S!==kf||R!==kf)&&(n.blendEquation(n.FUNC_ADD),S=kf,R=kf),Wt)switch(de){case Vh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aw:n.blendFunc(n.ONE,n.ONE);break;case ow:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lw:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case Vh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aw:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case ow:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lw:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}B=null,w=null,N=null,O=null,U.set(0,0,0),P=0,A=de,L=Wt}return}ht=ht||ot,pt=pt||Le,Dt=Dt||Je,(ot!==S||ht!==R)&&(n.blendEquationSeparate(Ce[ot],Ce[ht]),S=ot,R=ht),(Le!==B||Je!==w||pt!==N||Dt!==O)&&(n.blendFuncSeparate(Se[Le],Se[Je],Se[pt],Se[Dt]),B=Le,w=Je,N=pt,O=Dt),(tn.equals(U)===!1||En!==P)&&(n.blendColor(tn.r,tn.g,tn.b,En),U.copy(tn),P=En),A=de,L=!1}function ze(de,ot){de.side===El?xe(n.CULL_FACE):Qe(n.CULL_FACE);let Le=de.side===ca;ot&&(Le=!Le),De(Le),de.blending===Vh&&de.transparent===!1?W(bu):W(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),a.setFunc(de.depthFunc),a.setTest(de.depthTest),a.setMask(de.depthWrite),r.setMask(de.colorWrite);const Je=de.stencilWrite;l.setTest(Je),Je&&(l.setMask(de.stencilWriteMask),l.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),l.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),at(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?Qe(n.SAMPLE_ALPHA_TO_COVERAGE):xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function De(de){M!==de&&(de?n.frontFace(n.CW):n.frontFace(n.CCW),M=de)}function Ge(de){de!==hz?(Qe(n.CULL_FACE),de!==F&&(de===rw?n.cullFace(n.BACK):de===pz?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xe(n.CULL_FACE),F=de}function ve(de){de!==G&&(H&&n.lineWidth(de),G=de)}function at(de,ot,Le){de?(Qe(n.POLYGON_OFFSET_FILL),(J!==ot||ie!==Le)&&(n.polygonOffset(ot,Le),J=ot,ie=Le)):xe(n.POLYGON_OFFSET_FILL)}function Te(de){de?Qe(n.SCISSOR_TEST):xe(n.SCISSOR_TEST)}function Z(de){de===void 0&&(de=n.TEXTURE0+ne-1),se!==de&&(n.activeTexture(de),se=de)}function k(de,ot,Le){Le===void 0&&(se===null?Le=n.TEXTURE0+ne-1:Le=se);let Je=X[Le];Je===void 0&&(Je={type:void 0,texture:void 0},X[Le]=Je),(Je.type!==de||Je.texture!==ot)&&(se!==Le&&(n.activeTexture(Le),se=Le),n.bindTexture(de,ot||Ue[de]),Je.type=de,Je.texture=ot)}function me(){const de=X[se];de!==void 0&&de.type!==void 0&&(n.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Be(){try{n.compressedTexImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ke(){try{n.compressedTexImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function He(){try{n.texSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ct(){try{n.texSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function rt(){try{n.compressedTexSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function _t(){try{n.compressedTexSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function bt(){try{n.texStorage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ve(){try{n.texStorage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ut(){try{n.texImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function xt(){try{n.texImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function St(de){Ae.equals(de)===!1&&(n.scissor(de.x,de.y,de.z,de.w),Ae.copy(de))}function Ye(de){ce.equals(de)===!1&&(n.viewport(de.x,de.y,de.z,de.w),ce.copy(de))}function le(de,ot){let Le=d.get(ot);Le===void 0&&(Le=new WeakMap,d.set(ot,Le));let Je=Le.get(de);Je===void 0&&(Je=n.getUniformBlockIndex(ot,de.name),Le.set(de,Je))}function Oe(de,ot){const Je=d.get(ot).get(de);u.get(ot)!==Je&&(n.uniformBlockBinding(ot,Je,de.__bindingPointIndex),u.set(ot,Je))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},se=null,X={},g={},y=new WeakMap,b=[],x=null,E=!1,A=null,S=null,B=null,w=null,R=null,N=null,O=null,U=new Et(0,0,0),P=0,L=!1,M=null,F=null,G=null,J=null,ie=null,Ae.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),r.reset(),a.reset(),l.reset()}return{buffers:{color:r,depth:a,stencil:l},enable:Qe,disable:xe,bindFramebuffer:j,drawBuffers:Q,useProgram:oe,setBlending:W,setMaterial:ze,setFlipSided:De,setCullFace:Ge,setLineWidth:ve,setPolygonOffset:at,setScissorTest:Te,activeTexture:Z,bindTexture:k,unbindTexture:me,compressedTexImage2D:Be,compressedTexImage3D:Ke,texImage2D:ut,texImage3D:xt,updateUBOMapping:le,uniformBlockBinding:Oe,texStorage2D:bt,texStorage3D:Ve,texSubImage2D:He,texSubImage3D:ct,compressedTexSubImage2D:rt,compressedTexSubImage3D:_t,scissor:St,viewport:Ye,reset:ft}}function Hce(n,e,t,i,s,r,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new tt,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Z,k){return b?new OffscreenCanvas(Z,k):V0("canvas")}function E(Z,k,me){let Be=1;const Ke=Te(Z);if((Ke.width>me||Ke.height>me)&&(Be=me/Math.max(Ke.width,Ke.height)),Be<1)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap||typeof VideoFrame<"u"&&Z instanceof VideoFrame){const He=Math.floor(Be*Ke.width),ct=Math.floor(Be*Ke.height);g===void 0&&(g=x(He,ct));const rt=k?x(He,ct):g;return rt.width=He,rt.height=ct,rt.getContext("2d").drawImage(Z,0,0,He,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ke.width+"x"+Ke.height+") to ("+He+"x"+ct+")."),rt}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ke.width+"x"+Ke.height+")."),Z;return Z}function A(Z){return Z.generateMipmaps}function S(Z){n.generateMipmap(Z)}function B(Z){return Z.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:Z.isWebGL3DRenderTarget?n.TEXTURE_3D:Z.isWebGLArrayRenderTarget||Z.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function w(Z,k,me,Be,Ke=!1){if(Z!==null){if(n[Z]!==void 0)return n[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let He=k;if(k===n.RED&&(me===n.FLOAT&&(He=n.R32F),me===n.HALF_FLOAT&&(He=n.R16F),me===n.UNSIGNED_BYTE&&(He=n.R8)),k===n.RED_INTEGER&&(me===n.UNSIGNED_BYTE&&(He=n.R8UI),me===n.UNSIGNED_SHORT&&(He=n.R16UI),me===n.UNSIGNED_INT&&(He=n.R32UI),me===n.BYTE&&(He=n.R8I),me===n.SHORT&&(He=n.R16I),me===n.INT&&(He=n.R32I)),k===n.RG&&(me===n.FLOAT&&(He=n.RG32F),me===n.HALF_FLOAT&&(He=n.RG16F),me===n.UNSIGNED_BYTE&&(He=n.RG8)),k===n.RG_INTEGER&&(me===n.UNSIGNED_BYTE&&(He=n.RG8UI),me===n.UNSIGNED_SHORT&&(He=n.RG16UI),me===n.UNSIGNED_INT&&(He=n.RG32UI),me===n.BYTE&&(He=n.RG8I),me===n.SHORT&&(He=n.RG16I),me===n.INT&&(He=n.RG32I)),k===n.RGB_INTEGER&&(me===n.UNSIGNED_BYTE&&(He=n.RGB8UI),me===n.UNSIGNED_SHORT&&(He=n.RGB16UI),me===n.UNSIGNED_INT&&(He=n.RGB32UI),me===n.BYTE&&(He=n.RGB8I),me===n.SHORT&&(He=n.RGB16I),me===n.INT&&(He=n.RGB32I)),k===n.RGBA_INTEGER&&(me===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),me===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),me===n.UNSIGNED_INT&&(He=n.RGBA32UI),me===n.BYTE&&(He=n.RGBA8I),me===n.SHORT&&(He=n.RGBA16I),me===n.INT&&(He=n.RGBA32I)),k===n.RGB&&me===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),k===n.RGBA){const ct=Ke?H0:Ln.getTransfer(Be);me===n.FLOAT&&(He=n.RGBA32F),me===n.HALF_FLOAT&&(He=n.RGBA16F),me===n.UNSIGNED_BYTE&&(He=ct===ci?n.SRGB8_ALPHA8:n.RGBA8),me===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),me===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function R(Z,k){let me;return Z?k===null||k===Nu||k===gg?me=n.DEPTH24_STENCIL8:k===wa?me=n.DEPTH32F_STENCIL8:k===mg&&(me=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===Nu||k===gg?me=n.DEPTH_COMPONENT24:k===wa?me=n.DEPTH_COMPONENT32F:k===mg&&(me=n.DEPTH_COMPONENT16),me}function N(Z,k){return A(Z)===!0||Z.isFramebufferTexture&&Z.minFilter!==nr&&Z.minFilter!==ps?Math.log2(Math.max(k.width,k.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?k.mipmaps.length:1}function O(Z){const k=Z.target;k.removeEventListener("dispose",O),P(k),k.isVideoTexture&&m.delete(k)}function U(Z){const k=Z.target;k.removeEventListener("dispose",U),M(k)}function P(Z){const k=i.get(Z);if(k.__webglInit===void 0)return;const me=Z.source,Be=y.get(me);if(Be){const Ke=Be[k.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&L(Z),Object.keys(Be).length===0&&y.delete(me)}i.remove(Z)}function L(Z){const k=i.get(Z);n.deleteTexture(k.__webglTexture);const me=Z.source,Be=y.get(me);delete Be[k.__cacheKey],a.memory.textures--}function M(Z){const k=i.get(Z);if(Z.depthTexture&&(Z.depthTexture.dispose(),i.remove(Z.depthTexture)),Z.isWebGLCubeRenderTarget)for(let Be=0;Be<6;Be++){if(Array.isArray(k.__webglFramebuffer[Be]))for(let Ke=0;Ke<k.__webglFramebuffer[Be].length;Ke++)n.deleteFramebuffer(k.__webglFramebuffer[Be][Ke]);else n.deleteFramebuffer(k.__webglFramebuffer[Be]);k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer[Be])}else{if(Array.isArray(k.__webglFramebuffer))for(let Be=0;Be<k.__webglFramebuffer.length;Be++)n.deleteFramebuffer(k.__webglFramebuffer[Be]);else n.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&n.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let Be=0;Be<k.__webglColorRenderbuffer.length;Be++)k.__webglColorRenderbuffer[Be]&&n.deleteRenderbuffer(k.__webglColorRenderbuffer[Be]);k.__webglDepthRenderbuffer&&n.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const me=Z.textures;for(let Be=0,Ke=me.length;Be<Ke;Be++){const He=i.get(me[Be]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),a.memory.textures--),i.remove(me[Be])}i.remove(Z)}let F=0;function G(){F=0}function J(){const Z=F;return Z>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+s.maxTextures),F+=1,Z}function ie(Z){const k=[];return k.push(Z.wrapS),k.push(Z.wrapT),k.push(Z.wrapR||0),k.push(Z.magFilter),k.push(Z.minFilter),k.push(Z.anisotropy),k.push(Z.internalFormat),k.push(Z.format),k.push(Z.type),k.push(Z.generateMipmaps),k.push(Z.premultiplyAlpha),k.push(Z.flipY),k.push(Z.unpackAlignment),k.push(Z.colorSpace),k.join()}function ne(Z,k){const me=i.get(Z);if(Z.isVideoTexture&&ve(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&me.__version!==Z.version){const Be=Z.image;if(Be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(me,Z,k);return}}t.bindTexture(n.TEXTURE_2D,me.__webglTexture,n.TEXTURE0+k)}function H(Z,k){const me=i.get(Z);if(Z.version>0&&me.__version!==Z.version){ce(me,Z,k);return}t.bindTexture(n.TEXTURE_2D_ARRAY,me.__webglTexture,n.TEXTURE0+k)}function q(Z,k){const me=i.get(Z);if(Z.version>0&&me.__version!==Z.version){ce(me,Z,k);return}t.bindTexture(n.TEXTURE_3D,me.__webglTexture,n.TEXTURE0+k)}function $(Z,k){const me=i.get(Z);if(Z.version>0&&me.__version!==Z.version){be(me,Z,k);return}t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+k)}const se={[sd]:n.REPEAT,[Za]:n.CLAMP_TO_EDGE,[pg]:n.MIRRORED_REPEAT},X={[nr]:n.NEAREST,[F1]:n.NEAREST_MIPMAP_NEAREST,[Nh]:n.NEAREST_MIPMAP_LINEAR,[ps]:n.LINEAR,[Zm]:n.LINEAR_MIPMAP_NEAREST,[Po]:n.LINEAR_MIPMAP_LINEAR},ae={[Jz]:n.NEVER,[nH]:n.ALWAYS,[Qz]:n.LESS,[U2]:n.LEQUAL,[Zz]:n.EQUAL,[tH]:n.GEQUAL,[$z]:n.GREATER,[eH]:n.NOTEQUAL};function _e(Z,k){if(k.type===wa&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===ps||k.magFilter===Zm||k.magFilter===Nh||k.magFilter===Po||k.minFilter===ps||k.minFilter===Zm||k.minFilter===Nh||k.minFilter===Po)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Z,n.TEXTURE_WRAP_S,se[k.wrapS]),n.texParameteri(Z,n.TEXTURE_WRAP_T,se[k.wrapT]),(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Z,n.TEXTURE_WRAP_R,se[k.wrapR]),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,X[k.magFilter]),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,X[k.minFilter]),k.compareFunction&&(n.texParameteri(Z,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Z,n.TEXTURE_COMPARE_FUNC,ae[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===nr||k.minFilter!==Nh&&k.minFilter!==Po||k.type===wa&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||i.get(k).__currentAnisotropy){const me=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Z,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,s.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy}}}function Ae(Z,k){let me=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,k.addEventListener("dispose",O));const Be=k.source;let Ke=y.get(Be);Ke===void 0&&(Ke={},y.set(Be,Ke));const He=ie(k);if(He!==Z.__cacheKey){Ke[He]===void 0&&(Ke[He]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,me=!0),Ke[He].usedTimes++;const ct=Ke[Z.__cacheKey];ct!==void 0&&(Ke[Z.__cacheKey].usedTimes--,ct.usedTimes===0&&L(k)),Z.__cacheKey=He,Z.__webglTexture=Ke[He].texture}return me}function ce(Z,k,me){let Be=n.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Be=n.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Be=n.TEXTURE_3D);const Ke=Ae(Z,k),He=k.source;t.bindTexture(Be,Z.__webglTexture,n.TEXTURE0+me);const ct=i.get(He);if(He.version!==ct.__version||Ke===!0){t.activeTexture(n.TEXTURE0+me);const rt=Ln.getPrimaries(Ln.workingColorSpace),_t=k.colorSpace===pu?null:Ln.getPrimaries(k.colorSpace),bt=k.colorSpace===pu||rt===_t?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);let Ve=E(k.image,!1,s.maxTextureSize);Ve=at(k,Ve);const ut=r.convert(k.format,k.colorSpace),xt=r.convert(k.type);let St=w(k.internalFormat,ut,xt,k.colorSpace,k.isVideoTexture);_e(Be,k);let Ye;const le=k.mipmaps,Oe=k.isVideoTexture!==!0,ft=ct.__version===void 0||Ke===!0,de=He.dataReady,ot=N(k,Ve);if(k.isDepthTexture)St=R(k.format===vg,k.type),ft&&(Oe?t.texStorage2D(n.TEXTURE_2D,1,St,Ve.width,Ve.height):t.texImage2D(n.TEXTURE_2D,0,St,Ve.width,Ve.height,0,ut,xt,null));else if(k.isDataTexture)if(le.length>0){Oe&&ft&&t.texStorage2D(n.TEXTURE_2D,ot,St,le[0].width,le[0].height);for(let Le=0,Je=le.length;Le<Je;Le++)Ye=le[Le],Oe?de&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,Ye.width,Ye.height,ut,xt,Ye.data):t.texImage2D(n.TEXTURE_2D,Le,St,Ye.width,Ye.height,0,ut,xt,Ye.data);k.generateMipmaps=!1}else Oe?(ft&&t.texStorage2D(n.TEXTURE_2D,ot,St,Ve.width,Ve.height),de&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ve.width,Ve.height,ut,xt,Ve.data)):t.texImage2D(n.TEXTURE_2D,0,St,Ve.width,Ve.height,0,ut,xt,Ve.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Oe&&ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,St,le[0].width,le[0].height,Ve.depth);for(let Le=0,Je=le.length;Le<Je;Le++)if(Ye=le[Le],k.format!==Fr)if(ut!==null)if(Oe){if(de)if(k.layerUpdates.size>0){const ht=vw(Ye.width,Ye.height,k.format,k.type);for(const pt of k.layerUpdates){const Dt=Ye.data.subarray(pt*ht/Ye.data.BYTES_PER_ELEMENT,(pt+1)*ht/Ye.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,pt,Ye.width,Ye.height,1,ut,Dt)}k.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,Ye.width,Ye.height,Ve.depth,ut,Ye.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Le,St,Ye.width,Ye.height,Ve.depth,0,Ye.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Oe?de&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,Ye.width,Ye.height,Ve.depth,ut,xt,Ye.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Le,St,Ye.width,Ye.height,Ve.depth,0,ut,xt,Ye.data)}else{Oe&&ft&&t.texStorage2D(n.TEXTURE_2D,ot,St,le[0].width,le[0].height);for(let Le=0,Je=le.length;Le<Je;Le++)Ye=le[Le],k.format!==Fr?ut!==null?Oe?de&&t.compressedTexSubImage2D(n.TEXTURE_2D,Le,0,0,Ye.width,Ye.height,ut,Ye.data):t.compressedTexImage2D(n.TEXTURE_2D,Le,St,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?de&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,Ye.width,Ye.height,ut,xt,Ye.data):t.texImage2D(n.TEXTURE_2D,Le,St,Ye.width,Ye.height,0,ut,xt,Ye.data)}else if(k.isDataArrayTexture)if(Oe){if(ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ot,St,Ve.width,Ve.height,Ve.depth),de)if(k.layerUpdates.size>0){const Le=vw(Ve.width,Ve.height,k.format,k.type);for(const Je of k.layerUpdates){const ht=Ve.data.subarray(Je*Le/Ve.data.BYTES_PER_ELEMENT,(Je+1)*Le/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Je,Ve.width,Ve.height,1,ut,xt,ht)}k.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,ut,xt,Ve.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,St,Ve.width,Ve.height,Ve.depth,0,ut,xt,Ve.data);else if(k.isData3DTexture)Oe?(ft&&t.texStorage3D(n.TEXTURE_3D,ot,St,Ve.width,Ve.height,Ve.depth),de&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,ut,xt,Ve.data)):t.texImage3D(n.TEXTURE_3D,0,St,Ve.width,Ve.height,Ve.depth,0,ut,xt,Ve.data);else if(k.isFramebufferTexture){if(ft)if(Oe)t.texStorage2D(n.TEXTURE_2D,ot,St,Ve.width,Ve.height);else{let Le=Ve.width,Je=Ve.height;for(let ht=0;ht<ot;ht++)t.texImage2D(n.TEXTURE_2D,ht,St,Le,Je,0,ut,xt,null),Le>>=1,Je>>=1}}else if(le.length>0){if(Oe&&ft){const Le=Te(le[0]);t.texStorage2D(n.TEXTURE_2D,ot,St,Le.width,Le.height)}for(let Le=0,Je=le.length;Le<Je;Le++)Ye=le[Le],Oe?de&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,ut,xt,Ye):t.texImage2D(n.TEXTURE_2D,Le,St,ut,xt,Ye);k.generateMipmaps=!1}else if(Oe){if(ft){const Le=Te(Ve);t.texStorage2D(n.TEXTURE_2D,ot,St,Le.width,Le.height)}de&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ut,xt,Ve)}else t.texImage2D(n.TEXTURE_2D,0,St,ut,xt,Ve);A(k)&&S(Be),ct.__version=He.version,k.onUpdate&&k.onUpdate(k)}Z.__version=k.version}function be(Z,k,me){if(k.image.length!==6)return;const Be=Ae(Z,k),Ke=k.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Z.__webglTexture,n.TEXTURE0+me);const He=i.get(Ke);if(Ke.version!==He.__version||Be===!0){t.activeTexture(n.TEXTURE0+me);const ct=Ln.getPrimaries(Ln.workingColorSpace),rt=k.colorSpace===pu?null:Ln.getPrimaries(k.colorSpace),_t=k.colorSpace===pu||ct===rt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);const bt=k.isCompressedTexture||k.image[0].isCompressedTexture,Ve=k.image[0]&&k.image[0].isDataTexture,ut=[];for(let Je=0;Je<6;Je++)!bt&&!Ve?ut[Je]=E(k.image[Je],!0,s.maxCubemapSize):ut[Je]=Ve?k.image[Je].image:k.image[Je],ut[Je]=at(k,ut[Je]);const xt=ut[0],St=r.convert(k.format,k.colorSpace),Ye=r.convert(k.type),le=w(k.internalFormat,St,Ye,k.colorSpace),Oe=k.isVideoTexture!==!0,ft=He.__version===void 0||Be===!0,de=Ke.dataReady;let ot=N(k,xt);_e(n.TEXTURE_CUBE_MAP,k);let Le;if(bt){Oe&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,le,xt.width,xt.height);for(let Je=0;Je<6;Je++){Le=ut[Je].mipmaps;for(let ht=0;ht<Le.length;ht++){const pt=Le[ht];k.format!==Fr?St!==null?Oe?de&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht,0,0,pt.width,pt.height,St,pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht,le,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Oe?de&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht,0,0,pt.width,pt.height,St,Ye,pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht,le,pt.width,pt.height,0,St,Ye,pt.data)}}}else{if(Le=k.mipmaps,Oe&&ft){Le.length>0&&ot++;const Je=Te(ut[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ot,le,Je.width,Je.height)}for(let Je=0;Je<6;Je++)if(Ve){Oe?de&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,ut[Je].width,ut[Je].height,St,Ye,ut[Je].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,le,ut[Je].width,ut[Je].height,0,St,Ye,ut[Je].data);for(let ht=0;ht<Le.length;ht++){const Dt=Le[ht].image[Je].image;Oe?de&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht+1,0,0,Dt.width,Dt.height,St,Ye,Dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht+1,le,Dt.width,Dt.height,0,St,Ye,Dt.data)}}else{Oe?de&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,St,Ye,ut[Je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,le,St,Ye,ut[Je]);for(let ht=0;ht<Le.length;ht++){const pt=Le[ht];Oe?de&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht+1,0,0,St,Ye,pt.image[Je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ht+1,le,St,Ye,pt.image[Je])}}}A(k)&&S(n.TEXTURE_CUBE_MAP),He.__version=Ke.version,k.onUpdate&&k.onUpdate(k)}Z.__version=k.version}function Ue(Z,k,me,Be,Ke,He){const ct=r.convert(me.format,me.colorSpace),rt=r.convert(me.type),_t=w(me.internalFormat,ct,rt,me.colorSpace),bt=i.get(k),Ve=i.get(me);if(Ve.__renderTarget=k,!bt.__hasExternalTextures){const ut=Math.max(1,k.width>>He),xt=Math.max(1,k.height>>He);Ke===n.TEXTURE_3D||Ke===n.TEXTURE_2D_ARRAY?t.texImage3D(Ke,He,_t,ut,xt,k.depth,0,ct,rt,null):t.texImage2D(Ke,He,_t,ut,xt,0,ct,rt,null)}t.bindFramebuffer(n.FRAMEBUFFER,Z),Ge(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Be,Ke,Ve.__webglTexture,0,De(k)):(Ke===n.TEXTURE_2D||Ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Be,Ke,Ve.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(Z,k,me){if(n.bindRenderbuffer(n.RENDERBUFFER,Z),k.depthBuffer){const Be=k.depthTexture,Ke=Be&&Be.isDepthTexture?Be.type:null,He=R(k.stencilBuffer,Ke),ct=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=De(k);Ge(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,rt,He,k.width,k.height):me?n.renderbufferStorageMultisample(n.RENDERBUFFER,rt,He,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,He,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,Z)}else{const Be=k.textures;for(let Ke=0;Ke<Be.length;Ke++){const He=Be[Ke],ct=r.convert(He.format,He.colorSpace),rt=r.convert(He.type),_t=w(He.internalFormat,ct,rt,He.colorSpace),bt=De(k);me&&Ge(k)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,bt,_t,k.width,k.height):Ge(k)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,bt,_t,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,_t,k.width,k.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function xe(Z,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Z),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Be=i.get(k.depthTexture);Be.__renderTarget=k,(!Be.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),ne(k.depthTexture,0);const Ke=Be.__webglTexture,He=De(k);if(k.depthTexture.format===yg)Ge(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0);else if(k.depthTexture.format===vg)Ge(k)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0);else throw new Error("Unknown depthTexture format")}function j(Z){const k=i.get(Z),me=Z.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==Z.depthTexture){const Be=Z.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),Be){const Ke=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,Be.removeEventListener("dispose",Ke)};Be.addEventListener("dispose",Ke),k.__depthDisposeCallback=Ke}k.__boundDepthTexture=Be}if(Z.depthTexture&&!k.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");const Be=Z.texture.mipmaps;Be&&Be.length>0?xe(k.__webglFramebuffer[0],Z):xe(k.__webglFramebuffer,Z)}else if(me){k.__webglDepthbuffer=[];for(let Be=0;Be<6;Be++)if(t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[Be]),k.__webglDepthbuffer[Be]===void 0)k.__webglDepthbuffer[Be]=n.createRenderbuffer(),Qe(k.__webglDepthbuffer[Be],Z,!1);else{const Ke=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=k.__webglDepthbuffer[Be];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,He)}}else{const Be=Z.texture.mipmaps;if(Be&&Be.length>0?t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=n.createRenderbuffer(),Qe(k.__webglDepthbuffer,Z,!1);else{const Ke=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=k.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,He)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Q(Z,k,me){const Be=i.get(Z);k!==void 0&&Ue(Be.__webglFramebuffer,Z,Z.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),me!==void 0&&j(Z)}function oe(Z){const k=Z.texture,me=i.get(Z),Be=i.get(k);Z.addEventListener("dispose",U);const Ke=Z.textures,He=Z.isWebGLCubeRenderTarget===!0,ct=Ke.length>1;if(ct||(Be.__webglTexture===void 0&&(Be.__webglTexture=n.createTexture()),Be.__version=k.version,a.memory.textures++),He){me.__webglFramebuffer=[];for(let rt=0;rt<6;rt++)if(k.mipmaps&&k.mipmaps.length>0){me.__webglFramebuffer[rt]=[];for(let _t=0;_t<k.mipmaps.length;_t++)me.__webglFramebuffer[rt][_t]=n.createFramebuffer()}else me.__webglFramebuffer[rt]=n.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){me.__webglFramebuffer=[];for(let rt=0;rt<k.mipmaps.length;rt++)me.__webglFramebuffer[rt]=n.createFramebuffer()}else me.__webglFramebuffer=n.createFramebuffer();if(ct)for(let rt=0,_t=Ke.length;rt<_t;rt++){const bt=i.get(Ke[rt]);bt.__webglTexture===void 0&&(bt.__webglTexture=n.createTexture(),a.memory.textures++)}if(Z.samples>0&&Ge(Z)===!1){me.__webglMultisampledFramebuffer=n.createFramebuffer(),me.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let rt=0;rt<Ke.length;rt++){const _t=Ke[rt];me.__webglColorRenderbuffer[rt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,me.__webglColorRenderbuffer[rt]);const bt=r.convert(_t.format,_t.colorSpace),Ve=r.convert(_t.type),ut=w(_t.internalFormat,bt,Ve,_t.colorSpace,Z.isXRRenderTarget===!0),xt=De(Z);n.renderbufferStorageMultisample(n.RENDERBUFFER,xt,ut,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+rt,n.RENDERBUFFER,me.__webglColorRenderbuffer[rt])}n.bindRenderbuffer(n.RENDERBUFFER,null),Z.depthBuffer&&(me.__webglDepthRenderbuffer=n.createRenderbuffer(),Qe(me.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,Be.__webglTexture),_e(n.TEXTURE_CUBE_MAP,k);for(let rt=0;rt<6;rt++)if(k.mipmaps&&k.mipmaps.length>0)for(let _t=0;_t<k.mipmaps.length;_t++)Ue(me.__webglFramebuffer[rt][_t],Z,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,_t);else Ue(me.__webglFramebuffer[rt],Z,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0);A(k)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let rt=0,_t=Ke.length;rt<_t;rt++){const bt=Ke[rt],Ve=i.get(bt);t.bindTexture(n.TEXTURE_2D,Ve.__webglTexture),_e(n.TEXTURE_2D,bt),Ue(me.__webglFramebuffer,Z,bt,n.COLOR_ATTACHMENT0+rt,n.TEXTURE_2D,0),A(bt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let rt=n.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(rt=Z.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(rt,Be.__webglTexture),_e(rt,k),k.mipmaps&&k.mipmaps.length>0)for(let _t=0;_t<k.mipmaps.length;_t++)Ue(me.__webglFramebuffer[_t],Z,k,n.COLOR_ATTACHMENT0,rt,_t);else Ue(me.__webglFramebuffer,Z,k,n.COLOR_ATTACHMENT0,rt,0);A(k)&&S(rt),t.unbindTexture()}Z.depthBuffer&&j(Z)}function Ce(Z){const k=Z.textures;for(let me=0,Be=k.length;me<Be;me++){const Ke=k[me];if(A(Ke)){const He=B(Z),ct=i.get(Ke).__webglTexture;t.bindTexture(He,ct),S(He),t.unbindTexture()}}}const Se=[],W=[];function ze(Z){if(Z.samples>0){if(Ge(Z)===!1){const k=Z.textures,me=Z.width,Be=Z.height;let Ke=n.COLOR_BUFFER_BIT;const He=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(Z),rt=k.length>1;if(rt)for(let bt=0;bt<k.length;bt++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const _t=Z.texture.mipmaps;_t&&_t.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let bt=0;bt<k.length;bt++){if(Z.resolveDepthBuffer&&(Z.depthBuffer&&(Ke|=n.DEPTH_BUFFER_BIT),Z.stencilBuffer&&Z.resolveStencilBuffer&&(Ke|=n.STENCIL_BUFFER_BIT)),rt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[bt]);const Ve=i.get(k[bt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ve,0)}n.blitFramebuffer(0,0,me,Be,0,0,me,Be,Ke,n.NEAREST),u===!0&&(Se.length=0,W.length=0,Se.push(n.COLOR_ATTACHMENT0+bt),Z.depthBuffer&&Z.resolveDepthBuffer===!1&&(Se.push(He),W.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,W)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Se))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),rt)for(let bt=0;bt<k.length;bt++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,ct.__webglColorRenderbuffer[bt]);const Ve=i.get(k[bt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,Ve,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(Z.depthBuffer&&Z.resolveDepthBuffer===!1&&u){const k=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[k])}}}function De(Z){return Math.min(s.maxSamples,Z.samples)}function Ge(Z){const k=i.get(Z);return Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function ve(Z){const k=a.render.frame;m.get(Z)!==k&&(m.set(Z,k),Z.update())}function at(Z,k){const me=Z.colorSpace,Be=Z.format,Ke=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||me!==rd&&me!==pu&&(Ln.getTransfer(me)===ci?(Be!==Fr||Ke!==ko)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),k}function Te(Z){return typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement?(d.width=Z.naturalWidth||Z.width,d.height=Z.naturalHeight||Z.height):typeof VideoFrame<"u"&&Z instanceof VideoFrame?(d.width=Z.displayWidth,d.height=Z.displayHeight):(d.width=Z.width,d.height=Z.height),d}this.allocateTextureUnit=J,this.resetTextureUnits=G,this.setTexture2D=ne,this.setTexture2DArray=H,this.setTexture3D=q,this.setTextureCube=$,this.rebindTextures=Q,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=ze,this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=Ge}function l5(n,e){function t(i,s=pu){let r;const a=Ln.getTransfer(s);if(i===ko)return n.UNSIGNED_BYTE;if(i===H1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===G1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===B2)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===w2)return n.BYTE;if(i===R2)return n.SHORT;if(i===mg)return n.UNSIGNED_SHORT;if(i===z1)return n.INT;if(i===Nu)return n.UNSIGNED_INT;if(i===wa)return n.FLOAT;if(i===Gg)return n.HALF_FLOAT;if(i===D2)return n.ALPHA;if(i===I2)return n.RGB;if(i===Fr)return n.RGBA;if(i===yg)return n.DEPTH_COMPONENT;if(i===vg)return n.DEPTH_STENCIL;if(i===k1)return n.RED;if(i===__)return n.RED_INTEGER;if(i===O2)return n.RG;if(i===V1)return n.RG_INTEGER;if(i===j1)return n.RGBA_INTEGER;if(i===i0||i===s0||i===r0||i===a0)if(a===ci)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===i0)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===s0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===r0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===a0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===i0)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===s0)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===r0)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===a0)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===bA||i===xA||i===SA||i===AA)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===bA)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===xA)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===SA)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===AA)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===EA||i===MA||i===TA)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===EA||i===MA)return a===ci?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===TA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===CA||i===wA||i===RA||i===BA||i===DA||i===IA||i===OA||i===NA||i===LA||i===PA||i===UA||i===FA||i===zA||i===HA)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===CA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===wA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===RA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===BA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===DA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===IA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===OA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===NA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===LA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===PA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===UA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===FA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===zA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===HA)return a===ci?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===o0||i===GA||i===kA)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===o0)return a===ci?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===GA)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===kA)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===N2||i===VA||i===jA||i===WA)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===o0)return r.COMPRESSED_RED_RGTC1_EXT;if(i===VA)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===jA)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===WA)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===gg?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Gce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,kce=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Vce{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const s=new ki,r=e.properties.get(s);r.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Dl({vertexShader:Gce,fragmentShader:kce,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ms(new Vg(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class jce extends Oc{constructor(e,t){super();const i=this;let s=null,r=1,a=null,l="local-floor",u=1,d=null,m=null,g=null,y=null,b=null,x=null;const E=new Vce,A=t.getContextAttributes();let S=null,B=null;const w=[],R=[],N=new tt;let O=null;const U=new as;U.viewport=new Hn;const P=new as;P.viewport=new Hn;const L=[U,P],M=new QH;let F=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let be=w[ce];return be===void 0&&(be=new RS,w[ce]=be),be.getTargetRaySpace()},this.getControllerGrip=function(ce){let be=w[ce];return be===void 0&&(be=new RS,w[ce]=be),be.getGripSpace()},this.getHand=function(ce){let be=w[ce];return be===void 0&&(be=new RS,w[ce]=be),be.getHandSpace()};function J(ce){const be=R.indexOf(ce.inputSource);if(be===-1)return;const Ue=w[be];Ue!==void 0&&(Ue.update(ce.inputSource,ce.frame,d||a),Ue.dispatchEvent({type:ce.type,data:ce.inputSource}))}function ie(){s.removeEventListener("select",J),s.removeEventListener("selectstart",J),s.removeEventListener("selectend",J),s.removeEventListener("squeeze",J),s.removeEventListener("squeezestart",J),s.removeEventListener("squeezeend",J),s.removeEventListener("end",ie),s.removeEventListener("inputsourceschange",ne);for(let ce=0;ce<w.length;ce++){const be=R[ce];be!==null&&(R[ce]=null,w[ce].disconnect(be))}F=null,G=null,E.reset(),e.setRenderTarget(S),b=null,y=null,g=null,s=null,B=null,Ae.stop(),i.isPresenting=!1,e.setPixelRatio(O),e.setSize(N.width,N.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){r=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){l=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||a},this.setReferenceSpace=function(ce){d=ce},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(ce){if(s=ce,s!==null){if(S=e.getRenderTarget(),s.addEventListener("select",J),s.addEventListener("selectstart",J),s.addEventListener("selectend",J),s.addEventListener("squeeze",J),s.addEventListener("squeezestart",J),s.addEventListener("squeezeend",J),s.addEventListener("end",ie),s.addEventListener("inputsourceschange",ne),A.xrCompatible!==!0&&await t.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(N),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ue=null,Qe=null,xe=null;A.depth&&(xe=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ue=A.stencil?vg:yg,Qe=A.stencil?gg:Nu);const j={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:r};g=new XRWebGLBinding(s,t),y=g.createProjectionLayer(j),s.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),B=new Dc(y.textureWidth,y.textureHeight,{format:Fr,type:ko,depthTexture:new tE(y.textureWidth,y.textureHeight,Qe,void 0,void 0,void 0,void 0,void 0,void 0,Ue),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Ue={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(s,t,Ue),s.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),B=new Dc(b.framebufferWidth,b.framebufferHeight,{format:Fr,type:ko,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}B.isXRRenderTarget=!0,this.setFoveation(u),d=null,a=await s.requestReferenceSpace(l),Ae.setContext(s),Ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function ne(ce){for(let be=0;be<ce.removed.length;be++){const Ue=ce.removed[be],Qe=R.indexOf(Ue);Qe>=0&&(R[Qe]=null,w[Qe].disconnect(Ue))}for(let be=0;be<ce.added.length;be++){const Ue=ce.added[be];let Qe=R.indexOf(Ue);if(Qe===-1){for(let j=0;j<w.length;j++)if(j>=R.length){R.push(Ue),Qe=j;break}else if(R[j]===null){R[j]=Ue,Qe=j;break}if(Qe===-1)break}const xe=w[Qe];xe&&xe.connect(Ue)}}const H=new re,q=new re;function $(ce,be,Ue){H.setFromMatrixPosition(be.matrixWorld),q.setFromMatrixPosition(Ue.matrixWorld);const Qe=H.distanceTo(q),xe=be.projectionMatrix.elements,j=Ue.projectionMatrix.elements,Q=xe[14]/(xe[10]-1),oe=xe[14]/(xe[10]+1),Ce=(xe[9]+1)/xe[5],Se=(xe[9]-1)/xe[5],W=(xe[8]-1)/xe[0],ze=(j[8]+1)/j[0],De=Q*W,Ge=Q*ze,ve=Qe/(-W+ze),at=ve*-W;if(be.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(at),ce.translateZ(ve),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),xe[10]===-1)ce.projectionMatrix.copy(be.projectionMatrix),ce.projectionMatrixInverse.copy(be.projectionMatrixInverse);else{const Te=Q+ve,Z=oe+ve,k=De-at,me=Ge+(Qe-at),Be=Ce*oe/Z*Te,Ke=Se*oe/Z*Te;ce.projectionMatrix.makePerspective(k,me,Be,Ke,Te,Z),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function se(ce,be){be===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(be.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(s===null)return;let be=ce.near,Ue=ce.far;E.texture!==null&&(E.depthNear>0&&(be=E.depthNear),E.depthFar>0&&(Ue=E.depthFar)),M.near=P.near=U.near=be,M.far=P.far=U.far=Ue,(F!==M.near||G!==M.far)&&(s.updateRenderState({depthNear:M.near,depthFar:M.far}),F=M.near,G=M.far),U.layers.mask=ce.layers.mask|2,P.layers.mask=ce.layers.mask|4,M.layers.mask=U.layers.mask|P.layers.mask;const Qe=ce.parent,xe=M.cameras;se(M,Qe);for(let j=0;j<xe.length;j++)se(xe[j],Qe);xe.length===2?$(M,U,P):M.projectionMatrix.copy(U.projectionMatrix),X(ce,M,Qe)};function X(ce,be,Ue){Ue===null?ce.matrix.copy(be.matrixWorld):(ce.matrix.copy(Ue.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(be.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(be.projectionMatrix),ce.projectionMatrixInverse.copy(be.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=xg*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(y===null&&b===null))return u},this.setFoveation=function(ce){u=ce,y!==null&&(y.fixedFoveation=ce),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ce)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(M)};let ae=null;function _e(ce,be){if(m=be.getViewerPose(d||a),x=be,m!==null){const Ue=m.views;b!==null&&(e.setRenderTargetFramebuffer(B,b.framebuffer),e.setRenderTarget(B));let Qe=!1;Ue.length!==M.cameras.length&&(M.cameras.length=0,Qe=!0);for(let Q=0;Q<Ue.length;Q++){const oe=Ue[Q];let Ce=null;if(b!==null)Ce=b.getViewport(oe);else{const W=g.getViewSubImage(y,oe);Ce=W.viewport,Q===0&&(e.setRenderTargetTextures(B,W.colorTexture,W.depthStencilTexture),e.setRenderTarget(B))}let Se=L[Q];Se===void 0&&(Se=new as,Se.layers.enable(Q),Se.viewport=new Hn,L[Q]=Se),Se.matrix.fromArray(oe.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(oe.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),Q===0&&(M.matrix.copy(Se.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),Qe===!0&&M.cameras.push(Se)}const xe=s.enabledFeatures;if(xe&&xe.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){const Q=g.getDepthInformation(Ue[0]);Q&&Q.isValid&&Q.texture&&E.init(e,Q,s.renderState)}}for(let Ue=0;Ue<w.length;Ue++){const Qe=R[Ue],xe=w[Ue];Qe!==null&&xe!==void 0&&xe.update(Qe,be,d||a)}ae&&ae(ce,be),be.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:be}),x=null}const Ae=new i5;Ae.setAnimationLoop(_e),this.setAnimationLoop=function(ce){ae=ce},this.dispose=function(){}}}const yh=new ro,Wce=new Gt;function Xce(n,e){function t(A,S){A.matrixAutoUpdate===!0&&A.updateMatrix(),S.value.copy(A.matrix)}function i(A,S){S.color.getRGB(A.fogColor.value,lH(n)),S.isFog?(A.fogNear.value=S.near,A.fogFar.value=S.far):S.isFogExp2&&(A.fogDensity.value=S.density)}function s(A,S,B,w,R){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(A,S):S.isMeshToonMaterial?(r(A,S),g(A,S)):S.isMeshPhongMaterial?(r(A,S),m(A,S)):S.isMeshStandardMaterial?(r(A,S),y(A,S),S.isMeshPhysicalMaterial&&b(A,S,R)):S.isMeshMatcapMaterial?(r(A,S),x(A,S)):S.isMeshDepthMaterial?r(A,S):S.isMeshDistanceMaterial?(r(A,S),E(A,S)):S.isMeshNormalMaterial?r(A,S):S.isLineBasicMaterial?(a(A,S),S.isLineDashedMaterial&&l(A,S)):S.isPointsMaterial?u(A,S,B,w):S.isSpriteMaterial?d(A,S):S.isShadowMaterial?(A.color.value.copy(S.color),A.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(A,S){A.opacity.value=S.opacity,S.color&&A.diffuse.value.copy(S.color),S.emissive&&A.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.bumpMap&&(A.bumpMap.value=S.bumpMap,t(S.bumpMap,A.bumpMapTransform),A.bumpScale.value=S.bumpScale,S.side===ca&&(A.bumpScale.value*=-1)),S.normalMap&&(A.normalMap.value=S.normalMap,t(S.normalMap,A.normalMapTransform),A.normalScale.value.copy(S.normalScale),S.side===ca&&A.normalScale.value.negate()),S.displacementMap&&(A.displacementMap.value=S.displacementMap,t(S.displacementMap,A.displacementMapTransform),A.displacementScale.value=S.displacementScale,A.displacementBias.value=S.displacementBias),S.emissiveMap&&(A.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,A.emissiveMapTransform)),S.specularMap&&(A.specularMap.value=S.specularMap,t(S.specularMap,A.specularMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest);const B=e.get(S),w=B.envMap,R=B.envMapRotation;w&&(A.envMap.value=w,yh.copy(R),yh.x*=-1,yh.y*=-1,yh.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(yh.y*=-1,yh.z*=-1),A.envMapRotation.value.setFromMatrix4(Wce.makeRotationFromEuler(yh)),A.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=S.reflectivity,A.ior.value=S.ior,A.refractionRatio.value=S.refractionRatio),S.lightMap&&(A.lightMap.value=S.lightMap,A.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,A.lightMapTransform)),S.aoMap&&(A.aoMap.value=S.aoMap,A.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,A.aoMapTransform))}function a(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform))}function l(A,S){A.dashSize.value=S.dashSize,A.totalSize.value=S.dashSize+S.gapSize,A.scale.value=S.scale}function u(A,S,B,w){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.size.value=S.size*B,A.scale.value=w*.5,S.map&&(A.map.value=S.map,t(S.map,A.uvTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function d(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.rotation.value=S.rotation,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function m(A,S){A.specular.value.copy(S.specular),A.shininess.value=Math.max(S.shininess,1e-4)}function g(A,S){S.gradientMap&&(A.gradientMap.value=S.gradientMap)}function y(A,S){A.metalness.value=S.metalness,S.metalnessMap&&(A.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,A.metalnessMapTransform)),A.roughness.value=S.roughness,S.roughnessMap&&(A.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,A.roughnessMapTransform)),S.envMap&&(A.envMapIntensity.value=S.envMapIntensity)}function b(A,S,B){A.ior.value=S.ior,S.sheen>0&&(A.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),A.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(A.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,A.sheenColorMapTransform)),S.sheenRoughnessMap&&(A.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,A.sheenRoughnessMapTransform))),S.clearcoat>0&&(A.clearcoat.value=S.clearcoat,A.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(A.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,A.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(A.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===ca&&A.clearcoatNormalScale.value.negate())),S.dispersion>0&&(A.dispersion.value=S.dispersion),S.iridescence>0&&(A.iridescence.value=S.iridescence,A.iridescenceIOR.value=S.iridescenceIOR,A.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(A.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,A.iridescenceMapTransform)),S.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),S.transmission>0&&(A.transmission.value=S.transmission,A.transmissionSamplerMap.value=B.texture,A.transmissionSamplerSize.value.set(B.width,B.height),S.transmissionMap&&(A.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,A.transmissionMapTransform)),A.thickness.value=S.thickness,S.thicknessMap&&(A.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=S.attenuationDistance,A.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(A.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(A.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=S.specularIntensity,A.specularColor.value.copy(S.specularColor),S.specularColorMap&&(A.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,A.specularColorMapTransform)),S.specularIntensityMap&&(A.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,A.specularIntensityMapTransform))}function x(A,S){S.matcap&&(A.matcap.value=S.matcap)}function E(A,S){const B=e.get(S).light;A.referencePosition.value.setFromMatrixPosition(B.matrixWorld),A.nearDistance.value=B.shadow.camera.near,A.farDistance.value=B.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function Yce(n,e,t,i){let s={},r={},a=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(B,w){const R=w.program;i.uniformBlockBinding(B,R)}function d(B,w){let R=s[B.id];R===void 0&&(x(B),R=m(B),s[B.id]=R,B.addEventListener("dispose",A));const N=w.program;i.updateUBOMapping(B,N);const O=e.render.frame;r[B.id]!==O&&(y(B),r[B.id]=O)}function m(B){const w=g();B.__bindingPointIndex=w;const R=n.createBuffer(),N=B.__size,O=B.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,N,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,R),R}function g(){for(let B=0;B<l;B++)if(a.indexOf(B)===-1)return a.push(B),B;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(B){const w=s[B.id],R=B.uniforms,N=B.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let O=0,U=R.length;O<U;O++){const P=Array.isArray(R[O])?R[O]:[R[O]];for(let L=0,M=P.length;L<M;L++){const F=P[L];if(b(F,O,L,N)===!0){const G=F.__offset,J=Array.isArray(F.value)?F.value:[F.value];let ie=0;for(let ne=0;ne<J.length;ne++){const H=J[ne],q=E(H);typeof H=="number"||typeof H=="boolean"?(F.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,G+ie,F.__data)):H.isMatrix3?(F.__data[0]=H.elements[0],F.__data[1]=H.elements[1],F.__data[2]=H.elements[2],F.__data[3]=0,F.__data[4]=H.elements[3],F.__data[5]=H.elements[4],F.__data[6]=H.elements[5],F.__data[7]=0,F.__data[8]=H.elements[6],F.__data[9]=H.elements[7],F.__data[10]=H.elements[8],F.__data[11]=0):(H.toArray(F.__data,ie),ie+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(B,w,R,N){const O=B.value,U=w+"_"+R;if(N[U]===void 0)return typeof O=="number"||typeof O=="boolean"?N[U]=O:N[U]=O.clone(),!0;{const P=N[U];if(typeof O=="number"||typeof O=="boolean"){if(P!==O)return N[U]=O,!0}else if(P.equals(O)===!1)return P.copy(O),!0}return!1}function x(B){const w=B.uniforms;let R=0;const N=16;for(let U=0,P=w.length;U<P;U++){const L=Array.isArray(w[U])?w[U]:[w[U]];for(let M=0,F=L.length;M<F;M++){const G=L[M],J=Array.isArray(G.value)?G.value:[G.value];for(let ie=0,ne=J.length;ie<ne;ie++){const H=J[ie],q=E(H),$=R%N,se=$%q.boundary,X=$+se;R+=se,X!==0&&N-X<q.storage&&(R+=N-X),G.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=R,R+=q.storage}}}const O=R%N;return O>0&&(R+=N-O),B.__size=R,B.__cache={},this}function E(B){const w={boundary:0,storage:0};return typeof B=="number"||typeof B=="boolean"?(w.boundary=4,w.storage=4):B.isVector2?(w.boundary=8,w.storage=8):B.isVector3||B.isColor?(w.boundary=16,w.storage=12):B.isVector4?(w.boundary=16,w.storage=16):B.isMatrix3?(w.boundary=48,w.storage=48):B.isMatrix4?(w.boundary=64,w.storage=64):B.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",B),w}function A(B){const w=B.target;w.removeEventListener("dispose",A);const R=a.indexOf(w.__bindingPointIndex);a.splice(R,1),n.deleteBuffer(s[w.id]),delete s[w.id],delete r[w.id]}function S(){for(const B in s)n.deleteBuffer(s[B]);a=[],s={},r={}}return{bind:u,update:d,dispose:S}}class c5{constructor(e={}){const{canvas:t=rH(),context:i=null,depth:s=!0,stencil:r=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=a;const x=new Uint32Array(4),E=new Int32Array(4);let A=null,S=null;const B=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Tc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let N=!1;this._outputColorSpace=Lr;let O=0,U=0,P=null,L=-1,M=null;const F=new Hn,G=new Hn;let J=null;const ie=new Et(0);let ne=0,H=t.width,q=t.height,$=1,se=null,X=null;const ae=new Hn(0,0,H,q),_e=new Hn(0,0,H,q);let Ae=!1;const ce=new kg;let be=!1,Ue=!1;const Qe=new Gt,xe=new Gt,j=new re,Q=new Hn,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ce=!1;function Se(){return P===null?$:1}let W=i;function ze(Y,pe){return t.getContext(Y,pe)}try{const Y={alpha:!0,depth:s,stencil:r,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${y_}`),t.addEventListener("webglcontextlost",Je,!1),t.addEventListener("webglcontextrestored",ht,!1),t.addEventListener("webglcontextcreationerror",pt,!1),W===null){const pe="webgl2";if(W=ze(pe,Y),W===null)throw ze(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let De,Ge,ve,at,Te,Z,k,me,Be,Ke,He,ct,rt,_t,bt,Ve,ut,xt,St,Ye,le,Oe,ft,de;function ot(){De=new rle(W),De.init(),Oe=new l5(W,De),Ge=new Zoe(W,De,e,Oe),ve=new zce(W,De),Ge.reverseDepthBuffer&&y&&ve.buffers.depth.setReversed(!0),at=new lle(W),Te=new Tce,Z=new Hce(W,De,ve,Te,Ge,Oe,at),k=new ele(R),me=new sle(R),Be=new pre(W),ft=new Joe(W,Be),Ke=new ale(W,Be,at,ft),He=new ule(W,Ke,Be,at),St=new cle(W,Ge,Z),Ve=new $oe(Te),ct=new Mce(R,k,me,De,Ge,ft,Ve),rt=new Xce(R,Te),_t=new wce,bt=new Nce(De),xt=new Koe(R,k,me,ve,He,b,u),ut=new Uce(R,He,Ge),de=new Yce(W,at,Ge,ve),Ye=new Qoe(W,De,at),le=new ole(W,De,at),at.programs=ct.programs,R.capabilities=Ge,R.extensions=De,R.properties=Te,R.renderLists=_t,R.shadowMap=ut,R.state=ve,R.info=at}ot();const Le=new jce(R,W);this.xr=Le,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const Y=De.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=De.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Y){Y!==void 0&&($=Y,this.setSize(H,q,!1))},this.getSize=function(Y){return Y.set(H,q)},this.setSize=function(Y,pe,Re=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=Y,q=pe,t.width=Math.floor(Y*$),t.height=Math.floor(pe*$),Re===!0&&(t.style.width=Y+"px",t.style.height=pe+"px"),this.setViewport(0,0,Y,pe)},this.getDrawingBufferSize=function(Y){return Y.set(H*$,q*$).floor()},this.setDrawingBufferSize=function(Y,pe,Re){H=Y,q=pe,$=Re,t.width=Math.floor(Y*Re),t.height=Math.floor(pe*Re),this.setViewport(0,0,Y,pe)},this.getCurrentViewport=function(Y){return Y.copy(F)},this.getViewport=function(Y){return Y.copy(ae)},this.setViewport=function(Y,pe,Re,Ne){Y.isVector4?ae.set(Y.x,Y.y,Y.z,Y.w):ae.set(Y,pe,Re,Ne),ve.viewport(F.copy(ae).multiplyScalar($).round())},this.getScissor=function(Y){return Y.copy(_e)},this.setScissor=function(Y,pe,Re,Ne){Y.isVector4?_e.set(Y.x,Y.y,Y.z,Y.w):_e.set(Y,pe,Re,Ne),ve.scissor(G.copy(_e).multiplyScalar($).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(Y){ve.setScissorTest(Ae=Y)},this.setOpaqueSort=function(Y){se=Y},this.setTransparentSort=function(Y){X=Y},this.getClearColor=function(Y){return Y.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor(...arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha(...arguments)},this.clear=function(Y=!0,pe=!0,Re=!0){let Ne=0;if(Y){let Ee=!1;if(P!==null){const st=P.texture.format;Ee=st===j1||st===V1||st===__}if(Ee){const st=P.texture.type,mt=st===ko||st===Nu||st===mg||st===gg||st===H1||st===G1,gt=xt.getClearColor(),Tt=xt.getClearAlpha(),yt=gt.r,Ot=gt.g,It=gt.b;mt?(x[0]=yt,x[1]=Ot,x[2]=It,x[3]=Tt,W.clearBufferuiv(W.COLOR,0,x)):(E[0]=yt,E[1]=Ot,E[2]=It,E[3]=Tt,W.clearBufferiv(W.COLOR,0,E))}else Ne|=W.COLOR_BUFFER_BIT}pe&&(Ne|=W.DEPTH_BUFFER_BIT),Re&&(Ne|=W.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),W.clear(Ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Je,!1),t.removeEventListener("webglcontextrestored",ht,!1),t.removeEventListener("webglcontextcreationerror",pt,!1),xt.dispose(),_t.dispose(),bt.dispose(),Te.dispose(),k.dispose(),me.dispose(),He.dispose(),ft.dispose(),de.dispose(),ct.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",$n),Le.removeEventListener("sessionend",_i),Ni.stop()};function Je(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function ht(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const Y=at.autoReset,pe=ut.enabled,Re=ut.autoUpdate,Ne=ut.needsUpdate,Ee=ut.type;ot(),at.autoReset=Y,ut.enabled=pe,ut.autoUpdate=Re,ut.needsUpdate=Ne,ut.type=Ee}function pt(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Dt(Y){const pe=Y.target;pe.removeEventListener("dispose",Dt),tn(pe)}function tn(Y){En(Y),Te.remove(Y)}function En(Y){const pe=Te.get(Y).programs;pe!==void 0&&(pe.forEach(function(Re){ct.releaseProgram(Re)}),Y.isShaderMaterial&&ct.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,pe,Re,Ne,Ee,st){pe===null&&(pe=oe);const mt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,gt=_r(Y,pe,Re,Ne,Ee);ve.setMaterial(Ne,mt);let Tt=Re.index,yt=1;if(Ne.wireframe===!0){if(Tt=Ke.getWireframeAttribute(Re),Tt===void 0)return;yt=2}const Ot=Re.drawRange,It=Re.attributes.position;let nn=Ot.start*yt,In=(Ot.start+Ot.count)*yt;st!==null&&(nn=Math.max(nn,st.start*yt),In=Math.min(In,(st.start+st.count)*yt)),Tt!==null?(nn=Math.max(nn,0),In=Math.min(In,Tt.count)):It!=null&&(nn=Math.max(nn,0),In=Math.min(In,It.count));const Ti=In-nn;if(Ti<0||Ti===1/0)return;ft.setup(Ee,Ne,gt,Re,Tt);let vn,bn=Ye;if(Tt!==null&&(vn=Be.get(Tt),bn=le,bn.setIndex(vn)),Ee.isMesh)Ne.wireframe===!0?(ve.setLineWidth(Ne.wireframeLinewidth*Se()),bn.setMode(W.LINES)):bn.setMode(W.TRIANGLES);else if(Ee.isLine){let Ft=Ne.linewidth;Ft===void 0&&(Ft=1),ve.setLineWidth(Ft*Se()),Ee.isLineSegments?bn.setMode(W.LINES):Ee.isLineLoop?bn.setMode(W.LINE_LOOP):bn.setMode(W.LINE_STRIP)}else Ee.isPoints?bn.setMode(W.POINTS):Ee.isSprite&&bn.setMode(W.TRIANGLES);if(Ee.isBatchedMesh)if(Ee._multiDrawInstances!==null)wS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bn.renderMultiDrawInstances(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount,Ee._multiDrawInstances);else if(De.get("WEBGL_multi_draw"))bn.renderMultiDraw(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount);else{const Ft=Ee._multiDrawStarts,Bi=Ee._multiDrawCounts,Rn=Ee._multiDrawCount,Bs=Tt?Be.get(Tt).bytesPerElement:1,oo=Te.get(Ne).currentProgram.getUniforms();for(let si=0;si<Rn;si++)oo.setValue(W,"_gl_DrawID",si),bn.render(Ft[si]/Bs,Bi[si])}else if(Ee.isInstancedMesh)bn.renderInstances(nn,Ti,Ee.count);else if(Re.isInstancedBufferGeometry){const Ft=Re._maxInstanceCount!==void 0?Re._maxInstanceCount:1/0,Bi=Math.min(Re.instanceCount,Ft);bn.renderInstances(nn,Ti,Bi)}else bn.render(nn,Ti)};function Wt(Y,pe,Re){Y.transparent===!0&&Y.side===El&&Y.forceSinglePass===!1?(Y.side=ca,Y.needsUpdate=!0,Qt(Y,pe,Re),Y.side=Bc,Y.needsUpdate=!0,Qt(Y,pe,Re),Y.side=El):Qt(Y,pe,Re)}this.compile=function(Y,pe,Re=null){Re===null&&(Re=Y),S=bt.get(Re),S.init(pe),w.push(S),Re.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(pe.layers)&&(S.pushLight(Ee),Ee.castShadow&&S.pushShadow(Ee))}),Y!==Re&&Y.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(pe.layers)&&(S.pushLight(Ee),Ee.castShadow&&S.pushShadow(Ee))}),S.setupLights();const Ne=new Set;return Y.traverse(function(Ee){if(!(Ee.isMesh||Ee.isPoints||Ee.isLine||Ee.isSprite))return;const st=Ee.material;if(st)if(Array.isArray(st))for(let mt=0;mt<st.length;mt++){const gt=st[mt];Wt(gt,Re,Ee),Ne.add(gt)}else Wt(st,Re,Ee),Ne.add(st)}),S=w.pop(),Ne},this.compileAsync=function(Y,pe,Re=null){const Ne=this.compile(Y,pe,Re);return new Promise(Ee=>{function st(){if(Ne.forEach(function(mt){Te.get(mt).currentProgram.isReady()&&Ne.delete(mt)}),Ne.size===0){Ee(Y);return}setTimeout(st,10)}De.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let Mi=null;function Zn(Y){Mi&&Mi(Y)}function $n(){Ni.stop()}function _i(){Ni.start()}const Ni=new i5;Ni.setAnimationLoop(Zn),typeof self<"u"&&Ni.setContext(self),this.setAnimationLoop=function(Y){Mi=Y,Le.setAnimationLoop(Y),Y===null?Ni.stop():Ni.start()},Le.addEventListener("sessionstart",$n),Le.addEventListener("sessionend",_i),this.render=function(Y,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(pe),pe=Le.getCamera()),Y.isScene===!0&&Y.onBeforeRender(R,Y,pe,P),S=bt.get(Y,w.length),S.init(pe),w.push(S),xe.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),ce.setFromProjectionMatrix(xe),Ue=this.localClippingEnabled,be=Ve.init(this.clippingPlanes,Ue),A=_t.get(Y,B.length),A.init(),B.push(A),Le.enabled===!0&&Le.isPresenting===!0){const st=R.xr.getDepthSensingMesh();st!==null&&ys(st,pe,-1/0,R.sortObjects)}ys(Y,pe,0,R.sortObjects),A.finish(),R.sortObjects===!0&&A.sort(se,X),Ce=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,Ce&&xt.addToRenderList(A,Y),this.info.render.frame++,be===!0&&Ve.beginShadows();const Re=S.state.shadowsArray;ut.render(Re,Y,pe),be===!0&&Ve.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ne=A.opaque,Ee=A.transmissive;if(S.setupLights(),pe.isArrayCamera){const st=pe.cameras;if(Ee.length>0)for(let mt=0,gt=st.length;mt<gt;mt++){const Tt=st[mt];Xs(Ne,Ee,Y,Tt)}Ce&&xt.render(Y);for(let mt=0,gt=st.length;mt<gt;mt++){const Tt=st[mt];Xo(A,Y,Tt,Tt.viewport)}}else Ee.length>0&&Xs(Ne,Ee,Y,pe),Ce&&xt.render(Y),Xo(A,Y,pe);P!==null&&U===0&&(Z.updateMultisampleRenderTarget(P),Z.updateRenderTargetMipmap(P)),Y.isScene===!0&&Y.onAfterRender(R,Y,pe),ft.resetDefaultState(),L=-1,M=null,w.pop(),w.length>0?(S=w[w.length-1],be===!0&&Ve.setGlobalState(R.clippingPlanes,S.state.camera)):S=null,B.pop(),B.length>0?A=B[B.length-1]:A=null};function ys(Y,pe,Re,Ne){if(Y.visible===!1)return;if(Y.layers.test(pe.layers)){if(Y.isGroup)Re=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(pe);else if(Y.isLight)S.pushLight(Y),Y.castShadow&&S.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||ce.intersectsSprite(Y)){Ne&&Q.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(xe);const mt=He.update(Y),gt=Y.material;gt.visible&&A.push(Y,mt,gt,Re,Q.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||ce.intersectsObject(Y))){const mt=He.update(Y),gt=Y.material;if(Ne&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Q.copy(Y.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),Q.copy(mt.boundingSphere.center)),Q.applyMatrix4(Y.matrixWorld).applyMatrix4(xe)),Array.isArray(gt)){const Tt=mt.groups;for(let yt=0,Ot=Tt.length;yt<Ot;yt++){const It=Tt[yt],nn=gt[It.materialIndex];nn&&nn.visible&&A.push(Y,mt,nn,Re,Q.z,It)}}else gt.visible&&A.push(Y,mt,gt,Re,Q.z,null)}}const st=Y.children;for(let mt=0,gt=st.length;mt<gt;mt++)ys(st[mt],pe,Re,Ne)}function Xo(Y,pe,Re,Ne){const Ee=Y.opaque,st=Y.transmissive,mt=Y.transparent;S.setupLightsView(Re),be===!0&&Ve.setGlobalState(R.clippingPlanes,Re),Ne&&ve.viewport(F.copy(Ne)),Ee.length>0&&vs(Ee,pe,Re),st.length>0&&vs(st,pe,Re),mt.length>0&&vs(mt,pe,Re),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Xs(Y,pe,Re,Ne){if((Re.isScene===!0?Re.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Ne.id]===void 0&&(S.state.transmissionRenderTarget[Ne.id]=new Dc(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")||De.has("EXT_color_buffer_float")?Gg:ko,minFilter:Po,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ln.workingColorSpace}));const st=S.state.transmissionRenderTarget[Ne.id],mt=Ne.viewport||F;st.setSize(mt.z*R.transmissionResolutionScale,mt.w*R.transmissionResolutionScale);const gt=R.getRenderTarget();R.setRenderTarget(st),R.getClearColor(ie),ne=R.getClearAlpha(),ne<1&&R.setClearColor(16777215,.5),R.clear(),Ce&&xt.render(Re);const Tt=R.toneMapping;R.toneMapping=Tc;const yt=Ne.viewport;if(Ne.viewport!==void 0&&(Ne.viewport=void 0),S.setupLightsView(Ne),be===!0&&Ve.setGlobalState(R.clippingPlanes,Ne),vs(Y,Re,Ne),Z.updateMultisampleRenderTarget(st),Z.updateRenderTargetMipmap(st),De.has("WEBGL_multisampled_render_to_texture")===!1){let Ot=!1;for(let It=0,nn=pe.length;It<nn;It++){const In=pe[It],Ti=In.object,vn=In.geometry,bn=In.material,Ft=In.group;if(bn.side===El&&Ti.layers.test(Ne.layers)){const Bi=bn.side;bn.side=ca,bn.needsUpdate=!0,_s(Ti,Re,Ne,vn,bn,Ft),bn.side=Bi,bn.needsUpdate=!0,Ot=!0}}Ot===!0&&(Z.updateMultisampleRenderTarget(st),Z.updateRenderTargetMipmap(st))}R.setRenderTarget(gt),R.setClearColor(ie,ne),yt!==void 0&&(Ne.viewport=yt),R.toneMapping=Tt}function vs(Y,pe,Re){const Ne=pe.isScene===!0?pe.overrideMaterial:null;for(let Ee=0,st=Y.length;Ee<st;Ee++){const mt=Y[Ee],gt=mt.object,Tt=mt.geometry,yt=mt.group;let Ot=mt.material;Ot.allowOverride===!0&&Ne!==null&&(Ot=Ne),gt.layers.test(Re.layers)&&_s(gt,pe,Re,Tt,Ot,yt)}}function _s(Y,pe,Re,Ne,Ee,st){Y.onBeforeRender(R,pe,Re,Ne,Ee,st),Y.modelViewMatrix.multiplyMatrices(Re.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),Ee.onBeforeRender(R,pe,Re,Ne,Y,st),Ee.transparent===!0&&Ee.side===El&&Ee.forceSinglePass===!1?(Ee.side=ca,Ee.needsUpdate=!0,R.renderBufferDirect(Re,pe,Ne,Ee,Y,st),Ee.side=Bc,Ee.needsUpdate=!0,R.renderBufferDirect(Re,pe,Ne,Ee,Y,st),Ee.side=El):R.renderBufferDirect(Re,pe,Ne,Ee,Y,st),Y.onAfterRender(R,pe,Re,Ne,Ee,st)}function Qt(Y,pe,Re){pe.isScene!==!0&&(pe=oe);const Ne=Te.get(Y),Ee=S.state.lights,st=S.state.shadowsArray,mt=Ee.state.version,gt=ct.getParameters(Y,Ee.state,st,pe,Re),Tt=ct.getProgramCacheKey(gt);let yt=Ne.programs;Ne.environment=Y.isMeshStandardMaterial?pe.environment:null,Ne.fog=pe.fog,Ne.envMap=(Y.isMeshStandardMaterial?me:k).get(Y.envMap||Ne.environment),Ne.envMapRotation=Ne.environment!==null&&Y.envMap===null?pe.environmentRotation:Y.envMapRotation,yt===void 0&&(Y.addEventListener("dispose",Dt),yt=new Map,Ne.programs=yt);let Ot=yt.get(Tt);if(Ot!==void 0){if(Ne.currentProgram===Ot&&Ne.lightsStateVersion===mt)return Qi(Y,gt),Ot}else gt.uniforms=ct.getUniforms(Y),Y.onBeforeCompile(gt,R),Ot=ct.acquireProgram(gt,Tt),yt.set(Tt,Ot),Ne.uniforms=gt.uniforms;const It=Ne.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(It.clippingPlanes=Ve.uniform),Qi(Y,gt),Ne.needsLights=Xe(Y),Ne.lightsStateVersion=mt,Ne.needsLights&&(It.ambientLightColor.value=Ee.state.ambient,It.lightProbe.value=Ee.state.probe,It.directionalLights.value=Ee.state.directional,It.directionalLightShadows.value=Ee.state.directionalShadow,It.spotLights.value=Ee.state.spot,It.spotLightShadows.value=Ee.state.spotShadow,It.rectAreaLights.value=Ee.state.rectArea,It.ltc_1.value=Ee.state.rectAreaLTC1,It.ltc_2.value=Ee.state.rectAreaLTC2,It.pointLights.value=Ee.state.point,It.pointLightShadows.value=Ee.state.pointShadow,It.hemisphereLights.value=Ee.state.hemi,It.directionalShadowMap.value=Ee.state.directionalShadowMap,It.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,It.spotShadowMap.value=Ee.state.spotShadowMap,It.spotLightMatrix.value=Ee.state.spotLightMatrix,It.spotLightMap.value=Ee.state.spotLightMap,It.pointShadowMap.value=Ee.state.pointShadowMap,It.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Ne.currentProgram=Ot,Ne.uniformsList=null,Ot}function kn(Y){if(Y.uniformsList===null){const pe=Y.currentProgram.getUniforms();Y.uniformsList=BS.seqWithValue(pe.seq,Y.uniforms)}return Y.uniformsList}function Qi(Y,pe){const Re=Te.get(Y);Re.outputColorSpace=pe.outputColorSpace,Re.batching=pe.batching,Re.batchingColor=pe.batchingColor,Re.instancing=pe.instancing,Re.instancingColor=pe.instancingColor,Re.instancingMorph=pe.instancingMorph,Re.skinning=pe.skinning,Re.morphTargets=pe.morphTargets,Re.morphNormals=pe.morphNormals,Re.morphColors=pe.morphColors,Re.morphTargetsCount=pe.morphTargetsCount,Re.numClippingPlanes=pe.numClippingPlanes,Re.numIntersection=pe.numClipIntersection,Re.vertexAlphas=pe.vertexAlphas,Re.vertexTangents=pe.vertexTangents,Re.toneMapping=pe.toneMapping}function _r(Y,pe,Re,Ne,Ee){pe.isScene!==!0&&(pe=oe),Z.resetTextureUnits();const st=pe.fog,mt=Ne.isMeshStandardMaterial?pe.environment:null,gt=P===null?R.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:rd,Tt=(Ne.isMeshStandardMaterial?me:k).get(Ne.envMap||mt),yt=Ne.vertexColors===!0&&!!Re.attributes.color&&Re.attributes.color.itemSize===4,Ot=!!Re.attributes.tangent&&(!!Ne.normalMap||Ne.anisotropy>0),It=!!Re.morphAttributes.position,nn=!!Re.morphAttributes.normal,In=!!Re.morphAttributes.color;let Ti=Tc;Ne.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Ti=R.toneMapping);const vn=Re.morphAttributes.position||Re.morphAttributes.normal||Re.morphAttributes.color,bn=vn!==void 0?vn.length:0,Ft=Te.get(Ne),Bi=S.state.lights;if(be===!0&&(Ue===!0||Y!==M)){const bs=Y===M&&Ne.id===L;Ve.setState(Ne,Y,bs)}let Rn=!1;Ne.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==Bi.state.version||Ft.outputColorSpace!==gt||Ee.isBatchedMesh&&Ft.batching===!1||!Ee.isBatchedMesh&&Ft.batching===!0||Ee.isBatchedMesh&&Ft.batchingColor===!0&&Ee.colorTexture===null||Ee.isBatchedMesh&&Ft.batchingColor===!1&&Ee.colorTexture!==null||Ee.isInstancedMesh&&Ft.instancing===!1||!Ee.isInstancedMesh&&Ft.instancing===!0||Ee.isSkinnedMesh&&Ft.skinning===!1||!Ee.isSkinnedMesh&&Ft.skinning===!0||Ee.isInstancedMesh&&Ft.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&Ft.instancingColor===!1&&Ee.instanceColor!==null||Ee.isInstancedMesh&&Ft.instancingMorph===!0&&Ee.morphTexture===null||Ee.isInstancedMesh&&Ft.instancingMorph===!1&&Ee.morphTexture!==null||Ft.envMap!==Tt||Ne.fog===!0&&Ft.fog!==st||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==Ve.numPlanes||Ft.numIntersection!==Ve.numIntersection)||Ft.vertexAlphas!==yt||Ft.vertexTangents!==Ot||Ft.morphTargets!==It||Ft.morphNormals!==nn||Ft.morphColors!==In||Ft.toneMapping!==Ti||Ft.morphTargetsCount!==bn)&&(Rn=!0):(Rn=!0,Ft.__version=Ne.version);let Bs=Ft.currentProgram;Rn===!0&&(Bs=Qt(Ne,pe,Ee));let oo=!1,si=!1,lo=!1;const ei=Bs.getUniforms(),Ds=Ft.uniforms;if(ve.useProgram(Bs.program)&&(oo=!0,si=!0,lo=!0),Ne.id!==L&&(L=Ne.id,si=!0),oo||M!==Y){ve.buffers.depth.getReversed()?(Qe.copy(Y.projectionMatrix),Pne(Qe),Une(Qe),ei.setValue(W,"projectionMatrix",Qe)):ei.setValue(W,"projectionMatrix",Y.projectionMatrix),ei.setValue(W,"viewMatrix",Y.matrixWorldInverse);const xs=ei.map.cameraPosition;xs!==void 0&&xs.setValue(W,j.setFromMatrixPosition(Y.matrixWorld)),Ge.logarithmicDepthBuffer&&ei.setValue(W,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Ne.isMeshPhongMaterial||Ne.isMeshToonMaterial||Ne.isMeshLambertMaterial||Ne.isMeshBasicMaterial||Ne.isMeshStandardMaterial||Ne.isShaderMaterial)&&ei.setValue(W,"isOrthographic",Y.isOrthographicCamera===!0),M!==Y&&(M=Y,si=!0,lo=!0)}if(Ee.isSkinnedMesh){ei.setOptional(W,Ee,"bindMatrix"),ei.setOptional(W,Ee,"bindMatrixInverse");const bs=Ee.skeleton;bs&&(bs.boneTexture===null&&bs.computeBoneTexture(),ei.setValue(W,"boneTexture",bs.boneTexture,Z))}Ee.isBatchedMesh&&(ei.setOptional(W,Ee,"batchingTexture"),ei.setValue(W,"batchingTexture",Ee._matricesTexture,Z),ei.setOptional(W,Ee,"batchingIdTexture"),ei.setValue(W,"batchingIdTexture",Ee._indirectTexture,Z),ei.setOptional(W,Ee,"batchingColorTexture"),Ee._colorsTexture!==null&&ei.setValue(W,"batchingColorTexture",Ee._colorsTexture,Z));const Zi=Re.morphAttributes;if((Zi.position!==void 0||Zi.normal!==void 0||Zi.color!==void 0)&&St.update(Ee,Re,Bs),(si||Ft.receiveShadow!==Ee.receiveShadow)&&(Ft.receiveShadow=Ee.receiveShadow,ei.setValue(W,"receiveShadow",Ee.receiveShadow)),Ne.isMeshGouraudMaterial&&Ne.envMap!==null&&(Ds.envMap.value=Tt,Ds.flipEnvMap.value=Tt.isCubeTexture&&Tt.isRenderTargetTexture===!1?-1:1),Ne.isMeshStandardMaterial&&Ne.envMap===null&&pe.environment!==null&&(Ds.envMapIntensity.value=pe.environmentIntensity),si&&(ei.setValue(W,"toneMappingExposure",R.toneMappingExposure),Ft.needsLights&&br(Ds,lo),st&&Ne.fog===!0&&rt.refreshFogUniforms(Ds,st),rt.refreshMaterialUniforms(Ds,Ne,$,q,S.state.transmissionRenderTarget[Y.id]),BS.upload(W,kn(Ft),Ds,Z)),Ne.isShaderMaterial&&Ne.uniformsNeedUpdate===!0&&(BS.upload(W,kn(Ft),Ds,Z),Ne.uniformsNeedUpdate=!1),Ne.isSpriteMaterial&&ei.setValue(W,"center",Ee.center),ei.setValue(W,"modelViewMatrix",Ee.modelViewMatrix),ei.setValue(W,"normalMatrix",Ee.normalMatrix),ei.setValue(W,"modelMatrix",Ee.matrixWorld),Ne.isShaderMaterial||Ne.isRawShaderMaterial){const bs=Ne.uniformsGroups;for(let xs=0,rr=bs.length;xs<rr;xs++){const co=bs[xs];de.update(co,Bs),de.bind(co,Bs)}}return Bs}function br(Y,pe){Y.ambientLightColor.needsUpdate=pe,Y.lightProbe.needsUpdate=pe,Y.directionalLights.needsUpdate=pe,Y.directionalLightShadows.needsUpdate=pe,Y.pointLights.needsUpdate=pe,Y.pointLightShadows.needsUpdate=pe,Y.spotLights.needsUpdate=pe,Y.spotLightShadows.needsUpdate=pe,Y.rectAreaLights.needsUpdate=pe,Y.hemisphereLights.needsUpdate=pe}function Xe(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(Y,pe,Re){const Ne=Te.get(Y);Ne.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Ne.__autoAllocateDepthBuffer===!1&&(Ne.__useRenderToTexture=!1),Te.get(Y.texture).__webglTexture=pe,Te.get(Y.depthTexture).__webglTexture=Ne.__autoAllocateDepthBuffer?void 0:Re,Ne.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,pe){const Re=Te.get(Y);Re.__webglFramebuffer=pe,Re.__useDefaultFramebuffer=pe===void 0};const qe=W.createFramebuffer();this.setRenderTarget=function(Y,pe=0,Re=0){P=Y,O=pe,U=Re;let Ne=!0,Ee=null,st=!1,mt=!1;if(Y){const Tt=Te.get(Y);if(Tt.__useDefaultFramebuffer!==void 0)ve.bindFramebuffer(W.FRAMEBUFFER,null),Ne=!1;else if(Tt.__webglFramebuffer===void 0)Z.setupRenderTarget(Y);else if(Tt.__hasExternalTextures)Z.rebindTextures(Y,Te.get(Y.texture).__webglTexture,Te.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const It=Y.depthTexture;if(Tt.__boundDepthTexture!==It){if(It!==null&&Te.has(It)&&(Y.width!==It.image.width||Y.height!==It.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Z.setupDepthRenderbuffer(Y)}}const yt=Y.texture;(yt.isData3DTexture||yt.isDataArrayTexture||yt.isCompressedArrayTexture)&&(mt=!0);const Ot=Te.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(Ot[pe])?Ee=Ot[pe][Re]:Ee=Ot[pe],st=!0):Y.samples>0&&Z.useMultisampledRTT(Y)===!1?Ee=Te.get(Y).__webglMultisampledFramebuffer:Array.isArray(Ot)?Ee=Ot[Re]:Ee=Ot,F.copy(Y.viewport),G.copy(Y.scissor),J=Y.scissorTest}else F.copy(ae).multiplyScalar($).floor(),G.copy(_e).multiplyScalar($).floor(),J=Ae;if(Re!==0&&(Ee=qe),ve.bindFramebuffer(W.FRAMEBUFFER,Ee)&&Ne&&ve.drawBuffers(Y,Ee),ve.viewport(F),ve.scissor(G),ve.setScissorTest(J),st){const Tt=Te.get(Y.texture);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_CUBE_MAP_POSITIVE_X+pe,Tt.__webglTexture,Re)}else if(mt){const Tt=Te.get(Y.texture),yt=pe;W.framebufferTextureLayer(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,Tt.__webglTexture,Re,yt)}else if(Y!==null&&Re!==0){const Tt=Te.get(Y.texture);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,Tt.__webglTexture,Re)}L=-1},this.readRenderTargetPixels=function(Y,pe,Re,Ne,Ee,st,mt){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=Te.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&mt!==void 0&&(gt=gt[mt]),gt){ve.bindFramebuffer(W.FRAMEBUFFER,gt);try{const Tt=Y.texture,yt=Tt.format,Ot=Tt.type;if(!Ge.textureFormatReadable(yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ge.textureTypeReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=Y.width-Ne&&Re>=0&&Re<=Y.height-Ee&&W.readPixels(pe,Re,Ne,Ee,Oe.convert(yt),Oe.convert(Ot),st)}finally{const Tt=P!==null?Te.get(P).__webglFramebuffer:null;ve.bindFramebuffer(W.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(Y,pe,Re,Ne,Ee,st,mt){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=Te.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&mt!==void 0&&(gt=gt[mt]),gt)if(pe>=0&&pe<=Y.width-Ne&&Re>=0&&Re<=Y.height-Ee){ve.bindFramebuffer(W.FRAMEBUFFER,gt);const Tt=Y.texture,yt=Tt.format,Ot=Tt.type;if(!Ge.textureFormatReadable(yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ge.textureTypeReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const It=W.createBuffer();W.bindBuffer(W.PIXEL_PACK_BUFFER,It),W.bufferData(W.PIXEL_PACK_BUFFER,st.byteLength,W.STREAM_READ),W.readPixels(pe,Re,Ne,Ee,Oe.convert(yt),Oe.convert(Ot),0);const nn=P!==null?Te.get(P).__webglFramebuffer:null;ve.bindFramebuffer(W.FRAMEBUFFER,nn);const In=W.fenceSync(W.SYNC_GPU_COMMANDS_COMPLETE,0);return W.flush(),await Lne(W,In,4),W.bindBuffer(W.PIXEL_PACK_BUFFER,It),W.getBufferSubData(W.PIXEL_PACK_BUFFER,0,st),W.deleteBuffer(It),W.deleteSync(In),st}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,pe=null,Re=0){const Ne=Math.pow(2,-Re),Ee=Math.floor(Y.image.width*Ne),st=Math.floor(Y.image.height*Ne),mt=pe!==null?pe.x:0,gt=pe!==null?pe.y:0;Z.setTexture2D(Y,0),W.copyTexSubImage2D(W.TEXTURE_2D,Re,0,0,mt,gt,Ee,st),ve.unbindTexture()};const Mt=W.createFramebuffer(),kt=W.createFramebuffer();this.copyTextureToTexture=function(Y,pe,Re=null,Ne=null,Ee=0,st=null){st===null&&(Ee!==0?(wS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),st=Ee,Ee=0):st=0);let mt,gt,Tt,yt,Ot,It,nn,In,Ti;const vn=Y.isCompressedTexture?Y.mipmaps[st]:Y.image;if(Re!==null)mt=Re.max.x-Re.min.x,gt=Re.max.y-Re.min.y,Tt=Re.isBox3?Re.max.z-Re.min.z:1,yt=Re.min.x,Ot=Re.min.y,It=Re.isBox3?Re.min.z:0;else{const Zi=Math.pow(2,-Ee);mt=Math.floor(vn.width*Zi),gt=Math.floor(vn.height*Zi),Y.isDataArrayTexture?Tt=vn.depth:Y.isData3DTexture?Tt=Math.floor(vn.depth*Zi):Tt=1,yt=0,Ot=0,It=0}Ne!==null?(nn=Ne.x,In=Ne.y,Ti=Ne.z):(nn=0,In=0,Ti=0);const bn=Oe.convert(pe.format),Ft=Oe.convert(pe.type);let Bi;pe.isData3DTexture?(Z.setTexture3D(pe,0),Bi=W.TEXTURE_3D):pe.isDataArrayTexture||pe.isCompressedArrayTexture?(Z.setTexture2DArray(pe,0),Bi=W.TEXTURE_2D_ARRAY):(Z.setTexture2D(pe,0),Bi=W.TEXTURE_2D),W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,pe.flipY),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),W.pixelStorei(W.UNPACK_ALIGNMENT,pe.unpackAlignment);const Rn=W.getParameter(W.UNPACK_ROW_LENGTH),Bs=W.getParameter(W.UNPACK_IMAGE_HEIGHT),oo=W.getParameter(W.UNPACK_SKIP_PIXELS),si=W.getParameter(W.UNPACK_SKIP_ROWS),lo=W.getParameter(W.UNPACK_SKIP_IMAGES);W.pixelStorei(W.UNPACK_ROW_LENGTH,vn.width),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,vn.height),W.pixelStorei(W.UNPACK_SKIP_PIXELS,yt),W.pixelStorei(W.UNPACK_SKIP_ROWS,Ot),W.pixelStorei(W.UNPACK_SKIP_IMAGES,It);const ei=Y.isDataArrayTexture||Y.isData3DTexture,Ds=pe.isDataArrayTexture||pe.isData3DTexture;if(Y.isDepthTexture){const Zi=Te.get(Y),bs=Te.get(pe),xs=Te.get(Zi.__renderTarget),rr=Te.get(bs.__renderTarget);ve.bindFramebuffer(W.READ_FRAMEBUFFER,xs.__webglFramebuffer),ve.bindFramebuffer(W.DRAW_FRAMEBUFFER,rr.__webglFramebuffer);for(let co=0;co<Tt;co++)ei&&(W.framebufferTextureLayer(W.READ_FRAMEBUFFER,W.COLOR_ATTACHMENT0,Te.get(Y).__webglTexture,Ee,It+co),W.framebufferTextureLayer(W.DRAW_FRAMEBUFFER,W.COLOR_ATTACHMENT0,Te.get(pe).__webglTexture,st,Ti+co)),W.blitFramebuffer(yt,Ot,mt,gt,nn,In,mt,gt,W.DEPTH_BUFFER_BIT,W.NEAREST);ve.bindFramebuffer(W.READ_FRAMEBUFFER,null),ve.bindFramebuffer(W.DRAW_FRAMEBUFFER,null)}else if(Ee!==0||Y.isRenderTargetTexture||Te.has(Y)){const Zi=Te.get(Y),bs=Te.get(pe);ve.bindFramebuffer(W.READ_FRAMEBUFFER,Mt),ve.bindFramebuffer(W.DRAW_FRAMEBUFFER,kt);for(let xs=0;xs<Tt;xs++)ei?W.framebufferTextureLayer(W.READ_FRAMEBUFFER,W.COLOR_ATTACHMENT0,Zi.__webglTexture,Ee,It+xs):W.framebufferTexture2D(W.READ_FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,Zi.__webglTexture,Ee),Ds?W.framebufferTextureLayer(W.DRAW_FRAMEBUFFER,W.COLOR_ATTACHMENT0,bs.__webglTexture,st,Ti+xs):W.framebufferTexture2D(W.DRAW_FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,bs.__webglTexture,st),Ee!==0?W.blitFramebuffer(yt,Ot,mt,gt,nn,In,mt,gt,W.COLOR_BUFFER_BIT,W.NEAREST):Ds?W.copyTexSubImage3D(Bi,st,nn,In,Ti+xs,yt,Ot,mt,gt):W.copyTexSubImage2D(Bi,st,nn,In,yt,Ot,mt,gt);ve.bindFramebuffer(W.READ_FRAMEBUFFER,null),ve.bindFramebuffer(W.DRAW_FRAMEBUFFER,null)}else Ds?Y.isDataTexture||Y.isData3DTexture?W.texSubImage3D(Bi,st,nn,In,Ti,mt,gt,Tt,bn,Ft,vn.data):pe.isCompressedArrayTexture?W.compressedTexSubImage3D(Bi,st,nn,In,Ti,mt,gt,Tt,bn,vn.data):W.texSubImage3D(Bi,st,nn,In,Ti,mt,gt,Tt,bn,Ft,vn):Y.isDataTexture?W.texSubImage2D(W.TEXTURE_2D,st,nn,In,mt,gt,bn,Ft,vn.data):Y.isCompressedTexture?W.compressedTexSubImage2D(W.TEXTURE_2D,st,nn,In,vn.width,vn.height,bn,vn.data):W.texSubImage2D(W.TEXTURE_2D,st,nn,In,mt,gt,bn,Ft,vn);W.pixelStorei(W.UNPACK_ROW_LENGTH,Rn),W.pixelStorei(W.UNPACK_IMAGE_HEIGHT,Bs),W.pixelStorei(W.UNPACK_SKIP_PIXELS,oo),W.pixelStorei(W.UNPACK_SKIP_ROWS,si),W.pixelStorei(W.UNPACK_SKIP_IMAGES,lo),st===0&&pe.generateMipmaps&&W.generateMipmap(Bi),ve.unbindTexture()},this.copyTextureToTexture3D=function(Y,pe,Re=null,Ne=null,Ee=0){return wS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Y,pe,Re,Ne,Ee)},this.initRenderTarget=function(Y){Te.get(Y).__webglFramebuffer===void 0&&Z.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?Z.setTextureCube(Y,0):Y.isData3DTexture?Z.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?Z.setTexture2DArray(Y,0):Z.setTexture2D(Y,0),ve.unbindTexture()},this.resetState=function(){O=0,U=0,P=null,ve.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Uo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Ln._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ln._getUnpackColorSpace()}}const qce=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:C2,AddEquation:kf,AddOperation:Lz,AdditiveAnimationBlendMode:L2,AdditiveBlending:aw,AgXToneMapping:Hz,AlphaFormat:D2,AlwaysCompare:nH,AlwaysDepth:pA,AlwaysStencilFunc:uw,AmbientLight:jH,AnimationAction:e5,AnimationClip:Mg,AnimationLoader:use,AnimationMixer:Use,AnimationObjectGroup:Lse,AnimationUtils:ase,ArcCurve:vH,ArrayCamera:QH,ArrowHelper:rre,AttachedBindMode:cw,Audio:ZH,AudioAnalyser:Mse,AudioContext:cB,AudioListener:Sse,AudioLoader:_se,AxesHelper:are,BackSide:ca,BasicDepthPacking:Yz,BasicShadowMap:mz,BatchedMesh:mH,Bone:Q1,BooleanKeyframeTrack:op,Box2:Wse,Box3:yr,Box3Helper:ire,BoxGeometry:ap,BoxHelper:nre,BufferAttribute:Gn,BufferGeometry:cn,BufferGeometryLoader:KH,ByteType:w2,Cache:vu,Camera:q1,CameraHelper:tre,CanvasTexture:wie,CapsuleGeometry:nE,CatmullRomCurve3:_H,CineonToneMapping:Fz,CircleGeometry:iE,ClampToEdgeWrapping:Za,Clock:uB,Color:Et,ColorKeyframeTrack:iB,ColorManagement:Ln,CompressedArrayTexture:Tie,CompressedCubeTexture:Cie,CompressedTexture:eE,CompressedTextureLoader:fse,ConeGeometry:M_,ConstantAlphaFactor:Iz,ConstantColorFactor:Bz,Controls:lre,CubeCamera:uH,CubeReflectionMapping:Ou,CubeRefractionMapping:id,CubeTexture:x_,CubeTextureLoader:dse,CubeUVReflectionMapping:Hg,CubicBezierCurve:q2,CubicBezierCurve3:bH,CubicInterpolant:FH,CullFaceBack:rw,CullFaceFront:pz,CullFaceFrontBack:Fte,CullFaceNone:hz,Curve:Nl,CurvePath:SH,CustomBlending:gz,CustomToneMapping:zz,CylinderGeometry:E_,Cylindrical:jse,Data3DTexture:Y1,DataArrayTexture:b_,DataTexture:Cc,DataTextureLoader:hse,DataUtils:Zne,DecrementStencilOp:Kte,DecrementWrapStencilOp:Qte,DefaultLoadingManager:GH,DepthArrayTexture:Rie,DepthFormat:yg,DepthStencilFormat:vg,DepthTexture:tE,DetachedBindMode:kz,DirectionalLight:lB,DirectionalLightHelper:ere,DiscreteInterpolant:zH,DodecahedronGeometry:sE,DoubleSide:El,DstAlphaFactor:Mz,DstColorFactor:Cz,DynamicCopyUsage:dne,DynamicDrawUsage:ane,DynamicReadUsage:cne,EdgesGeometry:yH,EllipseCurve:rE,EqualCompare:Zz,EqualDepth:gA,EqualStencilFunc:tne,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:F0,Euler:ro,EventDispatcher:Oc,ExtrudeGeometry:aE,FileLoader:ao,Float16BufferAttribute:rie,Float32BufferAttribute:Lt,FloatType:wa,Fog:J1,FogExp2:K1,FramebufferTexture:Mie,FrontSide:Bc,Frustum:kg,FrustumArray:Z1,GLBufferAttribute:Vse,GLSL1:pne,GLSL3:fw,GreaterCompare:$z,GreaterDepth:vA,GreaterEqualCompare:tH,GreaterEqualDepth:yA,GreaterEqualStencilFunc:rne,GreaterStencilFunc:ine,GridHelper:Zse,Group:yu,HalfFloatType:Gg,HemisphereLight:VH,HemisphereLightHelper:Qse,IcosahedronGeometry:oE,ImageBitmapLoader:JH,ImageLoader:Y0,ImageUtils:aH,IncrementStencilOp:qte,IncrementWrapStencilOp:Jte,InstancedBufferAttribute:Zh,InstancedBufferGeometry:qH,InstancedInterleavedBuffer:kse,InstancedMesh:j2,Int16BufferAttribute:iie,Int32BufferAttribute:sie,Int8BufferAttribute:eie,IntType:z1,InterleavedBuffer:S_,InterleavedBufferAttribute:ad,Interpolant:jg,InterpolateDiscrete:_g,InterpolateLinear:bg,InterpolateSmooth:CS,InterpolationSamplingMode:yne,InterpolationSamplingType:gne,InvertStencilOp:Zte,KeepStencilOp:Th,KeyframeTrack:Wo,LOD:pH,LatheGeometry:lE,Layers:Sg,LessCompare:Qz,LessDepth:mA,LessEqualCompare:U2,LessEqualDepth:Qh,LessEqualStencilFunc:nne,LessStencilFunc:ene,Light:fd,LightProbe:YH,Line:Lu,Line3:Xse,LineBasicMaterial:Hr,LineCurve:K2,LineCurve3:xH,LineDashedMaterial:LH,LineLoop:W2,LineSegments:Ol,LinearFilter:ps,LinearInterpolant:nB,LinearMipMapLinearFilter:kte,LinearMipMapNearestFilter:Gte,LinearMipmapLinearFilter:Po,LinearMipmapNearestFilter:Zm,LinearSRGBColorSpace:rd,LinearToneMapping:Pz,LinearTransfer:H0,Loader:Gr,LoaderUtils:Jf,LoadingManager:sB,LoopOnce:Vz,LoopPingPong:Wz,LoopRepeat:jz,MOUSE:Eh,Material:Vs,MaterialLoader:mE,MathUtils:iH,Matrix2:pB,Matrix3:fn,Matrix4:Gt,MaxEquation:bz,Mesh:ms,MeshBasicMaterial:$a,MeshDepthMaterial:$2,MeshDistanceMaterial:eB,MeshLambertMaterial:OH,MeshMatcapMaterial:NH,MeshNormalMaterial:IH,MeshPhongMaterial:BH,MeshPhysicalMaterial:jo,MeshStandardMaterial:w_,MeshToonMaterial:DH,MinEquation:_z,MirroredRepeatWrapping:pg,MixOperation:Nz,MultiplyBlending:lw,MultiplyOperation:v_,NearestFilter:nr,NearestMipMapLinearFilter:Hte,NearestMipMapNearestFilter:zte,NearestMipmapLinearFilter:Nh,NearestMipmapNearestFilter:F1,NeutralToneMapping:Gz,NeverCompare:Jz,NeverDepth:hA,NeverStencilFunc:$te,NoBlending:bu,NoColorSpace:pu,NoToneMapping:Tc,NormalAnimationBlendMode:W1,NormalBlending:Vh,NotEqualCompare:eH,NotEqualDepth:_A,NotEqualStencilFunc:sne,NumberKeyframeTrack:ep,Object3D:Pn,ObjectLoader:yse,ObjectSpaceNormalMap:Kz,OctahedronGeometry:T_,OneFactor:Sz,OneMinusConstantAlphaFactor:Oz,OneMinusConstantColorFactor:Dz,OneMinusDstAlphaFactor:Tz,OneMinusDstColorFactor:wz,OneMinusSrcAlphaFactor:dA,OneMinusSrcColorFactor:Ez,OrthographicCamera:Su,PCFShadowMap:P1,PCFSoftShadowMap:n0,PMREMGenerator:_w,Path:JA,PerspectiveCamera:as,Plane:hu,PlaneGeometry:Vg,PlaneHelper:sre,PointLight:oB,PointLightHelper:Kse,Points:X2,PointsMaterial:$1,PolarGridHelper:$se,PolyhedronGeometry:ud,PositionalAudio:Ese,PropertyBinding:zn,PropertyMixer:$H,QuadraticBezierCurve:J2,QuadraticBezierCurve3:Q2,Quaternion:ir,QuaternionKeyframeTrack:tp,QuaternionLinearInterpolant:HH,RED_GREEN_RGTC2_Format:jA,RED_RGTC1_Format:N2,REVISION:y_,RGBADepthPacking:qz,RGBAFormat:Fr,RGBAIntegerFormat:j1,RGBA_ASTC_10x10_Format:FA,RGBA_ASTC_10x5_Format:LA,RGBA_ASTC_10x6_Format:PA,RGBA_ASTC_10x8_Format:UA,RGBA_ASTC_12x10_Format:zA,RGBA_ASTC_12x12_Format:HA,RGBA_ASTC_4x4_Format:CA,RGBA_ASTC_5x4_Format:wA,RGBA_ASTC_5x5_Format:RA,RGBA_ASTC_6x5_Format:BA,RGBA_ASTC_6x6_Format:DA,RGBA_ASTC_8x5_Format:IA,RGBA_ASTC_8x6_Format:OA,RGBA_ASTC_8x8_Format:NA,RGBA_BPTC_Format:o0,RGBA_ETC2_EAC_Format:TA,RGBA_PVRTC_2BPPV1_Format:AA,RGBA_PVRTC_4BPPV1_Format:SA,RGBA_S3TC_DXT1_Format:s0,RGBA_S3TC_DXT3_Format:r0,RGBA_S3TC_DXT5_Format:a0,RGBDepthPacking:jte,RGBFormat:I2,RGBIntegerFormat:Vte,RGB_BPTC_SIGNED_Format:GA,RGB_BPTC_UNSIGNED_Format:kA,RGB_ETC1_Format:EA,RGB_ETC2_Format:MA,RGB_PVRTC_2BPPV1_Format:xA,RGB_PVRTC_4BPPV1_Format:bA,RGB_S3TC_DXT1_Format:i0,RGDepthPacking:Wte,RGFormat:O2,RGIntegerFormat:V1,RawShaderMaterial:RH,Ray:rp,Raycaster:t5,RectAreaLight:WH,RedFormat:k1,RedIntegerFormat:__,ReinhardToneMapping:Uz,RenderTarget:X1,RenderTarget3D:Fse,RenderTargetArray:zse,RepeatWrapping:sd,ReplaceStencilOp:Yte,ReverseSubtractEquation:vz,RingGeometry:cE,SIGNED_RED_GREEN_RGTC2_Format:WA,SIGNED_RED_RGTC1_Format:VA,SRGBColorSpace:Lr,SRGBTransfer:ci,Scene:G2,ShaderChunk:mn,ShaderLib:Sl,ShaderMaterial:Dl,ShadowMaterial:wH,Shape:Wh,ShapeGeometry:uE,ShapePath:ore,ShapeUtils:Rl,ShortType:R2,Skeleton:A_,SkeletonHelper:qse,SkinnedMesh:V2,Source:jf,Sphere:sr,SphereGeometry:C_,Spherical:yw,SphericalHarmonics3:XH,SplineCurve:Z2,SpotLight:aB,SpotLightHelper:Yse,Sprite:hH,SpriteMaterial:k2,SrcAlphaFactor:fA,SrcAlphaSaturateFactor:Rz,SrcColorFactor:Az,StaticCopyUsage:fne,StaticDrawUsage:G0,StaticReadUsage:lne,StereoCamera:bse,StreamCopyUsage:hne,StreamDrawUsage:one,StreamReadUsage:une,StringKeyframeTrack:lp,SubtractEquation:yz,SubtractiveBlending:ow,TOUCH:Mh,TangentSpaceNormalMap:cd,TetrahedronGeometry:fE,Texture:ki,TextureLoader:kH,TextureUtils:hre,TimestampQuery:mne,TorusGeometry:dE,TorusKnotGeometry:hE,Triangle:Ma,TriangleFanDrawMode:XA,TriangleStripDrawMode:P2,TrianglesDrawMode:Xz,TubeGeometry:pE,UVMapping:U1,Uint16BufferAttribute:z2,Uint32BufferAttribute:H2,Uint8BufferAttribute:tie,Uint8ClampedBufferAttribute:nie,Uniform:hB,UniformsGroup:Gse,UniformsLib:wt,UniformsUtils:cH,UnsignedByteType:ko,UnsignedInt248Type:gg,UnsignedInt5999Type:B2,UnsignedIntType:Nu,UnsignedShort4444Type:H1,UnsignedShort5551Type:G1,UnsignedShortType:mg,VSMShadowMap:xl,Vector2:tt,Vector3:re,Vector4:Hn,VectorKeyframeTrack:np,VideoFrameTexture:Eie,VideoTexture:gH,WebGL3DRenderTarget:kne,WebGLArrayRenderTarget:Gne,WebGLCoordinateSystem:Uo,WebGLCubeRenderTarget:fH,WebGLRenderTarget:Dc,WebGLRenderer:c5,WebGLUtils:l5,WebGPUCoordinateSystem:k0,WebXRController:RS,WireframeGeometry:CH,WrapAroundEnding:z0,ZeroCurvatureEnding:Lh,ZeroFactor:xz,ZeroSlopeEnding:Ph,ZeroStencilOp:Xte,createCanvasElement:rH},Symbol.toStringTag,{value:"Module"}));var RT={exports:{}},fu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL;function Kce(){return fL||(fL=1,fu.ConcurrentRoot=1,fu.ContinuousEventPriority=8,fu.DefaultEventPriority=32,fu.DiscreteEventPriority=2,fu.IdleEventPriority=268435456,fu.LegacyRoot=0,fu.NoEventPriority=0),fu}var dL;function Jce(){return dL||(dL=1,RT.exports=Kce()),RT.exports}var DS=Jce(),BT={exports:{}},DT={},IT={exports:{}},OT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL;function Qce(){if(hL)return OT;hL=1;var n=Cg();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,a=n.useDebugValue;function l(g,y){var b=y(),x=i({inst:{value:b,getSnapshot:y}}),E=x[0].inst,A=x[1];return r(function(){E.value=b,E.getSnapshot=y,u(E)&&A({inst:E})},[g,b,y]),s(function(){return u(E)&&A({inst:E}),g(function(){u(E)&&A({inst:E})})},[g]),a(b),b}function u(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function d(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return OT.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,OT}var pL;function Zce(){return pL||(pL=1,IT.exports=Qce()),IT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL;function $ce(){if(mL)return DT;mL=1;var n=Cg(),e=Zce();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,u=n.useDebugValue;return DT.useSyncExternalStoreWithSelector=function(d,m,g,y,b){var x=r(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=l(function(){function S(O){if(!B){if(B=!0,w=O,O=y(O),b!==void 0&&E.hasValue){var U=E.value;if(b(U,O))return R=U}return R=O}if(U=R,i(w,O))return U;var P=y(O);return b!==void 0&&b(U,P)?(w=O,U):(w=O,R=P)}var B=!1,w,R,N=g===void 0?null:g;return[function(){return S(m())},N===null?void 0:function(){return S(N())}]},[m,g,y,b]);var A=s(d,x[0],x[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},DT}var gL;function eue(){return gL||(gL=1,BT.exports=$ce()),BT.exports}var tue=eue();const nue=K0(tue),yL=n=>{let e;const t=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=e=n(i,s,l);return l},iue=n=>n?yL(n):yL,{useSyncExternalStoreWithSelector:sue}=nue,rue=n=>n;function aue(n,e=rue,t){const i=sue(n.subscribe,n.getState,n.getInitialState,e,t);return Ml.useDebugValue(i),i}const vL=(n,e)=>{const t=iue(n),i=(s,r=e)=>aue(t,s,r);return Object.assign(i,t),i},oue=(n,e)=>n?vL(n,e):vL;var NT={exports:{}},LT={exports:{}},PT={exports:{}},UT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L;function lue(){return _L||(_L=1,function(n){function e(H,q){var $=H.length;H.push(q);e:for(;0<$;){var se=$-1>>>1,X=H[se];if(0<s(X,q))H[se]=q,H[$]=X,$=se;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],$=H.pop();if($!==q){H[0]=$;e:for(var se=0,X=H.length,ae=X>>>1;se<ae;){var _e=2*(se+1)-1,Ae=H[_e],ce=_e+1,be=H[ce];if(0>s(Ae,$))ce<X&&0>s(be,Ae)?(H[se]=be,H[ce]=$,se=ce):(H[se]=Ae,H[_e]=$,se=_e);else if(ce<X&&0>s(be,$))H[se]=be,H[ce]=$,se=ce;else break e}}return q}function s(H,q){var $=H.sortIndex-q.sortIndex;return $!==0?$:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],d=[],m=1,g=null,y=3,b=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(d)}}function R(H){if(E=!1,w(H),!x)if(t(u)!==null)x=!0,ie();else{var q=t(d);q!==null&&ne(R,q.startTime-H)}}var N=!1,O=-1,U=5,P=-1;function L(){return!(n.unstable_now()-P<U)}function M(){if(N){var H=n.unstable_now();P=H;var q=!0;try{e:{x=!1,E&&(E=!1,S(O),O=-1),b=!0;var $=y;try{t:{for(w(H),g=t(u);g!==null&&!(g.expirationTime>H&&L());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var X=se(g.expirationTime<=H);if(H=n.unstable_now(),typeof X=="function"){g.callback=X,w(H),q=!0;break t}g===t(u)&&i(u),w(H)}else i(u);g=t(u)}if(g!==null)q=!0;else{var ae=t(d);ae!==null&&ne(R,ae.startTime-H),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?F():N=!1}}}var F;if(typeof B=="function")F=function(){B(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=M,F=function(){J.postMessage(null)}}else F=function(){A(M,0)};function ie(){N||(N=!0,F())}function ne(H,q){O=A(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,ie())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return H()}finally{y=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return q()}finally{y=$}},n.unstable_scheduleCallback=function(H,q,$){var se=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,H={id:m++,callback:q,priorityLevel:H,startTime:$,expirationTime:X,sortIndex:-1},$>se?(H.sortIndex=$,e(d,H),t(u)===null&&H===t(d)&&(E?(S(O),O=-1):E=!0,ne(R,$-se))):(H.sortIndex=X,e(u,H),x||b||(x=!0,ie())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var q=y;return function(){var $=y;y=q;try{return H.apply(this,arguments)}finally{y=$}}}}(UT)),UT}var bL;function cue(){return bL||(bL=1,PT.exports=lue()),PT.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL;function uue(){return xL||(xL=1,function(n){n.exports=function(e){function t(f,h,_,C){return new xy(f,h,_,C)}function i(){}function s(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return f===null||typeof f!="object"?null:(f=rl&&f[rl]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===My?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Jl:return"Fragment";case ha:return"Portal";case Ip:return"Profiler";case zd:return"StrictMode";case Op:return"Suspense";case sf:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Pa:return(f.displayName||"Context")+".Provider";case Ay:return(f._context.displayName||"Context")+".Consumer";case Gd:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Np:return h=f.displayName||null,h!==null?h:a(f.type)||"Memo";case pa:h=f._payload,f=f._init;try{return a(f(h))}catch{}}return null}function l(f){if(mo===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);mo=h&&h[1]||"",al=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+f+al}function u(f,h){if(!f||Fc)return"";Fc=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(h){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(rn){var Rt=rn}Reflect.construct(f,[],Ct)}else{try{Ct.call()}catch(rn){Rt=rn}f.call(Ct.prototype)}}else{try{throw Error()}catch(rn){Rt=rn}(Ct=f())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(rn){if(rn&&Rt&&typeof rn.stack=="string")return[rn.stack,Rt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=C.DetermineComponentFrameRoot(),te=z[0],fe=z[1];if(te&&fe){var we=te.split(`
`),$e=fe.split(`
`);for(I=C=0;C<we.length&&!we[C].includes("DetermineComponentFrameRoot");)C++;for(;I<$e.length&&!$e[I].includes("DetermineComponentFrameRoot");)I++;if(C===we.length||I===$e.length)for(C=we.length-1,I=$e.length-1;1<=C&&0<=I&&we[C]!==$e[I];)I--;for(;1<=C&&0<=I;C--,I--)if(we[C]!==$e[I]){if(C!==1||I!==1)do if(C--,I--,0>I||we[C]!==$e[I]){var dt=`
`+we[C].replace(" at new "," at ");return f.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",f.displayName)),dt}while(1<=C&&0<=I);break}}}finally{Fc=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?l(_):""}function d(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var h="";do h+=d(f),f=f.return;while(f);return h}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function g(f){var h=f,_=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(_=h.return),f=h.return;while(f)}return h.tag===3?_:null}function y(f){if(g(f)!==f)throw Error(s(188))}function b(f){var h=f.alternate;if(!h){if(h=g(f),h===null)throw Error(s(188));return h!==f?null:f}for(var _=f,C=h;;){var I=_.return;if(I===null)break;var z=I.alternate;if(z===null){if(C=I.return,C!==null){_=C;continue}break}if(I.child===z.child){for(z=I.child;z;){if(z===_)return y(I),f;if(z===C)return y(I),h;z=z.sibling}throw Error(s(188))}if(_.return!==C.return)_=I,C=z;else{for(var te=!1,fe=I.child;fe;){if(fe===_){te=!0,_=I,C=z;break}if(fe===C){te=!0,C=I,_=z;break}fe=fe.sibling}if(!te){for(fe=z.child;fe;){if(fe===_){te=!0,_=z,C=I;break}if(fe===C){te=!0,C=z,_=I;break}fe=fe.sibling}if(!te)throw Error(s(189))}}if(_.alternate!==C)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?f:h}function x(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=x(f),h!==null)return h;f=f.sibling}return null}function E(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(h=E(f),h!==null))return h;f=f.sibling}return null}function A(f){return{current:f}}function S(f){0>ul||(f.current=Wi[ul],Wi[ul]=null,ul--)}function B(f,h){ul++,Wi[ul]=f.current,f.current=h}function w(f){return f>>>=0,f===0?32:31-(Lb(f)/Pb|0)|0}function R(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function N(f,h){var _=f.pendingLanes;if(_===0)return 0;var C=0,I=f.suspendedLanes,z=f.pingedLanes,te=f.warmLanes;f=f.finishedLanes!==0;var fe=_&134217727;return fe!==0?(_=fe&~I,_!==0?C=R(_):(z&=fe,z!==0?C=R(z):f||(te=fe&~te,te!==0&&(C=R(te))))):(fe=_&~I,fe!==0?C=R(fe):z!==0?C=R(z):f||(te=_&~te,te!==0&&(C=R(te)))),C===0?0:h!==0&&h!==C&&(h&I)===0&&(I=C&-C,te=h&-h,I>=te||I===32&&(te&4194176)!==0)?h:C}function O(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function U(f,h){switch(f){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var f=yo;return yo<<=1,(yo&4194176)===0&&(yo=128),f}function L(){var f=Gc;return Gc<<=1,(Gc&62914560)===0&&(Gc=4194304),f}function M(f){for(var h=[],_=0;31>_;_++)h.push(f);return h}function F(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function G(f,h,_,C,I,z){var te=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var fe=f.entanglements,we=f.expirationTimes,$e=f.hiddenUpdates;for(_=te&~_;0<_;){var dt=31-fr(_),Ct=1<<dt;fe[dt]=0,we[dt]=-1;var Rt=$e[dt];if(Rt!==null)for($e[dt]=null,dt=0;dt<Rt.length;dt++){var rn=Rt[dt];rn!==null&&(rn.lane&=-536870913)}_&=~Ct}C!==0&&J(f,C,0),z!==0&&I===0&&f.tag!==0&&(f.suspendedLanes|=z&~(te&~h))}function J(f,h,_){f.pendingLanes|=h,f.suspendedLanes&=~h;var C=31-fr(h);f.entangledLanes|=h,f.entanglements[C]=f.entanglements[C]|1073741824|_&4194218}function ie(f,h){var _=f.entangledLanes|=h;for(f=f.entanglements;_;){var C=31-fr(_),I=1<<C;I&h|f[C]&h&&(f[C]|=h),_&=~I}}function ne(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function H(f){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Xi,f,void 0,(f.current.flags&128)===128)}catch{}}function q(f){if(typeof zb=="function"&&Es(f),Cr&&typeof Cr.setStrictMode=="function")try{Cr.setStrictMode(Xi,f)}catch{}}function $(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}function se(f,h){if(typeof f=="object"&&f!==null){var _=jy.get(f);return _!==void 0?_:(h={value:f,source:h,stack:m(h)},jy.set(f,h),h)}return{value:f,source:h,stack:m(h)}}function X(f,h){kc[Vc++]=hf,kc[Vc++]=jc,jc=f,hf=h}function ae(f,h,_){Xr[Yr++]=za,Xr[Yr++]=Ha,Xr[Yr++]=ic,ic=f;var C=za;f=Ha;var I=32-fr(C)-1;C&=~(1<<I),_+=1;var z=32-fr(h)+I;if(30<z){var te=I-I%5;z=(C&(1<<te)-1).toString(32),C>>=te,I-=te,za=1<<32-fr(h)+I|_<<I|C,Ha=z+f}else za=1<<z|_<<I|C,Ha=f}function _e(f){f.return!==null&&(X(f,1),ae(f,1,0))}function Ae(f){for(;f===jc;)jc=kc[--Vc],kc[Vc]=null,hf=kc[--Vc],kc[Vc]=null;for(;f===ic;)ic=Xr[--Yr],Xr[Yr]=null,Ha=Xr[--Yr],Xr[Yr]=null,za=Xr[--Yr],Xr[Yr]=null}function ce(f,h){B(vo,h),B(pf,f),B(cs,null),f=eb(h),S(cs),B(cs,f)}function be(){S(cs),S(pf),S(vo)}function Ue(f){f.memoizedState!==null&&B(Wc,f);var h=cs.current,_=lf(h,f.type);h!==_&&(B(pf,f),B(cs,_))}function Qe(f){pf.current===f&&(S(cs),S(pf)),Wc.current===f&&(S(Wc),cr?Ua._currentValue=Zl:Ua._currentValue2=Zl)}function xe(f){var h=Error(s(418,""));throw Se(se(h,f)),Jd}function j(f,h){if(!Us)throw Error(s(175));Mb(f.stateNode,f.type,f.memoizedProps,h,f)||xe(f)}function Q(f){for(Fs=f.return;Fs;)switch(Fs.tag){case 3:case 27:Ms=!0;return;case 5:case 13:Ms=!1;return;default:Fs=Fs.return}}function oe(f){if(!Us||f!==Fs)return!1;if(!Bn)return Q(f),Bn=!0,!1;var h=!1;if(ri?f.tag!==3&&f.tag!==27&&(f.tag!==5||Vp(f.type)&&!on(f.type,f.memoizedProps))&&(h=!0):f.tag!==3&&(f.tag!==5||Vp(f.type)&&!on(f.type,f.memoizedProps))&&(h=!0),h&&zs&&xe(f),Q(f),f.tag===13){if(!Us)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));zs=Cb(f)}else zs=Fs?Hy(f.stateNode):null;return!0}function Ce(){Us&&(zs=Fs=null,Bn=!1)}function Se(f){ya===null?ya=[f]:ya.push(f)}function W(){for(var f=Xc,h=Ga=Xc=0;h<f;){var _=va[h];va[h++]=null;var C=va[h];va[h++]=null;var I=va[h];va[h++]=null;var z=va[h];if(va[h++]=null,C!==null&&I!==null){var te=C.pending;te===null?I.next=I:(I.next=te.next,te.next=I),C.pending=I}z!==0&&ve(_,I,z)}}function ze(f,h,_,C){va[Xc++]=f,va[Xc++]=h,va[Xc++]=_,va[Xc++]=C,Ga|=C,f.lanes|=C,f=f.alternate,f!==null&&(f.lanes|=C)}function De(f,h,_,C){return ze(f,h,_,C),at(f)}function Ge(f,h){return ze(f,null,null,h),at(f)}function ve(f,h,_){f.lanes|=_;var C=f.alternate;C!==null&&(C.lanes|=_);for(var I=!1,z=f.return;z!==null;)z.childLanes|=_,C=z.alternate,C!==null&&(C.childLanes|=_),z.tag===22&&(f=z.stateNode,f===null||f._visibility&1||(I=!0)),f=z,z=z.return;I&&h!==null&&f.tag===3&&(z=f.stateNode,I=31-fr(_),z=z.hiddenUpdates,f=z[I],f===null?z[I]=[h]:f.push(h),h.lane=_|536870912)}function at(f){if(50<Af)throw Af=0,sm=null,Error(s(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}function Te(f){f!==fl&&f.next===null&&(fl===null?Qd=fl=f:fl=fl.next=f),di=!0,Yc||(Yc=!0,He(k))}function Z(f,h){if(!Wy&&di){Wy=!0;do for(var _=!1,C=Qd;C!==null;){if(f!==0){var I=C.pendingLanes;if(I===0)var z=0;else{var te=C.suspendedLanes,fe=C.pingedLanes;z=(1<<31-fr(42|f)+1)-1,z&=I&~(te&~fe),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(_=!0,Ke(C,z))}else z=xn,z=N(C,C===Wn?z:0),(z&3)===0||O(C,z)||(_=!0,Ke(C,z));C=C.next}while(_);Wy=!1}}function k(){di=Yc=!1;var f=0;mf!==0&&(sb()&&(f=mf),mf=0);for(var h=ga(),_=null,C=Qd;C!==null;){var I=C.next,z=me(C,h);z===0?(C.next=null,_===null?Qd=I:_.next=I,I===null&&(fl=_)):(_=C,(f!==0||(z&3)!==0)&&(di=!0)),C=I}Z(f)}function me(f,h){for(var _=f.suspendedLanes,C=f.pingedLanes,I=f.expirationTimes,z=f.pendingLanes&-62914561;0<z;){var te=31-fr(z),fe=1<<te,we=I[te];we===-1?((fe&_)===0||(fe&C)!==0)&&(I[te]=U(fe,h)):we<=h&&(f.expiredLanes|=fe),z&=~fe}if(h=Wn,_=xn,_=N(f,f===h?_:0),C=f.callbackNode,_===0||f===h&&ti===2||f.cancelPendingCommit!==null)return C!==null&&C!==null&&Yp(C),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||O(f,_)){if(h=_&-_,h===f.callbackPriority)return h;switch(C!==null&&Yp(C),ne(_)){case 2:case 8:_=Fb;break;case 32:_=Jp;break;case 268435456:_=BE;break;default:_=Jp}return C=Be.bind(null,f),_=Kd(_,C),f.callbackPriority=h,f.callbackNode=_,h}return C!==null&&C!==null&&Yp(C),f.callbackPriority=2,f.callbackNode=null,2}function Be(f,h){var _=f.callbackNode;if(La()&&f.callbackNode!==_)return null;var C=xn;return C=N(f,f===Wn?C:0),C===0?null:(Wl(f,C,h),me(f,ga()),f.callbackNode!=null&&f.callbackNode===_?Be.bind(null,f):null)}function Ke(f,h){if(La())return null;Wl(f,h,!0)}function He(f){By?cl(function(){(Nn&6)!==0?Kd(Kp,f):f()}):Kd(Kp,f)}function ct(){return mf===0&&(mf=P()),mf}function rt(f,h){if(gf===null){var _=gf=[];qc=0,qr=ct(),Kc={status:"pending",value:void 0,then:function(C){_.push(C)}}}return qc++,h.then(_t,_t),h}function _t(){if(--qc===0&&gf!==null){Kc!==null&&(Kc.status="fulfilled");var f=gf;gf=null,qr=0,Kc=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function bt(f,h){var _=[],C={status:"pending",value:null,reason:null,then:function(I){_.push(I)}};return f.then(function(){C.status="fulfilled",C.value=h;for(var I=0;I<_.length;I++)(0,_[I])(h)},function(I){for(C.status="rejected",C.reason=I,I=0;I<_.length;I++)(0,_[I])(void 0)}),C}function Ve(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ut(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function xt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function St(f,h,_){var C=f.updateQueue;if(C===null)return null;if(C=C.shared,(Nn&2)!==0){var I=C.pending;return I===null?h.next=h:(h.next=I.next,I.next=h),C.pending=h,h=at(f),ve(f,null,_),h}return ze(f,C,h,_),at(f)}function Ye(f,h,_){if(h=h.updateQueue,h!==null&&(h=h.shared,(_&4194176)!==0)){var C=h.lanes;C&=f.pendingLanes,_|=C,h.lanes=_,ie(f,_)}}function le(f,h){var _=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,_===C)){var I=null,z=null;if(_=_.firstBaseUpdate,_!==null){do{var te={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};z===null?I=z=te:z=z.next=te,_=_.next}while(_!==null);z===null?I=z=h:z=z.next=h}else I=z=h;_={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:z,shared:C.shared,callbacks:C.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=h:f.next=h,_.lastBaseUpdate=h}function Oe(){if(Jc){var f=Kc;if(f!==null)throw f}}function ft(f,h,_,C){Jc=!1;var I=f.updateQueue;dl=!1;var z=I.firstBaseUpdate,te=I.lastBaseUpdate,fe=I.shared.pending;if(fe!==null){I.shared.pending=null;var we=fe,$e=we.next;we.next=null,te===null?z=$e:te.next=$e,te=we;var dt=f.alternate;dt!==null&&(dt=dt.updateQueue,fe=dt.lastBaseUpdate,fe!==te&&(fe===null?dt.firstBaseUpdate=$e:fe.next=$e,dt.lastBaseUpdate=we))}if(z!==null){var Ct=I.baseState;te=0,dt=$e=we=null,fe=z;do{var Rt=fe.lane&-536870913,rn=Rt!==fe.lane;if(rn?(xn&Rt)===Rt:(C&Rt)===Rt){Rt!==0&&Rt===qr&&(Jc=!0),dt!==null&&(dt=dt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var na=f,dc=fe;Rt=h;var hc=_;switch(dc.tag){case 1:if(na=dc.payload,typeof na=="function"){Ct=na.call(hc,Ct,Rt);break e}Ct=na;break e;case 3:na.flags=na.flags&-65537|128;case 0:if(na=dc.payload,Rt=typeof na=="function"?na.call(hc,Ct,Rt):na,Rt==null)break e;Ct=Dp({},Ct,Rt);break e;case 2:dl=!0}}Rt=fe.callback,Rt!==null&&(f.flags|=64,rn&&(f.flags|=8192),rn=I.callbacks,rn===null?I.callbacks=[Rt]:rn.push(Rt))}else rn={lane:Rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},dt===null?($e=dt=rn,we=Ct):dt=dt.next=rn,te|=Rt;if(fe=fe.next,fe===null){if(fe=I.shared.pending,fe===null)break;rn=fe,fe=rn.next,rn.next=null,I.lastBaseUpdate=rn,I.shared.pending=null}}while(!0);dt===null&&(we=Ct),I.baseState=we,I.firstBaseUpdate=$e,I.lastBaseUpdate=dt,z===null&&(I.shared.lanes=0),ea|=te,f.lanes=te,f.memoizedState=Ct}}function de(f,h){if(typeof f!="function")throw Error(s(191,f));f.call(h)}function ot(f,h){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)de(_[f],h)}function Le(f,h){if(wr(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var _=Object.keys(f),C=Object.keys(h);if(_.length!==C.length)return!1;for(C=0;C<_.length;C++){var I=_[C];if(!_o.call(h,I)||!wr(f[I],h[I]))return!1}return!0}function Je(f){return f=f.status,f==="fulfilled"||f==="rejected"}function ht(){}function pt(f,h,_){switch(_=f[_],_===void 0?f.push(h):_!==h&&(h.then(ht,ht),h=_),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===yf?Error(s(483)):f;default:if(typeof h.status=="string")h.then(ht,ht);else{if(f=Wn,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=h,f.status="pending",f.then(function(C){if(h.status==="pending"){var I=h;I.status="fulfilled",I.value=C}},function(C){if(h.status==="pending"){var I=h;I.status="rejected",I.reason=C}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===yf?Error(s(483)):f}throw sc=h,yf}}function Dt(){if(sc===null)throw Error(s(459));var f=sc;return sc=null,f}function tn(f){var h=ac;return ac+=1,rc===null&&(rc=[]),pt(rc,f,h)}function En(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function Wt(f,h){throw h.$$typeof===AE?Error(s(525)):(f=Object.prototype.toString.call(h),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Mi(f){var h=f._init;return h(f._payload)}function Zn(f){function h(Fe,ge){if(f){var We=Fe.deletions;We===null?(Fe.deletions=[ge],Fe.flags|=16):We.push(ge)}}function _(Fe,ge){if(!f)return null;for(;ge!==null;)h(Fe,ge),ge=ge.sibling;return null}function C(Fe){for(var ge=new Map;Fe!==null;)Fe.key!==null?ge.set(Fe.key,Fe):ge.set(Fe.index,Fe),Fe=Fe.sibling;return ge}function I(Fe,ge){return Fe=da(Fe,ge),Fe.index=0,Fe.sibling=null,Fe}function z(Fe,ge,We){return Fe.index=We,f?(We=Fe.alternate,We!==null?(We=We.index,We<ge?(Fe.flags|=33554434,ge):We):(Fe.flags|=33554434,ge)):(Fe.flags|=1048576,ge)}function te(Fe){return f&&Fe.alternate===null&&(Fe.flags|=33554434),Fe}function fe(Fe,ge,We,lt){return ge===null||ge.tag!==6?(ge=Rp(We,Fe.mode,lt),ge.return=Fe,ge):(ge=I(ge,We),ge.return=Fe,ge)}function we(Fe,ge,We,lt){var Pt=We.type;return Pt===Jl?dt(Fe,ge,We.props.children,lt,We.key):ge!==null&&(ge.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===pa&&Mi(Pt)===ge.type)?(ge=I(ge,We.props),En(ge,We),ge.return=Fe,ge):(ge=po(We.type,We.key,We.props,null,Fe.mode,lt),En(ge,We),ge.return=Fe,ge)}function $e(Fe,ge,We,lt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==We.containerInfo||ge.stateNode.implementation!==We.implementation?(ge=Sy(We,Fe.mode,lt),ge.return=Fe,ge):(ge=I(ge,We.children||[]),ge.return=Fe,ge)}function dt(Fe,ge,We,lt,Pt){return ge===null||ge.tag!==7?(ge=Li(We,Fe.mode,lt,Pt),ge.return=Fe,ge):(ge=I(ge,We),ge.return=Fe,ge)}function Ct(Fe,ge,We){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Rp(""+ge,Fe.mode,We),ge.return=Fe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Fd:return We=po(ge.type,ge.key,ge.props,null,Fe.mode,We),En(We,ge),We.return=Fe,We;case ha:return ge=Sy(ge,Fe.mode,We),ge.return=Fe,ge;case pa:var lt=ge._init;return ge=lt(ge._payload),Ct(Fe,ge,We)}if(rf(ge)||r(ge))return ge=Li(ge,Fe.mode,We,null),ge.return=Fe,ge;if(typeof ge.then=="function")return Ct(Fe,tn(ge),We);if(ge.$$typeof===Pa)return Ct(Fe,Ad(Fe,ge),We);Wt(Fe,ge)}return null}function Rt(Fe,ge,We,lt){var Pt=ge!==null?ge.key:null;if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Pt!==null?null:fe(Fe,ge,""+We,lt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case Fd:return We.key===Pt?we(Fe,ge,We,lt):null;case ha:return We.key===Pt?$e(Fe,ge,We,lt):null;case pa:return Pt=We._init,We=Pt(We._payload),Rt(Fe,ge,We,lt)}if(rf(We)||r(We))return Pt!==null?null:dt(Fe,ge,We,lt,null);if(typeof We.then=="function")return Rt(Fe,ge,tn(We),lt);if(We.$$typeof===Pa)return Rt(Fe,ge,Ad(Fe,We),lt);Wt(Fe,We)}return null}function rn(Fe,ge,We,lt,Pt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Fe=Fe.get(We)||null,fe(ge,Fe,""+lt,Pt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case Fd:return Fe=Fe.get(lt.key===null?We:lt.key)||null,we(ge,Fe,lt,Pt);case ha:return Fe=Fe.get(lt.key===null?We:lt.key)||null,$e(ge,Fe,lt,Pt);case pa:var xi=lt._init;return lt=xi(lt._payload),rn(Fe,ge,We,lt,Pt)}if(rf(lt)||r(lt))return Fe=Fe.get(We)||null,dt(ge,Fe,lt,Pt,null);if(typeof lt.then=="function")return rn(Fe,ge,We,tn(lt),Pt);if(lt.$$typeof===Pa)return rn(Fe,ge,We,Ad(ge,lt),Pt);Wt(ge,lt)}return null}function na(Fe,ge,We,lt){for(var Pt=null,xi=null,Kt=ge,Fn=ge=0,Yi=null;Kt!==null&&Fn<We.length;Fn++){Kt.index>Fn?(Yi=Kt,Kt=null):Yi=Kt.sibling;var _n=Rt(Fe,Kt,We[Fn],lt);if(_n===null){Kt===null&&(Kt=Yi);break}f&&Kt&&_n.alternate===null&&h(Fe,Kt),ge=z(_n,ge,Fn),xi===null?Pt=_n:xi.sibling=_n,xi=_n,Kt=Yi}if(Fn===We.length)return _(Fe,Kt),Bn&&X(Fe,Fn),Pt;if(Kt===null){for(;Fn<We.length;Fn++)Kt=Ct(Fe,We[Fn],lt),Kt!==null&&(ge=z(Kt,ge,Fn),xi===null?Pt=Kt:xi.sibling=Kt,xi=Kt);return Bn&&X(Fe,Fn),Pt}for(Kt=C(Kt);Fn<We.length;Fn++)Yi=rn(Kt,Fe,Fn,We[Fn],lt),Yi!==null&&(f&&Yi.alternate!==null&&Kt.delete(Yi.key===null?Fn:Yi.key),ge=z(Yi,ge,Fn),xi===null?Pt=Yi:xi.sibling=Yi,xi=Yi);return f&&Kt.forEach(function(Co){return h(Fe,Co)}),Bn&&X(Fe,Fn),Pt}function dc(Fe,ge,We,lt){if(We==null)throw Error(s(151));for(var Pt=null,xi=null,Kt=ge,Fn=ge=0,Yi=null,_n=We.next();Kt!==null&&!_n.done;Fn++,_n=We.next()){Kt.index>Fn?(Yi=Kt,Kt=null):Yi=Kt.sibling;var Co=Rt(Fe,Kt,_n.value,lt);if(Co===null){Kt===null&&(Kt=Yi);break}f&&Kt&&Co.alternate===null&&h(Fe,Kt),ge=z(Co,ge,Fn),xi===null?Pt=Co:xi.sibling=Co,xi=Co,Kt=Yi}if(_n.done)return _(Fe,Kt),Bn&&X(Fe,Fn),Pt;if(Kt===null){for(;!_n.done;Fn++,_n=We.next())_n=Ct(Fe,_n.value,lt),_n!==null&&(ge=z(_n,ge,Fn),xi===null?Pt=_n:xi.sibling=_n,xi=_n);return Bn&&X(Fe,Fn),Pt}for(Kt=C(Kt);!_n.done;Fn++,_n=We.next())_n=rn(Kt,Fe,Fn,_n.value,lt),_n!==null&&(f&&_n.alternate!==null&&Kt.delete(_n.key===null?Fn:_n.key),ge=z(_n,ge,Fn),xi===null?Pt=_n:xi.sibling=_n,xi=_n);return f&&Kt.forEach(function(rm){return h(Fe,rm)}),Bn&&X(Fe,Fn),Pt}function hc(Fe,ge,We,lt){if(typeof We=="object"&&We!==null&&We.type===Jl&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case Fd:e:{for(var Pt=We.key;ge!==null;){if(ge.key===Pt){if(Pt=We.type,Pt===Jl){if(ge.tag===7){_(Fe,ge.sibling),lt=I(ge,We.props.children),lt.return=Fe,Fe=lt;break e}}else if(ge.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===pa&&Mi(Pt)===ge.type){_(Fe,ge.sibling),lt=I(ge,We.props),En(lt,We),lt.return=Fe,Fe=lt;break e}_(Fe,ge);break}else h(Fe,ge);ge=ge.sibling}We.type===Jl?(lt=Li(We.props.children,Fe.mode,lt,We.key),lt.return=Fe,Fe=lt):(lt=po(We.type,We.key,We.props,null,Fe.mode,lt),En(lt,We),lt.return=Fe,Fe=lt)}return te(Fe);case ha:e:{for(Pt=We.key;ge!==null;){if(ge.key===Pt)if(ge.tag===4&&ge.stateNode.containerInfo===We.containerInfo&&ge.stateNode.implementation===We.implementation){_(Fe,ge.sibling),lt=I(ge,We.children||[]),lt.return=Fe,Fe=lt;break e}else{_(Fe,ge);break}else h(Fe,ge);ge=ge.sibling}lt=Sy(We,Fe.mode,lt),lt.return=Fe,Fe=lt}return te(Fe);case pa:return Pt=We._init,We=Pt(We._payload),hc(Fe,ge,We,lt)}if(rf(We))return na(Fe,ge,We,lt);if(r(We)){if(Pt=r(We),typeof Pt!="function")throw Error(s(150));return We=Pt.call(We),dc(Fe,ge,We,lt)}if(typeof We.then=="function")return hc(Fe,ge,tn(We),lt);if(We.$$typeof===Pa)return hc(Fe,ge,Ad(Fe,We),lt);Wt(Fe,We)}return typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint"?(We=""+We,ge!==null&&ge.tag===6?(_(Fe,ge.sibling),lt=I(ge,We),lt.return=Fe,Fe=lt):(_(Fe,ge),lt=Rp(We,Fe.mode,lt),lt.return=Fe,Fe=lt),te(Fe)):_(Fe,ge)}return function(Fe,ge,We,lt){try{ac=0;var Pt=hc(Fe,ge,We,lt);return rc=null,Pt}catch(Kt){if(Kt===yf)throw Kt;var xi=t(29,Kt,null,Fe.mode);return xi.lanes=lt,xi.return=Fe,xi}finally{}}}function $n(f,h){f=Js,B(vf,f),B(hi,h),Js=f|h.baseLanes}function _i(){B(vf,Js),B(hi,hi.current)}function Ni(){Js=vf.current,S(hi),S(vf)}function ys(f){var h=f.alternate;B(us,us.current&1),B(Kr,f),ai===null&&(h===null||hi.current!==null||h.memoizedState!==null)&&(ai=f)}function Xo(f){if(f.tag===22){if(B(us,us.current),B(Kr,f),ai===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(ai=f)}}else Xs()}function Xs(){B(us,us.current),B(Kr,Kr.current)}function vs(f){S(Kr),ai===f&&(ai=null),S(us)}function _s(f){for(var h=f;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Hp(_)||Gp(_)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Qt(){throw Error(s(321))}function kn(f,h){if(h===null)return!1;for(var _=0;_<h.length&&_<f.length;_++)if(!wr(f[_],h[_]))return!1;return!0}function Qi(f,h,_,C,I,z){return hl=z,dn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,qt.H=f===null||f.memoizedState===null?cc:dr,lc=!1,z=_(C,I),lc=!1,Qc&&(z=br(h,_,C,I)),_r(f),z}function _r(f){qt.H=Pi;var h=Ht!==null&&Ht.next!==null;if(hl=0,On=Ht=dn=null,_a=!1,Zc=0,Ts=null,h)throw Error(s(300));f===null||oi||(f=f.dependencies,f!==null&&Sd(f)&&(oi=!0))}function br(f,h,_,C){dn=f;var I=0;do{if(Qc&&(Ts=null),Zc=0,Qc=!1,25<=I)throw Error(s(301));if(I+=1,On=Ht=null,f.updateQueue!=null){var z=f.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}qt.H=Jr,z=h(_,C)}while(Qc);return z}function Xe(){var f=qt.H,h=f.useState()[0];return h=typeof h.then=="function"?Re(h):h,f=f.useState()[0],(Ht!==null?Ht.memoizedState:null)!==f&&(dn.flags|=1024),h}function qe(){var f=Qp!==0;return Qp=0,f}function Mt(f,h,_){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~_}function kt(f){if(_a){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}_a=!1}hl=0,On=Ht=dn=null,Qc=!1,Zc=Qp=0,Ts=null}function Y(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?dn.memoizedState=On=f:On=On.next=f,On}function pe(){if(Ht===null){var f=dn.alternate;f=f!==null?f.memoizedState:null}else f=Ht.next;var h=On===null?dn.memoizedState:On.next;if(h!==null)On=h,Ht=f;else{if(f===null)throw dn.alternate===null?Error(s(467)):Error(s(310));Ht=f,f={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},On===null?dn.memoizedState=On=f:On=On.next=f}return On}function Re(f){var h=Zc;return Zc+=1,Ts===null&&(Ts=[]),f=pt(Ts,f,h),h=dn,(On===null?h.memoizedState:On.next)===null&&(h=h.alternate,qt.H=h===null||h.memoizedState===null?cc:dr),f}function Ne(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Re(f);if(f.$$typeof===Pa)return Os(f)}throw Error(s(438,String(f)))}function Ee(f){var h=null,_=dn.updateQueue;if(_!==null&&(h=_.memoCache),h==null){var C=dn.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(h={data:C.data.map(function(I){return I.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),_===null&&(_=Zp(),dn.updateQueue=_),_.memoCache=h,_=h.data[h.index],_===void 0)for(_=h.data[h.index]=Array(f),C=0;C<f;C++)_[C]=$_;return h.index++,_}function st(f,h){return typeof h=="function"?h(f):h}function mt(f){var h=pe();return gt(h,Ht,f)}function gt(f,h,_){var C=f.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=_;var I=f.baseQueue,z=C.pending;if(z!==null){if(I!==null){var te=I.next;I.next=z.next,z.next=te}h.baseQueue=I=z,C.pending=null}if(z=f.baseState,I===null)f.memoizedState=z;else{h=I.next;var fe=te=null,we=null,$e=h,dt=!1;do{var Ct=$e.lane&-536870913;if(Ct!==$e.lane?(xn&Ct)===Ct:(hl&Ct)===Ct){var Rt=$e.revertLane;if(Rt===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),Ct===qr&&(dt=!0);else if((hl&Rt)===Rt){$e=$e.next,Rt===qr&&(dt=!0);continue}else Ct={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},we===null?(fe=we=Ct,te=z):we=we.next=Ct,dn.lanes|=Rt,ea|=Rt;Ct=$e.action,lc&&_(z,Ct),z=$e.hasEagerState?$e.eagerState:_(z,Ct)}else Rt={lane:Ct,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},we===null?(fe=we=Rt,te=z):we=we.next=Rt,dn.lanes|=Ct,ea|=Ct;$e=$e.next}while($e!==null&&$e!==h);if(we===null?te=z:we.next=fe,!wr(z,f.memoizedState)&&(oi=!0,dt&&(_=Kc,_!==null)))throw _;f.memoizedState=z,f.baseState=te,f.baseQueue=we,C.lastRenderedState=z}return I===null&&(C.lanes=0),[f.memoizedState,C.dispatch]}function Tt(f){var h=pe(),_=h.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=f;var C=_.dispatch,I=_.pending,z=h.memoizedState;if(I!==null){_.pending=null;var te=I=I.next;do z=f(z,te.action),te=te.next;while(te!==I);wr(z,h.memoizedState)||(oi=!0),h.memoizedState=z,h.baseQueue===null&&(h.baseState=z),_.lastRenderedState=z}return[z,C]}function yt(f,h,_){var C=dn,I=pe(),z=Bn;if(z){if(_===void 0)throw Error(s(407));_=_()}else _=h();var te=!wr((Ht||I).memoizedState,_);if(te&&(I.memoizedState=_,oi=!0),I=I.queue,Yg(nn.bind(null,C,I,f),[f]),I.getSnapshot!==h||te||On!==null&&On.memoizedState.tag&1){if(C.flags|=2048,rr(9,It.bind(null,C,I,_,h),{destroy:void 0},null),Wn===null)throw Error(s(349));z||(hl&60)!==0||Ot(C,h,_)}return _}function Ot(f,h,_){f.flags|=16384,f={getSnapshot:h,value:_},h=dn.updateQueue,h===null?(h=Zp(),dn.updateQueue=h,h.stores=[f]):(_=h.stores,_===null?h.stores=[f]:_.push(f))}function It(f,h,_,C){h.value=_,h.getSnapshot=C,In(h)&&Ti(f)}function nn(f,h,_){return _(function(){In(h)&&Ti(f)})}function In(f){var h=f.getSnapshot;f=f.value;try{var _=h();return!wr(f,_)}catch{return!0}}function Ti(f){var h=Ge(f,2);h!==null&&As(h,f,2)}function vn(f){var h=Y();if(typeof f=="function"){var _=f;if(f=_(),lc){q(!0);try{_()}finally{q(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:f},h}function bn(f,h,_,C){return f.baseState=_,gt(f,Ht,typeof C=="function"?C:st)}function Ft(f,h,_,C,I){if(yd(f))throw Error(s(485));if(f=h.action,f!==null){var z={payload:I,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){z.listeners.push(te)}};qt.T!==null?_(!0):z.isTransition=!1,C(z),_=h.pending,_===null?(z.next=h.pending=z,Bi(h,z)):(z.next=_.next,h.pending=_.next=z)}}function Bi(f,h){var _=h.action,C=h.payload,I=f.state;if(h.isTransition){var z=qt.T,te={};qt.T=te;try{var fe=_(I,C),we=qt.S;we!==null&&we(te,fe),Rn(f,h,fe)}catch($e){oo(f,h,$e)}finally{qt.T=z}}else try{z=_(I,C),Rn(f,h,z)}catch($e){oo(f,h,$e)}}function Rn(f,h,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(C){Bs(f,h,C)},function(C){return oo(f,h,C)}):Bs(f,h,_)}function Bs(f,h,_){h.status="fulfilled",h.value=_,si(h),f.state=_,h=f.pending,h!==null&&(_=h.next,_===h?f.pending=null:(_=_.next,h.next=_,Bi(f,_)))}function oo(f,h,_){var C=f.pending;if(f.pending=null,C!==null){C=C.next;do h.status="rejected",h.reason=_,si(h),h=h.next;while(h!==C)}f.action=null}function si(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function lo(f,h){return h}function ei(f,h){if(Bn){var _=Wn.formState;if(_!==null){e:{var C=dn;if(Bn){if(zs){var I=zy(zs,Ms);if(I){zs=Hy(I),C=xb(I);break e}}xe(C)}C=!1}C&&(h=_[0])}}_=Y(),_.memoizedState=_.baseState=h,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h},_.queue=C,_=Qg.bind(null,dn,C),C.dispatch=_,C=vn(!1);var z=Hu.bind(null,dn,!1,C.queue);return C=Y(),I={state:h,dispatch:null,action:f,pending:null},C.queue=I,_=Ft.bind(null,dn,I,z,_),I.dispatch=_,C.memoizedState=f,[h,_,!1]}function Ds(f){var h=pe();return Zi(h,Ht,f)}function Zi(f,h,_){h=gt(f,h,lo)[0],f=mt(st)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Re(h):h;var C=pe(),I=C.queue,z=I.dispatch;return _!==C.memoizedState&&(dn.flags|=2048,rr(9,bs.bind(null,I,_),{destroy:void 0},null)),[h,z,f]}function bs(f,h){f.action=h}function xs(f){var h=pe(),_=Ht;if(_!==null)return Zi(h,_,f);pe(),h=h.memoizedState,_=pe();var C=_.queue.dispatch;return _.memoizedState=f,[h,C,!1]}function rr(f,h,_,C){return f={tag:f,create:h,inst:_,deps:C,next:null},h=dn.updateQueue,h===null&&(h=Zp(),dn.updateQueue=h),_=h.lastEffect,_===null?h.lastEffect=f.next=f:(C=_.next,_.next=f,f.next=C,h.lastEffect=f),f}function co(){return pe().memoizedState}function dd(f,h,_,C){var I=Y();dn.flags|=f,I.memoizedState=rr(1|h,_,{destroy:void 0},C===void 0?null:C)}function hd(f,h,_,C){var I=pe();C=C===void 0?null:C;var z=I.memoizedState.inst;Ht!==null&&C!==null&&kn(C,Ht.memoizedState.deps)?I.memoizedState=rr(h,_,z,C):(dn.flags|=f,I.memoizedState=rr(1|h,_,z,C))}function cp(f,h){dd(8390656,8,f,h)}function Yg(f,h){hd(2048,8,f,h)}function D_(f,h){return hd(4,2,f,h)}function pd(f,h){return hd(4,4,f,h)}function up(f,h){if(typeof h=="function"){f=f();var _=h(f);return function(){typeof _=="function"?_():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function fp(f,h,_){_=_!=null?_.concat([f]):null,hd(4,4,up.bind(null,h,f),_)}function Ll(){}function Nc(f,h){var _=pe();h=h===void 0?null:h;var C=_.memoizedState;return h!==null&&kn(h,C[1])?C[0]:(_.memoizedState=[f,h],f)}function qg(f,h){var _=pe();h=h===void 0?null:h;var C=_.memoizedState;if(h!==null&&kn(h,C[1]))return C[0];if(C=f(),lc){q(!0);try{f()}finally{q(!1)}}return _.memoizedState=[C,h],C}function md(f,h,_){return _===void 0||(hl&1073741824)!==0?f.memoizedState=h:(f.memoizedState=_,f=gy(),dn.lanes|=f,ea|=f,_)}function Kg(f,h,_,C){return wr(_,h)?_:hi.current!==null?(f=md(f,_,C),wr(f,h)||(oi=!0),f):(hl&42)===0?(oi=!0,f.memoizedState=_):(f=gy(),dn.lanes|=f,ea|=f,h)}function Fu(f,h,_,C,I){var z=ll();qs(z!==0&&8>z?z:8);var te=qt.T,fe={};qt.T=fe,Hu(f,!1,h,_);try{var we=I(),$e=qt.S;if($e!==null&&$e(fe,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var dt=bt(we,C);Pl(f,h,dt,Vi(f))}else Pl(f,h,C,Vi(f))}catch(Ct){Pl(f,h,{then:function(){},status:"rejected",reason:Ct},Vi())}finally{qs(z),qt.T=te}}function uo(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:Zl,baseState:Zl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:Zl},next:null};var _={};return h.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:_},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function gd(){return Os(Ua)}function zu(){return pe().memoizedState}function Yo(){return pe().memoizedState}function Jg(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var _=Vi();f=xt(_);var C=St(h,f,_);C!==null&&(As(C,h,_),Ye(C,h,_)),h={cache:Hl()},f.payload=h;return}h=h.return}}function dp(f,h,_){var C=Vi();_={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},yd(f)?ar(h,_):(_=De(f,h,_,C),_!==null&&(As(_,f,C),Ul(_,h,C)))}function Qg(f,h,_){var C=Vi();Pl(f,h,_,C)}function Pl(f,h,_,C){var I={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(yd(f))ar(h,I);else{var z=f.alternate;if(f.lanes===0&&(z===null||z.lanes===0)&&(z=h.lastRenderedReducer,z!==null))try{var te=h.lastRenderedState,fe=z(te,_);if(I.hasEagerState=!0,I.eagerState=fe,wr(fe,te))return ze(f,h,I,0),Wn===null&&W(),!1}catch{}finally{}if(_=De(f,h,I,C),_!==null)return As(_,f,C),Ul(_,h,C),!0}return!1}function Hu(f,h,_,C){if(C={lane:2,revertLane:ct(),action:C,hasEagerState:!1,eagerState:null,next:null},yd(f)){if(h)throw Error(s(479))}else h=De(f,_,C,2),h!==null&&As(h,f,2)}function yd(f){var h=f.alternate;return f===dn||h!==null&&h===dn}function ar(f,h){Qc=_a=!0;var _=f.pending;_===null?h.next=h:(h.next=_.next,_.next=h),f.pending=h}function Ul(f,h,_){if((_&4194176)!==0){var C=h.lanes;C&=f.pendingLanes,_|=C,h.lanes=_,ie(f,_)}}function Gu(f,h,_,C){h=f.memoizedState,_=_(C,h),_=_==null?h:Dp({},h,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}function ku(f,h,_,C,I,z,te){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,z,te):h.prototype&&h.prototype.isPureReactComponent?!Le(_,C)||!Le(I,z):!0}function I_(f,h,_,C){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,C),h.state!==f&&xo.enqueueReplaceState(h,h.state,null)}function qo(f,h){var _=h;if("ref"in h){_={};for(var C in h)C!=="ref"&&(_[C]=h[C])}if(f=f.defaultProps){_===h&&(_=Dp({},_));for(var I in f)_[I]===void 0&&(_[I]=f[I])}return _}function Vu(f,h){try{var _=f.onUncaughtError;_(h.value,{componentStack:h.stack})}catch(C){setTimeout(function(){throw C})}}function ju(f,h,_){try{var C=f.onCaughtError;C(_.value,{componentStack:_.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Wu(f,h,_){return _=xt(_),_.tag=3,_.payload={element:null},_.callback=function(){Vu(f,h)},_}function Zg(f){return f=xt(f),f.tag=3,f}function O_(f,h,_,C){var I=_.type.getDerivedStateFromError;if(typeof I=="function"){var z=C.value;f.payload=function(){return I(z)},f.callback=function(){ju(h,_,C)}}var te=_.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(f.callback=function(){ju(h,_,C),typeof I!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function _E(f,h,_,C,I){if(_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(h=_.alternate,h!==null&&xd(h,_,I,!0),_=Kr.current,_!==null){switch(_.tag){case 13:return ai===null?nl():_.alternate===null&&li===0&&(li=3),_.flags&=-257,_.flags|=65536,_.lanes=I,C===$d?_.flags|=16384:(h=_.updateQueue,h===null?_.updateQueue=new Set([C]):h.add(C),Uc(f,C,I)),!1;case 22:return _.flags|=65536,C===$d?_.flags|=16384:(h=_.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([C])},_.updateQueue=h):(_=h.retryQueue,_===null?h.retryQueue=new Set([C]):_.add(C)),Uc(f,C,I)),!1}throw Error(s(435,_.tag))}return Uc(f,C,I),nl(),!1}if(Bn)return h=Kr.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=I,C!==Jd&&(f=Error(s(422),{cause:C}),Se(se(f,_)))):(C!==Jd&&(h=Error(s(423),{cause:C}),Se(se(h,_))),f=f.current.alternate,f.flags|=65536,I&=-I,f.lanes|=I,C=se(C,_),I=Wu(f.stateNode,C,I),le(f,I),li!==4&&(li=2)),!1;var z=Error(s(520),{cause:C});if(z=se(z,_),eu===null?eu=[z]:eu.push(z),li!==4&&(li=2),h===null)return!0;C=se(C,_),_=h;do{switch(_.tag){case 3:return _.flags|=65536,f=I&-I,_.lanes|=f,f=Wu(_.stateNode,C,f),le(_,f),!1;case 1:if(h=_.type,z=_.stateNode,(_.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(uc===null||!uc.has(z))))return _.flags|=65536,I&=-I,_.lanes|=I,I=Zg(I),O_(I,f,_,C),le(_,I),!1}_=_.return}while(_!==null);return!1}function Is(f,h,_,C){h.child=f===null?bo(h,null,_,C):oc(h,f.child,_,C)}function hp(f,h,_,C,I){_=_.render;var z=h.ref;if("ref"in C){var te={};for(var fe in C)fe!=="ref"&&(te[fe]=C[fe])}else te=C;return zl(h),C=Qi(f,h,_,te,z,I),fe=qe(),f!==null&&!oi?(Mt(f,h,I),Ko(f,h,I)):(Bn&&fe&&_e(h),h.flags|=1,Is(f,h,C,I),h.child)}function N_(f,h,_,C,I){if(f===null){var z=_.type;return typeof z=="function"&&!Nd(z)&&z.defaultProps===void 0&&_.compare===null?(h.tag=15,h.type=z,L_(f,h,z,C,I)):(f=po(_.type,null,C,h,h.mode,I),f.ref=h.ref,f.return=h,h.child=f)}if(z=f.child,!iy(f,I)){var te=z.memoizedProps;if(_=_.compare,_=_!==null?_:Le,_(te,C)&&f.ref===h.ref)return Ko(f,h,I)}return h.flags|=1,f=da(z,C),f.ref=h.ref,f.return=h,h.child=f}function L_(f,h,_,C,I){if(f!==null){var z=f.memoizedProps;if(Le(z,C)&&f.ref===h.ref)if(oi=!1,h.pendingProps=C=z,iy(f,I))(f.flags&131072)!==0&&(oi=!0);else return h.lanes=f.lanes,Ko(f,h,I)}return pp(f,h,_,C,I)}function P_(f,h,_){var C=h.pendingProps,I=C.children,z=(h.stateNode._pendingVisibility&2)!==0,te=f!==null?f.memoizedState:null;if(vd(f,h),C.mode==="hidden"||z){if((h.flags&128)!==0){if(C=te!==null?te.baseLanes|_:_,f!==null){for(I=h.child=f.child,z=0;I!==null;)z=z|I.lanes|I.childLanes,I=I.sibling;h.childLanes=z&~C}else h.childLanes=0,h.child=null;return U_(f,h,C,_)}if((_&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&gp(h,te!==null?te.cachePool:null),te!==null?$n(h,te):_i(),Xo(h);else return h.lanes=h.childLanes=536870912,U_(f,h,te!==null?te.baseLanes|_:_,_)}else te!==null?(gp(h,te.cachePool),$n(h,te),Xs(),h.memoizedState=null):(f!==null&&gp(h,null),_i(),Xs());return Is(f,h,I,_),h.child}function U_(f,h,_,C){var I=ry();return I=I===null?null:{parent:cr?pi._currentValue:pi._currentValue2,pool:I},h.memoizedState={baseLanes:_,cachePool:I},f!==null&&gp(h,null),_i(),Xo(h),f!==null&&xd(f,h,C,!0),null}function vd(f,h){var _=h.ref;if(_===null)f!==null&&f.ref!==null&&(h.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(s(284));(f===null||f.ref!==_)&&(h.flags|=2097664)}}function pp(f,h,_,C,I){return zl(h),_=Qi(f,h,_,C,void 0,I),C=qe(),f!==null&&!oi?(Mt(f,h,I),Ko(f,h,I)):(Bn&&C&&_e(h),h.flags|=1,Is(f,h,_,I),h.child)}function F_(f,h,_,C,I,z){return zl(h),h.updateQueue=null,_=br(h,C,_,I),_r(f),C=qe(),f!==null&&!oi?(Mt(f,h,z),Ko(f,h,z)):(Bn&&C&&_e(h),h.flags|=1,Is(f,h,_,z),h.child)}function z_(f,h,_,C,I){if(zl(h),h.stateNode===null){var z=nc,te=_.contextType;typeof te=="object"&&te!==null&&(z=Os(te)),z=new _(C,z),h.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=xo,h.stateNode=z,z._reactInternals=h,z=h.stateNode,z.props=C,z.state=h.memoizedState,z.refs={},Ve(h),te=_.contextType,z.context=typeof te=="object"&&te!==null?Os(te):nc,z.state=h.memoizedState,te=_.getDerivedStateFromProps,typeof te=="function"&&(Gu(h,_,te,C),z.state=h.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(te=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),te!==z.state&&xo.enqueueReplaceState(z,z.state,null),ft(h,C,z,I),Oe(),z.state=h.memoizedState),typeof z.componentDidMount=="function"&&(h.flags|=4194308),C=!0}else if(f===null){z=h.stateNode;var fe=h.memoizedProps,we=qo(_,fe);z.props=we;var $e=z.context,dt=_.contextType;te=nc,typeof dt=="object"&&dt!==null&&(te=Os(dt));var Ct=_.getDerivedStateFromProps;dt=typeof Ct=="function"||typeof z.getSnapshotBeforeUpdate=="function",fe=h.pendingProps!==fe,dt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(fe||$e!==te)&&I_(h,z,C,te),dl=!1;var Rt=h.memoizedState;z.state=Rt,ft(h,C,z,I),Oe(),$e=h.memoizedState,fe||Rt!==$e||dl?(typeof Ct=="function"&&(Gu(h,_,Ct,C),$e=h.memoizedState),(we=dl||ku(h,_,we,C,Rt,$e,te))?(dt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(h.flags|=4194308)):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=$e),z.props=C,z.state=$e,z.context=te,C=we):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{z=h.stateNode,ut(f,h),te=h.memoizedProps,dt=qo(_,te),z.props=dt,Ct=h.pendingProps,Rt=z.context,$e=_.contextType,we=nc,typeof $e=="object"&&$e!==null&&(we=Os($e)),fe=_.getDerivedStateFromProps,($e=typeof fe=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(te!==Ct||Rt!==we)&&I_(h,z,C,we),dl=!1,Rt=h.memoizedState,z.state=Rt,ft(h,C,z,I),Oe();var rn=h.memoizedState;te!==Ct||Rt!==rn||dl||f!==null&&f.dependencies!==null&&Sd(f.dependencies)?(typeof fe=="function"&&(Gu(h,_,fe,C),rn=h.memoizedState),(dt=dl||ku(h,_,dt,C,Rt,rn,we)||f!==null&&f.dependencies!==null&&Sd(f.dependencies))?($e||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(C,rn,we),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(C,rn,we)),typeof z.componentDidUpdate=="function"&&(h.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof z.componentDidUpdate!="function"||te===f.memoizedProps&&Rt===f.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&Rt===f.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=rn),z.props=C,z.state=rn,z.context=we,C=dt):(typeof z.componentDidUpdate!="function"||te===f.memoizedProps&&Rt===f.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&Rt===f.memoizedState||(h.flags|=1024),C=!1)}return z=C,vd(f,h),C=(h.flags&128)!==0,z||C?(z=h.stateNode,_=C&&typeof _.getDerivedStateFromError!="function"?null:z.render(),h.flags|=1,f!==null&&C?(h.child=oc(h,f.child,null,I),h.child=oc(h,null,_,I)):Is(f,h,_,I),h.memoizedState=z.state,f=h.child):f=Ko(f,h,I),f}function H_(f,h,_,C){return Ce(),h.flags|=256,Is(f,h,_,C),h.child}function $g(f){return{baseLanes:f,cachePool:ay()}}function _d(f,h,_){return f=f!==null?f.childLanes&~_:0,h&&(f|=ta),f}function G_(f,h,_){var C=h.pendingProps,I=!1,z=(h.flags&128)!==0,te;if((te=z)||(te=f!==null&&f.memoizedState===null?!1:(us.current&2)!==0),te&&(I=!0,h.flags&=-129),te=(h.flags&32)!==0,h.flags&=-33,f===null){if(Bn){if(I?ys(h):Xs(),Bn){var fe=zs,we;(we=fe)&&(fe=Eb(fe,Ms),fe!==null?(h.memoizedState={dehydrated:fe,treeContext:ic!==null?{id:za,overflow:Ha}:null,retryLane:536870912},we=t(18,null,null,0),we.stateNode=fe,we.return=h,h.child=we,Fs=h,zs=null,we=!0):we=!1),we||xe(h)}if(fe=h.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Gp(fe)?h.lanes=16:h.lanes=536870912,null;vs(h)}return fe=C.children,C=C.fallback,I?(Xs(),I=h.mode,fe=ty({mode:"hidden",children:fe},I),C=Li(C,I,_,null),fe.return=h,C.return=h,fe.sibling=C,h.child=fe,I=h.child,I.memoizedState=$g(_),I.childLanes=_d(f,te,_),h.memoizedState=tm,C):(ys(h),ey(h,fe))}if(we=f.memoizedState,we!==null&&(fe=we.dehydrated,fe!==null)){if(z)h.flags&256?(ys(h),h.flags&=-257,h=mp(f,h,_)):h.memoizedState!==null?(Xs(),h.child=f.child,h.flags|=128,h=null):(Xs(),I=C.fallback,fe=h.mode,C=ty({mode:"visible",children:C.children},fe),I=Li(I,fe,_,null),I.flags|=2,C.return=h,I.return=h,C.sibling=I,h.child=C,oc(h,f.child,null,_),C=h.child,C.memoizedState=$g(_),C.childLanes=_d(f,te,_),h.memoizedState=tm,h=I);else if(ys(h),Gp(fe))te=_b(fe).digest,C=Error(s(419)),C.stack="",C.digest=te,Se({value:C,source:null,stack:null}),h=mp(f,h,_);else if(oi||xd(f,h,_,!1),te=(_&f.childLanes)!==0,oi||te){if(te=Wn,te!==null){if(C=_&-_,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(te.suspendedLanes|_))!==0?0:C,C!==0&&C!==we.retryLane)throw we.retryLane=C,Ge(f,C),As(te,f,C),em}Hp(fe)||nl(),h=mp(f,h,_)}else Hp(fe)?(h.flags|=128,h.child=f.child,h=il.bind(null,f),bb(fe,h),h=null):(f=we.treeContext,Us&&(zs=Ab(fe),Fs=h,Bn=!0,ya=null,Ms=!1,f!==null&&(Xr[Yr++]=za,Xr[Yr++]=Ha,Xr[Yr++]=ic,za=f.id,Ha=f.overflow,ic=h)),h=ey(h,C.children),h.flags|=4096);return h}return I?(Xs(),I=C.fallback,fe=h.mode,we=f.child,z=we.sibling,C=da(we,{mode:"hidden",children:C.children}),C.subtreeFlags=we.subtreeFlags&31457280,z!==null?I=da(z,I):(I=Li(I,fe,_,null),I.flags|=2),I.return=h,C.return=h,C.sibling=I,h.child=C,C=I,I=h.child,fe=f.child.memoizedState,fe===null?fe=$g(_):(we=fe.cachePool,we!==null?(z=cr?pi._currentValue:pi._currentValue2,we=we.parent!==z?{parent:z,pool:z}:we):we=ay(),fe={baseLanes:fe.baseLanes|_,cachePool:we}),I.memoizedState=fe,I.childLanes=_d(f,te,_),h.memoizedState=tm,C):(ys(h),_=f.child,f=_.sibling,_=da(_,{mode:"visible",children:C.children}),_.return=h,_.sibling=null,f!==null&&(te=h.deletions,te===null?(h.deletions=[f],h.flags|=16):te.push(f)),h.child=_,h.memoizedState=null,_)}function ey(f,h){return h=ty({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function ty(f,h){return Pd(f,h,0,null)}function mp(f,h,_){return oc(h,f.child,null,_),f=ey(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function k_(f,h,_){f.lanes|=h;var C=f.alternate;C!==null&&(C.lanes|=h),bd(f.return,h,_)}function ny(f,h,_,C,I){var z=f.memoizedState;z===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:_,tailMode:I}:(z.isBackwards=h,z.rendering=null,z.renderingStartTime=0,z.last=C,z.tail=_,z.tailMode=I)}function V_(f,h,_){var C=h.pendingProps,I=C.revealOrder,z=C.tail;if(Is(f,h,C.children,_),C=us.current,(C&2)!==0)C=C&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&k_(f,_,h);else if(f.tag===19)k_(f,_,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}switch(B(us,C),I){case"forwards":for(_=h.child,I=null;_!==null;)f=_.alternate,f!==null&&_s(f)===null&&(I=_),_=_.sibling;_=I,_===null?(I=h.child,h.child=null):(I=_.sibling,_.sibling=null),ny(h,!1,I,_,z);break;case"backwards":for(_=null,I=h.child,h.child=null;I!==null;){if(f=I.alternate,f!==null&&_s(f)===null){h.child=I;break}f=I.sibling,I.sibling=_,_=I,I=f}ny(h,!0,_,null,z);break;case"together":ny(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ko(f,h,_){if(f!==null&&(h.dependencies=f.dependencies),ea|=h.lanes,(_&h.childLanes)===0)if(f!==null){if(xd(f,h,_,!1),(_&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(s(153));if(h.child!==null){for(f=h.child,_=da(f,f.pendingProps),h.child=_,_.return=h;f.sibling!==null;)f=f.sibling,_=_.sibling=da(f,f.pendingProps),_.return=h;_.sibling=null}return h.child}function iy(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Sd(f)))}function bE(f,h,_){switch(h.tag){case 3:ce(h,h.stateNode.containerInfo),Fl(h,pi,f.memoizedState.cache),Ce();break;case 27:case 5:Ue(h);break;case 4:ce(h,h.stateNode.containerInfo);break;case 10:Fl(h,h.type,h.memoizedProps.value);break;case 13:var C=h.memoizedState;if(C!==null)return C.dehydrated!==null?(ys(h),h.flags|=128,null):(_&h.child.childLanes)!==0?G_(f,h,_):(ys(h),f=Ko(f,h,_),f!==null?f.sibling:null);ys(h);break;case 19:var I=(f.flags&128)!==0;if(C=(_&h.childLanes)!==0,C||(xd(f,h,_,!1),C=(_&h.childLanes)!==0),I){if(C)return V_(f,h,_);h.flags|=128}if(I=h.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),B(us,us.current),C)break;return null;case 22:case 23:return h.lanes=0,P_(f,h,_);case 24:Fl(h,pi,f.memoizedState.cache)}return Ko(f,h,_)}function j_(f,h,_){if(f!==null)if(f.memoizedProps!==h.pendingProps)oi=!0;else{if(!iy(f,_)&&(h.flags&128)===0)return oi=!1,bE(f,h,_);oi=(f.flags&131072)!==0}else oi=!1,Bn&&(h.flags&1048576)!==0&&ae(h,hf,h.index);switch(h.lanes=0,h.tag){case 16:e:{f=h.pendingProps;var C=h.elementType,I=C._init;if(C=I(C._payload),h.type=C,typeof C=="function")Nd(C)?(f=qo(C,f),h.tag=1,h=z_(null,h,C,f,_)):(h.tag=0,h=pp(null,h,C,f,_));else{if(C!=null){if(I=C.$$typeof,I===Gd){h.tag=11,h=hp(null,h,C,f,_);break e}else if(I===Np){h.tag=14,h=N_(null,h,C,f,_);break e}}throw h=a(C)||C,Error(s(306,h,""))}}return h;case 0:return pp(f,h,h.type,h.pendingProps,_);case 1:return C=h.type,I=qo(C,h.pendingProps),z_(f,h,C,I,_);case 3:e:{if(ce(h,h.stateNode.containerInfo),f===null)throw Error(s(387));var z=h.pendingProps;I=h.memoizedState,C=I.element,ut(f,h),ft(h,z,null,_);var te=h.memoizedState;if(z=te.cache,Fl(h,pi,z),z!==I.cache&&Lc(h,[pi],_,!0),Oe(),z=te.element,Us&&I.isDehydrated)if(I={element:z,isDehydrated:!1,cache:te.cache},h.updateQueue.baseState=I,h.memoizedState=I,h.flags&256){h=H_(f,h,z,_);break e}else if(z!==C){C=se(Error(s(424)),h),Se(C),h=H_(f,h,z,_);break e}else for(Us&&(zs=Sb(h.stateNode.containerInfo),Fs=h,Bn=!0,ya=null,Ms=!0),_=bo(h,null,z,_),h.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ce(),z===C){h=Ko(f,h,_);break e}Is(f,h,z,_)}h=h.child}return h;case 26:if(Wr)return vd(f,h),f===null?(_=Vy(h.type,null,h.pendingProps,null))?h.memoizedState=_:Bn||(h.stateNode=Xp(h.type,h.pendingProps,vo.current,h)):h.memoizedState=Vy(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:if(ri)return Ue(h),f===null&&ri&&Bn&&(C=h.stateNode=Fa(h.type,h.pendingProps,vo.current,cs.current,!1),Fs=h,Ms=!0,zs=kp(C)),C=h.pendingProps.children,f!==null||Bn?Is(f,h,C,_):h.child=oc(h,null,C,_),vd(f,h),h.child;case 5:return f===null&&Bn&&(jp(h.type,h.pendingProps,cs.current),(I=C=zs)&&(C=CE(C,h.type,h.pendingProps,Ms),C!==null?(h.stateNode=C,Fs=h,zs=kp(C),Ms=!1,I=!0):I=!1),I||xe(h)),Ue(h),I=h.type,z=h.pendingProps,te=f!==null?f.memoizedProps:null,C=z.children,on(I,z)?C=null:te!==null&&on(I,te)&&(h.flags|=32),h.memoizedState!==null&&(I=Qi(f,h,Xe,null,null,_),cr?Ua._currentValue=I:Ua._currentValue2=I),vd(f,h),Is(f,h,C,_),h.child;case 6:return f===null&&Bn&&(Rb(h.pendingProps,cs.current),(f=_=zs)&&(_=Gy(_,h.pendingProps,Ms),_!==null?(h.stateNode=_,Fs=h,zs=null,f=!0):f=!1),f||xe(h)),null;case 13:return G_(f,h,_);case 4:return ce(h,h.stateNode.containerInfo),C=h.pendingProps,f===null?h.child=oc(h,null,C,_):Is(f,h,C,_),h.child;case 11:return hp(f,h,h.type,h.pendingProps,_);case 7:return Is(f,h,h.pendingProps,_),h.child;case 8:return Is(f,h,h.pendingProps.children,_),h.child;case 12:return Is(f,h,h.pendingProps.children,_),h.child;case 10:return C=h.pendingProps,Fl(h,h.type,C.value),Is(f,h,C.children,_),h.child;case 9:return I=h.type._context,C=h.pendingProps.children,zl(h),I=Os(I),C=C(I),h.flags|=1,Is(f,h,C,_),h.child;case 14:return N_(f,h,h.type,h.pendingProps,_);case 15:return L_(f,h,h.type,h.pendingProps,_);case 19:return V_(f,h,_);case 22:return P_(f,h,_);case 24:return zl(h),C=Os(pi),f===null?(I=ry(),I===null&&(I=Wn,z=Hl(),I.pooledCache=z,z.refCount++,z!==null&&(I.pooledCacheLanes|=_),I=z),h.memoizedState={parent:C,cache:I},Ve(h),Fl(h,pi,I)):((f.lanes&_)!==0&&(ut(f,h),ft(h,null,null,_),Oe()),I=f.memoizedState,z=h.memoizedState,I.parent!==C?(I={parent:C,cache:C},h.memoizedState=I,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=I),Fl(h,pi,C)):(C=z.cache,Fl(h,pi,C),C!==I.cache&&Lc(h,[pi],_,!0))),Is(f,h,h.pendingProps.children,_),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function Fl(f,h,_){cr?(B(pl,h._currentValue),h._currentValue=_):(B(pl,h._currentValue2),h._currentValue2=_)}function Jo(f){var h=pl.current;cr?f._currentValue=h:f._currentValue2=h,S(pl)}function bd(f,h,_){for(;f!==null;){var C=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),f===_)break;f=f.return}}function Lc(f,h,_,C){var I=f.child;for(I!==null&&(I.return=f);I!==null;){var z=I.dependencies;if(z!==null){var te=I.child;z=z.firstContext;e:for(;z!==null;){var fe=z;z=I;for(var we=0;we<h.length;we++)if(fe.context===h[we]){z.lanes|=_,fe=z.alternate,fe!==null&&(fe.lanes|=_),bd(z.return,_,f),C||(te=null);break e}z=fe.next}}else if(I.tag===18){if(te=I.return,te===null)throw Error(s(341));te.lanes|=_,z=te.alternate,z!==null&&(z.lanes|=_),bd(te,_,f),te=null}else te=I.child;if(te!==null)te.return=I;else for(te=I;te!==null;){if(te===f){te=null;break}if(I=te.sibling,I!==null){I.return=te.return,te=I;break}te=te.return}I=te}}function xd(f,h,_,C){f=null;for(var I=h,z=!1;I!==null;){if(!z){if((I.flags&524288)!==0)z=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var te=I.alternate;if(te===null)throw Error(s(387));if(te=te.memoizedProps,te!==null){var fe=I.type;wr(I.pendingProps.value,te.value)||(f!==null?f.push(fe):f=[fe])}}else if(I===Wc.current){if(te=I.alternate,te===null)throw Error(s(387));te.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(f!==null?f.push(Ua):f=[Ua])}I=I.return}f!==null&&Lc(h,f,_,C),h.flags|=262144}function Sd(f){for(f=f.firstContext;f!==null;){var h=f.context;if(!wr(cr?h._currentValue:h._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function zl(f){Va=f,Qr=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Os(f){return sy(Va,f)}function Ad(f,h){return Va===null&&zl(f),sy(f,h)}function sy(f,h){var _=cr?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:_,next:null},Qr===null){if(f===null)throw Error(s(308));Qr=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Qr=Qr.next=h;return _}function Hl(){return{controller:new _f,data:new Map,refCount:0}}function Ed(f){f.refCount--,f.refCount===0&&Hb(Gb,function(){f.controller.abort()})}function ry(){var f=So.current;return f!==null?f:Wn.pooledCache}function gp(f,h){h===null?B(So,So.current):B(So,h.pool)}function ay(){var f=ry();return f===null?null:{parent:cr?pi._currentValue:pi._currentValue2,pool:f}}function xr(f){f.flags|=4}function Xu(f,h){if(f!==null&&f.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(f=h.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Pc(f,h,_,C){if(ls)for(_=h.child;_!==null;){if(_.tag===5||_.tag===6)Vd(f,_.stateNode);else if(!(_.tag===4||ri&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(ma)for(var I=h.child;I!==null;){if(I.tag===5){var z=I.stateNode;_&&C&&(z=Uy(z,I.type,I.memoizedProps)),Vd(f,z)}else if(I.tag===6)z=I.stateNode,_&&C&&(z=Fy(z,I.memoizedProps)),Vd(f,z);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)z=I.child,z!==null&&(z.return=I),Pc(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function W_(f,h,_,C){if(ma)for(var I=h.child;I!==null;){if(I.tag===5){var z=I.stateNode;_&&C&&(z=Uy(z,I.type,I.memoizedProps)),Py(f,z)}else if(I.tag===6)z=I.stateNode,_&&C&&(z=Fy(z,I.memoizedProps)),Py(f,z);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)z=I.child,z!==null&&(z.return=I),W_(f,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function Md(f,h){if(ma&&Xu(f,h)){f=h.stateNode;var _=f.containerInfo,C=jd();W_(C,h,!1,!1),f.pendingChildren=C,xr(h),zp(_,C)}}function yp(f,h,_,C){if(ls)f.memoizedProps!==C&&xr(h);else if(ma){var I=f.stateNode,z=f.memoizedProps;if((f=Xu(f,h))||z!==C){var te=cs.current;z=uf(I,_,z,C,!f,null),z===I?h.stateNode=I:(ol(z,_,C,te)&&xr(h),h.stateNode=z,f?Pc(z,h,!1,!1):xr(h))}else h.stateNode=I}}function vp(f,h,_){if(wy(h,_)){if(f.flags|=16777216,!Up(h,_))if(Xl())f.flags|=8192;else throw sc=$d,Zd}else f.flags&=-16777217}function _p(f,h){if(Ib(h)){if(f.flags|=16777216,!Hc(h))if(Xl())f.flags|=8192;else throw sc=$d,Zd}else f.flags&=-16777217}function Yu(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?L():536870912,f.lanes|=h,Mo|=h)}function qu(f,h){if(!Bn)switch(f.tailMode){case"hidden":h=f.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var C=null;_!==null;)_.alternate!==null&&(C=_),_=_.sibling;C===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function Ci(f){var h=f.alternate!==null&&f.alternate.child===f.child,_=0,C=0;if(h)for(var I=f.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags&31457280,C|=I.flags&31457280,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=C,f.childLanes=_,h}function X_(f,h,_){var C=h.pendingProps;switch(Ae(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(h),null;case 1:return Ci(h),null;case 3:return _=h.stateNode,C=null,f!==null&&(C=f.memoizedState.cache),h.memoizedState.cache!==C&&(h.flags|=2048),Jo(pi),be(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(oe(h)?xr(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ya!==null&&(Id(ya),ya=null))),Md(f,h),Ci(h),null;case 26:if(Wr){_=h.type;var I=h.memoizedState;return f===null?(xr(h),I!==null?(Ci(h),_p(h,I)):(Ci(h),vp(h,_,C))):I?I!==f.memoizedState?(xr(h),Ci(h),_p(h,I)):(Ci(h),h.flags&=-16777217):(ls?f.memoizedProps!==C&&xr(h):yp(f,h,_,C),Ci(h),vp(h,_,C)),null}case 27:if(ri){if(Qe(h),_=vo.current,I=h.type,f!==null&&h.stateNode!=null)ls?f.memoizedProps!==C&&xr(h):yp(f,h,I,C);else{if(!C){if(h.stateNode===null)throw Error(s(166));return Ci(h),null}f=cs.current,oe(h)?j(h,f):(f=Fa(I,C,_,f,!0),h.stateNode=f,xr(h))}return Ci(h),null}case 5:if(Qe(h),_=h.type,f!==null&&h.stateNode!=null)yp(f,h,_,C);else{if(!C){if(h.stateNode===null)throw Error(s(166));return Ci(h),null}f=cs.current,oe(h)?j(h,f):(I=Cy(_,C,vo.current,f,h),Pc(I,h,!1,!1),h.stateNode=I,ol(I,_,C,f)&&xr(h))}return Ci(h),vp(h,h.type,h.pendingProps),null;case 6:if(f&&h.stateNode!=null)_=f.memoizedProps,ls?_!==C&&xr(h):ma&&(_!==C?(h.stateNode=Kn(C,vo.current,cs.current,h),xr(h)):h.stateNode=f.stateNode);else{if(typeof C!="string"&&h.stateNode===null)throw Error(s(166));if(f=vo.current,_=cs.current,oe(h)){if(!Us)throw Error(s(176));if(f=h.stateNode,_=h.memoizedProps,C=null,I=Fs,I!==null)switch(I.tag){case 27:case 5:C=I.memoizedProps}ky(f,_,h,C)||xe(h)}else h.stateNode=Kn(C,f,_,h)}return Ci(h),null;case 13:if(C=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(I=oe(h),C!==null&&C.dehydrated!==null){if(f===null){if(!I)throw Error(s(318));if(!Us)throw Error(s(344));if(I=h.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));Tb(I,h)}else Ce(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ci(h),I=!1}else ya!==null&&(Id(ya),ya=null),I=!0;if(!I)return h.flags&256?(vs(h),h):(vs(h),null)}if(vs(h),(h.flags&128)!==0)return h.lanes=_,h;if(_=C!==null,f=f!==null&&f.memoizedState!==null,_){C=h.child,I=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(I=C.alternate.memoizedState.cachePool.pool);var z=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(z=C.memoizedState.cachePool.pool),z!==I&&(C.flags|=2048)}return _!==f&&_&&(h.child.flags|=8192),Yu(h,h.updateQueue),Ci(h),null;case 4:return be(),Md(f,h),f===null&&ji(h.stateNode.containerInfo),Ci(h),null;case 10:return Jo(h.type),Ci(h),null;case 19:if(S(us),I=h.memoizedState,I===null)return Ci(h),null;if(C=(h.flags&128)!==0,z=I.rendering,z===null)if(C)qu(I,!1);else{if(li!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(z=_s(f),z!==null){for(h.flags|=128,qu(I,!1),f=z.updateQueue,h.updateQueue=f,Yu(h,f),h.subtreeFlags=0,f=_,_=h.child;_!==null;)Ld(_,f),_=_.sibling;return B(us,us.current&1|2),h.child}f=f.sibling}I.tail!==null&&ga()>Sf&&(h.flags|=128,C=!0,qu(I,!1),h.lanes=4194304)}else{if(!C)if(f=_s(z),f!==null){if(h.flags|=128,C=!0,f=f.updateQueue,h.updateQueue=f,Yu(h,f),qu(I,!0),I.tail===null&&I.tailMode==="hidden"&&!z.alternate&&!Bn)return Ci(h),null}else 2*ga()-I.renderingStartTime>Sf&&_!==536870912&&(h.flags|=128,C=!0,qu(I,!1),h.lanes=4194304);I.isBackwards?(z.sibling=h.child,h.child=z):(f=I.last,f!==null?f.sibling=z:h.child=z,I.last=z)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=ga(),h.sibling=null,f=us.current,B(us,C?f&1|2:f&1),h):(Ci(h),null);case 22:case 23:return vs(h),Ni(),C=h.memoizedState!==null,f!==null?f.memoizedState!==null!==C&&(h.flags|=8192):C&&(h.flags|=8192),C?(_&536870912)!==0&&(h.flags&128)===0&&(Ci(h),h.subtreeFlags&6&&(h.flags|=8192)):Ci(h),_=h.updateQueue,_!==null&&Yu(h,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),C=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),C!==_&&(h.flags|=2048),f!==null&&S(So),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),h.memoizedState.cache!==_&&(h.flags|=2048),Jo(pi),Ci(h),null;case 25:return null}throw Error(s(156,h.tag))}function xE(f,h){switch(Ae(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Jo(pi),be(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Qe(h),null;case 13:if(vs(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Ce()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return S(us),null;case 4:return be(),null;case 10:return Jo(h.type),null;case 22:case 23:return vs(h),Ni(),f!==null&&S(So),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return Jo(pi),null;case 25:return null;default:return null}}function Y_(f,h){switch(Ae(h),h.tag){case 3:Jo(pi),be();break;case 26:case 27:case 5:Qe(h);break;case 4:be();break;case 13:vs(h);break;case 19:S(us);break;case 10:Jo(h.type);break;case 22:case 23:vs(h),Ni(),f!==null&&S(So);break;case 24:Jo(pi)}}function Td(f,h){try{var _=h.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var I=C.next;_=I;do{if((_.tag&f)===f){C=void 0;var z=_.create,te=_.inst;C=z(),te.destroy=C}_=_.next}while(_!==I)}}catch(fe){Vn(h,h.return,fe)}}function Gl(f,h,_){try{var C=h.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var z=I.next;C=z;do{if((C.tag&f)===f){var te=C.inst,fe=te.destroy;if(fe!==void 0){te.destroy=void 0,I=h;var we=_;try{fe()}catch($e){Vn(I,we,$e)}}}C=C.next}while(C!==z)}}catch($e){Vn(h,h.return,$e)}}function q_(f){var h=f.updateQueue;if(h!==null){var _=f.stateNode;try{ot(h,_)}catch(C){Vn(f,f.return,C)}}}function Sr(f,h,_){_.props=qo(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(C){Vn(f,h,C)}}function Na(f,h){try{var _=f.ref;if(_!==null){var C=f.stateNode;switch(f.tag){case 26:case 27:case 5:var I=of(C);break;default:I=C}typeof _=="function"?f.refCleanup=_(I):_.current=I}}catch(z){Vn(f,h,z)}}function Ar(f,h){var _=f.ref,C=f.refCleanup;if(_!==null)if(typeof C=="function")try{C()}catch(I){Vn(f,h,I)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(I){Vn(f,h,I)}else _.current=null}function oy(f){var h=f.type,_=f.memoizedProps,C=f.stateNode;try{ME(C,h,_,f)}catch(I){Vn(f,f.return,I)}}function ly(f,h,_){try{fb(f.stateNode,f.type,_,h,f)}catch(C){Vn(f,f.return,C)}}function cy(f){return f.tag===5||f.tag===3||(Wr?f.tag===26:!1)||(ri?f.tag===27:!1)||f.tag===4}function Cd(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||cy(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!ri||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function uy(f,h,_){var C=f.tag;if(C===5||C===6)f=f.stateNode,h?hb(_,f,h):Oy(_,f);else if(!(C===4||ri&&C===27)&&(f=f.child,f!==null))for(uy(f,h,_),f=f.sibling;f!==null;)uy(f,h,_),f=f.sibling}function Qo(f,h,_){var C=f.tag;if(C===5||C===6)f=f.stateNode,h?db(_,f,h):cb(_,f);else if(!(C===4||ri&&C===27)&&(f=f.child,f!==null))for(Qo(f,h,_),f=f.sibling;f!==null;)Qo(f,h,_),f=f.sibling}function bp(f,h,_){f=f.containerInfo;try{ff(f,_)}catch(C){Vn(h,h.return,C)}}function wd(f,h){for(Lp(f.containerInfo),sn=h;sn!==null;)if(f=sn,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,sn=h;else for(;sn!==null;){f=sn;var _=f.alternate;switch(h=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&_!==null){h=void 0;var C=f,I=_.memoizedProps;_=_.memoizedState;var z=C.stateNode;try{var te=qo(C.type,I,C.elementType===C.type);h=z.getSnapshotBeforeUpdate(te,_),z.__reactInternalSnapshotBeforeUpdate=h}catch(fe){Vn(C,C.return,fe)}}break;case 3:(h&1024)!==0&&ls&&vb(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(s(163))}if(h=f.sibling,h!==null){h.return=f.return,sn=h;break}sn=f.return}return te=gn,gn=!1,te}function xp(f,h,_){var C=_.flags;switch(_.tag){case 0:case 11:case 15:$o(f,_),C&4&&Td(5,_);break;case 1:if($o(f,_),C&4)if(f=_.stateNode,h===null)try{f.componentDidMount()}catch(fe){Vn(_,_.return,fe)}else{var I=qo(_.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(I,h,f.__reactInternalSnapshotBeforeUpdate)}catch(fe){Vn(_,_.return,fe)}}C&64&&q_(_),C&512&&Na(_,_.return);break;case 3:if($o(f,_),C&64&&(C=_.updateQueue,C!==null)){if(f=null,_.child!==null)switch(_.child.tag){case 27:case 5:f=of(_.child.stateNode);break;case 1:f=_.child.stateNode}try{ot(C,f)}catch(fe){Vn(_,_.return,fe)}}break;case 26:if(Wr){$o(f,_),C&512&&Na(_,_.return);break}case 27:case 5:$o(f,_),h===null&&C&4&&oy(_),C&512&&Na(_,_.return);break;case 12:$o(f,_);break;case 13:$o(f,_),C&4&&Sp(f,_);break;case 22:if(I=_.memoizedState!==null||Ao,!I){h=h!==null&&h.memoizedState!==null||Ui;var z=Ao,te=Ui;Ao=I,(Ui=h)&&!te?el(f,_,(_.subtreeFlags&8772)!==0):$o(f,_),Ao=z,Ui=te}C&512&&(_.memoizedProps.mode==="manual"?Na(_,_.return):Ar(_,_.return));break;default:$o(f,_)}}function fy(f){var h=f.alternate;h!==null&&(f.alternate=null,fy(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&EE(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Ns(f,h,_){for(_=_.child;_!==null;)kl(f,h,_),_=_.sibling}function kl(f,h,_){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Xi,_)}catch{}switch(_.tag){case 26:if(Wr){Ui||Ar(_,h),Ns(f,h,_),_.memoizedState?zc(_.memoizedState):_.stateNode&&df(_.stateNode);break}case 27:if(ri){Ui||Ar(_,h);var C=zt,I=un;zt=_.stateNode,Ns(f,h,_),tc(_.stateNode),zt=C,un=I;break}case 5:Ui||Ar(_,h);case 6:if(ls){if(C=zt,I=un,zt=null,Ns(f,h,_),zt=C,un=I,zt!==null)if(un)try{pb(zt,_.stateNode)}catch(z){Vn(_,h,z)}else try{Ny(zt,_.stateNode)}catch(z){Vn(_,h,z)}}else Ns(f,h,_);break;case 18:ls&&zt!==null&&(un?Wd(zt,_.stateNode):wb(zt,_.stateNode));break;case 4:ls?(C=zt,I=un,zt=_.stateNode.containerInfo,un=!0,Ns(f,h,_),zt=C,un=I):(ma&&bp(_.stateNode,_,jd()),Ns(f,h,_));break;case 0:case 11:case 14:case 15:Ui||Gl(2,_,h),Ui||Gl(4,_,h),Ns(f,h,_);break;case 1:Ui||(Ar(_,h),C=_.stateNode,typeof C.componentWillUnmount=="function"&&Sr(_,h,C)),Ns(f,h,_);break;case 21:Ns(f,h,_);break;case 22:Ui||Ar(_,h),Ui=(C=Ui)||_.memoizedState!==null,Ns(f,h,_),Ui=C;break;default:Ns(f,h,_)}}function Sp(f,h){if(Us&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{RE(f)}catch(_){Vn(h,h.return,_)}}function K_(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new jn),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new jn),h;default:throw Error(s(435,f.tag))}}function Zo(f,h){var _=K_(f);h.forEach(function(C){var I=Kl.bind(null,f,C);_.has(C)||(_.add(C),C.then(I,I))})}function or(f,h){var _=h.deletions;if(_!==null)for(var C=0;C<_.length;C++){var I=_[C],z=f,te=h;if(ls){var fe=te;e:for(;fe!==null;){switch(fe.tag){case 27:case 5:zt=fe.stateNode,un=!1;break e;case 3:zt=fe.stateNode.containerInfo,un=!0;break e;case 4:zt=fe.stateNode.containerInfo,un=!0;break e}fe=fe.return}if(zt===null)throw Error(s(160));kl(z,te,I),zt=null,un=!1}else kl(z,te,I);z=I.alternate,z!==null&&(z.return=null),I.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)dy(h,f),h=h.sibling}function dy(f,h){var _=f.alternate,C=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:or(h,f),Er(f),C&4&&(Gl(3,f,f.return),Td(3,f),Gl(5,f,f.return));break;case 1:or(h,f),Er(f),C&512&&(Ui||_===null||Ar(_,_.return)),C&64&&Ao&&(f=f.updateQueue,f!==null&&(C=f.callbacks,C!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?C:_.concat(C))));break;case 26:if(Wr){var I=Ii;or(h,f),Er(f),C&512&&(Ui||_===null||Ar(_,_.return)),C&4&&(C=_!==null?_.memoizedState:null,h=f.memoizedState,_===null?h===null?f.stateNode===null?f.stateNode=Yd(I,f.type,f.memoizedProps,f):qd(I,f.type,f.stateNode):f.stateNode=Bb(I,h,f.memoizedProps):C!==h?(C===null?_.stateNode!==null&&df(_.stateNode):zc(C),h===null?qd(I,f.type,f.stateNode):Bb(I,h,f.memoizedProps)):h===null&&f.stateNode!==null&&ly(f,f.memoizedProps,_.memoizedProps));break}case 27:if(ri&&C&4&&f.alternate===null){I=f.stateNode;var z=f.memoizedProps;try{ec(I),Nb(f.type,z,I,f)}catch(dt){Vn(f,f.return,dt)}}case 5:if(or(h,f),Er(f),C&512&&(Ui||_===null||Ar(_,_.return)),ls){if(f.flags&32){h=f.stateNode;try{Ly(h)}catch(dt){Vn(f,f.return,dt)}}C&4&&f.stateNode!=null&&(h=f.memoizedProps,ly(f,h,_!==null?_.memoizedProps:h)),C&1024&&(Yy=!0)}break;case 6:if(or(h,f),Er(f),C&4&&ls){if(f.stateNode===null)throw Error(s(162));C=f.memoizedProps,_=_!==null?_.memoizedProps:C,h=f.stateNode;try{ub(h,_,C)}catch(dt){Vn(f,f.return,dt)}}break;case 3:if(Wr?(Db(),I=Ii,Ii=Wp(h.containerInfo),or(h,f),Ii=I):or(h,f),Er(f),C&4){if(ls&&Us&&_!==null&&_.memoizedState.isDehydrated)try{wE(h.containerInfo)}catch(dt){Vn(f,f.return,dt)}if(ma){C=h.containerInfo,_=h.pendingChildren;try{ff(C,_)}catch(dt){Vn(f,f.return,dt)}}}Yy&&(Yy=!1,J_(f));break;case 4:Wr?(_=Ii,Ii=Wp(f.stateNode.containerInfo),or(h,f),Er(f),Ii=_):(or(h,f),Er(f)),C&4&&ma&&bp(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:or(h,f),Er(f);break;case 13:or(h,f),Er(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(hr=ga()),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Zo(f,C)));break;case 22:C&512&&(Ui||_===null||Ar(_,_.return)),I=f.memoizedState!==null;var te=_!==null&&_.memoizedState!==null,fe=Ao,we=Ui;if(Ao=fe||I,Ui=we||te,or(h,f),Ui=we,Ao=fe,Er(f),h=f.stateNode,h._current=f,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,C&8192&&(h._visibility=I?h._visibility&-2:h._visibility|1,I&&(h=Ao||Ui,_===null||te||h||Ku(f)),ls&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(_=null,ls)for(h=f;;){if(h.tag===5||Wr&&h.tag===26||ri&&h.tag===27){if(_===null){te=_=h;try{z=te.stateNode,I?mb(z):yb(te.stateNode,te.memoizedProps)}catch(dt){Vn(te,te.return,dt)}}}else if(h.tag===6){if(_===null){te=h;try{var $e=te.stateNode;I?gb($e):TE($e,te.memoizedProps)}catch(dt){Vn(te,te.return,dt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;_===h&&(_=null),h=h.return}_===h&&(_=null),h.sibling.return=h.return,h=h.sibling}}C&4&&(C=f.updateQueue,C!==null&&(_=C.retryQueue,_!==null&&(C.retryQueue=null,Zo(f,_))));break;case 19:or(h,f),Er(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Zo(f,C)));break;case 21:break;default:or(h,f),Er(f)}}function Er(f){var h=f.flags;if(h&2){try{if(ls&&(!ri||f.tag!==27)){e:{for(var _=f.return;_!==null;){if(cy(_)){var C=_;break e}_=_.return}throw Error(s(160))}switch(C.tag){case 27:if(ri){var I=C.stateNode,z=Cd(f);Qo(f,z,I);break}case 5:var te=C.stateNode;C.flags&32&&(Ly(te),C.flags&=-33);var fe=Cd(f);Qo(f,fe,te);break;case 3:case 4:var we=C.stateNode.containerInfo,$e=Cd(f);uy(f,$e,we);break;default:throw Error(s(161))}}}catch(dt){Vn(f,f.return,dt)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function J_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;J_(h),h.tag===5&&h.flags&1024&&Fp(h.stateNode),f=f.sibling}}function $o(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)xp(f,h.alternate,h),h=h.sibling}function Ku(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return),Ku(h);break;case 1:Ar(h,h.return);var _=h.stateNode;typeof _.componentWillUnmount=="function"&&Sr(h,h.return,_),Ku(h);break;case 26:case 27:case 5:Ar(h,h.return),Ku(h);break;case 22:Ar(h,h.return),h.memoizedState===null&&Ku(h);break;default:Ku(h)}f=f.sibling}}function el(f,h,_){for(_=_&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var C=h.alternate,I=f,z=h,te=z.flags;switch(z.tag){case 0:case 11:case 15:el(I,z,_),Td(4,z);break;case 1:if(el(I,z,_),C=z,I=C.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch($e){Vn(C,C.return,$e)}if(C=z,I=C.updateQueue,I!==null){var fe=C.stateNode;try{var we=I.shared.hiddenCallbacks;if(we!==null)for(I.shared.hiddenCallbacks=null,I=0;I<we.length;I++)de(we[I],fe)}catch($e){Vn(C,C.return,$e)}}_&&te&64&&q_(z),Na(z,z.return);break;case 26:case 27:case 5:el(I,z,_),_&&C===null&&te&4&&oy(z),Na(z,z.return);break;case 12:el(I,z,_);break;case 13:el(I,z,_),_&&te&4&&Sp(I,z);break;case 22:z.memoizedState===null&&el(I,z,_),Na(z,z.return);break;default:el(I,z,_)}h=h.sibling}}function Ap(f,h){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&Ed(_))}function Rd(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Ed(f))}function Ss(f,h,_,C){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)hy(f,h,_,C),h=h.sibling}function hy(f,h,_,C){var I=h.flags;switch(h.tag){case 0:case 11:case 15:Ss(f,h,_,C),I&2048&&Td(9,h);break;case 3:Ss(f,h,_,C),I&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Ed(f)));break;case 12:if(I&2048){Ss(f,h,_,C),f=h.stateNode;try{var z=h.memoizedProps,te=z.id,fe=z.onPostCommit;typeof fe=="function"&&fe(te,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(we){Vn(h,h.return,we)}}else Ss(f,h,_,C);break;case 23:break;case 22:z=h.stateNode,h.memoizedState!==null?z._visibility&4?Ss(f,h,_,C):Ys(f,h):z._visibility&4?Ss(f,h,_,C):(z._visibility|=4,Ls(f,h,_,C,(h.subtreeFlags&10256)!==0)),I&2048&&Ap(h.alternate,h);break;case 24:Ss(f,h,_,C),I&2048&&Rd(h.alternate,h);break;default:Ss(f,h,_,C)}}function Ls(f,h,_,C,I){for(I=I&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var z=f,te=h,fe=_,we=C,$e=te.flags;switch(te.tag){case 0:case 11:case 15:Ls(z,te,fe,we,I),Td(8,te);break;case 23:break;case 22:var dt=te.stateNode;te.memoizedState!==null?dt._visibility&4?Ls(z,te,fe,we,I):Ys(z,te):(dt._visibility|=4,Ls(z,te,fe,we,I)),I&&$e&2048&&Ap(te.alternate,te);break;case 24:Ls(z,te,fe,we,I),I&&$e&2048&&Rd(te.alternate,te);break;default:Ls(z,te,fe,we,I)}h=h.sibling}}function Ys(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var _=f,C=h,I=C.flags;switch(C.tag){case 22:Ys(_,C),I&2048&&Ap(C.alternate,C);break;case 24:Ys(_,C),I&2048&&Rd(C.alternate,C);break;default:Ys(_,C)}h=h.sibling}}function ua(f){if(f.subtreeFlags&Zr)for(f=f.child;f!==null;)Ep(f),f=f.sibling}function Ep(f){switch(f.tag){case 26:ua(f),f.flags&Zr&&(f.memoizedState!==null?Ob(Ii,f.memoizedState,f.memoizedProps):ur(f.type,f.memoizedProps));break;case 5:ua(f),f.flags&Zr&&ur(f.type,f.memoizedProps);break;case 3:case 4:if(Wr){var h=Ii;Ii=Wp(f.stateNode.containerInfo),ua(f),Ii=h}else ua(f);break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=Zr,Zr=16777216,ua(f),Zr=h):ua(f));break;default:ua(f)}}function Bd(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Vl(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var _=0;_<h.length;_++){var C=h[_];sn=C,py(C,f)}Bd(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Mp(f),f=f.sibling}function Mp(f){switch(f.tag){case 0:case 11:case 15:Vl(f),f.flags&2048&&Gl(9,f,f.return);break;case 3:Vl(f);break;case 12:Vl(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&4&&(f.return===null||f.return.tag!==13)?(h._visibility&=-5,tl(f)):Vl(f);break;default:Vl(f)}}function tl(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var _=0;_<h.length;_++){var C=h[_];sn=C,py(C,f)}Bd(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:Gl(8,h,h.return),tl(h);break;case 22:_=h.stateNode,_._visibility&4&&(_._visibility&=-5,tl(h));break;default:tl(h)}f=f.sibling}}function py(f,h){for(;sn!==null;){var _=sn;switch(_.tag){case 0:case 11:case 15:Gl(8,_,h);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var C=_.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Ed(_.memoizedState.cache)}if(C=_.child,C!==null)C.return=_,sn=C;else e:for(_=f;sn!==null;){C=sn;var I=C.sibling,z=C.return;if(fy(C),C===_){sn=null;break e}if(I!==null){I.return=z,sn=I;break e}sn=z}}}function Ju(f){var h=nb(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if(f=Dy(f),f===null)throw Error(s(362));return f.stateNode.current}function jl(f,h){var _=f.tag;switch(h.$$typeof){case xf:if(f.type===h.value)return!0;break;case ba:e:{for(h=h.value,f=[f,0],_=0;_<f.length;){var C=f[_++],I=C.tag,z=f[_++],te=h[z];if(I!==5&&I!==26&&I!==27||!cf(C)){for(;te!=null&&jl(C,te);)z++,te=h[z];if(z===h.length){h=!0;break e}else for(C=C.child;C!==null;)f.push(C,z),C=C.sibling}}h=!1}return h;case bi:if((_===5||_===26||_===27)&&ab(f.stateNode,h.value))return!0;break;case Eo:if((_===5||_===6||_===26||_===27)&&(f=rb(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case ja:if((_===5||_===26||_===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function my(f){switch(f.$$typeof){case xf:return"<"+(a(f.value)||"Unknown")+">";case ba:return":has("+(my(f)||"")+")";case bi:return'[role="'+f.value+'"]';case Eo:return'"'+f.value+'"';case ja:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function Mr(f,h){var _=[];f=[f,0];for(var C=0;C<f.length;){var I=f[C++],z=I.tag,te=f[C++],fe=h[te];if(z!==5&&z!==26&&z!==27||!cf(I)){for(;fe!=null&&jl(I,fe);)te++,fe=h[te];if(te===h.length)_.push(I);else for(I=I.child;I!==null;)f.push(I,te),I=I.sibling}}return _}function Dd(f,h){if(!$l)throw Error(s(363));f=Ju(f),f=Mr(f,h),h=[],f=Array.from(f);for(var _=0;_<f.length;){var C=f[_++],I=C.tag;if(I===5||I===26||I===27)cf(C)||h.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return h}function Vi(){if((Nn&2)!==0&&xn!==0)return xn&-xn;if(qt.T!==null){var f=qr;return f!==0?f:ct()}return ib()}function gy(){ta===0&&(ta=(xn&536870912)===0||Bn?P():536870912);var f=Kr.current;return f!==null&&(f.flags|=32),ta}function As(f,h,_){(f===Wn&&ti===2||f.cancelPendingCommit!==null)&&(Ps(f,0),Tr(f,xn,ta,!1)),F(f,_),((Nn&2)===0||f!==Wn)&&(f===Wn&&((Nn&2)===0&&(ml|=_),li===4&&Tr(f,xn,ta,!1)),Te(f))}function Wl(f,h,_){if((Nn&6)!==0)throw Error(s(327));var C=!_&&(h&60)===0&&(h&f.expiredLanes)===0||O(f,h),I=C?vy(f,h):Cp(f,h,!0),z=C;do{if(I===0){$r&&!C&&Tr(f,h,0,!1);break}else if(I===6)Tr(f,h,0,!Sa);else{if(_=f.current.alternate,z&&!Qu(_)){I=Cp(f,h,!1),z=!1;continue}if(I===2){if(z=h,f.errorRecoveryDisabledLanes&z)var te=0;else te=f.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){h=te;e:{var fe=f;I=eu;var we=Us&&fe.current.memoizedState.isDehydrated;if(we&&(Ps(fe,te).flags|=256),te=Cp(fe,te,!1),te!==2){if(fs&&!we){fe.errorRecoveryDisabledLanes|=z,ml|=z,I=4;break e}z=Fi,Fi=I,z!==null&&Id(z)}I=te}if(z=!1,I!==2)continue}}if(I===1){Ps(f,0),Tr(f,h,0,!0);break}e:{switch(C=f,I){case 0:case 1:throw Error(s(345));case 4:if((h&4194176)===h){Tr(C,h,ta,!Sa);break e}break;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(C.finishedWork=_,C.finishedLanes=h,(h&62914560)===h&&(z=hr+300-ga(),10<z)){if(Tr(C,h,ta,!Sa),N(C,0)!==0)break e;C.timeoutHandle=es(Tp.bind(null,C,_,Fi,th,nm,h,ta,ml,Mo,Sa,2,-0,0),z);break e}Tp(C,_,Fi,th,nm,h,ta,ml,Mo,Sa,0,-0,0)}}break}while(!0);Te(f)}function Id(f){Fi===null?Fi=f:Fi.push.apply(Fi,f)}function Tp(f,h,_,C,I,z,te,fe,we,$e,dt,Ct,Rt){var rn=h.subtreeFlags;if((rn&8192||(rn&16785408)===16785408)&&(Ry(),Ep(h),h=ts(),h!==null)){f.cancelPendingCommit=h(Yl.bind(null,f,_,C,I,te,fe,we,1,Ct,Rt)),Tr(f,z,te,!$e);return}Yl(f,_,C,I,te,fe,we,dt,Ct,Rt)}function Qu(f){for(var h=f;;){var _=h.tag;if((_===0||_===11||_===15)&&h.flags&16384&&(_=h.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var C=0;C<_.length;C++){var I=_[C],z=I.getSnapshot;I=I.value;try{if(!wr(z(),I))return!1}catch{return!1}}if(_=h.child,h.subtreeFlags&16384&&_!==null)_.return=h,h=_;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Tr(f,h,_,C){h&=~eh,h&=~ml,f.suspendedLanes|=h,f.pingedLanes&=~h,C&&(f.warmLanes|=h),C=f.expirationTimes;for(var I=h;0<I;){var z=31-fr(I),te=1<<z;C[z]=-1,I&=~te}_!==0&&J(f,_,h)}function Od(){return(Nn&6)===0?(Z(0),!1):!0}function Zu(){if(Vt!==null){if(ti===0)var f=Vt.return;else f=Vt,Qr=Va=null,kt(f),rc=null,ac=0,f=Vt;for(;f!==null;)Y_(f.alternate,f),f=f.return;Vt=null}}function Ps(f,h){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;_!==Ql&&(f.timeoutHandle=Ql,Pp(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),Zu(),Wn=f,Vt=_=da(f.current,null),xn=h,ti=0,Ks=null,Sa=!1,$r=O(f,h),fs=!1,Mo=ta=eh=ml=ea=li=0,Fi=eu=null,nm=!1,(h&8)!==0&&(h|=h&32);var C=f.entangledLanes;if(C!==0)for(f=f.entanglements,C&=h;0<C;){var I=31-fr(C),z=1<<I;h|=f[I],C&=~z}return Js=h,W(),_}function kr(f,h){dn=null,qt.H=Pi,h===yf?(h=Dt(),ti=3):h===Zd?(h=Dt(),ti=4):ti=h===em?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ks=h,Vt===null&&(li=1,Vu(f,se(h,f.current)))}function Xl(){var f=Kr.current;return f===null?!0:(xn&4194176)===xn?ai===null:(xn&62914560)===xn||(xn&536870912)!==0?f===ai:!1}function fo(){var f=qt.H;return qt.H=Pi,f===null?Pi:f}function ho(){var f=qt.A;return qt.A=bf,f}function nl(){li=4,Sa||(xn&4194176)!==xn&&Kr.current!==null||($r=!0),(ea&134217727)===0&&(ml&134217727)===0||Wn===null||Tr(Wn,xn,ta,!1)}function Cp(f,h,_){var C=Nn;Nn|=2;var I=fo(),z=ho();(Wn!==f||xn!==h)&&(th=null,Ps(f,h)),h=!1;var te=li;e:do try{if(ti!==0&&Vt!==null){var fe=Vt,we=Ks;switch(ti){case 8:Zu(),te=6;break e;case 3:case 2:case 6:Kr.current===null&&(h=!0);var $e=ti;if(ti=0,Ks=null,fa(f,fe,we,$e),_&&$r){te=0;break e}break;default:$e=ti,ti=0,Ks=null,fa(f,fe,we,$e)}}yy(),te=li;break}catch(dt){kr(f,dt)}while(!0);return h&&f.shellSuspendCounter++,Qr=Va=null,Nn=C,qt.H=I,qt.A=z,Vt===null&&(Wn=null,xn=0,W()),te}function yy(){for(;Vt!==null;)Di(Vt)}function vy(f,h){var _=Nn;Nn|=2;var C=fo(),I=ho();Wn!==f||xn!==h?(th=null,Sf=ga()+500,Ps(f,h)):$r=O(f,h);e:do try{if(ti!==0&&Vt!==null){h=Vt;var z=Ks;t:switch(ti){case 1:ti=0,Ks=null,fa(f,h,z,1);break;case 2:if(Je(z)){ti=0,Ks=null,Un(h);break}h=function(){ti===2&&Wn===f&&(ti=7),Te(f)},z.then(h,h);break e;case 3:ti=7;break e;case 4:ti=5;break e;case 7:Je(z)?(ti=0,Ks=null,Un(h)):(ti=0,Ks=null,fa(f,h,z,7));break;case 5:var te=null;switch(Vt.tag){case 26:te=Vt.memoizedState;case 5:case 27:var fe=Vt,we=fe.type,$e=fe.pendingProps;if(te?Hc(te):Up(we,$e)){ti=0,Ks=null;var dt=fe.sibling;if(dt!==null)Vt=dt;else{var Ct=fe.return;Ct!==null?(Vt=Ct,Vr(Ct)):Vt=null}break t}}ti=0,Ks=null,fa(f,h,z,5);break;case 6:ti=0,Ks=null,fa(f,h,z,6);break;case 8:Zu(),li=6;break e;default:throw Error(s(462))}}lr();break}catch(Rt){kr(f,Rt)}while(!0);return Qr=Va=null,qt.H=C,qt.A=I,Nn=_,Vt!==null?0:(Wn=null,xn=0,W(),li)}function lr(){for(;Vt!==null&&!Ub();)Di(Vt)}function Di(f){var h=j_(f.alternate,f,Js);f.memoizedProps=f.pendingProps,h===null?Vr(f):Vt=h}function Un(f){var h=f,_=h.alternate;switch(h.tag){case 15:case 0:h=F_(_,h,h.pendingProps,h.type,void 0,xn);break;case 11:h=F_(_,h,h.pendingProps,h.type.render,h.ref,xn);break;case 5:kt(h);default:Y_(_,h),h=Vt=Ld(h,Js),h=j_(_,h,Js)}f.memoizedProps=f.pendingProps,h===null?Vr(f):Vt=h}function fa(f,h,_,C){Qr=Va=null,kt(h),rc=null,ac=0;var I=h.return;try{if(_E(f,I,h,_,xn)){li=1,Vu(f,se(_,f.current)),Vt=null;return}}catch(z){if(I!==null)throw Vt=I,z;li=1,Vu(f,se(_,f.current)),Vt=null;return}h.flags&32768?(Bn||C===1?f=!0:$r||(xn&536870912)!==0?f=!1:(Sa=f=!0,(C===2||C===3||C===6)&&(C=Kr.current,C!==null&&C.tag===13&&(C.flags|=16384))),wp(h,f)):Vr(h)}function Vr(f){var h=f;do{if((h.flags&32768)!==0){wp(h,Sa);return}f=h.return;var _=X_(h.alternate,h,Js);if(_!==null){Vt=_;return}if(h=h.sibling,h!==null){Vt=h;return}Vt=h=f}while(h!==null);li===0&&(li=5)}function wp(f,h){do{var _=xE(f.alternate,f);if(_!==null){_.flags&=32767,Vt=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!h&&(f=f.sibling,f!==null)){Vt=f;return}Vt=f=_}while(f!==null);li=6,Vt=null}function Yl(f,h,_,C,I,z,te,fe,we,$e){var dt=qt.T,Ct=ll();try{qs(2),qt.T=null,Q_(f,h,_,C,Ct,I,z,te,fe,we,$e)}finally{qt.T=dt,qs(Ct)}}function Q_(f,h,_,C,I,z,te,fe){do La();while(To!==null);if((Nn&6)!==0)throw Error(s(327));var we=f.finishedWork;if(C=f.finishedLanes,we===null)return null;if(f.finishedWork=null,f.finishedLanes=0,we===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var $e=we.lanes|we.childLanes;if($e|=Ga,G(f,C,$e,z,te,fe),f===Wn&&(Vt=Wn=null,xn=0),(we.subtreeFlags&10256)===0&&(we.flags&10256)===0||Wa||(Wa=!0,fc=$e,im=_,sl(Jp,function(){return La(),null})),_=(we.flags&15990)!==0,(we.subtreeFlags&15990)!==0||_?(_=qt.T,qt.T=null,z=ll(),qs(2),te=Nn,Nn|=4,wd(f,we),dy(we,f),tb(f.containerInfo),f.current=we,xp(f,we.alternate,we),qp(),Nn=te,qs(z),qt.T=_):f.current=we,Wa?(Wa=!1,To=f,tu=C):_y(f,$e),$e=f.pendingLanes,$e===0&&(uc=null),H(we.stateNode),Te(f),h!==null)for(I=f.onRecoverableError,we=0;we<h.length;we++)$e=h[we],I($e.value,{componentStack:$e.stack});return(tu&3)!==0&&La(),$e=f.pendingLanes,(C&4194218)!==0&&($e&42)!==0?f===sm?Af++:(Af=0,sm=f):Af=0,Z(0),null}function _y(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,Ed(h)))}function La(){if(To!==null){var f=To,h=fc;fc=0;var _=ne(tu),C=32>_?32:_;_=qt.T;var I=ll();try{if(qs(C),qt.T=null,To===null)var z=!1;else{C=im,im=null;var te=To,fe=tu;if(To=null,tu=0,(Nn&6)!==0)throw Error(s(331));var we=Nn;if(Nn|=4,Mp(te.current),hy(te,te.current,fe,C),Nn=we,Z(0,!1),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Xi,te)}catch{}z=!0}return z}finally{qs(I),qt.T=_,_y(f,h)}}return!1}function $u(f,h,_){h=se(_,h),h=Wu(f.stateNode,h,2),f=St(f,h,2),f!==null&&(F(f,2),Te(f))}function Vn(f,h,_){if(f.tag===3)$u(f,f,_);else for(;h!==null;){if(h.tag===3){$u(h,f,_);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(uc===null||!uc.has(C))){f=se(_,f),_=Zg(2),C=St(h,_,2),C!==null&&(O_(_,C,h,f),F(C,2),Te(C));break}}h=h.return}}function Uc(f,h,_){var C=f.pingCache;if(C===null){C=f.pingCache=new xa;var I=new Set;C.set(h,I)}else I=C.get(h),I===void 0&&(I=new Set,C.set(h,I));I.has(_)||(fs=!0,I.add(_),f=by.bind(null,f,h,_),h.then(f,f))}function by(f,h,_){var C=f.pingCache;C!==null&&C.delete(h),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,Wn===f&&(xn&_)===_&&(li===4||li===3&&(xn&62914560)===xn&&300>ga()-hr?(Nn&2)===0&&Ps(f,0):eh|=_,Mo===xn&&(Mo=0)),Te(f)}function ql(f,h){h===0&&(h=L()),f=Ge(f,h),f!==null&&(F(f,h),Te(f))}function il(f){var h=f.memoizedState,_=0;h!==null&&(_=h.retryLane),ql(f,_)}function Kl(f,h){var _=0;switch(f.tag){case 13:var C=f.stateNode,I=f.memoizedState;I!==null&&(_=I.retryLane);break;case 19:C=f.stateNode;break;case 22:C=f.stateNode._retryCache;break;default:throw Error(s(314))}C!==null&&C.delete(h),ql(f,_)}function sl(f,h){return Kd(f,h)}function xy(f,h,_,C){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nd(f){return f=f.prototype,!(!f||!f.isReactComponent)}function da(f,h){var _=f.alternate;return _===null?(_=t(f.tag,h,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=h,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&31457280,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,h=f.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Ld(f,h){f.flags&=31457282;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,h=_.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function po(f,h,_,C,I,z){var te=0;if(C=f,typeof f=="function")Nd(f)&&(te=1);else if(typeof f=="string")te=Wr&&ri?Xd(f,_,cs.current)?26:go(f)?27:5:Wr?Xd(f,_,cs.current)?26:5:ri&&go(f)?27:5;else e:switch(f){case Jl:return Li(_.children,I,z,h);case zd:te=8,I|=24;break;case Ip:return f=t(12,_,h,I|2),f.elementType=Ip,f.lanes=z,f;case Op:return f=t(13,_,h,I),f.elementType=Op,f.lanes=z,f;case sf:return f=t(19,_,h,I),f.elementType=sf,f.lanes=z,f;case Ey:return Pd(_,I,z,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Hd:case Pa:te=10;break e;case Ay:te=9;break e;case Gd:te=11;break e;case Np:te=14;break e;case pa:te=16,C=null;break e}te=29,_=Error(s(130,f===null?"null":typeof f,"")),C=null}return h=t(te,_,h,I),h.elementType=f,h.type=C,h.lanes=z,h}function Li(f,h,_,C){return f=t(7,f,C,h),f.lanes=_,f}function Pd(f,h,_,C){f=t(22,f,C,h),f.elementType=Ey,f.lanes=_;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=I._current;if(z===null)throw Error(s(456));if((I._pendingVisibility&2)===0){var te=Ge(z,2);te!==null&&(I._pendingVisibility|=2,As(te,z,2))}},attach:function(){var z=I._current;if(z===null)throw Error(s(456));if((I._pendingVisibility&2)!==0){var te=Ge(z,2);te!==null&&(I._pendingVisibility&=-3,As(te,z,2))}}};return f.stateNode=I,f}function Rp(f,h,_){return f=t(6,f,null,h),f.lanes=_,f}function Sy(f,h,_){return h=t(4,f.children!==null?f.children:[],f.key,h),h.lanes=_,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function SE(f,h,_,C,I,z,te,fe){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ql,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=C,this.onUncaughtError=I,this.onCaughtError=z,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function Z_(f,h,_,C,I,z,te,fe,we,$e,dt,Ct){return f=new SE(f,h,_,te,fe,we,$e,Ct),h=1,z===!0&&(h|=24),z=t(3,null,null,h),f.current=z,z.stateNode=f,h=Hl(),h.refCount++,f.pooledCache=h,h.refCount++,z.memoizedState={element:C,isDehydrated:_,cache:h},Ve(z),f}function $i(f){return f?(f=nc,f):nc}function Bp(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=b(h),f=f!==null?x(f):null,f===null?null:of(f.stateNode)}function ef(f,h,_,C,I,z){I=$i(I),C.context===null?C.context=I:C.pendingContext=I,C=xt(h),C.payload={element:_},z=z===void 0?null:z,z!==null&&(C.callback=z),_=St(f,C,h),_!==null&&(As(_,f,h),Ye(_,f,h))}function tf(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<h?_:h}}function Ud(f,h){tf(f,h),(f=f.alternate)&&tf(f,h)}var an={},nf=Cg(),jr=cue(),Dp=Object.assign,AE=Symbol.for("react.element"),Fd=Symbol.for("react.transitional.element"),ha=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),Ay=Symbol.for("react.consumer"),Pa=Symbol.for("react.context"),Gd=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Ey=Symbol.for("react.offscreen"),$_=Symbol.for("react.memo_cache_sentinel"),rl=Symbol.iterator,My=Symbol.for("react.client.reference"),qt=nf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mo,al,Fc=!1,rf=Array.isArray,Ty=e.rendererVersion,kd=e.rendererPackageName,af=e.extraDevToolsConfig,of=e.getPublicInstance,eb=e.getRootHostContext,lf=e.getChildHostContext,Lp=e.prepareForCommit,tb=e.resetAfterCommit,Cy=e.createInstance,Vd=e.appendInitialChild,ol=e.finalizeInitialChildren,on=e.shouldSetTextContent,Kn=e.createTextInstance,es=e.scheduleTimeout,Pp=e.cancelTimeout,Ql=e.noTimeout,cr=e.isPrimaryRenderer;e.warnsIfNotActing;var ls=e.supportsMutation,ma=e.supportsPersistence,Us=e.supportsHydration,nb=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ji=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var qs=e.setCurrentUpdatePriority,ll=e.getCurrentUpdatePriority,ib=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var sb=e.shouldAttemptEagerTransition,EE=e.detachDeletedInstance;e.requestPostPaintCallback;var wy=e.maySuspendCommit,Up=e.preloadInstance,Ry=e.startSuspendingCommit,ur=e.suspendInstance,ts=e.waitForCommitToBeReady,Zl=e.NotPendingTransition,Ua=e.HostTransitionContext,Fp=e.resetFormInstance;e.bindToConsole;var By=e.supportsMicrotasks,cl=e.scheduleMicrotask,$l=e.supportsTestSelectors,Dy=e.findFiberRoot,Iy=e.getBoundingRect,rb=e.getTextContent,cf=e.isHiddenSubtree,ab=e.matchAccessibilityRole,ob=e.setFocusIfFocusable,lb=e.setupIntersectionObserver,cb=e.appendChild,Oy=e.appendChildToContainer,ub=e.commitTextUpdate,ME=e.commitMount,fb=e.commitUpdate,db=e.insertBefore,hb=e.insertInContainerBefore,Ny=e.removeChild,pb=e.removeChildFromContainer,Ly=e.resetTextContent,mb=e.hideInstance,gb=e.hideTextInstance,yb=e.unhideInstance,TE=e.unhideTextInstance,vb=e.clearContainer,uf=e.cloneInstance,jd=e.createContainerChildSet,Py=e.appendChildToContainerChildSet,zp=e.finalizeContainerChildren,ff=e.replaceContainerChildren,Uy=e.cloneHiddenInstance,Fy=e.cloneHiddenTextInstance,Hp=e.isSuspenseInstancePending,Gp=e.isSuspenseInstanceFallback,_b=e.getSuspenseInstanceFallbackErrorDetails,bb=e.registerSuspenseInstanceRetry,zy=e.canHydrateFormStateMarker,xb=e.isFormStateMarkerMatching,Hy=e.getNextHydratableSibling,kp=e.getFirstHydratableChild,Sb=e.getFirstHydratableChildWithinContainer,Ab=e.getFirstHydratableChildWithinSuspenseInstance,CE=e.canHydrateInstance,Gy=e.canHydrateTextInstance,Eb=e.canHydrateSuspenseInstance,Mb=e.hydrateInstance,ky=e.hydrateTextInstance,Tb=e.hydrateSuspenseInstance,Cb=e.getNextHydratableInstanceAfterSuspenseInstance,wE=e.commitHydratedContainer,RE=e.commitHydratedSuspenseInstance,wb=e.clearSuspenseBoundary,Wd=e.clearSuspenseBoundaryFromContainer,Vp=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var jp=e.validateHydratableInstance,Rb=e.validateHydratableTextInstance,Wr=e.supportsResources,Xd=e.isHostHoistableType,Wp=e.getHoistableRoot,Vy=e.getResource,Bb=e.acquireResource,zc=e.releaseResource,Yd=e.hydrateHoistable,qd=e.mountHoistable,df=e.unmountHoistable,Xp=e.createHoistableInstance,Db=e.prepareToCommitHoistables,Ib=e.mayResourceSuspendCommit,Hc=e.preloadResource,Ob=e.suspendResource,ri=e.supportsSingletons,Fa=e.resolveSingletonInstance,ec=e.clearSingleton,Nb=e.acquireSingletonInstance,tc=e.releaseSingletonInstance,go=e.isHostSingletonType,Wi=[],ul=-1,nc={},fr=Math.clz32?Math.clz32:w,Lb=Math.log,Pb=Math.LN2,yo=128,Gc=4194304,Kd=jr.unstable_scheduleCallback,Yp=jr.unstable_cancelCallback,Ub=jr.unstable_shouldYield,qp=jr.unstable_requestPaint,ga=jr.unstable_now,Kp=jr.unstable_ImmediatePriority,Fb=jr.unstable_UserBlockingPriority,Jp=jr.unstable_NormalPriority,BE=jr.unstable_IdlePriority,zb=jr.log,Es=jr.unstable_setDisableYieldValue,Xi=null,Cr=null,wr=typeof Object.is=="function"?Object.is:$,jy=new WeakMap,kc=[],Vc=0,jc=null,hf=0,Xr=[],Yr=0,ic=null,za=1,Ha="",cs=A(null),pf=A(null),vo=A(null),Wc=A(null),Fs=null,zs=null,Bn=!1,ya=null,Ms=!1,Jd=Error(s(519)),va=[],Xc=0,Ga=0,Qd=null,fl=null,Yc=!1,di=!1,Wy=!1,mf=0,gf=null,qc=0,qr=0,Kc=null,dl=!1,Jc=!1,_o=Object.prototype.hasOwnProperty,yf=Error(s(460)),Zd=Error(s(474)),$d={then:function(){}},sc=null,rc=null,ac=0,oc=Zn(!0),bo=Zn(!1),hi=A(null),vf=A(0),Kr=A(null),ai=null,us=A(0),hl=0,dn=null,Ht=null,On=null,_a=!1,Qc=!1,lc=!1,Qp=0,Zc=0,Ts=null,ka=0,Zp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Pi={readContext:Os,use:Ne,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt};Pi.useCacheRefresh=Qt,Pi.useMemoCache=Qt,Pi.useHostTransitionStatus=Qt,Pi.useFormState=Qt,Pi.useActionState=Qt,Pi.useOptimistic=Qt;var cc={readContext:Os,use:Ne,useCallback:function(f,h){return Y().memoizedState=[f,h===void 0?null:h],f},useContext:Os,useEffect:cp,useImperativeHandle:function(f,h,_){_=_!=null?_.concat([f]):null,dd(4194308,4,up.bind(null,h,f),_)},useLayoutEffect:function(f,h){return dd(4194308,4,f,h)},useInsertionEffect:function(f,h){dd(4,2,f,h)},useMemo:function(f,h){var _=Y();h=h===void 0?null:h;var C=f();if(lc){q(!0);try{f()}finally{q(!1)}}return _.memoizedState=[C,h],C},useReducer:function(f,h,_){var C=Y();if(_!==void 0){var I=_(h);if(lc){q(!0);try{_(h)}finally{q(!1)}}}else I=h;return C.memoizedState=C.baseState=I,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:I},C.queue=f,f=f.dispatch=dp.bind(null,dn,f),[C.memoizedState,f]},useRef:function(f){var h=Y();return f={current:f},h.memoizedState=f},useState:function(f){f=vn(f);var h=f.queue,_=Qg.bind(null,dn,h);return h.dispatch=_,[f.memoizedState,_]},useDebugValue:Ll,useDeferredValue:function(f,h){var _=Y();return md(_,f,h)},useTransition:function(){var f=vn(!1);return f=Fu.bind(null,dn,f.queue,!0,!1),Y().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,_){var C=dn,I=Y();if(Bn){if(_===void 0)throw Error(s(407));_=_()}else{if(_=h(),Wn===null)throw Error(s(349));(xn&60)!==0||Ot(C,h,_)}I.memoizedState=_;var z={value:_,getSnapshot:h};return I.queue=z,cp(nn.bind(null,C,z,f),[f]),C.flags|=2048,rr(9,It.bind(null,C,z,_,h),{destroy:void 0},null),_},useId:function(){var f=Y(),h=Wn.identifierPrefix;if(Bn){var _=Ha,C=za;_=(C&~(1<<32-fr(C)-1)).toString(32)+_,h=":"+h+"R"+_,_=Qp++,0<_&&(h+="H"+_.toString(32)),h+=":"}else _=ka++,h=":"+h+"r"+_.toString(32)+":";return f.memoizedState=h},useCacheRefresh:function(){return Y().memoizedState=Jg.bind(null,dn)}};cc.useMemoCache=Ee,cc.useHostTransitionStatus=gd,cc.useFormState=ei,cc.useActionState=ei,cc.useOptimistic=function(f){var h=Y();h.memoizedState=h.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=_,h=Hu.bind(null,dn,!0,_),_.dispatch=h,[f,h]};var dr={readContext:Os,use:Ne,useCallback:Nc,useContext:Os,useEffect:Yg,useImperativeHandle:fp,useInsertionEffect:D_,useLayoutEffect:pd,useMemo:qg,useReducer:mt,useRef:co,useState:function(){return mt(st)},useDebugValue:Ll,useDeferredValue:function(f,h){var _=pe();return Kg(_,Ht.memoizedState,f,h)},useTransition:function(){var f=mt(st)[0],h=pe().memoizedState;return[typeof f=="boolean"?f:Re(f),h]},useSyncExternalStore:yt,useId:zu};dr.useCacheRefresh=Yo,dr.useMemoCache=Ee,dr.useHostTransitionStatus=gd,dr.useFormState=Ds,dr.useActionState=Ds,dr.useOptimistic=function(f,h){var _=pe();return bn(_,Ht,f,h)};var Jr={readContext:Os,use:Ne,useCallback:Nc,useContext:Os,useEffect:Yg,useImperativeHandle:fp,useInsertionEffect:D_,useLayoutEffect:pd,useMemo:qg,useReducer:Tt,useRef:co,useState:function(){return Tt(st)},useDebugValue:Ll,useDeferredValue:function(f,h){var _=pe();return Ht===null?md(_,f,h):Kg(_,Ht.memoizedState,f,h)},useTransition:function(){var f=Tt(st)[0],h=pe().memoizedState;return[typeof f=="boolean"?f:Re(f),h]},useSyncExternalStore:yt,useId:zu};Jr.useCacheRefresh=Yo,Jr.useMemoCache=Ee,Jr.useHostTransitionStatus=gd,Jr.useFormState=xs,Jr.useActionState=xs,Jr.useOptimistic=function(f,h){var _=pe();return Ht!==null?bn(_,Ht,f,h):(_.baseState=f,[f,_.queue.dispatch])};var xo={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,h,_){f=f._reactInternals;var C=Vi(),I=xt(C);I.payload=h,_!=null&&(I.callback=_),h=St(f,I,C),h!==null&&(As(h,f,C),Ye(h,f,C))},enqueueReplaceState:function(f,h,_){f=f._reactInternals;var C=Vi(),I=xt(C);I.tag=1,I.payload=h,_!=null&&(I.callback=_),h=St(f,I,C),h!==null&&(As(h,f,C),Ye(h,f,C))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var _=Vi(),C=xt(_);C.tag=2,h!=null&&(C.callback=h),h=St(f,C,_),h!==null&&(As(h,f,_),Ye(h,f,_))}},$p=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},em=Error(s(461)),oi=!1,tm={dehydrated:null,treeContext:null,retryLane:0},pl=A(null),Va=null,Qr=null,_f=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(_,C){f.push(C)}};this.abort=function(){h.aborted=!0,f.forEach(function(_){return _()})}},Hb=jr.unstable_scheduleCallback,Gb=jr.unstable_NormalPriority,pi={$$typeof:Pa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Xy=qt.S;qt.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&rt(f,h),Xy!==null&&Xy(f,h)};var So=A(null),Ao=!1,Ui=!1,Yy=!1,jn=typeof WeakSet=="function"?WeakSet:Set,sn=null,gn=!1,zt=null,un=!1,Ii=null,Zr=8192,bf={getCacheForType:function(f){var h=Os(pi),_=h.data.get(f);return _===void 0&&(_=f(),h.data.set(f,_)),_}},xf=0,ba=1,bi=2,ja=3,Eo=4;if(typeof Symbol=="function"&&Symbol.for){var $c=Symbol.for;xf=$c("selector.component"),ba=$c("selector.has_pseudo_class"),bi=$c("selector.role"),ja=$c("selector.test_id"),Eo=$c("selector.text")}var xa=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Wn=null,Vt=null,xn=0,ti=0,Ks=null,Sa=!1,$r=!1,fs=!1,Js=0,li=0,ea=0,ml=0,eh=0,ta=0,Mo=0,eu=null,Fi=null,nm=!1,hr=0,Sf=1/0,th=null,uc=null,Wa=!1,To=null,tu=0,fc=0,im=null,Af=0,sm=null;return an.attemptContinuousHydration=function(f){if(f.tag===13){var h=Ge(f,67108864);h!==null&&As(h,f,67108864),Ud(f,67108864)}},an.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Vi(),_=Ge(f,h);_!==null&&As(_,f,h),Ud(f,h)}},an.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=R(f.pendingLanes);if(h!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;h;){var _=1<<31-fr(h);f.entanglements[1]|=_,h&=~_}Te(f),(Nn&6)===0&&(Sf=ga()+500,Z(0))}}break;case 13:h=Ge(f,2),h!==null&&As(h,f,2),Od(),Ud(f,2)}},an.batchedUpdates=function(f,h){return f(h)},an.createComponentSelector=function(f){return{$$typeof:xf,value:f}},an.createContainer=function(f,h,_,C,I,z,te,fe,we,$e){return Z_(f,h,!1,null,_,C,z,te,fe,we,$e,null)},an.createHasPseudoClassSelector=function(f){return{$$typeof:ba,value:f}},an.createHydrationContainer=function(f,h,_,C,I,z,te,fe,we,$e,dt,Ct,Rt){return f=Z_(_,C,!0,f,I,z,fe,we,$e,dt,Ct,Rt),f.context=$i(null),_=f.current,C=Vi(),I=xt(C),I.callback=h??null,St(_,I,C),f.current.lanes=C,F(f,C),Te(f),f},an.createPortal=function(f,h,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:C==null?null:""+C,children:f,containerInfo:h,implementation:_}},an.createRoleSelector=function(f){return{$$typeof:bi,value:f}},an.createTestNameSelector=function(f){return{$$typeof:ja,value:f}},an.createTextSelector=function(f){return{$$typeof:Eo,value:f}},an.defaultOnCaughtError=function(f){console.error(f)},an.defaultOnRecoverableError=function(f){$p(f)},an.defaultOnUncaughtError=function(f){$p(f)},an.deferredUpdates=function(f){var h=qt.T,_=ll();try{return qs(32),qt.T=null,f()}finally{qs(_),qt.T=h}},an.discreteUpdates=function(f,h,_,C,I){var z=qt.T,te=ll();try{return qs(2),qt.T=null,f(h,_,C,I)}finally{qs(te),qt.T=z,Nn===0&&(Sf=ga()+500)}},an.findAllNodes=Dd,an.findBoundingRects=function(f,h){if(!$l)throw Error(s(363));h=Dd(f,h),f=[];for(var _=0;_<h.length;_++)f.push(Iy(h[_]));for(h=f.length-1;0<h;h--){_=f[h];for(var C=_.x,I=C+_.width,z=_.y,te=z+_.height,fe=h-1;0<=fe;fe--)if(h!==fe){var we=f[fe],$e=we.x,dt=$e+we.width,Ct=we.y,Rt=Ct+we.height;if(C>=$e&&z>=Ct&&I<=dt&&te<=Rt){f.splice(h,1);break}else if(C!==$e||_.width!==we.width||Rt<z||Ct>te){if(!(z!==Ct||_.height!==we.height||dt<C||$e>I)){$e>C&&(we.width+=$e-C,we.x=C),dt<I&&(we.width=I-$e),f.splice(h,1);break}}else{Ct>z&&(we.height+=Ct-z,we.y=z),Rt<te&&(we.height=te-Ct),f.splice(h,1);break}}}return f},an.findHostInstance=Bp,an.findHostInstanceWithNoPortals=function(f){return f=b(f),f=f!==null?E(f):null,f===null?null:of(f.stateNode)},an.findHostInstanceWithWarning=function(f){return Bp(f)},an.flushPassiveEffects=La,an.flushSyncFromReconciler=function(f){var h=Nn;Nn|=1;var _=qt.T,C=ll();try{if(qs(2),qt.T=null,f)return f()}finally{qs(C),qt.T=_,Nn=h,(Nn&6)===0&&Z(0)}},an.flushSyncWork=Od,an.focusWithin=function(f,h){if(!$l)throw Error(s(363));for(f=Ju(f),h=Mr(f,h),h=Array.from(h),f=0;f<h.length;){var _=h[f++],C=_.tag;if(!cf(_)){if((C===5||C===26||C===27)&&ob(_.stateNode))return!0;for(_=_.child;_!==null;)h.push(_),_=_.sibling}}return!1},an.getFindAllNodesFailureDescription=function(f,h){if(!$l)throw Error(s(363));var _=0,C=[];f=[Ju(f),0];for(var I=0;I<f.length;){var z=f[I++],te=z.tag,fe=f[I++],we=h[fe];if((te!==5&&te!==26&&te!==27||!cf(z))&&(jl(z,we)&&(C.push(my(we)),fe++,fe>_&&(_=fe)),fe<h.length))for(z=z.child;z!==null;)f.push(z,fe),z=z.sibling}if(_<h.length){for(f=[];_<h.length;_++)f.push(my(h[_]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},an.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return of(f.child.stateNode);default:return f.child.stateNode}},an.injectIntoDevTools=function(){var f={bundleType:0,version:Ty,rendererPackageName:kd,currentDispatcherRef:qt,findFiberByHostInstance:nb,reconcilerVersion:"19.0.0"};if(af!==null&&(f.rendererConfig=af),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Xi=h.inject(f),Cr=h}catch{}f=!!h.checkDCE}}return f},an.isAlreadyRendering=function(){return!1},an.observeVisibleRects=function(f,h,_,C){if(!$l)throw Error(s(363));f=Dd(f,h);var I=lb(f,_,C).disconnect;return{disconnect:function(){I()}}},an.shouldError=function(){return null},an.shouldSuspend=function(){return!1},an.startHostTransition=function(f,h,_,C){if(f.tag!==5)throw Error(s(476));var I=uo(f).queue;Fu(f,I,h,Zl,_===null?i:function(){var z=uo(f).next.queue;return Pl(f,z,{},Vi()),_(C)})},an.updateContainer=function(f,h,_,C){var I=h.current,z=Vi();return ef(I,z,f,h,_,C),z},an.updateContainerSync=function(f,h,_,C){return h.tag===0&&La(),ef(h.current,2,f,h,_,C),2},an},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(LT)),LT.exports}var SL;function fue(){return SL||(SL=1,NT.exports=uue()),NT.exports}var due=fue();const hue=K0(due);var FT={exports:{}},zT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL;function pue(){return AL||(AL=1,function(n){function e(H,q){var $=H.length;H.push(q);e:for(;0<$;){var se=$-1>>>1,X=H[se];if(0<s(X,q))H[se]=q,H[$]=X,$=se;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],$=H.pop();if($!==q){H[0]=$;e:for(var se=0,X=H.length,ae=X>>>1;se<ae;){var _e=2*(se+1)-1,Ae=H[_e],ce=_e+1,be=H[ce];if(0>s(Ae,$))ce<X&&0>s(be,Ae)?(H[se]=be,H[ce]=$,se=ce):(H[se]=Ae,H[_e]=$,se=_e);else if(ce<X&&0>s(be,$))H[se]=be,H[ce]=$,se=ce;else break e}}return q}function s(H,q){var $=H.sortIndex-q.sortIndex;return $!==0?$:H.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],d=[],m=1,g=null,y=3,b=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=H)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(d)}}function R(H){if(E=!1,w(H),!x)if(t(u)!==null)x=!0,ie();else{var q=t(d);q!==null&&ne(R,q.startTime-H)}}var N=!1,O=-1,U=5,P=-1;function L(){return!(n.unstable_now()-P<U)}function M(){if(N){var H=n.unstable_now();P=H;var q=!0;try{e:{x=!1,E&&(E=!1,S(O),O=-1),b=!0;var $=y;try{t:{for(w(H),g=t(u);g!==null&&!(g.expirationTime>H&&L());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var X=se(g.expirationTime<=H);if(H=n.unstable_now(),typeof X=="function"){g.callback=X,w(H),q=!0;break t}g===t(u)&&i(u),w(H)}else i(u);g=t(u)}if(g!==null)q=!0;else{var ae=t(d);ae!==null&&ne(R,ae.startTime-H),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?F():N=!1}}}var F;if(typeof B=="function")F=function(){B(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=M,F=function(){J.postMessage(null)}}else F=function(){A(M,0)};function ie(){N||(N=!0,F())}function ne(H,q){O=A(function(){H(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,ie())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return H()}finally{y=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return q()}finally{y=$}},n.unstable_scheduleCallback=function(H,q,$){var se=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,H={id:m++,callback:q,priorityLevel:H,startTime:$,expirationTime:X,sortIndex:-1},$>se?(H.sortIndex=$,e(d,H),t(u)===null&&H===t(d)&&(E?(S(O),O=-1):E=!0,ne(R,$-se))):(H.sortIndex=X,e(u,H),x||b||(x=!0,ie())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var q=y;return function(){var $=y;y=q;try{return H.apply(this,arguments)}finally{y=$}}}}(zT)),zT}var EL;function mue(){return EL||(EL=1,FT.exports=pue()),FT.exports}var ML=mue();const gue=n=>typeof n=="object"&&typeof n.then=="function",Fh=[];function u5(n,e,t=(i,s)=>i===s){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let s=0;s<i;s++)if(!t(n[s],e[s]))return!1;return!0}function f5(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of Fh)if(u5(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const s={keys:e,equal:i.equal,remove:()=>{const r=Fh.indexOf(s);r!==-1&&Fh.splice(r,1)},promise:(gue(n)?n:n(...e)).then(r=>{s.response=r,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(r=>s.error=r)};if(Fh.push(s),!t)throw s.promise}const yue=(n,e,t)=>f5(n,e,!1,t),vue=(n,e,t)=>void f5(n,e,!0,t),_ue=n=>{if(n===void 0||n.length===0)Fh.splice(0,Fh.length);else{const e=Fh.find(t=>u5(n,t.keys,t.equal));e&&e.remove()}};function gB(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const s=gB(i,e,t);if(s)return s;i=e?null:i.sibling}}function d5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const yB=d5(K.createContext(null));class h5 extends K.Component{render(){return K.createElement(yB.Provider,{value:this._reactInternals},this.props.children)}}function p5(){const n=K.useContext(yB);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=gB(t,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const bue=Symbol.for("react.context"),xue=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===bue;function Sue(){const n=p5(),[e]=K.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;xue(i)&&i!==yB&&!e.has(i)&&e.set(i,K.use(d5(i))),t=t.return}return e}function Aue(){const n=Sue();return K.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>K.createElement(e,null,K.createElement(t.Provider,{...i,value:n.get(t)})),e=>K.createElement(h5,{...e})),[n])}function m5(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const g5=n=>n&&n.isOrthographicCamera,Eue=n=>n&&n.hasOwnProperty("current"),Mue=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),R_=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?K.useLayoutEffect:K.useEffect;function y5(n){const e=K.useRef(n);return R_(()=>void(e.current=n),[n]),e}function Tue(){const n=p5(),e=Aue();return K.useMemo(()=>({children:t})=>{const s=!!gB(n,!0,r=>r.type===K.StrictMode)?K.StrictMode:K.Fragment;return he.jsx(s,{children:he.jsx(e,{children:t})})},[n,e])}function Cue({set:n}){return R_(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const wue=(n=>(n=class extends K.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function v5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Lm(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Gi={obj:n=>n===Object(n)&&!Gi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Gi.str(n)||Gi.num(n)||Gi.boo(n))return n===e;const r=Gi.obj(n);if(r&&i==="reference")return n===e;const a=Gi.arr(n);if(a&&t==="reference")return n===e;if((a||r)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(l in s?e:n)if(!Gi.equ(n[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in s?e:n)if(n[l]!==e[l])return!1;if(Gi.und(l)){if(a&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Rue(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function Bue(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const _5=["children","key","ref"];function Due(n){const e={};for(const t in n)_5.includes(t)||(e[t]=n[t]);return e}function QA(n,e,t,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:Due(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function q0(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const s of e.split("-")){var i;e=s,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const TL=/-\d+$/;function ZA(n,e){if(Gi.str(e.props.attach)){if(TL.test(e.props.attach)){const s=e.props.attach.replace(TL,""),{root:r,key:a}=q0(n.object,s);Array.isArray(r[a])||(r[a]=[])}const{root:t,key:i}=q0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Gi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function $A(n,e){if(Gi.str(e.props.attach)){const{root:t,key:i}=q0(n.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[i]:t[i]=s}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const xw=[..._5,"args","dispose","attach","object","onUpdate","dispose"],CL=new Map;function Iue(n){let e=CL.get(n.constructor);try{e||(e=new n.constructor,CL.set(n.constructor,e))}catch{}return e}function Oue(n,e){const t={};for(const i in e)if(!xw.includes(i)&&!Gi.equ(e[i],n.props[i])){t[i]=e[i];for(const s in e)s.startsWith(`${i}-`)&&(t[s]=e[s])}for(const i in n.props){if(xw.includes(i)||e.hasOwnProperty(i))continue;const{root:s,key:r}=q0(n.object,i);if(s.constructor&&s.constructor.length===0){const a=Iue(s);Gi.und(a)||(t[r]=a[r])}else t[r]=0}return t}const Nue=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Lue=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Vf(n,e){var t;const i=n.__r3f,s=i&&m5(i).getState(),r=i==null?void 0:i.eventCount;for(const l in e){let u=e[l];if(xw.includes(l))continue;if(i&&Lue.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:d,key:m,target:g}=q0(n,l);if(g instanceof Sg&&u instanceof Sg)g.mask=u.mask;else if(g instanceof Et&&Mue(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var a;d[m]=u,s&&!s.linear&&Nue.includes(m)&&(a=d[m])!=null&&a.isTexture&&d[m].format===Fr&&d[m].type===ko&&(d[m].colorSpace=Lr)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const l=i.object,u=s.internal.interaction.indexOf(l);u>-1&&s.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Xg(i),n}function Xg(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Pue(n,e){n.manual||(g5(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ra=n=>n==null?void 0:n.isObject3D;function uS(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function b5(n,e,t,i){const s=t.get(e);s&&(t.delete(e),t.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function Uue(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((i,s)=>{b5(t.capturedMap,e,i,s)})}function Fue(n){function e(u){const{internal:d}=n.getState(),m=u.offsetX-d.initialClick[0],g=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(u,d){const m=n.getState(),g=new Set,y=[],b=d?d(m.internal.interaction):m.internal.interaction;for(let S=0;S<b.length;S++){const B=Lm(b[S]);B&&(B.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function x(S){const B=Lm(S);if(!B||!B.events.enabled||B.raycaster.camera===null)return[];if(B.raycaster.camera===void 0){var w;B.events.compute==null||B.events.compute(u,B,(w=B.previousRoot)==null?void 0:w.getState()),B.raycaster.camera===void 0&&(B.raycaster.camera=null)}return B.raycaster.camera?B.raycaster.intersectObject(S,!0):[]}let E=b.flatMap(x).sort((S,B)=>{const w=Lm(S.object),R=Lm(B.object);return!w||!R?S.distance-B.distance:R.events.priority-w.events.priority||S.distance-B.distance}).filter(S=>{const B=uS(S);return g.has(B)?!1:(g.add(B),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const S of E){let B=S.object;for(;B;){var A;(A=B.__r3f)!=null&&A.eventCount&&y.push({...S,eventObject:B}),B=B.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let S of m.internal.capturedMap.get(u.pointerId).values())g.has(uS(S.intersection))||y.push(S.intersection);return y}function s(u,d,m,g){if(u.length){const y={stopped:!1};for(const b of u){let x=Lm(b.object);if(x||b.object.traverseAncestors(E=>{const A=Lm(E);if(A)return x=A,!1}),x){const{raycaster:E,pointer:A,camera:S,internal:B}=x,w=new re(A.x,A.y,0).unproject(S),R=L=>{var M,F;return(M=(F=B.capturedMap.get(L))==null?void 0:F.has(b.eventObject))!=null?M:!1},N=L=>{const M={intersection:b,target:d.target};B.capturedMap.has(L)?B.capturedMap.get(L).set(b.eventObject,M):B.capturedMap.set(L,new Map([[b.eventObject,M]])),d.target.setPointerCapture(L)},O=L=>{const M=B.capturedMap.get(L);M&&b5(B.capturedMap,b.eventObject,M,L)};let U={};for(let L in d){let M=d[L];typeof M!="function"&&(U[L]=M)}let P={...b,...U,pointer:A,intersections:u,stopped:y.stopped,delta:m,unprojectedPoint:w,ray:E.ray,camera:S,stopPropagation(){const L="pointerId"in d&&B.capturedMap.get(d.pointerId);if((!L||L.has(b.eventObject))&&(P.stopped=y.stopped=!0,B.hovered.size&&Array.from(B.hovered.values()).find(M=>M.eventObject===b.eventObject))){const M=u.slice(0,u.indexOf(b));r([...M,b])}},target:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:O},currentTarget:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:O},nativeEvent:d};if(g(P),y.stopped===!0)break}}}return u}function r(u){const{internal:d}=n.getState();for(const m of d.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(d.hovered.delete(uS(m)),y!=null&&y.eventCount){const b=y.handlers,x={...m,intersections:u};b.onPointerOut==null||b.onPointerOut(x),b.onPointerLeave==null||b.onPointerLeave(x)}}}function a(u,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const b=u==="onPointerMove",x=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",A=i(m,b?t:void 0),S=x?e(m):0;u==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=A.map(w=>w.eventObject)),x&&!A.length&&S<=2&&(a(m,y.interaction),g&&g(m)),b&&r(A);function B(w){const R=w.eventObject,N=R.__r3f;if(!(N!=null&&N.eventCount))return;const O=N.handlers;if(b){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const U=uS(w),P=y.hovered.get(U);P?P.stopped&&w.stopPropagation():(y.hovered.set(U,w),O.onPointerOver==null||O.onPointerOver(w),O.onPointerEnter==null||O.onPointerEnter(w))}O.onPointerMove==null||O.onPointerMove(w)}else{const U=O[u];U?(!x||y.initialHits.includes(R))&&(a(m,y.interaction.filter(P=>!y.initialHits.includes(P))),U(w)):x&&y.initialHits.includes(R)&&a(m,y.interaction.filter(P=>!y.initialHits.includes(P)))}}s(A,m,S,B)}}return{handlePointer:l}}const wL=n=>!!(n!=null&&n.render),x5=K.createContext(null),zue=(n,e)=>{const t=oue((l,u)=>{const d=new re,m=new re,g=new re;function y(S=u().camera,B=m,w=u().size){const{width:R,height:N,top:O,left:U}=w,P=R/N;B.isVector3?g.copy(B):g.set(...B);const L=S.getWorldPosition(d).distanceTo(g);if(g5(S))return{width:R/S.zoom,height:N/S.zoom,top:O,left:U,factor:1,distance:L,aspect:P};{const M=S.fov*Math.PI/180,F=2*Math.tan(M/2)*L,G=F*(R/N);return{width:G,height:F,top:O,left:U,factor:R/G,distance:L,aspect:P}}}let b;const x=S=>l(B=>({performance:{...B.performance,current:S}})),E=new tt;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(u(),S),advance:(S,B)=>e(S,B,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new uB,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();b&&clearTimeout(b),S.performance.current!==S.performance.min&&x(S.performance.min),b=setTimeout(()=>x(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>l(B=>({...B,events:{...B.events,...S}})),setSize:(S,B,w=0,R=0)=>{const N=u().camera,O={width:S,height:B,top:w,left:R};l(U=>({size:O,viewport:{...U.viewport,...y(N,m,O)}}))},setDpr:S=>l(B=>{const w=v5(S);return{viewport:{...B.viewport,dpr:w,initialDpr:B.viewport.initialDpr||w}}}),setFrameloop:(S="always")=>{const B=u().clock;B.stop(),B.elapsedTime=0,S!=="never"&&(B.start(),B.elapsedTime=0),l(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:K.createRef(),active:!1,frames:0,priority:0,subscribe:(S,B,w)=>{const R=u().internal;return R.priority=R.priority+(B>0?1:0),R.subscribers.push({ref:S,priority:B,store:w}),R.subscribers=R.subscribers.sort((N,O)=>N.priority-O.priority),()=>{const N=u().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(B>0?1:0),N.subscribers=N.subscribers.filter(O=>O.ref!==S))}}}}}),i=t.getState();let s=i.size,r=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:d,gl:m,set:g}=t.getState();if(u.width!==s.width||u.height!==s.height||d.dpr!==r){s=u,r=d.dpr,Pue(l,u),d.dpr>0&&m.setPixelRatio(d.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,y)}l!==a&&(a=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function S5(){const n=K.useContext(x5);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ff(n=t=>t,e){return S5()(n,e)}function A5(n,e=0){const t=S5(),i=t.getState().internal.subscribe,s=y5(n);return R_(()=>i(s,e,t),[e,i,t]),null}const RL=new WeakMap,Hue=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function E5(n,e){return function(t,...i){let s;return Hue(t)?(s=RL.get(t),s||(s=new t,RL.set(t,s))):s=t,n&&n(s),Promise.all(i.map(r=>new Promise((a,l)=>s.load(r,u=>{ra(u==null?void 0:u.scene)&&Object.assign(u,Rue(u.scene)),a(u)},e,u=>l(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`))))))}}function B_(n,e,t,i){const s=Array.isArray(e)?e:[e],r=yue(E5(t,i),[n,...s],{equal:Gi.equ});return Array.isArray(e)?r:r[0]}B_.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return vue(E5(t),[n,...i])};B_.clear=function(n,e){const t=Array.isArray(e)?e:[e];return _ue([n,...t])};function Gue(n){const e=hue(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version}),e}const M5=0,Tg={},kue=/^three(?=[A-Z])/,yE=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Vue=0;const jue=n=>typeof n=="function";function Wue(n){if(jue(n)){const e=`${Vue++}`;return Tg[e]=n,e}else Object.assign(Tg,n)}function T5(n,e){const t=yE(n),i=Tg[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Xue(n,e,t){var i;return n=yE(n)in Tg?n:n.replace(kue,""),T5(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,QA(e.object,t,n,e)}function Yue(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?$A(n.parent,n):ra(n.object)&&(n.object.visible=!1),n.isHidden=!0,Xg(n)}}function C5(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?ZA(n.parent,n):ra(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Xg(n)}}function vB(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var s,r;const a=Tg[yE(e.type)];e.object=(s=e.props.object)!=null?s:new a(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Vf(e.object,e.props),e.props.attach)ZA(n,e);else if(ra(e.object)&&ra(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const u=l<a?a-1:a;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)vB(e,a);Xg(e)}}function HT(n,e){e&&(e.parent=n,n.children.push(e),vB(n,e))}function BL(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),vB(n,e,t)}function w5(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():ML.unstable_scheduleCallback(ML.unstable_IdlePriority,e)}}function Sw(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?$A(n,e):ra(e.object)&&ra(n.object)&&(n.object.remove(e.object),Uue(m5(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const a=e.children[r];Sw(e,a,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&w5(e.object),t===void 0&&Xg(e)}function que(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const IS=[];function Kue(){for(const[t]of IS){const i=t.parent;if(i){t.props.attach?$A(i,t):ra(t.object)&&ra(i.object)&&i.object.remove(t.object);for(const s of t.children)s.props.attach?$A(t,s):ra(s.object)&&ra(t.object)&&t.object.remove(s.object)}t.isHidden&&C5(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&w5(t.object)}for(const[t,i,s]of IS){t.props=i;const r=t.parent;if(r){var n,e;const a=Tg[yE(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,que(s,t.object),Vf(t.object,t.props),t.props.attach?ZA(r,t):ra(t.object)&&ra(r.object)&&r.object.add(t.object);for(const l of t.children)l.props.attach?ZA(t,l):ra(l.object)&&ra(t.object)&&t.object.add(l.object);Xg(t)}}IS.length=0}const GT=()=>{},DL={};let fS=M5;const Jue=0,Que=4,Aw=Gue({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Xue,removeChild:Sw,appendChild:HT,appendInitialChild:HT,insertBefore:BL,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||HT(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||Sw(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||BL(i,e,t)},getRootHostContext:()=>DL,getChildHostContext:()=>DL,commitUpdate(n,e,t,i,s){var r,a,l;T5(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((a=t.args)==null?void 0:a.length)||(l=i.args)!=null&&l.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(u=!0),u)IS.push([n,{...i},s]);else{const m=Oue(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Vf(n.object,m))}(s.sibling===null||(s.flags&Que)===Jue)&&Kue()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>QA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Yue,unhideInstance:C5,createTextInstance:GT,hideTextInstance:GT,unhideTextInstance:GT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:K.createContext(null),setCurrentUpdatePriority(n){fS=n},getCurrentUpdatePriority(){return fS},resolveUpdatePriority(){var n;if(fS!==M5)return fS;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return DS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return DS.ContinuousEventPriority;default:return DS.DefaultEventPriority}},resetFormInstance(){}}),ip=new Map,Pm={objects:"shallow",strict:!1};function Zue(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:s,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function $ue(n){const e=ip.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||zue(Tw,OL),a=t||Aw.createContainer(r,DS.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||ip.set(n,{fiber:a,store:r});let l,u,d=!1,m=null;return{async configure(g={}){let y;m=new Promise(ae=>y=ae);let{gl:b,size:x,scene:E,events:A,onCreated:S,shadows:B=!1,linear:w=!1,flat:R=!1,legacy:N=!1,orthographic:O=!1,frameloop:U="always",dpr:P=[1,2],performance:L,raycaster:M,camera:F,onPointerMissed:G}=g,J=r.getState(),ie=J.gl;if(!J.gl){const ae={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},_e=typeof b=="function"?await b(ae):b;wL(_e)?ie=_e:ie=new c5({...ae,...b}),J.set({gl:ie})}let ne=J.raycaster;ne||J.set({raycaster:ne=new t5});const{params:H,...q}=M||{};if(Gi.equ(q,ne,Pm)||Vf(ne,{...q}),Gi.equ(H,ne.params,Pm)||Vf(ne,{params:{...ne.params,...H}}),!J.camera||J.camera===u&&!Gi.equ(u,F,Pm)){u=F;const ae=F==null?void 0:F.isCamera,_e=ae?F:O?new Su(0,0,0,0,.1,1e3):new as(75,0,.1,1e3);ae||(_e.position.z=5,F&&(Vf(_e,F),_e.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(_e.manual=!0,_e.updateProjectionMatrix())),!J.camera&&!(F!=null&&F.rotation)&&_e.lookAt(0,0,0)),J.set({camera:_e}),ne.camera=_e}if(!J.scene){let ae;E!=null&&E.isScene?(ae=E,QA(ae,r,"",{})):(ae=new G2,QA(ae,r,"",{}),E&&Vf(ae,E)),J.set({scene:ae})}A&&!J.events.handlers&&J.set({events:A(r)});const $=Zue(n,x);if(Gi.equ($,J.size,Pm)||J.setSize($.width,$.height,$.top,$.left),P&&J.viewport.dpr!==v5(P)&&J.setDpr(P),J.frameloop!==U&&J.setFrameloop(U),J.onPointerMissed||J.set({onPointerMissed:G}),L&&!Gi.equ(L,J.performance,Pm)&&J.set(ae=>({performance:{...ae.performance,...L}})),!J.xr){var se;const ae=(ce,be)=>{const Ue=r.getState();Ue.frameloop!=="never"&&OL(ce,!0,Ue,be)},_e=()=>{const ce=r.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?ae:null),ce.gl.xr.isPresenting||Tw(ce)},Ae={connect(){const ce=r.getState().gl;ce.xr.addEventListener("sessionstart",_e),ce.xr.addEventListener("sessionend",_e)},disconnect(){const ce=r.getState().gl;ce.xr.removeEventListener("sessionstart",_e),ce.xr.removeEventListener("sessionend",_e)}};typeof((se=ie.xr)==null?void 0:se.addEventListener)=="function"&&Ae.connect(),J.set({xr:Ae})}if(ie.shadowMap){const ae=ie.shadowMap.enabled,_e=ie.shadowMap.type;if(ie.shadowMap.enabled=!!B,Gi.boo(B))ie.shadowMap.type=n0;else if(Gi.str(B)){var X;const Ae={basic:mz,percentage:P1,soft:n0,variance:xl};ie.shadowMap.type=(X=Ae[B])!=null?X:n0}else Gi.obj(B)&&Object.assign(ie.shadowMap,B);(ae!==ie.shadowMap.enabled||_e!==ie.shadowMap.type)&&(ie.shadowMap.needsUpdate=!0)}return Ln.enabled=!N,d||(ie.outputColorSpace=w?rd:Lr,ie.toneMapping=R?Tc:C2),J.legacy!==N&&J.set(()=>({legacy:N})),J.linear!==w&&J.set(()=>({linear:w})),J.flat!==R&&J.set(()=>({flat:R})),b&&!Gi.fun(b)&&!wL(b)&&!Gi.equ(b,ie,Pm)&&Vf(ie,b),l=S,d=!0,y(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{Aw.updateContainer(he.jsx(efe,{store:r,children:g,onCreated:l,rootElement:n}),a,null,()=>{})}),r},unmount(){R5(n)}}}function efe({store:n,children:e,onCreated:t,rootElement:i}){return R_(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),t&&t(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),he.jsx(x5.Provider,{value:n,children:e})}function R5(n,e){const t=ip.get(n),i=t==null?void 0:t.fiber;if(i){const s=t==null?void 0:t.store.getState();s&&(s.internal.active=!1),Aw.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,a,l,u;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(a=r.renderLists)==null||a.dispose==null||a.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),Bue(s.scene),ip.delete(n)}catch{}},500)})}}const tfe=new Set,nfe=new Set,ife=new Set;function kT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function f0(n,e){switch(n){case"before":return kT(tfe,e);case"after":return kT(nfe,e);case"tail":return kT(ife,e)}}let VT,jT;function Ew(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),VT=e.internal.subscribers;for(let s=0;s<VT.length;s++)jT=VT[s],jT.ref.current(jT.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let e1=!1,Mw=!1,WT,IL,Um;function B5(n){IL=requestAnimationFrame(B5),e1=!0,WT=0,f0("before",n),Mw=!0;for(const t of ip.values()){var e;Um=t.store.getState(),Um.internal.active&&(Um.frameloop==="always"||Um.internal.frames>0)&&!((e=Um.gl.xr)!=null&&e.isPresenting)&&(WT+=Ew(n,Um))}if(Mw=!1,f0("after",n),WT===0)return f0("tail",n),e1=!1,cancelAnimationFrame(IL)}function Tw(n,e=1){var t;if(!n)return ip.forEach(i=>Tw(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):Mw?n.internal.frames=2:n.internal.frames=1,e1||(e1=!0,requestAnimationFrame(B5)))}function OL(n,e=!0,t,i){if(e&&f0("before",n),t)Ew(n,t,i);else for(const s of ip.values())Ew(n,s.store.getState());e&&f0("after",n)}const XT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function sfe(n){const{handlePointer:e}=Fue(n);return{priority:1,enabled:!0,compute(t,i,s){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(XT).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:s}=n.getState();(t=s.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:t}})),s.handlers)for(const r in s.handlers){const a=s.handlers[r],[l,u]=XT[r];t.addEventListener(l,a,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[a]=XT[s];i.connected.removeEventListener(a,r)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function NL(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function rfe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,a]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=K.useRef(!1);K.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=K.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:B,top:w,width:R,height:N,bottom:O,right:U,x:P,y:L}=l.current.element.getBoundingClientRect(),M={left:B,top:w,width:R,height:N,bottom:O,right:U,x:P,y:L};l.current.element instanceof HTMLElement&&i&&(M.height=l.current.element.offsetHeight,M.width=l.current.element.offsetWidth),Object.freeze(M),m.current&&!cfe(l.current.lastBounds,M)&&a(l.current.lastBounds=M)};return[S,d?NL(S,d):S,u?NL(S,u):S]},[a,i,u,d]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",b,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function E(){l.current.element&&(l.current.resizeObserver=new s(b),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",b,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const A=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=D5(S),E())};return ofe(b,!!e),afe(y),K.useEffect(()=>{x(),E()},[e,b,y]),K.useEffect(()=>x,[]),[A,r,g]}function afe(n){K.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ofe(n,e){K.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function D5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[t,i,s].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...D5(n.parentElement)]}const lfe=["x","y","top","bottom","left","right","width","height"],cfe=(n,e)=>lfe.every(t=>n[t]===e[t]);function ufe({ref:n,children:e,fallback:t,resize:i,style:s,gl:r,events:a=sfe,eventSource:l,eventPrefix:u,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:x,dpr:E,performance:A,raycaster:S,camera:B,scene:w,onPointerMissed:R,onCreated:N,...O}){K.useMemo(()=>Wue(qce),[]);const U=Tue(),[P,L]=rfe({scroll:!0,debounce:{scroll:50,resize:0},...i}),M=K.useRef(null),F=K.useRef(null);K.useImperativeHandle(n,()=>M.current);const G=y5(R),[J,ie]=K.useState(!1),[ne,H]=K.useState(!1);if(J)throw J;if(ne)throw ne;const q=K.useRef(null);R_(()=>{const se=M.current;if(L.width>0&&L.height>0&&se){q.current||(q.current=$ue(se));async function X(){await q.current.configure({gl:r,scene:w,events:a,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:x,dpr:E,performance:A,raycaster:S,camera:B,size:L,onPointerMissed:(...ae)=>G.current==null?void 0:G.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(l?Eue(l)?l.current:l:F.current),u&&ae.setEvents({compute:(_e,Ae)=>{const ce=_e[u+"X"],be=_e[u+"Y"];Ae.pointer.set(ce/Ae.size.width*2-1,-(be/Ae.size.height)*2+1),Ae.raycaster.setFromCamera(Ae.pointer,Ae.camera)}}),N==null||N(ae)}}),q.current.render(he.jsx(U,{children:he.jsx(wue,{set:H,children:he.jsx(K.Suspense,{fallback:he.jsx(Cue,{set:ie}),children:e??null})})}))}X()}}),K.useEffect(()=>{const se=M.current;if(se)return()=>R5(se)},[]);const $=l?"none":"auto";return he.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...s},...O,children:he.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:he.jsx("canvas",{ref:M,style:{display:"block"},children:t})})})}function ffe(n){return he.jsx(h5,{children:he.jsx(ufe,{...n})})}const dfe=parseInt(y_.replace(/\D+/g,""));function LL(n,e){if(e===Xz)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===XA||e===P2){let t=n.getIndex();if(t===null){const a=[],l=n.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)a.push(u);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,s=[];if(t)if(e===XA)for(let a=1;a<=i;a++)s.push(t.getX(0)),s.push(t.getX(a)),s.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(s.push(t.getX(a)),s.push(t.getX(a+1)),s.push(t.getX(a+2))):(s.push(t.getX(a+2)),s.push(t.getX(a+1)),s.push(t.getX(a)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var hfe=Object.defineProperty,pfe=(n,e,t)=>e in n?hfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mfe=(n,e,t)=>(pfe(n,e+"",t),t);class gfe{constructor(){mfe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}}var yfe=Object.defineProperty,vfe=(n,e,t)=>e in n?yfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jt=(n,e,t)=>(vfe(n,typeof e!="symbol"?e+"":e,t),t);const dS=new rp,PL=new hu,_fe=Math.cos(70*(Math.PI/180)),UL=(n,e)=>(n%e+e)%e;let bfe=class extends gfe{constructor(e,t){super(),jt(this,"object"),jt(this,"domElement"),jt(this,"enabled",!0),jt(this,"target",new re),jt(this,"minDistance",0),jt(this,"maxDistance",1/0),jt(this,"minZoom",0),jt(this,"maxZoom",1/0),jt(this,"minPolarAngle",0),jt(this,"maxPolarAngle",Math.PI),jt(this,"minAzimuthAngle",-1/0),jt(this,"maxAzimuthAngle",1/0),jt(this,"enableDamping",!1),jt(this,"dampingFactor",.05),jt(this,"enableZoom",!0),jt(this,"zoomSpeed",1),jt(this,"enableRotate",!0),jt(this,"rotateSpeed",1),jt(this,"enablePan",!0),jt(this,"panSpeed",1),jt(this,"screenSpacePanning",!0),jt(this,"keyPanSpeed",7),jt(this,"zoomToCursor",!1),jt(this,"autoRotate",!1),jt(this,"autoRotateSpeed",2),jt(this,"reverseOrbit",!1),jt(this,"reverseHorizontalOrbit",!1),jt(this,"reverseVerticalOrbit",!1),jt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),jt(this,"mouseButtons",{LEFT:Eh.ROTATE,MIDDLE:Eh.DOLLY,RIGHT:Eh.PAN}),jt(this,"touches",{ONE:Mh.ROTATE,TWO:Mh.DOLLY_PAN}),jt(this,"target0"),jt(this,"position0"),jt(this,"zoom0"),jt(this,"_domElementKeyEvents",null),jt(this,"getPolarAngle"),jt(this,"getAzimuthalAngle"),jt(this,"setPolarAngle"),jt(this,"setAzimuthalAngle"),jt(this,"getDistance"),jt(this,"getZoomScale"),jt(this,"listenToKeyEvents"),jt(this,"stopListenToKeyEvents"),jt(this,"saveState"),jt(this,"reset"),jt(this,"update"),jt(this,"connect"),jt(this,"dispose"),jt(this,"dollyIn"),jt(this,"dollyOut"),jt(this,"getScale"),jt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=le=>{let Oe=UL(le,2*Math.PI),ft=m.phi;ft<0&&(ft+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let de=Math.abs(Oe-ft);2*Math.PI-de<de&&(Oe<ft?Oe+=2*Math.PI:ft+=2*Math.PI),g.phi=Oe-ft,i.update()},this.setAzimuthalAngle=le=>{let Oe=UL(le,2*Math.PI),ft=m.theta;ft<0&&(ft+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let de=Math.abs(Oe-ft);2*Math.PI-de<de&&(Oe<ft?Oe+=2*Math.PI:ft+=2*Math.PI),g.theta=Oe-ft,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",rt),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",rt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),u=l.NONE},this.update=(()=>{const le=new re,Oe=new re(0,1,0),ft=new ir().setFromUnitVectors(e.up,Oe),de=ft.clone().invert(),ot=new re,Le=new ir,Je=2*Math.PI;return function(){const pt=i.object.position;ft.setFromUnitVectors(e.up,Oe),de.copy(ft).invert(),le.copy(pt).sub(i.target),le.applyQuaternion(ft),m.setFromVector3(le),i.autoRotate&&u===l.NONE&&ie(G()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Dt=i.minAzimuthAngle,tn=i.maxAzimuthAngle;isFinite(Dt)&&isFinite(tn)&&(Dt<-Math.PI?Dt+=Je:Dt>Math.PI&&(Dt-=Je),tn<-Math.PI?tn+=Je:tn>Math.PI&&(tn-=Je),Dt<=tn?m.theta=Math.max(Dt,Math.min(tn,m.theta)):m.theta=m.theta>(Dt+tn)/2?Math.max(Dt,m.theta):Math.min(tn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&L||i.object.isOrthographicCamera?m.radius=Ae(m.radius):m.radius=Ae(m.radius*y),le.setFromSpherical(m),le.applyQuaternion(de),pt.copy(i.target).add(le),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let En=!1;if(i.zoomToCursor&&L){let Wt=null;if(i.object instanceof as&&i.object.isPerspectiveCamera){const Mi=le.length();Wt=Ae(Mi*y);const Zn=Mi-Wt;i.object.position.addScaledVector(U,Zn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Mi=new re(P.x,P.y,0);Mi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),En=!0;const Zn=new re(P.x,P.y,0);Zn.unproject(i.object),i.object.position.sub(Zn).add(Mi),i.object.updateMatrixWorld(),Wt=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Wt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Wt).add(i.object.position):(dS.origin.copy(i.object.position),dS.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(dS.direction))<_fe?e.lookAt(i.target):(PL.setFromNormalAndCoplanarPoint(i.object.up,i.target),dS.intersectPlane(PL,i.target))))}else i.object instanceof Su&&i.object.isOrthographicCamera&&(En=y!==1,En&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,L=!1,En||ot.distanceToSquared(i.object.position)>d||8*(1-Le.dot(i.object.quaternion))>d?(i.dispatchEvent(s),ot.copy(i.object.position),Le.copy(i.object.quaternion),En=!1,!0):!1}})(),this.connect=le=>{i.domElement=le,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ve),i.domElement.addEventListener("pointerdown",k),i.domElement.addEventListener("pointercancel",Be),i.domElement.addEventListener("wheel",ct)},this.dispose=()=>{var le,Oe,ft,de,ot,Le;i.domElement&&(i.domElement.style.touchAction="auto"),(le=i.domElement)==null||le.removeEventListener("contextmenu",Ve),(Oe=i.domElement)==null||Oe.removeEventListener("pointerdown",k),(ft=i.domElement)==null||ft.removeEventListener("pointercancel",Be),(de=i.domElement)==null||de.removeEventListener("wheel",ct),(ot=i.domElement)==null||ot.ownerDocument.removeEventListener("pointermove",me),(Le=i.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",Be),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",rt)};const i=this,s={type:"change"},r={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const d=1e-6,m=new yw,g=new yw;let y=1;const b=new re,x=new tt,E=new tt,A=new tt,S=new tt,B=new tt,w=new tt,R=new tt,N=new tt,O=new tt,U=new re,P=new tt;let L=!1;const M=[],F={};function G(){return 2*Math.PI/60/60*i.autoRotateSpeed}function J(){return Math.pow(.95,i.zoomSpeed)}function ie(le){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=le:g.theta-=le}function ne(le){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=le:g.phi-=le}const H=(()=>{const le=new re;return function(ft,de){le.setFromMatrixColumn(de,0),le.multiplyScalar(-ft),b.add(le)}})(),q=(()=>{const le=new re;return function(ft,de){i.screenSpacePanning===!0?le.setFromMatrixColumn(de,1):(le.setFromMatrixColumn(de,0),le.crossVectors(i.object.up,le)),le.multiplyScalar(ft),b.add(le)}})(),$=(()=>{const le=new re;return function(ft,de){const ot=i.domElement;if(ot&&i.object instanceof as&&i.object.isPerspectiveCamera){const Le=i.object.position;le.copy(Le).sub(i.target);let Je=le.length();Je*=Math.tan(i.object.fov/2*Math.PI/180),H(2*ft*Je/ot.clientHeight,i.object.matrix),q(2*de*Je/ot.clientHeight,i.object.matrix)}else ot&&i.object instanceof Su&&i.object.isOrthographicCamera?(H(ft*(i.object.right-i.object.left)/i.object.zoom/ot.clientWidth,i.object.matrix),q(de*(i.object.top-i.object.bottom)/i.object.zoom/ot.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function se(le){i.object instanceof as&&i.object.isPerspectiveCamera||i.object instanceof Su&&i.object.isOrthographicCamera?y=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(le){se(y/le)}function ae(le){se(y*le)}function _e(le){if(!i.zoomToCursor||!i.domElement)return;L=!0;const Oe=i.domElement.getBoundingClientRect(),ft=le.clientX-Oe.left,de=le.clientY-Oe.top,ot=Oe.width,Le=Oe.height;P.x=ft/ot*2-1,P.y=-(de/Le)*2+1,U.set(P.x,P.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ae(le){return Math.max(i.minDistance,Math.min(i.maxDistance,le))}function ce(le){x.set(le.clientX,le.clientY)}function be(le){_e(le),R.set(le.clientX,le.clientY)}function Ue(le){S.set(le.clientX,le.clientY)}function Qe(le){E.set(le.clientX,le.clientY),A.subVectors(E,x).multiplyScalar(i.rotateSpeed);const Oe=i.domElement;Oe&&(ie(2*Math.PI*A.x/Oe.clientHeight),ne(2*Math.PI*A.y/Oe.clientHeight)),x.copy(E),i.update()}function xe(le){N.set(le.clientX,le.clientY),O.subVectors(N,R),O.y>0?X(J()):O.y<0&&ae(J()),R.copy(N),i.update()}function j(le){B.set(le.clientX,le.clientY),w.subVectors(B,S).multiplyScalar(i.panSpeed),$(w.x,w.y),S.copy(B),i.update()}function Q(le){_e(le),le.deltaY<0?ae(J()):le.deltaY>0&&X(J()),i.update()}function oe(le){let Oe=!1;switch(le.code){case i.keys.UP:$(0,i.keyPanSpeed),Oe=!0;break;case i.keys.BOTTOM:$(0,-i.keyPanSpeed),Oe=!0;break;case i.keys.LEFT:$(i.keyPanSpeed,0),Oe=!0;break;case i.keys.RIGHT:$(-i.keyPanSpeed,0),Oe=!0;break}Oe&&(le.preventDefault(),i.update())}function Ce(){if(M.length==1)x.set(M[0].pageX,M[0].pageY);else{const le=.5*(M[0].pageX+M[1].pageX),Oe=.5*(M[0].pageY+M[1].pageY);x.set(le,Oe)}}function Se(){if(M.length==1)S.set(M[0].pageX,M[0].pageY);else{const le=.5*(M[0].pageX+M[1].pageX),Oe=.5*(M[0].pageY+M[1].pageY);S.set(le,Oe)}}function W(){const le=M[0].pageX-M[1].pageX,Oe=M[0].pageY-M[1].pageY,ft=Math.sqrt(le*le+Oe*Oe);R.set(0,ft)}function ze(){i.enableZoom&&W(),i.enablePan&&Se()}function De(){i.enableZoom&&W(),i.enableRotate&&Ce()}function Ge(le){if(M.length==1)E.set(le.pageX,le.pageY);else{const ft=Ye(le),de=.5*(le.pageX+ft.x),ot=.5*(le.pageY+ft.y);E.set(de,ot)}A.subVectors(E,x).multiplyScalar(i.rotateSpeed);const Oe=i.domElement;Oe&&(ie(2*Math.PI*A.x/Oe.clientHeight),ne(2*Math.PI*A.y/Oe.clientHeight)),x.copy(E)}function ve(le){if(M.length==1)B.set(le.pageX,le.pageY);else{const Oe=Ye(le),ft=.5*(le.pageX+Oe.x),de=.5*(le.pageY+Oe.y);B.set(ft,de)}w.subVectors(B,S).multiplyScalar(i.panSpeed),$(w.x,w.y),S.copy(B)}function at(le){const Oe=Ye(le),ft=le.pageX-Oe.x,de=le.pageY-Oe.y,ot=Math.sqrt(ft*ft+de*de);N.set(0,ot),O.set(0,Math.pow(N.y/R.y,i.zoomSpeed)),X(O.y),R.copy(N)}function Te(le){i.enableZoom&&at(le),i.enablePan&&ve(le)}function Z(le){i.enableZoom&&at(le),i.enableRotate&&Ge(le)}function k(le){var Oe,ft;i.enabled!==!1&&(M.length===0&&((Oe=i.domElement)==null||Oe.ownerDocument.addEventListener("pointermove",me),(ft=i.domElement)==null||ft.ownerDocument.addEventListener("pointerup",Be)),ut(le),le.pointerType==="touch"?_t(le):Ke(le))}function me(le){i.enabled!==!1&&(le.pointerType==="touch"?bt(le):He(le))}function Be(le){var Oe,ft,de;xt(le),M.length===0&&((Oe=i.domElement)==null||Oe.releasePointerCapture(le.pointerId),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointermove",me),(de=i.domElement)==null||de.ownerDocument.removeEventListener("pointerup",Be)),i.dispatchEvent(a),u=l.NONE}function Ke(le){let Oe;switch(le.button){case 0:Oe=i.mouseButtons.LEFT;break;case 1:Oe=i.mouseButtons.MIDDLE;break;case 2:Oe=i.mouseButtons.RIGHT;break;default:Oe=-1}switch(Oe){case Eh.DOLLY:if(i.enableZoom===!1)return;be(le),u=l.DOLLY;break;case Eh.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enablePan===!1)return;Ue(le),u=l.PAN}else{if(i.enableRotate===!1)return;ce(le),u=l.ROTATE}break;case Eh.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enableRotate===!1)return;ce(le),u=l.ROTATE}else{if(i.enablePan===!1)return;Ue(le),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(r)}function He(le){if(i.enabled!==!1)switch(u){case l.ROTATE:if(i.enableRotate===!1)return;Qe(le);break;case l.DOLLY:if(i.enableZoom===!1)return;xe(le);break;case l.PAN:if(i.enablePan===!1)return;j(le);break}}function ct(le){i.enabled===!1||i.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(le.preventDefault(),i.dispatchEvent(r),Q(le),i.dispatchEvent(a))}function rt(le){i.enabled===!1||i.enablePan===!1||oe(le)}function _t(le){switch(St(le),M.length){case 1:switch(i.touches.ONE){case Mh.ROTATE:if(i.enableRotate===!1)return;Ce(),u=l.TOUCH_ROTATE;break;case Mh.PAN:if(i.enablePan===!1)return;Se(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(i.touches.TWO){case Mh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ze(),u=l.TOUCH_DOLLY_PAN;break;case Mh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;De(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(r)}function bt(le){switch(St(le),u){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ge(le),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;ve(le),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Te(le),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Z(le),i.update();break;default:u=l.NONE}}function Ve(le){i.enabled!==!1&&le.preventDefault()}function ut(le){M.push(le)}function xt(le){delete F[le.pointerId];for(let Oe=0;Oe<M.length;Oe++)if(M[Oe].pointerId==le.pointerId){M.splice(Oe,1);return}}function St(le){let Oe=F[le.pointerId];Oe===void 0&&(Oe=new tt,F[le.pointerId]=Oe),Oe.set(le.pageX,le.pageY)}function Ye(le){const Oe=le.pointerId===M[0].pointerId?M[1]:M[0];return F[Oe.pointerId]}this.dollyIn=(le=J())=>{ae(le),i.update()},this.dollyOut=(le=J())=>{X(le),i.update()},this.getScale=()=>y,this.setScale=le=>{se(le),i.update()},this.getZoomScale=()=>J(),t!==void 0&&this.connect(t),this.update()}};function t1(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const zh="srgb",Au="srgb-linear",FL=3001,xfe=3e3;class _B extends Gr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Tfe(t)}),this.register(function(t){return new Cfe(t)}),this.register(function(t){return new Pfe(t)}),this.register(function(t){return new Ufe(t)}),this.register(function(t){return new Ffe(t)}),this.register(function(t){return new Rfe(t)}),this.register(function(t){return new Bfe(t)}),this.register(function(t){return new Dfe(t)}),this.register(function(t){return new Ife(t)}),this.register(function(t){return new Mfe(t)}),this.register(function(t){return new Ofe(t)}),this.register(function(t){return new wfe(t)}),this.register(function(t){return new Lfe(t)}),this.register(function(t){return new Nfe(t)}),this.register(function(t){return new Afe(t)}),this.register(function(t){return new zfe(t)}),this.register(function(t){return new Hfe(t)})}load(e,t,i,s){const r=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const d=Jf.extractUrlBase(e);a=Jf.resolveURL(d,this.path)}else a=Jf.extractUrlBase(e);this.manager.itemStart(e);const l=function(d){s?s(d):console.error(d),r.manager.itemError(e),r.manager.itemEnd(e)},u=new ao(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){try{r.parse(d,a,function(m){t(m),r.manager.itemEnd(e)},l)}catch(m){l(m)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let r;const a={},l={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(t1(new Uint8Array(e.slice(0,4)))===I5){try{a[wn.KHR_BINARY_GLTF]=new Gfe(e)}catch(m){s&&s(m);return}r=JSON.parse(a[wn.KHR_BINARY_GLTF].content)}else r=JSON.parse(t1(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new ede(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const m=this.pluginCallbacks[d](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,a[m.name]=!0}if(r.extensionsUsed)for(let d=0;d<r.extensionsUsed.length;++d){const m=r.extensionsUsed[d],g=r.extensionsRequired||[];switch(m){case wn.KHR_MATERIALS_UNLIT:a[m]=new Efe;break;case wn.KHR_DRACO_MESH_COMPRESSION:a[m]=new kfe(r,this.dracoLoader);break;case wn.KHR_TEXTURE_TRANSFORM:a[m]=new Vfe;break;case wn.KHR_MESH_QUANTIZATION:a[m]=new jfe;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,r){i.parse(e,t,s,r)})}}function Sfe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const wn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Afe{constructor(e){this.parser=e,this.name=wn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const r=t.json,u=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let d;const m=new Et(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],Au);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":d=new lB(m),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new oB(m),d.distance=g;break;case"spot":d=new aB(m),d.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,d.angle=u.spot.outerConeAngle,d.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return d.position.set(0,0,0),d.decay=2,du(d,u),u.intensity!==void 0&&(d.intensity=u.intensity),d.name=t.createUniqueName(u.name||"light_"+e),s=Promise.resolve(d),t.cache.add(i,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],l=(r.extensions&&r.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return i._getNodeRef(t.cache,l,u)})}}class Efe{constructor(){this.name=wn.KHR_MATERIALS_UNLIT}getMaterialType(){return $a}extendParams(e,t,i){const s=[];e.color=new Et(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Au),e.opacity=a[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,zh))}return Promise.all(s)}}class Mfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class Tfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new tt(l,l)}return Promise.all(r)}}class Cfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class wfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class Rfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new Et(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=s.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],Au)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,zh)),a.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class Bfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class Dfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new Et().setRGB(l[0],l[1],l[2],Au),Promise.all(r)}}class Ife{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class Ofe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new Et().setRGB(l[0],l[1],l[2],Au),a.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,zh)),Promise.all(r)}}class Nfe{constructor(e){this.parser=e,this.name=wn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&r.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(r)}}class Lfe{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class Pfe{constructor(e){this.parser=e,this.name=wn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,a)}}class Ufe{constructor(e){this.parser=e,this.name=wn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=s.images[a.source];let u=i.textureLoader;if(l.uri){const d=i.options.manager.getHandler(l.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(e,a.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ffe{constructor(e){this.parser=e,this.name=wn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=s.images[a.source];let u=i.textureLoader;if(l.uri){const d=i.options.manager.getHandler(l.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(e,a.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class zfe{constructor(e){this.name=wn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(l){const u=s.byteOffset||0,d=s.byteLength||0,m=s.count,g=s.byteStride,y=new Uint8Array(l,u,d);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(m,g,y,s.mode,s.filter).then(function(b){return b.buffer}):a.ready.then(function(){const b=new ArrayBuffer(m*g);return a.decodeGltfBuffer(new Uint8Array(b),m,g,y,s.mode,s.filter),b})})}else return null}}class Hfe{constructor(e){this.name=wn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=t.meshes[i.mesh];for(const d of s.primitives)if(d.mode!==Oo.TRIANGLES&&d.mode!==Oo.TRIANGLE_STRIP&&d.mode!==Oo.TRIANGLE_FAN&&d.mode!==void 0)return null;const a=i.extensions[this.name].attributes,l=[],u={};for(const d in a)l.push(this.parser.getDependency("accessor",a[d]).then(m=>(u[d]=m,u[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(d=>{const m=d.pop(),g=m.isGroup?m.children:[m],y=d[0].count,b=[];for(const x of g){const E=new Gt,A=new re,S=new ir,B=new re(1,1,1),w=new j2(x.geometry,x.material,y);for(let R=0;R<y;R++)u.TRANSLATION&&A.fromBufferAttribute(u.TRANSLATION,R),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,R),u.SCALE&&B.fromBufferAttribute(u.SCALE,R),w.setMatrixAt(R,E.compose(A,S,B));for(const R in u)if(R==="_COLOR_0"){const N=u[R];w.instanceColor=new Zh(N.array,N.itemSize,N.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&x.geometry.setAttribute(R,u[R]);Pn.prototype.copy.call(w,x),this.parser.assignFinalMaterial(w),b.push(w)}return m.isGroup?(m.clear(),m.add(...b),m):b[0]}))}}const I5="glTF",Dv=12,zL={JSON:1313821514,BIN:5130562};class Gfe{constructor(e){this.name=wn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Dv);if(this.header={magic:t1(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==I5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Dv,s=new DataView(e,Dv);let r=0;for(;r<i;){const a=s.getUint32(r,!0);r+=4;const l=s.getUint32(r,!0);if(r+=4,l===zL.JSON){const u=new Uint8Array(e,Dv+r,a);this.content=t1(u)}else if(l===zL.BIN){const u=Dv+r;this.body=e.slice(u,u+a)}r+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class kfe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=wn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},u={},d={};for(const m in a){const g=Cw[m]||m.toLowerCase();l[g]=a[m]}for(const m in e.attributes){const g=Cw[m]||m.toLowerCase();if(a[m]!==void 0){const y=i.accessors[e.attributes[m]],b=eg[y.componentType];d[g]=b.name,u[g]=y.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(g,y){s.decodeDracoFile(m,function(b){for(const x in b.attributes){const E=b.attributes[x],A=u[x];A!==void 0&&(E.normalized=A)}g(b)},l,d,Au,y)})})}}class Vfe{constructor(){this.name=wn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class jfe{constructor(){this.name=wn.KHR_MESH_QUANTIZATION}}class O5 extends jg{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let a=0;a!==s;a++)t[a]=i[r+a];return t}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=l*2,d=l*3,m=s-t,g=(i-t)/m,y=g*g,b=y*g,x=e*d,E=x-d,A=-2*b+3*y,S=b-y,B=1-A,w=S-y+g;for(let R=0;R!==l;R++){const N=a[E+R+l],O=a[E+R+u]*m,U=a[x+R+l],P=a[x+R]*m;r[R]=B*N+w*O+A*U+S*P}return r}}const Wfe=new ir;class Xfe extends O5{interpolate_(e,t,i,s){const r=super.interpolate_(e,t,i,s);return Wfe.fromArray(r).normalize().toArray(r),r}}const Oo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},eg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},HL={9728:nr,9729:ps,9984:F1,9985:Zm,9986:Nh,9987:Po},GL={33071:Za,33648:pg,10497:sd},YT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Cw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...dfe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},zf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Yfe={CUBICSPLINE:void 0,LINEAR:bg,STEP:_g},qT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function qfe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new w_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Bc})),n.DefaultMaterial}function vh(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function du(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Kfe(n,e,t){let i=!1,s=!1,r=!1;for(let d=0,m=e.length;d<m;d++){const g=e[d];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(s=!0),g.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const a=[],l=[],u=[];for(let d=0,m=e.length;d<m;d++){const g=e[d];if(i){const y=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):n.attributes.position;a.push(y)}if(s){const y=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):n.attributes.normal;l.push(y)}if(r){const y=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):n.attributes.color;u.push(y)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(d){const m=d[0],g=d[1],y=d[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=g),r&&(n.morphAttributes.color=y),n.morphTargetsRelative=!0,n})}function Jfe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Qfe(n){let e;const t=n.extensions&&n.extensions[wn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+KT(t.attributes):e=n.indices+":"+KT(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+KT(n.targets[i]);return e}function KT(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function ww(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Zfe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const $fe=new Gt;class ede{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Sfe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new kH(this.options.manager):this.textureLoader=new JH(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ao(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const l={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:i,userData:{}};return vh(r,l,s),du(l,s),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){for(const u of l.scenes)u.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const a=t[s].joints;for(let l=0,u=a.length;l<u;l++)e[a[l]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const a=e[s];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),r=(a,l)=>{const u=this.associations.get(a);u!=null&&this.associations.set(l,u);for(const[d,m]of a.children.entries())r(m,l.children[d])};return r(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(r,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[wn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){i.load(Jf.resolveURL(t.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const a=YT[s.type],l=eg[s.componentType],u=s.normalized===!0,d=new l(s.count*a);return Promise.resolve(new Gn(d,a,u))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const l=a[0],u=YT[s.type],d=eg[s.componentType],m=d.BYTES_PER_ELEMENT,g=m*u,y=s.byteOffset||0,b=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,x=s.normalized===!0;let E,A;if(b&&b!==g){const S=Math.floor(y/b),B="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+S+":"+s.count;let w=t.cache.get(B);w||(E=new d(l,S*b,s.count*b/m),w=new S_(E,b/m),t.cache.add(B,w)),A=new ad(w,u,y%b/m,x)}else l===null?E=new d(s.count*u):E=new d(l,y,s.count*u),A=new Gn(E,u,x);if(s.sparse!==void 0){const S=YT.SCALAR,B=eg[s.sparse.indices.componentType],w=s.sparse.indices.byteOffset||0,R=s.sparse.values.byteOffset||0,N=new B(a[1],w,s.sparse.count*S),O=new d(a[2],R,s.sparse.count*u);l!==null&&(A=new Gn(A.array.slice(),A.itemSize,A.normalized));for(let U=0,P=N.length;U<P;U++){const L=N[U];if(A.setX(L,O[U*u]),u>=2&&A.setY(L,O[U*u+1]),u>=3&&A.setZ(L,O[U*u+2]),u>=4&&A.setW(L,O[U*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,a=t.images[r];let l=this.textureLoader;if(a.uri){const u=i.manager.getHandler(a.uri);u!==null&&(l=u)}return this.loadTextureImage(e,r,l)}loadTextureImage(e,t,i){const s=this,r=this.json,a=r.textures[e],l=r.images[t],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];const d=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=a.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const y=(r.samplers||{})[a.sampler]||{};return m.magFilter=HL[y.magFilter]||ps,m.minFilter=HL[y.minFilter]||Po,m.wrapS=GL[y.wrapS]||sd,m.wrapT=GL[y.wrapT]||sd,s.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=d,d}loadImageSource(e,t){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=s.images[e],l=self.URL||self.webkitURL;let u=a.uri||"",d=!1;if(a.bufferView!==void 0)u=i.getDependency("bufferView",a.bufferView).then(function(g){d=!0;const y=new Blob([g],{type:a.mimeType});return u=l.createObjectURL(y),u});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(y,b){let x=y;t.isImageBitmapLoader===!0&&(x=function(E){const A=new ki(E);A.needsUpdate=!0,y(A)}),t.load(Jf.resolveURL(g,r.path),x,void 0,b)})}).then(function(g){return d===!0&&l.revokeObjectURL(u),du(g,a),g.userData.mimeType=a.mimeType||Zfe(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[e]=m,m}assignTexture(e,t,i,s){const r=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),r.extensions[wn.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[wn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=r.associations.get(a);a=r.extensions[wn.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),r.associations.set(a,u)}}return s!==void 0&&(typeof s=="number"&&(s=s===FL?zh:Au),"colorSpace"in a?a.colorSpace=s:a.encoding=s===zh?FL:xfe),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new $1,Vs.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(l,u)),i=u}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new Hr,Vs.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(l,u)),i=u}if(s||r||a){let l="ClonedMaterial:"+i.uuid+":";s&&(l+="derivative-tangents:"),r&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=i.clone(),r&&(u.vertexColors=!0),a&&(u.flatShading=!0),s&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(i))),i=u}e.material=i}getMaterialType(){return w_}loadMaterial(e){const t=this,i=this.json,s=this.extensions,r=i.materials[e];let a;const l={},u=r.extensions||{},d=[];if(u[wn.KHR_MATERIALS_UNLIT]){const g=s[wn.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),d.push(g.extendParams(l,r,t))}else{const g=r.pbrMetallicRoughness||{};if(l.color=new Et(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const y=g.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],Au),l.opacity=y[3]}g.baseColorTexture!==void 0&&d.push(t.assignTexture(l,"map",g.baseColorTexture,zh)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),d.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}r.doubleSided===!0&&(l.side=El);const m=r.alphaMode||qT.OPAQUE;if(m===qT.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===qT.MASK&&(l.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==$a&&(d.push(t.assignTexture(l,"normalMap",r.normalTexture)),l.normalScale=new tt(1,1),r.normalTexture.scale!==void 0)){const g=r.normalTexture.scale;l.normalScale.set(g,g)}if(r.occlusionTexture!==void 0&&a!==$a&&(d.push(t.assignTexture(l,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==$a){const g=r.emissiveFactor;l.emissive=new Et().setRGB(g[0],g[1],g[2],Au)}return r.emissiveTexture!==void 0&&a!==$a&&d.push(t.assignTexture(l,"emissiveMap",r.emissiveTexture,zh)),Promise.all(d).then(function(){const g=new a(l);return r.name&&(g.name=r.name),du(g,r),t.associations.set(g,{materials:e}),r.extensions&&vh(s,g,r),g})}createUniqueName(e){const t=zn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function r(l){return i[wn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(u){return kL(u,l,t)})}const a=[];for(let l=0,u=e.length;l<u;l++){const d=e[l],m=Qfe(d),g=s[m];if(g)a.push(g.promise);else{let y;d.extensions&&d.extensions[wn.KHR_DRACO_MESH_COMPRESSION]?y=r(d):y=kL(new cn,d,t),s[m]={primitive:d,promise:y},a.push(y)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,s=this.extensions,r=i.meshes[e],a=r.primitives,l=[];for(let u=0,d=a.length;u<d;u++){const m=a[u].material===void 0?qfe(this.cache):this.getDependency("material",a[u].material);l.push(m)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(u){const d=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let b=0,x=m.length;b<x;b++){const E=m[b],A=a[b];let S;const B=d[b];if(A.mode===Oo.TRIANGLES||A.mode===Oo.TRIANGLE_STRIP||A.mode===Oo.TRIANGLE_FAN||A.mode===void 0)S=r.isSkinnedMesh===!0?new V2(E,B):new ms(E,B),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),A.mode===Oo.TRIANGLE_STRIP?S.geometry=LL(S.geometry,P2):A.mode===Oo.TRIANGLE_FAN&&(S.geometry=LL(S.geometry,XA));else if(A.mode===Oo.LINES)S=new Ol(E,B);else if(A.mode===Oo.LINE_STRIP)S=new Lu(E,B);else if(A.mode===Oo.LINE_LOOP)S=new W2(E,B);else if(A.mode===Oo.POINTS)S=new X2(E,B);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(S.geometry.morphAttributes).length>0&&Jfe(S,r),S.name=t.createUniqueName(r.name||"mesh_"+e),du(S,r),A.extensions&&vh(s,S,A),t.assignFinalMaterial(S),g.push(S)}for(let b=0,x=g.length;b<x;b++)t.associations.set(g[b],{meshes:e,primitives:b});if(g.length===1)return r.extensions&&vh(s,g[0],r),g[0];const y=new yu;r.extensions&&vh(s,y,r),t.associations.set(y,{meshes:e});for(let b=0,x=g.length;b<x;b++)y.add(g[b]);return y})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new as(iH.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(t=new Su(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),du(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,r=t.joints.length;s<r;s++)i.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),a=s,l=[],u=[];for(let d=0,m=a.length;d<m;d++){const g=a[d];if(g){l.push(g);const y=new Gt;r!==null&&y.fromArray(r.array,d*16),u.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new A_(l,u)})}loadAnimation(e){const t=this.json,i=this,s=t.animations[e],r=s.name?s.name:"animation_"+e,a=[],l=[],u=[],d=[],m=[];for(let g=0,y=s.channels.length;g<y;g++){const b=s.channels[g],x=s.samplers[b.sampler],E=b.target,A=E.node,S=s.parameters!==void 0?s.parameters[x.input]:x.input,B=s.parameters!==void 0?s.parameters[x.output]:x.output;E.node!==void 0&&(a.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",B)),d.push(x),m.push(E))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(d),Promise.all(m)]).then(function(g){const y=g[0],b=g[1],x=g[2],E=g[3],A=g[4],S=[];for(let B=0,w=y.length;B<w;B++){const R=y[B],N=b[B],O=x[B],U=E[B],P=A[B];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const L=i._createAnimationTracks(R,N,O,U,P);if(L)for(let M=0;M<L.length;M++)S.push(L[M])}return new Mg(r,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let u=0,d=s.weights.length;u<d;u++)l.morphTargetInfluences[u]=s.weights[u]}),a})}loadNode(e){const t=this.json,i=this,s=t.nodes[e],r=i._loadNodeShallow(e),a=[],l=s.children||[];for(let d=0,m=l.length;d<m;d++)a.push(i.getDependency("node",l[d]));const u=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(a),u]).then(function(d){const m=d[0],g=d[1],y=d[2];y!==null&&m.traverse(function(b){b.isSkinnedMesh&&b.bind(y,$fe)});for(let b=0,x=g.length;b<x;b++)m.add(g[b]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],a=r.name?s.createUniqueName(r.name):"",l=[],u=s._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return u&&l.push(u),r.camera!==void 0&&l.push(s.getDependency("camera",r.camera).then(function(d){return s._getNodeRef(s.cameraCache,r.camera,d)})),s._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){l.push(d)}),this.nodeCache[e]=Promise.all(l).then(function(d){let m;if(r.isBone===!0?m=new Q1:d.length>1?m=new yu:d.length===1?m=d[0]:m=new Pn,m!==d[0])for(let g=0,y=d.length;g<y;g++)m.add(d[g]);if(r.name&&(m.userData.name=r.name,m.name=a),du(m,r),r.extensions&&vh(i,m,r),r.matrix!==void 0){const g=new Gt;g.fromArray(r.matrix),m.applyMatrix4(g)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,r=new yu;i.name&&(r.name=s.createUniqueName(i.name)),du(r,i),i.extensions&&vh(t,r,i);const a=i.nodes||[],l=[];for(let u=0,d=a.length;u<d;u++)l.push(s.getDependency("node",a[u]));return Promise.all(l).then(function(u){for(let m=0,g=u.length;m<g;m++)r.add(u[m]);const d=m=>{const g=new Map;for(const[y,b]of s.associations)(y instanceof Vs||y instanceof ki)&&g.set(y,b);return m.traverse(y=>{const b=s.associations.get(y);b!=null&&g.set(y,b)}),g};return s.associations=d(r),r})}_createAnimationTracks(e,t,i,s,r){const a=[],l=e.name?e.name:e.uuid,u=[];zf[r.path]===zf.weights?e.traverse(function(y){y.morphTargetInfluences&&u.push(y.name?y.name:y.uuid)}):u.push(l);let d;switch(zf[r.path]){case zf.weights:d=ep;break;case zf.rotation:d=tp;break;case zf.position:case zf.scale:d=np;break;default:switch(i.itemSize){case 1:d=ep;break;case 2:case 3:default:d=np;break}break}const m=s.interpolation!==void 0?Yfe[s.interpolation]:bg,g=this._getArrayFromAccessor(i);for(let y=0,b=u.length;y<b;y++){const x=new d(u[y]+"."+zf[r.path],t.array,g,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),a.push(x)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=ww(t.constructor),s=new Float32Array(t.length);for(let r=0,a=t.length;r<a;r++)s[r]=t[r]*i;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof tp?Xfe:O5;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function tde(n,e,t){const i=e.attributes,s=new yr;if(i.POSITION!==void 0){const l=t.json.accessors[i.POSITION],u=l.min,d=l.max;if(u!==void 0&&d!==void 0){if(s.set(new re(u[0],u[1],u[2]),new re(d[0],d[1],d[2])),l.normalized){const m=ww(eg[l.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const l=new re,u=new re;for(let d=0,m=r.length;d<m;d++){const g=r[d];if(g.POSITION!==void 0){const y=t.json.accessors[g.POSITION],b=y.min,x=y.max;if(b!==void 0&&x!==void 0){if(u.setX(Math.max(Math.abs(b[0]),Math.abs(x[0]))),u.setY(Math.max(Math.abs(b[1]),Math.abs(x[1]))),u.setZ(Math.max(Math.abs(b[2]),Math.abs(x[2]))),y.normalized){const E=ww(eg[y.componentType]);u.multiplyScalar(E)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(l)}n.boundingBox=s;const a=new sr;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=a}function kL(n,e,t){const i=e.attributes,s=[];function r(a,l){return t.getDependency("accessor",a).then(function(u){n.setAttribute(l,u)})}for(const a in i){const l=Cw[a]||a.toLowerCase();l in n.attributes||s.push(r(i[a],l))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(l){n.setIndex(l)});s.push(a)}return du(n,e),tde(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?Kfe(n,e.targets,t):n})}const JT=new WeakMap;class nde extends Gr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const r=new ao(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const d=t.attributeTypes[u];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=d.name)}const i=JSON.stringify(t);if(JT.has(e)){const u=JT.get(e);if(u.key===i)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(r,a).then(u=>(s=u,new Promise((d,m)=>{s._callbacks[r]={resolve:d,reject:m},s.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return l.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),JT.set(e,{key:i,promise:l}),l}_createGeometry(e){const t=new cn;e.index&&t.setIndex(new Gn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,a=s.array,l=s.itemSize;t.setAttribute(r,new Gn(a,l))}return t}_loadLibrary(e,t){const i=new ao(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=ide.toString(),a=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const a=r.data;switch(a.type){case"decode":s._callbacks[a.id].resolve(a);break;case"error":s._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ide(){let n,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":n=l.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(n)});break;case"decode":const u=l.buffer,d=l.taskConfig;e.then(m=>{const g=m.draco,y=new g.Decoder,b=new g.DecoderBuffer;b.Init(new Int8Array(u),u.byteLength);try{const x=t(g,y,b,d),E=x.attributes.map(A=>A.array.buffer);x.index&&E.push(x.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:x},E)}catch(x){console.error(x),self.postMessage({type:"error",id:l.id,error:x.message})}finally{g.destroy(b),g.destroy(y)}});break}};function t(a,l,u,d){const m=d.attributeIDs,g=d.attributeTypes;let y,b;const x=l.GetEncodedGeometryType(u);if(x===a.TRIANGULAR_MESH)y=new a.Mesh,b=l.DecodeBufferToMesh(u,y);else if(x===a.POINT_CLOUD)y=new a.PointCloud,b=l.DecodeBufferToPointCloud(u,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const E={index:null,attributes:[]};for(const A in m){const S=self[g[A]];let B,w;if(d.useUniqueIDs)w=m[A],B=l.GetAttributeByUniqueId(y,w);else{if(w=l.GetAttributeId(y,a[m[A]]),w===-1)continue;B=l.GetAttribute(y,w)}E.attributes.push(s(a,l,y,A,S,B))}return x===a.TRIANGULAR_MESH&&(E.index=i(a,l,y)),a.destroy(y),E}function i(a,l,u){const m=u.num_faces()*3,g=m*4,y=a._malloc(g);l.GetTrianglesUInt32Array(u,g,y);const b=new Uint32Array(a.HEAPF32.buffer,y,m).slice();return a._free(y),{array:b,itemSize:1}}function s(a,l,u,d,m,g){const y=g.num_components(),x=u.num_points()*y,E=x*m.BYTES_PER_ELEMENT,A=r(a,m),S=a._malloc(E);l.GetAttributeDataArrayForAllPoints(u,g,A,E,S);const B=new m(a.HEAPF32.buffer,S,x).slice();return a._free(S),{name:d,array:B,itemSize:y}}function r(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let hS;const QT=()=>{if(hS)return hS;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let r;const a=WebAssembly.instantiate(l(s),{}).then(g=>{r=g.instance,r.exports.__wasm_call_ctors()});function l(g){const y=new Uint8Array(g.length);for(let x=0;x<g.length;++x){const E=g.charCodeAt(x);y[x]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let b=0;for(let x=0;x<g.length;++x)y[b++]=y[x]<60?i[y[x]]:(y[x]-60)*64+y[++x];return y.buffer.slice(0,b)}function u(g,y,b,x,E,A){const S=r.exports.sbrk,B=b+3&-4,w=S(B*x),R=S(E.length),N=new Uint8Array(r.exports.memory.buffer);N.set(E,R);const O=g(w,b,x,R,E.length);if(O===0&&A&&A(w,B,x),y.set(N.subarray(w,w+b*x)),S(w-S(0)),O!==0)throw new Error(`Malformed buffer data: ${O}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return hS={ready:a,supported:!0,decodeVertexBuffer(g,y,b,x,E){u(r.exports.meshopt_decodeVertexBuffer,g,y,b,x,r.exports[d[E]])},decodeIndexBuffer(g,y,b,x){u(r.exports.meshopt_decodeIndexBuffer,g,y,b,x)},decodeIndexSequence(g,y,b,x){u(r.exports.meshopt_decodeIndexSequence,g,y,b,x)},decodeGltfBuffer(g,y,b,x,E,A){u(r.exports[m[E]],g,y,b,x,r.exports[d[A]])}},hS};let pS=null,N5="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function L5(n=!0,e=!0,t){return i=>{t&&t(i),n&&(pS||(pS=new nde),pS.setDecoderPath(typeof n=="string"?n:N5),i.setDRACOLoader(pS)),e&&i.setMeshoptDecoder(typeof QT=="function"?QT():QT)}}const vE=(n,e,t,i)=>B_(_B,n,L5(e,t,i));vE.preload=(n,e,t,i)=>B_.preload(_B,n,L5(e,t,i));vE.clear=n=>B_.clear(_B,n);vE.setDecoderPath=n=>{N5=n};const sde=K.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:s=!0,keyEvents:r=!1,onChange:a,onStart:l,onEnd:u,...d},m)=>{const g=Ff(O=>O.invalidate),y=Ff(O=>O.camera),b=Ff(O=>O.gl),x=Ff(O=>O.events),E=Ff(O=>O.setEvents),A=Ff(O=>O.set),S=Ff(O=>O.get),B=Ff(O=>O.performance),w=e||y,R=i||x.connected||b.domElement,N=K.useMemo(()=>new bfe(w),[w]);return A5(()=>{N.enabled&&N.update()},-1),K.useEffect(()=>(r&&N.connect(r===!0?R:r),N.connect(R),()=>void N.dispose()),[r,R,t,N,g]),K.useEffect(()=>{const O=L=>{g(),t&&B.regress(),a&&a(L)},U=L=>{l&&l(L)},P=L=>{u&&u(L)};return N.addEventListener("change",O),N.addEventListener("start",U),N.addEventListener("end",P),()=>{N.removeEventListener("start",U),N.removeEventListener("end",P),N.removeEventListener("change",O)}},[a,l,u,N,g,E]),K.useEffect(()=>{if(n){const O=S().controls;return A({controls:N}),()=>A({controls:O})}},[n,N]),K.createElement("primitive",tg({ref:m,object:N,enableDamping:s},d))});function rde(){const{scene:n}=vE(R0()+"/models/ti-trophy.glb"),e=K.useRef(null),t=K.useRef(!1);return K.useEffect(()=>{e.current&&(e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10)},[]),A5(()=>{e.current&&(t.current||(e.current.rotation.x=.5,t.current=!0),e.current.rotation.y+=.005)}),he.jsx("primitive",{ref:e,object:n,scale:1})}const ade=()=>he.jsxs(ffe,{style:{height:500,top:120},children:[he.jsx("ambientLight",{intensity:.5}),he.jsx("directionalLight",{position:[1,1,1],intensity:10}),he.jsx("directionalLight",{position:[1,0,0],intensity:10}),he.jsx("directionalLight",{position:[0,0,1],intensity:10}),he.jsx("directionalLight",{position:[1,0,0],intensity:10}),he.jsx(K.Suspense,{fallback:null,children:he.jsx(rde,{})}),he.jsx(sde,{enableZoom:!1,enableRotate:!1,enablePan:!1})]}),ode=({trophyHolderName:n,trophyHolderFaction:e})=>he.jsxs(Rs,{textAlign:"center",sx:{backgroundImage:`url("${R0()}/images/tihexes.jpg")`,backgroundPosition:"center",borderRadius:5,width:"300px",height:"700px",marginLeft:5},children:[he.jsx(Rs,{sx:{borderRadius:"5px",backgroundImage:"linear-gradient(to bottom right, rgb(241,87,38) ,rgb(245,189,26) )",width:"100px",height:"150px",padding:"4px",marginLeft:"100px",marginTop:"50px",marginBottom:"-200px"},children:he.jsx(Rs,{sx:{borderRadius:"5px",width:"100px",height:"150px",backgroundImage:`url("${R0()}/images/factions/${e.factionImage}")`,backgroundSize:"cover"}})}),he.jsx(K.Suspense,{fallback:he.jsx("div",{children:"Loading Trophy..."}),children:he.jsx(ade,{})}),he.jsxs(Rs,{textAlign:"center",mb:8,children:[he.jsx(to,{variant:"h6",sx:{color:"#C5CAE9"},children:"Current trophy holder:"}),he.jsx(dz.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},children:he.jsx(Rs,{children:he.jsx(to,{variant:"h2",component:"h1",gutterBottom:!0,sx:{color:"#FFEB3B",fontWeight:700},children:n})})})]})]}),VL=[{factionName:"The Arborec",factionImage:"arborec.webp"},{factionName:"The Barony of Letnev",factionImage:"barony.webp"},{factionName:"The Clan of Saar",factionImage:"saar.webp"},{factionName:"The Embers of Muaat",factionImage:"muaat.webp"},{factionName:"The Emirates of Hacan",factionImage:"hacan.webp"},{factionName:"The Federation of Sol",factionImage:"sol.webp"},{factionName:"The Ghosts of Creuss",factionImage:"creuss.webp"},{factionName:"The L1Z1X Mindnet",factionImage:"l1z1x.webp"},{factionName:"The Mentak Coalition",factionImage:"mentak.webp"},{factionName:"The Naalu Collective",factionImage:"naalu.webp"},{factionName:"The Nekro Virus",factionImage:"nekro.webp"},{factionName:"Sardakk N'orr",factionImage:"sardakk.webp"},{factionName:"The Universities of Jol-Nar",factionImage:"jolnar.webp"},{factionName:"The Winnu",factionImage:"winnu.webp"},{factionName:"The Xxcha Kingdom",factionImage:"xxcha.webp"},{factionName:"The Yin Brotherhood",factionImage:"yin.webp"},{factionName:"The Yssaril Tribes",factionImage:"yssaril.webp"},{factionName:"The Argent Flight",factionImage:"argent.webp"},{factionName:"The Empyrean",factionImage:"empyrean.webp"},{factionName:"The Mahact Gene-Sorcerers",factionImage:"mahact.webp"},{factionName:"The Naaz-Rokha Alliance",factionImage:"naazrokha.webp"},{factionName:"The Nomad",factionImage:"nomad.webp"},{factionName:"The Titans of Ul",factionImage:"titans.webp"},{factionName:"The Vuil'raith Cabal",factionImage:"cabal.webp"}],lde=({campaignId:n})=>{const e=p1(),[t,i]=K.useState("Empty"),[s,r]=K.useState(),a=()=>{SS(n).then(l=>{var d;const u=l.sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime())[l.length-1];r({player:u.winnersName,faction:((d=u.playedFactions.find(m=>m.player===u.winnersName))==null?void 0:d.faction)||""}),console.log(l.sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime()))})};return K.useEffect(()=>{a()},[t]),he.jsxs("div",{style:{width:"100vw",height:"100vh",boxSizing:"border-box",padding:"30px 0px 30px 30px",scrollbarWidth:"thin",display:"flex"},className:"responsive-container",children:[he.jsxs(Rs,{sx:{marginLeft:"-75px","@media (max-width:860px)":{}},children:[he.jsx(BM,{number:1,title:"Players",color:e.palette.custom.leader.main,onClick:()=>i("Players")}),he.jsx(BM,{number:2,title:"Games",color:e.palette.custom.diplomacy.main,onClick:()=>i("Games")}),he.jsx(BM,{number:3,title:"Stats",color:e.palette.custom.politics.main,onClick:()=>i("Stats")})]}),he.jsxs(Rs,{sx:{display:"flex",width:"100%",gap:"30px","@media (max-width:920px)":{flexDirection:"column",marginBottom:"100px"},overflowY:"auto"},children:[he.jsxs(NF,{campaignId:n,children:[t==="Players"&&he.jsx(eQ,{campaignId:n}),t==="Games"&&he.jsx($J,{campaignId:n,availableFactions:VL.map(l=>l.factionName),gameAddedCallback:a}),t==="Stats"&&he.jsx(tQ,{})]}),he.jsx(ode,{trophyHolderName:(s==null?void 0:s.player)||"",trophyHolderFaction:VL.find(l=>l.factionName===(s==null?void 0:s.faction))||{}})]})]})},cde=()=>he.jsxs(Rs,{component:dz.div,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},sx:{padding:"5px 0px 5px 0px",width:"100%",background:"radial-gradient(ellipse at center,rgb(24, 24, 97), #000)",borderTop:"4px solid rgb(241,87,38)",borderBottom:"4px solid rgb(245,189,26)",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)",textAlign:"center"},children:[he.jsx(Rs,{}),he.jsx(to,{variant:"h2",sx:{whiteSpace:"nowrap",fontFamily:"TI Title Font","@media (max-width:700px)":{fontSize:"clamp(0.5rem, 5vw + 0.5rem, 5.7rem);"},"@media (max-width:500px)":{backgroundSize:"1500px 100px"},"@media (max-width:400px)":{backgroundSize:"1000px 100px"},"@media (max-width:330px)":{fontSize:"1.5rem"},background:"radial-gradient(ellipse at 50% 80%, rgb(247,190,23) 20%, rgb(253,242,147) 25%, rgb(238,90,29) 35%)",backgroundSize:"2000px 100px",backgroundPosition:"center center",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"TWILIGHT IMPERIUM STATS"})]}),ude=({onLogin:n})=>{const[e,t]=K.useState(""),[i,s]=K.useState(""),[r,a]=K.useState(!1),l=async()=>{a(!0);try{const u=e.trim(),d=i.trim();if(u&&d){const m=await QJ(u),g=await YJ(d);if(m===null){console.log("NO SUCH ID"),window.confirm("No campaign found. Do you want to register instead?")&&(JJ({id:u,registrationDate:new Date().toISOString(),passwordHash:g}),n(e));return}if(console.log(g),console.log(m),g!==m.passwordHash){console.log("INCORRECT PASSWORD");return}n(e)}}finally{a(!1)}};return he.jsx(Rs,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:he.jsxs(Rg,{elevation:6,sx:{padding:4,width:300,backgroundColor:"#1d1f40"},children:[he.jsx(to,{variant:"h5",gutterBottom:!0,color:"white",children:"TI4 Game Login"}),he.jsx(Wf,{label:"Campaign ID",value:e,onChange:u=>t(u.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),he.jsx(Wf,{label:"Password",type:"password",value:i,onChange:u=>s(u.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),he.jsx(lR,{variant:"contained",color:"primary",fullWidth:!0,onClick:l,disabled:!e.trim()||!i.trim()||r,sx:{mt:2},children:"Enter Game"})]})})},fde=({setcampaignId:n})=>he.jsxs(NF,{campaignId:"",children:[he.jsx(to,{variant:"h3",gutterBottom:!0,color:"white",children:"Welcome to TI4 Statistics!"}),he.jsx(ude,{onLogin:n})]});function dde(){const[n,e]=K.useState(null);return he.jsxs("main",{style:{height:"100%",width:"100%",backgroundImage:`url("${R0()}/images/ti4bg.jpg")`,backgroundSize:"cover",color:"white",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[he.jsx(cde,{}),n===null?he.jsx(fde,{setcampaignId:e}):he.jsx(lde,{campaignId:n})]})}const hde=Yw({typography:{fontFamily:'"TI Main Font", "TI Title Font", "Roboto", "Arial", sans-serif'},palette:{custom:{leader:{main:"#bd2932"},diplomacy:{main:"#d78d31"},politics:{main:"#eadd0b"},construction:{main:"#5e9e36"},trade:{main:"#1c9790"},warfare:{main:"#1378a4"},technology:{main:"#373a7b"},empire:{main:"#66376d"}}}});I6.createRoot(document.getElementById("root")).render(he.jsx(K.StrictMode,{children:he.jsx(xG,{theme:hde,children:he.jsx(dde,{})})}));
