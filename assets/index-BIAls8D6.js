var t5=Object.defineProperty;var n5=(n,e,t)=>e in n?t5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Hy=(n,e,t)=>n5(n,typeof e!="symbol"?e+"":e,t);function i5(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Mv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var S1={exports:{}},zy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cB;function s5(){if(cB)return zy;cB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:a,ref:s!==void 0?s:null,props:r}}return zy.Fragment=e,zy.jsx=t,zy.jsxs=t,zy}var uB;function r5(){return uB||(uB=1,S1.exports=s5()),S1.exports}var _e=r5(),A1={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB;function a5(){if(fB)return an;fB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function A(j,ae,Se){this.props=j,this.context=ae,this.refs=T,this.updater=Se||b}A.prototype.isReactComponent={},A.prototype.setState=function(j,ae){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ae,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function S(){}S.prototype=A.prototype;function B(j,ae,Se){this.props=j,this.context=ae,this.refs=T,this.updater=Se||b}var w=B.prototype=new S;w.constructor=B,x(w,A.prototype),w.isPureReactComponent=!0;var R=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function U(j,ae,Se,Ae,ce,Te){return Se=Te.ref,{$$typeof:n,type:j,key:ae,ref:Se!==void 0?Se:null,props:Te}}function P(j,ae){return U(j.type,ae,void 0,void 0,void 0,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function M(j){var ae={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Se){return ae[Se]})}var H=/\/+/g;function k(j,ae){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):ae.toString(36)}function $(){}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then($,$):(j.status="pending",j.then(function(ae){j.status==="pending"&&(j.status="fulfilled",j.value=ae)},function(ae){j.status==="pending"&&(j.status="rejected",j.reason=ae)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ne(j,ae,Se,Ae,ce){var Te=typeof j;(Te==="undefined"||Te==="boolean")&&(j=null);var Xe=!1;if(j===null)Xe=!0;else switch(Te){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(j.$$typeof){case n:case e:Xe=!0;break;case m:return Xe=j._init,ne(Xe(j._payload),ae,Se,Ae,ce)}}if(Xe)return ce=ce(j),Xe=Ae===""?"."+k(j,0):Ae,R(ce)?(Se="",Xe!=null&&(Se=Xe.replace(H,"$&/")+"/"),ne(ce,ae,Se,"",function(W){return W})):ce!=null&&(O(ce)&&(ce=P(ce,Se+(ce.key==null||j&&j.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+Xe)),ae.push(ce)),1;Xe=0;var et=Ae===""?".":Ae+":";if(R(j))for(var be=0;be<j.length;be++)Ae=j[be],Te=et+k(Ae,be),Xe+=ne(Ae,ae,Se,Te,ce);else if(be=y(j),typeof be=="function")for(j=be.call(j),be=0;!(Ae=j.next()).done;)Ae=Ae.value,Te=et+k(Ae,be++),Xe+=ne(Ae,ae,Se,Te,ce);else if(Te==="object"){if(typeof j.then=="function")return ne(se(j),ae,Se,Ae,ce);throw ae=String(j),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function z(j,ae,Se){if(j==null)return j;var Ae=[],ce=0;return ne(j,Ae,"","",function(Te){return ae.call(Se,Te,ce++)}),Ae}function Y(j){if(j._status===-1){var ae=j._result;ae=ae(),ae.then(function(Se){(j._status===0||j._status===-1)&&(j._status=1,j._result=Se)},function(Se){(j._status===0||j._status===-1)&&(j._status=2,j._result=Se)}),j._status===-1&&(j._status=0,j._result=ae)}if(j._status===1)return j._result.default;throw j._result}var Z=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function re(){}return an.Children={map:z,forEach:function(j,ae,Se){z(j,function(){ae.apply(this,arguments)},Se)},count:function(j){var ae=0;return z(j,function(){ae++}),ae},toArray:function(j){return z(j,function(ae){return ae})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},an.Component=A,an.Fragment=t,an.Profiler=s,an.PureComponent=B,an.StrictMode=i,an.Suspense=u,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,an.__COMPILER_RUNTIME={__proto__:null,c:function(j){return L.H.useMemoCache(j)}},an.cache=function(j){return function(){return j.apply(null,arguments)}},an.cloneElement=function(j,ae,Se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Ae=x({},j.props),ce=j.key,Te=void 0;if(ae!=null)for(Xe in ae.ref!==void 0&&(Te=void 0),ae.key!==void 0&&(ce=""+ae.key),ae)!N.call(ae,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&ae.ref===void 0||(Ae[Xe]=ae[Xe]);var Xe=arguments.length-2;if(Xe===1)Ae.children=Se;else if(1<Xe){for(var et=Array(Xe),be=0;be<Xe;be++)et[be]=arguments[be+2];Ae.children=et}return U(j.type,ce,void 0,void 0,Te,Ae)},an.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:r,_context:j},j},an.createElement=function(j,ae,Se){var Ae,ce={},Te=null;if(ae!=null)for(Ae in ae.key!==void 0&&(Te=""+ae.key),ae)N.call(ae,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(ce[Ae]=ae[Ae]);var Xe=arguments.length-2;if(Xe===1)ce.children=Se;else if(1<Xe){for(var et=Array(Xe),be=0;be<Xe;be++)et[be]=arguments[be+2];ce.children=et}if(j&&j.defaultProps)for(Ae in Xe=j.defaultProps,Xe)ce[Ae]===void 0&&(ce[Ae]=Xe[Ae]);return U(j,Te,void 0,void 0,null,ce)},an.createRef=function(){return{current:null}},an.forwardRef=function(j){return{$$typeof:l,render:j}},an.isValidElement=O,an.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:Y}},an.memo=function(j,ae){return{$$typeof:h,type:j,compare:ae===void 0?null:ae}},an.startTransition=function(j){var ae=L.T,Se={};L.T=Se;try{var Ae=j(),ce=L.S;ce!==null&&ce(Se,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(re,Z)}catch(Te){Z(Te)}finally{L.T=ae}},an.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},an.use=function(j){return L.H.use(j)},an.useActionState=function(j,ae,Se){return L.H.useActionState(j,ae,Se)},an.useCallback=function(j,ae){return L.H.useCallback(j,ae)},an.useContext=function(j){return L.H.useContext(j)},an.useDebugValue=function(){},an.useDeferredValue=function(j,ae){return L.H.useDeferredValue(j,ae)},an.useEffect=function(j,ae,Se){var Ae=L.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(j,ae)},an.useId=function(){return L.H.useId()},an.useImperativeHandle=function(j,ae,Se){return L.H.useImperativeHandle(j,ae,Se)},an.useInsertionEffect=function(j,ae){return L.H.useInsertionEffect(j,ae)},an.useLayoutEffect=function(j,ae){return L.H.useLayoutEffect(j,ae)},an.useMemo=function(j,ae){return L.H.useMemo(j,ae)},an.useOptimistic=function(j,ae){return L.H.useOptimistic(j,ae)},an.useReducer=function(j,ae,Se){return L.H.useReducer(j,ae,Se)},an.useRef=function(j){return L.H.useRef(j)},an.useState=function(j){return L.H.useState(j)},an.useSyncExternalStore=function(j,ae,Se){return L.H.useSyncExternalStore(j,ae,Se)},an.useTransition=function(){return L.H.useTransition()},an.version="19.1.0",an}var hB;function lg(){return hB||(hB=1,A1.exports=a5()),A1.exports}var te=lg();const ol=Mv(te),_T=i5({__proto__:null,default:ol},[te]);var E1={exports:{}},Gy={},M1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dB;function o5(){return dB||(dB=1,function(n){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var re=Z-1>>>1,j=z[re];if(0<s(j,Y))z[re]=Y,z[Z]=j,Z=re;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var re=0,j=z.length,ae=j>>>1;re<ae;){var Se=2*(re+1)-1,Ae=z[Se],ce=Se+1,Te=z[ce];if(0>s(Ae,Z))ce<j&&0>s(Te,Ae)?(z[re]=Te,z[ce]=Z,re=ce):(z[re]=Ae,z[Se]=Z,re=Se);else if(ce<j&&0>s(Te,Z))z[re]=Te,z[ce]=Z,re=ce;else break e}}return Y}function s(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,g=null,y=3,b=!1,x=!1,T=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var Y=t(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=z)i(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function L(z){if(T=!1,R(z),!x)if(t(u)!==null)x=!0,N||(N=!0,k());else{var Y=t(h);Y!==null&&ne(L,Y.startTime-z)}}var N=!1,U=-1,P=5,O=-1;function M(){return A?!0:!(n.unstable_now()-O<P)}function H(){if(A=!1,N){var z=n.unstable_now();O=z;var Y=!0;try{e:{x=!1,T&&(T=!1,B(U),U=-1),b=!0;var Z=y;try{t:{for(R(z),g=t(u);g!==null&&!(g.expirationTime>z&&M());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var j=re(g.expirationTime<=z);if(z=n.unstable_now(),typeof j=="function"){g.callback=j,R(z),Y=!0;break t}g===t(u)&&i(u),R(z)}else i(u);g=t(u)}if(g!==null)Y=!0;else{var ae=t(h);ae!==null&&ne(L,ae.startTime-z),Y=!1}}break e}finally{g=null,y=Z,b=!1}Y=void 0}}finally{Y?k():N=!1}}}var k;if(typeof w=="function")k=function(){w(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,se=$.port2;$.port1.onmessage=H,k=function(){se.postMessage(null)}}else k=function(){S(H,0)};function ne(z,Y){U=S(function(){z(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Z=y;y=Y;try{return z()}finally{y=Z}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=y;y=z;try{return Y()}finally{y=Z}},n.unstable_scheduleCallback=function(z,Y,Z){var re=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,z={id:m++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:j,sortIndex:-1},Z>re?(z.sortIndex=Z,e(h,z),t(u)===null&&z===t(h)&&(T?(B(U),U=-1):T=!0,ne(L,Z-re))):(z.sortIndex=j,e(u,z),x||b||(x=!0,N||(N=!0,k()))),z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(z){var Y=y;return function(){var Z=y;y=Y;try{return z.apply(this,arguments)}finally{y=Z}}}}(T1)),T1}var pB;function l5(){return pB||(pB=1,M1.exports=o5()),M1.exports}var C1={exports:{}},mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB;function c5(){if(mB)return mr;mB=1;var n=lg();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:h,implementation:m}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mr.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(u,h,null,m)},mr.flushSync=function(u){var h=a.T,m=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=h,i.p=m,i.d.f()}},mr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},mr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},mr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},mr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin);i.d.L(u,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mr.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=l(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},mr.requestFormReset=function(u){i.d.r(u)},mr.unstable_batchedUpdates=function(u,h){return u(h)},mr.useFormState=function(u,h,m){return a.H.useFormState(u,h,m)},mr.useFormStatus=function(){return a.H.useHostTransitionStatus()},mr.version="19.1.0",mr}var gB;function UO(){if(gB)return C1.exports;gB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C1.exports=c5(),C1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yB;function u5(){if(yB)return Gy;yB=1;var n=l5(),e=lg(),t=UO();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(i(188))}function u(o){var c=o.alternate;if(!c){if(c=r(o),c===null)throw Error(i(188));return c!==o?null:o}for(var p=o,v=c;;){var E=p.return;if(E===null)break;var D=E.alternate;if(D===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===p)return l(E),o;if(D===v)return l(E),c;D=D.sibling}throw Error(i(188))}if(p.return!==v.return)p=E,v=D;else{for(var G=!1,q=E.child;q;){if(q===p){G=!0,p=E,v=D;break}if(q===v){G=!0,v=E,p=D;break}q=q.sibling}if(!G){for(q=D.child;q;){if(q===p){G=!0,p=D,v=E;break}if(q===v){G=!0,v=D,p=E;break}q=q.sibling}if(!G)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function k(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var $=Symbol.for("react.client.reference");function se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===$?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case N:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case w:return(o.displayName||"Context")+".Provider";case B:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return c=o.displayName||null,c!==null?c:se(o.type)||"Memo";case P:c=o._payload,o=o._init;try{return se(o(c))}catch{}}return null}var ne=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],j=-1;function ae(o){return{current:o}}function Se(o){0>j||(o.current=re[j],re[j]=null,j--)}function Ae(o,c){j++,re[j]=o.current,o.current=c}var ce=ae(null),Te=ae(null),Xe=ae(null),et=ae(null);function be(o,c){switch(Ae(Xe,c),Ae(Te,o),Ae(ce,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?U2(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=U2(c),o=F2(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Se(ce),Ae(ce,o)}function W(){Se(ce),Se(Te),Se(Xe)}function Q(o){o.memoizedState!==null&&Ae(et,o);var c=ce.current,p=F2(c,o.type);c!==p&&(Ae(Te,o),Ae(ce,p))}function oe(o){Te.current===o&&(Se(ce),Se(Te)),et.current===o&&(Se(et),Oy._currentValue=Z)}var Ee=Object.prototype.hasOwnProperty,Me=n.unstable_scheduleCallback,X=n.unstable_cancelCallback,Oe=n.unstable_shouldYield,Ve=n.unstable_requestPaint,He=n.unstable_now,Le=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,ke=n.unstable_UserBlockingPriority,K=n.unstable_NormalPriority,V=n.unstable_LowPriority,ge=n.unstable_IdlePriority,Re=n.log,Ze=n.unstable_setDisableYieldValue,ze=null,ct=null;function it(o){if(typeof Re=="function"&&Ze(o),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(ze,o)}catch{}}var mt=Math.clz32?Math.clz32:ht,Tt=Math.log,We=Math.LN2;function ht(o){return o>>>=0,o===0?32:31-(Tt(o)/We|0)|0}var xt=256,At=4194304;function je(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function le(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,D=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var q=v&134217727;return q!==0?(v=q&~D,v!==0?E=je(v):(G&=q,G!==0?E=je(G):p||(p=q&~o,p!==0&&(E=je(p))))):(q=v&~D,q!==0?E=je(q):G!==0?E=je(G):p||(p=v&~o,p!==0&&(E=je(p)))),E===0?0:c!==0&&c!==E&&(c&D)===0&&(D=E&-E,p=c&-c,D>=p||D===32&&(p&4194048)!==0)?c:E}function Ne(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function lt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function he(){var o=xt;return xt<<=1,(xt&4194048)===0&&(xt=256),o}function st(){var o=At;return At<<=1,(At&62914560)===0&&(At=4194304),o}function Ge(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function qe(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function gt(o,c,p,v,E,D){var G=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var q=o.entanglements,ue=o.expirationTimes,we=o.hiddenUpdates;for(p=G&~p;0<p;){var Je=31-mt(p),tt=1<<Je;q[Je]=0,ue[Je]=-1;var De=we[Je];if(De!==null)for(we[Je]=null,Je=0;Je<De.length;Je++){var Ue=De[Je];Ue!==null&&(Ue.lane&=-536870913)}p&=~tt}v!==0&&dt(o,v,0),D!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=D&~(G&~c))}function dt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-mt(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function Rt(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-mt(p),E=1<<v;E&c|o[v]&c&&(o[v]|=c),p&=~E}}function rn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function On(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $t(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:iB(o.type))}function Ui(o,c){var p=Y.p;try{return Y.p=o,c()}finally{Y.p=p}}var ui=Math.random().toString(36).slice(2),Fi="__reactFiber$"+ui,Qi="__reactProps$"+ui,Is="__reactContainer$"+ui,ar="__reactEvents$"+ui,Wf="__reactListeners$"+ui,ba="__reactHandles$"+ui,Ws="__reactResources$"+ui,xa="__reactMarker$"+ui;function kn(o){delete o[Fi],delete o[Qi],delete o[ar],delete o[Wf],delete o[ba]}function Sa(o){var c=o[Fi];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Is]||p[Fi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=V2(o);o!==null;){if(p=o[Fi])return p;o=V2(o)}return c}o=p,p=o.parentNode}return null}function Aa(o){if(o=o[Fi]||o[Is]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function yl(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function wo(o){var c=o[Ws];return c||(c=o[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Hi(o){o[xa]=!0}var vu=new Set,_u={};function Ea(o,c){J(o,c),J(o+"Capture",c)}function J(o,c){for(_u[o]=c,o=0;o<c.length;o++)vu.add(c[o])}var me=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ie={},Pe={};function ve(o){return Ee.call(Pe,o)?!0:Ee.call(Ie,o)?!1:me.test(o)?Pe[o]=!0:(Ie[o]=!0,!1)}function nt(o,c,p){if(ve(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function ft(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function pt(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}var St,Ft;function Dt(o){if(St===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);St=c&&c[1]||"",Ft=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+o+Ft}var Ct=!1;function ln(o,c){if(!o||Ct)return"";Ct=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Ue){var De=Ue}Reflect.construct(o,[],tt)}else{try{tt.call()}catch(Ue){De=Ue}o.call(tt.prototype)}}else{try{throw Error()}catch(Ue){De=Ue}(tt=o())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Ue){if(Ue&&De&&typeof Ue.stack=="string")return[Ue.stack,De.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),G=D[0],q=D[1];if(G&&q){var ue=G.split(`
`),we=q.split(`
`);for(E=v=0;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;for(;E<we.length&&!we[E].includes("DetermineComponentFrameRoot");)E++;if(v===ue.length||E===we.length)for(v=ue.length-1,E=we.length-1;1<=v&&0<=E&&ue[v]!==we[E];)E--;for(;1<=v&&0<=E;v--,E--)if(ue[v]!==we[E]){if(v!==1||E!==1)do if(v--,E--,0>E||ue[v]!==we[E]){var Je=`
`+ue[v].replace(" at new "," at ");return o.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",o.displayName)),Je}while(1<=v&&0<=E);break}}}finally{Ct=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Dt(p):""}function En(o){switch(o.tag){case 26:case 27:case 5:return Dt(o.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return ln(o.type,!1);case 11:return ln(o.type.render,!1);case 1:return ln(o.type,!0);case 31:return Dt("Activity");default:return""}}function fi(o){try{var c="";do c+=En(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function un(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function dn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function It(o){var c=dn(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,D=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(G){v=""+G,D.call(this,G)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(G){v=""+G},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function mi(o){o._valueTracker||(o._valueTracker=It(o))}function xn(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=dn(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function ys(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ya=/[\n"\\]/g;function Yn(o){return o.replace(Ya,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function qa(o,c,p,v,E,D,G,q){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),c!=null?G==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+un(c)):o.value!==""+un(c)&&(o.value=""+un(c)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),c!=null?vs(o,G,un(c)):p!=null?vs(o,G,un(p)):v!=null&&o.removeAttribute("value"),E==null&&D!=null&&(o.defaultChecked=!!D),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+un(q):o.removeAttribute("name")}function Xn(o,c,p,v,E,D,G,q){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),c!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||c!=null))return;p=p!=null?""+un(p):"",c=c!=null?""+un(c):p,q||c===o.value||(o.value=c),o.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=q?o.checked:!!v,o.defaultChecked=!!v,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function vs(o,c,p){c==="number"&&ys(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function zi(o,c,p,v){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+un(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function os(o,c,p){if(c!=null&&(c=""+un(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+un(p):""}function ls(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(i(92));if(ne(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=un(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Ys(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yf(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||Ka.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function qf(o,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&p[E]!==v&&Yf(o,E,v)}else for(var D in c)c.hasOwnProperty(D)&&Yf(o,D,c[D])}function Yd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kf(o){return s_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var qd=null;function Kd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vl=null,gc=null;function Cg(o){var c=Aa(o);if(c&&(o=c.stateNode)){var p=o[Qi]||null;e:switch(o=c.stateNode,c.type){case"input":if(qa(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Yn(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var E=v[Qi]||null;if(!E)throw Error(i(90));qa(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&xn(v)}break e;case"textarea":os(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&zi(o,!!p.multiple,c,!1)}}}var Jf=!1;function wg(o,c,p){if(Jf)return o(c,p);Jf=!0;try{var v=o(c);return v}finally{if(Jf=!1,(vl!==null||gc!==null)&&(fo(),vl&&(c=vl,o=gc,gc=vl=null,Cg(c),o)))for(c=0;c<o.length;c++)Cg(o[c])}}function bu(o,c){var p=o.stateNode;if(p===null)return null;var v=p[Qi]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=!1;if(Ja)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Qf=!1}var Ro=null,Rg=null,Jd=null;function Bg(){if(Jd)return Jd;var o,c=Rg,p=c.length,v,E="value"in Ro?Ro.value:Ro.textContent,D=E.length;for(o=0;o<p&&c[o]===E[o];o++);var G=p-o;for(v=1;v<=G&&c[p-v]===E[D-v];v++);return Jd=E.slice(o,1<v?1-v:void 0)}function _l(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Su(){return!0}function Zf(){return!1}function qs(o){function c(p,v,E,D,G){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=D,this.target=G,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(p=o[q],this[q]=p?p(D):D[q]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Su:Zf,this.isPropagationStopped=Zf,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),c}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=qs(bl),Eu=m({},bl,{view:0,detail:0}),r_=qs(Eu),Bo,Mu,Tu,Cu=m({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Tu&&(Tu&&o.type==="mousemove"?(Bo=o.screenX-Tu.screenX,Mu=o.screenY-Tu.screenY):Mu=Bo=0,Tu=o),Bo)},movementY:function(o){return"movementY"in o?o.movementY:Mu}}),Dg=qs(Cu),a_=m({},Cu,{dataTransfer:0}),zE=qs(a_),_s=m({},Eu,{relatedTarget:0}),Qd=qs(_s),o_=m({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),l_=qs(o_),c_=m({},bl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),u_=qs(c_),$f=m({},bl,{data:0}),Zd=qs($f),f_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=d_[o])?!!c[o]:!1}function eh(){return Ig}var p_=m({},Eu,{key:function(o){if(o.key){var c=f_[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=_l(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?h_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(o){return o.type==="keypress"?_l(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_l(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ng=qs(p_),Og=m({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=qs(Og),m_=m({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),Lg=qs(m_),g_=m({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=qs(g_),Pg=m({},Cu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GE=qs(Pg),y_=m({},bl,{newState:0,oldState:0}),xl=qs(y_),Io=[9,13,27,32],th=Ja&&"CompositionEvent"in window,yc=null;Ja&&"documentMode"in document&&(yc=document.documentMode);var nh=Ja&&"TextEvent"in window&&!yc,ih=Ja&&(!th||yc&&8<yc&&11>=yc),Sl=" ",bs=!1;function sh(o,c){switch(o){case"keyup":return Io.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Al=!1;function rh(o,c){switch(o){case"compositionend":return Ug(c);case"keypress":return c.which!==32?null:(bs=!0,Sl);case"textInput":return o=c.data,o===Sl&&bs?null:o;default:return null}}function Fg(o,c){if(Al)return o==="compositionend"||!th&&sh(o,c)?(o=Bg(),Jd=Rg=Ro=null,Al=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ih&&c.locale!=="ko"?null:c.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ep[o.type]:c==="textarea"}function or(o,c,p,v){vl?gc?gc.push(v):gc=[v]:vl=v,c=gb(c,"onChange"),0<c.length&&(p=new Au("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var wu=null,vc=null;function v_(o){I2(o,0)}function ah(o){var c=yl(o);if(xn(c))return o}function tp(o,c){if(o==="change")return c}var np=!1;if(Ja){var ip;if(Ja){var Ru="oninput"in document;if(!Ru){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Ru=typeof Bu.oninput=="function"}ip=Ru}else ip=!1;np=ip&&(!document.documentMode||9<document.documentMode)}function hi(){wu&&(wu.detachEvent("onpropertychange",__),vc=wu=null)}function __(o){if(o.propertyName==="value"&&ah(vc)){var c=[];or(c,vc,o,Kd(o)),wg(v_,c)}}function VE(o,c,p){o==="focusin"?(hi(),wu=c,vc=p,wu.attachEvent("onpropertychange",__)):o==="focusout"&&hi()}function b_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ah(vc)}function oh(o,c){if(o==="click")return ah(c)}function El(o,c){if(o==="input"||o==="change")return ah(c)}function x_(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var lr=typeof Object.is=="function"?Object.is:x_;function Ma(o,c){if(lr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!Ee.call(c,E)||!lr(o[E],c[E]))return!1}return!0}function cr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function zg(o,c){var p=cr(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=cr(p)}}function Gg(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Gg(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Vg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ys(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=ys(o.document)}return c}function lh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var kg=Ja&&"documentMode"in document&&11>=document.documentMode,No=null,sp=null,ch=null,rp=!1;function Xg(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;rp||No==null||No!==ys(v)||(v=No,"selectionStart"in v&&lh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ch&&Ma(ch,v)||(ch=v,v=gb(sp,"onSelect"),0<v.length&&(c=new Au("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=No)))}function xs(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Ml={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},ap={},S_={};Ja&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Oo(o){if(ap[o])return ap[o];if(!Ml[o])return o;var c=Ml[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in S_)return ap[o]=c[p];return o}var Ks=Oo("animationend"),jg=Oo("animationiteration"),ur=Oo("animationstart"),A_=Oo("transitionrun"),Lo=Oo("transitionstart"),Du=Oo("transitioncancel"),Po=Oo("transitionend"),op=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function cs(o,c){op.set(o,c),Ea(c,[o])}var Wg=new WeakMap;function Ss(o,c){if(typeof o=="object"&&o!==null){var p=Wg.get(o);return p!==void 0?p:(c={value:o,source:c,stack:fi(c)},Wg.set(o,c),c)}return{value:o,source:c,stack:fi(c)}}var Ns=[],Qr=0,lp=0;function fh(){for(var o=Qr,c=lp=Qr=0;c<o;){var p=Ns[c];Ns[c++]=null;var v=Ns[c];Ns[c++]=null;var E=Ns[c];Ns[c++]=null;var D=Ns[c];if(Ns[c++]=null,v!==null&&E!==null){var G=v.pending;G===null?E.next=E:(E.next=G.next,G.next=E),v.pending=E}D!==0&&Yg(p,E,D)}}function Tl(o,c,p,v){Ns[Qr++]=o,Ns[Qr++]=c,Ns[Qr++]=p,Ns[Qr++]=v,lp|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function cp(o,c,p,v){return Tl(o,c,p,v),Iu(o)}function Uo(o,c){return Tl(o,null,null,c),Iu(o)}function Yg(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,D=o.return;D!==null;)D.childLanes|=p,v=D.alternate,v!==null&&(v.childLanes|=p),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(E=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,E&&c!==null&&(E=31-mt(p),o=D.hiddenUpdates,v=o[E],v===null?o[E]=[c]:v.push(c),c.lane=p|536870912),D):null}function Iu(o){if(50<uo)throw uo=0,Pc=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Cl={};function qg(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(o,c,p,v){return new qg(o,c,p,v)}function hh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ci(o,c){var p=o.alternate;return p===null?(p=fr(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Kg(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function us(o,c,p,v,E,D){var G=0;if(v=o,typeof o=="function")hh(o)&&(G=1);else if(typeof o=="string")G=Vz(o,p,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=fr(31,p,c,E),o.elementType=O,o.lanes=D,o;case x:return wl(p.children,E,D,c);case T:G=8,E|=24;break;case A:return o=fr(12,p,c,E|2),o.elementType=A,o.lanes=D,o;case L:return o=fr(13,p,c,E),o.elementType=L,o.lanes=D,o;case N:return o=fr(19,p,c,E),o.elementType=N,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case w:G=10;break e;case B:G=9;break e;case R:G=11;break e;case U:G=14;break e;case P:G=16,v=null;break e}G=29,p=Error(i(130,o===null?"null":typeof o,"")),v=null}return c=fr(G,p,c,E),c.elementType=o,c.type=v,c.lanes=D,c}function wl(o,c,p,v){return o=fr(7,o,v,c),o.lanes=p,o}function dh(o,c,p){return o=fr(6,o,null,c),o.lanes=p,o}function up(o,c,p){return c=fr(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Nu=[],hr=0,ph=null,Ou=0,As=[],Rr=0,Rl=null,Qa=1,Za="";function Fo(o,c){Nu[hr++]=Ou,Nu[hr++]=ph,ph=o,Ou=c}function fp(o,c,p){As[Rr++]=Qa,As[Rr++]=Za,As[Rr++]=Rl,Rl=o;var v=Qa;o=Za;var E=32-mt(v)-1;v&=~(1<<E),p+=1;var D=32-mt(c)+E;if(30<D){var G=E-E%5;D=(v&(1<<G)-1).toString(32),v>>=G,E-=G,Qa=1<<32-mt(c)+E|p<<E|v,Za=D+o}else Qa=1<<D|p<<E|v,Za=o}function Jg(o){o.return!==null&&(Fo(o,1),fp(o,1,0))}function Qg(o){for(;o===ph;)ph=Nu[--hr],Nu[hr]=null,Ou=Nu[--hr],Nu[hr]=null;for(;o===Rl;)Rl=As[--Rr],As[Rr]=null,Za=As[--Rr],As[Rr]=null,Qa=As[--Rr],As[Rr]=null}var Js=null,gi=null,Rn=!1,Zr=null,Br=!1,hp=Error(i(519));function Bl(o){var c=Error(i(418,""));throw _c(Ss(c,o)),hp}function E_(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[Fi]=o,c[Qi]=v,p){case"dialog":yn("cancel",c),yn("close",c);break;case"iframe":case"object":case"embed":yn("load",c);break;case"video":case"audio":for(p=0;p<wy.length;p++)yn(wy[p],c);break;case"source":yn("error",c);break;case"img":case"image":case"link":yn("error",c),yn("load",c);break;case"details":yn("toggle",c);break;case"input":yn("invalid",c),Xn(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),mi(c);break;case"select":yn("invalid",c);break;case"textarea":yn("invalid",c),ls(c,v.value,v.defaultValue,v.children),mi(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||P2(c.textContent,p)?(v.popover!=null&&(yn("beforetoggle",c),yn("toggle",c)),v.onScroll!=null&&yn("scroll",c),v.onScrollEnd!=null&&yn("scrollend",c),v.onClick!=null&&(c.onclick=yb),c=!0):c=!1,c||Bl(o)}function Zg(o){for(Js=o.return;Js;)switch(Js.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Js=Js.return}}function Ta(o){if(o!==Js)return!1;if(!Rn)return Zg(o),Rn=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||l1(o.type,o.memoizedProps)),p=!p),p&&gi&&Bl(o),Zg(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){gi=Zo(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}gi=null}}else c===27?(c=gi,af(o.type)?(o=h1,h1=null,gi=o):gi=c):gi=Js?Zo(o.stateNode.nextSibling):null;return!0}function Lu(){gi=Js=null,Rn=!1}function Ln(){var o=Zr;return o!==null&&(Pt===null?Pt=o:Pt.push.apply(Pt,o),Zr=null),o}function _c(o){Zr===null?Zr=[o]:Zr.push(o)}var $g=ae(null),Dl=null,Ho=null;function Il(o,c,p){Ae($g,c._currentValue),c._currentValue=p}function zo(o){o._currentValue=$g.current,Se($g)}function ey(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function mh(o,c,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var D=E.dependencies;if(D!==null){var G=E.child;D=D.firstContext;e:for(;D!==null;){var q=D;D=E;for(var ue=0;ue<c.length;ue++)if(q.context===c[ue]){D.lanes|=p,q=D.alternate,q!==null&&(q.lanes|=p),ey(D.return,p,o),v||(G=null);break e}D=q.next}}else if(E.tag===18){if(G=E.return,G===null)throw Error(i(341));G.lanes|=p,D=G.alternate,D!==null&&(D.lanes|=p),ey(G,p,o),G=null}else G=E.child;if(G!==null)G.return=E;else for(G=E;G!==null;){if(G===o){G=null;break}if(E=G.sibling,E!==null){E.return=G.return,G=E;break}G=G.return}E=G}}function $r(o,c,p,v){o=null;for(var E=c,D=!1;E!==null;){if(!D){if((E.flags&524288)!==0)D=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var G=E.alternate;if(G===null)throw Error(i(387));if(G=G.memoizedProps,G!==null){var q=E.type;lr(E.pendingProps.value,G.value)||(o!==null?o.push(q):o=[q])}}else if(E===et.current){if(G=E.alternate,G===null)throw Error(i(387));G.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Oy):o=[Oy])}E=E.return}o!==null&&mh(c,o,p,v),c.flags|=262144}function gh(o){for(o=o.firstContext;o!==null;){if(!lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function $a(o){Dl=o,Ho=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function _i(o){return dp(Dl,o)}function yh(o,c){return Dl===null&&$a(o),dp(o,c)}function dp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Ho===null){if(o===null)throw Error(i(308));Ho=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ho=Ho.next=c;return p}var ty=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},kE=n.unstable_scheduleCallback,M_=n.unstable_NormalPriority,Gi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new ty,data:new Map,refCount:0}}function Pu(o){o.refCount--,o.refCount===0&&kE(M_,function(){o.controller.abort()})}var Uu=null,vh=0,Kt=0,Fu=null;function Dr(o,c){if(Uu===null){var p=Uu=[];vh=0,Kt=$E(),Fu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return vh++,c.then(mp,mp),c}function mp(){if(--vh===0&&Uu!==null){Fu!==null&&(Fu.status="fulfilled");var o=Uu;Uu=null,Kt=0,Fu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function XE(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var _h=z.S;z.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Dr(o,c),_h!==null&&_h(o,c)};var ea=ae(null);function Nl(){var o=ea.current;return o!==null?o:Yt.pooledCache}function bh(o,c){c===null?Ae(ea,ea.current):Ae(ea,c.pool)}function gp(){var o=Nl();return o===null?null:{parent:Gi._currentValue,pool:o}}var xh=Error(i(460)),ny=Error(i(474)),Ca=Error(i(542)),Sh={then:function(){}};function yp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Hu(){}function vp(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Hu,Hu),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,T_(o),o;default:if(typeof c.status=="string")c.then(Hu,Hu);else{if(o=Yt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,T_(o),o}throw ta=c,xh}}var ta=null;function iy(){if(ta===null)throw Error(i(459));var o=ta;return ta=null,o}function T_(o){if(o===xh||o===Ca)throw Error(i(483))}var Go=!1;function sy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function eo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Vo(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Pn&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=Iu(o),Yg(o,null,p),c}return Tl(o,v,c,p),Iu(o)}function bc(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Rt(o,p)}}function zu(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?E=D=G:D=D.next=G,p=p.next}while(p!==null);D===null?E=D=c:D=D.next=c}else E=D=c;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var ry=!1;function Ah(){if(ry){var o=Fu;if(o!==null)throw o}}function Gu(o,c,p,v){ry=!1;var E=o.updateQueue;Go=!1;var D=E.firstBaseUpdate,G=E.lastBaseUpdate,q=E.shared.pending;if(q!==null){E.shared.pending=null;var ue=q,we=ue.next;ue.next=null,G===null?D=we:G.next=we,G=ue;var Je=o.alternate;Je!==null&&(Je=Je.updateQueue,q=Je.lastBaseUpdate,q!==G&&(q===null?Je.firstBaseUpdate=we:q.next=we,Je.lastBaseUpdate=ue))}if(D!==null){var tt=E.baseState;G=0,Je=we=ue=null,q=D;do{var De=q.lane&-536870913,Ue=De!==q.lane;if(Ue?(Nt&De)===De:(v&De)===De){De!==0&&De===Kt&&(ry=!0),Je!==null&&(Je=Je.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var jt=o,Ht=q;De=c;var ii=p;switch(Ht.tag){case 1:if(jt=Ht.payload,typeof jt=="function"){tt=jt.call(ii,tt,De);break e}tt=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Ht.payload,De=typeof jt=="function"?jt.call(ii,tt,De):jt,De==null)break e;tt=m({},tt,De);break e;case 2:Go=!0}}De=q.callback,De!==null&&(o.flags|=64,Ue&&(o.flags|=8192),Ue=E.callbacks,Ue===null?E.callbacks=[De]:Ue.push(De))}else Ue={lane:De,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Je===null?(we=Je=Ue,ue=tt):Je=Je.next=Ue,G|=De;if(q=q.next,q===null){if(q=E.shared.pending,q===null)break;Ue=q,q=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);Je===null&&(ue=tt),E.baseState=ue,E.firstBaseUpdate=we,E.lastBaseUpdate=Je,D===null&&(E.shared.lanes=0),La|=G,o.lanes=G,o.memoizedState=tt}}function Vu(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function C_(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Vu(p[o],c)}var ku=ae(null),_p=ae(0);function w_(o,c){o=oa,Ae(_p,o),Ae(ku,c),oa=o|c.baseLanes}function ay(){Ae(_p,oa),Ae(ku,ku.current)}function Eh(){oa=_p.current,Se(ku),Se(_p)}var ko=0,Jt=null,zn=null,Vi=null,bp=!1,Ol=!1,Qs=!1,Zi=0,na=0,Es=null,R_=0;function wi(){throw Error(i(321))}function Os(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!lr(o[p],c[p]))return!1;return!0}function Xo(o,c,p,v,E,D){return ko=D,Jt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,z.H=o===null||o.memoizedState===null?Rp:Sy,Qs=!1,D=p(v,E),Qs=!1,Ol&&(D=D_(c,p,v,E)),B_(o),D}function B_(o){z.H=Ch;var c=zn!==null&&zn.next!==null;if(ko=0,Vi=zn=Jt=null,bp=!1,na=0,Es=null,c)throw Error(i(300));o===null||fs||(o=o.dependencies,o!==null&&gh(o)&&(fs=!0))}function D_(o,c,p,v){Jt=o;var E=0;do{if(Ol&&(Es=null),na=0,Ol=!1,25<=E)throw Error(i(301));if(E+=1,Vi=zn=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}z.H=ib,D=c(p,v)}while(Ol);return D}function jE(){var o=z.H,c=o.useState()[0];return c=typeof c.then=="function"?wa(c):c,o=o.useState()[0],(zn!==null?zn.memoizedState:null)!==o&&(Jt.flags|=1024),c}function oy(){var o=Zi!==0;return Zi=0,o}function xp(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function ly(o){if(bp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}bp=!1}ko=0,Vi=zn=Jt=null,Ol=!1,na=Zi=0,Es=null}function Zs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?Jt.memoizedState=Vi=o:Vi=Vi.next=o,Vi}function ki(){if(zn===null){var o=Jt.alternate;o=o!==null?o.memoizedState:null}else o=zn.next;var c=Vi===null?Jt.memoizedState:Vi.next;if(c!==null)Vi=c,zn=o;else{if(o===null)throw Jt.alternate===null?Error(i(467)):Error(i(310));zn=o,o={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Vi===null?Jt.memoizedState=Vi=o:Vi=Vi.next=o}return Vi}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(o){var c=na;return na+=1,Es===null&&(Es=[]),o=vp(Es,o,c),c=Jt,(Vi===null?c.memoizedState:Vi.next)===null&&(c=c.alternate,z.H=c===null||c.memoizedState===null?Rp:Sy),o}function Sp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return wa(o);if(o.$$typeof===w)return _i(o)}throw Error(i(438,String(o)))}function cy(o){var c=null,p=Jt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=Jt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Ll(),Jt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=M;return c.index++,p}function jo(o,c){return typeof c=="function"?c(o):c}function Pl(o){var c=ki();return uy(c,zn,o)}function uy(o,c,p){var v=o.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var E=o.baseQueue,D=v.pending;if(D!==null){if(E!==null){var G=E.next;E.next=D.next,D.next=G}c.baseQueue=E=D,v.pending=null}if(D=o.baseState,E===null)o.memoizedState=D;else{c=E.next;var q=G=null,ue=null,we=c,Je=!1;do{var tt=we.lane&-536870913;if(tt!==we.lane?(Nt&tt)===tt:(ko&tt)===tt){var De=we.revertLane;if(De===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),tt===Kt&&(Je=!0);else if((ko&De)===De){we=we.next,De===Kt&&(Je=!0);continue}else tt={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(q=ue=tt,G=D):ue=ue.next=tt,Jt.lanes|=De,La|=De;tt=we.action,Qs&&p(D,tt),D=we.hasEagerState?we.eagerState:p(D,tt)}else De={lane:tt,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ue===null?(q=ue=De,G=D):ue=ue.next=De,Jt.lanes|=tt,La|=tt;we=we.next}while(we!==null&&we!==c);if(ue===null?G=D:ue.next=q,!lr(D,o.memoizedState)&&(fs=!0,Je&&(p=Fu,p!==null)))throw p;o.memoizedState=D,o.baseState=G,o.baseQueue=ue,v.lastRenderedState=D}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function fy(o){var c=ki(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,D=c.memoizedState;if(E!==null){p.pending=null;var G=E=E.next;do D=o(D,G.action),G=G.next;while(G!==E);lr(D,c.memoizedState)||(fs=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),p.lastRenderedState=D}return[D,v]}function I_(o,c,p){var v=Jt,E=ki(),D=Rn;if(D){if(p===void 0)throw Error(i(407));p=p()}else p=c();var G=!lr((zn||E).memoizedState,p);G&&(E.memoizedState=p,fs=!0),E=E.queue;var q=O_.bind(null,v,E,o);if(Wu(2048,8,q,[o]),E.getSnapshot!==c||G||Vi!==null&&Vi.memoizedState.tag&1){if(v.flags|=2048,ju(9,Mh(),N_.bind(null,v,E,p,c),null),Yt===null)throw Error(i(349));D||(ko&124)!==0||Xu(v,c,p)}return p}function Xu(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Jt.updateQueue,c===null?(c=Ll(),Jt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function N_(o,c,p,v){c.value=p,c.getSnapshot=v,L_(c)&&P_(o)}function O_(o,c,p){return p(function(){L_(c)&&P_(o)})}function L_(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!lr(o,p)}catch{return!0}}function P_(o){var c=Uo(o,2);c!==null&&tr(c,o,2)}function hy(o){var c=Zs();if(typeof o=="function"){var p=o;if(o=p(),Qs){it(!0);try{p()}finally{it(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:o},c}function U_(o,c,p,v){return o.baseState=p,uy(o,zn,typeof v=="function"?v:jo)}function WE(o,c,p,v,E){if(wp(o))throw Error(i(485));if(o=c.action,o!==null){var D={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){D.listeners.push(G)}};z.T!==null?p(!0):D.isTransition=!1,v(D),p=c.pending,p===null?(D.next=c.pending=D,F_(c,D)):(D.next=p.next,c.pending=p.next=D)}}function F_(o,c){var p=c.action,v=c.payload,E=o.state;if(c.isTransition){var D=z.T,G={};z.T=G;try{var q=p(E,v),ue=z.S;ue!==null&&ue(G,q),H_(o,c,q)}catch(we){dy(o,c,we)}finally{z.T=D}}else try{D=p(E,v),H_(o,c,D)}catch(we){dy(o,c,we)}}function H_(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){z_(o,c,v)},function(v){return dy(o,c,v)}):z_(o,c,p)}function z_(o,c,p){c.status="fulfilled",c.value=p,G_(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,F_(o,p)))}function dy(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,G_(c),c=c.next;while(c!==v)}o.action=null}function G_(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function py(o,c){return c}function V_(o,c){if(Rn){var p=Yt.formState;if(p!==null){e:{var v=Jt;if(Rn){if(gi){t:{for(var E=gi,D=Br;E.nodeType!==8;){if(!D){E=null;break t}if(E=Zo(E.nextSibling),E===null){E=null;break t}}D=E.data,E=D==="F!"||D==="F"?E:null}if(E){gi=Zo(E.nextSibling),v=E.data==="F!";break e}}Bl(v)}v=!1}v&&(c=p[0])}}return p=Zs(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:c},p.queue=v,p=tb.bind(null,Jt,v),v.dispatch=p,v=hy(!1),D=Cp.bind(null,Jt,!1,v.queue),v=Zs(),E={state:c,dispatch:null,action:o,pending:null},v.queue=E,p=WE.bind(null,Jt,E,D,p),E.dispatch=p,v.memoizedState=o,[c,p,!1]}function k_(o){var c=ki();return X_(c,zn,o)}function X_(o,c,p){if(c=uy(o,c,py)[0],o=Pl(jo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=wa(c)}catch(G){throw G===xh?Ca:G}else v=c;c=ki();var E=c.queue,D=E.dispatch;return p!==c.memoizedState&&(Jt.flags|=2048,ju(9,Mh(),YE.bind(null,E,p),null)),[v,D,o]}function YE(o,c){o.action=c}function j_(o){var c=ki(),p=zn;if(p!==null)return X_(c,p,o);ki(),c=c.memoizedState,p=ki();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function ju(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=Jt.updateQueue,c===null&&(c=Ll(),Jt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function Mh(){return{destroy:void 0,resource:void 0}}function my(){return ki().memoizedState}function Ap(o,c,p,v){var E=Zs();v=v===void 0?null:v,Jt.flags|=o,E.memoizedState=ju(1|c,Mh(),p,v)}function Wu(o,c,p,v){var E=ki();v=v===void 0?null:v;var D=E.memoizedState.inst;zn!==null&&v!==null&&Os(v,zn.memoizedState.deps)?E.memoizedState=ju(c,D,p,v):(Jt.flags|=o,E.memoizedState=ju(1|c,D,p,v))}function gy(o,c){Ap(8390656,8,o,c)}function yy(o,c){Wu(2048,8,o,c)}function Ep(o,c){return Wu(4,2,o,c)}function Mp(o,c){return Wu(4,4,o,c)}function W_(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Y_(o,c,p){p=p!=null?p.concat([o]):null,Wu(4,4,W_.bind(null,c,o),p)}function vy(){}function q_(o,c){var p=ki();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&Os(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function _y(o,c){var p=ki();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&Os(c,v[1]))return v[0];if(v=o(),Qs){it(!0);try{o()}finally{it(!1)}}return p.memoizedState=[v,c],v}function Tp(o,c,p){return p===void 0||(ko&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=zp(),Jt.lanes|=o,La|=o,p)}function K_(o,c,p,v){return lr(p,c)?p:ku.current!==null?(o=Tp(o,p,v),lr(o,c)||(fs=!0),o):(ko&42)===0?(fs=!0,o.memoizedState=p):(o=zp(),Jt.lanes|=o,La|=o,c)}function J_(o,c,p,v,E){var D=Y.p;Y.p=D!==0&&8>D?D:8;var G=z.T,q={};z.T=q,Cp(o,!1,c,p);try{var ue=E(),we=z.S;if(we!==null&&we(q,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Je=XE(ue,v);Th(o,c,Je,Si(o))}else Th(o,c,v,Si(o))}catch(tt){Th(o,c,{then:function(){},status:"rejected",reason:tt},Si())}finally{Y.p=D,z.T=G}}function qE(){}function by(o,c,p,v){if(o.tag!==5)throw Error(i(476));var E=Q_(o).queue;J_(o,E,c,Z,p===null?qE:function(){return Z_(o),p(v)})}function Q_(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:Z},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Z_(o){var c=Q_(o).next.queue;Th(o,c,{},Si())}function xy(){return _i(Oy)}function $_(){return ki().memoizedState}function eb(){return ki().memoizedState}function KE(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Si();o=eo(p);var v=Vo(c,o,p);v!==null&&(tr(v,c,p),bc(v,c,p)),c={cache:pp()},o.payload=c;return}c=c.return}}function JE(o,c,p){var v=Si();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},wp(o)?nb(c,p):(p=cp(o,c,p,v),p!==null&&(tr(p,o,v),Ir(p,c,v)))}function tb(o,c,p){var v=Si();Th(o,c,p,v)}function Th(o,c,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(wp(o))nb(c,E);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var G=c.lastRenderedState,q=D(G,p);if(E.hasEagerState=!0,E.eagerState=q,lr(q,G))return Tl(o,c,E,0),Yt===null&&fh(),!1}catch{}finally{}if(p=cp(o,c,E,v),p!==null)return tr(p,o,v),Ir(p,c,v),!0}return!1}function Cp(o,c,p,v){if(v={lane:2,revertLane:$E(),action:v,hasEagerState:!1,eagerState:null,next:null},wp(o)){if(c)throw Error(i(479))}else c=cp(o,p,v,2),c!==null&&tr(c,o,2)}function wp(o){var c=o.alternate;return o===Jt||c!==null&&c===Jt}function nb(o,c){Ol=bp=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Ir(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,Rt(o,p)}}var Ch={readContext:_i,use:Sp,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useLayoutEffect:wi,useInsertionEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useSyncExternalStore:wi,useId:wi,useHostTransitionStatus:wi,useFormState:wi,useActionState:wi,useOptimistic:wi,useMemoCache:wi,useCacheRefresh:wi},Rp={readContext:_i,use:Sp,useCallback:function(o,c){return Zs().memoizedState=[o,c===void 0?null:c],o},useContext:_i,useEffect:gy,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Ap(4194308,4,W_.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Ap(4194308,4,o,c)},useInsertionEffect:function(o,c){Ap(4,2,o,c)},useMemo:function(o,c){var p=Zs();c=c===void 0?null:c;var v=o();if(Qs){it(!0);try{o()}finally{it(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=Zs();if(p!==void 0){var E=p(c);if(Qs){it(!0);try{p(c)}finally{it(!1)}}}else E=c;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=JE.bind(null,Jt,o),[v.memoizedState,o]},useRef:function(o){var c=Zs();return o={current:o},c.memoizedState=o},useState:function(o){o=hy(o);var c=o.queue,p=tb.bind(null,Jt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:vy,useDeferredValue:function(o,c){var p=Zs();return Tp(p,o,c)},useTransition:function(){var o=hy(!1);return o=J_.bind(null,Jt,o.queue,!0,!1),Zs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=Jt,E=Zs();if(Rn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Yt===null)throw Error(i(349));(Nt&124)!==0||Xu(v,c,p)}E.memoizedState=p;var D={value:p,getSnapshot:c};return E.queue=D,gy(O_.bind(null,v,D,o),[o]),v.flags|=2048,ju(9,Mh(),N_.bind(null,v,D,p,c),null),p},useId:function(){var o=Zs(),c=Yt.identifierPrefix;if(Rn){var p=Za,v=Qa;p=(v&~(1<<32-mt(v)-1)).toString(32)+p,c=""+c+"R"+p,p=Zi++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=R_++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:xy,useFormState:V_,useActionState:V_,useOptimistic:function(o){var c=Zs();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Cp.bind(null,Jt,!0,p),p.dispatch=c,[o,c]},useMemoCache:cy,useCacheRefresh:function(){return Zs().memoizedState=KE.bind(null,Jt)}},Sy={readContext:_i,use:Sp,useCallback:q_,useContext:_i,useEffect:yy,useImperativeHandle:Y_,useInsertionEffect:Ep,useLayoutEffect:Mp,useMemo:_y,useReducer:Pl,useRef:my,useState:function(){return Pl(jo)},useDebugValue:vy,useDeferredValue:function(o,c){var p=ki();return K_(p,zn.memoizedState,o,c)},useTransition:function(){var o=Pl(jo)[0],c=ki().memoizedState;return[typeof o=="boolean"?o:wa(o),c]},useSyncExternalStore:I_,useId:$_,useHostTransitionStatus:xy,useFormState:k_,useActionState:k_,useOptimistic:function(o,c){var p=ki();return U_(p,zn,o,c)},useMemoCache:cy,useCacheRefresh:eb},ib={readContext:_i,use:Sp,useCallback:q_,useContext:_i,useEffect:yy,useImperativeHandle:Y_,useInsertionEffect:Ep,useLayoutEffect:Mp,useMemo:_y,useReducer:fy,useRef:my,useState:function(){return fy(jo)},useDebugValue:vy,useDeferredValue:function(o,c){var p=ki();return zn===null?Tp(p,o,c):K_(p,zn.memoizedState,o,c)},useTransition:function(){var o=fy(jo)[0],c=ki().memoizedState;return[typeof o=="boolean"?o:wa(o),c]},useSyncExternalStore:I_,useId:$_,useHostTransitionStatus:xy,useFormState:j_,useActionState:j_,useOptimistic:function(o,c){var p=ki();return zn!==null?U_(p,zn,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:cy,useCacheRefresh:eb},xc=null,wh=0;function Rh(o){var c=wh;return wh+=1,xc===null&&(xc=[]),vp(xc,o,c)}function Yu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Bp(o,c){throw c.$$typeof===g?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function sb(o){var c=o._init;return c(o._payload)}function rb(o){function c(ye,pe){if(o){var Ce=ye.deletions;Ce===null?(ye.deletions=[pe],ye.flags|=16):Ce.push(pe)}}function p(ye,pe){if(!o)return null;for(;pe!==null;)c(ye,pe),pe=pe.sibling;return null}function v(ye){for(var pe=new Map;ye!==null;)ye.key!==null?pe.set(ye.key,ye):pe.set(ye.index,ye),ye=ye.sibling;return pe}function E(ye,pe){return ye=Ci(ye,pe),ye.index=0,ye.sibling=null,ye}function D(ye,pe,Ce){return ye.index=Ce,o?(Ce=ye.alternate,Ce!==null?(Ce=Ce.index,Ce<pe?(ye.flags|=67108866,pe):Ce):(ye.flags|=67108866,pe)):(ye.flags|=1048576,pe)}function G(ye){return o&&ye.alternate===null&&(ye.flags|=67108866),ye}function q(ye,pe,Ce,$e){return pe===null||pe.tag!==6?(pe=dh(Ce,ye.mode,$e),pe.return=ye,pe):(pe=E(pe,Ce),pe.return=ye,pe)}function ue(ye,pe,Ce,$e){var Et=Ce.type;return Et===x?Je(ye,pe,Ce.props.children,$e,Ce.key):pe!==null&&(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===P&&sb(Et)===pe.type)?(pe=E(pe,Ce.props),Yu(pe,Ce),pe.return=ye,pe):(pe=us(Ce.type,Ce.key,Ce.props,null,ye.mode,$e),Yu(pe,Ce),pe.return=ye,pe)}function we(ye,pe,Ce,$e){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ce.containerInfo||pe.stateNode.implementation!==Ce.implementation?(pe=up(Ce,ye.mode,$e),pe.return=ye,pe):(pe=E(pe,Ce.children||[]),pe.return=ye,pe)}function Je(ye,pe,Ce,$e,Et){return pe===null||pe.tag!==7?(pe=wl(Ce,ye.mode,$e,Et),pe.return=ye,pe):(pe=E(pe,Ce),pe.return=ye,pe)}function tt(ye,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=dh(""+pe,ye.mode,Ce),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return Ce=us(pe.type,pe.key,pe.props,null,ye.mode,Ce),Yu(Ce,pe),Ce.return=ye,Ce;case b:return pe=up(pe,ye.mode,Ce),pe.return=ye,pe;case P:var $e=pe._init;return pe=$e(pe._payload),tt(ye,pe,Ce)}if(ne(pe)||k(pe))return pe=wl(pe,ye.mode,Ce,null),pe.return=ye,pe;if(typeof pe.then=="function")return tt(ye,Rh(pe),Ce);if(pe.$$typeof===w)return tt(ye,yh(ye,pe),Ce);Bp(ye,pe)}return null}function De(ye,pe,Ce,$e){var Et=pe!==null?pe.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Et!==null?null:q(ye,pe,""+Ce,$e);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:return Ce.key===Et?ue(ye,pe,Ce,$e):null;case b:return Ce.key===Et?we(ye,pe,Ce,$e):null;case P:return Et=Ce._init,Ce=Et(Ce._payload),De(ye,pe,Ce,$e)}if(ne(Ce)||k(Ce))return Et!==null?null:Je(ye,pe,Ce,$e,null);if(typeof Ce.then=="function")return De(ye,pe,Rh(Ce),$e);if(Ce.$$typeof===w)return De(ye,pe,yh(ye,Ce),$e);Bp(ye,Ce)}return null}function Ue(ye,pe,Ce,$e,Et){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return ye=ye.get(Ce)||null,q(pe,ye,""+$e,Et);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case y:return ye=ye.get($e.key===null?Ce:$e.key)||null,ue(pe,ye,$e,Et);case b:return ye=ye.get($e.key===null?Ce:$e.key)||null,we(pe,ye,$e,Et);case P:var mn=$e._init;return $e=mn($e._payload),Ue(ye,pe,Ce,$e,Et)}if(ne($e)||k($e))return ye=ye.get(Ce)||null,Je(pe,ye,$e,Et,null);if(typeof $e.then=="function")return Ue(ye,pe,Ce,Rh($e),Et);if($e.$$typeof===w)return Ue(ye,pe,Ce,yh(pe,$e),Et);Bp(pe,$e)}return null}function jt(ye,pe,Ce,$e){for(var Et=null,mn=null,Bt=pe,zt=pe=0,Us=null;Bt!==null&&zt<Ce.length;zt++){Bt.index>zt?(Us=Bt,Bt=null):Us=Bt.sibling;var Fn=De(ye,Bt,Ce[zt],$e);if(Fn===null){Bt===null&&(Bt=Us);break}o&&Bt&&Fn.alternate===null&&c(ye,Bt),pe=D(Fn,pe,zt),mn===null?Et=Fn:mn.sibling=Fn,mn=Fn,Bt=Us}if(zt===Ce.length)return p(ye,Bt),Rn&&Fo(ye,zt),Et;if(Bt===null){for(;zt<Ce.length;zt++)Bt=tt(ye,Ce[zt],$e),Bt!==null&&(pe=D(Bt,pe,zt),mn===null?Et=Bt:mn.sibling=Bt,mn=Bt);return Rn&&Fo(ye,zt),Et}for(Bt=v(Bt);zt<Ce.length;zt++)Us=Ue(Bt,ye,zt,Ce[zt],$e),Us!==null&&(o&&Us.alternate!==null&&Bt.delete(Us.key===null?zt:Us.key),pe=D(Us,pe,zt),mn===null?Et=Us:mn.sibling=Us,mn=Us);return o&&Bt.forEach(function(ff){return c(ye,ff)}),Rn&&Fo(ye,zt),Et}function Ht(ye,pe,Ce,$e){if(Ce==null)throw Error(i(151));for(var Et=null,mn=null,Bt=pe,zt=pe=0,Us=null,Fn=Ce.next();Bt!==null&&!Fn.done;zt++,Fn=Ce.next()){Bt.index>zt?(Us=Bt,Bt=null):Us=Bt.sibling;var ff=De(ye,Bt,Fn.value,$e);if(ff===null){Bt===null&&(Bt=Us);break}o&&Bt&&ff.alternate===null&&c(ye,Bt),pe=D(ff,pe,zt),mn===null?Et=ff:mn.sibling=ff,mn=ff,Bt=Us}if(Fn.done)return p(ye,Bt),Rn&&Fo(ye,zt),Et;if(Bt===null){for(;!Fn.done;zt++,Fn=Ce.next())Fn=tt(ye,Fn.value,$e),Fn!==null&&(pe=D(Fn,pe,zt),mn===null?Et=Fn:mn.sibling=Fn,mn=Fn);return Rn&&Fo(ye,zt),Et}for(Bt=v(Bt);!Fn.done;zt++,Fn=Ce.next())Fn=Ue(Bt,ye,zt,Fn.value,$e),Fn!==null&&(o&&Fn.alternate!==null&&Bt.delete(Fn.key===null?zt:Fn.key),pe=D(Fn,pe,zt),mn===null?Et=Fn:mn.sibling=Fn,mn=Fn);return o&&Bt.forEach(function(e5){return c(ye,e5)}),Rn&&Fo(ye,zt),Et}function ii(ye,pe,Ce,$e){if(typeof Ce=="object"&&Ce!==null&&Ce.type===x&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:e:{for(var Et=Ce.key;pe!==null;){if(pe.key===Et){if(Et=Ce.type,Et===x){if(pe.tag===7){p(ye,pe.sibling),$e=E(pe,Ce.props.children),$e.return=ye,ye=$e;break e}}else if(pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===P&&sb(Et)===pe.type){p(ye,pe.sibling),$e=E(pe,Ce.props),Yu($e,Ce),$e.return=ye,ye=$e;break e}p(ye,pe);break}else c(ye,pe);pe=pe.sibling}Ce.type===x?($e=wl(Ce.props.children,ye.mode,$e,Ce.key),$e.return=ye,ye=$e):($e=us(Ce.type,Ce.key,Ce.props,null,ye.mode,$e),Yu($e,Ce),$e.return=ye,ye=$e)}return G(ye);case b:e:{for(Et=Ce.key;pe!==null;){if(pe.key===Et)if(pe.tag===4&&pe.stateNode.containerInfo===Ce.containerInfo&&pe.stateNode.implementation===Ce.implementation){p(ye,pe.sibling),$e=E(pe,Ce.children||[]),$e.return=ye,ye=$e;break e}else{p(ye,pe);break}else c(ye,pe);pe=pe.sibling}$e=up(Ce,ye.mode,$e),$e.return=ye,ye=$e}return G(ye);case P:return Et=Ce._init,Ce=Et(Ce._payload),ii(ye,pe,Ce,$e)}if(ne(Ce))return jt(ye,pe,Ce,$e);if(k(Ce)){if(Et=k(Ce),typeof Et!="function")throw Error(i(150));return Ce=Et.call(Ce),Ht(ye,pe,Ce,$e)}if(typeof Ce.then=="function")return ii(ye,pe,Rh(Ce),$e);if(Ce.$$typeof===w)return ii(ye,pe,yh(ye,Ce),$e);Bp(ye,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,pe!==null&&pe.tag===6?(p(ye,pe.sibling),$e=E(pe,Ce),$e.return=ye,ye=$e):(p(ye,pe),$e=dh(Ce,ye.mode,$e),$e.return=ye,ye=$e),G(ye)):p(ye,pe)}return function(ye,pe,Ce,$e){try{wh=0;var Et=ii(ye,pe,Ce,$e);return xc=null,Et}catch(Bt){if(Bt===xh||Bt===Ca)throw Bt;var mn=fr(29,Bt,null,ye.mode);return mn.lanes=$e,mn.return=ye,mn}finally{}}}var Sc=rb(!0),ab=rb(!1),qn=ae(null),Ra=null;function Ul(o){var c=o.alternate;Ae(Ri,Ri.current&1),Ae(qn,o),Ra===null&&(c===null||ku.current!==null||c.memoizedState!==null)&&(Ra=o)}function ob(o){if(o.tag===22){if(Ae(Ri,Ri.current),Ae(qn,o),Ra===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ra=o)}}else Fl()}function Fl(){Ae(Ri,Ri.current),Ae(qn,qn.current)}function to(o){Se(qn),Ra===o&&(Ra=null),Se(Ri)}var Ri=ae(0);function Wo(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||f1(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Hl(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var $s={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Si(),E=eo(v);E.payload=c,p!=null&&(E.callback=p),c=Vo(o,E,v),c!==null&&(tr(c,o,v),bc(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Si(),E=eo(v);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=Vo(o,E,v),c!==null&&(tr(c,o,v),bc(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Si(),v=eo(p);v.tag=2,c!=null&&(v.callback=c),c=Vo(o,v,p),c!==null&&(tr(c,o,p),bc(c,o,p))}};function lb(o,c,p,v,E,D,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,D,G):c.prototype&&c.prototype.isPureReactComponent?!Ma(p,v)||!Ma(E,D):!0}function cb(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&$s.enqueueReplaceState(c,c.state,null)}function no(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Ac=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Bh(o){Ac(o)}function Dp(o){console.error(o)}function ub(o){Ac(o)}function Ip(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function ia(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Np(o,c,p){return p=eo(p),p.tag=3,p.payload={element:null},p.callback=function(){Ip(o,c)},p}function fb(o){return o=eo(o),o.tag=3,o}function Op(o,c,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var D=v.value;o.payload=function(){return E(D)},o.callback=function(){ia(c,p,v)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){ia(c,p,v),typeof E!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var q=v.stack;this.componentDidCatch(v.value,{componentStack:q!==null?q:""})})}function QE(o,c,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&$r(c,p,E,!0),p=qn.current,p!==null){switch(p.tag){case 13:return Ra===null?f():p.alternate===null&&ri===0&&(ri=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===Sh?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),Fe(o,v,E)),!1;case 22:return p.flags|=65536,v===Sh?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),Fe(o,v,E)),!1}throw Error(i(435,p.tag))}return Fe(o,v,E),f(),!1}if(Rn)return c=qn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==hp&&(o=Error(i(422),{cause:v}),_c(Ss(o,p)))):(v!==hp&&(c=Error(i(423),{cause:v}),_c(Ss(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Ss(v,p),E=Np(o.stateNode,v,E),zu(o,E),ri!==4&&(ri=2)),!1;var D=Error(i(520),{cause:v});if(D=Ss(D,p),Un===null?Un=[D]:Un.push(D),ri!==4&&(ri=2),c===null)return!0;v=Ss(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=Np(p.stateNode,v,o),zu(p,o),!1;case 1:if(c=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(zr===null||!zr.has(D))))return p.flags|=65536,E&=-E,p.lanes|=E,E=fb(E),Op(E,o,p,v),zu(p,E),!1}p=p.return}while(p!==null);return!1}var hb=Error(i(461)),fs=!1;function Bi(o,c,p,v){c.child=o===null?ab(c,null,p,v):Sc(c,o.child,p,v)}function dr(o,c,p,v,E){p=p.render;var D=c.ref;if("ref"in v){var G={};for(var q in v)q!=="ref"&&(G[q]=v[q])}else G=v;return $a(c),v=Xo(o,c,p,G,D,E),q=oy(),o!==null&&!fs?(xp(o,c,E),hs(o,c,E)):(Rn&&q&&Jg(c),c.flags|=1,Bi(o,c,v,E),c.child)}function pr(o,c,p,v,E){if(o===null){var D=p.type;return typeof D=="function"&&!hh(D)&&D.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=D,Ay(o,c,D,v,E)):(o=us(p.type,null,v,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(D=o.child,!Dh(o,E)){var G=D.memoizedProps;if(p=p.compare,p=p!==null?p:Ma,p(G,v)&&o.ref===c.ref)return hs(o,c,E)}return c.flags|=1,o=Ci(D,v),o.ref=c.ref,o.return=c,c.child=o}function Ay(o,c,p,v,E){if(o!==null){var D=o.memoizedProps;if(Ma(D,v)&&o.ref===c.ref)if(fs=!1,c.pendingProps=v=D,Dh(o,E))(o.flags&131072)!==0&&(fs=!0);else return c.lanes=o.lanes,hs(o,c,E)}return qu(o,c,p,v,E)}function Ec(o,c,p){var v=c.pendingProps,E=v.children,D=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=D!==null?D.baseLanes|p:p,o!==null){for(E=c.child=o.child,D=0;E!==null;)D=D|E.lanes|E.childLanes,E=E.sibling;c.childLanes=D&~v}else c.childLanes=0,c.child=null;return Mc(o,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&bh(c,D!==null?D.cachePool:null),D!==null?w_(c,D):ay(),ob(c);else return c.lanes=c.childLanes=536870912,Mc(o,c,D!==null?D.baseLanes|p:p,p)}else D!==null?(bh(c,D.cachePool),w_(c,D),Fl(),c.memoizedState=null):(o!==null&&bh(c,null),ay(),Fl());return Bi(o,c,E,p),c.child}function Mc(o,c,p,v){var E=Nl();return E=E===null?null:{parent:Gi._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&bh(c,null),ay(),ob(c),o!==null&&$r(o,c,v,!0),null}function Tc(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function qu(o,c,p,v,E){return $a(c),p=Xo(o,c,p,v,void 0,E),v=oy(),o!==null&&!fs?(xp(o,c,E),hs(o,c,E)):(Rn&&v&&Jg(c),c.flags|=1,Bi(o,c,p,E),c.child)}function Nr(o,c,p,v,E,D){return $a(c),c.updateQueue=null,p=D_(c,v,p,E),B_(o),v=oy(),o!==null&&!fs?(xp(o,c,D),hs(o,c,D)):(Rn&&v&&Jg(c),c.flags|=1,Bi(o,c,p,D),c.child)}function Or(o,c,p,v,E){if($a(c),c.stateNode===null){var D=Cl,G=p.contextType;typeof G=="object"&&G!==null&&(D=_i(G)),D=new p(v,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=$s,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=v,D.state=c.memoizedState,D.refs={},sy(c),G=p.contextType,D.context=typeof G=="object"&&G!==null?_i(G):Cl,D.state=c.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(Hl(c,p,G,v),D.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(G=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),G!==D.state&&$s.enqueueReplaceState(D,D.state,null),Gu(c,v,D,E),Ah(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){D=c.stateNode;var q=c.memoizedProps,ue=no(p,q);D.props=ue;var we=D.context,Je=p.contextType;G=Cl,typeof Je=="object"&&Je!==null&&(G=_i(Je));var tt=p.getDerivedStateFromProps;Je=typeof tt=="function"||typeof D.getSnapshotBeforeUpdate=="function",q=c.pendingProps!==q,Je||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(q||we!==G)&&cb(c,D,v,G),Go=!1;var De=c.memoizedState;D.state=De,Gu(c,v,D,E),Ah(),we=c.memoizedState,q||De!==we||Go?(typeof tt=="function"&&(Hl(c,p,tt,v),we=c.memoizedState),(ue=Go||lb(c,p,ue,v,De,we,G))?(Je||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=we),D.props=v,D.state=we,D.context=G,v=ue):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{D=c.stateNode,Vt(o,c),G=c.memoizedProps,Je=no(p,G),D.props=Je,tt=c.pendingProps,De=D.context,we=p.contextType,ue=Cl,typeof we=="object"&&we!==null&&(ue=_i(we)),q=p.getDerivedStateFromProps,(we=typeof q=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==tt||De!==ue)&&cb(c,D,v,ue),Go=!1,De=c.memoizedState,D.state=De,Gu(c,v,D,E),Ah();var Ue=c.memoizedState;G!==tt||De!==Ue||Go||o!==null&&o.dependencies!==null&&gh(o.dependencies)?(typeof q=="function"&&(Hl(c,p,q,v),Ue=c.memoizedState),(Je=Go||lb(c,p,Je,v,De,Ue,ue)||o!==null&&o.dependencies!==null&&gh(o.dependencies))?(we||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,Ue,ue),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,Ue,ue)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ue),D.props=v,D.state=Ue,D.context=ue,v=Je):(typeof D.componentDidUpdate!="function"||G===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),v=!1)}return D=v,Tc(o,c),v=(c.flags&128)!==0,D||v?(D=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,o!==null&&v?(c.child=Sc(c,o.child,null,E),c.child=Sc(c,null,p,E)):Bi(o,c,p,E),c.memoizedState=D.state,o=c.child):o=hs(o,c,E),o}function zl(o,c,p,v){return Lu(),c.flags|=256,Bi(o,c,p,v),c.child}var Ba={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Da(o){return{baseLanes:o,cachePool:gp()}}function $i(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=la),o}function Ku(o,c,p){var v=c.pendingProps,E=!1,D=(c.flags&128)!==0,G;if((G=D)||(G=o!==null&&o.memoizedState===null?!1:(Ri.current&2)!==0),G&&(E=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,o===null){if(Rn){if(E?Ul(c):Fl(),Rn){var q=gi,ue;if(ue=q){e:{for(ue=q,q=Br;ue.nodeType!==8;){if(!q){q=null;break e}if(ue=Zo(ue.nextSibling),ue===null){q=null;break e}}q=ue}q!==null?(c.memoizedState={dehydrated:q,treeContext:Rl!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},ue=fr(18,null,null,0),ue.stateNode=q,ue.return=c,c.child=ue,Js=c,gi=null,ue=!0):ue=!1}ue||Bl(c)}if(q=c.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return f1(q)?c.lanes=32:c.lanes=536870912,null;to(c)}return q=v.children,v=v.fallback,E?(Fl(),E=c.mode,q=Cc({mode:"hidden",children:q},E),v=wl(v,E,p,null),q.return=c,v.return=c,q.sibling=v,c.child=q,E=c.child,E.memoizedState=Da(p),E.childLanes=$i(o,G,p),c.memoizedState=Ba,v):(Ul(c),io(c,q))}if(ue=o.memoizedState,ue!==null&&(q=ue.dehydrated,q!==null)){if(D)c.flags&256?(Ul(c),c.flags&=-257,c=Ms(o,c,p)):c.memoizedState!==null?(Fl(),c.child=o.child,c.flags|=128,c=null):(Fl(),E=v.fallback,q=c.mode,v=Cc({mode:"visible",children:v.children},q),E=wl(E,q,p,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,Sc(c,o.child,null,p),v=c.child,v.memoizedState=Da(p),v.childLanes=$i(o,G,p),c.memoizedState=Ba,c=E);else if(Ul(c),f1(q)){if(G=q.nextSibling&&q.nextSibling.dataset,G)var we=G.dgst;G=we,v=Error(i(419)),v.stack="",v.digest=G,_c({value:v,source:null,stack:null}),c=Ms(o,c,p)}else if(fs||$r(o,c,p,!1),G=(p&o.childLanes)!==0,fs||G){if(G=Yt,G!==null&&(v=p&-p,v=(v&42)!==0?1:rn(v),v=(v&(G.suspendedLanes|p))!==0?0:v,v!==0&&v!==ue.retryLane))throw ue.retryLane=v,Uo(o,v),tr(G,o,v),hb;q.data==="$?"||f(),c=Ms(o,c,p)}else q.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ue.treeContext,gi=Zo(q.nextSibling),Js=c,Rn=!0,Zr=null,Br=!1,o!==null&&(As[Rr++]=Qa,As[Rr++]=Za,As[Rr++]=Rl,Qa=o.id,Za=o.overflow,Rl=c),c=io(c,v.children),c.flags|=4096);return c}return E?(Fl(),E=v.fallback,q=c.mode,ue=o.child,we=ue.sibling,v=Ci(ue,{mode:"hidden",children:v.children}),v.subtreeFlags=ue.subtreeFlags&65011712,we!==null?E=Ci(we,E):(E=wl(E,q,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,q=o.child.memoizedState,q===null?q=Da(p):(ue=q.cachePool,ue!==null?(we=Gi._currentValue,ue=ue.parent!==we?{parent:we,pool:we}:ue):ue=gp(),q={baseLanes:q.baseLanes|p,cachePool:ue}),E.memoizedState=q,E.childLanes=$i(o,G,p),c.memoizedState=Ba,v):(Ul(c),p=o.child,o=p.sibling,p=Ci(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(G=c.deletions,G===null?(c.deletions=[o],c.flags|=16):G.push(o)),c.child=p,c.memoizedState=null,p)}function io(o,c){return c=Cc({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Cc(o,c){return o=fr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ms(o,c,p){return Sc(c,o.child,null,p),o=io(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Ts(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),ey(o.return,c,p)}function Sn(o,c,p,v,E){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=p,D.tailMode=E)}function sa(o,c,p){var v=c.pendingProps,E=v.revealOrder,D=v.tail;if(Bi(o,c,v.children,p),v=Ri.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ts(o,p,c);else if(o.tag===19)Ts(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(Ae(Ri,v),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Wo(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),Sn(c,!1,E,p,D);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Wo(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Sn(c,!0,p,null,D);break;case"together":Sn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function hs(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),La|=c.lanes,(p&c.childLanes)===0)if(o!==null){if($r(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,p=Ci(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Ci(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Dh(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&gh(o)))}function ra(o,c,p){switch(c.tag){case 3:be(c,c.stateNode.containerInfo),Il(c,Gi,o.memoizedState.cache),Lu();break;case 27:case 5:Q(c);break;case 4:be(c,c.stateNode.containerInfo);break;case 10:Il(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Ul(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Ku(o,c,p):(Ul(c),o=hs(o,c,p),o!==null?o.sibling:null);Ul(c);break;case 19:var E=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||($r(o,c,p,!1),v=(p&c.childLanes)!==0),E){if(v)return sa(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ae(Ri,Ri.current),v)break;return null;case 22:case 23:return c.lanes=0,Ec(o,c,p);case 24:Il(c,Gi,o.memoizedState.cache)}return hs(o,c,p)}function wc(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)fs=!0;else{if(!Dh(o,p)&&(c.flags&128)===0)return fs=!1,ra(o,c,p);fs=(o.flags&131072)!==0}else fs=!1,Rn&&(c.flags&1048576)!==0&&fp(c,Ou,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")hh(v)?(o=no(v,o),c.tag=1,c=Or(null,c,v,o,p)):(c.tag=0,c=qu(null,c,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===R){c.tag=11,c=dr(null,c,v,o,p);break e}else if(E===U){c.tag=14,c=pr(null,c,v,o,p);break e}}throw c=se(v)||v,Error(i(306,c,""))}}return c;case 0:return qu(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,E=no(v,c.pendingProps),Or(o,c,v,E,p);case 3:e:{if(be(c,c.stateNode.containerInfo),o===null)throw Error(i(387));v=c.pendingProps;var D=c.memoizedState;E=D.element,Vt(o,c),Gu(c,v,null,p);var G=c.memoizedState;if(v=G.cache,Il(c,Gi,v),v!==D.cache&&mh(c,[Gi],p,!0),Ah(),v=G.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=zl(o,c,v,p);break e}else if(v!==E){E=Ss(Error(i(424)),c),_c(E),c=zl(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(gi=Zo(o.firstChild),Js=c,Rn=!0,Zr=null,Br=!0,p=ab(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Lu(),v===E){c=hs(o,c,p);break e}Bi(o,c,v,p)}c=c.child}return c;case 26:return Tc(o,c),o===null?(p=W2(c.type,null,c.pendingProps,null))?c.memoizedState=p:Rn||(p=c.type,o=c.pendingProps,v=vb(Xe.current).createElement(p),v[Fi]=c,v[Qi]=o,nr(v,p,o),Hi(v),c.stateNode=v):c.memoizedState=W2(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Q(c),o===null&&Rn&&(v=c.stateNode=k2(c.type,c.pendingProps,Xe.current),Js=c,Br=!0,E=gi,af(c.type)?(h1=E,gi=Zo(v.firstChild)):gi=E),Bi(o,c,c.pendingProps.children,p),Tc(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Rn&&((E=v=gi)&&(v=Rz(v,c.type,c.pendingProps,Br),v!==null?(c.stateNode=v,Js=c,gi=Zo(v.firstChild),Br=!1,E=!0):E=!1),E||Bl(c)),Q(c),E=c.type,D=c.pendingProps,G=o!==null?o.memoizedProps:null,v=D.children,l1(E,D)?v=null:G!==null&&l1(E,G)&&(c.flags|=32),c.memoizedState!==null&&(E=Xo(o,c,jE,null,null,p),Oy._currentValue=E),Tc(o,c),Bi(o,c,v,p),c.child;case 6:return o===null&&Rn&&((o=p=gi)&&(p=Bz(p,c.pendingProps,Br),p!==null?(c.stateNode=p,Js=c,gi=null,o=!0):o=!1),o||Bl(c)),null;case 13:return Ku(o,c,p);case 4:return be(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Sc(c,null,v,p):Bi(o,c,v,p),c.child;case 11:return dr(o,c,c.type,c.pendingProps,p);case 7:return Bi(o,c,c.pendingProps,p),c.child;case 8:return Bi(o,c,c.pendingProps.children,p),c.child;case 12:return Bi(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Il(c,c.type,v.value),Bi(o,c,v.children,p),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,$a(c),E=_i(E),v=v(E),c.flags|=1,Bi(o,c,v,p),c.child;case 14:return pr(o,c,c.type,c.pendingProps,p);case 15:return Ay(o,c,c.type,c.pendingProps,p);case 19:return sa(o,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},o===null?(p=Cc(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Ci(o.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Ec(o,c,p);case 24:return $a(c),v=_i(Gi),o===null?(E=Nl(),E===null&&(E=Yt,D=pp(),E.pooledCache=D,D.refCount++,D!==null&&(E.pooledCacheLanes|=p),E=D),c.memoizedState={parent:v,cache:E},sy(c),Il(c,Gi,E)):((o.lanes&p)!==0&&(Vt(o,c),Gu(c,null,null,p),Ah()),E=o.memoizedState,D=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Il(c,Gi,v)):(v=D.cache,Il(c,Gi,v),v!==E.cache&&mh(c,[Gi],p,!0))),Bi(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ia(o){o.flags|=4}function Ih(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Q2(c)){if(c=qn.current,c!==null&&((Nt&4194048)===Nt?Ra!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||c!==Ra))throw ta=Sh,ny;o.flags|=8192}}function Yo(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?st():536870912,o.lanes|=c,Tn|=c)}function Rc(o,c){if(!Rn)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function $n(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function Ey(o,c,p){var v=c.pendingProps;switch(Qg(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(c),null;case 1:return $n(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),zo(Gi),W(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ta(c)?Ia(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ln())),$n(c),null;case 26:return p=c.memoizedState,o===null?(Ia(c),p!==null?($n(c),Ih(c,p)):($n(c),c.flags&=-16777217)):p?p!==o.memoizedState?(Ia(c),$n(c),Ih(c,p)):($n(c),c.flags&=-16777217):(o.memoizedProps!==v&&Ia(c),$n(c),c.flags&=-16777217),null;case 27:oe(c),p=Xe.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ia(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return $n(c),null}o=ce.current,Ta(c)?E_(c):(o=k2(E,v,p),c.stateNode=o,Ia(c))}return $n(c),null;case 5:if(oe(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ia(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return $n(c),null}if(o=ce.current,Ta(c))E_(c);else{switch(E=vb(Xe.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Fi]=c,o[Qi]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(nr(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ia(c)}}return $n(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Ia(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(o=Xe.current,Ta(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,E=Js,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Fi]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||P2(o.nodeValue,p)),o||Bl(c)}else o=vb(o).createTextNode(v),o[Fi]=c,c.stateNode=o}return $n(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Ta(c),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(i(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Fi]=c}else Lu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$n(c),E=!1}else E=Ln(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(to(c),c):(to(c),null)}if(to(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var D=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==E&&(v.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),Yo(c,c.updateQueue),$n(c),null;case 4:return W(),o===null&&i1(c.stateNode.containerInfo),$n(c),null;case 10:return zo(c.type),$n(c),null;case 19:if(Se(Ri),E=c.memoizedState,E===null)return $n(c),null;if(v=(c.flags&128)!==0,D=E.rendering,D===null)if(v)Rc(E,!1);else{if(ri!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=Wo(o),D!==null){for(c.flags|=128,Rc(E,!1),o=D.updateQueue,c.updateQueue=o,Yo(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Kg(p,o),p=p.sibling;return Ae(Ri,Ri.current&1|2),c.child}o=o.sibling}E.tail!==null&&He()>Ls&&(c.flags|=128,v=!0,Rc(E,!1),c.lanes=4194304)}else{if(!v)if(o=Wo(D),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,Yo(c,o),Rc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!Rn)return $n(c),null}else 2*He()-E.renderingStartTime>Ls&&p!==536870912&&(c.flags|=128,v=!0,Rc(E,!1),c.lanes=4194304);E.isBackwards?(D.sibling=c.child,c.child=D):(o=E.last,o!==null?o.sibling=D:c.child=D,E.last=D)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=He(),c.sibling=null,o=Ri.current,Ae(Ri,v?o&1|2:o&1),c):($n(c),null);case 22:case 23:return to(c),Eh(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&($n(c),c.subtreeFlags&6&&(c.flags|=8192)):$n(c),p=c.updateQueue,p!==null&&Yo(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&Se(ea),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),zo(Gi),$n(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Ju(o,c){switch(Qg(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return zo(Gi),W(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return oe(c),null;case 13:if(to(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Lu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Se(Ri),null;case 4:return W(),null;case 10:return zo(c.type),null;case 22:case 23:return to(c),Eh(),o!==null&&Se(ea),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return zo(Gi),null;case 25:return null;default:return null}}function Qu(o,c){switch(Qg(c),c.tag){case 3:zo(Gi),W();break;case 26:case 27:case 5:oe(c);break;case 4:W();break;case 13:to(c);break;case 19:Se(Ri);break;case 10:zo(c.type);break;case 22:case 23:to(c),Eh(),o!==null&&Se(ea);break;case 24:zo(Gi)}}function Bc(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var D=p.create,G=p.inst;v=D(),G.destroy=v}p=p.next}while(p!==E)}}catch(q){de(c,c.return,q)}}function Lr(o,c,p){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var D=E.next;v=D;do{if((v.tag&o)===o){var G=v.inst,q=G.destroy;if(q!==void 0){G.destroy=void 0,E=c;var ue=p,we=q;try{we()}catch(Je){de(E,ue,Je)}}}v=v.next}while(v!==D)}}catch(Je){de(c,c.return,Je)}}function Dc(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{C_(c,p)}catch(v){de(o,o.return,v)}}}function qo(o,c,p){p.props=no(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){de(o,c,v)}}function Ic(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){de(o,c,E)}}function so(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){de(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){de(o,c,E)}else p.current=null}function Zu(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){de(o,o.return,E)}}function Nh(o,c,p){try{var v=o.stateNode;Ez(v,o.type,p,c),v[Qi]=c}catch(E){de(o,o.return,E)}}function Oh(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&af(o.type)||o.tag===4}function Gl(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Oh(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&af(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vl(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=yb));else if(v!==4&&(v===27&&af(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(Vl(o,c,p),o=o.sibling;o!==null;)Vl(o,c,p),o=o.sibling}function kl(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&af(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(kl(o,c,p),o=o.sibling;o!==null;)kl(o,c,p),o=o.sibling}function Xl(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);nr(c,v,p),c[Fi]=o,c[Qi]=p}catch(D){de(o,o.return,D)}}var ro=!1,ei=!1,$u=!1,Pr=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function es(o,c){if(o=o.containerInfo,a1=Eb,o=Vg(o),lh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var G=0,q=-1,ue=-1,we=0,Je=0,tt=o,De=null;t:for(;;){for(var Ue;tt!==p||E!==0&&tt.nodeType!==3||(q=G+E),tt!==D||v!==0&&tt.nodeType!==3||(ue=G+v),tt.nodeType===3&&(G+=tt.nodeValue.length),(Ue=tt.firstChild)!==null;)De=tt,tt=Ue;for(;;){if(tt===o)break t;if(De===p&&++we===E&&(q=G),De===D&&++Je===v&&(ue=G),(Ue=tt.nextSibling)!==null)break;tt=De,De=tt.parentNode}tt=Ue}p=q===-1||ue===-1?null:{start:q,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(o1={focusedElem:o,selectionRange:p},Eb=!1,Kn=c;Kn!==null;)if(c=Kn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Kn=o;else for(;Kn!==null;){switch(c=Kn,D=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,p=c,E=D.memoizedProps,D=D.memoizedState,v=p.stateNode;try{var jt=no(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(jt,D),v.__reactInternalSnapshotBeforeUpdate=o}catch(Ht){de(p,p.return,Ht)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)u1(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":u1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Kn=o;break}Kn=c.return}}function Ko(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:er(o,p),v&4&&Bc(5,p);break;case 1:if(er(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(G){de(p,p.return,G)}else{var E=no(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(G){de(p,p.return,G)}}v&64&&Dc(p),v&512&&Ic(p,p.return);break;case 3:if(er(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{C_(o,c)}catch(G){de(p,p.return,G)}}break;case 27:c===null&&v&4&&Xl(p);case 26:case 5:er(o,p),c===null&&v&4&&Zu(p),v&512&&Ic(p,p.return);break;case 12:er(o,p);break;case 13:er(o,p),v&4&&jl(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=ai.bind(null,p),Dz(o,p))));break;case 22:if(v=p.memoizedState!==null||ro,!v){c=c!==null&&c.memoizedState!==null||ei,E=ro;var D=ei;ro=v,(ei=c)&&!D?ao(o,p,(p.subtreeFlags&8772)!==0):er(o,p),ro=E,ei=D}break;case 30:break;default:er(o,p)}}function nn(o){var c=o.alternate;c!==null&&(o.alternate=null,nn(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&kn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ot=null,Mn=!1;function aa(o,c,p){for(p=p.child;p!==null;)Nc(o,c,p),p=p.sibling}function Nc(o,c,p){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(ze,p)}catch{}switch(p.tag){case 26:ei||so(p,c),aa(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ei||so(p,c);var v=Ot,E=Mn;af(p.type)&&(Ot=p.stateNode,Mn=!1),aa(o,c,p),By(p.stateNode),Ot=v,Mn=E;break;case 5:ei||so(p,c);case 6:if(v=Ot,E=Mn,Ot=null,aa(o,c,p),Ot=v,Mn=E,Ot!==null)if(Mn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(p.stateNode)}catch(D){de(p,c,D)}else try{Ot.removeChild(p.stateNode)}catch(D){de(p,c,D)}break;case 18:Ot!==null&&(Mn?(o=Ot,G2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Fy(o)):G2(Ot,p.stateNode));break;case 4:v=Ot,E=Mn,Ot=p.stateNode.containerInfo,Mn=!0,aa(o,c,p),Ot=v,Mn=E;break;case 0:case 11:case 14:case 15:ei||Lr(2,p,c),ei||Lr(4,p,c),aa(o,c,p);break;case 1:ei||(so(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&qo(p,c,v)),aa(o,c,p);break;case 21:aa(o,c,p);break;case 22:ei=(v=ei)||p.memoizedState!==null,aa(o,c,p),ei=v;break;default:aa(o,c,p)}}function jl(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Fy(o)}catch(p){de(c,c.return,p)}}function Lp(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Pr),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Pr),c;default:throw Error(i(435,o.tag))}}function Oc(o,c){var p=Lp(o);c.forEach(function(v){var E=kt.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function ds(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],D=o,G=c,q=G;e:for(;q!==null;){switch(q.tag){case 27:if(af(q.type)){Ot=q.stateNode,Mn=!1;break e}break;case 5:Ot=q.stateNode,Mn=!1;break e;case 3:case 4:Ot=q.stateNode.containerInfo,Mn=!0;break e}q=q.return}if(Ot===null)throw Error(i(160));Nc(D,G,E),Ot=null,Mn=!1,D=E.alternate,D!==null&&(D.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Pp(c,o),c=c.sibling}var Na=null;function Pp(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ds(c,o),bi(o),v&4&&(Lr(3,o,o.return),Bc(3,o),Lr(5,o,o.return));break;case 1:ds(c,o),bi(o),v&512&&(ei||p===null||so(p,p.return)),v&64&&ro&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=Na;if(ds(c,o),bi(o),v&512&&(ei||p===null||so(p,p.return)),v&4){var D=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":D=E.getElementsByTagName("title")[0],(!D||D[xa]||D[Fi]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=E.createElement(v),E.head.insertBefore(D,E.querySelector("head > title"))),nr(D,v,p),D[Fi]=o,Hi(D),v=D;break e;case"link":var G=K2("link","href",E).get(v+(p.href||""));if(G){for(var q=0;q<G.length;q++)if(D=G[q],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(q,1);break t}}D=E.createElement(v),nr(D,v,p),E.head.appendChild(D);break;case"meta":if(G=K2("meta","content",E).get(v+(p.content||""))){for(q=0;q<G.length;q++)if(D=G[q],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(q,1);break t}}D=E.createElement(v),nr(D,v,p),E.head.appendChild(D);break;default:throw Error(i(468,v))}D[Fi]=o,Hi(D),v=D}o.stateNode=v}else J2(E,o.type,o.stateNode);else o.stateNode=q2(E,v,o.memoizedProps);else D!==v?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,v===null?J2(E,o.type,o.stateNode):q2(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&Nh(o,o.memoizedProps,p.memoizedProps)}break;case 27:ds(c,o),bi(o),v&512&&(ei||p===null||so(p,p.return)),p!==null&&v&4&&Nh(o,o.memoizedProps,p.memoizedProps);break;case 5:if(ds(c,o),bi(o),v&512&&(ei||p===null||so(p,p.return)),o.flags&32){E=o.stateNode;try{Ys(E,"")}catch(Ue){de(o,o.return,Ue)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,Nh(o,E,p!==null?p.memoizedProps:E)),v&1024&&($u=!0);break;case 6:if(ds(c,o),bi(o),v&4){if(o.stateNode===null)throw Error(i(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(Ue){de(o,o.return,Ue)}}break;case 3:if(xb=null,E=Na,Na=_b(c.containerInfo),ds(c,o),Na=E,bi(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Fy(c.containerInfo)}catch(Ue){de(o,o.return,Ue)}$u&&($u=!1,Wl(o));break;case 4:v=Na,Na=_b(o.stateNode.containerInfo),ds(c,o),bi(o),Na=v;break;case 12:ds(c,o),bi(o);break;case 13:ds(c,o),bi(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(jn=He()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Oc(o,v)));break;case 22:E=o.memoizedState!==null;var ue=p!==null&&p.memoizedState!==null,we=ro,Je=ei;if(ro=we||E,ei=Je||ue,ds(c,o),ei=Je,ro=we,bi(o),v&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||ue||ro||ei||Ur(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){ue=p=c;try{if(D=ue.stateNode,E)G=D.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{q=ue.stateNode;var tt=ue.memoizedProps.style,De=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Ue){de(ue,ue.return,Ue)}}}else if(c.tag===6){if(p===null){ue=c;try{ue.stateNode.nodeValue=E?"":ue.memoizedProps}catch(Ue){de(ue,ue.return,Ue)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Oc(o,p))));break;case 19:ds(c,o),bi(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,Oc(o,v)));break;case 30:break;case 21:break;default:ds(c,o),bi(o)}}function bi(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(Oh(v)){p=v;break}v=v.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var E=p.stateNode,D=Gl(o);kl(o,D,E);break;case 5:var G=p.stateNode;p.flags&32&&(Ys(G,""),p.flags&=-33);var q=Gl(o);kl(o,q,G);break;case 3:case 4:var ue=p.stateNode.containerInfo,we=Gl(o);Vl(o,we,ue);break;default:throw Error(i(161))}}catch(Je){de(o,o.return,Je)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Wl(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Wl(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function er(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ko(o,c.alternate,c),c=c.sibling}function Ur(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Lr(4,c,c.return),Ur(c);break;case 1:so(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&qo(c,c.return,p),Ur(c);break;case 27:By(c.stateNode);case 26:case 5:so(c,c.return),Ur(c);break;case 22:c.memoizedState===null&&Ur(c);break;case 30:Ur(c);break;default:Ur(c)}o=o.sibling}}function ao(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=o,D=c,G=D.flags;switch(D.tag){case 0:case 11:case 15:ao(E,D,p),Bc(4,D);break;case 1:if(ao(E,D,p),v=D,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(we){de(v,v.return,we)}if(v=D,E=v.updateQueue,E!==null){var q=v.stateNode;try{var ue=E.shared.hiddenCallbacks;if(ue!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ue.length;E++)Vu(ue[E],q)}catch(we){de(v,v.return,we)}}p&&G&64&&Dc(D),Ic(D,D.return);break;case 27:Xl(D);case 26:case 5:ao(E,D,p),p&&v===null&&G&4&&Zu(D),Ic(D,D.return);break;case 12:ao(E,D,p);break;case 13:ao(E,D,p),p&&G&4&&jl(E,D);break;case 22:D.memoizedState===null&&ao(E,D,p),Ic(D,D.return);break;case 30:break;default:ao(E,D,p)}c=c.sibling}}function Up(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Pu(p))}function Fp(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Pu(o))}function Jn(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Hp(o,c,p,v),c=c.sibling}function Hp(o,c,p,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:Jn(o,c,p,v),E&2048&&Bc(9,c);break;case 1:Jn(o,c,p,v);break;case 3:Jn(o,c,p,v),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Pu(o)));break;case 12:if(E&2048){Jn(o,c,p,v),o=c.stateNode;try{var D=c.memoizedProps,G=D.id,q=D.onPostCommit;typeof q=="function"&&q(G,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ue){de(c,c.return,ue)}}else Jn(o,c,p,v);break;case 13:Jn(o,c,p,v);break;case 23:break;case 22:D=c.stateNode,G=c.alternate,c.memoizedState!==null?D._visibility&2?Jn(o,c,p,v):Oa(o,c):D._visibility&2?Jn(o,c,p,v):(D._visibility|=2,Jo(o,c,p,v,(c.subtreeFlags&10256)!==0)),E&2048&&Up(G,c);break;case 24:Jn(o,c,p,v),E&2048&&Fp(c.alternate,c);break;default:Jn(o,c,p,v)}}function Jo(o,c,p,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var D=o,G=c,q=p,ue=v,we=G.flags;switch(G.tag){case 0:case 11:case 15:Jo(D,G,q,ue,E),Bc(8,G);break;case 23:break;case 22:var Je=G.stateNode;G.memoizedState!==null?Je._visibility&2?Jo(D,G,q,ue,E):Oa(D,G):(Je._visibility|=2,Jo(D,G,q,ue,E)),E&&we&2048&&Up(G.alternate,G);break;case 24:Jo(D,G,q,ue,E),E&&we&2048&&Fp(G.alternate,G);break;default:Jo(D,G,q,ue,E)}c=c.sibling}}function Oa(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,E=v.flags;switch(v.tag){case 22:Oa(p,v),E&2048&&Up(v.alternate,v);break;case 24:Oa(p,v),E&2048&&Fp(v.alternate,v);break;default:Oa(p,v)}c=c.sibling}}var Fr=8192;function ef(o){if(o.subtreeFlags&Fr)for(o=o.child;o!==null;)db(o),o=o.sibling}function db(o){switch(o.tag){case 26:ef(o),o.flags&Fr&&o.memoizedState!==null&&Xz(Na,o.memoizedState,o.memoizedProps);break;case 5:ef(o);break;case 3:case 4:var c=Na;Na=_b(o.stateNode.containerInfo),ef(o),Na=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Fr,Fr=16777216,ef(o),Fr=c):ef(o));break;default:ef(o)}}function pb(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ti(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Kn=v,lo(v,o)}pb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)My(o),o=o.sibling}function My(o){switch(o.tag){case 0:case 11:case 15:ti(o),o.flags&2048&&Lr(9,o,o.return);break;case 3:ti(o);break;case 12:ti(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,oo(o)):ti(o);break;default:ti(o)}}function oo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Kn=v,lo(v,o)}pb(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Lr(8,c,c.return),oo(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,oo(c));break;default:oo(c)}o=o.sibling}}function lo(o,c){for(;Kn!==null;){var p=Kn;switch(p.tag){case 0:case 11:case 15:Lr(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Pu(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Kn=v;else e:for(p=o;Kn!==null;){v=Kn;var E=v.sibling,D=v.return;if(nn(v),v===p){Kn=null;break e}if(E!==null){E.return=D,Kn=E;break e}Kn=D}}}var xi={getCacheForType:function(o){var c=_i(Gi),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},Ty=typeof WeakMap=="function"?WeakMap:Map,Pn=0,Yt=null,cn=null,Nt=0,en=0,yi=null,Hr=!1,tf=!1,nf=!1,oa=0,ri=0,La=0,co=0,Lc=0,la=0,Tn=0,Un=null,Pt=null,pn=!1,jn=0,Ls=1/0,ca=null,zr=null,ts=0,Ps=null,Qn=null,Gr=0,Qo=0,Lh=null,Vr=null,uo=0,Pc=null;function Si(){if((Pn&2)!==0&&Nt!==0)return Nt&-Nt;if(z.T!==null){var o=Kt;return o!==0?o:$E()}return $t()}function zp(){la===0&&(la=(Nt&536870912)===0||Rn?he():536870912);var o=qn.current;return o!==null&&(o.flags|=32),la}function tr(o,c,p){(o===Yt&&(en===2||en===9)||o.cancelPendingCommit!==null)&&(ql(o,0),Pa(o,Nt,la,!1)),qe(o,p),((Pn&2)===0||o!==Yt)&&(o===Yt&&((Pn&2)===0&&(co|=p),ri===4&&Pa(o,Nt,la,!1)),Ql(o))}function sf(o,c,p){if((Pn&6)!==0)throw Error(i(327));var v=!p&&(c&124)===0&&(c&o.expiredLanes)===0||Ne(o,c),E=v?C(o,c):d(o,c,!0),D=v;do{if(E===0){tf&&!v&&Pa(o,c,0,!1);break}else{if(p=o.current.alternate,D&&!Yl(p)){E=d(o,c,!1),D=!1;continue}if(E===2){if(D=c,o.errorRecoveryDisabledLanes&D)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var q=o;E=Un;var ue=q.current.memoizedState.isDehydrated;if(ue&&(ql(q,G).flags|=256),G=d(q,G,!1),G!==2){if(nf&&!ue){q.errorRecoveryDisabledLanes|=D,co|=D,E=4;break e}D=Pt,Pt=E,D!==null&&(Pt===null?Pt=D:Pt.push.apply(Pt,D))}E=G}if(D=!1,E!==2)continue}}if(E===1){ql(o,0),Pa(o,c,0,!0);break}e:{switch(v=o,D=E,D){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Pa(v,c,la,!Hr);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=jn+300-He(),10<E)){if(Pa(v,c,la,!Hr),le(v,0,!0)!==0)break e;v.timeoutHandle=H2(Ph.bind(null,v,p,Pt,ca,pn,c,la,co,Tn,Hr,D,2,-0,0),E);break e}Ph(v,p,Pt,ca,pn,c,la,co,Tn,Hr,D,0,-0,0)}}break}while(!0);Ql(o)}function Ph(o,c,p,v,E,D,G,q,ue,we,Je,tt,De,Ue){if(o.timeoutHandle=-1,tt=c.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Ny={stylesheets:null,count:0,unsuspend:kz},db(c),tt=jz(),tt!==null)){o.cancelPendingCommit=tt(ot.bind(null,o,c,D,p,v,E,G,q,ue,Je,1,De,Ue)),Pa(o,D,G,!we);return}ot(o,c,D,p,v,E,G,q,ue)}function Yl(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],D=E.getSnapshot;E=E.value;try{if(!lr(D(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Pa(o,c,p,v){c&=~Lc,c&=~co,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var E=c;0<E;){var D=31-mt(E),G=1<<D;v[D]=-1,E&=~G}p!==0&&dt(o,p,c)}function fo(){return(Pn&6)===0?(Cy(0),!1):!0}function Uc(){if(cn!==null){if(en===0)var o=cn.return;else o=cn,Ho=Dl=null,ly(o),xc=null,wh=0,o=cn;for(;o!==null;)Qu(o.alternate,o),o=o.return;cn=null}}function ql(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,Tz(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Uc(),Yt=o,cn=p=Ci(o.current,null),Nt=c,en=0,yi=null,Hr=!1,tf=Ne(o,c),nf=!1,Tn=la=Lc=co=La=ri=0,Pt=Un=null,pn=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var E=31-mt(v),D=1<<E;c|=o[E],v&=~D}return oa=c,fh(),p}function Gp(o,c){Jt=null,z.H=Ch,c===xh||c===Ca?(c=iy(),en=3):c===ny?(c=iy(),en=4):en=c===hb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,yi=c,cn===null&&(ri=1,Ip(o,Ss(c,o.current)))}function rf(){var o=z.H;return z.H=Ch,o===null?Ch:o}function Vp(){var o=z.A;return z.A=xi,o}function f(){ri=4,Hr||(Nt&4194048)!==Nt&&qn.current!==null||(tf=!0),(La&134217727)===0&&(co&134217727)===0||Yt===null||Pa(Yt,Nt,la,!1)}function d(o,c,p){var v=Pn;Pn|=2;var E=rf(),D=Vp();(Yt!==o||Nt!==c)&&(ca=null,ql(o,c)),c=!1;var G=ri;e:do try{if(en!==0&&cn!==null){var q=cn,ue=yi;switch(en){case 8:Uc(),G=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(c=!0);var we=en;if(en=0,yi=null,fe(o,q,ue,we),p&&tf){G=0;break e}break;default:we=en,en=0,yi=null,fe(o,q,ue,we)}}_(),G=ri;break}catch(Je){Gp(o,Je)}while(!0);return c&&o.shellSuspendCounter++,Ho=Dl=null,Pn=v,z.H=E,z.A=D,cn===null&&(Yt=null,Nt=0,fh()),G}function _(){for(;cn!==null;)F(cn)}function C(o,c){var p=Pn;Pn|=2;var v=rf(),E=Vp();Yt!==o||Nt!==c?(ca=null,Ls=He()+500,ql(o,c)):tf=Ne(o,c);e:do try{if(en!==0&&cn!==null){c=cn;var D=yi;t:switch(en){case 1:en=0,yi=null,fe(o,c,D,1);break;case 2:case 9:if(yp(D)){en=0,yi=null,ee(c);break}c=function(){en!==2&&en!==9||Yt!==o||(en=7),Ql(o)},D.then(c,c);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:yp(D)?(en=0,yi=null,ee(c)):(en=0,yi=null,fe(o,c,D,7));break;case 5:var G=null;switch(cn.tag){case 26:G=cn.memoizedState;case 5:case 27:var q=cn;if(!G||Q2(G)){en=0,yi=null;var ue=q.sibling;if(ue!==null)cn=ue;else{var we=q.return;we!==null?(cn=we,xe(we)):cn=null}break t}}en=0,yi=null,fe(o,c,D,5);break;case 6:en=0,yi=null,fe(o,c,D,6);break;case 8:Uc(),ri=6;break e;default:throw Error(i(462))}}I();break}catch(Je){Gp(o,Je)}while(!0);return Ho=Dl=null,z.H=v,z.A=E,Pn=p,cn!==null?0:(Yt=null,Nt=0,fh(),ri)}function I(){for(;cn!==null&&!Oe();)F(cn)}function F(o){var c=wc(o.alternate,o,oa);o.memoizedProps=o.pendingProps,c===null?xe(o):cn=c}function ee(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Nr(p,c,c.pendingProps,c.type,void 0,Nt);break;case 11:c=Nr(p,c,c.pendingProps,c.type.render,c.ref,Nt);break;case 5:ly(c);default:Qu(p,c),c=cn=Kg(c,oa),c=wc(p,c,oa)}o.memoizedProps=o.pendingProps,c===null?xe(o):cn=c}function fe(o,c,p,v){Ho=Dl=null,ly(c),xc=null,wh=0;var E=c.return;try{if(QE(o,E,c,p,Nt)){ri=1,Ip(o,Ss(p,o.current)),cn=null;return}}catch(D){if(E!==null)throw cn=E,D;ri=1,Ip(o,Ss(p,o.current)),cn=null;return}c.flags&32768?(Rn||v===1?o=!0:tf||(Nt&536870912)!==0?o=!1:(Hr=o=!0,(v===2||v===9||v===3||v===6)&&(v=qn.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ke(c,o)):xe(c)}function xe(o){var c=o;do{if((c.flags&32768)!==0){Ke(c,Hr);return}o=c.return;var p=Ey(c.alternate,c,oa);if(p!==null){cn=p;return}if(c=c.sibling,c!==null){cn=c;return}cn=c=o}while(c!==null);ri===0&&(ri=5)}function Ke(o,c){do{var p=Ju(o.alternate,o);if(p!==null){p.flags&=32767,cn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){cn=o;return}cn=o=p}while(o!==null);ri=6,cn=null}function ot(o,c,p,v,E,D,G,q,ue){o.cancelPendingCommit=null;do Kl();while(ts!==0);if((Pn&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(D=c.lanes|c.childLanes,D|=lp,gt(o,p,D,G,q,ue),o===Yt&&(cn=Yt=null,Nt=0),Qn=c,Ps=o,Gr=p,Qo=D,Lh=E,Vr=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Bn(K,function(){return Jl(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=z.T,z.T=null,E=Y.p,Y.p=2,G=Pn,Pn|=4;try{es(o,c,p)}finally{Pn=G,Y.p=E,z.T=v}}ts=1,vt(),bt(),qt()}}function vt(){if(ts===1){ts=0;var o=Ps,c=Qn,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=z.T,z.T=null;var v=Y.p;Y.p=2;var E=Pn;Pn|=4;try{Pp(c,o);var D=o1,G=Vg(o.containerInfo),q=D.focusedElem,ue=D.selectionRange;if(G!==q&&q&&q.ownerDocument&&Gg(q.ownerDocument.documentElement,q)){if(ue!==null&&lh(q)){var we=ue.start,Je=ue.end;if(Je===void 0&&(Je=we),"selectionStart"in q)q.selectionStart=we,q.selectionEnd=Math.min(Je,q.value.length);else{var tt=q.ownerDocument||document,De=tt&&tt.defaultView||window;if(De.getSelection){var Ue=De.getSelection(),jt=q.textContent.length,Ht=Math.min(ue.start,jt),ii=ue.end===void 0?Ht:Math.min(ue.end,jt);!Ue.extend&&Ht>ii&&(G=ii,ii=Ht,Ht=G);var ye=zg(q,Ht),pe=zg(q,ii);if(ye&&pe&&(Ue.rangeCount!==1||Ue.anchorNode!==ye.node||Ue.anchorOffset!==ye.offset||Ue.focusNode!==pe.node||Ue.focusOffset!==pe.offset)){var Ce=tt.createRange();Ce.setStart(ye.node,ye.offset),Ue.removeAllRanges(),Ht>ii?(Ue.addRange(Ce),Ue.extend(pe.node,pe.offset)):(Ce.setEnd(pe.node,pe.offset),Ue.addRange(Ce))}}}}for(tt=[],Ue=q;Ue=Ue.parentNode;)Ue.nodeType===1&&tt.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<tt.length;q++){var $e=tt[q];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Eb=!!a1,o1=a1=null}finally{Pn=E,Y.p=v,z.T=p}}o.current=c,ts=2}}function bt(){if(ts===2){ts=0;var o=Ps,c=Qn,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=z.T,z.T=null;var v=Y.p;Y.p=2;var E=Pn;Pn|=4;try{Ko(o,c.alternate,c)}finally{Pn=E,Y.p=v,z.T=p}}ts=3}}function qt(){if(ts===4||ts===3){ts=0,Ve();var o=Ps,c=Qn,p=Gr,v=Vr;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ts=5:(ts=0,Qn=Ps=null,kr(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(zr=null),On(p),c=c.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(ze,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=z.T,E=Y.p,Y.p=2,z.T=null;try{for(var D=o.onRecoverableError,G=0;G<v.length;G++){var q=v[G];D(q.value,{componentStack:q.stack})}}finally{z.T=c,Y.p=E}}(Gr&3)!==0&&Kl(),Ql(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===Pc?uo++:(uo=0,Pc=o):uo=0,Cy(0)}}function kr(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Pu(c)))}function Kl(o){return vt(),bt(),qt(),Jl()}function Jl(){if(ts!==5)return!1;var o=Ps,c=Qo;Qo=0;var p=On(Gr),v=z.T,E=Y.p;try{Y.p=32>p?32:p,z.T=null,p=Lh,Lh=null;var D=Ps,G=Gr;if(ts=0,Qn=Ps=null,Gr=0,(Pn&6)!==0)throw Error(i(331));var q=Pn;if(Pn|=4,My(D.current),Hp(D,D.current,G,p),Pn=q,Cy(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(ze,D)}catch{}return!0}finally{Y.p=E,z.T=v,kr(o,c)}}function Be(o,c,p){c=Ss(p,c),c=Np(o.stateNode,c,2),o=Vo(o,c,2),o!==null&&(qe(o,2),Ql(o))}function de(o,c,p){if(o.tag===3)Be(o,o,p);else for(;c!==null;){if(c.tag===3){Be(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zr===null||!zr.has(v))){o=Ss(p,o),p=fb(2),v=Vo(c,p,2),v!==null&&(Op(p,v,c,o),qe(v,2),Ql(v));break}}c=c.return}}function Fe(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Ty;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(p)||(nf=!0,E.add(p),o=at.bind(null,o,c,p),c.then(o,o))}function at(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,Yt===o&&(Nt&p)===p&&(ri===4||ri===3&&(Nt&62914560)===Nt&&300>He()-jn?(Pn&2)===0&&ql(o,0):Lc|=p,Tn===Nt&&(Tn=0)),Ql(o)}function wt(o,c){c===0&&(c=st()),o=Uo(o,c),o!==null&&(qe(o,c),Ql(o))}function ai(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),wt(o,p)}function kt(o,c){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),wt(o,p)}function Bn(o,c){return Me(o,c)}var Di=null,fn=null,ho=!1,kp=!1,ZE=!1,Uh=0;function Ql(o){o!==fn&&o.next===null&&(fn===null?Di=fn=o:fn=fn.next=o),kp=!0,ho||(ho=!0,yz())}function Cy(o,c){if(!ZE&&kp){ZE=!0;do for(var p=!1,v=Di;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var D=0;else{var G=v.suspendedLanes,q=v.pingedLanes;D=(1<<31-mt(42|o)+1)-1,D&=E&~(G&~q),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,R2(v,D))}else D=Nt,D=le(v,v===Yt?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||Ne(v,D)||(p=!0,R2(v,D));v=v.next}while(p);ZE=!1}}function gz(){T2()}function T2(){kp=ho=!1;var o=0;Uh!==0&&(Mz()&&(o=Uh),Uh=0);for(var c=He(),p=null,v=Di;v!==null;){var E=v.next,D=C2(v,c);D===0?(v.next=null,p===null?Di=E:p.next=E,E===null&&(fn=p)):(p=v,(o!==0||(D&3)!==0)&&(kp=!0)),v=E}Cy(o)}function C2(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var G=31-mt(D),q=1<<G,ue=E[G];ue===-1?((q&p)===0||(q&v)!==0)&&(E[G]=lt(q,c)):ue<=c&&(o.expiredLanes|=q),D&=~q}if(c=Yt,p=Nt,p=le(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(en===2||en===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&X(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Ne(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&X(v),On(p)){case 2:case 8:p=ke;break;case 32:p=K;break;case 268435456:p=ge;break;default:p=K}return v=w2.bind(null,o),p=Me(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&X(v),o.callbackPriority=2,o.callbackNode=null,2}function w2(o,c){if(ts!==0&&ts!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Kl()&&o.callbackNode!==p)return null;var v=Nt;return v=le(o,o===Yt?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(sf(o,v,c),C2(o,He()),o.callbackNode!=null&&o.callbackNode===p?w2.bind(null,o):null)}function R2(o,c){if(Kl())return null;sf(o,c,!0)}function yz(){Cz(function(){(Pn&6)!==0?Me(rt,gz):T2()})}function $E(){return Uh===0&&(Uh=he()),Uh}function B2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Kf(""+o)}function D2(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function vz(o,c,p,v,E){if(c==="submit"&&p&&p.stateNode===E){var D=B2((E[Qi]||null).action),G=v.submitter;G&&(c=(c=G[Qi]||null)?B2(c.formAction):G.getAttribute("formAction"),c!==null&&(D=c,G=null));var q=new Au("action","action",null,v,E);o.push({event:q,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Uh!==0){var ue=G?D2(E,G):new FormData(E);by(p,{pending:!0,data:ue,method:E.method,action:D},null,ue)}}else typeof D=="function"&&(q.preventDefault(),ue=G?D2(E,G):new FormData(E),by(p,{pending:!0,data:ue,method:E.method,action:D},D,ue))},currentTarget:E}]})}}for(var e1=0;e1<uh.length;e1++){var t1=uh[e1],_z=t1.toLowerCase(),bz=t1[0].toUpperCase()+t1.slice(1);cs(_z,"on"+bz)}cs(Ks,"onAnimationEnd"),cs(jg,"onAnimationIteration"),cs(ur,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(A_,"onTransitionRun"),cs(Lo,"onTransitionStart"),cs(Du,"onTransitionCancel"),cs(Po,"onTransitionEnd"),J("onMouseEnter",["mouseout","mouseover"]),J("onMouseLeave",["mouseout","mouseover"]),J("onPointerEnter",["pointerout","pointerover"]),J("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wy));function I2(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var D=void 0;if(c)for(var G=v.length-1;0<=G;G--){var q=v[G],ue=q.instance,we=q.currentTarget;if(q=q.listener,ue!==D&&E.isPropagationStopped())break e;D=q,E.currentTarget=we;try{D(E)}catch(Je){Ac(Je)}E.currentTarget=null,D=ue}else for(G=0;G<v.length;G++){if(q=v[G],ue=q.instance,we=q.currentTarget,q=q.listener,ue!==D&&E.isPropagationStopped())break e;D=q,E.currentTarget=we;try{D(E)}catch(Je){Ac(Je)}E.currentTarget=null,D=ue}}}}function yn(o,c){var p=c[ar];p===void 0&&(p=c[ar]=new Set);var v=o+"__bubble";p.has(v)||(N2(c,o,2,!1),p.add(v))}function n1(o,c,p){var v=0;c&&(v|=4),N2(p,o,v,c)}var mb="_reactListening"+Math.random().toString(36).slice(2);function i1(o){if(!o[mb]){o[mb]=!0,vu.forEach(function(p){p!=="selectionchange"&&(xz.has(p)||n1(p,!1,o),n1(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[mb]||(c[mb]=!0,n1("selectionchange",!1,c))}}function N2(o,c,p,v){switch(iB(c)){case 2:var E=qz;break;case 8:E=Kz;break;default:E=y1}p=E.bind(null,c,p,o),E=void 0,!Qf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function s1(o,c,p,v,E){var D=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var G=v.tag;if(G===3||G===4){var q=v.stateNode.containerInfo;if(q===E)break;if(G===4)for(G=v.return;G!==null;){var ue=G.tag;if((ue===3||ue===4)&&G.stateNode.containerInfo===E)return;G=G.return}for(;q!==null;){if(G=Sa(q),G===null)return;if(ue=G.tag,ue===5||ue===6||ue===26||ue===27){v=D=G;continue e}q=q.parentNode}}v=v.return}wg(function(){var we=D,Je=Kd(p),tt=[];e:{var De=op.get(o);if(De!==void 0){var Ue=Au,jt=o;switch(o){case"keypress":if(_l(p)===0)break e;case"keydown":case"keyup":Ue=Ng;break;case"focusin":jt="focus",Ue=Qd;break;case"focusout":jt="blur",Ue=Qd;break;case"beforeblur":case"afterblur":Ue=Qd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=zE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Lg;break;case Ks:case jg:case ur:Ue=l_;break;case Po:Ue=Do;break;case"scroll":case"scrollend":Ue=r_;break;case"wheel":Ue=GE;break;case"copy":case"cut":case"paste":Ue=u_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=$d;break;case"toggle":case"beforetoggle":Ue=xl}var Ht=(c&4)!==0,ii=!Ht&&(o==="scroll"||o==="scrollend"),ye=Ht?De!==null?De+"Capture":null:De;Ht=[];for(var pe=we,Ce;pe!==null;){var $e=pe;if(Ce=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ce===null||ye===null||($e=bu(pe,ye),$e!=null&&Ht.push(Ry(pe,$e,Ce))),ii)break;pe=pe.return}0<Ht.length&&(De=new Ue(De,jt,null,p,Je),tt.push({event:De,listeners:Ht}))}}if((c&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",Ue=o==="mouseout"||o==="pointerout",De&&p!==qd&&(jt=p.relatedTarget||p.fromElement)&&(Sa(jt)||jt[Is]))break e;if((Ue||De)&&(De=Je.window===Je?Je:(De=Je.ownerDocument)?De.defaultView||De.parentWindow:window,Ue?(jt=p.relatedTarget||p.toElement,Ue=we,jt=jt?Sa(jt):null,jt!==null&&(ii=r(jt),Ht=jt.tag,jt!==ii||Ht!==5&&Ht!==27&&Ht!==6)&&(jt=null)):(Ue=null,jt=we),Ue!==jt)){if(Ht=Dg,$e="onMouseLeave",ye="onMouseEnter",pe="mouse",(o==="pointerout"||o==="pointerover")&&(Ht=$d,$e="onPointerLeave",ye="onPointerEnter",pe="pointer"),ii=Ue==null?De:yl(Ue),Ce=jt==null?De:yl(jt),De=new Ht($e,pe+"leave",Ue,p,Je),De.target=ii,De.relatedTarget=Ce,$e=null,Sa(Je)===we&&(Ht=new Ht(ye,pe+"enter",jt,p,Je),Ht.target=Ce,Ht.relatedTarget=ii,$e=Ht),ii=$e,Ue&&jt)t:{for(Ht=Ue,ye=jt,pe=0,Ce=Ht;Ce;Ce=Xp(Ce))pe++;for(Ce=0,$e=ye;$e;$e=Xp($e))Ce++;for(;0<pe-Ce;)Ht=Xp(Ht),pe--;for(;0<Ce-pe;)ye=Xp(ye),Ce--;for(;pe--;){if(Ht===ye||ye!==null&&Ht===ye.alternate)break t;Ht=Xp(Ht),ye=Xp(ye)}Ht=null}else Ht=null;Ue!==null&&O2(tt,De,Ue,Ht,!1),jt!==null&&ii!==null&&O2(tt,ii,jt,Ht,!0)}}e:{if(De=we?yl(we):window,Ue=De.nodeName&&De.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&De.type==="file")var Et=tp;else if(Hg(De))if(np)Et=El;else{Et=b_;var mn=VE}else Ue=De.nodeName,!Ue||Ue.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?we&&Yd(we.elementType)&&(Et=tp):Et=oh;if(Et&&(Et=Et(o,we))){or(tt,Et,p,Je);break e}mn&&mn(o,De,we),o==="focusout"&&we&&De.type==="number"&&we.memoizedProps.value!=null&&vs(De,"number",De.value)}switch(mn=we?yl(we):window,o){case"focusin":(Hg(mn)||mn.contentEditable==="true")&&(No=mn,sp=we,ch=null);break;case"focusout":ch=sp=No=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,Xg(tt,p,Je);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":Xg(tt,p,Je)}var Bt;if(th)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Al?sh(o,p)&&(zt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(zt="onCompositionStart");zt&&(ih&&p.locale!=="ko"&&(Al||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Al&&(Bt=Bg()):(Ro=Je,Rg="value"in Ro?Ro.value:Ro.textContent,Al=!0)),mn=gb(we,zt),0<mn.length&&(zt=new Zd(zt,o,null,p,Je),tt.push({event:zt,listeners:mn}),Bt?zt.data=Bt:(Bt=Ug(p),Bt!==null&&(zt.data=Bt)))),(Bt=nh?rh(o,p):Fg(o,p))&&(zt=gb(we,"onBeforeInput"),0<zt.length&&(mn=new Zd("onBeforeInput","beforeinput",null,p,Je),tt.push({event:mn,listeners:zt}),mn.data=Bt)),vz(tt,o,we,p,Je)}I2(tt,c)})}function Ry(o,c,p){return{instance:o,listener:c,currentTarget:p}}function gb(o,c){for(var p=c+"Capture",v=[];o!==null;){var E=o,D=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||D===null||(E=bu(o,p),E!=null&&v.unshift(Ry(o,E,D)),E=bu(o,c),E!=null&&v.push(Ry(o,E,D))),o.tag===3)return v;o=o.return}return[]}function Xp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function O2(o,c,p,v,E){for(var D=c._reactName,G=[];p!==null&&p!==v;){var q=p,ue=q.alternate,we=q.stateNode;if(q=q.tag,ue!==null&&ue===v)break;q!==5&&q!==26&&q!==27||we===null||(ue=we,E?(we=bu(p,D),we!=null&&G.unshift(Ry(p,we,ue))):E||(we=bu(p,D),we!=null&&G.push(Ry(p,we,ue)))),p=p.return}G.length!==0&&o.push({event:c,listeners:G})}var Sz=/\r\n?/g,Az=/\u0000|\uFFFD/g;function L2(o){return(typeof o=="string"?o:""+o).replace(Sz,`
`).replace(Az,"")}function P2(o,c){return c=L2(c),L2(o)===c}function yb(){}function ni(o,c,p,v,E,D){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ys(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ys(o,""+v);break;case"className":ft(o,"class",v);break;case"tabIndex":ft(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ft(o,p,v);break;case"style":qf(o,v,D);break;case"data":if(c!=="object"){ft(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Kf(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(c!=="input"&&ni(o,c,"name",E.name,E,null),ni(o,c,"formEncType",E.formEncType,E,null),ni(o,c,"formMethod",E.formMethod,E,null),ni(o,c,"formTarget",E.formTarget,E,null)):(ni(o,c,"encType",E.encType,E,null),ni(o,c,"method",E.method,E,null),ni(o,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Kf(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=yb);break;case"onScroll":v!=null&&yn("scroll",o);break;case"onScrollEnd":v!=null&&yn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Kf(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":yn("beforetoggle",o),yn("toggle",o),nt(o,"popover",v);break;case"xlinkActuate":pt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":pt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":pt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":pt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":pt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":pt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":pt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":pt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":pt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":nt(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Tg.get(p)||p,nt(o,p,v))}}function r1(o,c,p,v,E,D){switch(p){case"style":qf(o,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Ys(o,v):(typeof v=="number"||typeof v=="bigint")&&Ys(o,""+v);break;case"onScroll":v!=null&&yn("scroll",o);break;case"onScrollEnd":v!=null&&yn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=yb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_u.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),D=o[Qi]||null,D=D!=null?D[p]:null,typeof D=="function"&&o.removeEventListener(c,D,E),typeof v=="function")){typeof D!="function"&&D!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):nt(o,p,v)}}}function nr(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",o),yn("load",o);var v=!1,E=!1,D;for(D in p)if(p.hasOwnProperty(D)){var G=p[D];if(G!=null)switch(D){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ni(o,c,D,G,p,null)}}E&&ni(o,c,"srcSet",p.srcSet,p,null),v&&ni(o,c,"src",p.src,p,null);return;case"input":yn("invalid",o);var q=D=G=E=null,ue=null,we=null;for(v in p)if(p.hasOwnProperty(v)){var Je=p[v];if(Je!=null)switch(v){case"name":E=Je;break;case"type":G=Je;break;case"checked":ue=Je;break;case"defaultChecked":we=Je;break;case"value":D=Je;break;case"defaultValue":q=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(i(137,c));break;default:ni(o,c,v,Je,p,null)}}Xn(o,D,q,ue,we,G,E,!1),mi(o);return;case"select":yn("invalid",o),v=G=D=null;for(E in p)if(p.hasOwnProperty(E)&&(q=p[E],q!=null))switch(E){case"value":D=q;break;case"defaultValue":G=q;break;case"multiple":v=q;default:ni(o,c,E,q,p,null)}c=D,p=G,o.multiple=!!v,c!=null?zi(o,!!v,c,!1):p!=null&&zi(o,!!v,p,!0);return;case"textarea":yn("invalid",o),D=E=v=null;for(G in p)if(p.hasOwnProperty(G)&&(q=p[G],q!=null))switch(G){case"value":v=q;break;case"defaultValue":E=q;break;case"children":D=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:ni(o,c,G,q,p,null)}ls(o,v,E,D),mi(o);return;case"option":for(ue in p)if(p.hasOwnProperty(ue)&&(v=p[ue],v!=null))switch(ue){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ni(o,c,ue,v,p,null)}return;case"dialog":yn("beforetoggle",o),yn("toggle",o),yn("cancel",o),yn("close",o);break;case"iframe":case"object":yn("load",o);break;case"video":case"audio":for(v=0;v<wy.length;v++)yn(wy[v],o);break;case"image":yn("error",o),yn("load",o);break;case"details":yn("toggle",o);break;case"embed":case"source":case"link":yn("error",o),yn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in p)if(p.hasOwnProperty(we)&&(v=p[we],v!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ni(o,c,we,v,p,null)}return;default:if(Yd(c)){for(Je in p)p.hasOwnProperty(Je)&&(v=p[Je],v!==void 0&&r1(o,c,Je,v,p,void 0));return}}for(q in p)p.hasOwnProperty(q)&&(v=p[q],v!=null&&ni(o,c,q,v,p,null))}function Ez(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,D=null,G=null,q=null,ue=null,we=null,Je=null;for(Ue in p){var tt=p[Ue];if(p.hasOwnProperty(Ue)&&tt!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":ue=tt;default:v.hasOwnProperty(Ue)||ni(o,c,Ue,null,v,tt)}}for(var De in v){var Ue=v[De];if(tt=p[De],v.hasOwnProperty(De)&&(Ue!=null||tt!=null))switch(De){case"type":D=Ue;break;case"name":E=Ue;break;case"checked":we=Ue;break;case"defaultChecked":Je=Ue;break;case"value":G=Ue;break;case"defaultValue":q=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,c));break;default:Ue!==tt&&ni(o,c,De,Ue,v,tt)}}qa(o,G,q,ue,we,Je,D,E);return;case"select":Ue=G=q=De=null;for(D in p)if(ue=p[D],p.hasOwnProperty(D)&&ue!=null)switch(D){case"value":break;case"multiple":Ue=ue;default:v.hasOwnProperty(D)||ni(o,c,D,null,v,ue)}for(E in v)if(D=v[E],ue=p[E],v.hasOwnProperty(E)&&(D!=null||ue!=null))switch(E){case"value":De=D;break;case"defaultValue":q=D;break;case"multiple":G=D;default:D!==ue&&ni(o,c,E,D,v,ue)}c=q,p=G,v=Ue,De!=null?zi(o,!!p,De,!1):!!v!=!!p&&(c!=null?zi(o,!!p,c,!0):zi(o,!!p,p?[]:"",!1));return;case"textarea":Ue=De=null;for(q in p)if(E=p[q],p.hasOwnProperty(q)&&E!=null&&!v.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:ni(o,c,q,null,v,E)}for(G in v)if(E=v[G],D=p[G],v.hasOwnProperty(G)&&(E!=null||D!=null))switch(G){case"value":De=E;break;case"defaultValue":Ue=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==D&&ni(o,c,G,E,v,D)}os(o,De,Ue);return;case"option":for(var jt in p)if(De=p[jt],p.hasOwnProperty(jt)&&De!=null&&!v.hasOwnProperty(jt))switch(jt){case"selected":o.selected=!1;break;default:ni(o,c,jt,null,v,De)}for(ue in v)if(De=v[ue],Ue=p[ue],v.hasOwnProperty(ue)&&De!==Ue&&(De!=null||Ue!=null))switch(ue){case"selected":o.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:ni(o,c,ue,De,v,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in p)De=p[Ht],p.hasOwnProperty(Ht)&&De!=null&&!v.hasOwnProperty(Ht)&&ni(o,c,Ht,null,v,De);for(we in v)if(De=v[we],Ue=p[we],v.hasOwnProperty(we)&&De!==Ue&&(De!=null||Ue!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,c));break;default:ni(o,c,we,De,v,Ue)}return;default:if(Yd(c)){for(var ii in p)De=p[ii],p.hasOwnProperty(ii)&&De!==void 0&&!v.hasOwnProperty(ii)&&r1(o,c,ii,void 0,v,De);for(Je in v)De=v[Je],Ue=p[Je],!v.hasOwnProperty(Je)||De===Ue||De===void 0&&Ue===void 0||r1(o,c,Je,De,v,Ue);return}}for(var ye in p)De=p[ye],p.hasOwnProperty(ye)&&De!=null&&!v.hasOwnProperty(ye)&&ni(o,c,ye,null,v,De);for(tt in v)De=v[tt],Ue=p[tt],!v.hasOwnProperty(tt)||De===Ue||De==null&&Ue==null||ni(o,c,tt,De,v,Ue)}var a1=null,o1=null;function vb(o){return o.nodeType===9?o:o.ownerDocument}function U2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F2(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function l1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var c1=null;function Mz(){var o=window.event;return o&&o.type==="popstate"?o===c1?!1:(c1=o,!0):(c1=null,!1)}var H2=typeof setTimeout=="function"?setTimeout:void 0,Tz=typeof clearTimeout=="function"?clearTimeout:void 0,z2=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof z2<"u"?function(o){return z2.resolve(null).then(o).catch(wz)}:H2;function wz(o){setTimeout(function(){throw o})}function af(o){return o==="head"}function G2(o,c){var p=c,v=0,E=0;do{var D=p.nextSibling;if(o.removeChild(p),D&&D.nodeType===8)if(p=D.data,p==="/$"){if(0<v&&8>v){p=v;var G=o.ownerDocument;if(p&1&&By(G.documentElement),p&2&&By(G.body),p&4)for(p=G.head,By(p),G=p.firstChild;G;){var q=G.nextSibling,ue=G.nodeName;G[xa]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&G.rel.toLowerCase()==="stylesheet"||p.removeChild(G),G=q}}if(E===0){o.removeChild(D),Fy(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=D}while(p);Fy(c)}function u1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":u1(p),kn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function Rz(o,c,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[xa])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var D=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=Zo(o.nextSibling),o===null)break}return null}function Bz(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Zo(o.nextSibling),o===null))return null;return o}function f1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Dz(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Zo(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var h1=null;function V2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function k2(o,c,p){switch(c=vb(p),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function By(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);kn(o)}var po=new Map,X2=new Set;function _b(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Fc=Y.d;Y.d={f:Iz,r:Nz,D:Oz,C:Lz,L:Pz,m:Uz,X:Hz,S:Fz,M:zz};function Iz(){var o=Fc.f(),c=fo();return o||c}function Nz(o){var c=Aa(o);c!==null&&c.tag===5&&c.type==="form"?Z_(c):Fc.r(o)}var jp=typeof document>"u"?null:document;function j2(o,c,p){var v=jp;if(v&&typeof c=="string"&&c){var E=Yn(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),X2.has(E)||(X2.add(E),o={rel:o,crossOrigin:p,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),nr(c,"link",o),Hi(c),v.head.appendChild(c)))}}function Oz(o){Fc.D(o),j2("dns-prefetch",o,null)}function Lz(o,c){Fc.C(o,c),j2("preconnect",o,c)}function Pz(o,c,p){Fc.L(o,c,p);var v=jp;if(v&&o&&c){var E='link[rel="preload"][as="'+Yn(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Yn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Yn(p.imageSizes)+'"]')):E+='[href="'+Yn(o)+'"]';var D=E;switch(c){case"style":D=Wp(o);break;case"script":D=Yp(o)}po.has(D)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),po.set(D,o),v.querySelector(E)!==null||c==="style"&&v.querySelector(Dy(D))||c==="script"&&v.querySelector(Iy(D))||(c=v.createElement("link"),nr(c,"link",o),Hi(c),v.head.appendChild(c)))}}function Uz(o,c){Fc.m(o,c);var p=jp;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Yn(v)+'"][href="'+Yn(o)+'"]',D=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Yp(o)}if(!po.has(D)&&(o=m({rel:"modulepreload",href:o},c),po.set(D,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Iy(D)))return}v=p.createElement("link"),nr(v,"link",o),Hi(v),p.head.appendChild(v)}}}function Fz(o,c,p){Fc.S(o,c,p);var v=jp;if(v&&o){var E=wo(v).hoistableStyles,D=Wp(o);c=c||"default";var G=E.get(D);if(!G){var q={loading:0,preload:null};if(G=v.querySelector(Dy(D)))q.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=po.get(D))&&d1(o,p);var ue=G=v.createElement("link");Hi(ue),nr(ue,"link",o),ue._p=new Promise(function(we,Je){ue.onload=we,ue.onerror=Je}),ue.addEventListener("load",function(){q.loading|=1}),ue.addEventListener("error",function(){q.loading|=2}),q.loading|=4,bb(G,c,v)}G={type:"stylesheet",instance:G,count:1,state:q},E.set(D,G)}}}function Hz(o,c){Fc.X(o,c);var p=jp;if(p&&o){var v=wo(p).hoistableScripts,E=Yp(o),D=v.get(E);D||(D=p.querySelector(Iy(E)),D||(o=m({src:o,async:!0},c),(c=po.get(E))&&p1(o,c),D=p.createElement("script"),Hi(D),nr(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(E,D))}}function zz(o,c){Fc.M(o,c);var p=jp;if(p&&o){var v=wo(p).hoistableScripts,E=Yp(o),D=v.get(E);D||(D=p.querySelector(Iy(E)),D||(o=m({src:o,async:!0,type:"module"},c),(c=po.get(E))&&p1(o,c),D=p.createElement("script"),Hi(D),nr(D,"link",o),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(E,D))}}function W2(o,c,p,v){var E=(E=Xe.current)?_b(E):null;if(!E)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Wp(p.href),p=wo(E).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Wp(p.href);var D=wo(E).hoistableStyles,G=D.get(o);if(G||(E=E.ownerDocument||E,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,G),(D=E.querySelector(Dy(o)))&&!D._p&&(G.instance=D,G.state.loading=5),po.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},po.set(o,p),D||Gz(E,o,p,G.state))),c&&v===null)throw Error(i(528,""));return G}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Yp(p),p=wo(E).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Wp(o){return'href="'+Yn(o)+'"'}function Dy(o){return'link[rel="stylesheet"]['+o+"]"}function Y2(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function Gz(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),nr(c,"link",p),Hi(c),o.head.appendChild(c))}function Yp(o){return'[src="'+Yn(o)+'"]'}function Iy(o){return"script[async]"+o}function q2(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+Yn(p.href)+'"]');if(v)return c.instance=v,Hi(v),v;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Hi(v),nr(v,"style",E),bb(v,p.precedence,o),c.instance=v;case"stylesheet":E=Wp(p.href);var D=o.querySelector(Dy(E));if(D)return c.state.loading|=4,c.instance=D,Hi(D),D;v=Y2(p),(E=po.get(E))&&d1(v,E),D=(o.ownerDocument||o).createElement("link"),Hi(D);var G=D;return G._p=new Promise(function(q,ue){G.onload=q,G.onerror=ue}),nr(D,"link",v),c.state.loading|=4,bb(D,p.precedence,o),c.instance=D;case"script":return D=Yp(p.src),(E=o.querySelector(Iy(D)))?(c.instance=E,Hi(E),E):(v=p,(E=po.get(D))&&(v=m({},p),p1(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Hi(E),nr(E,"link",v),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,bb(v,p.precedence,o));return c.instance}function bb(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,D=E,G=0;G<v.length;G++){var q=v[G];if(q.dataset.precedence===c)D=q;else if(D!==E)break}D?D.parentNode.insertBefore(o,D.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function d1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function p1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var xb=null;function K2(o,c,p){if(xb===null){var v=new Map,E=xb=new Map;E.set(p,v)}else E=xb,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var D=p[E];if(!(D[xa]||D[Fi]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var G=D.getAttribute(c)||"";G=o+G;var q=v.get(G);q?q.push(D):v.set(G,[D])}}return v}function J2(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function Vz(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Q2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ny=null;function kz(){}function Xz(o,c,p){if(Ny===null)throw Error(i(475));var v=Ny;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Wp(p.href),D=o.querySelector(Dy(E));if(D){o=D._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=Sb.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=D,Hi(D);return}D=o.ownerDocument||o,p=Y2(p),(E=po.get(E))&&d1(p,E),D=D.createElement("link"),Hi(D);var G=D;G._p=new Promise(function(q,ue){G.onload=q,G.onerror=ue}),nr(D,"link",p),c.instance=D}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=Sb.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function jz(){if(Ny===null)throw Error(i(475));var o=Ny;return o.stylesheets&&o.count===0&&m1(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&m1(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function Sb(){if(this.count--,this.count===0){if(this.stylesheets)m1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ab=null;function m1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ab=new Map,c.forEach(Wz,o),Ab=null,Sb.call(o))}function Wz(o,c){if(!(c.state.loading&4)){var p=Ab.get(o);if(p)var v=p.get(null);else{p=new Map,Ab.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<E.length;D++){var G=E[D];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),v=G)}v&&p.set(null,v)}E=c.instance,G=E.getAttribute("data-precedence"),D=p.get(G)||v,D===v&&p.set(null,E),p.set(G,E),this.count++,v=Sb.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),D?D.parentNode.insertBefore(E,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var Oy={$$typeof:w,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Yz(o,c,p,v,E,D,G,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.hiddenUpdates=Ge(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=D,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Z2(o,c,p,v,E,D,G,q,ue,we,Je,tt){return o=new Yz(o,c,p,G,q,ue,we,tt),c=1,D===!0&&(c|=24),D=fr(3,null,null,c),o.current=D,D.stateNode=o,c=pp(),c.refCount++,o.pooledCache=c,c.refCount++,D.memoizedState={element:v,isDehydrated:p,cache:c},sy(D),o}function $2(o){return o?(o=Cl,o):Cl}function eB(o,c,p,v,E,D){E=$2(E),v.context===null?v.context=E:v.pendingContext=E,v=eo(c),v.payload={element:p},D=D===void 0?null:D,D!==null&&(v.callback=D),p=Vo(o,v,c),p!==null&&(tr(p,o,c),bc(p,o,c))}function tB(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function g1(o,c){tB(o,c),(o=o.alternate)&&tB(o,c)}function nB(o){if(o.tag===13){var c=Uo(o,67108864);c!==null&&tr(c,o,67108864),g1(o,67108864)}}var Eb=!0;function qz(o,c,p,v){var E=z.T;z.T=null;var D=Y.p;try{Y.p=2,y1(o,c,p,v)}finally{Y.p=D,z.T=E}}function Kz(o,c,p,v){var E=z.T;z.T=null;var D=Y.p;try{Y.p=8,y1(o,c,p,v)}finally{Y.p=D,z.T=E}}function y1(o,c,p,v){if(Eb){var E=v1(v);if(E===null)s1(o,c,v,Mb,p),sB(o,v);else if(Qz(E,o,c,p,v))v.stopPropagation();else if(sB(o,v),c&4&&-1<Jz.indexOf(o)){for(;E!==null;){var D=Aa(E);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var G=je(D.pendingLanes);if(G!==0){var q=D;for(q.pendingLanes|=2,q.entangledLanes|=2;G;){var ue=1<<31-mt(G);q.entanglements[1]|=ue,G&=~ue}Ql(D),(Pn&6)===0&&(Ls=He()+500,Cy(0))}}break;case 13:q=Uo(D,2),q!==null&&tr(q,D,2),fo(),g1(D,2)}if(D=v1(v),D===null&&s1(o,c,v,Mb,p),D===E)break;E=D}E!==null&&v.stopPropagation()}else s1(o,c,v,null,p)}}function v1(o){return o=Kd(o),_1(o)}var Mb=null;function _1(o){if(Mb=null,o=Sa(o),o!==null){var c=r(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Mb=o,null}function iB(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case rt:return 2;case ke:return 8;case K:case V:return 32;case ge:return 268435456;default:return 32}default:return 32}}var b1=!1,of=null,lf=null,cf=null,Ly=new Map,Py=new Map,uf=[],Jz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sB(o,c){switch(o){case"focusin":case"focusout":of=null;break;case"dragenter":case"dragleave":lf=null;break;case"mouseover":case"mouseout":cf=null;break;case"pointerover":case"pointerout":Ly.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Py.delete(c.pointerId)}}function Uy(o,c,p,v,E,D){return o===null||o.nativeEvent!==D?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:D,targetContainers:[E]},c!==null&&(c=Aa(c),c!==null&&nB(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function Qz(o,c,p,v,E){switch(c){case"focusin":return of=Uy(of,o,c,p,v,E),!0;case"dragenter":return lf=Uy(lf,o,c,p,v,E),!0;case"mouseover":return cf=Uy(cf,o,c,p,v,E),!0;case"pointerover":var D=E.pointerId;return Ly.set(D,Uy(Ly.get(D)||null,o,c,p,v,E)),!0;case"gotpointercapture":return D=E.pointerId,Py.set(D,Uy(Py.get(D)||null,o,c,p,v,E)),!0}return!1}function rB(o){var c=Sa(o.target);if(c!==null){var p=r(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,Ui(o.priority,function(){if(p.tag===13){var v=Si();v=rn(v);var E=Uo(p,v);E!==null&&tr(E,p,v),g1(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Tb(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=v1(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);qd=v,p.target.dispatchEvent(v),qd=null}else return c=Aa(p),c!==null&&nB(c),o.blockedOn=p,!1;c.shift()}return!0}function aB(o,c,p){Tb(o)&&p.delete(c)}function Zz(){b1=!1,of!==null&&Tb(of)&&(of=null),lf!==null&&Tb(lf)&&(lf=null),cf!==null&&Tb(cf)&&(cf=null),Ly.forEach(aB),Py.forEach(aB)}function Cb(o,c){o.blockedOn===c&&(o.blockedOn=null,b1||(b1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zz)))}var wb=null;function oB(o){wb!==o&&(wb=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wb===o&&(wb=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=o[c+2];if(typeof v!="function"){if(_1(v||p)===null)continue;break}var D=Aa(p);D!==null&&(o.splice(c,3),c-=3,by(D,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function Fy(o){function c(ue){return Cb(ue,o)}of!==null&&Cb(of,o),lf!==null&&Cb(lf,o),cf!==null&&Cb(cf,o),Ly.forEach(c),Py.forEach(c);for(var p=0;p<uf.length;p++){var v=uf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<uf.length&&(p=uf[0],p.blockedOn===null);)rB(p),p.blockedOn===null&&uf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],D=p[v+1],G=E[Qi]||null;if(typeof D=="function")G||oB(p);else if(G){var q=null;if(D&&D.hasAttribute("formAction")){if(E=D,G=D[Qi]||null)q=G.formAction;else if(_1(E)!==null)continue}else q=G.action;typeof q=="function"?p[v+1]=q:(p.splice(v,3),v-=3),oB(p)}}}function x1(o){this._internalRoot=o}Rb.prototype.render=x1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,v=Si();eB(p,v,o,c,null,null)},Rb.prototype.unmount=x1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;eB(o.current,2,null,o,null,null),fo(),c[Is]=null}};function Rb(o){this._internalRoot=o}Rb.prototype.unstable_scheduleHydration=function(o){if(o){var c=$t();o={blockedOn:null,target:o,priority:c};for(var p=0;p<uf.length&&c!==0&&c<uf[p].priority;p++);uf.splice(p,0,o),p===0&&rB(o)}};var lB=e.version;if(lB!=="19.1.0")throw Error(i(527,lB,"19.1.0"));Y.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var $z={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bb.isDisabled&&Bb.supportsFiber)try{ze=Bb.inject($z),ct=Bb}catch{}}return Gy.createRoot=function(o,c){if(!s(o))throw Error(i(299));var p=!1,v="",E=Bh,D=Dp,G=ub,q=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks)),c=Z2(o,1,!1,null,null,p,v,E,D,G,q,null),o[Is]=c.current,i1(o),new x1(c)},Gy.hydrateRoot=function(o,c,p){if(!s(o))throw Error(i(299));var v=!1,E="",D=Bh,G=Dp,q=ub,ue=null,we=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(q=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ue=p.unstable_transitionCallbacks),p.formState!==void 0&&(we=p.formState)),c=Z2(o,1,!0,c,p??null,v,E,D,G,q,ue,we),c.context=$2(null),p=c.current,v=Si(),v=rn(v),E=eo(v),E.callback=null,Vo(p,E,v),p=v,c.current.lanes=p,qe(c,p),Ql(c),o[Is]=c.current,i1(o),new Rb(c)},Gy.version="19.1.0",Gy}var vB;function f5(){if(vB)return E1.exports;vB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),E1.exports=u5(),E1.exports}var h5=f5();const V0={black:"#000",white:"#fff"},qp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Kp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Jp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Zp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Vy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},d5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function au(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const AA="$$material";function Hm(){return Hm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hm.apply(null,arguments)}function p5(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function m5(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var g5=function(){function n(t){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(m5(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=p5(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),_r="-ms-",iS="-moz-",Gn="-webkit-",FO="comm",VC="rule",kC="decl",y5="@import",HO="@keyframes",v5="@layer",_5=Math.abs,EA=String.fromCharCode,b5=Object.assign;function x5(n,e){return sr(n,0)^45?(((e<<2^sr(n,0))<<2^sr(n,1))<<2^sr(n,2))<<2^sr(n,3):0}function zO(n){return n.trim()}function S5(n,e){return(n=e.exec(n))?n[0]:n}function Vn(n,e,t){return n.replace(e,t)}function bT(n,e){return n.indexOf(e)}function sr(n,e){return n.charCodeAt(e)|0}function k0(n,e,t){return n.slice(e,t)}function nc(n){return n.length}function XC(n){return n.length}function Db(n,e){return e.push(n),n}function A5(n,e){return n.map(e).join("")}var MA=1,zm=1,GO=0,ya=0,ms=0,cg="";function TA(n,e,t,i,s,r,a){return{value:n,root:e,parent:t,type:i,props:s,children:r,line:MA,column:zm,length:a,return:""}}function ky(n,e){return b5(TA("",null,null,"",null,null,0),n,{length:-n.length},e)}function E5(){return ms}function M5(){return ms=ya>0?sr(cg,--ya):0,zm--,ms===10&&(zm=1,MA--),ms}function Va(){return ms=ya<GO?sr(cg,ya++):0,zm++,ms===10&&(zm=1,MA++),ms}function rc(){return sr(cg,ya)}function Gx(){return ya}function Tv(n,e){return k0(cg,n,e)}function X0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VO(n){return MA=zm=1,GO=nc(cg=n),ya=0,[]}function kO(n){return cg="",n}function Vx(n){return zO(Tv(ya-1,xT(n===91?n+2:n===40?n+1:n)))}function T5(n){for(;(ms=rc())&&ms<33;)Va();return X0(n)>2||X0(ms)>3?"":" "}function C5(n,e){for(;--e&&Va()&&!(ms<48||ms>102||ms>57&&ms<65||ms>70&&ms<97););return Tv(n,Gx()+(e<6&&rc()==32&&Va()==32))}function xT(n){for(;Va();)switch(ms){case n:return ya;case 34:case 39:n!==34&&n!==39&&xT(ms);break;case 40:n===41&&xT(n);break;case 92:Va();break}return ya}function w5(n,e){for(;Va()&&n+ms!==57;)if(n+ms===84&&rc()===47)break;return"/*"+Tv(e,ya-1)+"*"+EA(n===47?n:Va())}function R5(n){for(;!X0(rc());)Va();return Tv(n,ya)}function B5(n){return kO(kx("",null,null,null,[""],n=VO(n),0,[0],n))}function kx(n,e,t,i,s,r,a,l,u){for(var h=0,m=0,g=a,y=0,b=0,x=0,T=1,A=1,S=1,B=0,w="",R=s,L=r,N=i,U=w;A;)switch(x=B,B=Va()){case 40:if(x!=108&&sr(U,g-1)==58){bT(U+=Vn(Vx(B),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:U+=Vx(B);break;case 9:case 10:case 13:case 32:U+=T5(x);break;case 92:U+=C5(Gx()-1,7);continue;case 47:switch(rc()){case 42:case 47:Db(D5(w5(Va(),Gx()),e,t),u);break;default:U+="/"}break;case 123*T:l[h++]=nc(U)*S;case 125*T:case 59:case 0:switch(B){case 0:case 125:A=0;case 59+m:S==-1&&(U=Vn(U,/\f/g,"")),b>0&&nc(U)-g&&Db(b>32?bB(U+";",i,t,g-1):bB(Vn(U," ","")+";",i,t,g-2),u);break;case 59:U+=";";default:if(Db(N=_B(U,e,t,h,m,s,l,w,R=[],L=[],g),r),B===123)if(m===0)kx(U,e,N,N,R,r,g,l,L);else switch(y===99&&sr(U,3)===110?100:y){case 100:case 108:case 109:case 115:kx(n,N,N,i&&Db(_B(n,N,N,0,0,s,l,w,s,R=[],g),L),s,L,g,l,i?R:L);break;default:kx(U,N,N,N,[""],L,0,l,L)}}h=m=b=0,T=S=1,w=U="",g=a;break;case 58:g=1+nc(U),b=x;default:if(T<1){if(B==123)--T;else if(B==125&&T++==0&&M5()==125)continue}switch(U+=EA(B),B*T){case 38:S=m>0?1:(U+="\f",-1);break;case 44:l[h++]=(nc(U)-1)*S,S=1;break;case 64:rc()===45&&(U+=Vx(Va())),y=rc(),m=g=nc(w=U+=R5(Gx())),B++;break;case 45:x===45&&nc(U)==2&&(T=0)}}return r}function _B(n,e,t,i,s,r,a,l,u,h,m){for(var g=s-1,y=s===0?r:[""],b=XC(y),x=0,T=0,A=0;x<i;++x)for(var S=0,B=k0(n,g+1,g=_5(T=a[x])),w=n;S<b;++S)(w=zO(T>0?y[S]+" "+B:Vn(B,/&\f/g,y[S])))&&(u[A++]=w);return TA(n,e,t,s===0?VC:l,u,h,m)}function D5(n,e,t){return TA(n,e,t,FO,EA(E5()),k0(n,2,-2),0)}function bB(n,e,t,i){return TA(n,e,t,kC,k0(n,0,i),k0(n,i+1,-1),i)}function Dm(n,e){for(var t="",i=XC(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function I5(n,e,t,i){switch(n.type){case v5:if(n.children.length)break;case y5:case kC:return n.return=n.return||n.value;case FO:return"";case HO:return n.return=n.value+"{"+Dm(n.children,i)+"}";case VC:n.value=n.props.join(",")}return nc(t=Dm(n.children,i))?n.return=n.value+"{"+t+"}":""}function N5(n){var e=XC(n);return function(t,i,s,r){for(var a="",l=0;l<e;l++)a+=n[l](t,i,s,r)||"";return a}}function O5(n){return function(e){e.root||(e=e.return)&&n(e)}}var xB=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var s=e(i);return t.set(i,s),s}};function XO(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var L5=function(e,t,i){for(var s=0,r=0;s=r,r=rc(),s===38&&r===12&&(t[i]=1),!X0(r);)Va();return Tv(e,ya)},P5=function(e,t){var i=-1,s=44;do switch(X0(s)){case 0:s===38&&rc()===12&&(t[i]=1),e[i]+=L5(ya-1,t,i);break;case 2:e[i]+=Vx(s);break;case 4:if(s===44){e[++i]=rc()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=EA(s)}while(s=Va());return e},U5=function(e,t){return kO(P5(VO(e),t))},SB=new WeakMap,F5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!SB.get(i))&&!s){SB.set(e,!0);for(var r=[],a=U5(t,r),l=i.props,u=0,h=0;u<a.length;u++)for(var m=0;m<l.length;m++,h++)e.props[h]=r[u]?a[u].replace(/&\f/g,l[m]):l[m]+" "+a[u]}}},H5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function jO(n,e){switch(x5(n,e)){case 5103:return Gn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+n+iS+n+_r+n+n;case 6828:case 4268:return Gn+n+_r+n+n;case 6165:return Gn+n+_r+"flex-"+n+n;case 5187:return Gn+n+Vn(n,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+_r+"flex-$1$2")+n;case 5443:return Gn+n+_r+"flex-item-"+Vn(n,/flex-|-self/,"")+n;case 4675:return Gn+n+_r+"flex-line-pack"+Vn(n,/align-content|flex-|-self/,"")+n;case 5548:return Gn+n+_r+Vn(n,"shrink","negative")+n;case 5292:return Gn+n+_r+Vn(n,"basis","preferred-size")+n;case 6060:return Gn+"box-"+Vn(n,"-grow","")+Gn+n+_r+Vn(n,"grow","positive")+n;case 4554:return Gn+Vn(n,/([^-])(transform)/g,"$1"+Gn+"$2")+n;case 6187:return Vn(Vn(Vn(n,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),n,"")+n;case 5495:case 3959:return Vn(n,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return Vn(Vn(n,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+n+n;case 4095:case 3583:case 4068:case 2532:return Vn(n,/(.+)-inline(.+)/,Gn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nc(n)-1-e>6)switch(sr(n,e+1)){case 109:if(sr(n,e+4)!==45)break;case 102:return Vn(n,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+iS+(sr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~bT(n,"stretch")?jO(Vn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(sr(n,e+1)!==115)break;case 6444:switch(sr(n,nc(n)-3-(~bT(n,"!important")&&10))){case 107:return Vn(n,":",":"+Gn)+n;case 101:return Vn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(sr(n,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+_r+"$2box$3")+n}break;case 5936:switch(sr(n,e+11)){case 114:return Gn+n+_r+Vn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Gn+n+_r+Vn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Gn+n+_r+Vn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Gn+n+_r+n+n}return n}var z5=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case kC:e.return=jO(e.value,e.length);break;case HO:return Dm([ky(e,{value:Vn(e.value,"@","@"+Gn)})],s);case VC:if(e.length)return A5(e.props,function(r){switch(S5(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dm([ky(e,{props:[Vn(r,/:(read-\w+)/,":"+iS+"$1")]})],s);case"::placeholder":return Dm([ky(e,{props:[Vn(r,/:(plac\w+)/,":"+Gn+"input-$1")]}),ky(e,{props:[Vn(r,/:(plac\w+)/,":"+iS+"$1")]}),ky(e,{props:[Vn(r,/:(plac\w+)/,_r+"input-$1")]})],s)}return""})}},G5=[z5],V5=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(T){var A=T.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var s=e.stylisPlugins||G5,r={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(T){for(var A=T.getAttribute("data-emotion").split(" "),S=1;S<A.length;S++)r[A[S]]=!0;l.push(T)});var u,h=[F5,H5];{var m,g=[I5,O5(function(T){m.insert(T)})],y=N5(h.concat(s,g)),b=function(A){return Dm(B5(A),y)};u=function(A,S,B,w){m=B,b(A?A+"{"+S.styles+"}":S.styles),w&&(x.inserted[S.name]=!0)}}var x={key:t,sheet:new g5({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:u};return x.sheet.hydrate(l),x},w1={exports:{}},Wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB;function k5(){if(AB)return Wn;AB=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,T=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,B=n?Symbol.for("react.scope"):60119;function w(L){if(typeof L=="object"&&L!==null){var N=L.$$typeof;switch(N){case e:switch(L=L.type,L){case u:case h:case i:case r:case s:case g:return L;default:switch(L=L&&L.$$typeof,L){case l:case m:case x:case b:case a:return L;default:return N}}case t:return N}}}function R(L){return w(L)===h}return Wn.AsyncMode=u,Wn.ConcurrentMode=h,Wn.ContextConsumer=l,Wn.ContextProvider=a,Wn.Element=e,Wn.ForwardRef=m,Wn.Fragment=i,Wn.Lazy=x,Wn.Memo=b,Wn.Portal=t,Wn.Profiler=r,Wn.StrictMode=s,Wn.Suspense=g,Wn.isAsyncMode=function(L){return R(L)||w(L)===u},Wn.isConcurrentMode=R,Wn.isContextConsumer=function(L){return w(L)===l},Wn.isContextProvider=function(L){return w(L)===a},Wn.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Wn.isForwardRef=function(L){return w(L)===m},Wn.isFragment=function(L){return w(L)===i},Wn.isLazy=function(L){return w(L)===x},Wn.isMemo=function(L){return w(L)===b},Wn.isPortal=function(L){return w(L)===t},Wn.isProfiler=function(L){return w(L)===r},Wn.isStrictMode=function(L){return w(L)===s},Wn.isSuspense=function(L){return w(L)===g},Wn.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===h||L===r||L===s||L===g||L===y||typeof L=="object"&&L!==null&&(L.$$typeof===x||L.$$typeof===b||L.$$typeof===a||L.$$typeof===l||L.$$typeof===m||L.$$typeof===A||L.$$typeof===S||L.$$typeof===B||L.$$typeof===T)},Wn.typeOf=w,Wn}var EB;function X5(){return EB||(EB=1,w1.exports=k5()),w1.exports}var R1,MB;function j5(){if(MB)return R1;MB=1;var n=X5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=i,r[n.Memo]=s;function a(x){return n.isMemo(x)?s:r[x.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function b(x,T,A){if(typeof T!="string"){if(y){var S=g(T);S&&S!==y&&b(x,S,A)}var B=u(T);h&&(B=B.concat(h(T)));for(var w=a(x),R=a(T),L=0;L<B.length;++L){var N=B[L];if(!t[N]&&!(A&&A[N])&&!(R&&R[N])&&!(w&&w[N])){var U=m(T,N);try{l(x,N,U)}catch{}}}}return x}return R1=b,R1}j5();var W5=!0;function WO(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var jC=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||W5===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},WC=function(e,t,i){jC(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function Y5(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var q5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K5=/[A-Z]|^ms/g,J5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YO=function(e){return e.charCodeAt(1)===45},TB=function(e){return e!=null&&typeof e!="boolean"},B1=XO(function(n){return YO(n)?n:n.replace(K5,"-$&").toLowerCase()}),CB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(J5,function(i,s,r){return ic={name:s,styles:r,next:ic},s})}return q5[e]!==1&&!YO(e)&&typeof t=="number"&&t!==0?t+"px":t};function j0(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return ic={name:s.name,styles:s.styles,next:ic},s.name;var r=t;if(r.styles!==void 0){var a=r.next;if(a!==void 0)for(;a!==void 0;)ic={name:a.name,styles:a.styles,next:ic},a=a.next;var l=r.styles+";";return l}return Q5(n,e,t)}case"function":{if(n!==void 0){var u=ic,h=t(n);return ic=u,j0(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function Q5(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=j0(n,e,t[s])+";";else for(var r in t){var a=t[r];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?i+=r+"{"+e[l]+"}":TB(l)&&(i+=B1(r)+":"+CB(r,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)TB(a[u])&&(i+=B1(r)+":"+CB(r,a[u])+";");else{var h=j0(n,e,a);switch(r){case"animation":case"animationName":{i+=B1(r)+":"+h+";";break}default:i+=r+"{"+h+"}"}}}return i}var wB=/label:\s*([^\s;{]+)\s*(;|$)/g,ic;function Cv(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";ic=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,s+=j0(t,e,r);else{var a=r;s+=a[0]}for(var l=1;l<n.length;l++)if(s+=j0(t,e,n[l]),i){var u=r;s+=u[l]}wB.lastIndex=0;for(var h="",m;(m=wB.exec(s))!==null;)h+="-"+m[1];var g=Y5(s)+h;return{name:g,styles:s,next:ic}}var Z5=function(e){return e()},qO=_T.useInsertionEffect?_T.useInsertionEffect:!1,KO=qO||Z5,RB=qO||te.useLayoutEffect,JO=te.createContext(typeof HTMLElement<"u"?V5({key:"css"}):null);JO.Provider;var YC=function(e){return te.forwardRef(function(t,i){var s=te.useContext(JO);return e(t,s,i)})},Gm=te.createContext({}),$5=function(e,t){if(typeof t=="function"){var i=t(e);return i}return Hm({},e,t)},eG=xB(function(n){return xB(function(e){return $5(n,e)})}),tG=function(e){var t=te.useContext(Gm);return e.theme!==t&&(t=eG(t)(e.theme)),te.createElement(Gm.Provider,{value:t},e.children)},qC={}.hasOwnProperty,ST="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nG=function(e,t){var i={};for(var s in t)qC.call(t,s)&&(i[s]=t[s]);return i[ST]=e,i},iG=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return jC(t,i,s),KO(function(){return WC(t,i,s)}),null},sG=YC(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[ST],r=[i],a="";typeof n.className=="string"?a=WO(e.registered,r,n.className):n.className!=null&&(a=n.className+" ");var l=Cv(r,void 0,te.useContext(Gm));a+=e.key+"-"+l.name;var u={};for(var h in n)qC.call(n,h)&&h!=="css"&&h!==ST&&(u[h]=n[h]);return u.className=a,t&&(u.ref=t),te.createElement(te.Fragment,null,te.createElement(iG,{cache:e,serialized:l,isStringTag:typeof s=="string"}),te.createElement(s,u))}),rG=sG,BB=function(e,t){var i=arguments;if(t==null||!qC.call(t,"css"))return te.createElement.apply(void 0,i);var s=i.length,r=new Array(s);r[0]=rG,r[1]=nG(e,t);for(var a=2;a<s;a++)r[a]=i[a];return te.createElement.apply(null,r)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(BB||(BB={}));var aG=YC(function(n,e){var t=n.styles,i=Cv([t],void 0,te.useContext(Gm)),s=te.useRef();return RB(function(){var r=e.key+"-global",a=new e.sheet.constructor({key:r,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+r+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",r),a.hydrate([u])),s.current=[a,l],function(){a.flush()}},[e]),RB(function(){var r=s.current,a=r[0],l=r[1];if(l){r[1]=!1;return}if(i.next!==void 0&&WC(e,i.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function KC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Cv(e)}function wv(){var n=KC.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var oG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lG=XO(function(n){return oG.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),cG=lG,uG=function(e){return e!=="theme"},DB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cG:uG},IB=function(e,t,i){var s;if(t){var r=t.shouldForwardProp;s=e.__emotion_forwardProp&&r?function(a){return e.__emotion_forwardProp(a)&&r(a)}:r}return typeof s!="function"&&i&&(s=e.__emotion_forwardProp),s},fG=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return jC(t,i,s),KO(function(){return WC(t,i,s)}),null},hG=function n(e,t){var i=e.__emotion_real===e,s=i&&e.__emotion_base||e,r,a;t!==void 0&&(r=t.label,a=t.target);var l=IB(e,t,i),u=l||DB(s),h=!u("as");return function(){var m=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var y=m[0];g.push(y[0]);for(var b=m.length,x=1;x<b;x++)g.push(m[x],y[x])}var T=YC(function(A,S,B){var w=h&&A.as||s,R="",L=[],N=A;if(A.theme==null){N={};for(var U in A)N[U]=A[U];N.theme=te.useContext(Gm)}typeof A.className=="string"?R=WO(S.registered,L,A.className):A.className!=null&&(R=A.className+" ");var P=Cv(g.concat(L),S.registered,N);R+=S.key+"-"+P.name,a!==void 0&&(R+=" "+a);var O=h&&l===void 0?DB(w):u,M={};for(var H in A)h&&H==="as"||O(H)&&(M[H]=A[H]);return M.className=R,B&&(M.ref=B),te.createElement(te.Fragment,null,te.createElement(fG,{cache:S,serialized:P,isStringTag:typeof w=="string"}),te.createElement(w,M))});return T.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",T.defaultProps=e.defaultProps,T.__emotion_real=T,T.__emotion_base=s,T.__emotion_styles=g,T.__emotion_forwardProp=l,Object.defineProperty(T,"toString",{value:function(){return"."+a}}),T.withComponent=function(A,S){var B=n(A,Hm({},t,S,{shouldForwardProp:IB(T,S,!0)}));return B.apply(void 0,g)},T}},dG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AT=hG.bind(null);dG.forEach(function(n){AT[n]=AT(n)});function pG(n){return n==null||Object.keys(n).length===0}function mG(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?s=>e(pG(s)?t:s):e;return _e.jsx(aG,{styles:i})}function QO(n,e){return AT(n,e)}function gG(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const NB=[];function OB(n){return NB[0]=n,Cv(NB)}var D1={exports:{}},si={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LB;function yG(){if(LB)return si;LB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function x(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case n:switch(T=T.type,T){case t:case s:case i:case u:case h:case y:return T;default:switch(T=T&&T.$$typeof,T){case a:case l:case g:case m:return T;case r:return T;default:return A}}case e:return A}}}return si.ContextConsumer=r,si.ContextProvider=a,si.Element=n,si.ForwardRef=l,si.Fragment=t,si.Lazy=g,si.Memo=m,si.Portal=e,si.Profiler=s,si.StrictMode=i,si.Suspense=u,si.SuspenseList=h,si.isContextConsumer=function(T){return x(T)===r},si.isContextProvider=function(T){return x(T)===a},si.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},si.isForwardRef=function(T){return x(T)===l},si.isFragment=function(T){return x(T)===t},si.isLazy=function(T){return x(T)===g},si.isMemo=function(T){return x(T)===m},si.isPortal=function(T){return x(T)===e},si.isProfiler=function(T){return x(T)===s},si.isStrictMode=function(T){return x(T)===i},si.isSuspense=function(T){return x(T)===u},si.isSuspenseList=function(T){return x(T)===h},si.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===t||T===s||T===i||T===u||T===h||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===m||T.$$typeof===a||T.$$typeof===r||T.$$typeof===l||T.$$typeof===b||T.getModuleId!==void 0)},si.typeOf=x,si}var PB;function vG(){return PB||(PB=1,D1.exports=yG()),D1.exports}var ZO=vG();function sc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function $O(n){if(te.isValidElement(n)||ZO.isValidElementType(n)||!sc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=$O(n[t])}),e}function Tr(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return sc(n)&&sc(e)&&Object.keys(e).forEach(s=>{te.isValidElement(e[s])||ZO.isValidElementType(e[s])?i[s]=e[s]:sc(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&sc(n[s])?i[s]=Tr(n[s],e[s],t):t.clone?i[s]=sc(e[s])?$O(e[s]):e[s]:i[s]=e[s]}),i}const _G=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function bG(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...s}=n,r=_G(e),a=Object.keys(r);function l(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function u(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function h(y,b){const x=a.indexOf(b);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:b)-i/100}${t})`}function m(y){return a.indexOf(y)+1<a.length?h(y,a[a.indexOf(y)+1]):l(y)}function g(y){const b=a.indexOf(y);return b===0?l(a[1]):b===a.length-1?u(a[b]):h(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:r,up:l,down:u,between:h,only:m,not:g,unit:t,...s}}function xG(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,s)=>{var a,l;const r=/min-width:\s*([0-9.]+)/;return+(((a=i.match(r))==null?void 0:a[1])||0)-+(((l=s.match(r))==null?void 0:l[1])||0)});return t.length?t.reduce((i,s)=>{const r=e[s];return delete i[s],i[s]=r,i},{...e}):e}function SG(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function AG(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,s]=t,r=Number.isNaN(+i)?i||0:+i;return n.containerQueries(s).up(r)}function EG(n){const e=(r,a)=>r.replace("@media",a?`@container ${a}`:"@container");function t(r,a){r.up=(...l)=>e(n.breakpoints.up(...l),a),r.down=(...l)=>e(n.breakpoints.down(...l),a),r.between=(...l)=>e(n.breakpoints.between(...l),a),r.only=(...l)=>e(n.breakpoints.only(...l),a),r.not=(...l)=>{const u=e(n.breakpoints.not(...l),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},s=r=>(t(i,r),i);return t(s),{...n,containerQueries:s}}const MG={borderRadius:4};function v0(n,e){return e?Tr(n,e,{clone:!1}):n}const CA={xs:0,sm:600,md:900,lg:1200,xl:1536},UB={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${CA[n]}px)`},TG={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:CA[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ou(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const r=i.breakpoints||UB;return e.reduce((a,l,u)=>(a[r.up(r.keys[u])]=t(e[u]),a),{})}if(typeof e=="object"){const r=i.breakpoints||UB;return Object.keys(e).reduce((a,l)=>{if(SG(r.keys,l)){const u=AG(i.containerQueries?i:TG,l);u&&(a[u]=t(e[l],l))}else if(Object.keys(r.values||CA).includes(l)){const u=r.up(l);a[u]=t(e[l],l)}else{const u=l;a[u]=e[u]}return a},{})}return t(e)}function CG(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,s)=>{const r=n.up(s);return i[r]={},i},{}))||{}}function wG(n,e){return n.reduce((t,i)=>{const s=t[i];return(!s||Object.keys(s).length===0)&&delete t[i],t},e)}function hn(n){if(typeof n!="string")throw new Error(au(7));return n.charAt(0).toUpperCase()+n.slice(1)}function wA(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,n);if(i!=null)return i}return e.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,n)}function sS(n,e,t,i=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||i:s=wA(n,t)||i,e&&(s=e(s,i,n)),s}function as(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:s}=n,r=a=>{if(a[e]==null)return null;const l=a[e],u=a.theme,h=wA(u,i)||{};return ou(a,l,g=>{let y=sS(h,s,g);return g===y&&typeof g=="string"&&(y=sS(h,s,`${e}${g==="default"?"":hn(g)}`,g)),t===!1?y:{[t]:y}})};return r.propTypes={},r.filterProps=[e],r}function RG(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const BG={m:"margin",p:"padding"},DG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},FB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},IG=RG(n=>{if(n.length>2)if(FB[n])n=FB[n];else return[n];const[e,t]=n.split(""),i=BG[e],s=DG[t]||"";return Array.isArray(s)?s.map(r=>i+r):[i+s]}),JC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],QC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...JC,...QC];function Rv(n,e,t,i){const s=wA(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?s.startsWith("var(")&&r===0?0:s.startsWith("var(")&&r===1?s:`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const a=Math.abs(r),l=s[a];return r>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function ZC(n){return Rv(n,"spacing",8)}function Bv(n,e){return typeof e=="string"||e==null?e:n(e)}function NG(n,e){return t=>n.reduce((i,s)=>(i[s]=Bv(e,t),i),{})}function OG(n,e,t,i){if(!e.includes(t))return null;const s=IG(t),r=NG(s,i),a=n[t];return ou(n,a,r)}function eL(n,e){const t=ZC(n.theme);return Object.keys(n).map(i=>OG(n,e,i,t)).reduce(v0,{})}function ji(n){return eL(n,JC)}ji.propTypes={};ji.filterProps=JC;function Wi(n){return eL(n,QC)}Wi.propTypes={};Wi.filterProps=QC;function tL(n=8,e=ZC({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(r=>{const a=e(r);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function RA(...n){const e=n.reduce((i,s)=>(s.filterProps.forEach(r=>{i[r]=s}),i),{}),t=i=>Object.keys(i).reduce((s,r)=>e[r]?v0(s,e[r](i)):s,{});return t.propTypes={},t.filterProps=n.reduce((i,s)=>i.concat(s.filterProps),[]),t}function bo(n){return typeof n!="number"?n:`${n}px solid`}function Mo(n,e){return as({prop:n,themeKey:"borders",transform:e})}const LG=Mo("border",bo),PG=Mo("borderTop",bo),UG=Mo("borderRight",bo),FG=Mo("borderBottom",bo),HG=Mo("borderLeft",bo),zG=Mo("borderColor"),GG=Mo("borderTopColor"),VG=Mo("borderRightColor"),kG=Mo("borderBottomColor"),XG=Mo("borderLeftColor"),jG=Mo("outline",bo),WG=Mo("outlineColor"),BA=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Rv(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:Bv(e,i)});return ou(n,n.borderRadius,t)}return null};BA.propTypes={};BA.filterProps=["borderRadius"];RA(LG,PG,UG,FG,HG,zG,GG,VG,kG,XG,BA,jG,WG);const DA=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Rv(n.theme,"spacing",8),t=i=>({gap:Bv(e,i)});return ou(n,n.gap,t)}return null};DA.propTypes={};DA.filterProps=["gap"];const IA=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Rv(n.theme,"spacing",8),t=i=>({columnGap:Bv(e,i)});return ou(n,n.columnGap,t)}return null};IA.propTypes={};IA.filterProps=["columnGap"];const NA=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Rv(n.theme,"spacing",8),t=i=>({rowGap:Bv(e,i)});return ou(n,n.rowGap,t)}return null};NA.propTypes={};NA.filterProps=["rowGap"];const YG=as({prop:"gridColumn"}),qG=as({prop:"gridRow"}),KG=as({prop:"gridAutoFlow"}),JG=as({prop:"gridAutoColumns"}),QG=as({prop:"gridAutoRows"}),ZG=as({prop:"gridTemplateColumns"}),$G=as({prop:"gridTemplateRows"}),e6=as({prop:"gridTemplateAreas"}),t6=as({prop:"gridArea"});RA(DA,IA,NA,YG,qG,KG,JG,QG,ZG,$G,e6,t6);function Im(n,e){return e==="grey"?e:n}const n6=as({prop:"color",themeKey:"palette",transform:Im}),i6=as({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Im}),s6=as({prop:"backgroundColor",themeKey:"palette",transform:Im});RA(n6,i6,s6);function Ha(n){return n<=1&&n!==0?`${n*100}%`:n}const r6=as({prop:"width",transform:Ha}),$C=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,r,a,l,u;const i=((a=(r=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:a[t])||CA[t];return i?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Ha(t)}};return ou(n,n.maxWidth,e)}return null};$C.filterProps=["maxWidth"];const a6=as({prop:"minWidth",transform:Ha}),o6=as({prop:"height",transform:Ha}),l6=as({prop:"maxHeight",transform:Ha}),c6=as({prop:"minHeight",transform:Ha});as({prop:"size",cssProperty:"width",transform:Ha});as({prop:"size",cssProperty:"height",transform:Ha});const u6=as({prop:"boxSizing"});RA(r6,$C,a6,o6,l6,c6,u6);const Dv={border:{themeKey:"borders",transform:bo},borderTop:{themeKey:"borders",transform:bo},borderRight:{themeKey:"borders",transform:bo},borderBottom:{themeKey:"borders",transform:bo},borderLeft:{themeKey:"borders",transform:bo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:bo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:BA},color:{themeKey:"palette",transform:Im},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Im},backgroundColor:{themeKey:"palette",transform:Im},p:{style:Wi},pt:{style:Wi},pr:{style:Wi},pb:{style:Wi},pl:{style:Wi},px:{style:Wi},py:{style:Wi},padding:{style:Wi},paddingTop:{style:Wi},paddingRight:{style:Wi},paddingBottom:{style:Wi},paddingLeft:{style:Wi},paddingX:{style:Wi},paddingY:{style:Wi},paddingInline:{style:Wi},paddingInlineStart:{style:Wi},paddingInlineEnd:{style:Wi},paddingBlock:{style:Wi},paddingBlockStart:{style:Wi},paddingBlockEnd:{style:Wi},m:{style:ji},mt:{style:ji},mr:{style:ji},mb:{style:ji},ml:{style:ji},mx:{style:ji},my:{style:ji},margin:{style:ji},marginTop:{style:ji},marginRight:{style:ji},marginBottom:{style:ji},marginLeft:{style:ji},marginX:{style:ji},marginY:{style:ji},marginInline:{style:ji},marginInlineStart:{style:ji},marginInlineEnd:{style:ji},marginBlock:{style:ji},marginBlockStart:{style:ji},marginBlockEnd:{style:ji},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:DA},rowGap:{style:NA},columnGap:{style:IA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ha},maxWidth:{style:$C},minWidth:{transform:Ha},height:{transform:Ha},maxHeight:{transform:Ha},minHeight:{transform:Ha},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function f6(...n){const e=n.reduce((i,s)=>i.concat(Object.keys(s)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function h6(n,e){return typeof n=="function"?n(e):n}function d6(){function n(t,i,s,r){const a={[t]:i,theme:s},l=r[t];if(!l)return{[t]:i};const{cssProperty:u=t,themeKey:h,transform:m,style:g}=l;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const y=wA(s,h)||{};return g?g(a):ou(a,i,x=>{let T=sS(y,m,x);return x===T&&typeof x=="string"&&(T=sS(y,m,`${t}${x==="default"?"":hn(x)}`,x)),u===!1?T:{[u]:T}})}function e(t){const{sx:i,theme:s={}}=t||{};if(!i)return null;const r=s.unstable_sxConfig??Dv;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const h=CG(s.breakpoints),m=Object.keys(h);let g=h;return Object.keys(u).forEach(y=>{const b=h6(u[y],s);if(b!=null)if(typeof b=="object")if(r[y])g=v0(g,n(y,b,s,r));else{const x=ou({theme:s},b,T=>({[y]:T}));f6(x,b)?g[y]=e({sx:b,theme:s}):g=v0(g,x)}else g=v0(g,n(y,b,s,r))}),xG(s,wG(m,g))}return Array.isArray(i)?i.map(a):a(i)}return e}const wd=d6();wd.filterProps=["sx"];function p6(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function ew(n={},...e){const{breakpoints:t={},palette:i={},spacing:s,shape:r={},...a}=n,l=bG(t),u=tL(s);let h=Tr({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...MG,...r}},a);return h=EG(h),h.applyStyles=p6,h=e.reduce((m,g)=>Tr(m,g),h),h.unstable_sxConfig={...Dv,...a==null?void 0:a.unstable_sxConfig},h.unstable_sx=function(g){return wd({sx:g,theme:this})},h}function m6(n){return Object.keys(n).length===0}function g6(n=null){const e=te.useContext(Gm);return!e||m6(e)?n:e}const y6=ew();function tw(n=y6){return g6(n)}function v6({styles:n,themeId:e,defaultTheme:t={}}){const i=tw(t),s=typeof n=="function"?n(e&&i[e]||i):n;return _e.jsx(mG,{styles:s})}const _6=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??Dv;return Object.keys(n).forEach(s=>{t[s]?e.systemProps[s]=n[s]:e.otherProps[s]=n[s]}),e};function nL(n){const{sx:e,...t}=n,{systemProps:i,otherProps:s}=_6(t);let r;return Array.isArray(e)?r=[i,...e]:typeof e=="function"?r=(...a)=>{const l=e(...a);return sc(l)?{...i,...l}:i}:r={...i,...e},{...s,sx:r}}const HB=n=>n,b6=()=>{let n=HB;return{configure(e){n=e},generate(e){return n(e)},reset(){n=HB}}},iL=b6();function sL(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=sL(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function bn(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=sL(n))&&(i&&(i+=" "),i+=e);return i}function x6(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:s}=n,r=QO("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(wd);return te.forwardRef(function(u,h){const m=tw(t),{className:g,component:y="div",...b}=nL(u);return _e.jsx(r,{as:y,ref:h,className:bn(g,s?s(i):i),theme:e&&m[e]||m,...b})})}const S6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Li(n,e,t="Mui"){const i=S6[e];return i?`${t}-${i}`:`${iL.generate(n)}-${e}`}function Ti(n,e,t="Mui"){const i={};return e.forEach(s=>{i[s]=Li(n,s,t)}),i}function rL(n){const{variants:e,...t}=n,i={variants:e,style:OB(t),isProcessed:!0};return i.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=OB(s.style))}),i}const A6=ew();function I1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function E6(n){return n?(e,t)=>t[n]:null}function M6(n,e,t){n.theme=w6(n.theme)?t:n.theme[e]||n.theme}function Xx(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>Xx(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:s,...r}=t;i=r}return aL(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function aL(n,e,t=[]){var s;let i;e:for(let r=0;r<e.length;r+=1){const a=e[r];if(typeof a.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!a.props(i))continue}else for(const l in a.props)if(n[l]!==a.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==a.props[l])continue e;typeof a.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(a.style(i))):t.push(a.style)}return t}function T6(n={}){const{themeId:e,defaultTheme:t=A6,rootShouldForwardProp:i=I1,slotShouldForwardProp:s=I1}=n;function r(l){M6(l,e,t)}return(l,u={})=>{gG(l,L=>L.filter(N=>N!==wd));const{name:h,slot:m,skipVariantsResolver:g,skipSx:y,overridesResolver:b=E6(B6(m)),...x}=u,T=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,A=y||!1;let S=I1;m==="Root"||m==="root"?S=i:m?S=s:R6(l)&&(S=void 0);const B=QO(l,{shouldForwardProp:S,label:C6(),...x}),w=L=>{if(typeof L=="function"&&L.__emotion_real!==L)return function(U){return Xx(U,L)};if(sc(L)){const N=rL(L);return N.variants?function(P){return Xx(P,N)}:N.style}return L},R=(...L)=>{const N=[],U=L.map(w),P=[];if(N.push(r),h&&b&&P.push(function(k){var z,Y;const se=(Y=(z=k.theme.components)==null?void 0:z[h])==null?void 0:Y.styleOverrides;if(!se)return null;const ne={};for(const Z in se)ne[Z]=Xx(k,se[Z]);return b(k,ne)}),h&&!T&&P.push(function(k){var ne,z;const $=k.theme,se=(z=(ne=$==null?void 0:$.components)==null?void 0:ne[h])==null?void 0:z.variants;return se?aL(k,se):null}),A||P.push(wd),Array.isArray(U[0])){const H=U.shift(),k=new Array(N.length).fill(""),$=new Array(P.length).fill("");let se;se=[...k,...H,...$],se.raw=[...k,...H.raw,...$],N.unshift(se)}const O=[...N,...U,...P],M=B(...O);return l.muiName&&(M.muiName=l.muiName),M};return B.withConfig&&(R.withConfig=B.withConfig),R}}function C6(n,e){return void 0}function w6(n){for(const e in n)return!1;return!0}function R6(n){return typeof n=="string"&&n.charCodeAt(0)>96}function B6(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function rS(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const r=n[s],a=e[s];if(!a)t[s]=r||{};else if(!r)t[s]=a;else{t[s]={...a};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=l;t[s][u]=rS(r[u],a[u])}}}else t[s]===void 0&&(t[s]=n[s])}return t}const Rd=typeof window<"u"?te.useLayoutEffect:te.useEffect;function D6(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function nw(n,e=0,t=1){return D6(n,e,t)}function I6(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function If(n){if(n.type)return n;if(n.charAt(0)==="#")return If(I6(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(au(9,n));let i=n.substring(e+1,n.length-1),s;if(t==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(au(10,s))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:t,values:i,colorSpace:s}}const N6=n=>{const e=If(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},f0=(n,e)=>{try{return N6(n)}catch{return n}};function OA(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((s,r)=>r<3?parseInt(s,10):s):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function oL(n){n=If(n);const{values:e}=n,t=e[0],i=e[1]/100,s=e[2]/100,r=i*Math.min(s,1-s),a=(h,m=(h+t/30)%12)=>s-r*Math.max(Math.min(m-3,9-m,1),-1);let l="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),OA({type:l,values:u})}function ET(n){n=If(n);let e=n.type==="hsl"||n.type==="hsla"?If(oL(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function O6(n,e){const t=ET(n),i=ET(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Af(n,e){return n=If(n),e=nw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,OA(n)}function Ib(n,e,t){try{return Af(n,e)}catch{return n}}function iw(n,e){if(n=If(n),e=nw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return OA(n)}function oi(n,e,t){try{return iw(n,e)}catch{return n}}function sw(n,e){if(n=If(n),e=nw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return OA(n)}function li(n,e,t){try{return sw(n,e)}catch{return n}}function L6(n,e=.15){return ET(n)>.5?iw(n,e):sw(n,e)}function Nb(n,e,t){try{return L6(n,e)}catch{return n}}const P6=te.createContext(),U6=()=>te.useContext(P6)??!1,F6=te.createContext(void 0);function H6(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const s=e.components[t];return s.defaultProps?rS(s.defaultProps,i):!s.styleOverrides&&!s.variants?rS(s,i):i}function z6({props:n,name:e}){const t=te.useContext(F6);return H6({props:n,name:e,theme:{components:t}})}const zB={theme:void 0};function G6(n){let e,t;return function(s){let r=e;return(r===void 0||s.theme!==t)&&(zB.theme=s.theme,r=rL(n(zB)),e=r,t=s.theme),r}}function V6(n=""){function e(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${n?`${n}-`:""}${i}${e(...s)})`}const GB=(n,e,t,i=[])=>{let s=n;e.forEach((r,a)=>{a===e.length-1?Array.isArray(s)?s[Number(r)]=t:s&&typeof s=="object"&&(s[r]=t):s&&typeof s=="object"&&(s[r]||(s[r]=i.includes(r)?[]:{}),s=s[r])})},k6=(n,e,t)=>{function i(s,r=[],a=[]){Object.entries(s).forEach(([l,u])=>{(!t||t&&!t([...r,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...r,l],Array.isArray(u)?[...a,l]:a):e([...r,l],u,a))})}i(n)},X6=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function N1(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},s={},r={},a={};return k6(n,(l,u,h)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(l,u))){const m=`--${t?`${t}-`:""}${l.join("-")}`,g=X6(l,u);Object.assign(s,{[m]:g}),GB(r,l,`var(${m})`,h),GB(a,l,`var(${m}, ${g})`,h)}},l=>l[0]==="vars"),{css:s,vars:r,varsWithDefaults:a}}function j6(n,e={}){const{getSelector:t=A,disableCssColorScheme:i,colorSchemeSelector:s}=e,{colorSchemes:r={},components:a,defaultColorScheme:l="light",...u}=n,{vars:h,css:m,varsWithDefaults:g}=N1(u,e);let y=g;const b={},{[l]:x,...T}=r;if(Object.entries(T||{}).forEach(([w,R])=>{const{vars:L,css:N,varsWithDefaults:U}=N1(R,e);y=Tr(y,U),b[w]={css:N,vars:L}}),x){const{css:w,vars:R,varsWithDefaults:L}=N1(x,e);y=Tr(y,L),b[l]={css:w,vars:R}}function A(w,R){var N,U;let L=s;if(s==="class"&&(L=".%s"),s==="data"&&(L="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(L=`[${s}="%s"]`),w){if(L==="media")return n.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((U=(N=r[w])==null?void 0:N.palette)==null?void 0:U.mode)||w})`]:{":root":R}};if(L)return n.defaultColorScheme===w?`:root, ${L.replace("%s",String(w))}`:L.replace("%s",String(w))}return":root"}return{vars:y,generateThemeVars:()=>{let w={...h};return Object.entries(b).forEach(([,{vars:R}])=>{w=Tr(w,R)}),w},generateStyleSheets:()=>{var P,O;const w=[],R=n.defaultColorScheme||"light";function L(M,H){Object.keys(H).length&&w.push(typeof M=="string"?{[M]:{...H}}:M)}L(t(void 0,{...m}),m);const{[R]:N,...U}=b;if(N){const{css:M}=N,H=(O=(P=r[R])==null?void 0:P.palette)==null?void 0:O.mode,k=!i&&H?{colorScheme:H,...M}:{...M};L(t(R,{...k}),k)}return Object.entries(U).forEach(([M,{css:H}])=>{var se,ne;const k=(ne=(se=r[M])==null?void 0:se.palette)==null?void 0:ne.mode,$=!i&&k?{colorScheme:k,...H}:{...H};L(t(M,{...$}),$)}),w}}}function W6(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Pi(n,e,t=void 0){const i={};for(const s in n){const r=n[s];let a="",l=!0;for(let u=0;u<r.length;u+=1){const h=r[u];h&&(a+=(l===!0?"":" ")+e(h),l=!1,t&&t[h]&&(a+=" "+t[h]))}i[s]=a}return i}function O1(n,e){var t,i,s;return te.isValidElement(n)&&e.indexOf(n.type.muiName??((s=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:s.muiName))!==-1}function lL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:V0.white,default:V0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Y6=lL();function cL(){return{text:{primary:V0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:V0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VB=cL();function kB(n,e,t,i){const s=i.light||i,r=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=sw(n.main,s):e==="dark"&&(n.dark=iw(n.main,r)))}function q6(n="light"){return n==="dark"?{main:Jp[200],light:Jp[50],dark:Jp[400]}:{main:Jp[700],light:Jp[400],dark:Jp[800]}}function K6(n="light"){return n==="dark"?{main:Kp[200],light:Kp[50],dark:Kp[400]}:{main:Kp[500],light:Kp[300],dark:Kp[700]}}function J6(n="light"){return n==="dark"?{main:qp[500],light:qp[300],dark:qp[700]}:{main:qp[700],light:qp[400],dark:qp[800]}}function Q6(n="light"){return n==="dark"?{main:Qp[400],light:Qp[300],dark:Qp[700]}:{main:Qp[700],light:Qp[500],dark:Qp[900]}}function Z6(n="light"){return n==="dark"?{main:Zp[400],light:Zp[300],dark:Zp[700]}:{main:Zp[800],light:Zp[500],dark:Zp[900]}}function $6(n="light"){return n==="dark"?{main:Vy[400],light:Vy[300],dark:Vy[700]}:{main:"#ed6c02",light:Vy[500],dark:Vy[900]}}function rw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...s}=n,r=n.primary||q6(e),a=n.secondary||K6(e),l=n.error||J6(e),u=n.info||Q6(e),h=n.success||Z6(e),m=n.warning||$6(e);function g(T){return O6(T,VB.text.primary)>=t?VB.text.primary:Y6.text.primary}const y=({color:T,name:A,mainShade:S=500,lightShade:B=300,darkShade:w=700})=>{if(T={...T},!T.main&&T[S]&&(T.main=T[S]),!T.hasOwnProperty("main"))throw new Error(au(11,A?` (${A})`:"",S));if(typeof T.main!="string")throw new Error(au(12,A?` (${A})`:"",JSON.stringify(T.main)));return kB(T,"light",B,i),kB(T,"dark",w,i),T.contrastText||(T.contrastText=g(T.main)),T};let b;return e==="light"?b=lL():e==="dark"&&(b=cL()),Tr({common:{...V0},mode:e,primary:y({color:r,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:h,name:"success"}),grey:d5,contrastThreshold:t,getContrastText:g,augmentColor:y,tonalOffset:i,...b},s)}function e8(n){const e={};return Object.entries(n).forEach(i=>{const[s,r]=i;typeof r=="object"&&(e[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function t8(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function n8(n){return Math.round(n*1e5)/1e5}const XB={textTransform:"uppercase"},jB='"Roboto", "Helvetica", "Arial", sans-serif';function i8(n,e){const{fontFamily:t=jB,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,y=i/14,b=m||(A=>`${A/u*y}rem`),x=(A,S,B,w,R)=>({fontFamily:t,fontWeight:A,fontSize:b(S),lineHeight:B,...t===jB?{letterSpacing:`${n8(w/S)}em`}:{},...R,...h}),T={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(r,48,1.167,0),h4:x(r,34,1.235,.25),h5:x(r,24,1.334,0),h6:x(a,20,1.6,.15),subtitle1:x(r,16,1.75,.15),subtitle2:x(a,14,1.57,.1),body1:x(r,16,1.5,.15),body2:x(r,14,1.43,.15),button:x(a,14,1.75,.4,XB),caption:x(r,12,1.66,.4),overline:x(r,12,2.66,1,XB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tr({htmlFontSize:u,pxToRem:b,fontFamily:t,fontSize:i,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:a,fontWeightBold:l,...T},g,{clone:!1})}const s8=.2,r8=.14,a8=.12;function Ai(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${s8})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${r8})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${a8})`].join(",")}const o8=["none",Ai(0,2,1,-1,0,1,1,0,0,1,3,0),Ai(0,3,1,-2,0,2,2,0,0,1,5,0),Ai(0,3,3,-2,0,3,4,0,0,1,8,0),Ai(0,2,4,-1,0,4,5,0,0,1,10,0),Ai(0,3,5,-1,0,5,8,0,0,1,14,0),Ai(0,3,5,-1,0,6,10,0,0,1,18,0),Ai(0,4,5,-2,0,7,10,1,0,2,16,1),Ai(0,5,5,-3,0,8,10,1,0,3,14,2),Ai(0,5,6,-3,0,9,12,1,0,3,16,2),Ai(0,6,6,-3,0,10,14,1,0,4,18,3),Ai(0,6,7,-4,0,11,15,1,0,4,20,3),Ai(0,7,8,-4,0,12,17,2,0,5,22,4),Ai(0,7,8,-4,0,13,19,2,0,5,24,4),Ai(0,7,9,-4,0,14,21,2,0,5,26,4),Ai(0,8,9,-5,0,15,22,2,0,6,28,5),Ai(0,8,10,-5,0,16,24,2,0,6,30,5),Ai(0,8,11,-5,0,17,26,2,0,6,32,5),Ai(0,9,11,-5,0,18,28,2,0,7,34,6),Ai(0,9,12,-6,0,19,29,2,0,7,36,6),Ai(0,10,13,-6,0,20,31,3,0,8,38,7),Ai(0,10,13,-6,0,21,33,3,0,8,40,7),Ai(0,10,14,-6,0,22,35,3,0,8,42,7),Ai(0,11,14,-7,0,23,36,3,0,9,44,8),Ai(0,11,15,-7,0,24,38,3,0,9,46,8)],l8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},c8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WB(n){return`${Math.round(n)}ms`}function u8(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function f8(n){const e={...l8,...n.easing},t={...c8,...n.duration};return{getAutoHeightDuration:u8,create:(s=["all"],r={})=>{const{duration:a=t.standard,easing:l=e.easeInOut,delay:u=0,...h}=r;return(Array.isArray(s)?s:[s]).map(m=>`${m} ${typeof a=="string"?a:WB(a)} ${l} ${typeof u=="string"?u:WB(u)}`).join(",")},...n,easing:e,duration:t}}const h8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function d8(n){return sc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function uL(n={}){const e={...n};function t(i){const s=Object.entries(i);for(let r=0;r<s.length;r++){const[a,l]=s[r];!d8(l)||a.startsWith("unstable_")?delete i[a]:sc(l)&&(i[a]={...l},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function MT(n={},...e){const{breakpoints:t,mixins:i={},spacing:s,palette:r={},transitions:a={},typography:l={},shape:u,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(au(20));const m=rw(r),g=ew(n);let y=Tr(g,{mixins:t8(g.breakpoints,i),palette:m,shadows:o8.slice(),typography:i8(m,l),transitions:f8(a),zIndex:{...h8}});return y=Tr(y,h),y=e.reduce((b,x)=>Tr(b,x),y),y.unstable_sxConfig={...Dv,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(x){return wd({sx:x,theme:this})},y.toRuntimeSource=uL,y}function TT(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const p8=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=TT(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function fL(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function hL(n){return n==="dark"?p8:[]}function m8(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...s}=n,r=rw(e);return{palette:r,opacity:{...fL(r.mode),...t},overlays:i||hL(r.mode),...s}}function g8(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const y8=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],v8=n=>(e,t)=>{const i=n.rootSelector||":root",s=n.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return y8(n.cssVarPrefix).forEach(l=>{a[l]=t[l],delete t[l]}),r==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:r?{[r.replace("%s",e)]:a,[`${i}, ${r.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(r)return r.replace("%s",String(e))}return i};function _8(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ye(n,e,t){!n[e]&&t&&(n[e]=t)}function h0(n){return typeof n!="string"||!n.startsWith("hsl")?n:oL(n)}function Hc(n,e){`${e}Channel`in n||(n[`${e}Channel`]=f0(h0(n[e])))}function b8(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Zl=n=>{try{return n()}catch{}},x8=(n="mui")=>V6(n);function L1(n,e,t,i){if(!e)return;e=e===!0?{}:e;const s=i==="dark"?"dark":"light";if(!t){n[i]=m8({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:r,...a}=MT({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[i]={...e,palette:r,opacity:{...fL(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||hL(s)},a}function S8(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:a=g8,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...h}=n,m=Object.keys(t)[0],g=i||(t.light&&m!=="light"?"light":m),y=x8(r),{[g]:b,light:x,dark:T,...A}=t,S={...A};let B=b;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(B=!0),!B)throw new Error(au(21,g));const w=L1(S,B,h,g);x&&!S.light&&L1(S,x,void 0,"light"),T&&!S.dark&&L1(S,T,void 0,"dark");let R={defaultColorScheme:g,...w,cssVarPrefix:r,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:S,font:{...e8(w.typography),...w.font},spacing:b8(h.spacing)};Object.keys(R.colorSchemes).forEach(O=>{const M=R.colorSchemes[O].palette,H=k=>{const $=k.split("-"),se=$[1],ne=$[2];return y(k,M[se][ne])};if(M.mode==="light"&&(Ye(M.common,"background","#fff"),Ye(M.common,"onBackground","#000")),M.mode==="dark"&&(Ye(M.common,"background","#000"),Ye(M.common,"onBackground","#fff")),_8(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){Ye(M.Alert,"errorColor",oi(M.error.light,.6)),Ye(M.Alert,"infoColor",oi(M.info.light,.6)),Ye(M.Alert,"successColor",oi(M.success.light,.6)),Ye(M.Alert,"warningColor",oi(M.warning.light,.6)),Ye(M.Alert,"errorFilledBg",H("palette-error-main")),Ye(M.Alert,"infoFilledBg",H("palette-info-main")),Ye(M.Alert,"successFilledBg",H("palette-success-main")),Ye(M.Alert,"warningFilledBg",H("palette-warning-main")),Ye(M.Alert,"errorFilledColor",Zl(()=>M.getContrastText(M.error.main))),Ye(M.Alert,"infoFilledColor",Zl(()=>M.getContrastText(M.info.main))),Ye(M.Alert,"successFilledColor",Zl(()=>M.getContrastText(M.success.main))),Ye(M.Alert,"warningFilledColor",Zl(()=>M.getContrastText(M.warning.main))),Ye(M.Alert,"errorStandardBg",li(M.error.light,.9)),Ye(M.Alert,"infoStandardBg",li(M.info.light,.9)),Ye(M.Alert,"successStandardBg",li(M.success.light,.9)),Ye(M.Alert,"warningStandardBg",li(M.warning.light,.9)),Ye(M.Alert,"errorIconColor",H("palette-error-main")),Ye(M.Alert,"infoIconColor",H("palette-info-main")),Ye(M.Alert,"successIconColor",H("palette-success-main")),Ye(M.Alert,"warningIconColor",H("palette-warning-main")),Ye(M.AppBar,"defaultBg",H("palette-grey-100")),Ye(M.Avatar,"defaultBg",H("palette-grey-400")),Ye(M.Button,"inheritContainedBg",H("palette-grey-300")),Ye(M.Button,"inheritContainedHoverBg",H("palette-grey-A100")),Ye(M.Chip,"defaultBorder",H("palette-grey-400")),Ye(M.Chip,"defaultAvatarColor",H("palette-grey-700")),Ye(M.Chip,"defaultIconColor",H("palette-grey-700")),Ye(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ye(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ye(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ye(M.LinearProgress,"primaryBg",li(M.primary.main,.62)),Ye(M.LinearProgress,"secondaryBg",li(M.secondary.main,.62)),Ye(M.LinearProgress,"errorBg",li(M.error.main,.62)),Ye(M.LinearProgress,"infoBg",li(M.info.main,.62)),Ye(M.LinearProgress,"successBg",li(M.success.main,.62)),Ye(M.LinearProgress,"warningBg",li(M.warning.main,.62)),Ye(M.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.11)`),Ye(M.Slider,"primaryTrack",li(M.primary.main,.62)),Ye(M.Slider,"secondaryTrack",li(M.secondary.main,.62)),Ye(M.Slider,"errorTrack",li(M.error.main,.62)),Ye(M.Slider,"infoTrack",li(M.info.main,.62)),Ye(M.Slider,"successTrack",li(M.success.main,.62)),Ye(M.Slider,"warningTrack",li(M.warning.main,.62));const k=Nb(M.background.default,.8);Ye(M.SnackbarContent,"bg",k),Ye(M.SnackbarContent,"color",Zl(()=>M.getContrastText(k))),Ye(M.SpeedDialAction,"fabHoverBg",Nb(M.background.paper,.15)),Ye(M.StepConnector,"border",H("palette-grey-400")),Ye(M.StepContent,"border",H("palette-grey-400")),Ye(M.Switch,"defaultColor",H("palette-common-white")),Ye(M.Switch,"defaultDisabledColor",H("palette-grey-100")),Ye(M.Switch,"primaryDisabledColor",li(M.primary.main,.62)),Ye(M.Switch,"secondaryDisabledColor",li(M.secondary.main,.62)),Ye(M.Switch,"errorDisabledColor",li(M.error.main,.62)),Ye(M.Switch,"infoDisabledColor",li(M.info.main,.62)),Ye(M.Switch,"successDisabledColor",li(M.success.main,.62)),Ye(M.Switch,"warningDisabledColor",li(M.warning.main,.62)),Ye(M.TableCell,"border",li(Ib(M.divider,1),.88)),Ye(M.Tooltip,"bg",Ib(M.grey[700],.92))}if(M.mode==="dark"){Ye(M.Alert,"errorColor",li(M.error.light,.6)),Ye(M.Alert,"infoColor",li(M.info.light,.6)),Ye(M.Alert,"successColor",li(M.success.light,.6)),Ye(M.Alert,"warningColor",li(M.warning.light,.6)),Ye(M.Alert,"errorFilledBg",H("palette-error-dark")),Ye(M.Alert,"infoFilledBg",H("palette-info-dark")),Ye(M.Alert,"successFilledBg",H("palette-success-dark")),Ye(M.Alert,"warningFilledBg",H("palette-warning-dark")),Ye(M.Alert,"errorFilledColor",Zl(()=>M.getContrastText(M.error.dark))),Ye(M.Alert,"infoFilledColor",Zl(()=>M.getContrastText(M.info.dark))),Ye(M.Alert,"successFilledColor",Zl(()=>M.getContrastText(M.success.dark))),Ye(M.Alert,"warningFilledColor",Zl(()=>M.getContrastText(M.warning.dark))),Ye(M.Alert,"errorStandardBg",oi(M.error.light,.9)),Ye(M.Alert,"infoStandardBg",oi(M.info.light,.9)),Ye(M.Alert,"successStandardBg",oi(M.success.light,.9)),Ye(M.Alert,"warningStandardBg",oi(M.warning.light,.9)),Ye(M.Alert,"errorIconColor",H("palette-error-main")),Ye(M.Alert,"infoIconColor",H("palette-info-main")),Ye(M.Alert,"successIconColor",H("palette-success-main")),Ye(M.Alert,"warningIconColor",H("palette-warning-main")),Ye(M.AppBar,"defaultBg",H("palette-grey-900")),Ye(M.AppBar,"darkBg",H("palette-background-paper")),Ye(M.AppBar,"darkColor",H("palette-text-primary")),Ye(M.Avatar,"defaultBg",H("palette-grey-600")),Ye(M.Button,"inheritContainedBg",H("palette-grey-800")),Ye(M.Button,"inheritContainedHoverBg",H("palette-grey-700")),Ye(M.Chip,"defaultBorder",H("palette-grey-700")),Ye(M.Chip,"defaultAvatarColor",H("palette-grey-300")),Ye(M.Chip,"defaultIconColor",H("palette-grey-300")),Ye(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ye(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ye(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ye(M.LinearProgress,"primaryBg",oi(M.primary.main,.5)),Ye(M.LinearProgress,"secondaryBg",oi(M.secondary.main,.5)),Ye(M.LinearProgress,"errorBg",oi(M.error.main,.5)),Ye(M.LinearProgress,"infoBg",oi(M.info.main,.5)),Ye(M.LinearProgress,"successBg",oi(M.success.main,.5)),Ye(M.LinearProgress,"warningBg",oi(M.warning.main,.5)),Ye(M.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.13)`),Ye(M.Slider,"primaryTrack",oi(M.primary.main,.5)),Ye(M.Slider,"secondaryTrack",oi(M.secondary.main,.5)),Ye(M.Slider,"errorTrack",oi(M.error.main,.5)),Ye(M.Slider,"infoTrack",oi(M.info.main,.5)),Ye(M.Slider,"successTrack",oi(M.success.main,.5)),Ye(M.Slider,"warningTrack",oi(M.warning.main,.5));const k=Nb(M.background.default,.98);Ye(M.SnackbarContent,"bg",k),Ye(M.SnackbarContent,"color",Zl(()=>M.getContrastText(k))),Ye(M.SpeedDialAction,"fabHoverBg",Nb(M.background.paper,.15)),Ye(M.StepConnector,"border",H("palette-grey-600")),Ye(M.StepContent,"border",H("palette-grey-600")),Ye(M.Switch,"defaultColor",H("palette-grey-300")),Ye(M.Switch,"defaultDisabledColor",H("palette-grey-600")),Ye(M.Switch,"primaryDisabledColor",oi(M.primary.main,.55)),Ye(M.Switch,"secondaryDisabledColor",oi(M.secondary.main,.55)),Ye(M.Switch,"errorDisabledColor",oi(M.error.main,.55)),Ye(M.Switch,"infoDisabledColor",oi(M.info.main,.55)),Ye(M.Switch,"successDisabledColor",oi(M.success.main,.55)),Ye(M.Switch,"warningDisabledColor",oi(M.warning.main,.55)),Ye(M.TableCell,"border",oi(Ib(M.divider,1),.68)),Ye(M.Tooltip,"bg",Ib(M.grey[700],.92))}Hc(M.background,"default"),Hc(M.background,"paper"),Hc(M.common,"background"),Hc(M.common,"onBackground"),Hc(M,"divider"),Object.keys(M).forEach(k=>{const $=M[k];k!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Ye(M[k],"mainChannel",f0(h0($.main))),$.light&&Ye(M[k],"lightChannel",f0(h0($.light))),$.dark&&Ye(M[k],"darkChannel",f0(h0($.dark))),$.contrastText&&Ye(M[k],"contrastTextChannel",f0(h0($.contrastText))),k==="text"&&(Hc(M[k],"primary"),Hc(M[k],"secondary")),k==="action"&&($.active&&Hc(M[k],"active"),$.selected&&Hc(M[k],"selected")))})}),R=e.reduce((O,M)=>Tr(O,M),R);const L={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:a,getSelector:v8(R)},{vars:N,generateThemeVars:U,generateStyleSheets:P}=j6(R,L);return R.vars=N,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([O,M])=>{R[O]=M}),R.generateThemeVars=U,R.generateStyleSheets=P,R.generateSpacing=function(){return tL(h.spacing,ZC(this))},R.getColorSchemeSelector=W6(l),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=a,R.unstable_sxConfig={...Dv,...h==null?void 0:h.unstable_sxConfig},R.unstable_sx=function(M){return wd({sx:M,theme:this})},R.toRuntimeSource=uL,R}function YB(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:rw({...t===!0?{}:t.palette,mode:e})})}function aw(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:r=t==null?void 0:t.mode,...a}=n,l=r||"light",u=s==null?void 0:s[l],h={...s,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return MT(n,...e);let m=t;"palette"in n||h[l]&&(h[l]!==!0?m=h[l].palette:l==="dark"&&(m={mode:"dark"}));const g=MT({...n,palette:m},...e);return g.defaultColorScheme=l,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},YB(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},YB(g,"light",h.light)),g}return!t&&!("light"in h)&&l==="light"&&(h.light=!0),S8({...a,colorSchemes:h,defaultColorScheme:l,...typeof i!="boolean"&&i},...e)}const ow=aw();function LA(){const n=tw(ow);return n[AA]||n}function dL(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const pl=n=>dL(n)&&n!=="classes",Gt=T6({themeId:AA,defaultTheme:ow,rootShouldForwardProp:pl});function qB(...n){return n.reduce((e,t)=>t==null?e:function(...s){e.apply(this,s),t.apply(this,s)},()=>{})}function A8(n){return _e.jsx(v6,{...n,defaultTheme:ow,themeId:AA})}function E8(n){return function(t){return _e.jsx(A8,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function M8(){return nL}const gs=G6;function Ji(n){return z6(n)}function T8(n){return Li("MuiSvgIcon",n)}Ti("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const C8=n=>{const{color:e,fontSize:t,classes:i}=n,s={root:["root",e!=="inherit"&&`color${hn(e)}`,`fontSize${hn(t)}`]};return Pi(s,T8,i)},w8=Gt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${hn(t.color)}`],e[`fontSize${hn(t.fontSize)}`]]}})(gs(({theme:n})=>{var e,t,i,s,r,a,l,u,h,m,g,y,b,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:T=>!T.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(r=n.typography)==null?void 0:r.pxToRem)==null?void 0:a.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,T])=>T&&T.main).map(([T])=>{var A,S;return{props:{color:T},style:{color:(S=(A=(n.vars??n).palette)==null?void 0:A[T])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(y=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(x=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),CT=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiSvgIcon"}),{children:s,className:r,color:a="inherit",component:l="svg",fontSize:u="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:y="0 0 24 24",...b}=i,x=te.isValidElement(s)&&s.type==="svg",T={...i,color:a,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:y,hasSvgAsChild:x},A={};m||(A.viewBox=y);const S=C8(T);return _e.jsxs(w8,{as:l,className:bn(S.root,r),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...b,...x&&s.props,ownerState:T,children:[x?s.props.children:s,g?_e.jsx("title",{children:g}):null]})});CT.muiName="SvgIcon";function R8(n,e){function t(i,s){return _e.jsx(CT,{"data-testid":void 0,ref:s,...i,children:n})}return t.muiName=CT.muiName,te.memo(te.forwardRef(t))}function pL(n,e=166){let t;function i(...s){const r=()=>{n.apply(this,s)};clearTimeout(t),t=setTimeout(r,e)}return i.clear=()=>{clearTimeout(t)},i}function hl(n){return n&&n.ownerDocument||document}function lu(n){return hl(n).defaultView||window}function KB(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let JB=0;function B8(n){const[e,t]=te.useState(n),i=n||e;return te.useEffect(()=>{e==null&&(JB+=1,t(`mui-${JB}`))},[e]),i}const D8={..._T},QB=D8.useId;function lw(n){if(QB!==void 0){const e=QB();return n??e}return B8(n)}function ZB(n){const{controlled:e,default:t,name:i,state:s="value"}=n,{current:r}=te.useRef(e!==void 0),[a,l]=te.useState(t),u=r?e:a,h=te.useCallback(m=>{r||l(m)},[]);return[u,h]}function Sd(n){const e=te.useRef(n);return Rd(()=>{e.current=n}),te.useRef((...t)=>(0,e.current)(...t)).current}function va(...n){const e=te.useRef(void 0),t=te.useCallback(i=>{const s=n.map(r=>{if(r==null)return null;if(typeof r=="function"){const a=r,l=a(i);return typeof l=="function"?l:()=>{a(null)}}return r.current=i,()=>{r.current=null}});return()=>{s.forEach(r=>r==null?void 0:r())}},n);return te.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function I8(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function N8(n,e){if(!n)return e;function t(a,l){const u={};return Object.keys(l).forEach(h=>{I8(h,l[h])&&typeof a[h]=="function"&&(u[h]=(...m)=>{a[h](...m),l[h](...m)})}),u}if(typeof n=="function"||typeof e=="function")return a=>{const l=typeof e=="function"?e(a):e,u=typeof n=="function"?n({...a,...l}):n,h=bn(a==null?void 0:a.className,l==null?void 0:l.className,u==null?void 0:u.className),m=t(u,l);return{...l,...u,...m,...!!h&&{className:h},...(l==null?void 0:l.style)&&(u==null?void 0:u.style)&&{style:{...l.style,...u.style}},...(l==null?void 0:l.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=e,s=t(n,i),r=bn(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...s,...!!r&&{className:r},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function mL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function wT(n,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},wT(n,e)}function gL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,wT(n,e)}var yL=UO();const Ob=Mv(yL),$B={disabled:!1},aS=ol.createContext(null);var O8=function(e){return e.scrollTop},d0="unmounted",td="exited",nd="entering",Sm="entered",RT="exiting",pc=function(n){gL(e,n);function e(i,s){var r;r=n.call(this,i,s)||this;var a=s,l=a&&!a.isMounting?i.enter:i.appear,u;return r.appearStatus=null,i.in?l?(u=td,r.appearStatus=nd):u=Sm:i.unmountOnExit||i.mountOnEnter?u=d0:u=td,r.state={status:u},r.nextCallback=null,r}e.getDerivedStateFromProps=function(s,r){var a=s.in;return a&&r.status===d0?{status:td}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var r=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==nd&&a!==Sm&&(r=nd):(a===nd||a===Sm)&&(r=RT)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,r,a,l;return r=a=l=s,s!=null&&typeof s!="number"&&(r=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:r,enter:a,appear:l}},t.updateStatus=function(s,r){if(s===void 0&&(s=!1),r!==null)if(this.cancelNextCallback(),r===nd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Ob.findDOMNode(this);a&&O8(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===td&&this.setState({status:d0})},t.performEnter=function(s){var r=this,a=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[Ob.findDOMNode(this),l],h=u[0],m=u[1],g=this.getTimeouts(),y=l?g.appear:g.enter;if(!s&&!a||$B.disabled){this.safeSetState({status:Sm},function(){r.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:nd},function(){r.props.onEntering(h,m),r.onTransitionEnd(y,function(){r.safeSetState({status:Sm},function(){r.props.onEntered(h,m)})})})},t.performExit=function(){var s=this,r=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:Ob.findDOMNode(this);if(!r||$B.disabled){this.safeSetState({status:td},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:RT},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:td},function(){s.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,r){r=this.setNextCallback(r),this.setState(s,r)},t.setNextCallback=function(s){var r=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,r.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(s,r){this.setNextCallback(r);var a=this.props.nodeRef?this.props.nodeRef.current:Ob.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],h=u[0],m=u[1];this.props.addEndListener(h,m)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===d0)return null;var r=this.props,a=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var l=mL(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ol.createElement(aS.Provider,{value:null},typeof a=="function"?a(s,l):ol.cloneElement(ol.Children.only(a),l))},e}(ol.Component);pc.contextType=aS;pc.propTypes={};function $p(){}pc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$p,onEntering:$p,onEntered:$p,onExit:$p,onExiting:$p,onExited:$p};pc.UNMOUNTED=d0;pc.EXITED=td;pc.ENTERING=nd;pc.ENTERED=Sm;pc.EXITING=RT;function L8(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cw(n,e){var t=function(r){return e&&te.isValidElement(r)?e(r):r},i=Object.create(null);return n&&te.Children.map(n,function(s){return s}).forEach(function(s){i[s.key]=t(s)}),i}function P8(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var i=Object.create(null),s=[];for(var r in n)r in e?s.length&&(i[r]=s,s=[]):s.push(r);var a,l={};for(var u in e){if(i[u])for(a=0;a<i[u].length;a++){var h=i[u][a];l[i[u][a]]=t(h)}l[u]=t(u)}for(a=0;a<s.length;a++)l[s[a]]=t(s[a]);return l}function fd(n,e,t){return t[e]!=null?t[e]:n.props[e]}function U8(n,e){return cw(n.children,function(t){return te.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:fd(t,"appear",n),enter:fd(t,"enter",n),exit:fd(t,"exit",n)})})}function F8(n,e,t){var i=cw(n.children),s=P8(e,i);return Object.keys(s).forEach(function(r){var a=s[r];if(te.isValidElement(a)){var l=r in e,u=r in i,h=e[r],m=te.isValidElement(h)&&!h.props.in;u&&(!l||m)?s[r]=te.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:fd(a,"exit",n),enter:fd(a,"enter",n)}):!u&&l&&!m?s[r]=te.cloneElement(a,{in:!1}):u&&l&&te.isValidElement(h)&&(s[r]=te.cloneElement(a,{onExited:t.bind(null,a),in:h.props.in,exit:fd(a,"exit",n),enter:fd(a,"enter",n)}))}}),s}var H8=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},z8={component:"div",childFactory:function(e){return e}},uw=function(n){gL(e,n);function e(i,s){var r;r=n.call(this,i,s)||this;var a=r.handleExited.bind(L8(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,r){var a=r.children,l=r.handleExited,u=r.firstRender;return{children:u?U8(s,l):F8(s,a,l),firstRender:!1}},t.handleExited=function(s,r){var a=cw(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(r),this.mounted&&this.setState(function(l){var u=Hm({},l.children);return delete u[s.key],{children:u}}))},t.render=function(){var s=this.props,r=s.component,a=s.childFactory,l=mL(s,["component","childFactory"]),u=this.state.contextValue,h=H8(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,r===null?ol.createElement(aS.Provider,{value:u},h):ol.createElement(aS.Provider,{value:u},ol.createElement(r,l,h))},e}(ol.Component);uw.propTypes={};uw.defaultProps=z8;const eD={};function vL(n,e){const t=te.useRef(eD);return t.current===eD&&(t.current=n(e)),t}const G8=[];function V8(n){te.useEffect(n,G8)}class fw{constructor(){Hy(this,"currentId",null);Hy(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Hy(this,"disposeEffect",()=>this.clear)}static create(){return new fw}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function _L(){const n=vL(fw.create).current;return V8(n.disposeEffect),n}const bL=n=>n.scrollTop;function oS(n,e){const{timeout:t,easing:i,style:s={}}=n;return{duration:s.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:s.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:s.transitionDelay}}function k8(n){return Li("MuiPaper",n)}Ti("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const X8=n=>{const{square:e,elevation:t,variant:i,classes:s}=n,r={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return Pi(r,k8,s)},j8=Gt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(gs(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),PA=te.forwardRef(function(e,t){var b;const i=Ji({props:e,name:"MuiPaper"}),s=LA(),{className:r,component:a="div",elevation:l=1,square:u=!1,variant:h="elevation",...m}=i,g={...i,component:a,elevation:l,square:u,variant:h},y=X8(g);return _e.jsx(j8,{as:a,ownerState:g,className:bn(y.root,r),ref:t,...m,style:{...h==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(b=s.vars.overlays)==null?void 0:b[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Af("#fff",TT(l))}, ${Af("#fff",TT(l))})`}},...m.style}})});function W8(n){return typeof n=="string"}function xL(n,e,t){return n===void 0||W8(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function SL(n,e,t){return typeof n=="function"?n(e,t):n}function AL(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function tD(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function EL(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:s,className:r}=n;if(!e){const b=bn(t==null?void 0:t.className,r,s==null?void 0:s.className,i==null?void 0:i.className),x={...t==null?void 0:t.style,...s==null?void 0:s.style,...i==null?void 0:i.style},T={...t,...s,...i};return b.length>0&&(T.className=b),Object.keys(x).length>0&&(T.style=x),{props:T,internalRef:void 0}}const a=AL({...s,...i}),l=tD(i),u=tD(s),h=e(a),m=bn(h==null?void 0:h.className,t==null?void 0:t.className,r,s==null?void 0:s.className,i==null?void 0:i.className),g={...h==null?void 0:h.style,...t==null?void 0:t.style,...s==null?void 0:s.style,...i==null?void 0:i.style},y={...h,...t,...u,...l};return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:h.ref}}function Sr(n,e){const{className:t,elementType:i,ownerState:s,externalForwardedProps:r,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...u}=e,{component:h,slots:m={[n]:void 0},slotProps:g={[n]:void 0},...y}=r,b=m[n]||i,x=SL(g[n],s),{props:{component:T,...A},internalRef:S}=EL({className:t,...u,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:x}),B=va(S,x==null?void 0:x.ref,e.ref),w=n==="root"?T||h:T,R=xL(b,{...n==="root"&&!h&&!m[n]&&a,...n!=="root"&&!m[n]&&a,...A,...w&&!l&&{as:w},...w&&l&&{component:w},ref:B},s);return[b,R]}function nD(n){try{return n.matches(":focus-visible")}catch{}return!1}class lS{constructor(){Hy(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new lS}static use(){const e=vL(lS.create).current,[t,i]=te.useState(!1);return e.shouldMount=t,e.setShouldMount=i,te.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=q8(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function Y8(){return lS.use()}function q8(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});return t.resolve=n,t.reject=e,t}function K8(n){const{className:e,classes:t,pulsate:i=!1,rippleX:s,rippleY:r,rippleSize:a,in:l,onExited:u,timeout:h}=n,[m,g]=te.useState(!1),y=bn(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),b={width:a,height:a,top:-(a/2)+r,left:-(a/2)+s},x=bn(t.child,m&&t.childLeaving,i&&t.childPulsate);return!l&&!m&&g(!0),te.useEffect(()=>{if(!l&&u!=null){const T=setTimeout(u,h);return()=>{clearTimeout(T)}}},[u,l,h]),_e.jsx("span",{className:y,style:b,children:_e.jsx("span",{className:x})})}const _o=Ti("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),BT=550,J8=80,Q8=wv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Z8=wv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,$8=wv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,eV=Gt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tV=Gt(K8,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${_o.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Q8};
    animation-duration: ${BT}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${_o.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${_o.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${_o.childLeaving} {
    opacity: 0;
    animation-name: ${Z8};
    animation-duration: ${BT}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${_o.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${$8};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,nV=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:r={},className:a,...l}=i,[u,h]=te.useState([]),m=te.useRef(0),g=te.useRef(null);te.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const y=te.useRef(!1),b=_L(),x=te.useRef(null),T=te.useRef(null),A=te.useCallback(R=>{const{pulsate:L,rippleX:N,rippleY:U,rippleSize:P,cb:O}=R;h(M=>[...M,_e.jsx(tV,{classes:{ripple:bn(r.ripple,_o.ripple),rippleVisible:bn(r.rippleVisible,_o.rippleVisible),ripplePulsate:bn(r.ripplePulsate,_o.ripplePulsate),child:bn(r.child,_o.child),childLeaving:bn(r.childLeaving,_o.childLeaving),childPulsate:bn(r.childPulsate,_o.childPulsate)},timeout:BT,pulsate:L,rippleX:N,rippleY:U,rippleSize:P},m.current)]),m.current+=1,g.current=O},[r]),S=te.useCallback((R={},L={},N=()=>{})=>{const{pulsate:U=!1,center:P=s||L.pulsate,fakeElement:O=!1}=L;if((R==null?void 0:R.type)==="mousedown"&&y.current){y.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(y.current=!0);const M=O?null:T.current,H=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,$,se;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)k=Math.round(H.width/2),$=Math.round(H.height/2);else{const{clientX:ne,clientY:z}=R.touches&&R.touches.length>0?R.touches[0]:R;k=Math.round(ne-H.left),$=Math.round(z-H.top)}if(P)se=Math.sqrt((2*H.width**2+H.height**2)/3),se%2===0&&(se+=1);else{const ne=Math.max(Math.abs((M?M.clientWidth:0)-k),k)*2+2,z=Math.max(Math.abs((M?M.clientHeight:0)-$),$)*2+2;se=Math.sqrt(ne**2+z**2)}R!=null&&R.touches?x.current===null&&(x.current=()=>{A({pulsate:U,rippleX:k,rippleY:$,rippleSize:se,cb:N})},b.start(J8,()=>{x.current&&(x.current(),x.current=null)})):A({pulsate:U,rippleX:k,rippleY:$,rippleSize:se,cb:N})},[s,A,b]),B=te.useCallback(()=>{S({},{pulsate:!0})},[S]),w=te.useCallback((R,L)=>{if(b.clear(),(R==null?void 0:R.type)==="touchend"&&x.current){x.current(),x.current=null,b.start(0,()=>{w(R,L)});return}x.current=null,h(N=>N.length>0?N.slice(1):N),g.current=L},[b]);return te.useImperativeHandle(t,()=>({pulsate:B,start:S,stop:w}),[B,S,w]),_e.jsx(eV,{className:bn(_o.root,r.root,a),ref:T,...l,children:_e.jsx(uw,{component:null,exit:!0,children:u})})});function iV(n){return Li("MuiButtonBase",n)}const sV=Ti("MuiButtonBase",["root","disabled","focusVisible"]),rV=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:s}=n,a=Pi({root:["root",e&&"disabled",t&&"focusVisible"]},iV,s);return t&&i&&(a.root+=` ${i}`),a},aV=Gt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),oV=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:r=!1,children:a,className:l,component:u="button",disabled:h=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:x="a",onBlur:T,onClick:A,onContextMenu:S,onDragLeave:B,onFocus:w,onFocusVisible:R,onKeyDown:L,onKeyUp:N,onMouseDown:U,onMouseLeave:P,onMouseUp:O,onTouchEnd:M,onTouchMove:H,onTouchStart:k,tabIndex:$=0,TouchRippleProps:se,touchRippleRef:ne,type:z,...Y}=i,Z=te.useRef(null),re=Y8(),j=va(re.ref,ne),[ae,Se]=te.useState(!1);h&&ae&&Se(!1),te.useImperativeHandle(s,()=>({focusVisible:()=>{Se(!0),Z.current.focus()}}),[]);const Ae=re.shouldMount&&!m&&!h;te.useEffect(()=>{ae&&y&&!m&&re.pulsate()},[m,y,ae,re]);const ce=zc(re,"start",U,g),Te=zc(re,"stop",S,g),Xe=zc(re,"stop",B,g),et=zc(re,"stop",O,g),be=zc(re,"stop",V=>{ae&&V.preventDefault(),P&&P(V)},g),W=zc(re,"start",k,g),Q=zc(re,"stop",M,g),oe=zc(re,"stop",H,g),Ee=zc(re,"stop",V=>{nD(V.target)||Se(!1),T&&T(V)},!1),Me=Sd(V=>{Z.current||(Z.current=V.currentTarget),nD(V.target)&&(Se(!0),R&&R(V)),w&&w(V)}),X=()=>{const V=Z.current;return u&&u!=="button"&&!(V.tagName==="A"&&V.href)},Oe=Sd(V=>{y&&!V.repeat&&ae&&V.key===" "&&re.stop(V,()=>{re.start(V)}),V.target===V.currentTarget&&X()&&V.key===" "&&V.preventDefault(),L&&L(V),V.target===V.currentTarget&&X()&&V.key==="Enter"&&!h&&(V.preventDefault(),A&&A(V))}),Ve=Sd(V=>{y&&V.key===" "&&ae&&!V.defaultPrevented&&re.stop(V,()=>{re.pulsate(V)}),N&&N(V),A&&V.target===V.currentTarget&&X()&&V.key===" "&&!V.defaultPrevented&&A(V)});let He=u;He==="button"&&(Y.href||Y.to)&&(He=x);const Le={};He==="button"?(Le.type=z===void 0?"button":z,Le.disabled=h):(!Y.href&&!Y.to&&(Le.role="button"),h&&(Le["aria-disabled"]=h));const rt=va(t,Z),ke={...i,centerRipple:r,component:u,disabled:h,disableRipple:m,disableTouchRipple:g,focusRipple:y,tabIndex:$,focusVisible:ae},K=rV(ke);return _e.jsxs(aV,{as:He,className:bn(K.root,l),ownerState:ke,onBlur:Ee,onClick:A,onContextMenu:Te,onFocus:Me,onKeyDown:Oe,onKeyUp:Ve,onMouseDown:ce,onMouseLeave:be,onMouseUp:et,onDragLeave:Xe,onTouchEnd:Q,onTouchMove:oe,onTouchStart:W,ref:rt,tabIndex:h?-1:$,type:z,...Le,...Y,children:[a,Ae?_e.jsx(nV,{ref:j,center:r,...se}):null]})});function zc(n,e,t,i=!1){return Sd(s=>(t&&t(s),i||n[e](s),!0))}function lV(n){return typeof n.main=="string"}function cV(n,e=[]){if(!lV(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function zd(n=[]){return([,e])=>e&&cV(e,n)}function uV(n){return Li("MuiCircularProgress",n)}Ti("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hf=44,DT=wv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,IT=wv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,fV=typeof DT!="string"?KC`
        animation: ${DT} 1.4s linear infinite;
      `:null,hV=typeof IT!="string"?KC`
        animation: ${IT} 1.4s ease-in-out infinite;
      `:null,dV=n=>{const{classes:e,variant:t,color:i,disableShrink:s}=n,r={root:["root",t,`color${hn(i)}`],svg:["svg"],circle:["circle",`circle${hn(t)}`,s&&"circleDisableShrink"]};return Pi(r,uV,e)},pV=Gt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${hn(t.color)}`]]}})(gs(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:fV||{animation:`${DT} 1.4s linear infinite`}},...Object.entries(n.palette).filter(zd()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),mV=Gt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),gV=Gt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${hn(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(gs(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:hV||{animation:`${IT} 1.4s ease-in-out infinite`}}]}))),yV=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiCircularProgress"}),{className:s,color:r="primary",disableShrink:a=!1,size:l=40,style:u,thickness:h=3.6,value:m=0,variant:g="indeterminate",...y}=i,b={...i,color:r,disableShrink:a,size:l,thickness:h,value:m,variant:g},x=dV(b),T={},A={},S={};if(g==="determinate"){const B=2*Math.PI*((hf-h)/2);T.strokeDasharray=B.toFixed(3),S["aria-valuenow"]=Math.round(m),T.strokeDashoffset=`${((100-m)/100*B).toFixed(3)}px`,A.transform="rotate(-90deg)"}return _e.jsx(pV,{className:bn(x.root,s),style:{width:l,height:l,...A,...u},ownerState:b,ref:t,role:"progressbar",...S,...y,children:_e.jsx(mV,{className:x.svg,ownerState:b,viewBox:`${hf/2} ${hf/2} ${hf} ${hf}`,children:_e.jsx(gV,{className:x.circle,style:T,ownerState:b,cx:hf,cy:hf,r:(hf-h)/2,fill:"none",strokeWidth:h})})})});function vV(n){return Li("MuiTypography",n)}Ti("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _V={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},bV=M8(),xV=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:s,variant:r,classes:a}=n,l={root:["root",r,n.align!=="inherit"&&`align${hn(e)}`,t&&"gutterBottom",i&&"noWrap",s&&"paragraph"]};return Pi(l,vV,a)},SV=Gt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${hn(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(gs(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(zd()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${hn(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),iD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ka=te.forwardRef(function(e,t){const{color:i,...s}=Ji({props:e,name:"MuiTypography"}),r=!_V[i],a=bV({...s,...r&&{color:i}}),{align:l="inherit",className:u,component:h,gutterBottom:m=!1,noWrap:g=!1,paragraph:y=!1,variant:b="body1",variantMapping:x=iD,...T}=a,A={...a,align:l,color:i,className:u,component:h,gutterBottom:m,noWrap:g,paragraph:y,variant:b,variantMapping:x},S=h||(y?"p":x[b]||iD[b])||"span",B=xV(A);return _e.jsx(SV,{as:S,ref:t,className:bn(B.root,u),...T,ownerState:A,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...T.style}})});function AV(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:s=!1,...r}=n,a=s?{}:SL(t,i),{props:l,internalRef:u}=EL({...r,externalSlotProps:a}),h=va(u,a==null?void 0:a.ref,(g=n.additionalProps)==null?void 0:g.ref);return xL(e,{...l,ref:h},i)}function Iv(n){var e;return parseInt(te.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function EV(n){return typeof n=="function"?n():n}const MV=te.forwardRef(function(e,t){const{children:i,container:s,disablePortal:r=!1}=e,[a,l]=te.useState(null),u=va(te.isValidElement(i)?Iv(i):null,t);if(Rd(()=>{r||l(EV(s)||document.body)},[s,r]),Rd(()=>{if(a&&!r)return KB(t,a),()=>{KB(t,null)}},[t,a,r]),r){if(te.isValidElement(i)){const h={ref:u};return te.cloneElement(i,h)}return i}return a&&yL.createPortal(i,a)});function Lb(n){return parseInt(n,10)||0}const TV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function CV(n){for(const e in n)return!1;return!0}function sD(n){return CV(n)||n.outerHeightStyle===0&&!n.overflowing}const wV=te.forwardRef(function(e,t){const{onChange:i,maxRows:s,minRows:r=1,style:a,value:l,...u}=e,{current:h}=te.useRef(l!=null),m=te.useRef(null),g=va(t,m),y=te.useRef(null),b=te.useRef(null),x=te.useCallback(()=>{const w=m.current,R=b.current;if(!w||!R)return;const N=lu(w).getComputedStyle(w);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=w.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const U=N.boxSizing,P=Lb(N.paddingBottom)+Lb(N.paddingTop),O=Lb(N.borderBottomWidth)+Lb(N.borderTopWidth),M=R.scrollHeight;R.value="x";const H=R.scrollHeight;let k=M;r&&(k=Math.max(Number(r)*H,k)),s&&(k=Math.min(Number(s)*H,k)),k=Math.max(k,H);const $=k+(U==="border-box"?P+O:0),se=Math.abs(k-M)<=1;return{outerHeightStyle:$,overflowing:se}},[s,r,e.placeholder]),T=Sd(()=>{const w=m.current,R=x();if(!w||!R||sD(R))return!1;const L=R.outerHeightStyle;return y.current!=null&&y.current!==L}),A=te.useCallback(()=>{const w=m.current,R=x();if(!w||!R||sD(R))return;const L=R.outerHeightStyle;y.current!==L&&(y.current=L,w.style.height=`${L}px`),w.style.overflow=R.overflowing?"hidden":""},[x]),S=te.useRef(-1);Rd(()=>{const w=pL(A),R=m==null?void 0:m.current;if(!R)return;const L=lu(R);L.addEventListener("resize",w);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{T()&&(N.unobserve(R),cancelAnimationFrame(S.current),A(),S.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{w.clear(),cancelAnimationFrame(S.current),L.removeEventListener("resize",w),N&&N.disconnect()}},[x,A,T]),Rd(()=>{A()});const B=w=>{h||A();const R=w.target,L=R.value.length,N=R.value.endsWith(`
`),U=R.selectionStart===L;N&&U&&R.setSelectionRange(L,L),i&&i(w)};return _e.jsxs(te.Fragment,{children:[_e.jsx("textarea",{value:l,onChange:B,ref:g,rows:r,style:a,...u}),_e.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:{...TV.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function NT(n){return typeof n=="string"}function ug({props:n,states:e,muiFormControl:t}){return e.reduce((i,s)=>(i[s]=n[s],t&&typeof n[s]>"u"&&(i[s]=t[s]),i),{})}const hw=te.createContext(void 0);function fg(){return te.useContext(hw)}function rD(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function cS(n,e=!1){return n&&(rD(n.value)&&n.value!==""||e&&rD(n.defaultValue)&&n.defaultValue!=="")}function RV(n){return n.startAdornment}function BV(n){return Li("MuiInputBase",n)}const Vm=Ti("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var aD;const UA=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${hn(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},FA=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},DV=n=>{const{classes:e,color:t,disabled:i,error:s,endAdornment:r,focused:a,formControl:l,fullWidth:u,hiddenLabel:h,multiline:m,readOnly:g,size:y,startAdornment:b,type:x}=n,T={root:["root",`color${hn(t)}`,i&&"disabled",s&&"error",u&&"fullWidth",a&&"focused",l&&"formControl",y&&y!=="medium"&&`size${hn(y)}`,m&&"multiline",b&&"adornedStart",r&&"adornedEnd",h&&"hiddenLabel",g&&"readOnly"],input:["input",i&&"disabled",x==="search"&&"inputTypeSearch",m&&"inputMultiline",y==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",b&&"inputAdornedStart",r&&"inputAdornedEnd",g&&"readOnly"]};return Pi(T,BV,e)},HA=Gt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:UA})(gs(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Vm.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),zA=Gt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:FA})(gs(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Vm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Vm.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),oD=E8({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),dw=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:r,autoFocus:a,className:l,color:u,components:h={},componentsProps:m={},defaultValue:g,disabled:y,disableInjectingGlobalStyles:b,endAdornment:x,error:T,fullWidth:A=!1,id:S,inputComponent:B="input",inputProps:w={},inputRef:R,margin:L,maxRows:N,minRows:U,multiline:P=!1,name:O,onBlur:M,onChange:H,onClick:k,onFocus:$,onKeyDown:se,onKeyUp:ne,placeholder:z,readOnly:Y,renderSuffix:Z,rows:re,size:j,slotProps:ae={},slots:Se={},startAdornment:Ae,type:ce="text",value:Te,...Xe}=i,et=w.value!=null?w.value:Te,{current:be}=te.useRef(et!=null),W=te.useRef(),Q=te.useCallback(We=>{},[]),oe=va(W,R,w.ref,Q),[Ee,Me]=te.useState(!1),X=fg(),Oe=ug({props:i,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=X?X.focused:Ee,te.useEffect(()=>{!X&&y&&Ee&&(Me(!1),M&&M())},[X,y,Ee,M]);const Ve=X&&X.onFilled,He=X&&X.onEmpty,Le=te.useCallback(We=>{cS(We)?Ve&&Ve():He&&He()},[Ve,He]);Rd(()=>{be&&Le({value:et})},[et,Le,be]);const rt=We=>{$&&$(We),w.onFocus&&w.onFocus(We),X&&X.onFocus?X.onFocus(We):Me(!0)},ke=We=>{M&&M(We),w.onBlur&&w.onBlur(We),X&&X.onBlur?X.onBlur(We):Me(!1)},K=(We,...ht)=>{if(!be){const xt=We.target||W.current;if(xt==null)throw new Error(au(1));Le({value:xt.value})}w.onChange&&w.onChange(We,...ht),H&&H(We,...ht)};te.useEffect(()=>{Le(W.current)},[]);const V=We=>{W.current&&We.currentTarget===We.target&&W.current.focus(),k&&k(We)};let ge=B,Re=w;P&&ge==="input"&&(re?Re={type:void 0,minRows:re,maxRows:re,...Re}:Re={type:void 0,maxRows:N,minRows:U,...Re},ge=wV);const Ze=We=>{Le(We.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};te.useEffect(()=>{X&&X.setAdornedStart(!!Ae)},[X,Ae]);const ze={...i,color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:x,error:Oe.error,focused:Oe.focused,formControl:X,fullWidth:A,hiddenLabel:Oe.hiddenLabel,multiline:P,size:Oe.size,startAdornment:Ae,type:ce},ct=DV(ze),it=Se.root||h.Root||HA,mt=ae.root||m.root||{},Tt=Se.input||h.Input||zA;return Re={...Re,...ae.input??m.input},_e.jsxs(te.Fragment,{children:[!b&&typeof oD=="function"&&(aD||(aD=_e.jsx(oD,{}))),_e.jsxs(it,{...mt,ref:t,onClick:V,...Xe,...!NT(it)&&{ownerState:{...ze,...mt.ownerState}},className:bn(ct.root,mt.className,l,Y&&"MuiInputBase-readOnly"),children:[Ae,_e.jsx(hw.Provider,{value:null,children:_e.jsx(Tt,{"aria-invalid":Oe.error,"aria-describedby":s,autoComplete:r,autoFocus:a,defaultValue:g,disabled:Oe.disabled,id:S,onAnimationStart:Ze,name:O,placeholder:z,readOnly:Y,required:Oe.required,rows:re,value:et,onKeyDown:se,onKeyUp:ne,type:ce,...Re,...!NT(Tt)&&{as:ge,ownerState:{...ze,...Re.ownerState}},ref:oe,className:bn(ct.input,Re.className,Y&&"MuiInputBase-readOnly"),onBlur:ke,onChange:K,onFocus:rt})}),x,Z?Z({...Oe,startAdornment:Ae}):null]})]})});function IV(n){return Li("MuiInput",n)}const Xy={...Vm,...Ti("MuiInput",["root","underline","input"])};function NV(n){return Li("MuiOutlinedInput",n)}const $l={...Vm,...Ti("MuiOutlinedInput",["root","notchedOutline","input"])};function OV(n){return Li("MuiFilledInput",n)}const Fh={...Vm,...Ti("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},LV=R8(_e.jsx("path",{d:"M7 10l5 5 5-5z"})),PV={entering:{opacity:1},entered:{opacity:1}},UV=te.forwardRef(function(e,t){const i=LA(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:a=!0,children:l,easing:u,in:h,onEnter:m,onEntered:g,onEntering:y,onExit:b,onExited:x,onExiting:T,style:A,timeout:S=s,TransitionComponent:B=pc,...w}=e,R=te.useRef(null),L=va(R,Iv(l),t),N=se=>ne=>{if(se){const z=R.current;ne===void 0?se(z):se(z,ne)}},U=N(y),P=N((se,ne)=>{bL(se);const z=oS({style:A,timeout:S,easing:u},{mode:"enter"});se.style.webkitTransition=i.transitions.create("opacity",z),se.style.transition=i.transitions.create("opacity",z),m&&m(se,ne)}),O=N(g),M=N(T),H=N(se=>{const ne=oS({style:A,timeout:S,easing:u},{mode:"exit"});se.style.webkitTransition=i.transitions.create("opacity",ne),se.style.transition=i.transitions.create("opacity",ne),b&&b(se)}),k=N(x),$=se=>{r&&r(R.current,se)};return _e.jsx(B,{appear:a,in:h,nodeRef:R,onEnter:P,onEntered:O,onEntering:U,onExit:H,onExited:k,onExiting:M,addEndListener:$,timeout:S,...w,children:(se,{ownerState:ne,...z})=>te.cloneElement(l,{style:{opacity:0,visibility:se==="exited"&&!h?"hidden":void 0,...PV[se],...A,...l.props.style},ref:L,...z})})});function FV(n){return Li("MuiBackdrop",n)}Ti("MuiBackdrop",["root","invisible"]);const HV=n=>{const{classes:e,invisible:t}=n;return Pi({root:["root",t&&"invisible"]},FV,e)},zV=Gt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),GV=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiBackdrop"}),{children:s,className:r,component:a="div",invisible:l=!1,open:u,components:h={},componentsProps:m={},slotProps:g={},slots:y={},TransitionComponent:b,transitionDuration:x,...T}=i,A={...i,component:a,invisible:l},S=HV(A),B={transition:b,root:h.Root,...y},w={...m,...g},R={slots:B,slotProps:w},[L,N]=Sr("root",{elementType:zV,externalForwardedProps:R,className:bn(S.root,r),ownerState:A}),[U,P]=Sr("transition",{elementType:UV,externalForwardedProps:R,ownerState:A});return _e.jsx(U,{in:u,timeout:x,...T,...P,children:_e.jsx(L,{"aria-hidden":!0,...N,classes:S,ref:t,children:s})})}),VV=Ti("MuiBox",["root"]),kV=aw(),Vs=x6({themeId:AA,defaultTheme:kV,defaultClassName:VV.root,generateClassName:iL.generate});function XV(n){return Li("MuiButton",n)}const Hh=Ti("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),jV=te.createContext({}),WV=te.createContext(void 0),YV=n=>{const{color:e,disableElevation:t,fullWidth:i,size:s,variant:r,loading:a,loadingPosition:l,classes:u}=n,h={root:["root",a&&"loading",r,`${r}${hn(e)}`,`size${hn(s)}`,`${r}Size${hn(s)}`,`color${hn(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${hn(l)}`],startIcon:["icon","startIcon",`iconSize${hn(s)}`],endIcon:["icon","endIcon",`iconSize${hn(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},m=Pi(h,XV,u);return{...u,...m}},ML=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],qV=Gt(oV,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${hn(t.color)}`],e[`size${hn(t.size)}`],e[`${t.variant}Size${hn(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(gs(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Hh.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Hh.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Hh.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Hh.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(zd()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:Af(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Af(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Af(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Af(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Af(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Hh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Hh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Hh.loading}`]:{color:"transparent"}}}]}})),KV=Gt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${hn(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ML]})),JV=Gt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${hn(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ML]})),QV=Gt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),lD=Gt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),pw=te.forwardRef(function(e,t){const i=te.useContext(jV),s=te.useContext(WV),r=rS(i,e),a=Ji({props:r,name:"MuiButton"}),{children:l,color:u="primary",component:h="button",className:m,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:b=!1,endIcon:x,focusVisibleClassName:T,fullWidth:A=!1,id:S,loading:B=null,loadingIndicator:w,loadingPosition:R="center",size:L="medium",startIcon:N,type:U,variant:P="text",...O}=a,M=lw(S),H=w??_e.jsx(yV,{"aria-labelledby":M,color:"inherit",size:16}),k={...a,color:u,component:h,disabled:g,disableElevation:y,disableFocusRipple:b,fullWidth:A,loading:B,loadingIndicator:H,loadingPosition:R,size:L,type:U,variant:P},$=YV(k),se=(N||B&&R==="start")&&_e.jsx(KV,{className:$.startIcon,ownerState:k,children:N||_e.jsx(lD,{className:$.loadingIconPlaceholder,ownerState:k})}),ne=(x||B&&R==="end")&&_e.jsx(JV,{className:$.endIcon,ownerState:k,children:x||_e.jsx(lD,{className:$.loadingIconPlaceholder,ownerState:k})}),z=s||"",Y=typeof B=="boolean"?_e.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:B&&_e.jsx(QV,{className:$.loadingIndicator,ownerState:k,children:H})}):null;return _e.jsxs(qV,{ownerState:k,className:bn(i.className,$.root,m,z),component:h,disabled:g||B,focusRipple:!b,focusVisibleClassName:bn($.focusVisible,T),ref:t,type:U,id:B?M:S,...O,classes:$,children:[se,R!=="end"&&Y,l,R==="end"&&Y,ne]})});function TL(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function ZV(n){const e=hl(n);return e.body===n?lu(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function _0(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function cD(n){return parseInt(lu(n).getComputedStyle(n).paddingRight,10)||0}function $V(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function uD(n,e,t,i,s){const r=[e,t,...i];[].forEach.call(n.children,a=>{const l=!r.includes(a),u=!$V(a);l&&u&&_0(a,s)})}function P1(n,e){let t=-1;return n.some((i,s)=>e(i)?(t=s,!0):!1),t}function e9(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(ZV(i)){const a=TL(lu(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${cD(i)+a}px`;const l=hl(i).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${cD(u)+a}px`})}let r;if(i.parentNode instanceof DocumentFragment)r=hl(i).body;else{const a=i.parentElement,l=lu(i);r=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{t.forEach(({value:r,el:a,property:l})=>{r?a.style.setProperty(l,r):a.style.removeProperty(l)})}}function t9(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class n9{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&_0(e.modalRef,!1);const s=t9(t);uD(t,e.mount,e.modalRef,s,!0);const r=P1(this.containers,a=>a.container===t);return r!==-1?(this.containers[r].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:s}),i)}mount(e,t){const i=P1(this.containers,r=>r.modals.includes(e)),s=this.containers[i];s.restore||(s.restore=e9(s,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const s=P1(this.containers,a=>a.modals.includes(e)),r=this.containers[s];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(i,1),r.modals.length===0)r.restore&&r.restore(),e.modalRef&&_0(e.modalRef,t),uD(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=r.modals[r.modals.length-1];a.modalRef&&_0(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const i9=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function s9(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function r9(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function a9(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||r9(n))}function o9(n){const e=[],t=[];return Array.from(n.querySelectorAll(i9)).forEach((i,s)=>{const r=s9(i);r===-1||!a9(i)||(r===0?e.push(i):t.push({documentOrder:s,tabIndex:r,node:i}))}),t.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(e)}function l9(){return!0}function c9(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:r=o9,isEnabled:a=l9,open:l}=n,u=te.useRef(!1),h=te.useRef(null),m=te.useRef(null),g=te.useRef(null),y=te.useRef(null),b=te.useRef(!1),x=te.useRef(null),T=va(Iv(e),x),A=te.useRef(null);te.useEffect(()=>{!l||!x.current||(b.current=!t)},[t,l]),te.useEffect(()=>{if(!l||!x.current)return;const w=hl(x.current);return x.current.contains(w.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),b.current&&x.current.focus()),()=>{s||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[l]),te.useEffect(()=>{if(!l||!x.current)return;const w=hl(x.current),R=U=>{A.current=U,!(i||!a()||U.key!=="Tab")&&w.activeElement===x.current&&U.shiftKey&&(u.current=!0,m.current&&m.current.focus())},L=()=>{var O,M;const U=x.current;if(U===null)return;if(!w.hasFocus()||!a()||u.current){u.current=!1;return}if(U.contains(w.activeElement)||i&&w.activeElement!==h.current&&w.activeElement!==m.current)return;if(w.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!b.current)return;let P=[];if((w.activeElement===h.current||w.activeElement===m.current)&&(P=r(x.current)),P.length>0){const H=!!((O=A.current)!=null&&O.shiftKey&&((M=A.current)==null?void 0:M.key)==="Tab"),k=P[0],$=P[P.length-1];typeof k!="string"&&typeof $!="string"&&(H?$.focus():k.focus())}else U.focus()};w.addEventListener("focusin",L),w.addEventListener("keydown",R,!0);const N=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(N),w.removeEventListener("focusin",L),w.removeEventListener("keydown",R,!0)}},[t,i,s,a,l,r]);const S=w=>{g.current===null&&(g.current=w.relatedTarget),b.current=!0,y.current=w.target;const R=e.props.onFocus;R&&R(w)},B=w=>{g.current===null&&(g.current=w.relatedTarget),b.current=!0};return _e.jsxs(te.Fragment,{children:[_e.jsx("div",{tabIndex:l?0:-1,onFocus:B,ref:h,"data-testid":"sentinelStart"}),te.cloneElement(e,{ref:T,onFocus:S}),_e.jsx("div",{tabIndex:l?0:-1,onFocus:B,ref:m,"data-testid":"sentinelEnd"})]})}function u9(n){return typeof n=="function"?n():n}function f9(n){return n?n.props.hasOwnProperty("in"):!1}const fD=()=>{},Pb=new n9;function h9(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:a,children:l,onClose:u,open:h,rootRef:m}=n,g=te.useRef({}),y=te.useRef(null),b=te.useRef(null),x=va(b,m),[T,A]=te.useState(!h),S=f9(l);let B=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(B=!1);const w=()=>hl(y.current),R=()=>(g.current.modalRef=b.current,g.current.mount=y.current,g.current),L=()=>{Pb.mount(R(),{disableScrollLock:i}),b.current&&(b.current.scrollTop=0)},N=Sd(()=>{const ne=u9(e)||w().body;Pb.add(R(),ne),b.current&&L()}),U=()=>Pb.isTopModal(R()),P=Sd(ne=>{y.current=ne,ne&&(h&&U()?L():b.current&&_0(b.current,B))}),O=te.useCallback(()=>{Pb.remove(R(),B)},[B]);te.useEffect(()=>()=>{O()},[O]),te.useEffect(()=>{h?N():(!S||!s)&&O()},[h,O,S,s,N]);const M=ne=>z=>{var Y;(Y=ne.onKeyDown)==null||Y.call(ne,z),!(z.key!=="Escape"||z.which===229||!U())&&(t||(z.stopPropagation(),u&&u(z,"escapeKeyDown")))},H=ne=>z=>{var Y;(Y=ne.onClick)==null||Y.call(ne,z),z.target===z.currentTarget&&u&&u(z,"backdropClick")};return{getRootProps:(ne={})=>{const z=AL(n);delete z.onTransitionEnter,delete z.onTransitionExited;const Y={...z,...ne};return{role:"presentation",...Y,onKeyDown:M(Y),ref:x}},getBackdropProps:(ne={})=>{const z=ne;return{"aria-hidden":!0,...z,onClick:H(z),open:h}},getTransitionProps:()=>{const ne=()=>{A(!1),r&&r()},z=()=>{A(!0),a&&a(),s&&O()};return{onEnter:qB(ne,(l==null?void 0:l.props.onEnter)??fD),onExited:qB(z,(l==null?void 0:l.props.onExited)??fD)}},rootRef:x,portalRef:P,isTopModal:U,exited:T,hasTransition:S}}function d9(n){return Li("MuiModal",n)}Ti("MuiModal",["root","hidden","backdrop"]);const p9=n=>{const{open:e,exited:t,classes:i}=n;return Pi({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},d9,i)},m9=Gt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(gs(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),g9=Gt(GV,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),y9=te.forwardRef(function(e,t){const i=Ji({name:"MuiModal",props:e}),{BackdropComponent:s=g9,BackdropProps:r,classes:a,className:l,closeAfterTransition:u=!1,children:h,container:m,component:g,components:y={},componentsProps:b={},disableAutoFocus:x=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:A=!1,disablePortal:S=!1,disableRestoreFocus:B=!1,disableScrollLock:w=!1,hideBackdrop:R=!1,keepMounted:L=!1,onClose:N,onTransitionEnter:U,onTransitionExited:P,open:O,slotProps:M={},slots:H={},theme:k,...$}=i,se={...i,closeAfterTransition:u,disableAutoFocus:x,disableEnforceFocus:T,disableEscapeKeyDown:A,disablePortal:S,disableRestoreFocus:B,disableScrollLock:w,hideBackdrop:R,keepMounted:L},{getRootProps:ne,getBackdropProps:z,getTransitionProps:Y,portalRef:Z,isTopModal:re,exited:j,hasTransition:ae}=h9({...se,rootRef:t}),Se={...se,exited:j},Ae=p9(Se),ce={};if(h.props.tabIndex===void 0&&(ce.tabIndex="-1"),ae){const{onEnter:Q,onExited:oe}=Y();ce.onEnter=Q,ce.onExited=oe}const Te={slots:{root:y.Root,backdrop:y.Backdrop,...H},slotProps:{...b,...M}},[Xe,et]=Sr("root",{ref:t,elementType:m9,externalForwardedProps:{...Te,...$,component:g},getSlotProps:ne,ownerState:Se,className:bn(l,Ae==null?void 0:Ae.root,!Se.open&&Se.exited&&(Ae==null?void 0:Ae.hidden))}),[be,W]=Sr("backdrop",{ref:r==null?void 0:r.ref,elementType:s,externalForwardedProps:Te,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:Q=>z({...Q,onClick:oe=>{Q!=null&&Q.onClick&&Q.onClick(oe)}}),className:bn(r==null?void 0:r.className,Ae==null?void 0:Ae.backdrop),ownerState:Se});return!L&&!O&&(!ae||j)?null:_e.jsx(MV,{ref:Z,container:m,disablePortal:S,children:_e.jsxs(Xe,{...et,children:[!R&&s?_e.jsx(be,{...W}):null,_e.jsx(c9,{disableEnforceFocus:T,disableAutoFocus:x,disableRestoreFocus:B,isEnabled:re,open:O,children:te.cloneElement(h,ce)})]})})}),v9=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:s,size:r,hiddenLabel:a,multiline:l}=n,u={root:["root",!t&&"underline",i&&"adornedStart",s&&"adornedEnd",r==="small"&&`size${hn(r)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},h=Pi(u,OV,e);return{...e,...h}},_9=Gt(HA,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...UA(n,e),!t.disableUnderline&&e.underline]}})(gs(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Fh.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Fh.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fh.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fh.disabled}, .${Fh.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Fh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(zd()).map(([a])=>{var l;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[a])==null?void 0:l.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),b9=Gt(zA,{name:"MuiFilledInput",slot:"Input",overridesResolver:FA})(gs(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),mw=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:r={},componentsProps:a,fullWidth:l=!1,hiddenLabel:u,inputComponent:h="input",multiline:m=!1,slotProps:g,slots:y={},type:b="text",...x}=i,T={...i,disableUnderline:s,fullWidth:l,inputComponent:h,multiline:m,type:b},A=v9(i),S={root:{ownerState:T},input:{ownerState:T}},B=g??a?Tr(S,g??a):S,w=y.root??r.Root??_9,R=y.input??r.Input??b9;return _e.jsx(dw,{slots:{root:w,input:R},slotProps:B,fullWidth:l,inputComponent:h,multiline:m,ref:t,type:b,...x,classes:A})});mw.muiName="Input";function x9(n){return Li("MuiFormControl",n)}Ti("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const S9=n=>{const{classes:e,margin:t,fullWidth:i}=n,s={root:["root",t!=="none"&&`margin${hn(t)}`,i&&"fullWidth"]};return Pi(s,x9,e)},A9=Gt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${hn(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),E9=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiFormControl"}),{children:s,className:r,color:a="primary",component:l="div",disabled:u=!1,error:h=!1,focused:m,fullWidth:g=!1,hiddenLabel:y=!1,margin:b="none",required:x=!1,size:T="medium",variant:A="outlined",...S}=i,B={...i,color:a,component:l,disabled:u,error:h,fullWidth:g,hiddenLabel:y,margin:b,required:x,size:T,variant:A},w=S9(B),[R,L]=te.useState(()=>{let ne=!1;return s&&te.Children.forEach(s,z=>{if(!O1(z,["Input","Select"]))return;const Y=O1(z,["Select"])?z.props.input:z;Y&&RV(Y.props)&&(ne=!0)}),ne}),[N,U]=te.useState(()=>{let ne=!1;return s&&te.Children.forEach(s,z=>{O1(z,["Input","Select"])&&(cS(z.props,!0)||cS(z.props.inputProps,!0))&&(ne=!0)}),ne}),[P,O]=te.useState(!1);u&&P&&O(!1);const M=m!==void 0&&!u?m:P;let H;te.useRef(!1);const k=te.useCallback(()=>{U(!0)},[]),$=te.useCallback(()=>{U(!1)},[]),se=te.useMemo(()=>({adornedStart:R,setAdornedStart:L,color:a,disabled:u,error:h,filled:N,focused:M,fullWidth:g,hiddenLabel:y,size:T,onBlur:()=>{O(!1)},onFocus:()=>{O(!0)},onEmpty:$,onFilled:k,registerEffect:H,required:x,variant:A}),[R,a,u,h,N,M,g,y,H,$,k,x,T,A]);return _e.jsx(hw.Provider,{value:se,children:_e.jsx(A9,{as:l,ownerState:B,className:bn(w.root,r),ref:t,...S,children:s})})});function M9(n){return Li("MuiFormHelperText",n)}const hD=Ti("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var dD;const T9=n=>{const{classes:e,contained:t,size:i,disabled:s,error:r,filled:a,focused:l,required:u}=n,h={root:["root",s&&"disabled",r&&"error",i&&`size${hn(i)}`,t&&"contained",l&&"focused",a&&"filled",u&&"required"]};return Pi(h,M9,e)},C9=Gt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${hn(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(gs(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${hD.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${hD.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),w9=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiFormHelperText"}),{children:s,className:r,component:a="p",disabled:l,error:u,filled:h,focused:m,margin:g,required:y,variant:b,...x}=i,T=fg(),A=ug({props:i,muiFormControl:T,states:["variant","size","disabled","error","filled","focused","required"]}),S={...i,component:a,contained:A.variant==="filled"||A.variant==="outlined",variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required};delete S.ownerState;const B=T9(S);return _e.jsx(C9,{as:a,className:bn(B.root,r),ref:t,...x,ownerState:S,children:s===" "?dD||(dD=_e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function R9(n){return Li("MuiFormLabel",n)}const b0=Ti("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),B9=n=>{const{classes:e,color:t,focused:i,disabled:s,error:r,filled:a,required:l}=n,u={root:["root",`color${hn(t)}`,s&&"disabled",r&&"error",a&&"filled",i&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return Pi(u,R9,e)},D9=Gt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(gs(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(zd()).map(([e])=>({props:{color:e},style:{[`&.${b0.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${b0.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${b0.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),I9=Gt("span",{name:"MuiFormLabel",slot:"Asterisk"})(gs(({theme:n})=>({[`&.${b0.error}`]:{color:(n.vars||n).palette.error.main}}))),N9=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiFormLabel"}),{children:s,className:r,color:a,component:l="label",disabled:u,error:h,filled:m,focused:g,required:y,...b}=i,x=fg(),T=ug({props:i,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),A={...i,color:T.color||"primary",component:l,disabled:T.disabled,error:T.error,filled:T.filled,focused:T.focused,required:T.required},S=B9(A);return _e.jsxs(D9,{as:l,ownerState:A,className:bn(S.root,r),ref:t,...b,children:[s,T.required&&_e.jsxs(I9,{ownerState:A,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]})});function OT(n){return`scale(${n}, ${n**2})`}const O9={entering:{opacity:1,transform:OT(1)},entered:{opacity:1,transform:"none"}},U1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),LT=te.forwardRef(function(e,t){const{addEndListener:i,appear:s=!0,children:r,easing:a,in:l,onEnter:u,onEntered:h,onEntering:m,onExit:g,onExited:y,onExiting:b,style:x,timeout:T="auto",TransitionComponent:A=pc,...S}=e,B=_L(),w=te.useRef(),R=LA(),L=te.useRef(null),N=va(L,Iv(r),t),U=ne=>z=>{if(ne){const Y=L.current;z===void 0?ne(Y):ne(Y,z)}},P=U(m),O=U((ne,z)=>{bL(ne);const{duration:Y,delay:Z,easing:re}=oS({style:x,timeout:T,easing:a},{mode:"enter"});let j;T==="auto"?(j=R.transitions.getAutoHeightDuration(ne.clientHeight),w.current=j):j=Y,ne.style.transition=[R.transitions.create("opacity",{duration:j,delay:Z}),R.transitions.create("transform",{duration:U1?j:j*.666,delay:Z,easing:re})].join(","),u&&u(ne,z)}),M=U(h),H=U(b),k=U(ne=>{const{duration:z,delay:Y,easing:Z}=oS({style:x,timeout:T,easing:a},{mode:"exit"});let re;T==="auto"?(re=R.transitions.getAutoHeightDuration(ne.clientHeight),w.current=re):re=z,ne.style.transition=[R.transitions.create("opacity",{duration:re,delay:Y}),R.transitions.create("transform",{duration:U1?re:re*.666,delay:U1?Y:Y||re*.333,easing:Z})].join(","),ne.style.opacity=0,ne.style.transform=OT(.75),g&&g(ne)}),$=U(y),se=ne=>{T==="auto"&&B.start(w.current||0,ne),i&&i(L.current,ne)};return _e.jsx(A,{appear:s,in:l,nodeRef:L,onEnter:O,onEntered:M,onEntering:P,onExit:k,onExited:$,onExiting:H,addEndListener:se,timeout:T==="auto"?null:T,...S,children:(ne,{ownerState:z,...Y})=>te.cloneElement(r,{style:{opacity:0,transform:OT(.75),visibility:ne==="exited"&&!l?"hidden":void 0,...O9[ne],...x,...r.props.style},ref:N,...Y})})});LT&&(LT.muiSupportAuto=!0);const L9=n=>{const{classes:e,disableUnderline:t}=n,s=Pi({root:["root",!t&&"underline"],input:["input"]},IV,e);return{...e,...s}},P9=Gt(HA,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...UA(n,e),!t.disableUnderline&&e.underline]}})(gs(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xy.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xy.disabled}, .${Xy.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Xy.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(zd()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),U9=Gt(zA,{name:"MuiInput",slot:"Input",overridesResolver:FA})({}),gw=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:r={},componentsProps:a,fullWidth:l=!1,inputComponent:u="input",multiline:h=!1,slotProps:m,slots:g={},type:y="text",...b}=i,x=L9(i),A={root:{ownerState:{disableUnderline:s}}},S=m??a?Tr(m??a,A):A,B=g.root??r.Root??P9,w=g.input??r.Input??U9;return _e.jsx(dw,{slots:{root:B,input:w},slotProps:S,fullWidth:l,inputComponent:u,multiline:h,ref:t,type:y,...b,classes:x})});gw.muiName="Input";function F9(n){return Li("MuiInputLabel",n)}Ti("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const H9=n=>{const{classes:e,formControl:t,size:i,shrink:s,disableAnimation:r,variant:a,required:l}=n,u={root:["root",t&&"formControl",!r&&"animated",s&&"shrink",i&&i!=="medium"&&`size${hn(i)}`,a],asterisk:[l&&"asterisk"]},h=Pi(u,F9,e);return{...e,...h}},z9=Gt(N9,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${b0.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(gs(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),G9=te.forwardRef(function(e,t){const i=Ji({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:r,shrink:a,variant:l,className:u,...h}=i,m=fg();let g=a;typeof g>"u"&&m&&(g=m.filled||m.focused||m.adornedStart);const y=ug({props:i,muiFormControl:m,states:["size","variant","required","focused"]}),b={...i,disableAnimation:s,formControl:m,shrink:g,size:y.size,variant:y.variant,required:y.required,focused:y.focused},x=H9(b);return _e.jsx(z9,{"data-shrink":g,ref:t,className:bn(x.root,u),...h,ownerState:b,classes:x})}),V9=te.createContext({});function k9(n){return Li("MuiList",n)}Ti("MuiList",["root","padding","dense","subheader"]);const X9=n=>{const{classes:e,disablePadding:t,dense:i,subheader:s}=n;return Pi({root:["root",!t&&"padding",i&&"dense",s&&"subheader"]},k9,e)},j9=Gt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),W9=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiList"}),{children:s,className:r,component:a="ul",dense:l=!1,disablePadding:u=!1,subheader:h,...m}=i,g=te.useMemo(()=>({dense:l}),[l]),y={...i,component:a,dense:l,disablePadding:u},b=X9(y);return _e.jsx(V9.Provider,{value:g,children:_e.jsxs(j9,{as:a,className:bn(b.root,r),ref:t,ownerState:y,...m,children:[h,s]})})});function F1(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function pD(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function CL(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function jy(n,e,t,i,s,r){let a=!1,l=s(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(a)return!1;a=!0}const u=i?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!CL(l,r)||u)l=s(n,l,t);else return l.focus(),!0}return!1}const Y9=te.forwardRef(function(e,t){const{actions:i,autoFocus:s=!1,autoFocusItem:r=!1,children:a,className:l,disabledItemsFocusable:u=!1,disableListWrap:h=!1,onKeyDown:m,variant:g="selectedMenu",...y}=e,b=te.useRef(null),x=te.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Rd(()=>{s&&b.current.focus()},[s]),te.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(w,{direction:R})=>{const L=!b.current.style.width;if(w.clientHeight<b.current.clientHeight&&L){const N=`${TL(lu(w))}px`;b.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,b.current.style.width=`calc(100% + ${N})`}return b.current}}),[]);const T=w=>{const R=b.current,L=w.key;if(w.ctrlKey||w.metaKey||w.altKey){m&&m(w);return}const U=hl(R).activeElement;if(L==="ArrowDown")w.preventDefault(),jy(R,U,h,u,F1);else if(L==="ArrowUp")w.preventDefault(),jy(R,U,h,u,pD);else if(L==="Home")w.preventDefault(),jy(R,null,h,u,F1);else if(L==="End")w.preventDefault(),jy(R,null,h,u,pD);else if(L.length===1){const P=x.current,O=L.toLowerCase(),M=performance.now();P.keys.length>0&&(M-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&O!==P.keys[0]&&(P.repeating=!1)),P.lastTime=M,P.keys.push(O);const H=U&&!P.repeating&&CL(U,P);P.previousKeyMatched&&(H||jy(R,U,!1,u,F1,P))?w.preventDefault():P.previousKeyMatched=!1}m&&m(w)},A=va(b,t);let S=-1;te.Children.forEach(a,(w,R)=>{if(!te.isValidElement(w)){S===R&&(S+=1,S>=a.length&&(S=-1));return}w.props.disabled||(g==="selectedMenu"&&w.props.selected||S===-1)&&(S=R),S===R&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(S+=1,S>=a.length&&(S=-1))});const B=te.Children.map(a,(w,R)=>{if(R===S){const L={};return r&&(L.autoFocus=!0),w.props.tabIndex===void 0&&g==="selectedMenu"&&(L.tabIndex=0),te.cloneElement(w,L)}return w});return _e.jsx(W9,{role:"menu",ref:A,className:l,onKeyDown:T,tabIndex:s?0:-1,...y,children:B})});function q9(n){return Li("MuiPopover",n)}Ti("MuiPopover",["root","paper"]);function mD(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function gD(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function yD(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Ub(n){return typeof n=="function"?n():n}const K9=n=>{const{classes:e}=n;return Pi({root:["root"],paper:["paper"]},q9,e)},J9=Gt(y9,{name:"MuiPopover",slot:"Root"})({}),wL=Gt(PA,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Q9=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiPopover"}),{action:s,anchorEl:r,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:h,className:m,container:g,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:T={},slots:A={},slotProps:S={},transformOrigin:B={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:R="auto",TransitionProps:L={},disableScrollLock:N=!1,...U}=i,P=te.useRef(),O={...i,anchorOrigin:a,anchorReference:u,elevation:y,marginThreshold:b,transformOrigin:B,TransitionComponent:w,transitionDuration:R,TransitionProps:L},M=K9(O),H=te.useCallback(()=>{if(u==="anchorPosition")return l;const Q=Ub(r),Ee=(Q&&Q.nodeType===1?Q:hl(P.current).body).getBoundingClientRect();return{top:Ee.top+mD(Ee,a.vertical),left:Ee.left+gD(Ee,a.horizontal)}},[r,a.horizontal,a.vertical,l,u]),k=te.useCallback(Q=>({vertical:mD(Q,B.vertical),horizontal:gD(Q,B.horizontal)}),[B.horizontal,B.vertical]),$=te.useCallback(Q=>{const oe={width:Q.offsetWidth,height:Q.offsetHeight},Ee=k(oe);if(u==="none")return{top:null,left:null,transformOrigin:yD(Ee)};const Me=H();let X=Me.top-Ee.vertical,Oe=Me.left-Ee.horizontal;const Ve=X+oe.height,He=Oe+oe.width,Le=lu(Ub(r)),rt=Le.innerHeight-b,ke=Le.innerWidth-b;if(b!==null&&X<b){const K=X-b;X-=K,Ee.vertical+=K}else if(b!==null&&Ve>rt){const K=Ve-rt;X-=K,Ee.vertical+=K}if(b!==null&&Oe<b){const K=Oe-b;Oe-=K,Ee.horizontal+=K}else if(He>ke){const K=He-ke;Oe-=K,Ee.horizontal+=K}return{top:`${Math.round(X)}px`,left:`${Math.round(Oe)}px`,transformOrigin:yD(Ee)}},[r,u,H,k,b]),[se,ne]=te.useState(x),z=te.useCallback(()=>{const Q=P.current;if(!Q)return;const oe=$(Q);oe.top!==null&&Q.style.setProperty("top",oe.top),oe.left!==null&&(Q.style.left=oe.left),Q.style.transformOrigin=oe.transformOrigin,ne(!0)},[$]);te.useEffect(()=>(N&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[r,N,z]);const Y=()=>{z()},Z=()=>{ne(!1)};te.useEffect(()=>{x&&z()}),te.useImperativeHandle(s,()=>x?{updatePosition:()=>{z()}}:null,[x,z]),te.useEffect(()=>{if(!x)return;const Q=pL(()=>{z()}),oe=lu(Ub(r));return oe.addEventListener("resize",Q),()=>{Q.clear(),oe.removeEventListener("resize",Q)}},[r,x,z]);let re=R;const j={slots:{transition:w,...A},slotProps:{transition:L,paper:T,...S}},[ae,Se]=Sr("transition",{elementType:LT,externalForwardedProps:j,ownerState:O,getSlotProps:Q=>({...Q,onEntering:(oe,Ee)=>{var Me;(Me=Q.onEntering)==null||Me.call(Q,oe,Ee),Y()},onExited:oe=>{var Ee;(Ee=Q.onExited)==null||Ee.call(Q,oe),Z()}}),additionalProps:{appear:!0,in:x}});R==="auto"&&!ae.muiSupportAuto&&(re=void 0);const Ae=g||(r?hl(Ub(r)).body:void 0),[ce,{slots:Te,slotProps:Xe,...et}]=Sr("root",{ref:t,elementType:J9,externalForwardedProps:{...j,...U},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:A.backdrop},slotProps:{backdrop:N8(typeof S.backdrop=="function"?S.backdrop(O):S.backdrop,{invisible:!0})},container:Ae,open:x},ownerState:O,className:bn(M.root,m)}),[be,W]=Sr("paper",{ref:P,className:M.paper,elementType:wL,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:se?void 0:{opacity:0}},ownerState:O});return _e.jsx(ce,{...et,...!NT(ce)&&{slots:Te,slotProps:Xe,disableScrollLock:N},children:_e.jsx(ae,{...Se,timeout:re,children:_e.jsx(be,{...W,children:h})})})});function Z9(n){return Li("MuiMenu",n)}Ti("MuiMenu",["root","paper","list"]);const $9={vertical:"top",horizontal:"right"},ek={vertical:"top",horizontal:"left"},tk=n=>{const{classes:e}=n;return Pi({root:["root"],paper:["paper"],list:["list"]},Z9,e)},nk=Gt(Q9,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),ik=Gt(wL,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sk=Gt(Y9,{name:"MuiMenu",slot:"List"})({outline:0}),rk=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:r,className:a,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:h,open:m,PaperProps:g={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:x,...T}={},variant:A="selectedMenu",slots:S={},slotProps:B={},...w}=i,R=U6(),L={...i,autoFocus:s,disableAutoFocusItem:l,MenuListProps:u,onEntering:x,PaperProps:g,transitionDuration:b,TransitionProps:T,variant:A},N=tk(L),U=s&&!l&&m,P=te.useRef(null),O=(re,j)=>{P.current&&P.current.adjustStyleForScrollbar(re,{direction:R?"rtl":"ltr"}),x&&x(re,j)},M=re=>{re.key==="Tab"&&(re.preventDefault(),h&&h(re,"tabKeyDown"))};let H=-1;te.Children.map(r,(re,j)=>{te.isValidElement(re)&&(re.props.disabled||(A==="selectedMenu"&&re.props.selected||H===-1)&&(H=j))});const k={slots:S,slotProps:{list:u,transition:T,paper:g,...B}},$=AV({elementType:S.root,externalSlotProps:B.root,ownerState:L,className:[N.root,a]}),[se,ne]=Sr("paper",{className:N.paper,elementType:ik,externalForwardedProps:k,shouldForwardComponentProp:!0,ownerState:L}),[z,Y]=Sr("list",{className:bn(N.list,u.className),elementType:sk,shouldForwardComponentProp:!0,externalForwardedProps:k,getSlotProps:re=>({...re,onKeyDown:j=>{var ae;M(j),(ae=re.onKeyDown)==null||ae.call(re,j)}}),ownerState:L}),Z=typeof k.slotProps.transition=="function"?k.slotProps.transition(L):k.slotProps.transition;return _e.jsx(nk,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?$9:ek,slots:{root:S.root,paper:se,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:$,paper:ne,backdrop:typeof B.backdrop=="function"?B.backdrop(L):B.backdrop,transition:{...Z,onEntering:(...re)=>{var j;O(...re),(j=Z==null?void 0:Z.onEntering)==null||j.call(Z,...re)}}},open:m,ref:t,transitionDuration:b,ownerState:L,...w,classes:y,children:_e.jsx(z,{actions:P,autoFocus:s&&(H===-1||l),autoFocusItem:U,variant:A,...Y,children:r})})});function ak(n){return Li("MuiNativeSelect",n)}const yw=Ti("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ok=n=>{const{classes:e,variant:t,disabled:i,multiple:s,open:r,error:a}=n,l={select:["select",t,i&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${hn(t)}`,r&&"iconOpen",i&&"disabled"]};return Pi(l,ak,e)},RL=Gt("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${yw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),lk=Gt(RL,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pl,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${yw.multiple}`]:e.multiple}]}})({}),BL=Gt("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${yw.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),ck=Gt(BL,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${hn(t.variant)}`],t.open&&e.iconOpen]}})({}),uk=te.forwardRef(function(e,t){const{className:i,disabled:s,error:r,IconComponent:a,inputRef:l,variant:u="standard",...h}=e,m={...e,disabled:s,variant:u,error:r},g=ok(m);return _e.jsxs(te.Fragment,{children:[_e.jsx(lk,{ownerState:m,className:bn(g.select,i),disabled:s,ref:l||t,...h}),e.multiple?null:_e.jsx(ck,{as:a,ownerState:m,className:g.icon})]})});var vD;const fk=Gt("fieldset",{shouldForwardProp:pl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),hk=Gt("legend",{shouldForwardProp:pl})(gs(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function dk(n){const{children:e,classes:t,className:i,label:s,notched:r,...a}=n,l=s!=null&&s!=="",u={...n,notched:r,withLabel:l};return _e.jsx(fk,{"aria-hidden":!0,className:i,ownerState:u,...a,children:_e.jsx(hk,{ownerState:u,children:l?_e.jsx("span",{children:s}):vD||(vD=_e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const pk=n=>{const{classes:e}=n,i=Pi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},NV,e);return{...e,...i}},mk=Gt(HA,{shouldForwardProp:n=>pl(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:UA})(gs(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${$l.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${$l.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${$l.focused} .${$l.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(zd()).map(([t])=>({props:{color:t},style:{[`&.${$l.focused} .${$l.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${$l.error} .${$l.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${$l.disabled} .${$l.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),gk=Gt(dk,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(gs(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),yk=Gt(zA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:FA})(gs(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),vw=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:r=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:h,slots:m={},slotProps:g={},type:y="text",...b}=i,x=pk(i),T=fg(),A=ug({props:i,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...i,color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:T,fullWidth:r,hiddenLabel:A.hiddenLabel,multiline:u,size:A.size,type:y},B=m.root??s.Root??mk,w=m.input??s.Input??yk,[R,L]=Sr("notchedOutline",{elementType:gk,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:m,slotProps:g},additionalProps:{label:l!=null&&l!==""&&A.required?_e.jsxs(te.Fragment,{children:[l,"","*"]}):l}});return _e.jsx(dw,{slots:{root:B,input:w},slotProps:g,renderSuffix:N=>_e.jsx(R,{...L,notched:typeof h<"u"?h:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:r,inputComponent:a,multiline:u,ref:t,type:y,...b,classes:{...x,notchedOutline:null}})});vw.muiName="Input";function DL(n){return Li("MuiSelect",n)}const Wy=Ti("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _D;const vk=Gt(RL,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Wy.select}`]:e.select},{[`&.${Wy.select}`]:e[t.variant]},{[`&.${Wy.error}`]:e.error},{[`&.${Wy.multiple}`]:e.multiple}]}})({[`&.${Wy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_k=Gt(BL,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${hn(t.variant)}`],t.open&&e.iconOpen]}})({}),bk=Gt("input",{shouldForwardProp:n=>dL(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bD(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function xk(n){return n==null||typeof n=="string"&&!n.trim()}const Sk=n=>{const{classes:e,variant:t,disabled:i,multiple:s,open:r,error:a}=n,l={select:["select",t,i&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${hn(t)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Pi(l,DL,e)},Ak=te.forwardRef(function(e,t){var At;const{"aria-describedby":i,"aria-label":s,autoFocus:r,autoWidth:a,children:l,className:u,defaultOpen:h,defaultValue:m,disabled:g,displayEmpty:y,error:b=!1,IconComponent:x,inputRef:T,labelId:A,MenuProps:S={},multiple:B,name:w,onBlur:R,onChange:L,onClose:N,onFocus:U,onOpen:P,open:O,readOnly:M,renderValue:H,required:k,SelectDisplayProps:$={},tabIndex:se,type:ne,value:z,variant:Y="standard",...Z}=e,[re,j]=ZB({controlled:z,default:m,name:"Select"}),[ae,Se]=ZB({controlled:O,default:h,name:"Select"}),Ae=te.useRef(null),ce=te.useRef(null),[Te,Xe]=te.useState(null),{current:et}=te.useRef(O!=null),[be,W]=te.useState(),Q=va(t,T),oe=te.useCallback(je=>{ce.current=je,je&&Xe(je)},[]),Ee=Te==null?void 0:Te.parentNode;te.useImperativeHandle(Q,()=>({focus:()=>{ce.current.focus()},node:Ae.current,value:re}),[re]),te.useEffect(()=>{h&&ae&&Te&&!et&&(W(a?null:Ee.clientWidth),ce.current.focus())},[Te,a]),te.useEffect(()=>{r&&ce.current.focus()},[r]),te.useEffect(()=>{if(!A)return;const je=hl(ce.current).getElementById(A);if(je){const le=()=>{getSelection().isCollapsed&&ce.current.focus()};return je.addEventListener("click",le),()=>{je.removeEventListener("click",le)}}},[A]);const Me=(je,le)=>{je?P&&P(le):N&&N(le),et||(W(a?null:Ee.clientWidth),Se(je))},X=je=>{je.button===0&&(je.preventDefault(),ce.current.focus(),Me(!0,je))},Oe=je=>{Me(!1,je)},Ve=te.Children.toArray(l),He=je=>{const le=Ve.find(Ne=>Ne.props.value===je.target.value);le!==void 0&&(j(le.props.value),L&&L(je,le))},Le=je=>le=>{let Ne;if(le.currentTarget.hasAttribute("tabindex")){if(B){Ne=Array.isArray(re)?re.slice():[];const lt=re.indexOf(je.props.value);lt===-1?Ne.push(je.props.value):Ne.splice(lt,1)}else Ne=je.props.value;if(je.props.onClick&&je.props.onClick(le),re!==Ne&&(j(Ne),L)){const lt=le.nativeEvent||le,he=new lt.constructor(lt.type,lt);Object.defineProperty(he,"target",{writable:!0,value:{value:Ne,name:w}}),L(he,je)}B||Me(!1,le)}},rt=je=>{M||[" ","ArrowUp","ArrowDown","Enter"].includes(je.key)&&(je.preventDefault(),Me(!0,je))},ke=Te!==null&&ae,K=je=>{!ke&&R&&(Object.defineProperty(je,"target",{writable:!0,value:{value:re,name:w}}),R(je))};delete Z["aria-invalid"];let V,ge;const Re=[];let Ze=!1;(cS({value:re})||y)&&(H?V=H(re):Ze=!0);const ze=Ve.map(je=>{if(!te.isValidElement(je))return null;let le;if(B){if(!Array.isArray(re))throw new Error(au(2));le=re.some(Ne=>bD(Ne,je.props.value)),le&&Ze&&Re.push(je.props.children)}else le=bD(re,je.props.value),le&&Ze&&(ge=je.props.children);return te.cloneElement(je,{"aria-selected":le?"true":"false",onClick:Le(je),onKeyUp:Ne=>{Ne.key===" "&&Ne.preventDefault(),je.props.onKeyUp&&je.props.onKeyUp(Ne)},role:"option",selected:le,value:void 0,"data-value":je.props.value})});Ze&&(B?Re.length===0?V=null:V=Re.reduce((je,le,Ne)=>(je.push(le),Ne<Re.length-1&&je.push(", "),je),[]):V=ge);let ct=be;!a&&et&&Te&&(ct=Ee.clientWidth);let it;typeof se<"u"?it=se:it=g?null:0;const mt=$.id||(w?`mui-component-select-${w}`:void 0),Tt={...e,variant:Y,value:re,open:ke,error:b},We=Sk(Tt),ht={...S.PaperProps,...(At=S.slotProps)==null?void 0:At.paper},xt=lw();return _e.jsxs(te.Fragment,{children:[_e.jsx(vk,{as:"div",ref:oe,tabIndex:it,role:"combobox","aria-controls":ke?xt:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[A,mt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":k?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:rt,onMouseDown:g||M?null:X,onBlur:K,onFocus:U,...$,ownerState:Tt,className:bn($.className,We.select,u),id:mt,children:xk(V)?_D||(_D=_e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):V}),_e.jsx(bk,{"aria-invalid":b,value:Array.isArray(re)?re.join(","):re,name:w,ref:Ae,"aria-hidden":!0,onChange:He,tabIndex:-1,disabled:g,className:We.nativeInput,autoFocus:r,required:k,...Z,ownerState:Tt}),_e.jsx(_k,{as:x,className:We.icon,ownerState:Tt}),_e.jsx(rk,{id:`menu-${w||""}`,anchorEl:Ee,open:ke,onClose:Oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":A,role:"listbox","aria-multiselectable":B?"true":void 0,disableListWrap:!0,id:xt,...S.MenuListProps},paper:{...ht,style:{minWidth:ct,...ht!=null?ht.style:null}}},children:ze})]})}),Ek=n=>{const{classes:e}=n,i=Pi({root:["root"]},DL,e);return{...e,...i}},_w={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>pl(n)&&n!=="variant"},Mk=Gt(gw,_w)(""),Tk=Gt(vw,_w)(""),Ck=Gt(mw,_w)(""),IL=te.forwardRef(function(e,t){const i=Ji({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:r,classes:a={},className:l,defaultOpen:u=!1,displayEmpty:h=!1,IconComponent:m=LV,id:g,input:y,inputProps:b,label:x,labelId:T,MenuProps:A,multiple:S=!1,native:B=!1,onClose:w,onOpen:R,open:L,renderValue:N,SelectDisplayProps:U,variant:P="outlined",...O}=i,M=B?uk:Ak,H=fg(),k=ug({props:i,muiFormControl:H,states:["variant","error"]}),$=k.variant||P,se={...i,variant:$,classes:a},ne=Ek(se),{root:z,...Y}=ne,Z=y||{standard:_e.jsx(Mk,{ownerState:se}),outlined:_e.jsx(Tk,{label:x,ownerState:se}),filled:_e.jsx(Ck,{ownerState:se})}[$],re=va(t,Iv(Z));return _e.jsx(te.Fragment,{children:te.cloneElement(Z,{inputComponent:M,inputProps:{children:r,error:k.error,IconComponent:m,variant:$,type:void 0,multiple:S,...B?{id:g}:{autoWidth:s,defaultOpen:u,displayEmpty:h,labelId:T,MenuProps:A,onClose:w,onOpen:R,open:L,renderValue:N,SelectDisplayProps:{id:g,...U}},...b,classes:b?Tr(Y,b.classes):Y,...y?y.props.inputProps:{}},...(S&&B||h)&&$==="outlined"?{notched:!0}:{},ref:re,className:bn(Z.props.className,l,ne.root),...!y&&{variant:$},...O})})});IL.muiName="Select";function wk(n){return Li("MuiTextField",n)}Ti("MuiTextField",["root"]);const Rk={standard:gw,filled:mw,outlined:vw},Bk=n=>{const{classes:e}=n;return Pi({root:["root"]},wk,e)},Dk=Gt(E9,{name:"MuiTextField",slot:"Root"})({}),W0=te.forwardRef(function(e,t){const i=Ji({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:a,className:l,color:u="primary",defaultValue:h,disabled:m=!1,error:g=!1,FormHelperTextProps:y,fullWidth:b=!1,helperText:x,id:T,InputLabelProps:A,inputProps:S,InputProps:B,inputRef:w,label:R,maxRows:L,minRows:N,multiline:U=!1,name:P,onBlur:O,onChange:M,onFocus:H,placeholder:k,required:$=!1,rows:se,select:ne=!1,SelectProps:z,slots:Y={},slotProps:Z={},type:re,value:j,variant:ae="outlined",...Se}=i,Ae={...i,autoFocus:r,color:u,disabled:m,error:g,fullWidth:b,multiline:U,required:$,select:ne,variant:ae},ce=Bk(Ae),Te=lw(T),Xe=x&&Te?`${Te}-helper-text`:void 0,et=R&&Te?`${Te}-label`:void 0,be=Rk[ae],W={slots:Y,slotProps:{input:B,inputLabel:A,htmlInput:S,formHelperText:y,select:z,...Z}},Q={},oe=W.slotProps.inputLabel;ae==="outlined"&&(oe&&typeof oe.shrink<"u"&&(Q.notched=oe.shrink),Q.label=R),ne&&((!z||!z.native)&&(Q.id=void 0),Q["aria-describedby"]=void 0);const[Ee,Me]=Sr("root",{elementType:Dk,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...Se},ownerState:Ae,className:bn(ce.root,l),ref:t,additionalProps:{disabled:m,error:g,fullWidth:b,required:$,color:u,variant:ae}}),[X,Oe]=Sr("input",{elementType:be,externalForwardedProps:W,additionalProps:Q,ownerState:Ae}),[Ve,He]=Sr("inputLabel",{elementType:G9,externalForwardedProps:W,ownerState:Ae}),[Le,rt]=Sr("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:Ae}),[ke,K]=Sr("formHelperText",{elementType:w9,externalForwardedProps:W,ownerState:Ae}),[V,ge]=Sr("select",{elementType:IL,externalForwardedProps:W,ownerState:Ae}),Re=_e.jsx(X,{"aria-describedby":Xe,autoComplete:s,autoFocus:r,defaultValue:h,fullWidth:b,multiline:U,name:P,rows:se,maxRows:L,minRows:N,type:re,value:j,id:Te,inputRef:w,onBlur:O,onChange:M,onFocus:H,placeholder:k,inputProps:rt,slots:{input:Y.htmlInput?Le:void 0},...Oe});return _e.jsxs(Ee,{...Me,children:[R!=null&&R!==""&&_e.jsx(Ve,{htmlFor:Te,id:et,...He,children:R}),ne?_e.jsx(V,{"aria-describedby":Xe,id:Te,labelId:et,value:j,input:Re,...ge,children:a}):Re,x&&_e.jsx(ke,{id:Xe,...K,children:x})]})});function Fb(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H1={exports:{}},xD;function Ik(){return xD||(xD=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,s,r){function a(h,m){if(!s[h]){if(!i[h]){var g=typeof Fb=="function"&&Fb;if(!m&&g)return g(h,!0);if(l)return l(h,!0);throw new Error("Cannot find module '"+h+"'")}m=s[h]={exports:{}},i[h][0].call(m.exports,function(y){var b=i[h][1][y];return a(b||y)},m,m.exports,t,i,s,r)}return s[h].exports}for(var l=typeof Fb=="function"&&Fb,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){var x=t("crypto");function T(N,U){U=B(N,U);var P;return(P=U.algorithm!=="passthrough"?x.createHash(U.algorithm):new L).write===void 0&&(P.write=P.update,P.end=P.update),R(U,P).dispatch(N),P.update||P.end(""),P.digest?P.digest(U.encoding==="buffer"?void 0:U.encoding):(N=P.read(),U.encoding!=="buffer"?N.toString(U.encoding):N)}(s=i.exports=T).sha1=function(N){return T(N)},s.keys=function(N){return T(N,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(N){return T(N,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(N){return T(N,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var A=x.getHashes?x.getHashes().slice():["sha1","md5"],S=(A.push("passthrough"),["buffer","hex","binary","base64"]);function B(N,U){var P={};if(P.algorithm=(U=U||{}).algorithm||"sha1",P.encoding=U.encoding||"hex",P.excludeValues=!!U.excludeValues,P.algorithm=P.algorithm.toLowerCase(),P.encoding=P.encoding.toLowerCase(),P.ignoreUnknown=U.ignoreUnknown===!0,P.respectType=U.respectType!==!1,P.respectFunctionNames=U.respectFunctionNames!==!1,P.respectFunctionProperties=U.respectFunctionProperties!==!1,P.unorderedArrays=U.unorderedArrays===!0,P.unorderedSets=U.unorderedSets!==!1,P.unorderedObjects=U.unorderedObjects!==!1,P.replacer=U.replacer||void 0,P.excludeKeys=U.excludeKeys||void 0,N===void 0)throw new Error("Object argument required.");for(var O=0;O<A.length;++O)A[O].toLowerCase()===P.algorithm.toLowerCase()&&(P.algorithm=A[O]);if(A.indexOf(P.algorithm)===-1)throw new Error('Algorithm "'+P.algorithm+'"  not supported. supported values: '+A.join(", "));if(S.indexOf(P.encoding)===-1&&P.algorithm!=="passthrough")throw new Error('Encoding "'+P.encoding+'"  not supported. supported values: '+S.join(", "));return P}function w(N){if(typeof N=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(N))!=null}function R(N,U,P){P=P||[];function O(M){return U.update?U.update(M,"utf8"):U.write(M,"utf8")}return{dispatch:function(M){return this["_"+((M=N.replacer?N.replacer(M):M)===null?"null":typeof M)](M)},_object:function(M){var H,k=Object.prototype.toString.call(M),$=/\[object (.*)\]/i.exec(k);if($=($=$?$[1]:"unknown:["+k+"]").toLowerCase(),0<=(k=P.indexOf(M)))return this.dispatch("[CIRCULAR:"+k+"]");if(P.push(M),l!==void 0&&l.isBuffer&&l.isBuffer(M))return O("buffer:"),O(M);if($==="object"||$==="function"||$==="asyncfunction")return k=Object.keys(M),N.unorderedObjects&&(k=k.sort()),N.respectType===!1||w(M)||k.splice(0,0,"prototype","__proto__","constructor"),N.excludeKeys&&(k=k.filter(function(se){return!N.excludeKeys(se)})),O("object:"+k.length+":"),H=this,k.forEach(function(se){H.dispatch(se),O(":"),N.excludeValues||H.dispatch(M[se]),O(",")});if(!this["_"+$]){if(N.ignoreUnknown)return O("["+$+"]");throw new Error('Unknown object type "'+$+'"')}this["_"+$](M)},_array:function(M,se){se=se!==void 0?se:N.unorderedArrays!==!1;var k=this;if(O("array:"+M.length+":"),!se||M.length<=1)return M.forEach(function(ne){return k.dispatch(ne)});var $=[],se=M.map(function(ne){var z=new L,Y=P.slice();return R(N,z,Y).dispatch(ne),$=$.concat(Y.slice(P.length)),z.read().toString()});return P=P.concat($),se.sort(),this._array(se,!1)},_date:function(M){return O("date:"+M.toJSON())},_symbol:function(M){return O("symbol:"+M.toString())},_error:function(M){return O("error:"+M.toString())},_boolean:function(M){return O("bool:"+M.toString())},_string:function(M){O("string:"+M.length+":"),O(M.toString())},_function:function(M){O("fn:"),w(M)?this.dispatch("[native]"):this.dispatch(M.toString()),N.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(M.name)),N.respectFunctionProperties&&this._object(M)},_number:function(M){return O("number:"+M.toString())},_xml:function(M){return O("xml:"+M.toString())},_null:function(){return O("Null")},_undefined:function(){return O("Undefined")},_regexp:function(M){return O("regex:"+M.toString())},_uint8array:function(M){return O("uint8array:"),this.dispatch(Array.prototype.slice.call(M))},_uint8clampedarray:function(M){return O("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(M))},_int8array:function(M){return O("int8array:"),this.dispatch(Array.prototype.slice.call(M))},_uint16array:function(M){return O("uint16array:"),this.dispatch(Array.prototype.slice.call(M))},_int16array:function(M){return O("int16array:"),this.dispatch(Array.prototype.slice.call(M))},_uint32array:function(M){return O("uint32array:"),this.dispatch(Array.prototype.slice.call(M))},_int32array:function(M){return O("int32array:"),this.dispatch(Array.prototype.slice.call(M))},_float32array:function(M){return O("float32array:"),this.dispatch(Array.prototype.slice.call(M))},_float64array:function(M){return O("float64array:"),this.dispatch(Array.prototype.slice.call(M))},_arraybuffer:function(M){return O("arraybuffer:"),this.dispatch(new Uint8Array(M))},_url:function(M){return O("url:"+M.toString())},_map:function(M){return O("map:"),M=Array.from(M),this._array(M,N.unorderedSets!==!1)},_set:function(M){return O("set:"),M=Array.from(M),this._array(M,N.unorderedSets!==!1)},_file:function(M){return O("file:"),this.dispatch([M.name,M.size,M.type,M.lastModfied])},_blob:function(){if(N.ignoreUnknown)return O("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return O("domwindow")},_bigint:function(M){return O("bigint:"+M.toString())},_process:function(){return O("process")},_timer:function(){return O("timer")},_pipe:function(){return O("pipe")},_tcp:function(){return O("tcp")},_udp:function(){return O("udp")},_tty:function(){return O("tty")},_statwatcher:function(){return O("statwatcher")},_securecontext:function(){return O("securecontext")},_connection:function(){return O("connection")},_zlib:function(){return O("zlib")},_context:function(){return O("context")},_nodescript:function(){return O("nodescript")},_httpparser:function(){return O("httpparser")},_dataview:function(){return O("dataview")},_signal:function(){return O("signal")},_fsevent:function(){return O("fsevent")},_tlswrap:function(){return O("tlswrap")}}}function L(){return{buf:"",write:function(N){this.buf+=N},end:function(N){this.buf+=N},read:function(){return this.buf}}}s.writeToStream=function(N,U,P){return P===void 0&&(P=U,U={}),R(U=B(N,U),P).dispatch(N)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){(function(x){var T=typeof Uint8Array<"u"?Uint8Array:Array,A=43,S=47,B=48,w=97,R=65,L=45,N=95;function U(P){return P=P.charCodeAt(0),P===A||P===L?62:P===S||P===N?63:P<B?-1:P<B+10?P-B+26+26:P<R+26?P-R:P<w+26?P-w+26:void 0}x.toByteArray=function(P){var O,M;if(0<P.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var H=P.length,H=P.charAt(H-2)==="="?2:P.charAt(H-1)==="="?1:0,k=new T(3*P.length/4-H),$=0<H?P.length-4:P.length,se=0;function ne(z){k[se++]=z}for(O=0;O<$;O+=4,0)ne((16711680&(M=U(P.charAt(O))<<18|U(P.charAt(O+1))<<12|U(P.charAt(O+2))<<6|U(P.charAt(O+3))))>>16),ne((65280&M)>>8),ne(255&M);return H==2?ne(255&(M=U(P.charAt(O))<<2|U(P.charAt(O+1))>>4)):H==1&&(ne((M=U(P.charAt(O))<<10|U(P.charAt(O+1))<<4|U(P.charAt(O+2))>>2)>>8&255),ne(255&M)),k},x.fromByteArray=function(P){var O,M,H,k,$=P.length%3,se="";function ne(z){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(z)}for(O=0,H=P.length-$;O<H;O+=3)M=(P[O]<<16)+(P[O+1]<<8)+P[O+2],se+=ne((k=M)>>18&63)+ne(k>>12&63)+ne(k>>6&63)+ne(63&k);switch($){case 1:se=(se+=ne((M=P[P.length-1])>>2))+ne(M<<4&63)+"==";break;case 2:se=(se=(se+=ne((M=(P[P.length-2]<<8)+P[P.length-1])>>10))+ne(M>>4&63))+ne(M<<2&63)+"="}return se}})(s===void 0?this.base64js={}:s)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,i,s){(function(r,a,A,u,h,m,g,y,b){var x=t("base64-js"),T=t("ieee754");function A(W,Q,oe){if(!(this instanceof A))return new A(W,Q,oe);var Ee,Me,X,Oe,Ve=typeof W;if(Q==="base64"&&Ve=="string")for(W=(Oe=W).trim?Oe.trim():Oe.replace(/^\s+|\s+$/g,"");W.length%4!=0;)W+="=";if(Ve=="number")Ee=Z(W);else if(Ve=="string")Ee=A.byteLength(W,Q);else{if(Ve!="object")throw new Error("First argument needs to be a number, array or string.");Ee=Z(W.length)}if(A._useTypedArrays?Me=A._augment(new Uint8Array(Ee)):((Me=this).length=Ee,Me._isBuffer=!0),A._useTypedArrays&&typeof W.byteLength=="number")Me._set(W);else if(re(Oe=W)||A.isBuffer(Oe)||Oe&&typeof Oe=="object"&&typeof Oe.length=="number")for(X=0;X<Ee;X++)A.isBuffer(W)?Me[X]=W.readUInt8(X):Me[X]=W[X];else if(Ve=="string")Me.write(W,0,Q);else if(Ve=="number"&&!A._useTypedArrays&&!oe)for(X=0;X<Ee;X++)Me[X]=0;return Me}function S(W,Q,oe,Ee){return A._charsWritten=Ae(function(Me){for(var X=[],Oe=0;Oe<Me.length;Oe++)X.push(255&Me.charCodeAt(Oe));return X}(Q),W,oe,Ee)}function B(W,Q,oe,Ee){return A._charsWritten=Ae(function(Me){for(var X,Oe,Ve=[],He=0;He<Me.length;He++)Oe=Me.charCodeAt(He),X=Oe>>8,Oe=Oe%256,Ve.push(Oe),Ve.push(X);return Ve}(Q),W,oe,Ee)}function w(W,Q,oe){var Ee="";oe=Math.min(W.length,oe);for(var Me=Q;Me<oe;Me++)Ee+=String.fromCharCode(W[Me]);return Ee}function R(W,Q,oe,X){X||(be(typeof oe=="boolean","missing or invalid endian"),be(Q!=null,"missing offset"),be(Q+1<W.length,"Trying to read beyond buffer length"));var Me,X=W.length;if(!(X<=Q))return oe?(Me=W[Q],Q+1<X&&(Me|=W[Q+1]<<8)):(Me=W[Q]<<8,Q+1<X&&(Me|=W[Q+1])),Me}function L(W,Q,oe,X){X||(be(typeof oe=="boolean","missing or invalid endian"),be(Q!=null,"missing offset"),be(Q+3<W.length,"Trying to read beyond buffer length"));var Me,X=W.length;if(!(X<=Q))return oe?(Q+2<X&&(Me=W[Q+2]<<16),Q+1<X&&(Me|=W[Q+1]<<8),Me|=W[Q],Q+3<X&&(Me+=W[Q+3]<<24>>>0)):(Q+1<X&&(Me=W[Q+1]<<16),Q+2<X&&(Me|=W[Q+2]<<8),Q+3<X&&(Me|=W[Q+3]),Me+=W[Q]<<24>>>0),Me}function N(W,Q,oe,Ee){if(Ee||(be(typeof oe=="boolean","missing or invalid endian"),be(Q!=null,"missing offset"),be(Q+1<W.length,"Trying to read beyond buffer length")),!(W.length<=Q))return Ee=R(W,Q,oe,!0),32768&Ee?-1*(65535-Ee+1):Ee}function U(W,Q,oe,Ee){if(Ee||(be(typeof oe=="boolean","missing or invalid endian"),be(Q!=null,"missing offset"),be(Q+3<W.length,"Trying to read beyond buffer length")),!(W.length<=Q))return Ee=L(W,Q,oe,!0),2147483648&Ee?-1*(4294967295-Ee+1):Ee}function P(W,Q,oe,Ee){return Ee||(be(typeof oe=="boolean","missing or invalid endian"),be(Q+3<W.length,"Trying to read beyond buffer length")),T.read(W,Q,oe,23,4)}function O(W,Q,oe,Ee){return Ee||(be(typeof oe=="boolean","missing or invalid endian"),be(Q+7<W.length,"Trying to read beyond buffer length")),T.read(W,Q,oe,52,8)}function M(W,Q,oe,Ee,Me){if(Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+1<W.length,"trying to write beyond buffer length"),Te(Q,65535)),Me=W.length,!(Me<=oe))for(var X=0,Oe=Math.min(Me-oe,2);X<Oe;X++)W[oe+X]=(Q&255<<8*(Ee?X:1-X))>>>8*(Ee?X:1-X)}function H(W,Q,oe,Ee,Me){if(Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+3<W.length,"trying to write beyond buffer length"),Te(Q,4294967295)),Me=W.length,!(Me<=oe))for(var X=0,Oe=Math.min(Me-oe,4);X<Oe;X++)W[oe+X]=Q>>>8*(Ee?X:3-X)&255}function k(W,Q,oe,Ee,Me){Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+1<W.length,"Trying to write beyond buffer length"),Xe(Q,32767,-32768)),W.length<=oe||M(W,0<=Q?Q:65535+Q+1,oe,Ee,Me)}function $(W,Q,oe,Ee,Me){Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+3<W.length,"Trying to write beyond buffer length"),Xe(Q,2147483647,-2147483648)),W.length<=oe||H(W,0<=Q?Q:4294967295+Q+1,oe,Ee,Me)}function se(W,Q,oe,Ee,Me){Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+3<W.length,"Trying to write beyond buffer length"),et(Q,34028234663852886e22,-34028234663852886e22)),W.length<=oe||T.write(W,Q,oe,Ee,23,4)}function ne(W,Q,oe,Ee,Me){Me||(be(Q!=null,"missing value"),be(typeof Ee=="boolean","missing or invalid endian"),be(oe!=null,"missing offset"),be(oe+7<W.length,"Trying to write beyond buffer length"),et(Q,17976931348623157e292,-17976931348623157e292)),W.length<=oe||T.write(W,Q,oe,Ee,52,8)}s.Buffer=A,s.SlowBuffer=A,s.INSPECT_MAX_BYTES=50,A.poolSize=8192,A._useTypedArrays=function(){try{var W=new ArrayBuffer(0),Q=new Uint8Array(W);return Q.foo=function(){return 42},Q.foo()===42&&typeof Q.subarray=="function"}catch{return!1}}(),A.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.isBuffer=function(W){return!(W==null||!W._isBuffer)},A.byteLength=function(W,Q){var oe;switch(W+="",Q||"utf8"){case"hex":oe=W.length/2;break;case"utf8":case"utf-8":oe=ae(W).length;break;case"ascii":case"binary":case"raw":oe=W.length;break;case"base64":oe=Se(W).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":oe=2*W.length;break;default:throw new Error("Unknown encoding")}return oe},A.concat=function(W,Q){if(be(re(W),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),W.length===0)return new A(0);if(W.length===1)return W[0];if(typeof Q!="number")for(Me=Q=0;Me<W.length;Me++)Q+=W[Me].length;for(var oe=new A(Q),Ee=0,Me=0;Me<W.length;Me++){var X=W[Me];X.copy(oe,Ee),Ee+=X.length}return oe},A.prototype.write=function(W,Q,oe,Ee){isFinite(Q)?isFinite(oe)||(Ee=oe,oe=void 0):(He=Ee,Ee=Q,Q=oe,oe=He),Q=Number(Q)||0;var Me,X,Oe,Ve,He=this.length-Q;switch((!oe||He<(oe=Number(oe)))&&(oe=He),Ee=String(Ee||"utf8").toLowerCase()){case"hex":Me=function(Le,rt,ke,K){ke=Number(ke)||0;var V=Le.length-ke;(!K||V<(K=Number(K)))&&(K=V),be((V=rt.length)%2==0,"Invalid hex string"),V/2<K&&(K=V/2);for(var ge=0;ge<K;ge++){var Re=parseInt(rt.substr(2*ge,2),16);be(!isNaN(Re),"Invalid hex string"),Le[ke+ge]=Re}return A._charsWritten=2*ge,ge}(this,W,Q,oe);break;case"utf8":case"utf-8":X=this,Oe=Q,Ve=oe,Me=A._charsWritten=Ae(ae(W),X,Oe,Ve);break;case"ascii":case"binary":Me=S(this,W,Q,oe);break;case"base64":X=this,Oe=Q,Ve=oe,Me=A._charsWritten=Ae(Se(W),X,Oe,Ve);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Me=B(this,W,Q,oe);break;default:throw new Error("Unknown encoding")}return Me},A.prototype.toString=function(W,Q,oe){var Ee,Me,X,Oe,Ve=this;if(W=String(W||"utf8").toLowerCase(),Q=Number(Q)||0,(oe=oe!==void 0?Number(oe):Ve.length)===Q)return"";switch(W){case"hex":Ee=function(He,Le,rt){var ke=He.length;(!Le||Le<0)&&(Le=0),(!rt||rt<0||ke<rt)&&(rt=ke);for(var K="",V=Le;V<rt;V++)K+=j(He[V]);return K}(Ve,Q,oe);break;case"utf8":case"utf-8":Ee=function(He,Le,rt){var ke="",K="";rt=Math.min(He.length,rt);for(var V=Le;V<rt;V++)He[V]<=127?(ke+=ce(K)+String.fromCharCode(He[V]),K=""):K+="%"+He[V].toString(16);return ke+ce(K)}(Ve,Q,oe);break;case"ascii":case"binary":Ee=w(Ve,Q,oe);break;case"base64":Me=Ve,Oe=oe,Ee=(X=Q)===0&&Oe===Me.length?x.fromByteArray(Me):x.fromByteArray(Me.slice(X,Oe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Ee=function(He,Le,rt){for(var ke=He.slice(Le,rt),K="",V=0;V<ke.length;V+=2)K+=String.fromCharCode(ke[V]+256*ke[V+1]);return K}(Ve,Q,oe);break;default:throw new Error("Unknown encoding")}return Ee},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},A.prototype.copy=function(W,Q,oe,Ee){if(Q=Q||0,(Ee=Ee||Ee===0?Ee:this.length)!==(oe=oe||0)&&W.length!==0&&this.length!==0){be(oe<=Ee,"sourceEnd < sourceStart"),be(0<=Q&&Q<W.length,"targetStart out of bounds"),be(0<=oe&&oe<this.length,"sourceStart out of bounds"),be(0<=Ee&&Ee<=this.length,"sourceEnd out of bounds"),Ee>this.length&&(Ee=this.length);var Me=(Ee=W.length-Q<Ee-oe?W.length-Q+oe:Ee)-oe;if(Me<100||!A._useTypedArrays)for(var X=0;X<Me;X++)W[X+Q]=this[X+oe];else W._set(this.subarray(oe,oe+Me),Q)}},A.prototype.slice=function(W,Q){var oe=this.length;if(W=Y(W,oe,0),Q=Y(Q,oe,oe),A._useTypedArrays)return A._augment(this.subarray(W,Q));for(var Ee=Q-W,Me=new A(Ee,void 0,!0),X=0;X<Ee;X++)Me[X]=this[X+W];return Me},A.prototype.get=function(W){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(W)},A.prototype.set=function(W,Q){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(W,Q)},A.prototype.readUInt8=function(W,Q){if(Q||(be(W!=null,"missing offset"),be(W<this.length,"Trying to read beyond buffer length")),!(W>=this.length))return this[W]},A.prototype.readUInt16LE=function(W,Q){return R(this,W,!0,Q)},A.prototype.readUInt16BE=function(W,Q){return R(this,W,!1,Q)},A.prototype.readUInt32LE=function(W,Q){return L(this,W,!0,Q)},A.prototype.readUInt32BE=function(W,Q){return L(this,W,!1,Q)},A.prototype.readInt8=function(W,Q){if(Q||(be(W!=null,"missing offset"),be(W<this.length,"Trying to read beyond buffer length")),!(W>=this.length))return 128&this[W]?-1*(255-this[W]+1):this[W]},A.prototype.readInt16LE=function(W,Q){return N(this,W,!0,Q)},A.prototype.readInt16BE=function(W,Q){return N(this,W,!1,Q)},A.prototype.readInt32LE=function(W,Q){return U(this,W,!0,Q)},A.prototype.readInt32BE=function(W,Q){return U(this,W,!1,Q)},A.prototype.readFloatLE=function(W,Q){return P(this,W,!0,Q)},A.prototype.readFloatBE=function(W,Q){return P(this,W,!1,Q)},A.prototype.readDoubleLE=function(W,Q){return O(this,W,!0,Q)},A.prototype.readDoubleBE=function(W,Q){return O(this,W,!1,Q)},A.prototype.writeUInt8=function(W,Q,oe){oe||(be(W!=null,"missing value"),be(Q!=null,"missing offset"),be(Q<this.length,"trying to write beyond buffer length"),Te(W,255)),Q>=this.length||(this[Q]=W)},A.prototype.writeUInt16LE=function(W,Q,oe){M(this,W,Q,!0,oe)},A.prototype.writeUInt16BE=function(W,Q,oe){M(this,W,Q,!1,oe)},A.prototype.writeUInt32LE=function(W,Q,oe){H(this,W,Q,!0,oe)},A.prototype.writeUInt32BE=function(W,Q,oe){H(this,W,Q,!1,oe)},A.prototype.writeInt8=function(W,Q,oe){oe||(be(W!=null,"missing value"),be(Q!=null,"missing offset"),be(Q<this.length,"Trying to write beyond buffer length"),Xe(W,127,-128)),Q>=this.length||(0<=W?this.writeUInt8(W,Q,oe):this.writeUInt8(255+W+1,Q,oe))},A.prototype.writeInt16LE=function(W,Q,oe){k(this,W,Q,!0,oe)},A.prototype.writeInt16BE=function(W,Q,oe){k(this,W,Q,!1,oe)},A.prototype.writeInt32LE=function(W,Q,oe){$(this,W,Q,!0,oe)},A.prototype.writeInt32BE=function(W,Q,oe){$(this,W,Q,!1,oe)},A.prototype.writeFloatLE=function(W,Q,oe){se(this,W,Q,!0,oe)},A.prototype.writeFloatBE=function(W,Q,oe){se(this,W,Q,!1,oe)},A.prototype.writeDoubleLE=function(W,Q,oe){ne(this,W,Q,!0,oe)},A.prototype.writeDoubleBE=function(W,Q,oe){ne(this,W,Q,!1,oe)},A.prototype.fill=function(W,Q,oe){if(Q=Q||0,oe=oe||this.length,be(typeof(W=typeof(W=W||0)=="string"?W.charCodeAt(0):W)=="number"&&!isNaN(W),"value is not a number"),be(Q<=oe,"end < start"),oe!==Q&&this.length!==0){be(0<=Q&&Q<this.length,"start out of bounds"),be(0<=oe&&oe<=this.length,"end out of bounds");for(var Ee=Q;Ee<oe;Ee++)this[Ee]=W}},A.prototype.inspect=function(){for(var W=[],Q=this.length,oe=0;oe<Q;oe++)if(W[oe]=j(this[oe]),oe===s.INSPECT_MAX_BYTES){W[oe+1]="...";break}return"<Buffer "+W.join(" ")+">"},A.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(A._useTypedArrays)return new A(this).buffer;for(var W=new Uint8Array(this.length),Q=0,oe=W.length;Q<oe;Q+=1)W[Q]=this[Q];return W.buffer};var z=A.prototype;function Y(W,Q,oe){return typeof W!="number"?oe:Q<=(W=~~W)?Q:0<=W||0<=(W+=Q)?W:0}function Z(W){return(W=~~Math.ceil(+W))<0?0:W}function re(W){return(Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"})(W)}function j(W){return W<16?"0"+W.toString(16):W.toString(16)}function ae(W){for(var Q=[],oe=0;oe<W.length;oe++){var Ee=W.charCodeAt(oe);if(Ee<=127)Q.push(W.charCodeAt(oe));else for(var Me=oe,X=(55296<=Ee&&Ee<=57343&&oe++,encodeURIComponent(W.slice(Me,oe+1)).substr(1).split("%")),Oe=0;Oe<X.length;Oe++)Q.push(parseInt(X[Oe],16))}return Q}function Se(W){return x.toByteArray(W)}function Ae(W,Q,oe,Ee){for(var Me=0;Me<Ee&&!(Me+oe>=Q.length||Me>=W.length);Me++)Q[Me+oe]=W[Me];return Me}function ce(W){try{return decodeURIComponent(W)}catch{return""}}function Te(W,Q){be(typeof W=="number","cannot write a non-number as a number"),be(0<=W,"specified a negative value for writing an unsigned value"),be(W<=Q,"value is larger than maximum value for type"),be(Math.floor(W)===W,"value has a fractional component")}function Xe(W,Q,oe){be(typeof W=="number","cannot write a non-number as a number"),be(W<=Q,"value larger than maximum allowed value"),be(oe<=W,"value smaller than minimum allowed value"),be(Math.floor(W)===W,"value has a fractional component")}function et(W,Q,oe){be(typeof W=="number","cannot write a non-number as a number"),be(W<=Q,"value larger than maximum allowed value"),be(oe<=W,"value smaller than minimum allowed value")}function be(W,Q){if(!W)throw new Error(Q||"Failed assertion")}A._augment=function(W){return W._isBuffer=!0,W._get=W.get,W._set=W.set,W.get=z.get,W.set=z.set,W.write=z.write,W.toString=z.toString,W.toLocaleString=z.toString,W.toJSON=z.toJSON,W.copy=z.copy,W.slice=z.slice,W.readUInt8=z.readUInt8,W.readUInt16LE=z.readUInt16LE,W.readUInt16BE=z.readUInt16BE,W.readUInt32LE=z.readUInt32LE,W.readUInt32BE=z.readUInt32BE,W.readInt8=z.readInt8,W.readInt16LE=z.readInt16LE,W.readInt16BE=z.readInt16BE,W.readInt32LE=z.readInt32LE,W.readInt32BE=z.readInt32BE,W.readFloatLE=z.readFloatLE,W.readFloatBE=z.readFloatBE,W.readDoubleLE=z.readDoubleLE,W.readDoubleBE=z.readDoubleBE,W.writeUInt8=z.writeUInt8,W.writeUInt16LE=z.writeUInt16LE,W.writeUInt16BE=z.writeUInt16BE,W.writeUInt32LE=z.writeUInt32LE,W.writeUInt32BE=z.writeUInt32BE,W.writeInt8=z.writeInt8,W.writeInt16LE=z.writeInt16LE,W.writeInt16BE=z.writeInt16BE,W.writeInt32LE=z.writeInt32LE,W.writeInt32BE=z.writeInt32BE,W.writeFloatLE=z.writeFloatLE,W.writeFloatBE=z.writeFloatBE,W.writeDoubleLE=z.writeDoubleLE,W.writeDoubleBE=z.writeDoubleBE,W.fill=z.fill,W.inspect=z.inspect,W.toArrayBuffer=z.toArrayBuffer,W}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,i,s){(function(r,a,x,u,h,m,g,y,b){var x=t("buffer").Buffer,T=4,A=new x(T);A.fill(0),i.exports={hash:function(S,B,w,R){for(var L=B(function(M,H){M.length%T!=0&&(k=M.length+(T-M.length%T),M=x.concat([M,A],k));for(var k,$=[],se=H?M.readInt32BE:M.readInt32LE,ne=0;ne<M.length;ne+=T)$.push(se.call(M,ne));return $}(S=x.isBuffer(S)?S:new x(S),R),8*S.length),B=R,N=new x(w),U=B?N.writeInt32BE:N.writeInt32LE,P=0;P<L.length;P++)U.call(N,L[P],4*P,!0);return N}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,i,s){(function(r,a,x,u,h,m,g,y,b){var x=t("buffer").Buffer,T=t("./sha"),A=t("./sha256"),S=t("./rng"),B={sha1:T,sha256:A,md5:t("./md5")},w=64,R=new x(w);function L(M,H){var k=B[M=M||"sha1"],$=[];return k||N("algorithm:",M,"is not yet supported"),{update:function(se){return x.isBuffer(se)||(se=new x(se)),$.push(se),se.length,this},digest:function(se){var ne=x.concat($),ne=H?function(z,Y,Z){x.isBuffer(Y)||(Y=new x(Y)),x.isBuffer(Z)||(Z=new x(Z)),Y.length>w?Y=z(Y):Y.length<w&&(Y=x.concat([Y,R],w));for(var re=new x(w),j=new x(w),ae=0;ae<w;ae++)re[ae]=54^Y[ae],j[ae]=92^Y[ae];return Z=z(x.concat([re,Z])),z(x.concat([j,Z]))}(k,H,ne):k(ne);return $=null,se?ne.toString(se):ne}}}function N(){var M=[].slice.call(arguments).join(" ");throw new Error([M,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}R.fill(0),s.createHash=function(M){return L(M)},s.createHmac=L,s.randomBytes=function(M,H){if(!H||!H.call)return new x(S(M));try{H.call(this,void 0,new x(S(M)))}catch(k){H(k)}};var U,P=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],O=function(M){s[M]=function(){N("sorry,",M,"is not implemented yet")}};for(U in P)O(P[U])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){var x=t("./helpers");function T(N,U){N[U>>5]|=128<<U%32,N[14+(U+64>>>9<<4)]=U;for(var P=1732584193,O=-271733879,M=-1732584194,H=271733878,k=0;k<N.length;k+=16){var $=P,se=O,ne=M,z=H,P=S(P,O,M,H,N[k+0],7,-680876936),H=S(H,P,O,M,N[k+1],12,-389564586),M=S(M,H,P,O,N[k+2],17,606105819),O=S(O,M,H,P,N[k+3],22,-1044525330);P=S(P,O,M,H,N[k+4],7,-176418897),H=S(H,P,O,M,N[k+5],12,1200080426),M=S(M,H,P,O,N[k+6],17,-1473231341),O=S(O,M,H,P,N[k+7],22,-45705983),P=S(P,O,M,H,N[k+8],7,1770035416),H=S(H,P,O,M,N[k+9],12,-1958414417),M=S(M,H,P,O,N[k+10],17,-42063),O=S(O,M,H,P,N[k+11],22,-1990404162),P=S(P,O,M,H,N[k+12],7,1804603682),H=S(H,P,O,M,N[k+13],12,-40341101),M=S(M,H,P,O,N[k+14],17,-1502002290),P=B(P,O=S(O,M,H,P,N[k+15],22,1236535329),M,H,N[k+1],5,-165796510),H=B(H,P,O,M,N[k+6],9,-1069501632),M=B(M,H,P,O,N[k+11],14,643717713),O=B(O,M,H,P,N[k+0],20,-373897302),P=B(P,O,M,H,N[k+5],5,-701558691),H=B(H,P,O,M,N[k+10],9,38016083),M=B(M,H,P,O,N[k+15],14,-660478335),O=B(O,M,H,P,N[k+4],20,-405537848),P=B(P,O,M,H,N[k+9],5,568446438),H=B(H,P,O,M,N[k+14],9,-1019803690),M=B(M,H,P,O,N[k+3],14,-187363961),O=B(O,M,H,P,N[k+8],20,1163531501),P=B(P,O,M,H,N[k+13],5,-1444681467),H=B(H,P,O,M,N[k+2],9,-51403784),M=B(M,H,P,O,N[k+7],14,1735328473),P=w(P,O=B(O,M,H,P,N[k+12],20,-1926607734),M,H,N[k+5],4,-378558),H=w(H,P,O,M,N[k+8],11,-2022574463),M=w(M,H,P,O,N[k+11],16,1839030562),O=w(O,M,H,P,N[k+14],23,-35309556),P=w(P,O,M,H,N[k+1],4,-1530992060),H=w(H,P,O,M,N[k+4],11,1272893353),M=w(M,H,P,O,N[k+7],16,-155497632),O=w(O,M,H,P,N[k+10],23,-1094730640),P=w(P,O,M,H,N[k+13],4,681279174),H=w(H,P,O,M,N[k+0],11,-358537222),M=w(M,H,P,O,N[k+3],16,-722521979),O=w(O,M,H,P,N[k+6],23,76029189),P=w(P,O,M,H,N[k+9],4,-640364487),H=w(H,P,O,M,N[k+12],11,-421815835),M=w(M,H,P,O,N[k+15],16,530742520),P=R(P,O=w(O,M,H,P,N[k+2],23,-995338651),M,H,N[k+0],6,-198630844),H=R(H,P,O,M,N[k+7],10,1126891415),M=R(M,H,P,O,N[k+14],15,-1416354905),O=R(O,M,H,P,N[k+5],21,-57434055),P=R(P,O,M,H,N[k+12],6,1700485571),H=R(H,P,O,M,N[k+3],10,-1894986606),M=R(M,H,P,O,N[k+10],15,-1051523),O=R(O,M,H,P,N[k+1],21,-2054922799),P=R(P,O,M,H,N[k+8],6,1873313359),H=R(H,P,O,M,N[k+15],10,-30611744),M=R(M,H,P,O,N[k+6],15,-1560198380),O=R(O,M,H,P,N[k+13],21,1309151649),P=R(P,O,M,H,N[k+4],6,-145523070),H=R(H,P,O,M,N[k+11],10,-1120210379),M=R(M,H,P,O,N[k+2],15,718787259),O=R(O,M,H,P,N[k+9],21,-343485551),P=L(P,$),O=L(O,se),M=L(M,ne),H=L(H,z)}return Array(P,O,M,H)}function A(N,U,P,O,M,H){return L((U=L(L(U,N),L(O,H)))<<M|U>>>32-M,P)}function S(N,U,P,O,M,H,k){return A(U&P|~U&O,N,U,M,H,k)}function B(N,U,P,O,M,H,k){return A(U&O|P&~O,N,U,M,H,k)}function w(N,U,P,O,M,H,k){return A(U^P^O,N,U,M,H,k)}function R(N,U,P,O,M,H,k){return A(P^(U|~O),N,U,M,H,k)}function L(N,U){var P=(65535&N)+(65535&U);return(N>>16)+(U>>16)+(P>>16)<<16|65535&P}i.exports=function(N){return x.hash(N,T,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){i.exports=function(x){for(var T,A=new Array(x),S=0;S<x;S++)(3&S)==0&&(T=4294967296*Math.random()),A[S]=T>>>((3&S)<<3)&255;return A}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){var x=t("./helpers");function T(B,w){B[w>>5]|=128<<24-w%32,B[15+(w+64>>9<<4)]=w;for(var R,L,N,U=Array(80),P=1732584193,O=-271733879,M=-1732584194,H=271733878,k=-1009589776,$=0;$<B.length;$+=16){for(var se=P,ne=O,z=M,Y=H,Z=k,re=0;re<80;re++){U[re]=re<16?B[$+re]:S(U[re-3]^U[re-8]^U[re-14]^U[re-16],1);var j=A(A(S(P,5),(j=O,L=M,N=H,(R=re)<20?j&L|~j&N:!(R<40)&&R<60?j&L|j&N|L&N:j^L^N)),A(A(k,U[re]),(R=re)<20?1518500249:R<40?1859775393:R<60?-1894007588:-899497514)),k=H,H=M,M=S(O,30),O=P,P=j}P=A(P,se),O=A(O,ne),M=A(M,z),H=A(H,Y),k=A(k,Z)}return Array(P,O,M,H,k)}function A(B,w){var R=(65535&B)+(65535&w);return(B>>16)+(w>>16)+(R>>16)<<16|65535&R}function S(B,w){return B<<w|B>>>32-w}i.exports=function(B){return x.hash(B,T,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){function x(w,R){var L=(65535&w)+(65535&R);return(w>>16)+(R>>16)+(L>>16)<<16|65535&L}function T(w,R){var L,N=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),U=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),P=new Array(64);w[R>>5]|=128<<24-R%32,w[15+(R+64>>9<<4)]=R;for(var O,M,H=0;H<w.length;H+=16){for(var k=U[0],$=U[1],se=U[2],ne=U[3],z=U[4],Y=U[5],Z=U[6],re=U[7],j=0;j<64;j++)P[j]=j<16?w[j+H]:x(x(x((M=P[j-2],S(M,17)^S(M,19)^B(M,10)),P[j-7]),(M=P[j-15],S(M,7)^S(M,18)^B(M,3))),P[j-16]),L=x(x(x(x(re,S(M=z,6)^S(M,11)^S(M,25)),z&Y^~z&Z),N[j]),P[j]),O=x(S(O=k,2)^S(O,13)^S(O,22),k&$^k&se^$&se),re=Z,Z=Y,Y=z,z=x(ne,L),ne=se,se=$,$=k,k=x(L,O);U[0]=x(k,U[0]),U[1]=x($,U[1]),U[2]=x(se,U[2]),U[3]=x(ne,U[3]),U[4]=x(z,U[4]),U[5]=x(Y,U[5]),U[6]=x(Z,U[6]),U[7]=x(re,U[7])}return U}var A=t("./helpers"),S=function(w,R){return w>>>R|w<<32-R},B=function(w,R){return w>>>R};i.exports=function(w){return A.hash(w,T,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){s.read=function(x,T,A,S,H){var w,R,L=8*H-S-1,N=(1<<L)-1,U=N>>1,P=-7,O=A?H-1:0,M=A?-1:1,H=x[T+O];for(O+=M,w=H&(1<<-P)-1,H>>=-P,P+=L;0<P;w=256*w+x[T+O],O+=M,P-=8);for(R=w&(1<<-P)-1,w>>=-P,P+=S;0<P;R=256*R+x[T+O],O+=M,P-=8);if(w===0)w=1-U;else{if(w===N)return R?NaN:1/0*(H?-1:1);R+=Math.pow(2,S),w-=U}return(H?-1:1)*R*Math.pow(2,w-S)},s.write=function(x,T,A,S,B,k){var R,L,N=8*k-B-1,U=(1<<N)-1,P=U>>1,O=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=S?0:k-1,H=S?1:-1,k=T<0||T===0&&1/T<0?1:0;for(T=Math.abs(T),isNaN(T)||T===1/0?(L=isNaN(T)?1:0,R=U):(R=Math.floor(Math.log(T)/Math.LN2),T*(S=Math.pow(2,-R))<1&&(R--,S*=2),2<=(T+=1<=R+P?O/S:O*Math.pow(2,1-P))*S&&(R++,S/=2),U<=R+P?(L=0,R=U):1<=R+P?(L=(T*S-1)*Math.pow(2,B),R+=P):(L=T*Math.pow(2,P-1)*Math.pow(2,B),R=0));8<=B;x[A+M]=255&L,M+=H,L/=256,B-=8);for(R=R<<B|L,N+=B;0<N;x[A+M]=255&R,M+=H,R/=256,N-=8);x[A+M-H]|=128*k}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,i,s){(function(r,a,l,u,h,m,g,y,b){var x,T,A;function S(){}(r=i.exports={}).nextTick=(T=typeof window<"u"&&window.setImmediate,A=typeof window<"u"&&window.postMessage&&window.addEventListener,T?function(B){return window.setImmediate(B)}:A?(x=[],window.addEventListener("message",function(B){var w=B.source;w!==window&&w!==null||B.data!=="process-tick"||(B.stopPropagation(),0<x.length&&x.shift()())},!0),function(B){x.push(B),window.postMessage("process-tick","*")}):function(B){setTimeout(B,0)}),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=S,r.addListener=S,r.once=S,r.off=S,r.removeListener=S,r.removeAllListeners=S,r.emit=S,r.binding=function(B){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(B){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(H1)),H1.exports}var Nk=Ik();const Ok=Mv(Nk),Y0=()=>"/TI-Stats/",Lk=(n,e,t)=>Ok({date:n,players:e.sort(),factions:t.sort()});async function Pk(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map(s=>s.toString(16).padStart(2,"0")).join("")}const Hb=80,Uk=({number:n,title:e,color:t,onClick:i})=>_e.jsx(Vs,{component:"div",onClick:i,sx:{width:Hb,height:1.23*Hb,background:t,color:"white",borderTopLeftRadius:11,clipPath:"polygon(0% 0%, 90% 0%, 100% 12%, 100% 11%,57% 100%, 0% 100%, 0% 90%, 0% 10%)",padding:"5px",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"transform 0.5s ease","&:hover":{transform:"translateX(55px)",cursor:"pointer"}},children:_e.jsx(Vs,{sx:{width:Hb-2,height:1.23*Hb-2,backgroundImage:`url("${Y0()}/images/strategy-card-bg.png")`,backgroundSize:"cover",backgroundPosition:"center",color:"white",borderTopLeftRadius:11,clipPath:"polygon(0% 0%, 90% 0%, 100% 12%, 100% 11%,57% 100%, 0% 100%, 0% 90%, 0% 10%)",display:"flex",flexDirection:"column"},children:_e.jsxs(Vs,{sx:{marginRight:"11px"},children:[_e.jsx(ka,{variant:"h5",sx:{marginLeft:"55px",marginTop:"-2px"},children:n}),_e.jsx(ka,{fontSize:12,sx:{marginTop:"-2px"},children:e})]})})}),NL=({children:n,sx:e})=>_e.jsx(Vs,{sx:{maxHeight:"65vh",width:"65vw","@media (max-width:1400px)":{width:"50vh"},"@media (max-width:1000px)":{width:"30vh"},"@media (max-width:800px)":{width:0,padding:0},borderRadius:5,display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"rgba(37, 77, 110,0.8)",overflowY:"auto",boxShadow:"0 0 15px rgba(0,0,0,0.5)",color:"white",padding:"50px",...e},children:n}),OL=te.createContext({});function Fk(n){const e=te.useRef(null);return e.current===null&&(e.current=n()),e.current}const bw=typeof window<"u",Hk=bw?te.useLayoutEffect:te.useEffect,xw=te.createContext(null);function Sw(n,e){n.indexOf(e)===-1&&n.push(e)}function Aw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cu=(n,e,t)=>t>e?e:t<n?n:t;let Ew=()=>{};const uu={},LL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function PL(n){return typeof n=="object"&&n!==null}const UL=n=>/^0[^.\s]+$/u.test(n);function Mw(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ao=n=>n,zk=(n,e)=>t=>e(n(t)),Nv=(...n)=>n.reduce(zk),q0=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class Tw{constructor(){this.subscriptions=[]}add(e){return Sw(this.subscriptions,e),()=>Aw(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ac=n=>n*1e3,oc=n=>n/1e3;function FL(n,e){return e?n*(1e3/e):0}const HL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Gk=1e-7,Vk=12;function kk(n,e,t,i,s){let r,a,l=0;do a=e+(t-e)/2,r=HL(a,i,s)-n,r>0?t=a:e=a;while(Math.abs(r)>Gk&&++l<Vk);return a}function Ov(n,e,t,i){if(n===e&&t===i)return Ao;const s=r=>kk(r,0,1,n,t);return r=>r===0||r===1?r:HL(s(r),e,i)}const zL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,GL=n=>e=>1-n(1-e),VL=Ov(.33,1.53,.69,.99),Cw=GL(VL),kL=zL(Cw),XL=n=>(n*=2)<1?.5*Cw(n):.5*(2-Math.pow(2,-10*(n-1))),ww=n=>1-Math.sin(Math.acos(n)),jL=GL(ww),WL=zL(ww),Xk=Ov(.42,0,1,1),jk=Ov(0,0,.58,1),YL=Ov(.42,0,.58,1),Wk=n=>Array.isArray(n)&&typeof n[0]!="number",qL=n=>Array.isArray(n)&&typeof n[0]=="number",Yk={linear:Ao,easeIn:Xk,easeInOut:YL,easeOut:jk,circIn:ww,circInOut:WL,circOut:jL,backIn:Cw,backInOut:kL,backOut:VL,anticipate:XL},qk=n=>typeof n=="string",SD=n=>{if(qL(n)){Ew(n.length===4);const[e,t,i,s]=n;return Ov(e,t,i,s)}else if(qk(n))return Yk[n];return n},zb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],AD={value:null};function Kk(n,e){let t=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function h(g){a.has(g)&&(m.schedule(g),n()),u++,g(l)}const m={schedule:(g,y=!1,b=!1)=>{const T=b&&s?t:i;return y&&a.add(g),T.has(g)||T.add(g),g},cancel:g=>{i.delete(g),a.delete(g)},process:g=>{if(l=g,s){r=!0;return}s=!0,[t,i]=[i,t],t.forEach(h),e&&AD.value&&AD.value.frameloop[e].push(u),u=0,t.clear(),s=!1,r&&(r=!1,m.process(g))}};return m}const Jk=40;function KL(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=zb.reduce((w,R)=>(w[R]=Kk(r,e?R:void 0),w),{}),{setup:l,read:u,resolveKeyframes:h,preUpdate:m,update:g,preRender:y,render:b,postRender:x}=a,T=()=>{const w=uu.useManualTiming?s.timestamp:performance.now();t=!1,uu.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,Jk),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),u.process(s),h.process(s),m.process(s),g.process(s),y.process(s),b.process(s),x.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(T))},A=()=>{t=!0,i=!0,s.isProcessing||n(T)};return{schedule:zb.reduce((w,R)=>{const L=a[R];return w[R]=(N,U=!1,P=!1)=>(t||A(),L.schedule(N,U,P)),w},{}),cancel:w=>{for(let R=0;R<zb.length;R++)a[zb[R]].cancel(w)},state:s,steps:a}}const{schedule:Oi,cancel:Nf,state:ir,steps:z1}=KL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ao,!0);let jx;function Qk(){jx=void 0}const da={now:()=>(jx===void 0&&da.set(ir.isProcessing||uu.useManualTiming?ir.timestamp:performance.now()),jx),set:n=>{jx=n,queueMicrotask(Qk)}},JL=n=>e=>typeof e=="string"&&e.startsWith(n),Rw=JL("--"),Zk=JL("var(--"),Bw=n=>Zk(n)?$k.test(n.split("/*")[0].trim()):!1,$k=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},K0={...hg,transform:n=>cu(0,1,n)},Gb={...hg,default:1},x0=n=>Math.round(n*1e5)/1e5,Dw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e7(n){return n==null}const t7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Iw=(n,e)=>t=>!!(typeof t=="string"&&t7.test(t)&&t.startsWith(n)||e&&!e7(t)&&Object.prototype.hasOwnProperty.call(t,e)),QL=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,a,l]=i.match(Dw);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},n7=n=>cu(0,255,n),G1={...hg,transform:n=>Math.round(n7(n))},hd={test:Iw("rgb","red"),parse:QL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+G1.transform(n)+", "+G1.transform(e)+", "+G1.transform(t)+", "+x0(K0.transform(i))+")"};function i7(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const PT={test:Iw("#"),parse:i7,transform:hd.transform},Lv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Sf=Lv("deg"),lc=Lv("%"),Wt=Lv("px"),s7=Lv("vh"),r7=Lv("vw"),ED={...lc,parse:n=>lc.parse(n)/100,transform:n=>lc.transform(n*100)},Am={test:Iw("hsl","hue"),parse:QL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+lc.transform(x0(e))+", "+lc.transform(x0(t))+", "+x0(K0.transform(i))+")"},br={test:n=>hd.test(n)||PT.test(n)||Am.test(n),parse:n=>hd.test(n)?hd.parse(n):Am.test(n)?Am.parse(n):PT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?hd.transform(n):Am.transform(n)},a7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o7(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Dw))==null?void 0:e.length)||0)+(((t=n.match(a7))==null?void 0:t.length)||0)>0}const ZL="number",$L="color",l7="var",c7="var(",MD="${}",u7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function J0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=e.replace(u7,u=>(br.test(u)?(i.color.push(r),s.push($L),t.push(br.parse(u))):u.startsWith(c7)?(i.var.push(r),s.push(l7),t.push(u)):(i.number.push(r),s.push(ZL),t.push(parseFloat(u))),++r,MD)).split(MD);return{values:t,split:l,indexes:i,types:s}}function eP(n){return J0(n).values}function tP(n){const{split:e,types:t}=J0(n),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const l=t[a];l===ZL?r+=x0(s[a]):l===$L?r+=br.transform(s[a]):r+=s[a]}return r}}const f7=n=>typeof n=="number"?0:n;function h7(n){const e=eP(n);return tP(n)(e.map(f7))}const Of={test:o7,parse:eP,createTransformer:tP,getAnimatableNone:h7};function V1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function d7({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,a=0;if(!e)s=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;s=V1(u,l,n+1/3),r=V1(u,l,n),a=V1(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function uS(n,e){return t=>t>0?e:n}const Ii=(n,e,t)=>n+(e-n)*t,k1=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},p7=[PT,hd,Am],m7=n=>p7.find(e=>e.test(n));function TD(n){const e=m7(n);if(!e)return!1;let t=e.parse(n);return e===Am&&(t=d7(t)),t}const CD=(n,e)=>{const t=TD(n),i=TD(e);if(!t||!i)return uS(n,e);const s={...t};return r=>(s.red=k1(t.red,i.red,r),s.green=k1(t.green,i.green,r),s.blue=k1(t.blue,i.blue,r),s.alpha=Ii(t.alpha,i.alpha,r),hd.transform(s))},UT=new Set(["none","hidden"]);function g7(n,e){return UT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function y7(n,e){return t=>Ii(n,e,t)}function Nw(n){return typeof n=="number"?y7:typeof n=="string"?Bw(n)?uS:br.test(n)?CD:b7:Array.isArray(n)?nP:typeof n=="object"?br.test(n)?CD:v7:uS}function nP(n,e){const t=[...n],i=t.length,s=n.map((r,a)=>Nw(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)t[a]=s[a](r);return t}}function v7(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=Nw(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function _7(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=n.indexes[r][i[r]],l=n.values[a]??0;t[s]=l,i[r]++}return t}const b7=(n,e)=>{const t=Of.createTransformer(e),i=J0(n),s=J0(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?UT.has(n)&&!s.values.length||UT.has(e)&&!i.values.length?g7(n,e):Nv(nP(_7(i,s),s.values),t):uS(n,e)};function iP(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ii(n,e,t):Nw(n)(n,e)}const x7=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Oi.update(e,t),stop:()=>Nf(e),now:()=>ir.isProcessing?ir.timestamp:da.now()}},sP=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=n(r/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},fS=2e4;function Ow(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<fS;)e+=t,i=n.next(e);return e>=fS?1/0:e}function S7(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(Ow(i),fS);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:oc(s)}}const A7=5;function rP(n,e,t){const i=Math.max(e-A7,0);return FL(t-n(i),e-i)}const Yi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wD=.001;function E7({duration:n=Yi.duration,bounce:e=Yi.bounce,velocity:t=Yi.velocity,mass:i=Yi.mass}){let s,r,a=1-e;a=cu(Yi.minDamping,Yi.maxDamping,a),n=cu(Yi.minDuration,Yi.maxDuration,oc(n)),a<1?(s=h=>{const m=h*a,g=m*n,y=m-t,b=FT(h,a),x=Math.exp(-g);return wD-y/b*x},r=h=>{const g=h*a*n,y=g*t+t,b=Math.pow(a,2)*Math.pow(h,2)*n,x=Math.exp(-g),T=FT(Math.pow(h,2),a);return(-s(h)+wD>0?-1:1)*((y-b)*x)/T}):(s=h=>{const m=Math.exp(-h*n),g=(h-t)*n+1;return-.001+m*g},r=h=>{const m=Math.exp(-h*n),g=(t-h)*(n*n);return m*g});const l=5/n,u=T7(s,r,l);if(n=ac(n),isNaN(u))return{stiffness:Yi.stiffness,damping:Yi.damping,duration:n};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:n}}}const M7=12;function T7(n,e,t){let i=t;for(let s=1;s<M7;s++)i=i-n(i)/e(i);return i}function FT(n,e){return n*Math.sqrt(1-e*e)}const C7=["duration","bounce"],w7=["stiffness","damping","mass"];function RD(n,e){return e.some(t=>n[t]!==void 0)}function R7(n){let e={velocity:Yi.velocity,stiffness:Yi.stiffness,damping:Yi.damping,mass:Yi.mass,isResolvedFromDuration:!1,...n};if(!RD(n,w7)&&RD(n,C7))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*cu(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Yi.mass,stiffness:s,damping:r}}else{const t=E7(n);e={...e,...t,mass:Yi.mass},e.isResolvedFromDuration=!0}return e}function hS(n=Yi.visualDuration,e=Yi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=R7({...t,velocity:-oc(t.velocity||0)}),x=y||0,T=h/(2*Math.sqrt(u*m)),A=a-r,S=oc(Math.sqrt(u/m)),B=Math.abs(A)<5;i||(i=B?Yi.restSpeed.granular:Yi.restSpeed.default),s||(s=B?Yi.restDelta.granular:Yi.restDelta.default);let w;if(T<1){const L=FT(S,T);w=N=>{const U=Math.exp(-T*S*N);return a-U*((x+T*S*A)/L*Math.sin(L*N)+A*Math.cos(L*N))}}else if(T===1)w=L=>a-Math.exp(-S*L)*(A+(x+S*A)*L);else{const L=S*Math.sqrt(T*T-1);w=N=>{const U=Math.exp(-T*S*N),P=Math.min(L*N,300);return a-U*((x+T*S*A)*Math.sinh(P)+L*A*Math.cosh(P))/L}}const R={calculatedDuration:b&&g||null,next:L=>{const N=w(L);if(b)l.done=L>=g;else{let U=L===0?x:0;T<1&&(U=L===0?ac(x):rP(w,L,N));const P=Math.abs(U)<=i,O=Math.abs(a-N)<=s;l.done=P&&O}return l.value=l.done?a:N,l},toString:()=>{const L=Math.min(Ow(R),fS),N=sP(U=>R.next(L*U).value,L,30);return L+"ms "+N},toTransition:()=>{}};return R}hS.applyToOptions=n=>{const e=S7(n,100,hS);return n.ease=e.ease,n.duration=ac(e.duration),n.type="keyframes",n};function HT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:u,restDelta:h=.5,restSpeed:m}){const g=n[0],y={done:!1,value:g},b=P=>l!==void 0&&P<l||u!==void 0&&P>u,x=P=>l===void 0?u:u===void 0||Math.abs(l-P)<Math.abs(u-P)?l:u;let T=t*e;const A=g+T,S=a===void 0?A:a(A);S!==A&&(T=S-g);const B=P=>-T*Math.exp(-P/i),w=P=>S+B(P),R=P=>{const O=B(P),M=w(P);y.done=Math.abs(O)<=h,y.value=y.done?S:M};let L,N;const U=P=>{b(y.value)&&(L=P,N=hS({keyframes:[y.value,x(y.value)],velocity:rP(w,P,y.value),damping:s,stiffness:r,restDelta:h,restSpeed:m}))};return U(0),{calculatedDuration:null,next:P=>{let O=!1;return!N&&L===void 0&&(O=!0,R(P),U(P)),L!==void 0&&P>=L?N.next(P-L):(!O&&R(P),y)}}}function B7(n,e,t){const i=[],s=t||uu.mix||iP,r=n.length-1;for(let a=0;a<r;a++){let l=s(n[a],n[a+1]);if(e){const u=Array.isArray(e)?e[a]||Ao:e;l=Nv(u,l)}i.push(l)}return i}function D7(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if(Ew(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=B7(e,i,s),u=l.length,h=m=>{if(a&&m<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=q0(n[g],n[g+1],m);return l[g](y)};return t?m=>h(cu(n[0],n[r-1],m)):h}function I7(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=q0(0,e,i);n.push(Ii(t,1,s))}}function N7(n){const e=[0];return I7(e,n.length-1),e}function O7(n,e){return n.map(t=>t*e)}function L7(n,e){return n.map(()=>e||YL).splice(0,n.length-1)}function S0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=Wk(i)?i.map(SD):SD(i),r={done:!1,value:e[0]},a=O7(t&&t.length===e.length?t:N7(e),n),l=D7(a,e,{ease:Array.isArray(s)?s:L7(e,s)});return{calculatedDuration:n,next:u=>(r.value=l(u),r.done=u>=n,r)}}const P7=n=>n!==null;function Lw(n,{repeat:e,repeatType:t="loop"},i,s=1){const r=n.filter(P7),l=s<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const U7={decay:HT,inertia:HT,tween:S0,keyframes:S0,spring:hS};function aP(n){typeof n.type=="string"&&(n.type=U7[n.type])}class Pw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const F7=n=>n/100;class Uw extends Pw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var i,s;if(t){const{motionValue:r}=this.options;r&&r.updatedAt!==da.now()&&this.tick(da.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aP(e);const{type:t=S0,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const u=t||S0;u!==S0&&typeof l[0]!="number"&&(this.mixKeyframes=Nv(F7,iP(l[0],l[1])),l=[0,100]);const h=u({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Ow(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:x,onUpdate:T,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-h*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,R=i;if(g){const P=Math.min(this.currentTime,s)/l;let O=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(y==="reverse"?(M=1-M,b&&(M-=b/l)):y==="mirror"&&(R=a)),w=cu(0,1,M)*l}const L=B?{done:!1,value:m[0]}:R.next(w);r&&(L.value=r(L.value));let{done:N}=L;!B&&u!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return U&&x!==HT&&(L.value=Lw(m,this.options,A,this.speed)),T&&T(L.value),U&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return oc(this.calculatedDuration)}get time(){return oc(this.currentTime)}set time(e){var t;e=ac(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(da.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=oc(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:e=x7,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(da.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function H7(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const dd=n=>n*180/Math.PI,zT=n=>{const e=dd(Math.atan2(n[1],n[0]));return GT(e)},z7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:zT,rotateZ:zT,skewX:n=>dd(Math.atan(n[1])),skewY:n=>dd(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},GT=n=>(n=n%360,n<0&&(n+=360),n),BD=zT,DD=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ID=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),G7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DD,scaleY:ID,scale:n=>(DD(n)+ID(n))/2,rotateX:n=>GT(dd(Math.atan2(n[6],n[5]))),rotateY:n=>GT(dd(Math.atan2(-n[2],n[0]))),rotateZ:BD,rotate:BD,skewX:n=>dd(Math.atan(n[4])),skewY:n=>dd(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function VT(n){return n.includes("scale")?1:0}function kT(n,e){if(!n||n==="none")return VT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=G7,s=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=z7,s=l}if(!s)return VT(e);const r=i[e],a=s[1].split(",").map(k7);return typeof r=="function"?r(a):a[r]}const V7=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return kT(t,e)};function k7(n){return parseFloat(n.trim())}const dg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pg=new Set(dg),ND=n=>n===hg||n===Wt,X7=new Set(["x","y","z"]),j7=dg.filter(n=>!X7.has(n));function W7(n){const e=[];return j7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Ad={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>kT(e,"x"),y:(n,{transform:e})=>kT(e,"y")};Ad.translateX=Ad.x;Ad.translateY=Ad.y;const Ed=new Set;let XT=!1,jT=!1,WT=!1;function oP(){if(jT){const n=Array.from(Ed).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=W7(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,a])=>{var l;(l=i.getValue(r))==null||l.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}jT=!1,XT=!1,Ed.forEach(n=>n.complete(WT)),Ed.clear()}function lP(){Ed.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(jT=!0)})}function Y7(){WT=!0,lP(),oP(),WT=!1}class Fw{constructor(e,t,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ed.add(this),XT||(XT=!0,Oi.read(lP),Oi.resolveKeyframes(oP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const r=s==null?void 0:s.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&r===void 0&&s.set(e[0])}H7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ed.delete(this)}cancel(){this.state==="scheduled"&&(Ed.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q7=n=>n.startsWith("--");function K7(n,e,t){q7(e)?n.style.setProperty(e,t):n.style[e]=t}const J7=Mw(()=>window.ScrollTimeline!==void 0),Q7={};function Z7(n,e){const t=Mw(n);return()=>Q7[e]??t()}const cP=Z7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),p0=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,OD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:p0([0,.65,.55,1]),circOut:p0([.55,0,1,.45]),backIn:p0([.31,.01,.66,-.59]),backOut:p0([.33,1.53,.69,.99])};function uP(n,e){if(n)return typeof n=="function"?cP()?sP(n,e):"ease-out":qL(n)?p0(n):Array.isArray(n)?n.map(t=>uP(t,e)||OD.easeOut):OD[n]}function $7(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:l="easeOut",times:u}={},h=void 0){const m={[e]:t};u&&(m.offset=u);const g=uP(l,s);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),n.animate(m,y)}function fP(n){return typeof n=="function"&&"applyToOptions"in n}function eX({type:n,...e}){return fP(n)&&cP()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tX extends Pw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,Ew(typeof e.type!="string");const h=eX(e);this.animation=$7(t,i,s,h,r),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=Lw(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):K7(t,i,m),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return oc(Number(e))}get time(){return oc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ac(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&J7()?(this.animation.timeline=e,Ao):t(this)}}const hP={anticipate:XL,backInOut:kL,circInOut:WL};function nX(n){return n in hP}function iX(n){typeof n.ease=="string"&&nX(n.ease)&&(n.ease=hP[n.ease])}const LD=10;class sX extends tX{constructor(e){iX(e),aP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new Uw({...a,autoplay:!1}),u=ac(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-LD).value,l.sample(u).value,LD),l.stop()}}const PD=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Of.test(n)||n==="0")&&!n.startsWith("url("));function rX(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function aX(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=PD(s,e),l=PD(r,e);return!a||!l?!1:rX(n)||(t==="spring"||fP(t))&&i}function dP(n){return PL(n)&&"offsetHeight"in n}const oX=new Set(["opacity","clipPath","filter","transform"]),lX=Mw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cX(n){var h;const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:r,type:a}=n;if(!dP((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return lX()&&t&&oX.has(t)&&(t!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const uX=40;class fX extends Pw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:l,name:u,motionValue:h,element:m,...g}){var x;super(),this.stop=()=>{var T,A;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=da.now();const y={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:h,element:m,...g},b=(m==null?void 0:m.KeyframeResolver)||Fw;this.keyframeResolver=new b(l,(T,A,S)=>this.onKeyframesResolved(T,A,y,!S),u,h,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:u,isHandoff:h,onUpdate:m}=i;this.resolvedAt=da.now(),aX(e,r,a,l)||((uu.instantAnimations||!u)&&(m==null||m(Lw(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>uX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!h&&cX(y)?new sX({...y,element:y.motionValue.owner.current}):new Uw(y);b.finished.then(()=>this.notifyFinished()).catch(Ao),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dX(n){const e=hX.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function pP(n,e,t=1){const[i,s]=dX(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return LL(a)?parseFloat(a):a}return Bw(s)?pP(s,e,t+1):s}function Hw(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const mP=new Set(["width","height","top","left","right","bottom",...dg]),pX={test:n=>n==="auto",parse:n=>n},gP=n=>e=>e.test(n),yP=[hg,Wt,lc,Sf,r7,s7,pX],UD=n=>yP.find(gP(n));function mX(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||UL(n):!0}const gX=new Set(["brightness","contrast","saturate","opacity"]);function yX(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Dw)||[];if(!i)return n;const s=t.replace(i,"");let r=gX.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const vX=/\b([a-z-]*)\(.*?\)/gu,YT={...Of,getAnimatableNone:n=>{const e=n.match(vX);return e?e.map(yX).join(" "):n}},FD={...hg,transform:Math.round},_X={rotate:Sf,rotateX:Sf,rotateY:Sf,rotateZ:Sf,scale:Gb,scaleX:Gb,scaleY:Gb,scaleZ:Gb,skew:Sf,skewX:Sf,skewY:Sf,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:K0,originX:ED,originY:ED,originZ:Wt},zw={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,..._X,zIndex:FD,fillOpacity:K0,strokeOpacity:K0,numOctaves:FD},bX={...zw,color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:YT,WebkitFilter:YT},vP=n=>bX[n];function _P(n,e){let t=vP(n);return t!==YT&&(t=Of),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const xX=new Set(["auto","none","0"]);function SX(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!xX.has(r)&&J0(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=_P(t,s)}class AX extends Fw{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),Bw(h))){const m=pP(h,t.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!mP.has(i)||e.length!==2)return;const[s,r]=e,a=UD(s),l=UD(r);if(a!==l)if(ND(a)&&ND(l))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else Ad[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||mX(e[s]))&&i.push(s);i.length&&SX(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ad[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Ad[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function EX(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(t==null?void 0:t[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const HD=30,MX=n=>!isNaN(parseFloat(n));class TX{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var a,l;const r=da.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=da.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Tw);const i=this.events[e].add(t);return e==="change"?()=>{i(),Oi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=da.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HD)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,HD);return FL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function km(n,e){return new TX(n,e)}const bP=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:Gw}=KL(queueMicrotask,!1),nl={x:!1,y:!1};function xP(){return nl.x||nl.y}function CX(n){return n==="x"||n==="y"?nl[n]?null:(nl[n]=!0,()=>{nl[n]=!1}):nl.x||nl.y?null:(nl.x=nl.y=!0,()=>{nl.x=nl.y=!1})}function SP(n,e){const t=EX(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function zD(n){return!(n.pointerType==="touch"||xP())}function wX(n,e,t={}){const[i,s,r]=SP(n,t),a=l=>{if(!zD(l))return;const{target:u}=l,h=e(u,l);if(typeof h!="function"||!u)return;const m=g=>{zD(g)&&(h(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(l=>{l.addEventListener("pointerenter",a,s)}),r}const AP=(n,e)=>e?n===e?!0:AP(n,e.parentElement):!1,Vw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,RX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BX(n){return RX.has(n.tagName)||n.tabIndex!==-1}const Wx=new WeakSet;function GD(n){return e=>{e.key==="Enter"&&n(e)}}function X1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DX=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=GD(()=>{if(Wx.has(t))return;X1(t,"down");const s=GD(()=>{X1(t,"up")}),r=()=>X1(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function VD(n){return Vw(n)&&!xP()}function IX(n,e,t={}){const[i,s,r]=SP(n,t),a=l=>{const u=l.currentTarget;if(!VD(l))return;Wx.add(u);const h=e(u,l),m=(b,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Wx.has(u)&&Wx.delete(u),VD(b)&&typeof h=="function"&&h(b,{success:x})},g=b=>{m(b,u===window||u===document||t.useGlobalTarget||AP(u,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),dP(l)&&(l.addEventListener("focus",h=>DX(h,s)),!BX(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function EP(n){return PL(n)&&"ownerSVGElement"in n}function NX(n){return EP(n)&&n.tagName==="svg"}const Er=n=>!!(n&&n.getVelocity),OX=[...yP,br,Of],LX=n=>OX.find(gP(n)),MP=te.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function PX(n=!0){const e=te.useContext(xw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,r=te.useId();te.useEffect(()=>{if(n)return s(r)},[n]);const a=te.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,a]:[!0]}const TP=te.createContext({strict:!1}),kD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xm={};for(const n in kD)Xm[n]={isEnabled:e=>kD[n].some(t=>!!e[t])};function UX(n){for(const e in n)Xm[e]={...Xm[e],...n[e]}}const FX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||FX.has(n)}let CP=n=>!dS(n);function HX(n){n&&(CP=e=>e.startsWith("on")?!dS(e):n(e))}try{HX(require("@emotion/is-prop-valid").default)}catch{}function zX(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(CP(s)||t===!0&&dS(s)||!e&&!dS(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function GX(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const GA=te.createContext({});function VA(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Q0(n){return typeof n=="string"||Array.isArray(n)}const kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xw=["initial",...kw];function kA(n){return VA(n.animate)||Xw.some(e=>Q0(n[e]))}function wP(n){return!!(kA(n)||n.variants)}function VX(n,e){if(kA(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Q0(t)?t:void 0,animate:Q0(i)?i:void 0}}return n.inherit!==!1?e:{}}function kX(n){const{initial:e,animate:t}=VX(n,te.useContext(GA));return te.useMemo(()=>({initial:e,animate:t}),[XD(e),XD(t)])}function XD(n){return Array.isArray(n)?n.join(" "):n}const XX=Symbol.for("motionComponentSymbol");function Em(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jX(n,e,t){return te.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Em(t)&&(t.current=i))},[e])}const jw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WX="framerAppearId",RP="data-"+jw(WX),BP=te.createContext({});function YX(n,e,t,i,s){var T,A;const{visualElement:r}=te.useContext(GA),a=te.useContext(TP),l=te.useContext(xw),u=te.useContext(MP).reducedMotion,h=te.useRef(null);i=i||a.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,g=te.useContext(BP);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&qX(h.current,t,s,g);const y=te.useRef(!1);te.useInsertionEffect(()=>{m&&y.current&&m.update(t,l)});const b=t[RP],x=te.useRef(!!b&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,b))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,b)));return Hk(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Gw.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),te.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,b)}),x.current=!1))}),m}function qX(n,e,t,i){const{layoutId:s,layout:r,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:h,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:DP(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||l&&Em(l),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:u,layoutRoot:h})}function DP(n){if(n)return n.options.allowProjection!==!1?n.projection:DP(n.parent)}function KX({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){n&&UX(n);function r(l,u){let h;const m={...te.useContext(MP),...l,layoutId:JX(l)},{isStatic:g}=m,y=kX(l),b=i(l,g);if(!g&&bw){QX();const x=ZX(m);h=x.MeasureLayout,y.visualElement=YX(s,b,m,e,x.ProjectionNode)}return _e.jsxs(GA.Provider,{value:y,children:[h&&y.visualElement?_e.jsx(h,{visualElement:y.visualElement,...m}):null,t(s,l,jX(b,y.visualElement,u),b,g,y.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=te.forwardRef(r);return a[XX]=s,a}function JX({layoutId:n}){const e=te.useContext(OL).id;return e&&n!==void 0?e+"-"+n:n}function QX(n,e){te.useContext(TP).strict}function ZX(n){const{drag:e,layout:t}=Xm;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Z0={};function $X(n){for(const e in n)Z0[e]=n[e],Rw(e)&&(Z0[e].isCSSVariable=!0)}function IP(n,{layout:e,layoutId:t}){return pg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Z0[n]||n==="opacity")}const ej={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tj=dg.length;function nj(n,e,t){let i="",s=!0;for(let r=0;r<tj;r++){const a=dg[r],l=n[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const h=bP(l,zw[a]);if(!u){s=!1;const m=ej[a]||a;i+=`${m}(${h}) `}t&&(e[a]=h)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Ww(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let a=!1,l=!1;for(const u in e){const h=e[u];if(pg.has(u)){a=!0;continue}else if(Rw(u)){s[u]=h;continue}else{const m=bP(h,zw[u]);u.startsWith("origin")?(l=!0,r[u]=m):i[u]=m}}if(e.transform||(a||t?i.transform=nj(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:h="50%",originZ:m=0}=r;i.transformOrigin=`${u} ${h} ${m}`}}const Yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NP(n,e,t){for(const i in e)!Er(e[i])&&!IP(i,t)&&(n[i]=e[i])}function ij({transformTemplate:n},e){return te.useMemo(()=>{const t=Yw();return Ww(t,e,n),Object.assign({},t.vars,t.style)},[e])}function sj(n,e){const t=n.style||{},i={};return NP(i,t,n),Object.assign(i,ij(n,e)),i}function rj(n,e){const t={},i=sj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const aj={offset:"stroke-dashoffset",array:"stroke-dasharray"},oj={offset:"strokeDashoffset",array:"strokeDasharray"};function lj(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?aj:oj;n[r.offset]=Wt.transform(-i);const a=Wt.transform(e),l=Wt.transform(t);n[r.array]=`${a} ${l}`}function OP(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...l},u,h,m){if(Ww(n,l,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),s!==void 0&&lj(g,s,r,a,!1)}const LP=()=>({...Yw(),attrs:{}}),PP=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cj(n,e,t,i){const s=te.useMemo(()=>{const r=LP();return OP(r,e,PP(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};NP(r,n.style,n),s.style={...r,...s.style}}return s}const uj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qw(n){return typeof n!="string"||n.includes("-")?!1:!!(uj.indexOf(n)>-1||/[A-Z]/u.test(n))}function fj(n=!1){return(t,i,s,{latestValues:r},a)=>{const u=(qw(t)?cj:rj)(i,r,a,t),h=zX(i,typeof t=="string",n),m=t!==te.Fragment?{...h,...u,ref:s}:{},{children:g}=i,y=te.useMemo(()=>Er(g)?g.get():g,[g]);return te.createElement(t,{...m,children:y})}}function jD(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Kw(n,e,t,i){if(typeof e=="function"){const[s,r]=jD(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=jD(i);e=e(t!==void 0?t:n.custom,s,r)}return e}function Yx(n){return Er(n)?n.get():n}function hj({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:dj(t,i,s,n),renderState:e()}}const UP=n=>(e,t)=>{const i=te.useContext(GA),s=te.useContext(xw),r=()=>hj(n,e,i,s);return t?r():Fk(r)};function dj(n,e,t,i){const s={},r=i(n,{});for(const y in r)s[y]=Yx(r[y]);let{initial:a,animate:l}=n;const u=kA(n),h=wP(n);e&&h&&!u&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?l:a;if(g&&typeof g!="boolean"&&!VA(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const x=Kw(n,y[b]);if(x){const{transitionEnd:T,transition:A,...S}=x;for(const B in S){let w=S[B];if(Array.isArray(w)){const R=m?w.length-1:0;w=w[R]}w!==null&&(s[B]=w)}for(const B in T)s[B]=T[B]}}}return s}function Jw(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Er(i[a])||e.style&&Er(e.style[a])||IP(a,n)||((r=t==null?void 0:t.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const pj={useVisualState:UP({scrapeMotionValuesFromProps:Jw,createRenderState:Yw})};function FP(n,e,t){const i=Jw(n,e,t);for(const s in n)if(Er(n[s])||Er(e[s])){const r=dg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const mj={useVisualState:UP({scrapeMotionValuesFromProps:FP,createRenderState:LP})};function gj(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...qw(i)?mj:pj,preloadedFeatures:n,useRender:fj(s),createVisualElement:e,Component:i};return KX(a)}}function $0(n,e,t){const i=n.getProps();return Kw(i,e,t!==void 0?t:i.custom,n)}const qT=n=>Array.isArray(n);function yj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,km(t))}function vj(n){return qT(n)?n[n.length-1]||0:n}function _j(n,e){const t=$0(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const a in r){const l=vj(r[a]);yj(n,a,l)}}function bj(n){return!!(Er(n)&&n.add)}function KT(n,e){const t=n.getValue("willChange");if(bj(t))return t.add(e);if(!t&&uu.WillChange){const i=new uu.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function HP(n){return n.props[RP]}const xj=n=>n!==null;function Sj(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(xj),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[r]}const Aj={type:"spring",stiffness:500,damping:25,restSpeed:10},Ej=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Mj={type:"keyframes",duration:.8},Tj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cj=(n,{keyframes:e})=>e.length>2?Mj:pg.has(n)?n.startsWith("scale")?Ej(e[1]):Aj:Tj;function wj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:l,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const Qw=(n,e,t,i={},s,r)=>a=>{const l=Hw(i,n)||{},u=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-ac(u);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:r?void 0:s};wj(l)||Object.assign(m,Cj(n,m)),m.duration&&(m.duration=ac(m.duration)),m.repeatDelay&&(m.repeatDelay=ac(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(uu.instantAnimations||uu.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!l.type&&!l.ease,g&&!r&&e.get()!==void 0){const y=Sj(m.keyframes,l);if(y!==void 0){Oi.update(()=>{m.onUpdate(y),m.onComplete()});return}}return l.isSync?new Uw(m):new fX(m)};function Rj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function zP(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(r=i);const u=[],h=s&&n.animationState&&n.animationState.getState()[s];for(const m in l){const g=n.getValue(m,n.latestValues[m]??null),y=l[m];if(y===void 0||h&&Rj(h,m))continue;const b={delay:t,...Hw(r||{},m)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===x&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=HP(n);if(S){const B=window.MotionHandoffAnimation(S,m,Oi);B!==null&&(b.startTime=B,T=!0)}}KT(n,m),g.start(Qw(m,g,y,n.shouldReduceMotion&&mP.has(m)?{type:!1}:b,n,T));const A=g.animation;A&&u.push(A)}return a&&Promise.all(u).then(()=>{Oi.update(()=>{a&&_j(n,a)})}),u}function JT(n,e,t={}){var u;const i=$0(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const r=i?()=>Promise.all(zP(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=s;return Bj(n,e,m+h,g,y,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[h,m]=l==="beforeChildren"?[r,a]:[a,r];return h().then(()=>m())}else return Promise.all([r(),a(t.delay)])}function Bj(n,e,t=0,i=0,s=1,r){const a=[],l=(n.variantChildren.size-1)*i,u=s===1?(h=0)=>h*i:(h=0)=>l-h*i;return Array.from(n.variantChildren).sort(Dj).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(JT(h,e,{...r,delay:t+u(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function Dj(n,e){return n.sortNodePosition(e)}function Ij(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>JT(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=JT(n,e,t);else{const s=typeof e=="function"?$0(n,e,t.custom):e;i=Promise.all(zP(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function GP(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Nj=Xw.length;function VP(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?VP(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Nj;t++){const i=Xw[t],s=n.props[i];(Q0(s)||s===!1)&&(e[i]=s)}return e}const Oj=[...kw].reverse(),Lj=kw.length;function Pj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Ij(n,t,i)))}function Uj(n){let e=Pj(n),t=WD(),i=!0;const s=u=>(h,m)=>{var y;const g=$0(n,m,u==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:b,transitionEnd:x,...T}=g;h={...h,...T,...x}}return h};function r(u){e=u(n)}function a(u){const{props:h}=n,m=VP(n.parent)||{},g=[],y=new Set;let b={},x=1/0;for(let A=0;A<Lj;A++){const S=Oj[A],B=t[S],w=h[S]!==void 0?h[S]:m[S],R=Q0(w),L=S===u?B.isActive:null;L===!1&&(x=A);let N=w===m[S]&&w!==h[S]&&R;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),B.protectedKeys={...b},!B.isActive&&L===null||!w&&!B.prevProp||VA(w)||typeof w=="boolean")continue;const U=Fj(B.prevProp,w);let P=U||S===u&&B.isActive&&!N&&R||A>x&&R,O=!1;const M=Array.isArray(w)?w:[w];let H=M.reduce(s(S),{});L===!1&&(H={});const{prevResolvedValues:k={}}=B,$={...k,...H},se=Y=>{P=!0,y.has(Y)&&(O=!0,y.delete(Y)),B.needsAnimating[Y]=!0;const Z=n.getValue(Y);Z&&(Z.liveStyle=!1)};for(const Y in $){const Z=H[Y],re=k[Y];if(b.hasOwnProperty(Y))continue;let j=!1;qT(Z)&&qT(re)?j=!GP(Z,re):j=Z!==re,j?Z!=null?se(Y):y.add(Y):Z!==void 0&&y.has(Y)?se(Y):B.protectedKeys[Y]=!0}B.prevProp=w,B.prevResolvedValues=H,B.isActive&&(b={...b,...H}),i&&n.blockInitialAnimation&&(P=!1),P&&(!(N&&U)||O)&&g.push(...M.map(Y=>({animation:Y,options:{type:S}})))}if(y.size){const A={};if(typeof h.initial!="boolean"){const S=$0(n,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(A.transition=S.transition)}y.forEach(S=>{const B=n.getBaseTarget(S),w=n.getValue(S);w&&(w.liveStyle=!0),A[S]=B??null}),g.push({animation:A})}let T=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function l(u,h){var g;if(t[u].isActive===h)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(u,h)}),t[u].isActive=h;const m=a(u);for(const y in t)t[y].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=WD(),i=!0}}}function Fj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!GP(e,n):!1}function zh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WD(){return{animate:zh(!0),whileInView:zh(),whileHover:zh(),whileTap:zh(),whileDrag:zh(),whileFocus:zh(),exit:zh()}}class Vf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Hj extends Vf{constructor(e){super(e),e.animationState||(e.animationState=Uj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();VA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zj=0;class Gj extends Vf{constructor(){super(...arguments),this.id=zj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Vj={animation:{Feature:Hj},exit:{Feature:Gj}};function ev(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Pv(n){return{point:{x:n.pageX,y:n.pageY}}}const kj=n=>e=>Vw(e)&&n(e,Pv(e));function A0(n,e,t,i){return ev(n,e,kj(t),i)}function kP({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Xj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function jj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const XP=1e-4,Wj=1-XP,Yj=1+XP,jP=.01,qj=0-jP,Kj=0+jP;function qr(n){return n.max-n.min}function Jj(n,e,t){return Math.abs(n-e)<=t}function YD(n,e,t,i=.5){n.origin=i,n.originPoint=Ii(e.min,e.max,n.origin),n.scale=qr(t)/qr(e),n.translate=Ii(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Wj&&n.scale<=Yj||isNaN(n.scale))&&(n.scale=1),(n.translate>=qj&&n.translate<=Kj||isNaN(n.translate))&&(n.translate=0)}function E0(n,e,t,i){YD(n.x,e.x,t.x,i?i.originX:void 0),YD(n.y,e.y,t.y,i?i.originY:void 0)}function qD(n,e,t){n.min=t.min+e.min,n.max=n.min+qr(e)}function Qj(n,e,t){qD(n.x,e.x,t.x),qD(n.y,e.y,t.y)}function KD(n,e,t){n.min=e.min-t.min,n.max=n.min+qr(e)}function M0(n,e,t){KD(n.x,e.x,t.x),KD(n.y,e.y,t.y)}const JD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mm=()=>({x:JD(),y:JD()}),QD=()=>({min:0,max:0}),is=()=>({x:QD(),y:QD()});function yo(n){return[n("x"),n("y")]}function j1(n){return n===void 0||n===1}function QT({scale:n,scaleX:e,scaleY:t}){return!j1(n)||!j1(e)||!j1(t)}function id(n){return QT(n)||WP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function WP(n){return ZD(n.x)||ZD(n.y)}function ZD(n){return n&&n!=="0%"}function pS(n,e,t){const i=n-t,s=e*i;return t+s}function $D(n,e,t,i,s){return s!==void 0&&(n=pS(n,s,i)),pS(n,t,i)+e}function ZT(n,e=0,t=1,i,s){n.min=$D(n.min,e,t,i,s),n.max=$D(n.max,e,t,i,s)}function YP(n,{x:e,y:t}){ZT(n.x,e.translate,e.scale,e.originPoint),ZT(n.y,t.translate,t.scale,t.originPoint)}const e3=.999999999999,t3=1.0000000000001;function Zj(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,a;for(let l=0;l<s;l++){r=t[l],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Cm(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,YP(n,a)),i&&id(r.latestValues)&&Cm(n,r.latestValues))}e.x<t3&&e.x>e3&&(e.x=1),e.y<t3&&e.y>e3&&(e.y=1)}function Tm(n,e){n.min=n.min+e,n.max=n.max+e}function n3(n,e,t,i,s=.5){const r=Ii(n.min,n.max,s);ZT(n,e,t,r,i)}function Cm(n,e){n3(n.x,e.x,e.scaleX,e.scale,e.originX),n3(n.y,e.y,e.scaleY,e.scale,e.originY)}function qP(n,e){return kP(jj(n.getBoundingClientRect(),e))}function $j(n,e,t){const i=qP(n,t),{scroll:s}=e;return s&&(Tm(i.x,s.offset.x),Tm(i.y,s.offset.y)),i}const KP=({current:n})=>n?n.ownerDocument.defaultView:null,i3=(n,e)=>Math.abs(n-e);function eW(n,e){const t=i3(n.x,e.x),i=i3(n.y,e.y);return Math.sqrt(t**2+i**2)}class JP{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Y1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=eW(g.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:x}=g,{timestamp:T}=ir;this.history.push({...x,timestamp:T});const{onStart:A,onMove:S}=this.handlers;y||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=W1(y,this.transformPagePoint),Oi.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Y1(g.type==="pointercancel"?this.lastMoveEventInfo:W1(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,A),x&&x(g,A)},!Vw(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const a=Pv(e),l=W1(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=ir;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,Y1(l,this.history)),this.removeListeners=Nv(A0(this.contextWindow,"pointermove",this.handlePointerMove),A0(this.contextWindow,"pointerup",this.handlePointerUp),A0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nf(this.updatePoint)}}function W1(n,e){return e?{point:e(n.point)}:n}function s3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Y1({point:n},e){return{point:n,delta:s3(n,QP(e)),offset:s3(n,tW(e)),velocity:nW(e,.1)}}function tW(n){return n[0]}function QP(n){return n[n.length-1]}function nW(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=QP(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>ac(e)));)t--;if(!i)return{x:0,y:0};const r=oc(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function iW(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Ii(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Ii(t,n,i.max):Math.min(n,t)),n}function r3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function sW(n,{top:e,left:t,bottom:i,right:s}){return{x:r3(n.x,t,s),y:r3(n.y,e,i)}}function a3(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function rW(n,e){return{x:a3(n.x,e.x),y:a3(n.y,e.y)}}function aW(n,e){let t=.5;const i=qr(n),s=qr(e);return s>i?t=q0(e.min,e.max-i,n.min):i>s&&(t=q0(n.min,n.max-s,e.min)),cu(0,1,t)}function oW(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $T=.35;function lW(n=$T){return n===!1?n=0:n===!0&&(n=$T),{x:o3(n,"left","right"),y:o3(n,"top","bottom")}}function o3(n,e,t){return{min:l3(n,e),max:l3(n,t)}}function l3(n,e){return typeof n=="number"?n:n[e]||0}const cW=new WeakMap;class uW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=is(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Pv(m).point)},r=(m,g)=>{const{drag:y,dragPropagation:b,onDragStart:x}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CX(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yo(A=>{let S=this.getAxisMotionValue(A).get()||0;if(lc.test(S)){const{projection:B}=this.visualElement;if(B&&B.layout){const w=B.layout.layoutBox[A];w&&(S=qr(w)*(parseFloat(S)/100))}}this.originPoint[A]=S}),x&&Oi.postRender(()=>x(m,g)),KT(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:x,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=g;if(b&&this.currentDirection===null){this.currentDirection=fW(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),T&&T(m,g)},l=(m,g)=>this.stop(m,g),u=()=>yo(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new JP(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:KP(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Oi.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Vb(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=iW(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&Em(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=sW(i.layoutBox,e):this.constraints=!1,this.elastic=lW(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=oW(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Em(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=$j(i,s.root,this.visualElement.getTransformPagePoint());let a=rW(s.layout.layoutBox,r);if(t){const l=t(Xj(a));this.hasMutatedConstraints=!!l,l&&(a=kP(l))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=yo(m=>{if(!Vb(m,t,this.currentDirection))return;let g=u&&u[m]||{};a&&(g={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,x={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return KT(this.visualElement,e),i.start(Qw(e,i,0,t,this.visualElement,!1))}stopAnimation(){yo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){yo(t=>{const{drag:i}=this.getProps();if(!Vb(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];r.set(e[t]-Ii(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Em(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yo(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();s[a]=aW({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),yo(a=>{if(!Vb(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];l.set(Ii(u,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;cW.set(this.visualElement,this);const e=this.visualElement.current,t=A0(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Em(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Oi.read(i);const a=ev(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(yo(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=$T,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function Vb(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function fW(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class hW extends Vf{constructor(e){super(e),this.removeGroupControls=Ao,this.removeListeners=Ao,this.controls=new uW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ao}unmount(){this.removeGroupControls(),this.removeListeners()}}const c3=n=>(e,t)=>{n&&Oi.postRender(()=>n(e,t))};class dW extends Vf{constructor(){super(...arguments),this.removePointerDownListener=Ao}onPointerDown(e){this.session=new JP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:c3(e),onStart:c3(t),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Oi.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=A0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Yy={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Wt.test(n))n=parseFloat(n);else return n;const t=u3(n,e.target.x),i=u3(n,e.target.y);return`${t}% ${i}%`}},pW={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=Of.parse(n);if(s.length>5)return i;const r=Of.createTransformer(n),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=u;const h=Ii(l,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),r(s)}};class mW extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;$X(gW),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),qx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Oi.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZP(n){const[e,t]=PX(),i=te.useContext(OL);return _e.jsx(mW,{...n,layoutGroup:i,switchLayoutGroup:te.useContext(BP),isPresent:e,safeToRemove:t})}const gW={borderRadius:{...Yy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yy,borderTopRightRadius:Yy,borderBottomLeftRadius:Yy,borderBottomRightRadius:Yy,boxShadow:pW};function yW(n,e,t){const i=Er(n)?n:km(n);return i.start(Qw("",i,e,t)),i.animation}const vW=(n,e)=>n.depth-e.depth;class _W{constructor(){this.children=[],this.isDirty=!1}add(e){Sw(this.children,e),this.isDirty=!0}remove(e){Aw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vW),this.isDirty=!1,this.children.forEach(e)}}function bW(n,e){const t=da.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(Nf(i),n(r-e))};return Oi.setup(i,!0),()=>Nf(i)}const $P=["TopLeft","TopRight","BottomLeft","BottomRight"],xW=$P.length,f3=n=>typeof n=="string"?parseFloat(n):n,h3=n=>typeof n=="number"||Wt.test(n);function SW(n,e,t,i,s,r){s?(n.opacity=Ii(0,t.opacity??1,AW(i)),n.opacityExit=Ii(e.opacity??1,0,EW(i))):r&&(n.opacity=Ii(e.opacity??1,t.opacity??1,i));for(let a=0;a<xW;a++){const l=`border${$P[a]}Radius`;let u=d3(e,l),h=d3(t,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||h3(u)===h3(h)?(n[l]=Math.max(Ii(f3(u),f3(h),i),0),(lc.test(h)||lc.test(u))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=Ii(e.rotate||0,t.rotate||0,i))}function d3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const AW=eU(0,.5,jL),EW=eU(.5,.95,Ao);function eU(n,e,t){return i=>i<n?0:i>e?1:t(q0(n,e,i))}function p3(n,e){n.min=e.min,n.max=e.max}function mo(n,e){p3(n.x,e.x),p3(n.y,e.y)}function m3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function g3(n,e,t,i,s){return n-=e,n=pS(n,1/t,i),s!==void 0&&(n=pS(n,1/s,i)),n}function MW(n,e=0,t=1,i=.5,s,r=n,a=n){if(lc.test(e)&&(e=parseFloat(e),e=Ii(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Ii(r.min,r.max,i);n===r&&(l-=e),n.min=g3(n.min,e,t,l,s),n.max=g3(n.max,e,t,l,s)}function y3(n,e,[t,i,s],r,a){MW(n,e[t],e[i],e[s],e.scale,r,a)}const TW=["x","scaleX","originX"],CW=["y","scaleY","originY"];function v3(n,e,t,i){y3(n.x,e,TW,t?t.x:void 0,i?i.x:void 0),y3(n.y,e,CW,t?t.y:void 0,i?i.y:void 0)}function _3(n){return n.translate===0&&n.scale===1}function tU(n){return _3(n.x)&&_3(n.y)}function b3(n,e){return n.min===e.min&&n.max===e.max}function wW(n,e){return b3(n.x,e.x)&&b3(n.y,e.y)}function x3(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function nU(n,e){return x3(n.x,e.x)&&x3(n.y,e.y)}function S3(n){return qr(n.x)/qr(n.y)}function A3(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class RW{constructor(){this.members=[]}add(e){Sw(this.members,e),e.scheduleRender()}remove(e){if(Aw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BW(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:x}=t;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const q1=["","X","Y","Z"],DW={visibility:"hidden"},IW=1e3;let NW=0;function K1(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function iU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=HP(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Oi,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&iU(i)}function sU({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=NW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PW),this.nodes.forEach(GW),this.nodes.forEach(VW),this.nodes.forEach(UW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new _W)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Tw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=EP(a)&&!NX(a),this.instance=a;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let m;const g=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=bW(g,250),qx.hasAnimatedSinceResize&&(qx.hasAnimatedSinceResize=!1,this.nodes.forEach(M3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||YW,{onLayoutAnimationStart:T,onLayoutAnimationComplete:A}=h.getProps(),S=!this.targetLayout||!nU(this.targetLayout,b),B=!g&&y;if(this.options.layoutRoot||this.resumeFrom||B||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,B);const w={...Hw(x,"layout"),onPlay:T,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else g||M3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kW),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E3);return}this.isUpdating||this.nodes.forEach(HW),this.isUpdating=!1,this.nodes.forEach(zW),this.nodes.forEach(OW),this.nodes.forEach(LW),this.clearAllSnapshots();const l=da.now();ir.delta=cu(0,1e3/60,l-ir.timestamp),ir.timestamp=l,ir.isProcessing=!0,z1.update.process(ir),z1.preRender.process(ir),z1.render.process(ir),ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FW),this.sharedNodes.forEach(XW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qr(this.snapshot.measuredBox.x)&&!qr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tU(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||id(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),qW(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return is();const l=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(KW))){const{scroll:m}=this.root;m&&(Tm(l.x,m.offset.x),Tm(l.y,m.offset.y))}return l}removeElementScroll(a){var u;const l=is();if(mo(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&mo(l,a),Tm(l.x,g.offset.x),Tm(l.y,g.offset.y))}return l}applyTransform(a,l=!1){const u=is();mo(u,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Cm(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),id(m.latestValues)&&Cm(u,m.latestValues)}return id(this.latestValues)&&Cm(u,this.latestValues),u}removeTransform(a){const l=is();mo(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!id(h.latestValues))continue;QT(h.latestValues)&&h.updateSnapshot();const m=is(),g=h.measurePageBox();mo(m,g),v3(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return id(this.latestValues)&&v3(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=ir.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),M0(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=is(),this.targetWithTransforms=is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mo(this.target,this.layout.layoutBox),YP(this.target,this.targetDelta)):mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),M0(this.relativeTargetOrigin,this.target,b.target),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||QT(this.parent.latestValues)||WP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ir.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;mo(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;Zj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=is());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m3(this.prevProjectionDelta.x,this.projectionDelta.x),m3(this.prevProjectionDelta.y,this.projectionDelta.y)),E0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!A3(this.projectionDelta.x,this.prevProjectionDelta.x)||!A3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mm(),this.projectionDelta=Mm(),this.projectionDeltaWithTransform=Mm()}setAnimationOrigin(a,l=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},g=Mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=is(),b=u?u.source:void 0,x=this.layout?this.layout.source:void 0,T=b!==x,A=this.getStack(),S=!A||A.members.length<=1,B=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(WW));this.animationProgress=0;let w;this.mixTargetDelta=R=>{const L=R/1e3;T3(g.x,a.x,L),T3(g.y,a.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(M0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jW(this.relativeTarget,this.relativeTargetOrigin,y,L),w&&wW(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=is()),mo(w,this.relativeTarget)),T&&(this.animationValues=m,SW(m,h,this.latestValues,L,B,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(!1),this.pendingAnimation&&(Nf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oi.update(()=>{qx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=km(0)),this.currentAnimation=yW(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IW),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:m}=a;if(!(!l||!u||!h)){if(this!==a&&this.layout&&h&&rU(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||is();const g=qr(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=qr(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}mo(l,u),Cm(l,m),E0(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new RW),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const h={};u.z&&K1("z",a,h,this.animationValues);for(let m=0;m<q1.length;m++)K1(`rotate${q1[m]}`,a,h,this.animationValues),K1(`skew${q1[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return DW;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Yx(a==null?void 0:a.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Yx(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!id(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=BW(this.projectionDeltaWithTransform,this.treeScale,m),u&&(l.transform=u(m,l.transform));const{x:g,y}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Z0){if(m[b]===void 0)continue;const{correct:x,applyTo:T,isCSSVariable:A}=Z0[b],S=l.transform==="none"?m[b]:x(m[b],h);if(T){const B=T.length;for(let w=0;w<B;w++)l[T[w]]=S}else A?this.options.visualElement.renderState.vars[b]=S:l[b]=S}return this.options.layoutId&&(l.pointerEvents=h===this?Yx(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(E3),this.root.sharedNodes.clear()}}}function OW(n){n.updateLayout()}function LW(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?yo(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=qr(y);y.min=i[g].min,y.max=y.min+b}):rU(r,e.layoutBox,i)&&yo(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=qr(i[g]);y.max=y.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const l=Mm();E0(l,i,e.layoutBox);const u=Mm();a?E0(u,n.applyTransform(s,!0),e.measuredBox):E0(u,i,e.layoutBox);const h=!tU(l);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const x=is();M0(x,e.layoutBox,y.layoutBox);const T=is();M0(T,i,b.layoutBox),nU(x,T)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=x,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function PW(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function UW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function FW(n){n.clearSnapshot()}function E3(n){n.clearMeasurements()}function HW(n){n.isLayoutDirty=!1}function zW(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function M3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function GW(n){n.resolveTargetDelta()}function VW(n){n.calcProjection()}function kW(n){n.resetSkewAndRotation()}function XW(n){n.removeLeadSnapshot()}function T3(n,e,t){n.translate=Ii(e.translate,0,t),n.scale=Ii(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function C3(n,e,t,i){n.min=Ii(e.min,t.min,i),n.max=Ii(e.max,t.max,i)}function jW(n,e,t,i){C3(n.x,e.x,t.x,i),C3(n.y,e.y,t.y,i)}function WW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YW={duration:.45,ease:[.4,0,.1,1]},w3=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),R3=w3("applewebkit/")&&!w3("chrome/")?Math.round:Ao;function B3(n){n.min=R3(n.min),n.max=R3(n.max)}function qW(n){B3(n.x),B3(n.y)}function rU(n,e,t){return n==="position"||n==="preserve-aspect"&&!Jj(S3(e),S3(t),.2)}function KW(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const JW=sU({attachResizeListener:(n,e)=>ev(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),J1={current:void 0},aU=sU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!J1.current){const n=new JW({});n.mount(window),n.setOptions({layoutScroll:!0}),J1.current=n}return J1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),QW={pan:{Feature:dW},drag:{Feature:hW,ProjectionNode:aU,MeasureLayout:ZP}};function D3(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&Oi.postRender(()=>r(e,Pv(e)))}class ZW extends Vf{mount(){const{current:e}=this.node;e&&(this.unmount=wX(e,(t,i)=>(D3(this.node,i,"Start"),s=>D3(this.node,s,"End"))))}unmount(){}}class $W extends Vf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nv(ev(this.node.current,"focus",()=>this.onFocus()),ev(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I3(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&Oi.postRender(()=>r(e,Pv(e)))}class eY extends Vf{mount(){const{current:e}=this.node;e&&(this.unmount=IX(e,(t,i)=>(I3(this.node,i,"Start"),(s,{success:r})=>I3(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eC=new WeakMap,Q1=new WeakMap,tY=n=>{const e=eC.get(n.target);e&&e(n)},nY=n=>{n.forEach(tY)};function iY({root:n,...e}){const t=n||document;Q1.has(t)||Q1.set(t,{});const i=Q1.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(nY,{root:n,...e})),i[s]}function sY(n,e,t){const i=iY(e);return eC.set(n,t),i.observe(n),()=>{eC.delete(n),i.unobserve(n)}}const rY={some:0,all:1};class aY extends Vf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:rY[s]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(u)};return sY(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(oY(e,t))&&this.startObserver()}unmount(){}}function oY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lY={inView:{Feature:aY},tap:{Feature:eY},focus:{Feature:$W},hover:{Feature:ZW}},cY={layout:{ProjectionNode:aU,MeasureLayout:ZP}},tC={current:null},oU={current:!1};function uY(){if(oU.current=!0,!!bw)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>tC.current=n.matches;n.addListener(e),e()}else tC.current=!1}const fY=new WeakMap;function hY(n,e,t){for(const i in e){const s=e[i],r=t[i];if(Er(s))n.addValue(i,s);else if(Er(r))n.addValue(i,km(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,km(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const N3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dY{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=da.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Oi.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=kA(t),this.isVariantNode=wP(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const b=g[y];u[y]!==void 0&&Er(b)&&b.set(u[y],!1)}}mount(e){this.current=e,fY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),oU.current||uY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nf(this.notifyUpdate),Nf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=pg.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Oi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xm){const t=Xm[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):is()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<N3.length;i++){const s=N3[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=hY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=km(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(LL(i)||UL(i))?i=parseFloat(i):!LX(i)&&Of.test(t)&&(i=_P(e,t)),this.setBaseTarget(e,Er(i)?i.get():i)),Er(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Kw(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Er(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Tw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class lU extends dY{constructor(){super(...arguments),this.KeyframeResolver=AX}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Er(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function cU(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}function pY(n){return window.getComputedStyle(n)}class mY extends lU{constructor(){super(...arguments),this.type="html",this.renderInstance=cU}readValueFromInstance(e,t){var i;if(pg.has(t))return(i=this.projection)!=null&&i.isProjecting?VT(t):V7(e,t);{const s=pY(e),r=(Rw(t)?s.getPropertyValue(t):s[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qP(e,t)}build(e,t,i){Ww(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Jw(e,t,i)}}const uU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gY(n,e,t,i){cU(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(uU.has(s)?s:jw(s),e.attrs[s])}class yY extends lU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=is}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pg.has(t)){const i=vP(t);return i&&i.default||0}return t=uU.has(t)?t:jw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return FP(e,t,i)}build(e,t,i){OP(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){gY(e,t,i,s)}mount(e){this.isSVGTag=PP(e.tagName),super.mount(e)}}const vY=(n,e)=>qw(n)?new yY(e):new mY(e,{allowProjection:n!==te.Fragment}),_Y=gj({...Vj,...lY,...QW,...cY},vY),fU=GX(_Y);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Uv="176",sd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},rd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hU=0,nC=1,dU=2,bY=3,pU=0,XA=1,T0=2,il=3,fc=0,Jr=1,rl=2,tu=0,Md=1,iC=2,sC=3,rC=4,mU=5,Ef=100,gU=101,yU=102,vU=103,_U=104,bU=200,xU=201,SU=202,AU=203,mS=204,gS=205,EU=206,MU=207,TU=208,CU=209,wU=210,RU=211,BU=212,DU=213,IU=214,yS=0,vS=1,_S=2,Bd=3,bS=4,xS=5,SS=6,AS=7,Fv=0,NU=1,OU=2,cc=0,LU=1,PU=2,UU=3,Zw=4,FU=5,HU=6,zU=7,aC="attached",GU="detached",jA=300,fu=301,Lf=302,tv=303,nv=304,mg=306,Pf=1e3,za=1001,jm=1002,ks=1003,WA=1004,xY=1004,pd=1005,SY=1005,ss=1006,Nm=1007,AY=1007,xo=1008,EY=1008,Eo=1009,$w=1010,eR=1011,Wm=1012,YA=1013,hu=1014,pa=1015,gg=1016,qA=1017,KA=1018,Ym=1020,tR=35902,nR=1021,iR=1022,Mr=1023,qm=1026,Km=1027,JA=1028,Hv=1029,sR=1030,QA=1031,MY=1032,ZA=1033,C0=33776,w0=33777,R0=33778,B0=33779,ES=35840,MS=35841,TS=35842,CS=35843,wS=36196,RS=37492,BS=37496,DS=37808,IS=37809,NS=37810,OS=37811,LS=37812,PS=37813,US=37814,FS=37815,HS=37816,zS=37817,GS=37818,VS=37819,kS=37820,XS=37821,D0=36492,jS=36494,WS=36495,rR=36283,YS=36284,qS=36285,KS=36286,VU=2200,kU=2201,XU=2202,Jm=2300,Qm=2301,Kx=2302,md=2400,gd=2401,iv=2402,$A=2500,aR=2501,jU=0,oR=1,JS=2,WU=3200,YU=3201,TY=3202,CY=3203,kf=0,qU=1,Jc="",xr="srgb",Uf="srgb-linear",sv="linear",Zn="srgb",wY=0,ad=7680,RY=7681,BY=7682,DY=7683,IY=34055,NY=34056,OY=5386,LY=512,PY=513,UY=514,FY=515,HY=516,zY=517,GY=518,oC=519,KU=512,JU=513,QU=514,lR=515,ZU=516,$U=517,eF=518,tF=519,rv=35044,VY=35048,kY=35040,XY=35045,jY=35049,WY=35041,YY=35046,qY=35050,KY=35042,JY="100",lC="300 es",So=2e3,av=2001,QY={COMPUTE:"compute",RENDER:"render"},ZY={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},$Y={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let mc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}};const gr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let O3=1234567;const Td=Math.PI/180,Zm=180/Math.PI;function Xa(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gr[n&255]+gr[n>>8&255]+gr[n>>16&255]+gr[n>>24&255]+"-"+gr[e&255]+gr[e>>8&255]+"-"+gr[e>>16&15|64]+gr[e>>24&255]+"-"+gr[t&63|128]+gr[t>>8&255]+"-"+gr[t>>16&255]+gr[t>>24&255]+gr[i&255]+gr[i>>8&255]+gr[i>>16&255]+gr[i>>24&255]).toLowerCase()}function Qt(n,e,t){return Math.max(e,Math.min(t,n))}function cR(n,e){return(n%e+e)%e}function eq(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)}function tq(n,e,t){return n!==e?(t-n)/(e-n):0}function I0(n,e,t){return(1-t)*n+t*e}function nq(n,e,t,i){return I0(n,e,1-Math.exp(-t*i))}function iq(n,e=1){return e-Math.abs(cR(n,e*2)-e)}function sq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function rq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function aq(n,e){return n+Math.floor(Math.random()*(e-n+1))}function oq(n,e){return n+Math.random()*(e-n)}function lq(n){return n*(.5-Math.random())}function cq(n){n!==void 0&&(O3=n);let e=O3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function uq(n){return n*Td}function fq(n){return n*Zm}function hq(n){return(n&n-1)===0&&n!==0}function dq(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function pq(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function mq(n,e,t,i,s){const r=Math.cos,a=Math.sin,l=r(t/2),u=a(t/2),h=r((e+i)/2),m=a((e+i)/2),g=r((e-i)/2),y=a((e-i)/2),b=r((i-e)/2),x=a((i-e)/2);switch(s){case"XYX":n.set(l*m,u*g,u*y,l*h);break;case"YZY":n.set(u*y,l*m,u*g,l*h);break;case"ZXZ":n.set(u*g,u*y,l*m,l*h);break;case"XZX":n.set(l*m,u*x,u*b,l*h);break;case"YXY":n.set(u*b,l*m,u*x,l*h);break;case"ZYZ":n.set(u*x,u*b,l*m,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Yr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function sn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const nF={DEG2RAD:Td,RAD2DEG:Zm,generateUUID:Xa,clamp:Qt,euclideanModulo:cR,mapLinear:eq,inverseLerp:tq,lerp:I0,damp:nq,pingpong:iq,smoothstep:sq,smootherstep:rq,randInt:aq,randFloat:oq,randFloatSpread:lq,seededRandom:cq,degToRad:uq,radToDeg:fq,isPowerOfTwo:hq,ceilPowerOfTwo:dq,floorPowerOfTwo:pq,setQuaternionFromProperEuler:mq,normalize:sn,denormalize:Yr};class Qe{constructor(e=0,t=0){Qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*s+e.x,this.y=r*s+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tn{constructor(e,t,i,s,r,a,l,u,h){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,a,l,u,h)}set(e,t,i,s,r,a,l,u,h){const m=this.elements;return m[0]=e,m[1]=s,m[2]=l,m[3]=t,m[4]=r,m[5]=u,m[6]=i,m[7]=a,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,a=i[0],l=i[3],u=i[6],h=i[1],m=i[4],g=i[7],y=i[2],b=i[5],x=i[8],T=s[0],A=s[3],S=s[6],B=s[1],w=s[4],R=s[7],L=s[2],N=s[5],U=s[8];return r[0]=a*T+l*B+u*L,r[3]=a*A+l*w+u*N,r[6]=a*S+l*R+u*U,r[1]=h*T+m*B+g*L,r[4]=h*A+m*w+g*N,r[7]=h*S+m*R+g*U,r[2]=y*T+b*B+x*L,r[5]=y*A+b*w+x*N,r[8]=y*S+b*R+x*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8];return t*a*m-t*l*h-i*r*m+i*l*u+s*r*h-s*a*u}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8],g=m*a-l*h,y=l*u-m*r,b=h*r-a*u,x=t*g+i*y+s*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/x;return e[0]=g*T,e[1]=(s*h-m*i)*T,e[2]=(l*i-s*a)*T,e[3]=y*T,e[4]=(m*t-s*u)*T,e[5]=(s*r-l*t)*T,e[6]=b*T,e[7]=(i*u-h*t)*T,e[8]=(a*t-i*r)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,r,a,l){const u=Math.cos(r),h=Math.sin(r);return this.set(i*u,i*h,-i*(u*a+h*l)+a+e,-s*h,s*u,-s*(-h*a+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(Z1.makeScale(e,t)),this}rotate(e){return this.premultiply(Z1.makeRotation(-e)),this}translate(e,t){return this.premultiply(Z1.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Z1=new tn;function iF(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const gq={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wm(n,e){return new gq[n](e)}function ov(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function sF(){const n=ov("canvas");return n.style.display="block",n}const L3={};function Jx(n){n in L3||(L3[n]=!0,console.warn(n))}function yq(n,e,t){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}function vq(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function _q(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const P3=new tn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),U3=new tn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function bq(){const n={enabled:!0,workingColorSpace:Uf,spaces:{},convert:function(s,r,a){return this.enabled===!1||r===a||!r||!a||(this.spaces[r].transfer===Zn&&(s.r=nu(s.r),s.g=nu(s.g),s.b=nu(s.b)),this.spaces[r].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Zn&&(s.r=Om(s.r),s.g=Om(s.g),s.b=Om(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Jc?sv:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,a){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Uf]:{primaries:e,whitePoint:i,transfer:sv,toXYZ:P3,fromXYZ:U3,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xr},outputColorSpaceConfig:{drawingBufferColorSpace:xr}},[xr]:{primaries:e,whitePoint:i,transfer:Zn,toXYZ:P3,fromXYZ:U3,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xr}}}),n}const Cn=bq();function nu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Om(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let em;class rF{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{em===void 0&&(em=ov("canvas")),em.width=e.width,em.height=e.height;const s=em.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=em}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ov("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=nu(r[a]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(nu(t[i]/255)*255):t[i]=nu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xq=0;class Tf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xq++}),this.uuid=Xa(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let a=0,l=s.length;a<l;a++)s[a].isDataTexture?r.push($1(s[a].image)):r.push($1(s[a]))}else r=$1(s);i.url=r}return t||(e.images[this.uuid]=i),i}}function $1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?rF.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sq=0;class Mi extends mc{constructor(e=Mi.DEFAULT_IMAGE,t=Mi.DEFAULT_MAPPING,i=za,s=za,r=ss,a=xo,l=Mr,u=Eo,h=Mi.DEFAULT_ANISOTROPY,m=Jc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sq++}),this.uuid=Xa(),this.name="",this.source=new Tf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=a,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=u,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==jA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Pf:e.x=e.x-Math.floor(e.x);break;case za:e.x=e.x<0?0:1;break;case jm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Pf:e.y=e.y-Math.floor(e.y);break;case za:e.y=e.y<0?0:1;break;case jm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Mi.DEFAULT_IMAGE=null;Mi.DEFAULT_MAPPING=jA;Mi.DEFAULT_ANISOTROPY=1;class In{constructor(e=0,t=0,i=0,s=1){In.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*s+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*s+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*s+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*s+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,r;const u=e.elements,h=u[0],m=u[4],g=u[8],y=u[1],b=u[5],x=u[9],T=u[2],A=u[6],S=u[10];if(Math.abs(m-y)<.01&&Math.abs(g-T)<.01&&Math.abs(x-A)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+T)<.1&&Math.abs(x+A)<.1&&Math.abs(h+b+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(h+1)/2,R=(b+1)/2,L=(S+1)/2,N=(m+y)/4,U=(g+T)/4,P=(x+A)/4;return w>R&&w>L?w<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(w),s=N/i,r=U/i):R>L?R<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(R),i=N/s,r=P/s):L<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(L),i=U/r,s=P/r),this.set(i,s,r,t),this}let B=Math.sqrt((A-x)*(A-x)+(g-T)*(g-T)+(y-m)*(y-m));return Math.abs(B)<.001&&(B=1),this.x=(A-x)/B,this.y=(g-T)/B,this.z=(y-m)/B,this.w=Math.acos((h+b+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this.w=Qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this.w=Qt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class eE extends mc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new In(0,0,e,t),this.scissorTest=!1,this.viewport=new In(0,0,e,t);const s={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ss,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const r=new Mi(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let l=0;l<a;l++)this.textures[l]=r.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new Tf(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hc extends eE{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class zv extends Mi{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=ks,this.minFilter=ks,this.wrapR=za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Aq extends hc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new zv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class tE extends Mi{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=ks,this.minFilter=ks,this.wrapR=za,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Eq extends hc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new tE(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Xs{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,r,a,l){let u=i[s+0],h=i[s+1],m=i[s+2],g=i[s+3];const y=r[a+0],b=r[a+1],x=r[a+2],T=r[a+3];if(l===0){e[t+0]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(l===1){e[t+0]=y,e[t+1]=b,e[t+2]=x,e[t+3]=T;return}if(g!==T||u!==y||h!==b||m!==x){let A=1-l;const S=u*y+h*b+m*x+g*T,B=S>=0?1:-1,w=1-S*S;if(w>Number.EPSILON){const L=Math.sqrt(w),N=Math.atan2(L,S*B);A=Math.sin(A*N)/L,l=Math.sin(l*N)/L}const R=l*B;if(u=u*A+y*R,h=h*A+b*R,m=m*A+x*R,g=g*A+T*R,A===1-l){const L=1/Math.sqrt(u*u+h*h+m*m+g*g);u*=L,h*=L,m*=L,g*=L}}e[t]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,s,r,a){const l=i[s],u=i[s+1],h=i[s+2],m=i[s+3],g=r[a],y=r[a+1],b=r[a+2],x=r[a+3];return e[t]=l*x+m*g+u*b-h*y,e[t+1]=u*x+m*y+h*g-l*b,e[t+2]=h*x+m*b+l*y-u*g,e[t+3]=m*x-l*g-u*y-h*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,r=e._z,a=e._order,l=Math.cos,u=Math.sin,h=l(i/2),m=l(s/2),g=l(r/2),y=u(i/2),b=u(s/2),x=u(r/2);switch(a){case"XYZ":this._x=y*m*g+h*b*x,this._y=h*b*g-y*m*x,this._z=h*m*x+y*b*g,this._w=h*m*g-y*b*x;break;case"YXZ":this._x=y*m*g+h*b*x,this._y=h*b*g-y*m*x,this._z=h*m*x-y*b*g,this._w=h*m*g+y*b*x;break;case"ZXY":this._x=y*m*g-h*b*x,this._y=h*b*g+y*m*x,this._z=h*m*x+y*b*g,this._w=h*m*g-y*b*x;break;case"ZYX":this._x=y*m*g-h*b*x,this._y=h*b*g+y*m*x,this._z=h*m*x-y*b*g,this._w=h*m*g+y*b*x;break;case"YZX":this._x=y*m*g+h*b*x,this._y=h*b*g+y*m*x,this._z=h*m*x-y*b*g,this._w=h*m*g-y*b*x;break;case"XZY":this._x=y*m*g-h*b*x,this._y=h*b*g-y*m*x,this._z=h*m*x+y*b*g,this._w=h*m*g+y*b*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],r=t[8],a=t[1],l=t[5],u=t[9],h=t[2],m=t[6],g=t[10],y=i+l+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-u)*b,this._y=(r-h)*b,this._z=(a-s)*b}else if(i>l&&i>g){const b=2*Math.sqrt(1+i-l-g);this._w=(m-u)/b,this._x=.25*b,this._y=(s+a)/b,this._z=(r+h)/b}else if(l>g){const b=2*Math.sqrt(1+l-i-g);this._w=(r-h)/b,this._x=(s+a)/b,this._y=.25*b,this._z=(u+m)/b}else{const b=2*Math.sqrt(1+g-i-l);this._w=(a-s)/b,this._x=(r+h)/b,this._y=(u+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,r=e._z,a=e._w,l=t._x,u=t._y,h=t._z,m=t._w;return this._x=i*m+a*l+s*h-r*u,this._y=s*m+a*u+r*l-i*h,this._z=r*m+a*h+i*u-s*l,this._w=a*m-i*l-s*u-r*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,a=this._w;let l=a*e._w+i*e._x+s*e._y+r*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=s,this._z=r,this;const u=1-l*l;if(u<=Number.EPSILON){const b=1-t;return this._w=b*a+t*this._w,this._x=b*i+t*this._x,this._y=b*s+t*this._y,this._z=b*r+t*this._z,this.normalize(),this}const h=Math.sqrt(u),m=Math.atan2(h,l),g=Math.sin((1-t)*m)/h,y=Math.sin(t*m)/h;return this._w=a*g+this._w*y,this._x=i*g+this._x*y,this._y=s*g+this._y*y,this._z=r*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,t=0,i=0){ie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(F3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(F3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*s,this.y=r[1]*t+r[4]*i+r[7]*s,this.z=r[2]*t+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*s+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*s+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*s+r[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,r=e.x,a=e.y,l=e.z,u=e.w,h=2*(a*s-l*i),m=2*(l*t-r*s),g=2*(r*i-a*t);return this.x=t+u*h+a*g-l*m,this.y=i+u*m+l*h-r*g,this.z=s+u*g+r*m-a*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*s,this.y=r[1]*t+r[5]*i+r[9]*s,this.z=r[2]*t+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,r=e.z,a=t.x,l=t.y,u=t.z;return this.x=s*u-r*l,this.y=r*a-i*u,this.z=i*l-s*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return eM.copy(this).projectOnVector(e),this.sub(eM)}reflect(e){return this.sub(eM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eM=new ie,F3=new Xs;class rr{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint($o.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint($o.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=$o.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=r.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,$o):$o.fromBufferAttribute(r,a),$o.applyMatrix4(e.matrixWorld),this.expandByPoint($o);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),kb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),kb.copy(i.boundingBox)),kb.applyMatrix4(e.matrixWorld),this.union(kb)}const s=e.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,$o),$o.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(qy),Xb.subVectors(this.max,qy),tm.subVectors(e.a,qy),nm.subVectors(e.b,qy),im.subVectors(e.c,qy),df.subVectors(nm,tm),pf.subVectors(im,nm),Gh.subVectors(tm,im);let t=[0,-df.z,df.y,0,-pf.z,pf.y,0,-Gh.z,Gh.y,df.z,0,-df.x,pf.z,0,-pf.x,Gh.z,0,-Gh.x,-df.y,df.x,0,-pf.y,pf.x,0,-Gh.y,Gh.x,0];return!tM(t,tm,nm,im,Xb)||(t=[1,0,0,0,1,0,0,0,1],!tM(t,tm,nm,im,Xb))?!1:(jb.crossVectors(df,pf),t=[jb.x,jb.y,jb.z],tM(t,tm,nm,im,Xb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$o).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize($o).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gc=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],$o=new ie,kb=new rr,tm=new ie,nm=new ie,im=new ie,df=new ie,pf=new ie,Gh=new ie,qy=new ie,Xb=new ie,jb=new ie,Vh=new ie;function tM(n,e,t,i,s){for(let r=0,a=n.length-3;r<=a;r+=3){Vh.fromArray(n,r);const l=s.x*Math.abs(Vh.x)+s.y*Math.abs(Vh.y)+s.z*Math.abs(Vh.z),u=e.dot(Vh),h=t.dot(Vh),m=i.dot(Vh);if(Math.max(-Math.max(u,h,m),Math.min(u,h,m))>l)return!1}return!0}const Mq=new rr,Ky=new ie,nM=new ie;class js{constructor(e=new ie,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Mq.setFromPoints(e).getCenter(i);let s=0;for(let r=0,a=e.length;r<a;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ky.subVectors(e,this.center);const t=Ky.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(Ky,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ky.copy(e.center).add(nM)),this.expandByPoint(Ky.copy(e.center).sub(nM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Vc=new ie,iM=new ie,Wb=new ie,mf=new ie,sM=new ie,Yb=new ie,rM=new ie;class Gd{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Vc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vc.copy(this.origin).addScaledVector(this.direction,t),Vc.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){iM.copy(e).add(t).multiplyScalar(.5),Wb.copy(t).sub(e).normalize(),mf.copy(this.origin).sub(iM);const r=e.distanceTo(t)*.5,a=-this.direction.dot(Wb),l=mf.dot(this.direction),u=-mf.dot(Wb),h=mf.lengthSq(),m=Math.abs(1-a*a);let g,y,b,x;if(m>0)if(g=a*u-l,y=a*l-u,x=r*m,g>=0)if(y>=-x)if(y<=x){const T=1/m;g*=T,y*=T,b=g*(g+a*y+2*l)+y*(a*g+y+2*u)+h}else y=r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+h;else y=-r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+h;else y<=-x?(g=Math.max(0,-(-a*r+l)),y=g>0?-r:Math.min(Math.max(-r,-u),r),b=-g*g+y*(y+2*u)+h):y<=x?(g=0,y=Math.min(Math.max(-r,-u),r),b=y*(y+2*u)+h):(g=Math.max(0,-(a*r+l)),y=g>0?r:Math.min(Math.max(-r,-u),r),b=-g*g+y*(y+2*u)+h);else y=a>0?-r:r,g=Math.max(0,-(a*y+l)),b=-g*g+y*(y+2*u)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(iM).addScaledVector(Wb,y),b}intersectSphere(e,t){Vc.subVectors(e.center,this.origin);const i=Vc.dot(this.direction),s=Vc.dot(Vc)-i*i,r=e.radius*e.radius;if(s>r)return null;const a=Math.sqrt(r-s),l=i-a,u=i+a;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,r,a,l,u;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return h>=0?(i=(e.min.x-y.x)*h,s=(e.max.x-y.x)*h):(i=(e.max.x-y.x)*h,s=(e.min.x-y.x)*h),m>=0?(r=(e.min.y-y.y)*m,a=(e.max.y-y.y)*m):(r=(e.max.y-y.y)*m,a=(e.min.y-y.y)*m),i>a||r>s||((r>i||isNaN(i))&&(i=r),(a<s||isNaN(s))&&(s=a),g>=0?(l=(e.min.z-y.z)*g,u=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,u=(e.min.z-y.z)*g),i>u||l>s)||((l>i||i!==i)&&(i=l),(u<s||s!==s)&&(s=u),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,Vc)!==null}intersectTriangle(e,t,i,s,r){sM.subVectors(t,e),Yb.subVectors(i,e),rM.crossVectors(sM,Yb);let a=this.direction.dot(rM),l;if(a>0){if(s)return null;l=1}else if(a<0)l=-1,a=-a;else return null;mf.subVectors(this.origin,e);const u=l*this.direction.dot(Yb.crossVectors(mf,Yb));if(u<0)return null;const h=l*this.direction.dot(sM.cross(mf));if(h<0||u+h>a)return null;const m=-l*mf.dot(rM);return m<0?null:this.at(m/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Lt{constructor(e,t,i,s,r,a,l,u,h,m,g,y,b,x,T,A){Lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,a,l,u,h,m,g,y,b,x,T,A)}set(e,t,i,s,r,a,l,u,h,m,g,y,b,x,T,A){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=s,S[1]=r,S[5]=a,S[9]=l,S[13]=u,S[2]=h,S[6]=m,S[10]=g,S[14]=y,S[3]=b,S[7]=x,S[11]=T,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Lt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/sm.setFromMatrixColumn(e,0).length(),r=1/sm.setFromMatrixColumn(e,1).length(),a=1/sm.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,r=e.z,a=Math.cos(i),l=Math.sin(i),u=Math.cos(s),h=Math.sin(s),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const y=a*m,b=a*g,x=l*m,T=l*g;t[0]=u*m,t[4]=-u*g,t[8]=h,t[1]=b+x*h,t[5]=y-T*h,t[9]=-l*u,t[2]=T-y*h,t[6]=x+b*h,t[10]=a*u}else if(e.order==="YXZ"){const y=u*m,b=u*g,x=h*m,T=h*g;t[0]=y+T*l,t[4]=x*l-b,t[8]=a*h,t[1]=a*g,t[5]=a*m,t[9]=-l,t[2]=b*l-x,t[6]=T+y*l,t[10]=a*u}else if(e.order==="ZXY"){const y=u*m,b=u*g,x=h*m,T=h*g;t[0]=y-T*l,t[4]=-a*g,t[8]=x+b*l,t[1]=b+x*l,t[5]=a*m,t[9]=T-y*l,t[2]=-a*h,t[6]=l,t[10]=a*u}else if(e.order==="ZYX"){const y=a*m,b=a*g,x=l*m,T=l*g;t[0]=u*m,t[4]=x*h-b,t[8]=y*h+T,t[1]=u*g,t[5]=T*h+y,t[9]=b*h-x,t[2]=-h,t[6]=l*u,t[10]=a*u}else if(e.order==="YZX"){const y=a*u,b=a*h,x=l*u,T=l*h;t[0]=u*m,t[4]=T-y*g,t[8]=x*g+b,t[1]=g,t[5]=a*m,t[9]=-l*m,t[2]=-h*m,t[6]=b*g+x,t[10]=y-T*g}else if(e.order==="XZY"){const y=a*u,b=a*h,x=l*u,T=l*h;t[0]=u*m,t[4]=-g,t[8]=h*m,t[1]=y*g+T,t[5]=a*m,t[9]=b*g-x,t[2]=x*g-b,t[6]=l*m,t[10]=T*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tq,e,Cq)}lookAt(e,t,i){const s=this.elements;return Ua.subVectors(e,t),Ua.lengthSq()===0&&(Ua.z=1),Ua.normalize(),gf.crossVectors(i,Ua),gf.lengthSq()===0&&(Math.abs(i.z)===1?Ua.x+=1e-4:Ua.z+=1e-4,Ua.normalize(),gf.crossVectors(i,Ua)),gf.normalize(),qb.crossVectors(Ua,gf),s[0]=gf.x,s[4]=qb.x,s[8]=Ua.x,s[1]=gf.y,s[5]=qb.y,s[9]=Ua.y,s[2]=gf.z,s[6]=qb.z,s[10]=Ua.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,a=i[0],l=i[4],u=i[8],h=i[12],m=i[1],g=i[5],y=i[9],b=i[13],x=i[2],T=i[6],A=i[10],S=i[14],B=i[3],w=i[7],R=i[11],L=i[15],N=s[0],U=s[4],P=s[8],O=s[12],M=s[1],H=s[5],k=s[9],$=s[13],se=s[2],ne=s[6],z=s[10],Y=s[14],Z=s[3],re=s[7],j=s[11],ae=s[15];return r[0]=a*N+l*M+u*se+h*Z,r[4]=a*U+l*H+u*ne+h*re,r[8]=a*P+l*k+u*z+h*j,r[12]=a*O+l*$+u*Y+h*ae,r[1]=m*N+g*M+y*se+b*Z,r[5]=m*U+g*H+y*ne+b*re,r[9]=m*P+g*k+y*z+b*j,r[13]=m*O+g*$+y*Y+b*ae,r[2]=x*N+T*M+A*se+S*Z,r[6]=x*U+T*H+A*ne+S*re,r[10]=x*P+T*k+A*z+S*j,r[14]=x*O+T*$+A*Y+S*ae,r[3]=B*N+w*M+R*se+L*Z,r[7]=B*U+w*H+R*ne+L*re,r[11]=B*P+w*k+R*z+L*j,r[15]=B*O+w*$+R*Y+L*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],r=e[12],a=e[1],l=e[5],u=e[9],h=e[13],m=e[2],g=e[6],y=e[10],b=e[14],x=e[3],T=e[7],A=e[11],S=e[15];return x*(+r*u*g-s*h*g-r*l*y+i*h*y+s*l*b-i*u*b)+T*(+t*u*b-t*h*y+r*a*y-s*a*b+s*h*m-r*u*m)+A*(+t*h*g-t*l*b-r*a*g+i*a*b+r*l*m-i*h*m)+S*(-s*l*m-t*u*g+t*l*y+s*a*g-i*a*y+i*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8],g=e[9],y=e[10],b=e[11],x=e[12],T=e[13],A=e[14],S=e[15],B=g*A*h-T*y*h+T*u*b-l*A*b-g*u*S+l*y*S,w=x*y*h-m*A*h-x*u*b+a*A*b+m*u*S-a*y*S,R=m*T*h-x*g*h+x*l*b-a*T*b-m*l*S+a*g*S,L=x*g*u-m*T*u-x*l*y+a*T*y+m*l*A-a*g*A,N=t*B+i*w+s*R+r*L;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/N;return e[0]=B*U,e[1]=(T*y*r-g*A*r-T*s*b+i*A*b+g*s*S-i*y*S)*U,e[2]=(l*A*r-T*u*r+T*s*h-i*A*h-l*s*S+i*u*S)*U,e[3]=(g*u*r-l*y*r-g*s*h+i*y*h+l*s*b-i*u*b)*U,e[4]=w*U,e[5]=(m*A*r-x*y*r+x*s*b-t*A*b-m*s*S+t*y*S)*U,e[6]=(x*u*r-a*A*r-x*s*h+t*A*h+a*s*S-t*u*S)*U,e[7]=(a*y*r-m*u*r+m*s*h-t*y*h-a*s*b+t*u*b)*U,e[8]=R*U,e[9]=(x*g*r-m*T*r-x*i*b+t*T*b+m*i*S-t*g*S)*U,e[10]=(a*T*r-x*l*r+x*i*h-t*T*h-a*i*S+t*l*S)*U,e[11]=(m*l*r-a*g*r-m*i*h+t*g*h+a*i*b-t*l*b)*U,e[12]=L*U,e[13]=(m*T*s-x*g*s+x*i*y-t*T*y-m*i*A+t*g*A)*U,e[14]=(x*l*s-a*T*s-x*i*u+t*T*u+a*i*A-t*l*A)*U,e[15]=(a*g*s-m*l*s+m*i*u-t*g*u-a*i*y+t*l*y)*U,this}scale(e){const t=this.elements,i=e.x,s=e.y,r=e.z;return t[0]*=i,t[4]*=s,t[8]*=r,t[1]*=i,t[5]*=s,t[9]*=r,t[2]*=i,t[6]*=s,t[10]*=r,t[3]*=i,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),r=1-i,a=e.x,l=e.y,u=e.z,h=r*a,m=r*l;return this.set(h*a+i,h*l-s*u,h*u+s*l,0,h*l+s*u,m*l+i,m*u-s*a,0,h*u-s*l,m*u+s*a,r*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,r,a){return this.set(1,i,r,0,e,1,a,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,r=t._x,a=t._y,l=t._z,u=t._w,h=r+r,m=a+a,g=l+l,y=r*h,b=r*m,x=r*g,T=a*m,A=a*g,S=l*g,B=u*h,w=u*m,R=u*g,L=i.x,N=i.y,U=i.z;return s[0]=(1-(T+S))*L,s[1]=(b+R)*L,s[2]=(x-w)*L,s[3]=0,s[4]=(b-R)*N,s[5]=(1-(y+S))*N,s[6]=(A+B)*N,s[7]=0,s[8]=(x+w)*U,s[9]=(A-B)*U,s[10]=(1-(y+T))*U,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let r=sm.set(s[0],s[1],s[2]).length();const a=sm.set(s[4],s[5],s[6]).length(),l=sm.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],el.copy(this);const h=1/r,m=1/a,g=1/l;return el.elements[0]*=h,el.elements[1]*=h,el.elements[2]*=h,el.elements[4]*=m,el.elements[5]*=m,el.elements[6]*=m,el.elements[8]*=g,el.elements[9]*=g,el.elements[10]*=g,t.setFromRotationMatrix(el),i.x=r,i.y=a,i.z=l,this}makePerspective(e,t,i,s,r,a,l=So){const u=this.elements,h=2*r/(t-e),m=2*r/(i-s),g=(t+e)/(t-e),y=(i+s)/(i-s);let b,x;if(l===So)b=-(a+r)/(a-r),x=-2*a*r/(a-r);else if(l===av)b=-a/(a-r),x=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=h,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,s,r,a,l=So){const u=this.elements,h=1/(t-e),m=1/(i-s),g=1/(a-r),y=(t+e)*h,b=(i+s)*m;let x,T;if(l===So)x=(a+r)*g,T=-2*g;else if(l===av)x=r*g,T=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-y,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-b,u[2]=0,u[6]=0,u[10]=T,u[14]=-x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const sm=new ie,el=new Lt,Tq=new ie(0,0,0),Cq=new ie(1,1,1),gf=new ie,qb=new ie,Ua=new ie,H3=new Lt,z3=new Xs;class ja{constructor(e=0,t=0,i=0,s=ja.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,r=s[0],a=s[4],l=s[8],u=s[1],h=s[5],m=s[9],g=s[2],y=s[6],b=s[10];switch(t){case"XYZ":this._y=Math.asin(Qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(u,h)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(u,r));break;case"ZYX":this._y=Math.asin(-Qt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(u,r)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-Qt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(l,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return H3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(H3,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return z3.setFromEuler(this),this.setFromQuaternion(z3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ja.DEFAULT_ORDER="XYZ";class $m{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wq=0;const G3=new ie,rm=new Xs,kc=new Lt,Kb=new ie,Jy=new ie,Rq=new ie,Bq=new Xs,V3=new ie(1,0,0),k3=new ie(0,1,0),X3=new ie(0,0,1),j3={type:"added"},Dq={type:"removed"},am={type:"childadded",child:null},aM={type:"childremoved",child:null};class wn extends mc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wq++}),this.uuid=Xa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new ie,t=new ja,i=new Xs,s=new ie(1,1,1);function r(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Lt},normalMatrix:{value:new tn}}),this.matrix=new Lt,this.matrixWorld=new Lt,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $m,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return rm.setFromAxisAngle(e,t),this.quaternion.multiply(rm),this}rotateOnWorldAxis(e,t){return rm.setFromAxisAngle(e,t),this.quaternion.premultiply(rm),this}rotateX(e){return this.rotateOnAxis(V3,e)}rotateY(e){return this.rotateOnAxis(k3,e)}rotateZ(e){return this.rotateOnAxis(X3,e)}translateOnAxis(e,t){return G3.copy(e).applyQuaternion(this.quaternion),this.position.add(G3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(V3,e)}translateY(e){return this.translateOnAxis(k3,e)}translateZ(e){return this.translateOnAxis(X3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(kc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Kb.copy(e):Kb.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Jy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kc.lookAt(Jy,Kb,this.up):kc.lookAt(Kb,Jy,this.up),this.quaternion.setFromRotationMatrix(kc),s&&(kc.extractRotation(s.matrixWorld),rm.setFromRotationMatrix(kc),this.quaternion.premultiply(rm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(j3),am.child=e,this.dispatchEvent(am),am.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Dq),aM.child=e,this.dispatchEvent(aM),aM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),kc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kc.multiply(e.parent.matrixWorld)),e.applyMatrix4(kc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(j3),am.child=e,this.dispatchEvent(am),am.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jy,e,Rq),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jy,Bq,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?{min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}:void 0,boundingSphere:l.boundingSphere?{radius:l.boundingSphere.radius,center:l.boundingSphere.center.toArray()}:void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function r(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let h=0,m=u.length;h<m;h++){const g=u[h];r(e.shapes,g)}else r(e.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,h=this.material.length;u<h;u++)l.push(r(e.materials,this.material[u]));s.material=l}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];s.animations.push(r(e.animations,u))}}if(t){const l=a(e.geometries),u=a(e.materials),h=a(e.textures),m=a(e.images),g=a(e.shapes),y=a(e.skeletons),b=a(e.animations),x=a(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),x.length>0&&(i.nodes=x)}return i.object=s,i;function a(l){const u=[];for(const h in l){const m=l[h];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}wn.DEFAULT_UP=new ie(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const tl=new ie,Xc=new ie,oM=new ie,jc=new ie,om=new ie,lm=new ie,W3=new ie,lM=new ie,cM=new ie,uM=new ie,fM=new In,hM=new In,dM=new In;class ha{constructor(e=new ie,t=new ie,i=new ie){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),tl.subVectors(e,t),s.cross(tl);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,i,s,r){tl.subVectors(s,t),Xc.subVectors(i,t),oM.subVectors(e,t);const a=tl.dot(tl),l=tl.dot(Xc),u=tl.dot(oM),h=Xc.dot(Xc),m=Xc.dot(oM),g=a*h-l*l;if(g===0)return r.set(0,0,0),null;const y=1/g,b=(h*u-l*m)*y,x=(a*m-l*u)*y;return r.set(1-b-x,x,b)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,jc)===null?!1:jc.x>=0&&jc.y>=0&&jc.x+jc.y<=1}static getInterpolation(e,t,i,s,r,a,l,u){return this.getBarycoord(e,t,i,s,jc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(r,jc.x),u.addScaledVector(a,jc.y),u.addScaledVector(l,jc.z),u)}static getInterpolatedAttribute(e,t,i,s,r,a){return fM.setScalar(0),hM.setScalar(0),dM.setScalar(0),fM.fromBufferAttribute(e,t),hM.fromBufferAttribute(e,i),dM.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(fM,r.x),a.addScaledVector(hM,r.y),a.addScaledVector(dM,r.z),a}static isFrontFacing(e,t,i,s){return tl.subVectors(i,t),Xc.subVectors(e,t),tl.cross(Xc).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return tl.subVectors(this.c,this.b),Xc.subVectors(this.a,this.b),tl.cross(Xc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ha.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ha.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,r){return ha.getInterpolation(e,this.a,this.b,this.c,t,i,s,r)}containsPoint(e){return ha.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ha.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,r=this.c;let a,l;om.subVectors(s,i),lm.subVectors(r,i),lM.subVectors(e,i);const u=om.dot(lM),h=lm.dot(lM);if(u<=0&&h<=0)return t.copy(i);cM.subVectors(e,s);const m=om.dot(cM),g=lm.dot(cM);if(m>=0&&g<=m)return t.copy(s);const y=u*g-m*h;if(y<=0&&u>=0&&m<=0)return a=u/(u-m),t.copy(i).addScaledVector(om,a);uM.subVectors(e,r);const b=om.dot(uM),x=lm.dot(uM);if(x>=0&&b<=x)return t.copy(r);const T=b*h-u*x;if(T<=0&&h>=0&&x<=0)return l=h/(h-x),t.copy(i).addScaledVector(lm,l);const A=m*x-b*g;if(A<=0&&g-m>=0&&b-x>=0)return W3.subVectors(r,s),l=(g-m)/(g-m+(b-x)),t.copy(s).addScaledVector(W3,l);const S=1/(A+T+y);return a=T*S,l=y*S,t.copy(i).addScaledVector(om,a).addScaledVector(lm,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const aF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yf={h:0,s:0,l:0},Jb={h:0,s:0,l:0};function pM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class yt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Cn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,s=Cn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Cn.toWorkingColorSpace(this,s),this}setHSL(e,t,i,s=Cn.workingColorSpace){if(e=cR(e,1),t=Qt(t,0,1),i=Qt(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,a=2*i-r;this.r=pM(a,r,e+1/3),this.g=pM(a,r,e),this.b=pM(a,r,e-1/3)}return Cn.toWorkingColorSpace(this,s),this}setStyle(e,t=xr){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[1],l=s[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xr){const i=aF[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=nu(e.r),this.g=nu(e.g),this.b=nu(e.b),this}copyLinearToSRGB(e){return this.r=Om(e.r),this.g=Om(e.g),this.b=Om(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xr){return Cn.fromWorkingColorSpace(yr.copy(this),e),Math.round(Qt(yr.r*255,0,255))*65536+Math.round(Qt(yr.g*255,0,255))*256+Math.round(Qt(yr.b*255,0,255))}getHexString(e=xr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Cn.workingColorSpace){Cn.fromWorkingColorSpace(yr.copy(this),t);const i=yr.r,s=yr.g,r=yr.b,a=Math.max(i,s,r),l=Math.min(i,s,r);let u,h;const m=(l+a)/2;if(l===a)u=0,h=0;else{const g=a-l;switch(h=m<=.5?g/(a+l):g/(2-a-l),a){case i:u=(s-r)/g+(s<r?6:0);break;case s:u=(r-i)/g+2;break;case r:u=(i-s)/g+4;break}u/=6}return e.h=u,e.s=h,e.l=m,e}getRGB(e,t=Cn.workingColorSpace){return Cn.fromWorkingColorSpace(yr.copy(this),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}getStyle(e=xr){Cn.fromWorkingColorSpace(yr.copy(this),e);const t=yr.r,i=yr.g,s=yr.b;return e!==xr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL(yf),this.setHSL(yf.h+e,yf.s+t,yf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(yf),e.getHSL(Jb);const i=I0(yf.h,Jb.h,t),s=I0(yf.s,Jb.s,t),r=I0(yf.l,Jb.l,t);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*s,this.g=r[1]*t+r[4]*i+r[7]*s,this.b=r[2]*t+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yr=new yt;yt.NAMES=aF;let Iq=0;class Rs extends mc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Iq++}),this.uuid=Xa(),this.name="",this.type="Material",this.blending=Md,this.side=fc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=mS,this.blendDst=gS,this.blendEquation=Ef,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new yt(0,0,0),this.blendAlpha=0,this.depthFunc=Bd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ad,this.stencilZFail=ad,this.stencilZPass=ad,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Md&&(i.blending=this.blending),this.side!==fc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==mS&&(i.blendSrc=this.blendSrc),this.blendDst!==gS&&(i.blendDst=this.blendDst),this.blendEquation!==Ef&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Bd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==oC&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ad&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ad&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ad&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const a=[];for(const l in r){const u=r[l];delete u.metadata,a.push(u)}return a}if(t){const r=s(e.textures),a=s(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ga extends Rs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qc=Nq();function Nq(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const h=u-127;h<-27?(i[u]=0,i[u|256]=32768,s[u]=24,s[u|256]=24):h<-14?(i[u]=1024>>-h-14,i[u|256]=1024>>-h-14|32768,s[u]=-h-1,s[u|256]=-h-1):h<=15?(i[u]=h+15<<10,i[u|256]=h+15<<10|32768,s[u]=13,s[u|256]=13):h<128?(i[u]=31744,i[u|256]=64512,s[u]=24,s[u|256]=24):(i[u]=31744,i[u|256]=64512,s[u]=13,s[u|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let h=u<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,r[u]=h|m}for(let u=1024;u<2048;++u)r[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:a,offsetTable:l}}function fa(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qt(n,-65504,65504),Qc.floatView[0]=n;const e=Qc.uint32View[0],t=e>>23&511;return Qc.baseTable[t]+((e&8388607)>>Qc.shiftTable[t])}function m0(n){const e=n>>10;return Qc.uint32View[0]=Qc.mantissaTable[Qc.offsetTable[e]+(n&1023)]+Qc.exponentTable[e],Qc.floatView[0]}class Oq{static toHalfFloat(e){return fa(e)}static fromHalfFloat(e){return m0(e)}}const ps=new ie,Qb=new Qe;let Lq=0;class Nn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Lq++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=rv,this.updateRanges=[],this.gpuType=pa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Qb.fromBufferAttribute(this,t),Qb.applyMatrix3(e),this.setXY(t,Qb.x,Qb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix3(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix4(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.applyNormalMatrix(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ps.fromBufferAttribute(this,t),ps.transformDirection(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Yr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=sn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Yr(t,this.array)),t}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Yr(t,this.array)),t}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Yr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Yr(t,this.array)),t}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array),r=sn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==rv&&(e.usage=this.usage),e}}class Pq extends Nn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Uq extends Nn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Fq extends Nn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Hq extends Nn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class uR extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class zq extends Nn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class fR extends Nn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Gq extends Nn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=m0(this.array[e*this.itemSize]);return this.normalized&&(t=Yr(t,this.array)),t}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize]=fa(t),this}getY(e){let t=m0(this.array[e*this.itemSize+1]);return this.normalized&&(t=Yr(t,this.array)),t}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+1]=fa(t),this}getZ(e){let t=m0(this.array[e*this.itemSize+2]);return this.normalized&&(t=Yr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+2]=fa(t),this}getW(e){let t=m0(this.array[e*this.itemSize+3]);return this.normalized&&(t=Yr(t,this.array)),t}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.array[e*this.itemSize+3]=fa(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this.array[e+2]=fa(s),this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array),r=sn(r,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this.array[e+2]=fa(s),this.array[e+3]=fa(r),this}}class Mt extends Nn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Vq=0;const go=new Lt,mM=new wn,cm=new ie,Fa=new rr,Qy=new rr,Fs=new ie;class Zt extends mc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vq++}),this.uuid=Xa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iF(e)?fR:uR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new tn().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return go.makeRotationFromQuaternion(e),this.applyMatrix4(go),this}rotateX(e){return go.makeRotationX(e),this.applyMatrix4(go),this}rotateY(e){return go.makeRotationY(e),this.applyMatrix4(go),this}rotateZ(e){return go.makeRotationZ(e),this.applyMatrix4(go),this}translate(e,t,i){return go.makeTranslation(e,t,i),this.applyMatrix4(go),this}scale(e,t,i){return go.makeScale(e,t,i),this.applyMatrix4(go),this}lookAt(e){return mM.lookAt(e),mM.updateMatrix(),this.applyMatrix4(mM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cm).negate(),this.translate(cm.x,cm.y,cm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Mt(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const r=e[s];t.setXYZ(s,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const r=t[i];Fa.setFromBufferAttribute(r),this.morphTargetsRelative?(Fs.addVectors(this.boundingBox.min,Fa.min),this.boundingBox.expandByPoint(Fs),Fs.addVectors(this.boundingBox.max,Fa.max),this.boundingBox.expandByPoint(Fs)):(this.boundingBox.expandByPoint(Fa.min),this.boundingBox.expandByPoint(Fa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new js);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(e){const i=this.boundingSphere.center;if(Fa.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const l=t[r];Qy.setFromBufferAttribute(l),this.morphTargetsRelative?(Fs.addVectors(Fa.min,Qy.min),Fa.expandByPoint(Fs),Fs.addVectors(Fa.max,Qy.max),Fa.expandByPoint(Fs)):(Fa.expandByPoint(Qy.min),Fa.expandByPoint(Qy.max))}Fa.getCenter(i);let s=0;for(let r=0,a=e.count;r<a;r++)Fs.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Fs));if(t)for(let r=0,a=t.length;r<a;r++){const l=t[r],u=this.morphTargetsRelative;for(let h=0,m=l.count;h<m;h++)Fs.fromBufferAttribute(l,h),u&&(cm.fromBufferAttribute(e,h),Fs.add(cm)),s=Math.max(s,i.distanceToSquared(Fs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nn(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let P=0;P<i.count;P++)l[P]=new ie,u[P]=new ie;const h=new ie,m=new ie,g=new ie,y=new Qe,b=new Qe,x=new Qe,T=new ie,A=new ie;function S(P,O,M){h.fromBufferAttribute(i,P),m.fromBufferAttribute(i,O),g.fromBufferAttribute(i,M),y.fromBufferAttribute(r,P),b.fromBufferAttribute(r,O),x.fromBufferAttribute(r,M),m.sub(h),g.sub(h),b.sub(y),x.sub(y);const H=1/(b.x*x.y-x.x*b.y);isFinite(H)&&(T.copy(m).multiplyScalar(x.y).addScaledVector(g,-b.y).multiplyScalar(H),A.copy(g).multiplyScalar(b.x).addScaledVector(m,-x.x).multiplyScalar(H),l[P].add(T),l[O].add(T),l[M].add(T),u[P].add(A),u[O].add(A),u[M].add(A))}let B=this.groups;B.length===0&&(B=[{start:0,count:e.count}]);for(let P=0,O=B.length;P<O;++P){const M=B[P],H=M.start,k=M.count;for(let $=H,se=H+k;$<se;$+=3)S(e.getX($+0),e.getX($+1),e.getX($+2))}const w=new ie,R=new ie,L=new ie,N=new ie;function U(P){L.fromBufferAttribute(s,P),N.copy(L);const O=l[P];w.copy(O),w.sub(L.multiplyScalar(L.dot(O))).normalize(),R.crossVectors(N,O);const H=R.dot(u[P])<0?-1:1;a.setXYZW(P,w.x,w.y,w.z,H)}for(let P=0,O=B.length;P<O;++P){const M=B[P],H=M.start,k=M.count;for(let $=H,se=H+k;$<se;$+=3)U(e.getX($+0)),U(e.getX($+1)),U(e.getX($+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const s=new ie,r=new ie,a=new ie,l=new ie,u=new ie,h=new ie,m=new ie,g=new ie;if(e)for(let y=0,b=e.count;y<b;y+=3){const x=e.getX(y+0),T=e.getX(y+1),A=e.getX(y+2);s.fromBufferAttribute(t,x),r.fromBufferAttribute(t,T),a.fromBufferAttribute(t,A),m.subVectors(a,r),g.subVectors(s,r),m.cross(g),l.fromBufferAttribute(i,x),u.fromBufferAttribute(i,T),h.fromBufferAttribute(i,A),l.add(m),u.add(m),h.add(m),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(A,h.x,h.y,h.z)}else for(let y=0,b=t.count;y<b;y+=3)s.fromBufferAttribute(t,y+0),r.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),m.subVectors(a,r),g.subVectors(s,r),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Fs.fromBufferAttribute(e,t),Fs.normalize(),e.setXYZ(t,Fs.x,Fs.y,Fs.z)}toNonIndexed(){function e(l,u){const h=l.array,m=l.itemSize,g=l.normalized,y=new h.constructor(u.length*m);let b=0,x=0;for(let T=0,A=u.length;T<A;T++){l.isInterleavedBufferAttribute?b=u[T]*l.data.stride+l.offset:b=u[T]*m;for(let S=0;S<m;S++)y[x++]=h[b++]}return new Nn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Zt,i=this.index.array,s=this.attributes;for(const l in s){const u=s[l],h=e(u,i);t.setAttribute(l,h)}const r=this.morphAttributes;for(const l in r){const u=[],h=r[l];for(let m=0,g=h.length;m<g;m++){const y=h[m],b=e(y,i);u.push(b)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const h=a[l];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(e[h]=u[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const h=i[u];e.data.attributes[u]=h.toJSON(e.data)}const s={};let r=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],m=[];for(let g=0,y=h.length;g<y;g++){const b=h[g];m.push(b.toJSON(e.data))}m.length>0&&(s[u]=m,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const h in s){const m=s[h];this.setAttribute(h,m.clone(t))}const r=e.morphAttributes;for(const h in r){const m=[],g=r[h];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let h=0,m=a.length;h<m;h++){const g=a[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Y3=new Lt,kh=new Gd,Zb=new js,q3=new ie,$b=new ie,ex=new ie,tx=new ie,gM=new ie,nx=new ie,K3=new ie,ix=new ie;class rs extends wn{constructor(e=new Zt,t=new Ga){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(r&&l){nx.set(0,0,0);for(let u=0,h=r.length;u<h;u++){const m=l[u],g=r[u];m!==0&&(gM.fromBufferAttribute(g,e),a?nx.addScaledVector(gM,m):nx.addScaledVector(gM.sub(t),m))}t.add(nx)}return t}raycast(e,t){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Zb.copy(i.boundingSphere),Zb.applyMatrix4(r),kh.copy(e.ray).recast(e.near),!(Zb.containsPoint(kh.origin)===!1&&(kh.intersectSphere(Zb,q3)===null||kh.origin.distanceToSquared(q3)>(e.far-e.near)**2))&&(Y3.copy(r).invert(),kh.copy(e.ray).applyMatrix4(Y3),!(i.boundingBox!==null&&kh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,kh)))}_computeIntersections(e,t,i){let s;const r=this.geometry,a=this.material,l=r.index,u=r.attributes.position,h=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,y=r.groups,b=r.drawRange;if(l!==null)if(Array.isArray(a))for(let x=0,T=y.length;x<T;x++){const A=y[x],S=a[A.materialIndex],B=Math.max(A.start,b.start),w=Math.min(l.count,Math.min(A.start+A.count,b.start+b.count));for(let R=B,L=w;R<L;R+=3){const N=l.getX(R),U=l.getX(R+1),P=l.getX(R+2);s=sx(this,S,e,i,h,m,g,N,U,P),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const x=Math.max(0,b.start),T=Math.min(l.count,b.start+b.count);for(let A=x,S=T;A<S;A+=3){const B=l.getX(A),w=l.getX(A+1),R=l.getX(A+2);s=sx(this,a,e,i,h,m,g,B,w,R),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}else if(u!==void 0)if(Array.isArray(a))for(let x=0,T=y.length;x<T;x++){const A=y[x],S=a[A.materialIndex],B=Math.max(A.start,b.start),w=Math.min(u.count,Math.min(A.start+A.count,b.start+b.count));for(let R=B,L=w;R<L;R+=3){const N=R,U=R+1,P=R+2;s=sx(this,S,e,i,h,m,g,N,U,P),s&&(s.faceIndex=Math.floor(R/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const x=Math.max(0,b.start),T=Math.min(u.count,b.start+b.count);for(let A=x,S=T;A<S;A+=3){const B=A,w=A+1,R=A+2;s=sx(this,a,e,i,h,m,g,B,w,R),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}}}function kq(n,e,t,i,s,r,a,l){let u;if(e.side===Jr?u=i.intersectTriangle(a,r,s,!0,l):u=i.intersectTriangle(s,r,a,e.side===fc,l),u===null)return null;ix.copy(l),ix.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(ix);return h<t.near||h>t.far?null:{distance:h,point:ix.clone(),object:n}}function sx(n,e,t,i,s,r,a,l,u,h){n.getVertexPosition(l,$b),n.getVertexPosition(u,ex),n.getVertexPosition(h,tx);const m=kq(n,e,t,i,$b,ex,tx,K3);if(m){const g=new ie;ha.getBarycoord(K3,$b,ex,tx,g),s&&(m.uv=ha.getInterpolatedAttribute(s,l,u,h,g,new Qe)),r&&(m.uv1=ha.getInterpolatedAttribute(r,l,u,h,g,new Qe)),a&&(m.normal=ha.getInterpolatedAttribute(a,l,u,h,g,new ie),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:l,b:u,c:h,normal:new ie,materialIndex:0};ha.getNormal($b,ex,tx,y.normal),m.face=y,m.barycoord=g}return m}class Vd extends Zt{constructor(e=1,t=1,i=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:r,depthSegments:a};const l=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const u=[],h=[],m=[],g=[];let y=0,b=0;x("z","y","x",-1,-1,i,t,e,a,r,0),x("z","y","x",1,-1,i,t,-e,a,r,1),x("x","z","y",1,1,e,i,t,s,a,2),x("x","z","y",1,-1,e,i,-t,s,a,3),x("x","y","z",1,-1,e,t,i,s,r,4),x("x","y","z",-1,-1,e,t,-i,s,r,5),this.setIndex(u),this.setAttribute("position",new Mt(h,3)),this.setAttribute("normal",new Mt(m,3)),this.setAttribute("uv",new Mt(g,2));function x(T,A,S,B,w,R,L,N,U,P,O){const M=R/U,H=L/P,k=R/2,$=L/2,se=N/2,ne=U+1,z=P+1;let Y=0,Z=0;const re=new ie;for(let j=0;j<z;j++){const ae=j*H-$;for(let Se=0;Se<ne;Se++){const Ae=Se*M-k;re[T]=Ae*B,re[A]=ae*w,re[S]=se,h.push(re.x,re.y,re.z),re[T]=0,re[A]=0,re[S]=N>0?1:-1,m.push(re.x,re.y,re.z),g.push(Se/U),g.push(1-j/P),Y+=1}}for(let j=0;j<P;j++)for(let ae=0;ae<U;ae++){const Se=y+ae+ne*j,Ae=y+ae+ne*(j+1),ce=y+(ae+1)+ne*(j+1),Te=y+(ae+1)+ne*j;u.push(Se,Ae,Te),u.push(Ae,ce,Te),Z+=6}l.addGroup(b,Z,O),b+=Z,y+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function eg(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function jr(n){const e={};for(let t=0;t<n.length;t++){const i=eg(n[t]);for(const s in i)e[s]=i[s]}return e}function Xq(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function oF(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Cn.workingColorSpace}const lF={clone:eg,merge:jr};var jq=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Wq=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class dl extends Rs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jq,this.fragmentShader=Wq,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=eg(e.uniforms),this.uniformsGroups=Xq(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?t.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[s]={type:"m4",value:a.toArray()}:t.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class nE extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lt,this.projectionMatrix=new Lt,this.projectionMatrixInverse=new Lt,this.coordinateSystem=So}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vf=new ie,J3=new Qe,Q3=new Qe;class qi extends nE{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Td*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zm*2*Math.atan(Math.tan(Td*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){vf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(vf.x,vf.y).multiplyScalar(-e/vf.z),vf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(vf.x,vf.y).multiplyScalar(-e/vf.z)}getViewSize(e,t){return this.getViewBounds(e,J3,Q3),t.subVectors(Q3,J3)}setViewOffset(e,t,i,s,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Td*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,r=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,h=a.fullHeight;r+=a.offsetX*s/u,t-=a.offsetY*i/h,s*=a.width/u,i*=a.height/h}const l=this.filmOffset;l!==0&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const um=-90,fm=1;class cF extends wn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new qi(um,fm,e,t);s.layers=this.layers,this.add(s);const r=new qi(um,fm,e,t);r.layers=this.layers,this.add(r);const a=new qi(um,fm,e,t);a.layers=this.layers,this.add(a);const l=new qi(um,fm,e,t);l.layers=this.layers,this.add(l);const u=new qi(um,fm,e,t);u.layers=this.layers,this.add(u);const h=new qi(um,fm,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,r,a,l,u]=t;for(const h of t)this.remove(h);if(e===So)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===av)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,l,u,h,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,r),e.setRenderTarget(i,1,s),e.render(t,a),e.setRenderTarget(i,2,s),e.render(t,l),e.setRenderTarget(i,3,s),e.render(t,u),e.setRenderTarget(i,4,s),e.render(t,h),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,s),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class Gv extends Mi{constructor(e=[],t=fu,i,s,r,a,l,u,h,m){super(e,t,i,s,r,a,l,u,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uF extends hc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new Gv(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ss}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Vd(5,5,5),r=new dl({name:"CubemapFromEquirect",uniforms:eg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Jr,blending:tu});r.uniforms.tEquirect.value=t;const a=new rs(s,r),l=t.minFilter;return t.minFilter===xo&&(t.minFilter=ss),new cF(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,s);e.setRenderTarget(r)}}class Zc extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yq={type:"move"};class Qx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,r=null,a=null;const l=this._targetRay,u=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){a=!0;for(const T of e.hand.values()){const A=t.getJointPose(T,i),S=this._getHandJoint(h,T);A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=A.radius),S.visible=A!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,x=.005;h.inputState.pinching&&y>b+x?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&y<=b-x&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Yq)))}return l!==null&&(l.visible=s!==null),u!==null&&(u.visible=r!==null),h!==null&&(h.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Zc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class iE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new yt(e),this.density=t}clone(){return new iE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class sE{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new yt(e),this.near=t,this.far=i}clone(){return new sE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class hR extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ja,this.environmentIntensity=1,this.environmentRotation=new ja,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Vv{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=rv,this.updateRanges=[],this.version=0,this.uuid=Xa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xr=new ie;class Ff{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Xr.fromBufferAttribute(this,t),Xr.applyMatrix4(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Xr.fromBufferAttribute(this,t),Xr.applyNormalMatrix(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Xr.fromBufferAttribute(this,t),Xr.transformDirection(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Yr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=sn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Yr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Yr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Yr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Yr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=sn(t,this.array),i=sn(i,this.array),s=sn(s,this.array),r=sn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return new Nn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ff(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class dR extends Rs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let hm;const Zy=new ie,dm=new ie,pm=new ie,mm=new Qe,$y=new Qe,fF=new Lt,rx=new ie,e0=new ie,ax=new ie,Z3=new Qe,yM=new Qe,$3=new Qe;class hF extends wn{constructor(e=new dR){if(super(),this.isSprite=!0,this.type="Sprite",hm===void 0){hm=new Zt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Vv(t,5);hm.setIndex([0,1,2,0,2,3]),hm.setAttribute("position",new Ff(i,3,0,!1)),hm.setAttribute("uv",new Ff(i,2,3,!1))}this.geometry=hm,this.material=e,this.center=new Qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),dm.setFromMatrixScale(this.matrixWorld),fF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),pm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&dm.multiplyScalar(-pm.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const a=this.center;ox(rx.set(-.5,-.5,0),pm,a,dm,s,r),ox(e0.set(.5,-.5,0),pm,a,dm,s,r),ox(ax.set(.5,.5,0),pm,a,dm,s,r),Z3.set(0,0),yM.set(1,0),$3.set(1,1);let l=e.ray.intersectTriangle(rx,e0,ax,!1,Zy);if(l===null&&(ox(e0.set(-.5,.5,0),pm,a,dm,s,r),yM.set(0,1),l=e.ray.intersectTriangle(rx,ax,e0,!1,Zy),l===null))return;const u=e.ray.origin.distanceTo(Zy);u<e.near||u>e.far||t.push({distance:u,point:Zy.clone(),uv:ha.getInterpolation(Zy,rx,e0,ax,Z3,yM,$3,new Qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ox(n,e,t,i,s,r){mm.subVectors(n,t).addScalar(.5).multiply(i),s!==void 0?($y.x=r*mm.x-s*mm.y,$y.y=s*mm.x+r*mm.y):$y.copy(mm),n.copy(e),n.x+=$y.x,n.y+=$y.y,n.applyMatrix4(fF)}const lx=new ie,eI=new ie;class dF extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let r;for(r=0;r<s.length&&!(t<s[r].distance);r++);return s.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const s=t.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){lx.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(lx);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lx.setFromMatrixPosition(e.matrixWorld),eI.setFromMatrixPosition(this.matrixWorld);const i=lx.distanceTo(eI)/e.zoom;t[0].object.visible=!0;let s,r;for(s=1,r=t.length;s<r;s++){let a=t[s].distance;if(t[s].object.visible&&(a-=a*t[s].hysteresis),i>=a)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const a=i[s];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const tI=new ie,nI=new In,iI=new In,qq=new ie,sI=new Lt,cx=new ie,vM=new js,rI=new Lt,_M=new Gd;class pR extends rs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=aC,this.bindMatrix=new Lt,this.bindMatrixInverse=new Lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new rr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cx),this.boundingBox.expandByPoint(cx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new js),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cx),this.boundingSphere.expandByPoint(cx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vM.copy(this.boundingSphere),vM.applyMatrix4(s),e.ray.intersectsSphere(vM)!==!1&&(rI.copy(s).invert(),_M.copy(e.ray).applyMatrix4(rI),!(this.boundingBox!==null&&_M.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,_M)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new In,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===aC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===GU?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;nI.fromBufferAttribute(s.attributes.skinIndex,e),iI.fromBufferAttribute(s.attributes.skinWeight,e),tI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const a=iI.getComponent(r);if(a!==0){const l=nI.getComponent(r);sI.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(qq.copy(tI).applyMatrix4(sI),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class rE extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class uc extends Mi{constructor(e=null,t=1,i=1,s,r,a,l,u,h=ks,m=ks,g,y){super(null,a,l,u,h,m,s,r,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aI=new Lt,Kq=new Lt;class kv{constructor(e=[],t=[]){this.uuid=Xa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const l=e[r]?e[r].matrixWorld:Kq;aI.multiplyMatrices(l,t[r]),aI.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new kv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new uc(t,e,e,Mr,pa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let a=t[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new rE),this.bones.push(a),this.boneInverses.push(new Lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,r=t.length;s<r;s++){const a=t[s];e.bones.push(a.uuid);const l=i[s];e.boneInverses.push(l.toArray())}return e}}class Dd extends Nn{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const gm=new Lt,oI=new Lt,ux=[],lI=new rr,Jq=new Lt,t0=new rs,n0=new js;class mR extends rs{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Dd(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Jq)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new rr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,gm),lI.copy(e.boundingBox).applyMatrix4(gm),this.boundingBox.union(lI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new js),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,gm),n0.copy(e.boundingSphere).applyMatrix4(gm),this.boundingSphere.union(n0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,a=e*r+1;for(let l=0;l<i.length;l++)i[l]=s[a+l]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(t0.geometry=this.geometry,t0.material=this.material,t0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),n0.copy(this.boundingSphere),n0.applyMatrix4(i),e.ray.intersectsSphere(n0)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,gm),oI.multiplyMatrices(i,gm),t0.matrixWorld=oI,t0.raycast(e,ux);for(let a=0,l=ux.length;a<l;a++){const u=ux[a];u.instanceId=r,u.object=this,t.push(u)}ux.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Dd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new uc(new Float32Array(s*this.count),s,this.count,JA,pa));const r=this.morphTexture.source.data.data;let a=0;for(let h=0;h<i.length;h++)a+=i[h];const l=this.geometry.morphTargetsRelative?1:1-a,u=s*e;r[u]=l,r.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const bM=new ie,Qq=new ie,Zq=new tn;class Kc{constructor(e=new ie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=bM.subVectors(i,t).cross(Qq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(bM),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Zq.getNormalMatrix(e),s=this.coplanarPoint(bM).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xh=new js,fx=new ie;class yg{constructor(e=new Kc,t=new Kc,i=new Kc,s=new Kc,r=new Kc,a=new Kc){this.planes=[e,t,i,s,r,a]}set(e,t,i,s,r,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(s),l[4].copy(r),l[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=So){const i=this.planes,s=e.elements,r=s[0],a=s[1],l=s[2],u=s[3],h=s[4],m=s[5],g=s[6],y=s[7],b=s[8],x=s[9],T=s[10],A=s[11],S=s[12],B=s[13],w=s[14],R=s[15];if(i[0].setComponents(u-r,y-h,A-b,R-S).normalize(),i[1].setComponents(u+r,y+h,A+b,R+S).normalize(),i[2].setComponents(u+a,y+m,A+x,R+B).normalize(),i[3].setComponents(u-a,y-m,A-x,R-B).normalize(),i[4].setComponents(u-l,y-g,A-T,R-w).normalize(),t===So)i[5].setComponents(u+l,y+g,A+T,R+w).normalize();else if(t===av)i[5].setComponents(l,g,T,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Xh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Xh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xh)}intersectsSprite(e){return Xh.center.set(0,0,0),Xh.radius=.7071067811865476,Xh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xh)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(fx.x=s.normal.x>0?e.max.x:e.min.x,fx.y=s.normal.y>0?e.max.y:e.min.y,fx.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(fx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ec=new Lt,tc=new yg;class aE{constructor(){this.coordinateSystem=So}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(ec.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),tc.setFromProjectionMatrix(ec,this.coordinateSystem),tc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(ec.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),tc.setFromProjectionMatrix(ec,this.coordinateSystem),tc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(ec.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),tc.setFromProjectionMatrix(ec,this.coordinateSystem),tc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(ec.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),tc.setFromProjectionMatrix(ec,this.coordinateSystem),tc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(ec.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),tc.setFromProjectionMatrix(ec,this.coordinateSystem),tc.containsPoint(e))return!0}return!1}clone(){return new aE}}function xM(n,e){return n-e}function $q(n,e){return n.z-e.z}function eK(n,e){return e.z-n.z}class tK{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,s){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const l=r[this.index];a.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=s}reset(){this.list.length=0,this.index=0}}const ua=new Lt,nK=new yt(1,1,1),cI=new yg,iK=new aE,hx=new rr,jh=new js,i0=new ie,uI=new ie,sK=new ie,SM=new tK,vr=new rs,dx=[];function rK(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let a=0;a<i;a++)e.setComponent(r+t,a,n.getComponent(r,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Wh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class pF extends rs{constructor(e,t,i=t*2,s){super(new Zt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new uc(t,e,e,Mr,pa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new uc(t,e,e,Hv,hu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new uc(t,e,e,Mr,pa);i.colorSpace=Cn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const a=e.getAttribute(r),{array:l,itemSize:u,normalized:h}=a,m=new l.constructor(i*u),g=new Nn(m,u,h);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Nn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=t.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ua),this.getBoundingBoxAt(r,hx).applyMatrix4(ua),e.union(hx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new js);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ua),this.getBoundingSphereAt(r,jh).applyMatrix4(ua),e.union(jh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(xM),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;ua.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const a=this._colorsTexture;return a&&(nK.toArray(a.image.data,s*4),a.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?a.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(xM),u=this._availableGeometryIds.shift(),r[u]=s):(u=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(u,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),a=t.getIndex(),l=this._geometryInfo[e];if(s&&a.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);rK(g,y,u);const b=g.itemSize;for(let x=g.count,T=h;x<T;x++){const A=u+x;for(let S=0;S<b;S++)y.setComponent(A,S,0)}y.needsUpdate=!0,y.addUpdateRange(u*b,h*b)}if(s){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)r.setX(m+y,u+a.getX(y));for(let y=a.count,b=g;y<b;y++)r.setX(m+y,u);r.needsUpdate=!0,r.addUpdateRange(m,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,s=i.map((a,l)=>l).sort((a,l)=>i[a].vertexStart-i[l].vertexStart),r=this.geometry;for(let a=0,l=i.length;a<l;a++){const u=s[a],h=i[u];if(h.active!==!1){if(r.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=h,b=r.index,x=b.array,T=e-g;for(let A=m;A<m+y;A++)x[A]=x[A]+T;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,y=r.attributes;for(const b in y){const x=y[b],{array:T,itemSize:A}=x;T.copyWithin(e*A,m*A,(m+g)*A),x.addUpdateRange(e*A,g*A)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=r.index?h.indexStart:h.vertexStart,this._nextIndexStart=r.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new rr,a=i.index,l=i.attributes.position;for(let u=s.start,h=s.start+s.count;u<h;u++){let m=u;a&&(m=a.getX(m)),r.expandByPoint(i0.fromBufferAttribute(l,m))}s.boundingBox=r}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new js;this.getBoundingBoxAt(e,hx),hx.getCenter(r.center);const a=i.index,l=i.attributes.position;let u=0;for(let h=s.start,m=s.start+s.count;h<m;h++){let g=h;a&&(g=a.getX(g)),i0.fromBufferAttribute(l,g),u=Math.max(u,r.center.distanceToSquared(i0))}r.radius=Math.sqrt(u),s.boundingSphere=r}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(xM);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);Wh(this._multiDrawCounts,s),Wh(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Wh(a.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Wh(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Wh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Zt,this._initializeGeometry(r));const a=this.geometry;r.index&&Wh(r.index.array,a.index.array);for(const l in r.attributes)Wh(r.attributes[l].array,a.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,a=this.geometry;vr.material=this.material,vr.geometry.index=a.index,vr.geometry.attributes=a.attributes,vr.geometry.boundingBox===null&&(vr.geometry.boundingBox=new rr),vr.geometry.boundingSphere===null&&(vr.geometry.boundingSphere=new js);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const h=i[l].geometryIndex,m=s[h];vr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,vr.matrixWorld).premultiply(r),this.getBoundingBoxAt(h,vr.geometry.boundingBox),this.getBoundingSphereAt(h,vr.geometry.boundingSphere),vr.raycast(e,dx);for(let g=0,y=dx.length;g<y;g++){const b=dx[g];b.object=this,b.batchId=l,t.push(b)}dx.length=0}vr.material=null,vr.geometry.index=null,vr.geometry.attributes={},vr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=s.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,u=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,x=b.image.data,T=i.isArrayCamera?iK:cI;y&&!i.isArrayCamera&&(ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),cI.setFromProjectionMatrix(ua,e.coordinateSystem));let A=0;if(this.sortObjects){ua.copy(this.matrixWorld).invert(),i0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ua),uI.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ua);for(let w=0,R=u.length;w<R;w++)if(u[w].visible&&u[w].active){const L=u[w].geometryIndex;this.getMatrixAt(w,ua),this.getBoundingSphereAt(L,jh).applyMatrix4(ua);let N=!1;if(y&&(N=!T.intersectsSphere(jh,i)),!N){const U=g[L],P=sK.subVectors(jh.center,i0).dot(uI);SM.push(U.start,U.count,P,w)}}const S=SM.list,B=this.customSort;B===null?S.sort(r.transparent?eK:$q):B.call(this,S,i);for(let w=0,R=S.length;w<R;w++){const L=S[w];h[A]=L.start*l,m[A]=L.count,x[A]=L.index,A++}SM.reset()}else for(let S=0,B=u.length;S<B;S++)if(u[S].visible&&u[S].active){const w=u[S].geometryIndex;let R=!1;if(y&&(this.getMatrixAt(S,ua),this.getBoundingSphereAt(w,jh).applyMatrix4(ua),R=!T.intersectsSphere(jh,i)),!R){const L=g[w];h[A]=L.start*l,m[A]=L.count,x[A]=S,A++}}b.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,r,a){this.onBeforeRender(e,null,s,r,a)}}class Cr extends Rs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const QS=new ie,ZS=new ie,fI=new Lt,s0=new Gd,px=new js,AM=new ie,hI=new ie;class du extends wn{constructor(e=new Zt,t=new Cr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,r=t.count;s<r;s++)QS.fromBufferAttribute(t,s-1),ZS.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=QS.distanceTo(ZS);e.setAttribute("lineDistance",new Mt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),px.copy(i.boundingSphere),px.applyMatrix4(s),px.radius+=r,e.ray.intersectsSphere(px)===!1)return;fI.copy(s).invert(),s0.copy(e.ray).applyMatrix4(fI);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,a.start),x=Math.min(m.count,a.start+a.count);for(let T=b,A=x-1;T<A;T+=h){const S=m.getX(T),B=m.getX(T+1),w=mx(this,e,s0,u,S,B,T);w&&t.push(w)}if(this.isLineLoop){const T=m.getX(x-1),A=m.getX(b),S=mx(this,e,s0,u,T,A,x-1);S&&t.push(S)}}else{const b=Math.max(0,a.start),x=Math.min(y.count,a.start+a.count);for(let T=b,A=x-1;T<A;T+=h){const S=mx(this,e,s0,u,T,T+1,T);S&&t.push(S)}if(this.isLineLoop){const T=mx(this,e,s0,u,x-1,b,x-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function mx(n,e,t,i,s,r,a){const l=n.geometry.attributes.position;if(QS.fromBufferAttribute(l,s),ZS.fromBufferAttribute(l,r),t.distanceSqToSegment(QS,ZS,AM,hI)>i)return;AM.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(AM);if(!(h<e.near||h>e.far))return{distance:h,point:hI.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const dI=new ie,pI=new ie;class ml extends du{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,r=t.count;s<r;s+=2)dI.fromBufferAttribute(t,s),pI.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+dI.distanceTo(pI);e.setAttribute("lineDistance",new Mt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gR extends du{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class oE extends Rs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const mI=new Lt,cC=new Gd,gx=new js,yx=new ie;class yR extends wn{constructor(e=new Zt,t=new oE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),gx.copy(i.boundingSphere),gx.applyMatrix4(s),gx.radius+=r,e.ray.intersectsSphere(gx)===!1)return;mI.copy(s).invert(),cC.copy(e.ray).applyMatrix4(mI);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=i.index,g=i.attributes.position;if(h!==null){const y=Math.max(0,a.start),b=Math.min(h.count,a.start+a.count);for(let x=y,T=b;x<T;x++){const A=h.getX(x);yx.fromBufferAttribute(g,A),gI(yx,A,u,s,e,t,this)}}else{const y=Math.max(0,a.start),b=Math.min(g.count,a.start+a.count);for(let x=y,T=b;x<T;x++)yx.fromBufferAttribute(g,x),gI(yx,x,u,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function gI(n,e,t,i,s,r,a){const l=cC.distanceSqToPoint(n);if(l<t){const u=new ie;cC.closestPointToPoint(n,u),u.applyMatrix4(i);const h=s.ray.origin.distanceTo(u);if(h<s.near||h>s.far)return;r.push({distance:h,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class mF extends Mi{constructor(e,t,i,s,r=ss,a=ss,l,u,h){super(e,t,i,s,r,a,l,u,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class aK extends mF{constructor(e,t,i,s,r,a,l,u){super({},e,t,i,s,r,a,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class oK extends Mi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ks,this.minFilter=ks,this.generateMipmaps=!1,this.needsUpdate=!0}}class lE extends Mi{constructor(e,t,i,s,r,a,l,u,h,m,g,y){super(null,a,l,u,h,m,s,r,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lK extends lE{constructor(e,t,i,s,r,a){super(e,t,i,r,a),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=za,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cK extends lE{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,fu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class uK extends Mi{constructor(e,t,i,s,r,a,l,u,h){super(e,t,i,s,r,a,l,u,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class cE extends Mi{constructor(e,t,i=hu,s,r,a,l=ks,u=ks,h,m=qm){if(m!==qm&&m!==Km)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,s,r,a,l,u,m,i,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Tf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class fK extends cE{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uE extends Zt{constructor(e=1,t=1,i=4,s=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:s,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),r=Math.max(1,Math.floor(r));const a=[],l=[],u=[],h=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,x=i*2+r,T=s+1,A=new ie,S=new ie;for(let B=0;B<=x;B++){let w=0,R=0,L=0,N=0;if(B<=i){const O=B/i,M=O*Math.PI/2;R=-m-e*Math.cos(M),L=e*Math.sin(M),N=-e*Math.cos(M),w=O*g}else if(B<=i+r){const O=(B-i)/r;R=-m+O*t,L=e,N=0,w=g+O*y}else{const O=(B-i-r)/i,M=O*Math.PI/2;R=m+e*Math.sin(M),L=e*Math.cos(M),N=e*Math.sin(M),w=g+y+O*g}const U=Math.max(0,Math.min(1,w/b));let P=0;B===0?P=.5/s:B===x&&(P=-.5/s);for(let O=0;O<=s;O++){const M=O/s,H=M*Math.PI*2,k=Math.sin(H),$=Math.cos(H);S.x=-L*$,S.y=R,S.z=L*k,l.push(S.x,S.y,S.z),A.set(-L*$,N,L*k),A.normalize(),u.push(A.x,A.y,A.z),h.push(M+P,U)}if(B>0){const O=(B-1)*T;for(let M=0;M<s;M++){const H=O+M,k=O+M+1,$=B*T+M,se=B*T+M+1;a.push(H,k,$),a.push(k,se,$)}}}this.setIndex(a),this.setAttribute("position",new Mt(l,3)),this.setAttribute("normal",new Mt(u,3)),this.setAttribute("uv",new Mt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class fE extends Zt{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const r=[],a=[],l=[],u=[],h=new ie,m=new Qe;a.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=i+g/t*s;h.x=e*Math.cos(b),h.y=e*Math.sin(b),a.push(h.x,h.y,h.z),l.push(0,0,1),m.x=(a[y]/e+1)/2,m.y=(a[y+1]/e+1)/2,u.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new Mt(a,3)),this.setAttribute("normal",new Mt(l,3)),this.setAttribute("uv",new Mt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Xv extends Zt{constructor(e=1,t=1,i=1,s=32,r=1,a=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:r,openEnded:a,thetaStart:l,thetaLength:u};const h=this;s=Math.floor(s),r=Math.floor(r);const m=[],g=[],y=[],b=[];let x=0;const T=[],A=i/2;let S=0;B(),a===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(m),this.setAttribute("position",new Mt(g,3)),this.setAttribute("normal",new Mt(y,3)),this.setAttribute("uv",new Mt(b,2));function B(){const R=new ie,L=new ie;let N=0;const U=(t-e)/i;for(let P=0;P<=r;P++){const O=[],M=P/r,H=M*(t-e)+e;for(let k=0;k<=s;k++){const $=k/s,se=$*u+l,ne=Math.sin(se),z=Math.cos(se);L.x=H*ne,L.y=-M*i+A,L.z=H*z,g.push(L.x,L.y,L.z),R.set(ne,U,z).normalize(),y.push(R.x,R.y,R.z),b.push($,1-M),O.push(x++)}T.push(O)}for(let P=0;P<s;P++)for(let O=0;O<r;O++){const M=T[O][P],H=T[O+1][P],k=T[O+1][P+1],$=T[O][P+1];(e>0||O!==0)&&(m.push(M,H,$),N+=3),(t>0||O!==r-1)&&(m.push(H,k,$),N+=3)}h.addGroup(S,N,0),S+=N}function w(R){const L=x,N=new Qe,U=new ie;let P=0;const O=R===!0?e:t,M=R===!0?1:-1;for(let k=1;k<=s;k++)g.push(0,A*M,0),y.push(0,M,0),b.push(.5,.5),x++;const H=x;for(let k=0;k<=s;k++){const se=k/s*u+l,ne=Math.cos(se),z=Math.sin(se);U.x=O*z,U.y=A*M,U.z=O*ne,g.push(U.x,U.y,U.z),y.push(0,M,0),N.x=ne*.5+.5,N.y=z*.5*M+.5,b.push(N.x,N.y),x++}for(let k=0;k<s;k++){const $=L+k,se=H+k;R===!0?m.push(se,se+1,$):m.push(se+1,se,$),P+=3}h.addGroup(S,P,R===!0?1:2),S+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jv extends Xv{constructor(e=1,t=1,i=32,s=1,r=!1,a=0,l=Math.PI*2){super(0,e,t,i,s,r,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:l}}static fromJSON(e){return new jv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xf extends Zt{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const r=[],a=[];l(s),h(i),m(),this.setAttribute("position",new Mt(r,3)),this.setAttribute("normal",new Mt(r.slice(),3)),this.setAttribute("uv",new Mt(a,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(B){const w=new ie,R=new ie,L=new ie;for(let N=0;N<t.length;N+=3)b(t[N+0],w),b(t[N+1],R),b(t[N+2],L),u(w,R,L,B)}function u(B,w,R,L){const N=L+1,U=[];for(let P=0;P<=N;P++){U[P]=[];const O=B.clone().lerp(R,P/N),M=w.clone().lerp(R,P/N),H=N-P;for(let k=0;k<=H;k++)k===0&&P===N?U[P][k]=O:U[P][k]=O.clone().lerp(M,k/H)}for(let P=0;P<N;P++)for(let O=0;O<2*(N-P)-1;O++){const M=Math.floor(O/2);O%2===0?(y(U[P][M+1]),y(U[P+1][M]),y(U[P][M])):(y(U[P][M+1]),y(U[P+1][M+1]),y(U[P+1][M]))}}function h(B){const w=new ie;for(let R=0;R<r.length;R+=3)w.x=r[R+0],w.y=r[R+1],w.z=r[R+2],w.normalize().multiplyScalar(B),r[R+0]=w.x,r[R+1]=w.y,r[R+2]=w.z}function m(){const B=new ie;for(let w=0;w<r.length;w+=3){B.x=r[w+0],B.y=r[w+1],B.z=r[w+2];const R=A(B)/2/Math.PI+.5,L=S(B)/Math.PI+.5;a.push(R,1-L)}x(),g()}function g(){for(let B=0;B<a.length;B+=6){const w=a[B+0],R=a[B+2],L=a[B+4],N=Math.max(w,R,L),U=Math.min(w,R,L);N>.9&&U<.1&&(w<.2&&(a[B+0]+=1),R<.2&&(a[B+2]+=1),L<.2&&(a[B+4]+=1))}}function y(B){r.push(B.x,B.y,B.z)}function b(B,w){const R=B*3;w.x=e[R+0],w.y=e[R+1],w.z=e[R+2]}function x(){const B=new ie,w=new ie,R=new ie,L=new ie,N=new Qe,U=new Qe,P=new Qe;for(let O=0,M=0;O<r.length;O+=9,M+=6){B.set(r[O+0],r[O+1],r[O+2]),w.set(r[O+3],r[O+4],r[O+5]),R.set(r[O+6],r[O+7],r[O+8]),N.set(a[M+0],a[M+1]),U.set(a[M+2],a[M+3]),P.set(a[M+4],a[M+5]),L.copy(B).add(w).add(R).divideScalar(3);const H=A(L);T(N,M+0,B,H),T(U,M+2,w,H),T(P,M+4,R,H)}}function T(B,w,R,L){L<0&&B.x===1&&(a[w]=B.x-1),R.x===0&&R.z===0&&(a[w]=L/2/Math.PI+.5)}function A(B){return Math.atan2(B.z,-B.x)}function S(B){return Math.atan2(-B.y,Math.sqrt(B.x*B.x+B.z*B.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xf(e.vertices,e.indices,e.radius,e.details)}}class hE extends Xf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hE(e.radius,e.detail)}}const vx=new ie,_x=new ie,EM=new ie,bx=new ha;class gF extends Zt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),r=Math.cos(Td*t),a=e.getIndex(),l=e.getAttribute("position"),u=a?a.count:l.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let x=0;x<u;x+=3){a?(h[0]=a.getX(x),h[1]=a.getX(x+1),h[2]=a.getX(x+2)):(h[0]=x,h[1]=x+1,h[2]=x+2);const{a:T,b:A,c:S}=bx;if(T.fromBufferAttribute(l,h[0]),A.fromBufferAttribute(l,h[1]),S.fromBufferAttribute(l,h[2]),bx.getNormal(EM),g[0]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,g[1]=`${Math.round(A.x*s)},${Math.round(A.y*s)},${Math.round(A.z*s)}`,g[2]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let B=0;B<3;B++){const w=(B+1)%3,R=g[B],L=g[w],N=bx[m[B]],U=bx[m[w]],P=`${R}_${L}`,O=`${L}_${R}`;O in y&&y[O]?(EM.dot(y[O].normal)<=r&&(b.push(N.x,N.y,N.z),b.push(U.x,U.y,U.z)),y[O]=null):P in y||(y[P]={index0:h[B],index1:h[w],normal:EM.clone()})}}for(const x in y)if(y[x]){const{index0:T,index1:A}=y[x];vx.fromBufferAttribute(l,T),_x.fromBufferAttribute(l,A),b.push(vx.x,vx.y,vx.z),b.push(_x.x,_x.y,_x.z)}this.setAttribute("position",new Mt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class gl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),r+=i.distanceTo(s),t.push(r),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let s=0;const r=i.length;let a;t?a=t:a=e*i[r-1];let l=0,u=r-1,h;for(;l<=u;)if(s=Math.floor(l+(u-l)/2),h=i[s]-a,h<0)l=s+1;else if(h>0)u=s-1;else{u=s;break}if(s=u,i[s]===a)return s/(r-1);const m=i[s],y=i[s+1]-m,b=(a-m)/y;return(s+b)/(r-1)}getTangent(e,t){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),l=this.getPoint(r),u=t||(a.isVector2?new Qe:new ie);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new ie,s=[],r=[],a=[],l=new ie,u=new Lt;for(let b=0;b<=e;b++){const x=b/e;s[b]=this.getTangentAt(x,new ie)}r[0]=new ie,a[0]=new ie;let h=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),y=Math.abs(s[0].z);m<=h&&(h=m,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),y<=h&&i.set(0,0,1),l.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],l),a[0].crossVectors(s[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),a[b]=a[b-1].clone(),l.crossVectors(s[b-1],s[b]),l.length()>Number.EPSILON){l.normalize();const x=Math.acos(Qt(s[b-1].dot(s[b]),-1,1));r[b].applyMatrix4(u.makeRotationAxis(l,x))}a[b].crossVectors(s[b],r[b])}if(t===!0){let b=Math.acos(Qt(r[0].dot(r[e]),-1,1));b/=e,s[0].dot(l.crossVectors(r[0],r[e]))>0&&(b=-b);for(let x=1;x<=e;x++)r[x].applyMatrix4(u.makeRotationAxis(s[x],b*x)),a[x].crossVectors(s[x],r[x])}return{tangents:s,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class dE extends gl{constructor(e=0,t=0,i=1,s=1,r=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new Qe){const i=t,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(a?r=0:r=s),this.aClockwise===!0&&!a&&(r===s?r=-s:r=r-s);const l=this.aStartAngle+e*r;let u=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=u-this.aX,b=h-this.aY;u=y*m-b*g+this.aX,h=y*g+b*m+this.aY}return i.set(u,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yF extends dE{constructor(e,t,i,s,r,a){super(e,t,i,i,s,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function vR(){let n=0,e=0,t=0,i=0;function s(r,a,l,u){n=r,e=l,t=-3*r+3*a-2*l-u,i=2*r-2*a+l+u}return{initCatmullRom:function(r,a,l,u,h){s(a,l,h*(l-r),h*(u-a))},initNonuniformCatmullRom:function(r,a,l,u,h,m,g){let y=(a-r)/h-(l-r)/(h+m)+(l-a)/m,b=(l-a)/m-(u-a)/(m+g)+(u-l)/g;y*=m,b*=m,s(a,l,y,b)},calc:function(r){const a=r*r,l=a*r;return n+e*r+t*a+i*l}}}const xx=new ie,MM=new vR,TM=new vR,CM=new vR;class vF extends gl{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new ie){const i=t,s=this.points,r=s.length,a=(r-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:u===0&&l===r-1&&(l=r-2,u=1);let h,m;this.closed||l>0?h=s[(l-1)%r]:(xx.subVectors(s[0],s[1]).add(s[0]),h=xx);const g=s[l%r],y=s[(l+1)%r];if(this.closed||l+2<r?m=s[(l+2)%r]:(xx.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=xx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let x=Math.pow(h.distanceToSquared(g),b),T=Math.pow(g.distanceToSquared(y),b),A=Math.pow(y.distanceToSquared(m),b);T<1e-4&&(T=1),x<1e-4&&(x=T),A<1e-4&&(A=T),MM.initNonuniformCatmullRom(h.x,g.x,y.x,m.x,x,T,A),TM.initNonuniformCatmullRom(h.y,g.y,y.y,m.y,x,T,A),CM.initNonuniformCatmullRom(h.z,g.z,y.z,m.z,x,T,A)}else this.curveType==="catmullrom"&&(MM.initCatmullRom(h.x,g.x,y.x,m.x,this.tension),TM.initCatmullRom(h.y,g.y,y.y,m.y,this.tension),CM.initCatmullRom(h.z,g.z,y.z,m.z,this.tension));return i.set(MM.calc(u),TM.calc(u),CM.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new ie().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function yI(n,e,t,i,s){const r=(i-e)*.5,a=(s-t)*.5,l=n*n,u=n*l;return(2*t-2*i+r+a)*u+(-3*t+3*i-2*r-a)*l+r*n+t}function hK(n,e){const t=1-n;return t*t*e}function dK(n,e){return 2*(1-n)*n*e}function pK(n,e){return n*n*e}function N0(n,e,t,i){return hK(n,e)+dK(n,t)+pK(n,i)}function mK(n,e){const t=1-n;return t*t*t*e}function gK(n,e){const t=1-n;return 3*t*t*n*e}function yK(n,e){return 3*(1-n)*n*n*e}function vK(n,e){return n*n*n*e}function O0(n,e,t,i,s){return mK(n,e)+gK(n,t)+yK(n,i)+vK(n,s)}class _R extends gl{constructor(e=new Qe,t=new Qe,i=new Qe,s=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new Qe){const i=t,s=this.v0,r=this.v1,a=this.v2,l=this.v3;return i.set(O0(e,s.x,r.x,a.x,l.x),O0(e,s.y,r.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _F extends gl{constructor(e=new ie,t=new ie,i=new ie,s=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new ie){const i=t,s=this.v0,r=this.v1,a=this.v2,l=this.v3;return i.set(O0(e,s.x,r.x,a.x,l.x),O0(e,s.y,r.y,a.y,l.y),O0(e,s.z,r.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bR extends gl{constructor(e=new Qe,t=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Qe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Qe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bF extends gl{constructor(e=new ie,t=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ie){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xR extends gl{constructor(e=new Qe,t=new Qe,i=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Qe){const i=t,s=this.v0,r=this.v1,a=this.v2;return i.set(N0(e,s.x,r.x,a.x),N0(e,s.y,r.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SR extends gl{constructor(e=new ie,t=new ie,i=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ie){const i=t,s=this.v0,r=this.v1,a=this.v2;return i.set(N0(e,s.x,r.x,a.x),N0(e,s.y,r.y,a.y),N0(e,s.z,r.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AR extends gl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Qe){const i=t,s=this.points,r=(s.length-1)*e,a=Math.floor(r),l=r-a,u=s[a===0?a:a-1],h=s[a],m=s[a>s.length-2?s.length-1:a+1],g=s[a>s.length-3?s.length-1:a+2];return i.set(yI(l,u.x,h.x,m.x,g.x),yI(l,u.y,h.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new Qe().fromArray(s))}return this}}var $S=Object.freeze({__proto__:null,ArcCurve:yF,CatmullRomCurve3:vF,CubicBezierCurve:_R,CubicBezierCurve3:_F,EllipseCurve:dE,LineCurve:bR,LineCurve3:bF,QuadraticBezierCurve:xR,QuadraticBezierCurve3:SR,SplineCurve:AR});class xF extends gl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $S[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const a=s[r]-i,l=this.curves[r],u=l.getLength(),h=u===0?0:1-a/u;return l.getPointAt(h,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,u=a.getPoints(l);for(let h=0;h<u.length;h++){const m=u[h];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new $S[s.type]().fromJSON(s))}return this}}let eA=class extends xF{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new bR(this.currentPoint.clone(),new Qe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const r=new xR(this.currentPoint.clone(),new Qe(e,t),new Qe(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,r,a){const l=new _R(this.currentPoint.clone(),new Qe(e,t),new Qe(i,s),new Qe(r,a));return this.curves.push(l),this.currentPoint.set(r,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new AR(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,r,a){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,i,s,r,a),this}absarc(e,t,i,s,r,a){return this.absellipse(e,t,i,i,s,r,a),this}ellipse(e,t,i,s,r,a,l,u){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,i,s,r,a,l,u),this}absellipse(e,t,i,s,r,a,l,u){const h=new dE(e,t,i,s,r,a,l,u);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Cd extends eA{constructor(e){super(e),this.uuid=Xa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new eA().fromJSON(s))}return this}}function _K(n,e,t=2){const i=e&&e.length,s=i?e[0]*t:n.length;let r=SF(n,0,s,t,!0);const a=[];if(!r||r.next===r.prev)return a;let l,u,h;if(i&&(r=EK(n,e,r,t)),n.length>80*t){l=1/0,u=1/0;let m=-1/0,g=-1/0;for(let y=t;y<s;y+=t){const b=n[y],x=n[y+1];b<l&&(l=b),x<u&&(u=x),b>m&&(m=b),x>g&&(g=x)}h=Math.max(m-l,g-u),h=h!==0?32767/h:0}return lv(r,a,t,l,u,h,0),a}function SF(n,e,t,i,s){let r;if(s===LK(n,e,t,i)>0)for(let a=e;a<t;a+=i)r=vI(a/i|0,n[a],n[a+1],r);else for(let a=t-i;a>=e;a-=i)r=vI(a/i|0,n[a],n[a+1],r);return r&&tg(r,r.next)&&(uv(r),r=r.next),r}function Id(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(tg(t,t.next)||Ni(t.prev,t,t.next)===0)){if(uv(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function lv(n,e,t,i,s,r,a){if(!n)return;!a&&r&&RK(n,i,s,r);let l=n;for(;n.prev!==n.next;){const u=n.prev,h=n.next;if(r?xK(n,i,s,r):bK(n)){e.push(u.i,n.i,h.i),uv(n),n=h.next,l=h.next;continue}if(n=h,n===l){a?a===1?(n=SK(Id(n),e),lv(n,e,t,i,s,r,2)):a===2&&AK(n,e,t,i,s,r):lv(Id(n),e,t,i,s,r,1);break}}}function bK(n){const e=n.prev,t=n,i=n.next;if(Ni(e,t,i)>=0)return!1;const s=e.x,r=t.x,a=i.x,l=e.y,u=t.y,h=i.y,m=Math.min(s,r,a),g=Math.min(l,u,h),y=Math.max(s,r,a),b=Math.max(l,u,h);let x=i.next;for(;x!==e;){if(x.x>=m&&x.x<=y&&x.y>=g&&x.y<=b&&g0(s,l,r,u,a,h,x.x,x.y)&&Ni(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function xK(n,e,t,i){const s=n.prev,r=n,a=n.next;if(Ni(s,r,a)>=0)return!1;const l=s.x,u=r.x,h=a.x,m=s.y,g=r.y,y=a.y,b=Math.min(l,u,h),x=Math.min(m,g,y),T=Math.max(l,u,h),A=Math.max(m,g,y),S=uC(b,x,e,t,i),B=uC(T,A,e,t,i);let w=n.prevZ,R=n.nextZ;for(;w&&w.z>=S&&R&&R.z<=B;){if(w.x>=b&&w.x<=T&&w.y>=x&&w.y<=A&&w!==s&&w!==a&&g0(l,m,u,g,h,y,w.x,w.y)&&Ni(w.prev,w,w.next)>=0||(w=w.prevZ,R.x>=b&&R.x<=T&&R.y>=x&&R.y<=A&&R!==s&&R!==a&&g0(l,m,u,g,h,y,R.x,R.y)&&Ni(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;w&&w.z>=S;){if(w.x>=b&&w.x<=T&&w.y>=x&&w.y<=A&&w!==s&&w!==a&&g0(l,m,u,g,h,y,w.x,w.y)&&Ni(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;R&&R.z<=B;){if(R.x>=b&&R.x<=T&&R.y>=x&&R.y<=A&&R!==s&&R!==a&&g0(l,m,u,g,h,y,R.x,R.y)&&Ni(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function SK(n,e){let t=n;do{const i=t.prev,s=t.next.next;!tg(i,s)&&EF(i,t,t.next,s)&&cv(i,s)&&cv(s,i)&&(e.push(i.i,t.i,s.i),uv(t),uv(t.next),t=n=s),t=t.next}while(t!==n);return Id(t)}function AK(n,e,t,i,s,r){let a=n;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&IK(a,l)){let u=MF(a,l);a=Id(a,a.next),u=Id(u,u.next),lv(a,e,t,i,s,r,0),lv(u,e,t,i,s,r,0);return}l=l.next}a=a.next}while(a!==n)}function EK(n,e,t,i){const s=[];for(let r=0,a=e.length;r<a;r++){const l=e[r]*i,u=r<a-1?e[r+1]*i:n.length,h=SF(n,l,u,i,!1);h===h.next&&(h.steiner=!0),s.push(DK(h))}s.sort(MK);for(let r=0;r<s.length;r++)t=TK(s[r],t);return t}function MK(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=i-s}return t}function TK(n,e){const t=CK(n,e);if(!t)return e;const i=MF(t,n);return Id(i,i.next),Id(t,t.next)}function CK(n,e){let t=e;const i=n.x,s=n.y;let r=-1/0,a;if(tg(n,t))return t;do{if(tg(n,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const g=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>r&&(r=g,a=t.x<t.next.x?t:t.next,g===i))return a}t=t.next}while(t!==e);if(!a)return null;const l=a,u=a.x,h=a.y;let m=1/0;t=a;do{if(i>=t.x&&t.x>=u&&i!==t.x&&AF(s<h?i:r,s,u,h,s<h?r:i,s,t.x,t.y)){const g=Math.abs(s-t.y)/(i-t.x);cv(t,n)&&(g<m||g===m&&(t.x>a.x||t.x===a.x&&wK(a,t)))&&(a=t,m=g)}t=t.next}while(t!==l);return a}function wK(n,e){return Ni(n.prev,n,e.prev)<0&&Ni(e.next,n,n.next)<0}function RK(n,e,t,i){let s=n;do s.z===0&&(s.z=uC(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,BK(s)}function BK(n){let e,t=1;do{let i=n,s;n=null;let r=null;for(e=0;i;){e++;let a=i,l=0;for(let h=0;h<t&&(l++,a=a.nextZ,!!a);h++);let u=t;for(;l>0||u>0&&a;)l!==0&&(u===0||!a||i.z<=a.z)?(s=i,i=i.nextZ,l--):(s=a,a=a.nextZ,u--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;i=a}r.nextZ=null,t*=2}while(e>1);return n}function uC(n,e,t,i,s){return n=(n-t)*s|0,e=(e-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function DK(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function AF(n,e,t,i,s,r,a,l){return(s-a)*(e-l)>=(n-a)*(r-l)&&(n-a)*(i-l)>=(t-a)*(e-l)&&(t-a)*(r-l)>=(s-a)*(i-l)}function g0(n,e,t,i,s,r,a,l){return!(n===a&&e===l)&&AF(n,e,t,i,s,r,a,l)}function IK(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!NK(n,e)&&(cv(n,e)&&cv(e,n)&&OK(n,e)&&(Ni(n.prev,n,e.prev)||Ni(n,e.prev,e))||tg(n,e)&&Ni(n.prev,n,n.next)>0&&Ni(e.prev,e,e.next)>0)}function Ni(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function tg(n,e){return n.x===e.x&&n.y===e.y}function EF(n,e,t,i){const s=Ax(Ni(n,e,t)),r=Ax(Ni(n,e,i)),a=Ax(Ni(t,i,n)),l=Ax(Ni(t,i,e));return!!(s!==r&&a!==l||s===0&&Sx(n,t,e)||r===0&&Sx(n,i,e)||a===0&&Sx(t,n,i)||l===0&&Sx(t,e,i))}function Sx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ax(n){return n>0?1:n<0?-1:0}function NK(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&EF(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function cv(n,e){return Ni(n.prev,n,n.next)<0?Ni(n,e,n.next)>=0&&Ni(n,n.prev,e)>=0:Ni(n,e,n.prev)<0||Ni(n,n.next,e)<0}function OK(n,e){let t=n,i=!1;const s=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&s<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function MF(n,e){const t=fC(n.i,n.x,n.y),i=fC(e.i,e.x,e.y),s=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=s,s.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function vI(n,e,t,i){const s=fC(n,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function uv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function fC(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function LK(n,e,t,i){let s=0;for(let r=e,a=t-i;r<t;r+=i)s+=(n[a]-n[r])*(n[r+1]+n[a+1]),a=r;return s}class PK{static triangulate(e,t,i=2){return _K(e,t,i)}}class ll{static area(e){const t=e.length;let i=0;for(let s=t-1,r=0;r<t;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return ll.area(e)<0}static triangulateShape(e,t){const i=[],s=[],r=[];_I(e),bI(i,e);let a=e.length;t.forEach(_I);for(let u=0;u<t.length;u++)s.push(a),a+=t[u].length,bI(i,t[u]);const l=PK.triangulate(i,s);for(let u=0;u<l.length;u+=3)r.push(l.slice(u,u+3));return r}}function _I(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function bI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class pE extends Zt{constructor(e=new Cd([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let l=0,u=e.length;l<u;l++){const h=e[l];a(h)}this.setAttribute("position",new Mt(s,3)),this.setAttribute("uv",new Mt(r,2)),this.computeVertexNormals();function a(l){const u=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:b-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,B=t.UVGenerator!==void 0?t.UVGenerator:UK;let w,R=!1,L,N,U,P;S&&(w=S.getSpacedPoints(m),R=!0,y=!1,L=S.computeFrenetFrames(m,!1),N=new ie,U=new ie,P=new ie),y||(A=0,b=0,x=0,T=0);const O=l.extractPoints(h);let M=O.shape;const H=O.holes;if(!ll.isClockWise(M)){M=M.reverse();for(let X=0,Oe=H.length;X<Oe;X++){const Ve=H[X];ll.isClockWise(Ve)&&(H[X]=Ve.reverse())}}function $(X){const Ve=10000000000000001e-36;let He=X[0];for(let Le=1;Le<=X.length;Le++){const rt=Le%X.length,ke=X[rt],K=ke.x-He.x,V=ke.y-He.y,ge=K*K+V*V,Re=Math.max(Math.abs(ke.x),Math.abs(ke.y),Math.abs(He.x),Math.abs(He.y)),Ze=Ve*Re*Re;if(ge<=Ze){X.splice(rt,1),Le--;continue}He=ke}}$(M),H.forEach($);const se=H.length,ne=M;for(let X=0;X<se;X++){const Oe=H[X];M=M.concat(Oe)}function z(X,Oe,Ve){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(Oe,Ve)}const Y=M.length;function Z(X,Oe,Ve){let He,Le,rt;const ke=X.x-Oe.x,K=X.y-Oe.y,V=Ve.x-X.x,ge=Ve.y-X.y,Re=ke*ke+K*K,Ze=ke*ge-K*V;if(Math.abs(Ze)>Number.EPSILON){const ze=Math.sqrt(Re),ct=Math.sqrt(V*V+ge*ge),it=Oe.x-K/ze,mt=Oe.y+ke/ze,Tt=Ve.x-ge/ct,We=Ve.y+V/ct,ht=((Tt-it)*ge-(We-mt)*V)/(ke*ge-K*V);He=it+ke*ht-X.x,Le=mt+K*ht-X.y;const xt=He*He+Le*Le;if(xt<=2)return new Qe(He,Le);rt=Math.sqrt(xt/2)}else{let ze=!1;ke>Number.EPSILON?V>Number.EPSILON&&(ze=!0):ke<-Number.EPSILON?V<-Number.EPSILON&&(ze=!0):Math.sign(K)===Math.sign(ge)&&(ze=!0),ze?(He=-K,Le=ke,rt=Math.sqrt(Re)):(He=ke,Le=K,rt=Math.sqrt(Re/2))}return new Qe(He/rt,Le/rt)}const re=[];for(let X=0,Oe=ne.length,Ve=Oe-1,He=X+1;X<Oe;X++,Ve++,He++)Ve===Oe&&(Ve=0),He===Oe&&(He=0),re[X]=Z(ne[X],ne[Ve],ne[He]);const j=[];let ae,Se=re.concat();for(let X=0,Oe=se;X<Oe;X++){const Ve=H[X];ae=[];for(let He=0,Le=Ve.length,rt=Le-1,ke=He+1;He<Le;He++,rt++,ke++)rt===Le&&(rt=0),ke===Le&&(ke=0),ae[He]=Z(Ve[He],Ve[rt],Ve[ke]);j.push(ae),Se=Se.concat(ae)}let Ae;if(A===0)Ae=ll.triangulateShape(ne,H);else{const X=[],Oe=[];for(let Ve=0;Ve<A;Ve++){const He=Ve/A,Le=b*Math.cos(He*Math.PI/2),rt=x*Math.sin(He*Math.PI/2)+T;for(let ke=0,K=ne.length;ke<K;ke++){const V=z(ne[ke],re[ke],rt);W(V.x,V.y,-Le),He===0&&X.push(V)}for(let ke=0,K=se;ke<K;ke++){const V=H[ke];ae=j[ke];const ge=[];for(let Re=0,Ze=V.length;Re<Ze;Re++){const ze=z(V[Re],ae[Re],rt);W(ze.x,ze.y,-Le),He===0&&ge.push(ze)}He===0&&Oe.push(ge)}}Ae=ll.triangulateShape(X,Oe)}const ce=Ae.length,Te=x+T;for(let X=0;X<Y;X++){const Oe=y?z(M[X],Se[X],Te):M[X];R?(U.copy(L.normals[0]).multiplyScalar(Oe.x),N.copy(L.binormals[0]).multiplyScalar(Oe.y),P.copy(w[0]).add(U).add(N),W(P.x,P.y,P.z)):W(Oe.x,Oe.y,0)}for(let X=1;X<=m;X++)for(let Oe=0;Oe<Y;Oe++){const Ve=y?z(M[Oe],Se[Oe],Te):M[Oe];R?(U.copy(L.normals[X]).multiplyScalar(Ve.x),N.copy(L.binormals[X]).multiplyScalar(Ve.y),P.copy(w[X]).add(U).add(N),W(P.x,P.y,P.z)):W(Ve.x,Ve.y,g/m*X)}for(let X=A-1;X>=0;X--){const Oe=X/A,Ve=b*Math.cos(Oe*Math.PI/2),He=x*Math.sin(Oe*Math.PI/2)+T;for(let Le=0,rt=ne.length;Le<rt;Le++){const ke=z(ne[Le],re[Le],He);W(ke.x,ke.y,g+Ve)}for(let Le=0,rt=H.length;Le<rt;Le++){const ke=H[Le];ae=j[Le];for(let K=0,V=ke.length;K<V;K++){const ge=z(ke[K],ae[K],He);R?W(ge.x,ge.y+w[m-1].y,w[m-1].x+Ve):W(ge.x,ge.y,g+Ve)}}}Xe(),et();function Xe(){const X=s.length/3;if(y){let Oe=0,Ve=Y*Oe;for(let He=0;He<ce;He++){const Le=Ae[He];Q(Le[2]+Ve,Le[1]+Ve,Le[0]+Ve)}Oe=m+A*2,Ve=Y*Oe;for(let He=0;He<ce;He++){const Le=Ae[He];Q(Le[0]+Ve,Le[1]+Ve,Le[2]+Ve)}}else{for(let Oe=0;Oe<ce;Oe++){const Ve=Ae[Oe];Q(Ve[2],Ve[1],Ve[0])}for(let Oe=0;Oe<ce;Oe++){const Ve=Ae[Oe];Q(Ve[0]+Y*m,Ve[1]+Y*m,Ve[2]+Y*m)}}i.addGroup(X,s.length/3-X,0)}function et(){const X=s.length/3;let Oe=0;be(ne,Oe),Oe+=ne.length;for(let Ve=0,He=H.length;Ve<He;Ve++){const Le=H[Ve];be(Le,Oe),Oe+=Le.length}i.addGroup(X,s.length/3-X,1)}function be(X,Oe){let Ve=X.length;for(;--Ve>=0;){const He=Ve;let Le=Ve-1;Le<0&&(Le=X.length-1);for(let rt=0,ke=m+A*2;rt<ke;rt++){const K=Y*rt,V=Y*(rt+1),ge=Oe+He+K,Re=Oe+Le+K,Ze=Oe+Le+V,ze=Oe+He+V;oe(ge,Re,Ze,ze)}}}function W(X,Oe,Ve){u.push(X),u.push(Oe),u.push(Ve)}function Q(X,Oe,Ve){Ee(X),Ee(Oe),Ee(Ve);const He=s.length/3,Le=B.generateTopUV(i,s,He-3,He-2,He-1);Me(Le[0]),Me(Le[1]),Me(Le[2])}function oe(X,Oe,Ve,He){Ee(X),Ee(Oe),Ee(He),Ee(Oe),Ee(Ve),Ee(He);const Le=s.length/3,rt=B.generateSideWallUV(i,s,Le-6,Le-3,Le-2,Le-1);Me(rt[0]),Me(rt[1]),Me(rt[3]),Me(rt[1]),Me(rt[2]),Me(rt[3])}function Ee(X){s.push(u[X*3+0]),s.push(u[X*3+1]),s.push(u[X*3+2])}function Me(X){r.push(X.x),r.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return FK(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const l=t[e.shapes[r]];i.push(l)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new $S[s.type]().fromJSON(s)),new pE(i,e.options)}}const UK={generateTopUV:function(n,e,t,i,s){const r=e[t*3],a=e[t*3+1],l=e[i*3],u=e[i*3+1],h=e[s*3],m=e[s*3+1];return[new Qe(r,a),new Qe(l,u),new Qe(h,m)]},generateSideWallUV:function(n,e,t,i,s,r){const a=e[t*3],l=e[t*3+1],u=e[t*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],b=e[s*3+1],x=e[s*3+2],T=e[r*3],A=e[r*3+1],S=e[r*3+2];return Math.abs(l-m)<Math.abs(a-h)?[new Qe(a,1-u),new Qe(h,1-g),new Qe(y,1-x),new Qe(T,1-S)]:[new Qe(l,1-u),new Qe(m,1-g),new Qe(b,1-x),new Qe(A,1-S)]}};function FK(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class mE extends Xf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mE(e.radius,e.detail)}}class gE extends Zt{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=Qt(s,0,Math.PI*2);const r=[],a=[],l=[],u=[],h=[],m=1/t,g=new ie,y=new Qe,b=new ie,x=new ie,T=new ie;let A=0,S=0;for(let B=0;B<=e.length-1;B++)switch(B){case 0:A=e[B+1].x-e[B].x,S=e[B+1].y-e[B].y,b.x=S*1,b.y=-A,b.z=S*0,T.copy(b),b.normalize(),u.push(b.x,b.y,b.z);break;case e.length-1:u.push(T.x,T.y,T.z);break;default:A=e[B+1].x-e[B].x,S=e[B+1].y-e[B].y,b.x=S*1,b.y=-A,b.z=S*0,x.copy(b),b.x+=T.x,b.y+=T.y,b.z+=T.z,b.normalize(),u.push(b.x,b.y,b.z),T.copy(x)}for(let B=0;B<=t;B++){const w=i+B*m*s,R=Math.sin(w),L=Math.cos(w);for(let N=0;N<=e.length-1;N++){g.x=e[N].x*R,g.y=e[N].y,g.z=e[N].x*L,a.push(g.x,g.y,g.z),y.x=B/t,y.y=N/(e.length-1),l.push(y.x,y.y);const U=u[3*N+0]*R,P=u[3*N+1],O=u[3*N+0]*L;h.push(U,P,O)}}for(let B=0;B<t;B++)for(let w=0;w<e.length-1;w++){const R=w+B*e.length,L=R,N=R+e.length,U=R+e.length+1,P=R+1;r.push(L,N,P),r.push(U,P,N)}this.setIndex(r),this.setAttribute("position",new Mt(a,3)),this.setAttribute("uv",new Mt(l,2)),this.setAttribute("normal",new Mt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gE(e.points,e.segments,e.phiStart,e.phiLength)}}class Wv extends Xf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wv(e.radius,e.detail)}}class vg extends Zt{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const r=e/2,a=t/2,l=Math.floor(i),u=Math.floor(s),h=l+1,m=u+1,g=e/l,y=t/u,b=[],x=[],T=[],A=[];for(let S=0;S<m;S++){const B=S*y-a;for(let w=0;w<h;w++){const R=w*g-r;x.push(R,-B,0),T.push(0,0,1),A.push(w/l),A.push(1-S/u)}}for(let S=0;S<u;S++)for(let B=0;B<l;B++){const w=B+h*S,R=B+h*(S+1),L=B+1+h*(S+1),N=B+1+h*S;b.push(w,R,N),b.push(R,L,N)}this.setIndex(b),this.setAttribute("position",new Mt(x,3)),this.setAttribute("normal",new Mt(T,3)),this.setAttribute("uv",new Mt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.width,e.height,e.widthSegments,e.heightSegments)}}class yE extends Zt{constructor(e=.5,t=1,i=32,s=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:a},i=Math.max(3,i),s=Math.max(1,s);const l=[],u=[],h=[],m=[];let g=e;const y=(t-e)/s,b=new ie,x=new Qe;for(let T=0;T<=s;T++){for(let A=0;A<=i;A++){const S=r+A/i*a;b.x=g*Math.cos(S),b.y=g*Math.sin(S),u.push(b.x,b.y,b.z),h.push(0,0,1),x.x=(b.x/t+1)/2,x.y=(b.y/t+1)/2,m.push(x.x,x.y)}g+=y}for(let T=0;T<s;T++){const A=T*(i+1);for(let S=0;S<i;S++){const B=S+A,w=B,R=B+i+1,L=B+i+2,N=B+1;l.push(w,R,N),l.push(R,L,N)}}this.setIndex(l),this.setAttribute("position",new Mt(u,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vE extends Zt{constructor(e=new Cd([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],r=[],a=[];let l=0,u=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(l,u,m),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new Mt(s,3)),this.setAttribute("normal",new Mt(r,3)),this.setAttribute("uv",new Mt(a,2));function h(m){const g=s.length/3,y=m.extractPoints(t);let b=y.shape;const x=y.holes;ll.isClockWise(b)===!1&&(b=b.reverse());for(let A=0,S=x.length;A<S;A++){const B=x[A];ll.isClockWise(B)===!0&&(x[A]=B.reverse())}const T=ll.triangulateShape(b,x);for(let A=0,S=x.length;A<S;A++){const B=x[A];b=b.concat(B)}for(let A=0,S=b.length;A<S;A++){const B=b[A];s.push(B.x,B.y,0),r.push(0,0,1),a.push(B.x,B.y)}for(let A=0,S=T.length;A<S;A++){const B=T[A],w=B[0]+g,R=B[1]+g,L=B[2]+g;i.push(w,R,L),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return HK(t,e)}static fromJSON(e,t){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const a=t[e.shapes[s]];i.push(a)}return new vE(i,e.curveSegments)}}function HK(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const s=n[t];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return e}class Yv extends Zt{constructor(e=1,t=32,i=16,s=0,r=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:r,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(a+l,Math.PI);let h=0;const m=[],g=new ie,y=new ie,b=[],x=[],T=[],A=[];for(let S=0;S<=i;S++){const B=[],w=S/i;let R=0;S===0&&a===0?R=.5/t:S===i&&u===Math.PI&&(R=-.5/t);for(let L=0;L<=t;L++){const N=L/t;g.x=-e*Math.cos(s+N*r)*Math.sin(a+w*l),g.y=e*Math.cos(a+w*l),g.z=e*Math.sin(s+N*r)*Math.sin(a+w*l),x.push(g.x,g.y,g.z),y.copy(g).normalize(),T.push(y.x,y.y,y.z),A.push(N+R,1-w),B.push(h++)}m.push(B)}for(let S=0;S<i;S++)for(let B=0;B<t;B++){const w=m[S][B+1],R=m[S][B],L=m[S+1][B],N=m[S+1][B+1];(S!==0||a>0)&&b.push(w,R,N),(S!==i-1||u<Math.PI)&&b.push(R,L,N)}this.setIndex(b),this.setAttribute("position",new Mt(x,3)),this.setAttribute("normal",new Mt(T,3)),this.setAttribute("uv",new Mt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _E extends Xf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _E(e.radius,e.detail)}}class bE extends Zt{constructor(e=1,t=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const a=[],l=[],u=[],h=[],m=new ie,g=new ie,y=new ie;for(let b=0;b<=i;b++)for(let x=0;x<=s;x++){const T=x/s*r,A=b/i*Math.PI*2;g.x=(e+t*Math.cos(A))*Math.cos(T),g.y=(e+t*Math.cos(A))*Math.sin(T),g.z=t*Math.sin(A),l.push(g.x,g.y,g.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),y.subVectors(g,m).normalize(),u.push(y.x,y.y,y.z),h.push(x/s),h.push(b/i)}for(let b=1;b<=i;b++)for(let x=1;x<=s;x++){const T=(s+1)*b+x-1,A=(s+1)*(b-1)+x-1,S=(s+1)*(b-1)+x,B=(s+1)*b+x;a.push(T,A,B),a.push(A,S,B)}this.setIndex(a),this.setAttribute("position",new Mt(l,3)),this.setAttribute("normal",new Mt(u,3)),this.setAttribute("uv",new Mt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xE extends Zt{constructor(e=1,t=.4,i=64,s=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:r,q:a},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],h=[],m=[],g=new ie,y=new ie,b=new ie,x=new ie,T=new ie,A=new ie,S=new ie;for(let w=0;w<=i;++w){const R=w/i*r*Math.PI*2;B(R,r,a,e,b),B(R+.01,r,a,e,x),A.subVectors(x,b),S.addVectors(x,b),T.crossVectors(A,S),S.crossVectors(T,A),T.normalize(),S.normalize();for(let L=0;L<=s;++L){const N=L/s*Math.PI*2,U=-t*Math.cos(N),P=t*Math.sin(N);g.x=b.x+(U*S.x+P*T.x),g.y=b.y+(U*S.y+P*T.y),g.z=b.z+(U*S.z+P*T.z),u.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),h.push(y.x,y.y,y.z),m.push(w/i),m.push(L/s)}}for(let w=1;w<=i;w++)for(let R=1;R<=s;R++){const L=(s+1)*(w-1)+(R-1),N=(s+1)*w+(R-1),U=(s+1)*w+R,P=(s+1)*(w-1)+R;l.push(L,N,P),l.push(N,U,P)}this.setIndex(l),this.setAttribute("position",new Mt(u,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(m,2));function B(w,R,L,N,U){const P=Math.cos(w),O=Math.sin(w),M=L/R*w,H=Math.cos(M);U.x=N*(2+H)*.5*P,U.y=N*(2+H)*O*.5,U.z=N*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class SE extends Zt{constructor(e=new SR(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),t=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new ie,u=new ie,h=new Qe;let m=new ie;const g=[],y=[],b=[],x=[];T(),this.setIndex(x),this.setAttribute("position",new Mt(g,3)),this.setAttribute("normal",new Mt(y,3)),this.setAttribute("uv",new Mt(b,2));function T(){for(let w=0;w<t;w++)A(w);A(r===!1?t:0),B(),S()}function A(w){m=e.getPointAt(w/t,m);const R=a.normals[w],L=a.binormals[w];for(let N=0;N<=s;N++){const U=N/s*Math.PI*2,P=Math.sin(U),O=-Math.cos(U);u.x=O*R.x+P*L.x,u.y=O*R.y+P*L.y,u.z=O*R.z+P*L.z,u.normalize(),y.push(u.x,u.y,u.z),l.x=m.x+i*u.x,l.y=m.y+i*u.y,l.z=m.z+i*u.z,g.push(l.x,l.y,l.z)}}function S(){for(let w=1;w<=t;w++)for(let R=1;R<=s;R++){const L=(s+1)*(w-1)+(R-1),N=(s+1)*w+(R-1),U=(s+1)*w+R,P=(s+1)*(w-1)+R;x.push(L,N,P),x.push(N,U,P)}}function B(){for(let w=0;w<=t;w++)for(let R=0;R<=s;R++)h.x=w/t,h.y=R/s,b.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new SE(new $S[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class TF extends Zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new ie,r=new ie;if(e.index!==null){const a=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,m=u.length;h<m;++h){const g=u[h],y=g.start,b=g.count;for(let x=y,T=y+b;x<T;x+=3)for(let A=0;A<3;A++){const S=l.getX(x+A),B=l.getX(x+(A+1)%3);s.fromBufferAttribute(a,S),r.fromBufferAttribute(a,B),xI(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let l=0,u=a.count/3;l<u;l++)for(let h=0;h<3;h++){const m=3*l+h,g=3*l+(h+1)%3;s.fromBufferAttribute(a,m),r.fromBufferAttribute(a,g),xI(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Mt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function xI(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var SI=Object.freeze({__proto__:null,BoxGeometry:Vd,CapsuleGeometry:uE,CircleGeometry:fE,ConeGeometry:jv,CylinderGeometry:Xv,DodecahedronGeometry:hE,EdgesGeometry:gF,ExtrudeGeometry:pE,IcosahedronGeometry:mE,LatheGeometry:gE,OctahedronGeometry:Wv,PlaneGeometry:vg,PolyhedronGeometry:Xf,RingGeometry:yE,ShapeGeometry:vE,SphereGeometry:Yv,TetrahedronGeometry:_E,TorusGeometry:bE,TorusKnotGeometry:xE,TubeGeometry:SE,WireframeGeometry:TF});class CF extends Rs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new yt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class wF extends dl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qv extends Rs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new yt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class To extends qv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class RF extends Rs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new yt(16777215),this.specular=new yt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BF extends Rs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new yt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DF extends Rs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class IF extends Rs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ER extends Rs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MR extends Rs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class NF extends Rs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new yt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OF extends Cr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function yd(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function LF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function PF(n){function e(s,r){return n[s]-n[r]}const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function hC(n,e,t){const i=n.length,s=new n.constructor(i);for(let r=0,a=0;a!==i;++r){const l=t[r]*e;for(let u=0;u!==e;++u)s[a++]=n[l+u]}return s}function TR(n,e,t,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(e.push(r.time),t.push(...a)),r=n[s++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(e.push(r.time),a.toArray(t,t.length)),r=n[s++];while(r!==void 0);else do a=r[i],a!==void 0&&(e.push(r.time),t.push(a)),r=n[s++];while(r!==void 0)}function zK(n,e,t,i,s=30){const r=n.clone();r.name=e;const a=[];for(let u=0;u<r.tracks.length;++u){const h=r.tracks[u],m=h.getValueSize(),g=[],y=[];for(let b=0;b<h.times.length;++b){const x=h.times[b]*s;if(!(x<t||x>=i)){g.push(h.times[b]);for(let T=0;T<m;++T)y.push(h.values[b*m+T])}}g.length!==0&&(h.times=yd(g,h.times.constructor),h.values=yd(y,h.values.constructor),a.push(h))}r.tracks=a;let l=1/0;for(let u=0;u<r.tracks.length;++u)l>r.tracks[u].times[0]&&(l=r.tracks[u].times[0]);for(let u=0;u<r.tracks.length;++u)r.tracks[u].shift(-1*l);return r.resetDuration(),r}function GK(n,e=0,t=n,i=30){i<=0&&(i=30);const s=t.tracks.length,r=e/i;for(let a=0;a<s;++a){const l=t.tracks[a],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const h=n.tracks.find(function(S){return S.name===l.name&&S.ValueTypeName===u});if(h===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const x=l.times.length-1;let T;if(r<=l.times[0]){const S=m,B=g-m;T=l.values.slice(S,B)}else if(r>=l.times[x]){const S=x*g+m,B=S+g-m;T=l.values.slice(S,B)}else{const S=l.createInterpolant(),B=m,w=g-m;S.evaluate(r),T=S.resultBuffer.slice(B,w)}u==="quaternion"&&new Xs().fromArray(T).normalize().conjugate().toArray(T);const A=h.times.length;for(let S=0;S<A;++S){const B=S*b+y;if(u==="quaternion")Xs.multiplyQuaternionsFlat(h.values,B,T,0,h.values,B);else{const w=b-y*2;for(let R=0;R<w;++R)h.values[B+R]-=T[R]}}}return n.blendMode=aR,n}class VK{static convertArray(e,t){return yd(e,t)}static isTypedArray(e){return LF(e)}static getKeyframeOrder(e){return PF(e)}static sortedArray(e,t,i){return hC(e,t,i)}static flattenJSON(e,t,i,s){TR(e,t,i,s)}static subclip(e,t,i,s,r=30){return zK(e,t,i,s,r)}static makeClipAdditive(e,t=0,i=e,s=30){return GK(e,t,i,s)}}class _g{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],r=t[i-1];e:{t:{let a;n:{i:if(!(e<s)){for(let l=i+2;;){if(s===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(r=s,s=t[++i],e<s)break t}a=t.length;break n}if(!(e>=r)){const l=t[1];e<l&&(i=2,r=l);for(let u=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(s=r,r=t[--i-1],e>=r)break t}a=i,i=0;break n}break e}for(;i<a;){const l=i+a>>>1;e<t[l]?a=l:i=l+1}if(s=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let a=0;a!==s;++a)t[a]=i[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class UF extends _g{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:md,endingEnd:md}}intervalChanged_(e,t,i){const s=this.parameterPositions;let r=e-2,a=e+1,l=s[r],u=s[a];if(l===void 0)switch(this.getSettings_().endingStart){case gd:r=e,l=2*t-i;break;case iv:r=s.length-2,l=t+s[r]-s[r+1];break;default:r=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case gd:a=e,u=2*i-t;break;case iv:a=1,u=i+s[1]-s[0];break;default:a=e-1,u=t}const h=(i-t)*.5,m=this.valueSize;this._weightPrev=h/(t-l),this._weightNext=h/(u-i),this._offsetPrev=r*m,this._offsetNext=a*m}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,x=(i-t)/(s-t),T=x*x,A=T*x,S=-y*A+2*y*T-y*x,B=(1+y)*A+(-1.5-2*y)*T+(-.5+y)*x+1,w=(-1-b)*A+(1.5+b)*T+.5*x,R=b*A-b*T;for(let L=0;L!==l;++L)r[L]=S*a[m+L]+B*a[h+L]+w*a[u+L]+R*a[g+L];return r}}class CR extends _g{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,m=(i-t)/(s-t),g=1-m;for(let y=0;y!==l;++y)r[y]=a[h+y]*g+a[u+y]*m;return r}}class FF extends _g{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Co{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yd(t,this.TimeBufferType),this.values=yd(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:yd(e.times,Array),values:yd(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new FF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new UF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Jm:t=this.InterpolantFactoryMethodDiscrete;break;case Qm:t=this.InterpolantFactoryMethodLinear;break;case Kx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jm;case this.InterpolantFactoryMethodLinear:return Qm;case this.InterpolantFactoryMethodSmooth:return Kx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let r=0,a=s-1;for(;r!==s&&i[r]<e;)++r;for(;a!==-1&&i[a]>t;)--a;if(++a,r!==0||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const l=this.getValueSize();this.times=i.slice(r,a),this.values=this.values.slice(r*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==r;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(a!==null&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,a),e=!1;break}a=u}if(s!==void 0&&LF(s))for(let l=0,u=s.length;l!==u;++l){const h=s[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Kx,r=e.length-1;let a=1;for(let l=1;l<r;++l){let u=!1;const h=e[l],m=e[l+1];if(h!==m&&(l!==1||h!==e[0]))if(s)u=!0;else{const g=l*i,y=g-i,b=g+i;for(let x=0;x!==i;++x){const T=t[g+x];if(T!==t[y+x]||T!==t[b+x]){u=!0;break}}}if(u){if(l!==a){e[a]=e[l];const g=l*i,y=a*i;for(let b=0;b!==i;++b)t[y+b]=t[g+b]}++a}}if(r>0){e[a]=e[r];for(let l=r*i,u=a*i,h=0;h!==i;++h)t[u+h]=t[l+h];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Co.prototype.ValueTypeName="";Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=Qm;class kd extends Co{constructor(e,t,i){super(e,t,i)}}kd.prototype.ValueTypeName="bool";kd.prototype.ValueBufferType=Array;kd.prototype.DefaultInterpolation=Jm;kd.prototype.InterpolantFactoryMethodLinear=void 0;kd.prototype.InterpolantFactoryMethodSmooth=void 0;class wR extends Co{constructor(e,t,i,s){super(e,t,i,s)}}wR.prototype.ValueTypeName="color";class Nd extends Co{constructor(e,t,i,s){super(e,t,i,s)}}Nd.prototype.ValueTypeName="number";class HF extends _g{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=(i-t)/(s-t);let h=e*l;for(let m=h+l;h!==m;h+=4)Xs.slerpFlat(r,0,a,h-l,a,h,u);return r}}class Od extends Co{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new HF(this.times,this.values,this.getValueSize(),e)}}Od.prototype.ValueTypeName="quaternion";Od.prototype.InterpolantFactoryMethodSmooth=void 0;class Xd extends Co{constructor(e,t,i){super(e,t,i)}}Xd.prototype.ValueTypeName="string";Xd.prototype.ValueBufferType=Array;Xd.prototype.DefaultInterpolation=Jm;Xd.prototype.InterpolantFactoryMethodLinear=void 0;Xd.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends Co{constructor(e,t,i,s){super(e,t,i,s)}}Ld.prototype.ValueTypeName="vector";class ng{constructor(e="",t=-1,i=[],s=$A){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=Xa(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)t.push(XK(i[a]).scale(s));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=i.length;r!==a;++r)t.push(Co.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const r=t.length,a=[];for(let l=0;l<r;l++){let u=[],h=[];u.push((l+r-1)%r,l,(l+1)%r),h.push(0,1,0);const m=PF(u);u=hC(u,1,m),h=hC(h,1,m),!s&&u[0]===0&&(u.push(r),h.push(h[0])),a.push(new Nd(".morphTargetInfluences["+t[l].name+"]",u,h).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const h=e[l],m=h.name.match(r);if(m&&m.length>1){const g=m[1];let y=s[g];y||(s[g]=y=[]),y.push(h)}}const a=[];for(const l in s)a.push(this.CreateFromMorphTargetSequence(l,s[l],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,x,T){if(b.length!==0){const A=[],S=[];TR(b,A,S,x),A.length!==0&&T.push(new g(y,A,S))}},s=[],r=e.name||"default",a=e.fps||30,l=e.blendMode;let u=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const y=h[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let x;for(x=0;x<y.length;x++)if(y[x].morphTargets)for(let T=0;T<y[x].morphTargets.length;T++)b[y[x].morphTargets[T]]=-1;for(const T in b){const A=[],S=[];for(let B=0;B!==y[x].morphTargets.length;++B){const w=y[x];A.push(w.time),S.push(w.morphTarget===T?1:0)}s.push(new Nd(".morphTargetInfluence["+T+"]",A,S))}u=b.length*a}else{const b=".bones["+t[g].name+"]";i(Ld,b+".position",y,"pos",s),i(Od,b+".quaternion",y,"rot",s),i(Ld,b+".scale",y,"scl",s)}}return s.length===0?null:new this(r,u,s,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function kK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Nd;case"vector":case"vector2":case"vector3":case"vector4":return Ld;case"color":return wR;case"quaternion":return Od;case"bool":case"boolean":return kd;case"string":return Xd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function XK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=kK(n.type);if(n.times===void 0){const t=[],i=[];TR(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const $c={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class RR{constructor(e,t,i){const s=this;let r=!1,a=0,l=0,u;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){l++,r===!1&&s.onStart!==void 0&&s.onStart(m,a,l),r=!0},this.itemEnd=function(m){a++,s.onProgress!==void 0&&s.onProgress(m,a,l),a===l&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=h.length;g<y;g+=2){const b=h[g],x=h[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return x}return null}}}const zF=new RR;class wr{constructor(e){this.manager=e!==void 0?e:zF,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,r){i.load(e,s,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}wr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Wc={};class jK extends Error{constructor(e,t){super(e),this.response=t}}class Wa extends wr{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=$c.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Wc[e]!==void 0){Wc[e].push({onLoad:t,onProgress:i,onError:s});return}Wc[e]=[],Wc[e].push({onLoad:t,onProgress:i,onError:s});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(a).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=Wc[e],g=h.body.getReader(),y=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),b=y?parseInt(y):0,x=b!==0;let T=0;const A=new ReadableStream({start(S){B();function B(){g.read().then(({done:w,value:R})=>{if(w)S.close();else{T+=R.byteLength;const L=new ProgressEvent("progress",{lengthComputable:x,loaded:T,total:b});for(let N=0,U=m.length;N<U;N++){const P=m[N];P.onProgress&&P.onProgress(L)}S.enqueue(R),B()}},w=>{S.error(w)})}}});return new Response(A)}else throw new jK(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(u){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return h.arrayBuffer().then(x=>b.decode(x))}}}).then(h=>{$c.add(e,h);const m=Wc[e];delete Wc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(h)}}).catch(h=>{const m=Wc[e];if(m===void 0)throw this.manager.itemError(e),h;delete Wc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class WK extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new Wa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=ng.parse(e[i]);t.push(s)}return t}}class YK extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=[],l=new lE,u=new Wa(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(r.withCredentials);let h=0;function m(g){u.load(e[g],function(y){const b=r.parse(y,!0);a[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},h+=1,h===6&&(b.mipmapCount===1&&(l.minFilter=ss),l.image=a,l.format=b.format,l.needsUpdate=!0,t&&t(l))},i,s)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else u.load(e,function(g){const y=r.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let x=0;x<b;x++){a[x]={mipmaps:[]};for(let T=0;T<y.mipmapCount;T++)a[x].mipmaps.push(y.mipmaps[x*y.mipmapCount+T]),a[x].format=y.format,a[x].width=y.width,a[x].height=y.height}l.image=a}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=ss),l.format=y.format,l.needsUpdate=!0,t&&t(l)},i,s);return l}}class fv extends wr{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=$c.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;const l=ov("img");function u(){m(),$c.add(e,this),t&&t(this),r.manager.itemEnd(e)}function h(g){m(),s&&s(g),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){l.removeEventListener("load",u,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),r.manager.itemStart(e),l.src=e,l}}class qK extends wr{constructor(e){super(e)}load(e,t,i,s){const r=new Gv;r.colorSpace=xr;const a=new fv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function u(h){a.load(e[h],function(m){r.images[h]=m,l++,l===6&&(r.needsUpdate=!0,t&&t(r))},void 0,s)}for(let h=0;h<e.length;++h)u(h);return r}}class KK extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new uc,l=new Wa(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(r.withCredentials),l.load(e,function(u){let h;try{h=r.parse(u)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}h.image!==void 0?a.image=h.image:h.data!==void 0&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=h.wrapS!==void 0?h.wrapS:za,a.wrapT=h.wrapT!==void 0?h.wrapT:za,a.magFilter=h.magFilter!==void 0?h.magFilter:ss,a.minFilter=h.minFilter!==void 0?h.minFilter:ss,a.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(a.colorSpace=h.colorSpace),h.flipY!==void 0&&(a.flipY=h.flipY),h.format!==void 0&&(a.format=h.format),h.type!==void 0&&(a.type=h.type),h.mipmaps!==void 0&&(a.mipmaps=h.mipmaps,a.minFilter=xo),h.mipmapCount===1&&(a.minFilter=ss),h.generateMipmaps!==void 0&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,t&&t(a,h)},i,s),a}}class GF extends wr{constructor(e){super(e)}load(e,t,i,s){const r=new Mi,a=new fv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){r.image=l,r.needsUpdate=!0,t!==void 0&&t(r)},i,s),r}}class jf extends wn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new yt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class VF extends jf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const wM=new Lt,AI=new ie,EI=new ie;class BR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.mapType=Eo,this.map=null,this.mapPass=null,this.matrix=new Lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new yg,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new In(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;AI.setFromMatrixPosition(e.matrixWorld),t.position.copy(AI),EI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(EI),t.updateMatrixWorld(),wM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(wM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class JK extends BR{constructor(){super(new qi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Zm*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(i!==t.fov||s!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=s,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class DR extends jf{constructor(e,t,i=0,s=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new JK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const MI=new Lt,r0=new ie,RM=new ie;class QK extends BR{constructor(){super(new qi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new In(2,1,1,1),new In(0,1,1,1),new In(3,1,1,1),new In(1,1,1,1),new In(3,0,1,1),new In(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),r0.setFromMatrixPosition(e.matrixWorld),i.position.copy(r0),RM.copy(i.position),RM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(RM),i.updateMatrixWorld(),s.makeTranslation(-r0.x,-r0.y,-r0.z),MI.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(MI)}}class IR extends jf{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new QK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class iu extends nE{constructor(e=-1,t=1,i=1,s=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,a=i+e,l=s+t,u=s-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,a=r+h*this.view.width,l-=m*this.view.offsetY,u=l-m*this.view.height}this.projectionMatrix.makeOrthographic(r,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class ZK extends BR{constructor(){super(new iu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NR extends jf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new ZK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kF extends jf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class XF extends jf{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*s),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*s)),t.addScaledVector(a[5],1.092548*(s*r)),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],1.092548*(i*r)),t.addScaledVector(a[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*s),t.addScaledVector(a[2],2*.511664*r),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*s),t.addScaledVector(a[5],2*.429043*s*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],2*.429043*i*r),t.addScaledVector(a[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,r=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-s*s)}}class WF extends jf{constructor(e=new jF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class AE extends wr{constructor(e){super(e),this.textures={}}load(e,t,i,s){const r=this,a=new Wa(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new yt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(s.uniforms[r]={},a.type){case"t":s.uniforms[r].value=i(a.value);break;case"c":s.uniforms[r].value=new yt().setHex(a.value);break;case"v2":s.uniforms[r].value=new Qe().fromArray(a.value);break;case"v3":s.uniforms[r].value=new ie().fromArray(a.value);break;case"v4":s.uniforms[r].value=new In().fromArray(a.value);break;case"m3":s.uniforms[r].value=new tn().fromArray(a.value);break;case"m4":s.uniforms[r].value=new Lt().fromArray(a.value);break;default:s.uniforms[r].value=a.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Qe().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return AE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:CF,SpriteMaterial:dR,RawShaderMaterial:wF,ShaderMaterial:dl,PointsMaterial:oE,MeshPhysicalMaterial:To,MeshStandardMaterial:qv,MeshPhongMaterial:RF,MeshToonMaterial:BF,MeshNormalMaterial:DF,MeshLambertMaterial:IF,MeshDepthMaterial:ER,MeshDistanceMaterial:MR,MeshBasicMaterial:Ga,MeshMatcapMaterial:NF,LineDashedMaterial:OF,LineBasicMaterial:Cr,Material:Rs};return new t[e]}}class Cf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class YF extends Zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qF extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new Wa(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(b,x){if(t[x]!==void 0)return t[x];const A=b.interleavedBuffers[x],S=r(b,A.buffer),B=wm(A.type,S),w=new Vv(B,A.stride);return w.uuid=A.uuid,t[x]=w,w}function r(b,x){if(i[x]!==void 0)return i[x];const A=b.arrayBuffers[x],S=new Uint32Array(A).buffer;return i[x]=S,S}const a=e.isInstancedBufferGeometry?new YF:new Zt,l=e.data.index;if(l!==void 0){const b=wm(l.type,l.array);a.setIndex(new Nn(b,1))}const u=e.data.attributes;for(const b in u){const x=u[b];let T;if(x.isInterleavedBufferAttribute){const A=s(e.data,x.data);T=new Ff(A,x.itemSize,x.offset,x.normalized)}else{const A=wm(x.type,x.array),S=x.isInstancedBufferAttribute?Dd:Nn;T=new S(A,x.itemSize,x.normalized)}x.name!==void 0&&(T.name=x.name),x.usage!==void 0&&T.setUsage(x.usage),a.setAttribute(b,T)}const h=e.data.morphAttributes;if(h)for(const b in h){const x=h[b],T=[];for(let A=0,S=x.length;A<S;A++){const B=x[A];let w;if(B.isInterleavedBufferAttribute){const R=s(e.data,B.data);w=new Ff(R,B.itemSize,B.offset,B.normalized)}else{const R=wm(B.type,B.array);w=new Nn(R,B.itemSize,B.normalized)}B.name!==void 0&&(w.name=B.name),T.push(w)}a.morphAttributes[b]=T}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,x=g.length;b!==x;++b){const T=g[b];a.addGroup(T.start,T.count,T.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const b=new ie;y.center!==void 0&&b.fromArray(y.center),a.boundingSphere=new js(b,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class $K extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=this.path===""?Cf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new Wa(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let h=null;try{h=JSON.parse(u)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(h,t)},i,s)}async loadAsync(e,t){const i=this,s=this.path===""?Cf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new Wa(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(e,t),l=JSON.parse(a),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),a=this.parseImages(e.images,function(){t!==void 0&&t(h)}),l=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,r,u,l,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,t),h=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,h),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new Cd().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=new kv().fromJSON(e[r],s);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new qF;for(let r=0,a=e.length;r<a;r++){let l;const u=e[r];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(u);break;default:u.type in SI?l=SI[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const r=new AE;r.setTextures(t);for(let a=0,l=e.length;a<l;a++){const u=e[a];i[u.uuid]===void 0&&(i[u.uuid]=r.parse(u)),s[u.uuid]=i[u.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=ng.parse(s);t[r.uuid]=r}return t}parseImages(e,t){const i=this,s={};let r;function a(u){return i.manager.itemStart(u),r.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const h=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return a(m)}else return u.data?{data:wm(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new RR(t);r=new fv(u),r.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],y=g.url;if(Array.isArray(y)){const b=[];for(let x=0,T=y.length;x<T;x++){const A=y[x],S=l(A);S!==null&&(S instanceof HTMLImageElement?b.push(S):b.push(new uc(S.data,S.width,S.height)))}s[g.uuid]=new Tf(b)}else{const b=l(g.url);s[g.uuid]=new Tf(b)}}}return s}async parseImagesAsync(e){const t=this,i={};let s;async function r(a){if(typeof a=="string"){const l=a,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await s.loadAsync(u)}else return a.data?{data:wm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){s=new fv(this.manager),s.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const b=h[g],x=await r(b);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new uc(x.data,x.width,x.height)))}i[u.uuid]=new Tf(m)}else{const m=await r(u.url);i[u.uuid]=new Tf(m)}}}return i}parseTextures(e,t){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const s={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=e[r];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],h=u.data;let m;Array.isArray(h)?(m=new Gv,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new uc:m=new Mi,h&&(m.needsUpdate=!0)),m.source=u,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,eJ)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],TI),m.wrapT=i(l.wrap[1],TI)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,CI)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,CI)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),s[l.uuid]=m}return s}parseObject(e,t,i,s,r){let a;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let x=0,T=y.length;x<T;x++){const A=y[x];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),b.push(i[A])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function h(y){return s[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),s[y]}let m,g;switch(e.type){case"Scene":a=new hR,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new yt(e.background):a.background=h(e.background)),e.environment!==void 0&&(a.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new sE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new iE(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new qi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new iu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new kF(e.color,e.intensity);break;case"DirectionalLight":a=new NR(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new IR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new XF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new DR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new VF(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new WF().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=u(e.material),a=new pR(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=u(e.material),a=new rs(m,g);break;case"InstancedMesh":m=l(e.geometry),g=u(e.material);const y=e.count,b=e.instanceMatrix,x=e.instanceColor;a=new mR(m,g,y),a.instanceMatrix=new Dd(new Float32Array(b.array),16),x!==void 0&&(a.instanceColor=new Dd(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=u(e.material),a=new pF(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=m,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(T=>{let A=null,S=null;return T.boundingBox!==void 0&&(A=new rr,A.min.fromArray(T.boundingBox.min),A.max.fromArray(T.boundingBox.max)),T.boundingSphere!==void 0&&(S=new js,S.radius=T.boundingSphere.radius,S.center.fromArray(T.boundingSphere.center)),{...T,boundingBox:A,boundingSphere:S}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=h(e.matricesTexture.uuid),a._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new js,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new rr,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new dF;break;case"Line":a=new du(l(e.geometry),u(e.material));break;case"LineLoop":a=new gR(l(e.geometry),u(e.material));break;case"LineSegments":a=new ml(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new yR(l(e.geometry),u(e.material));break;case"Sprite":a=new hF(u(e.material));break;case"Group":a=new Zc;break;case"Bone":a=new rE;break;default:a=new wn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)a.add(this.parseObject(y[b],t,i,s,r))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const x=y[b];a.animations.push(r[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const x=y[b],T=a.getObjectByProperty("uuid",x.object);T!==void 0&&a.addLevel(T,x.distance,x.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new wn}})}}const eJ={UVMapping:jA,CubeReflectionMapping:fu,CubeRefractionMapping:Lf,EquirectangularReflectionMapping:tv,EquirectangularRefractionMapping:nv,CubeUVReflectionMapping:mg},TI={RepeatWrapping:Pf,ClampToEdgeWrapping:za,MirroredRepeatWrapping:jm},CI={NearestFilter:ks,NearestMipmapNearestFilter:WA,NearestMipmapLinearFilter:pd,LinearFilter:ss,LinearMipmapNearestFilter:Nm,LinearMipmapLinearFilter:xo};class KF extends wr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=$c.get(e);if(a!==void 0){if(r.manager.itemStart(e),a.then){a.then(h=>{t&&t(h),r.manager.itemEnd(e)}).catch(h=>{s&&s(h)});return}return setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(h){return $c.add(e,h),t&&t(h),r.manager.itemEnd(e),h}).catch(function(h){s&&s(h),$c.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});$c.add(e,u),r.manager.itemStart(e)}}let Ex;class OR{static getContext(){return Ex===void 0&&(Ex=new(window.AudioContext||window.webkitAudioContext)),Ex}static setContext(e){Ex=e}}class tJ extends wr{constructor(e){super(e)}load(e,t,i,s){const r=this,a=new Wa(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{const h=u.slice(0);OR.getContext().decodeAudioData(h,function(g){t(g)}).catch(l)}catch(h){l(h)}},i,s);function l(u){s?s(u):console.error(u),r.manager.itemError(e)}}}const wI=new Lt,RI=new Lt,Yh=new Lt;class nJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Yh.copy(e.projectionMatrix);const s=t.eyeSep/2,r=s*t.near/t.focus,a=t.near*Math.tan(Td*t.fov*.5)/t.zoom;let l,u;RI.elements[12]=-s,wI.elements[12]=s,l=-a*t.aspect+r,u=a*t.aspect+r,Yh.elements[0]=2*t.near/(u-l),Yh.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Yh),l=-a*t.aspect-r,u=a*t.aspect-r,Yh.elements[0]=2*t.near/(u-l),Yh.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Yh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(RI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wI)}}class JF extends qi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class LR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=BI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=BI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function BI(){return performance.now()}const qh=new ie,DI=new Xs,iJ=new ie,Kh=new ie;class sJ extends wn{constructor(){super(),this.type="AudioListener",this.context=OR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new LR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qh,DI,iJ),Kh.set(0,0,-1).applyQuaternion(DI),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qh.x,s),t.positionY.linearRampToValueAtTime(qh.y,s),t.positionZ.linearRampToValueAtTime(qh.z,s),t.forwardX.linearRampToValueAtTime(Kh.x,s),t.forwardY.linearRampToValueAtTime(Kh.y,s),t.forwardZ.linearRampToValueAtTime(Kh.z,s),t.upX.linearRampToValueAtTime(i.x,s),t.upY.linearRampToValueAtTime(i.y,s),t.upZ.linearRampToValueAtTime(i.z,s)}else t.setPosition(qh.x,qh.y,qh.z),t.setOrientation(Kh.x,Kh.y,Kh.z,i.x,i.y,i.z)}}class QF extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Jh=new ie,II=new Xs,rJ=new ie,Qh=new ie;class aJ extends QF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Jh,II,rJ),Qh.set(0,0,1).applyQuaternion(II);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Jh.x,i),t.positionY.linearRampToValueAtTime(Jh.y,i),t.positionZ.linearRampToValueAtTime(Jh.z,i),t.orientationX.linearRampToValueAtTime(Qh.x,i),t.orientationY.linearRampToValueAtTime(Qh.y,i),t.orientationZ.linearRampToValueAtTime(Qh.z,i)}else t.setPosition(Jh.x,Jh.y,Jh.z),t.setOrientation(Qh.x,Qh.y,Qh.z)}}class oJ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class ZF{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,r,a;switch(t){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,r=e*s+s;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==s;++l)i[r+l]=i[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(i,r,0,l,s)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const u=t*this._origIndex;this._mixBufferRegion(i,s,u,1-r,t)}a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let u=t,h=t+t;u!==h;++u)if(i[u]!==i[u+t]){l.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let r=i,a=s;r!==a;++r)t[r]=t[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,r){if(s>=.5)for(let a=0;a!==r;++a)e[t+a]=e[i+a]}_slerp(e,t,i,s){Xs.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,r){const a=this._workIndex*r;Xs.multiplyQuaternionsFlat(e,a,e,t,e,i),Xs.slerpFlat(e,t,e,t,e,a,s)}_lerp(e,t,i,s,r){const a=1-s;for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]*a+e[i+l]*s}}_lerpAdditive(e,t,i,s,r){for(let a=0;a!==r;++a){const l=t+a;e[l]=e[l]+e[i+a]*s}}}const PR="\\[\\]\\.:\\/",lJ=new RegExp("["+PR+"]","g"),UR="[^"+PR+"]",cJ="[^"+PR.replace("\\.","")+"]",uJ=/((?:WC+[\/:])*)/.source.replace("WC",UR),fJ=/(WCOD+)?/.source.replace("WCOD",cJ),hJ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UR),dJ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UR),pJ=new RegExp("^"+uJ+fJ+hJ+dJ+"$"),mJ=["material","materials","bones","map"];class gJ{constructor(e,t,i){const s=i||Dn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Dn{constructor(e,t,i){this.path=t,this.parsedPath=i||Dn.parseTrackName(t),this.node=Dn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Dn.Composite(e,t,i):new Dn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lJ,"")}static parseTrackName(e){const t=pJ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);mJ.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let a=0;a<r.length;a++){const l=r[a];if(l.name===t||l.uuid===t)return l;const u=i(l.children);if(u)return u}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let r=t.propertyIndex;if(e||(e=Dn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const a=e[s];if(a===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+s+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(u=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Dn.Composite=gJ;Dn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Dn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Dn.prototype.GetterByBindingType=[Dn.prototype._getValue_direct,Dn.prototype._getValue_array,Dn.prototype._getValue_arrayElement,Dn.prototype._getValue_toArray];Dn.prototype.SetterByBindingTypeAndVersioning=[[Dn.prototype._setValue_direct,Dn.prototype._setValue_direct_setNeedsUpdate,Dn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Dn.prototype._setValue_array,Dn.prototype._setValue_array_setNeedsUpdate,Dn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Dn.prototype._setValue_arrayElement,Dn.prototype._setValue_arrayElement_setNeedsUpdate,Dn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Dn.prototype._setValue_fromArray,Dn.prototype._setValue_fromArray_setNeedsUpdate,Dn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,a=r.length;let l,u=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let x=t[b];if(x===void 0){x=u++,t[b]=x,e.push(y);for(let T=0,A=a;T!==A;++T)r[T].push(new Dn(y,i[T],s[T]))}else if(x<h){l=e[x];const T=--h,A=e[T];t[A.uuid]=x,e[x]=A,t[b]=T,e[T]=y;for(let S=0,B=a;S!==B;++S){const w=r[S],R=w[T];let L=w[x];w[x]=R,L===void 0&&(L=new Dn(y,i[S],s[S])),w[T]=L}}else e[x]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,m=t[h];if(m!==void 0&&m>=r){const g=r++,y=e[g];t[y.uuid]=m,e[m]=y,t[h]=g,e[g]=u;for(let b=0,x=s;b!==x;++b){const T=i[b],A=T[g],S=T[m];T[m]=A,T[g]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,a=e.length;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const y=--r,b=e[y],x=--a,T=e[x];t[b.uuid]=g,e[g]=b,t[T.uuid]=y,e[y]=T,e.pop();for(let A=0,S=s;A!==S;++A){const B=i[A],w=B[y],R=B[x];B[g]=w,B[y]=R,B.pop()}}else{const y=--a,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let x=0,T=s;x!==T;++x){const A=i[x];A[g]=A[y],A.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const a=this._paths,l=this._parsedPaths,u=this._objects,h=u.length,m=this.nCachedObjects_,g=new Array(h);s=r.length,i[e]=s,a.push(e),l.push(t),r.push(g);for(let y=m,b=u.length;y!==b;++y){const x=u[y];g[y]=new Dn(x,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,a=this._bindings,l=a.length-1,u=a[l],h=e[l];t[h]=i,a[i]=u,a.pop(),r[i]=r[l],r.pop(),s[i]=s[l],s.pop()}}}class $F{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const r=t.tracks,a=r.length,l=new Array(a),u={endingStart:md,endingEnd:md};for(let h=0;h!==a;++h){const m=r[h].createInterpolant(null);l[h]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=kU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const s=this._clip.duration,r=e._clip.duration,a=r/s,l=s/r;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,r=s.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=r,u[1]=r+i,h[0]=e/a,h[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const u=(e-r)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case aR:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),h[m].accumulateAdditive(l);break;case $A:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),h[m].accumulate(s,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const a=i===XU;if(e===0)return r===-1?s:a&&(r&1)===1?t-s:s;if(i===VU){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),s>=t||s<0){const l=Math.floor(s/t);s-=t*l,r+=Math.abs(l);const u=this.repetitions-r;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const h=e<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(a&&(r&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=gd,s.endingEnd=gd):(e?s.endingStart=this.zeroSlopeAtStart?gd:md:s.endingStart=iv,t?s.endingEnd=this.zeroSlopeAtEnd?gd:md:s.endingEnd=iv)}_scheduleFading(e,t,i){const s=this._mixer,r=s.time;let a=this._weightInterpolant;a===null&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=r,u[0]=t,l[1]=r+e,u[1]=i,this}}const vJ=new Float32Array(1);class _J extends mc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,a=e._propertyBindings,l=e._interpolants,u=i.uuid,h=this._bindingsByRootAndName;let m=h[u];m===void 0&&(m={},h[u]=m);for(let g=0;g!==r;++g){const y=s[g],b=y.name;let x=m[b];if(x!==void 0)++x.referenceCount,a[g]=x;else{if(x=a[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,u,b));continue}const T=t&&t._propertyBindings[g].binding.parsedPath;x=new ZF(Dn.create(i,b,T),y.ValueTypeName,y.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,u,b),a[g]=x}l[g].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,r=this._actionsByClip;let a=r[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=s.length,s.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,l=a[r],u=l.knownActions,h=u[u.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,u[m]=h,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],u.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[t];a===void 0&&(a={},s[t]=a),a[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,l=a[s],u=t[t.length-1],h=e._cacheIndex;u._cacheIndex=h,t[h]=u,t.pop(),delete l[r],Object.keys(l).length===0&&delete a[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new CR(new Float32Array(2),new Float32Array(2),1,vJ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=t[s];e.__cacheIndex=s,t[s]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const s=t||this._root,r=s.uuid;let a=typeof e=="string"?ng.findByName(s,e):e;const l=a!==null?a.uuid:e,u=this._actionsByClip[l];let h=null;if(i===void 0&&(a!==null?i=a.blendMode:i=$A),u!==void 0){const g=u.actionByRoot[r];if(g!==void 0&&g.blendMode===i)return g;h=u.knownActions[0],a===null&&(a=h._clip)}if(a===null)return null;const m=new $F(this,a,t,i);return this._bindAction(m,h),this._addInactiveAction(m,l,r),m}existingAction(e,t){const i=t||this._root,s=i.uuid,r=typeof e=="string"?ng.findByName(i,e):e,a=r?r.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(s,e,r,a);const l=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)l[h].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const a=r.knownActions;for(let l=0,u=a.length;l!==u;++l){const h=a[l];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const l=i[a].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,r=s[t];if(r!==void 0)for(const a in r){const l=r[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class bJ extends eE{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new tE(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class xJ extends eE{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new zv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class FR{constructor(e){this.value=e}clone(){return new FR(this.value.clone===void 0?this.value:this.value.clone())}}let SJ=0;class AJ extends mc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:SJ++}),this.name="",this.usage=rv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<r.length;a++)this.uniforms.push(r[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class EJ extends Vv{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class MJ{constructor(e,t,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const NI=new Lt;class e4{constructor(e,t,i=0,s=1/0){this.ray=new Gd(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new $m,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return NI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NI),this}intersectObject(e,t=!0,i=[]){return dC(e,this,i,t),i.sort(OI),i}intersectObjects(e,t=!0,i=[]){for(let s=0,r=e.length;s<r;s++)dC(e[s],this,i,t);return i.sort(OI),i}}function OI(n,e){return n.distance-e.distance}function dC(n,e,t,i){let s=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let a=0,l=r.length;a<l;a++)dC(r[a],e,t,!0)}}class pC{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class TJ{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class HR{constructor(e,t,i,s){HR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=s,this}}const LI=new Qe;class CJ{constructor(e=new Qe(1/0,1/0),t=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=LI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,LI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PI=new ie,Mx=new ie;class wJ{constructor(e=new ie,t=new ie){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){PI.subVectors(e,this.start),Mx.subVectors(this.end,this.start);const i=Mx.dot(Mx);let r=Mx.dot(PI)/i;return t&&(r=Qt(r,0,1)),r}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const UI=new ie;class RJ extends wn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Zt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,u=32;a<u;a++,l++){const h=a/u*Math.PI*2,m=l/u*Math.PI*2;s.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Mt(s,3));const r=new Cr({fog:!1,toneMapped:!1});this.cone=new ml(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),UI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(UI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _f=new ie,Tx=new Lt,BM=new Lt;class BJ extends ml{constructor(e){const t=t4(e),i=new Zt,s=[],r=[],a=new yt(0,0,1),l=new yt(0,1,0);for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(l.r,l.g,l.b))}i.setAttribute("position",new Mt(s,3)),i.setAttribute("color",new Mt(r,3));const u=new Cr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");BM.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<t.length;r++){const l=t[r];l.parent&&l.parent.isBone&&(Tx.multiplyMatrices(BM,l.matrixWorld),_f.setFromMatrixPosition(Tx),s.setXYZ(a,_f.x,_f.y,_f.z),Tx.multiplyMatrices(BM,l.parent.matrixWorld),_f.setFromMatrixPosition(Tx),s.setXYZ(a+1,_f.x,_f.y,_f.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function t4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...t4(n.children[t]));return e}class DJ extends rs{constructor(e,t,i){const s=new Yv(t,4,2),r=new Ga({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const IJ=new ie,FI=new yt,HI=new yt;class NJ extends wn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new Wv(t);s.rotateY(Math.PI*.5),this.material=new Ga({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),a=new Float32Array(r.count*3);s.setAttribute("color",new Nn(a,3)),this.add(new rs(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");FI.copy(this.light.color),HI.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const r=i<s/2?FI:HI;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(IJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class OJ extends ml{constructor(e=10,t=10,i=4473924,s=8947848){i=new yt(i),s=new yt(s);const r=t/2,a=e/t,l=e/2,u=[],h=[];for(let y=0,b=0,x=-l;y<=t;y++,x+=a){u.push(-l,0,x,l,0,x),u.push(x,0,-l,x,0,l);const T=y===r?i:s;T.toArray(h,b),b+=3,T.toArray(h,b),b+=3,T.toArray(h,b),b+=3,T.toArray(h,b),b+=3}const m=new Zt;m.setAttribute("position",new Mt(u,3)),m.setAttribute("color",new Mt(h,3));const g=new Cr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class LJ extends ml{constructor(e=10,t=16,i=8,s=64,r=4473924,a=8947848){r=new yt(r),a=new yt(a);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,x=Math.cos(y)*e;l.push(0,0,0),l.push(b,0,x);const T=g&1?r:a;u.push(T.r,T.g,T.b),u.push(T.r,T.g,T.b)}for(let g=0;g<i;g++){const y=g&1?r:a,b=e-e/i*g;for(let x=0;x<s;x++){let T=x/s*(Math.PI*2),A=Math.sin(T)*b,S=Math.cos(T)*b;l.push(A,0,S),u.push(y.r,y.g,y.b),T=(x+1)/s*(Math.PI*2),A=Math.sin(T)*b,S=Math.cos(T)*b,l.push(A,0,S),u.push(y.r,y.g,y.b)}}const h=new Zt;h.setAttribute("position",new Mt(l,3)),h.setAttribute("color",new Mt(u,3));const m=new Cr({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zI=new ie,Cx=new ie,GI=new ie;class PJ extends wn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new Zt;s.setAttribute("position",new Mt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Cr({fog:!1,toneMapped:!1});this.lightPlane=new du(s,r),this.add(this.lightPlane),s=new Zt,s.setAttribute("position",new Mt([0,0,0,0,0,1],3)),this.targetLine=new du(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zI.setFromMatrixPosition(this.light.matrixWorld),Cx.setFromMatrixPosition(this.light.target.matrixWorld),GI.subVectors(Cx,zI),this.lightPlane.lookAt(Cx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cx),this.targetLine.scale.z=GI.length()}}const wx=new ie,Xi=new nE;class UJ extends ml{constructor(e){const t=new Zt,i=new Cr({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(x,T){u(x),u(T)}function u(x){s.push(0,0,0),r.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(s.length/3-1)}t.setAttribute("position",new Mt(s,3)),t.setAttribute("color",new Mt(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const h=new yt(16755200),m=new yt(16711680),g=new yt(43775),y=new yt(16777215),b=new yt(3355443);this.setColors(h,m,g,y,b)}setColors(e,t,i,s,r){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,r.r,r.g,r.b),l.setXYZ(41,r.r,r.g,r.b),l.setXYZ(42,r.r,r.g,r.b),l.setXYZ(43,r.r,r.g,r.b),l.setXYZ(44,r.r,r.g,r.b),l.setXYZ(45,r.r,r.g,r.b),l.setXYZ(46,r.r,r.g,r.b),l.setXYZ(47,r.r,r.g,r.b),l.setXYZ(48,r.r,r.g,r.b),l.setXYZ(49,r.r,r.g,r.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;Xi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===So?-1:0;ns("c",t,e,Xi,0,0,r),ns("t",t,e,Xi,0,0,1),ns("n1",t,e,Xi,-1,-1,r),ns("n2",t,e,Xi,i,-1,r),ns("n3",t,e,Xi,-1,s,r),ns("n4",t,e,Xi,i,s,r),ns("f1",t,e,Xi,-1,-1,1),ns("f2",t,e,Xi,i,-1,1),ns("f3",t,e,Xi,-1,s,1),ns("f4",t,e,Xi,i,s,1),ns("u1",t,e,Xi,i*.7,s*1.1,r),ns("u2",t,e,Xi,-1*.7,s*1.1,r),ns("u3",t,e,Xi,0,s*2,r),ns("cf1",t,e,Xi,-1,0,1),ns("cf2",t,e,Xi,i,0,1),ns("cf3",t,e,Xi,0,-1,1),ns("cf4",t,e,Xi,0,s,1),ns("cn1",t,e,Xi,-1,0,r),ns("cn2",t,e,Xi,i,0,r),ns("cn3",t,e,Xi,0,-1,r),ns("cn4",t,e,Xi,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ns(n,e,t,i,s,r,a){wx.set(s,r,a).unproject(i);const l=e[n];if(l!==void 0){const u=t.getAttribute("position");for(let h=0,m=l.length;h<m;h++)u.setXYZ(l[h],wx.x,wx.y,wx.z)}}const Rx=new rr;class FJ extends ml{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new Zt;r.setIndex(new Nn(i,1)),r.setAttribute("position",new Nn(s,3)),super(r,new Cr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Rx.setFromObject(this.object),Rx.isEmpty())return;const e=Rx.min,t=Rx.max,i=this.geometry.attributes.position,s=i.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class HJ extends ml{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Zt;r.setIndex(new Nn(i,1)),r.setAttribute("position",new Mt(s,3)),super(r,new Cr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class zJ extends du{constructor(e,t=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Zt;a.setAttribute("position",new Mt(r,3)),a.computeBoundingSphere(),super(a,new Cr({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Zt;u.setAttribute("position",new Mt(l,3)),u.computeBoundingSphere(),this.add(new rs(u,new Ga({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const VI=new ie;let Bx,DM;class GJ extends wn{constructor(e=new ie(0,0,1),t=new ie(0,0,0),i=1,s=16776960,r=i*.2,a=r*.2){super(),this.type="ArrowHelper",Bx===void 0&&(Bx=new Zt,Bx.setAttribute("position",new Mt([0,0,0,0,1,0],3)),DM=new jv(.5,1,5,1),DM.translate(0,-.5,0)),this.position.copy(t),this.line=new du(Bx,new Cr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rs(DM,new Ga({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{VI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(VI,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class VJ extends ml{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Zt;s.setAttribute("position",new Mt(t,3)),s.setAttribute("color",new Mt(i,3));const r=new Cr({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,t,i){const s=new yt,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(t),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kJ{constructor(){this.type="ShapePath",this.color=new yt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new eA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,r,a){return this.currentPath.bezierCurveTo(e,t,i,s,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const B=[];for(let w=0,R=S.length;w<R;w++){const L=S[w],N=new Cd;N.curves=L.curves,B.push(N)}return B}function i(S,B){const w=B.length;let R=!1;for(let L=w-1,N=0;N<w;L=N++){let U=B[L],P=B[N],O=P.x-U.x,M=P.y-U.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(U=B[N],O=-O,P=B[L],M=-M),S.y<U.y||S.y>P.y)continue;if(S.y===U.y){if(S.x===U.x)return!0}else{const H=M*(S.x-U.x)-O*(S.y-U.y);if(H===0)return!0;if(H<0)continue;R=!R}}else{if(S.y!==U.y)continue;if(P.x<=S.x&&S.x<=U.x||U.x<=S.x&&S.x<=P.x)return!0}}return R}const s=ll.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,l,u;const h=[];if(r.length===1)return l=r[0],u=new Cd,u.curves=l.curves,h.push(u),h;let m=!s(r[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],x=0,T;y[x]=void 0,b[x]=[];for(let S=0,B=r.length;S<B;S++)l=r[S],T=l.getPoints(),a=s(T),a=e?!a:a,a?(!m&&y[x]&&x++,y[x]={s:new Cd,p:T},y[x].s.curves=l.curves,m&&x++,b[x]=[]):b[x].push({h:l,p:T[0]});if(!y[0])return t(r);if(y.length>1){let S=!1,B=0;for(let w=0,R=y.length;w<R;w++)g[w]=[];for(let w=0,R=y.length;w<R;w++){const L=b[w];for(let N=0;N<L.length;N++){const U=L[N];let P=!0;for(let O=0;O<y.length;O++)i(U.p,y[O].p)&&(w!==O&&B++,P?(P=!1,g[O].push(U)):S=!0);P&&g[w].push(U)}}B>0&&S===!1&&(b=g)}let A;for(let S=0,B=y.length;S<B;S++){u=y[S].s,h.push(u),A=b[S];for(let w=0,R=A.length;w<R;w++)u.holes.push(A[w].h)}return h}}class XJ extends mc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function jJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function WJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function YJ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function mC(n,e,t,i){const s=qJ(i);switch(t){case nR:return n*e;case JA:return n*e/s.components*s.byteLength;case Hv:return n*e/s.components*s.byteLength;case sR:return n*e*2/s.components*s.byteLength;case QA:return n*e*2/s.components*s.byteLength;case iR:return n*e*3/s.components*s.byteLength;case Mr:return n*e*4/s.components*s.byteLength;case ZA:return n*e*4/s.components*s.byteLength;case C0:case w0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case R0:case B0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case MS:case CS:return Math.max(n,16)*Math.max(e,8)/4;case ES:case TS:return Math.max(n,8)*Math.max(e,8)/2;case wS:case RS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case BS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case DS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case IS:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case NS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case OS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case LS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case PS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case US:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case FS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case HS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case zS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case GS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case VS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case kS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case XS:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case D0:case jS:case WS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case rR:case YS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case qS:case KS:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function qJ(n){switch(n){case Eo:case $w:return{byteLength:1,components:1};case Wm:case eR:case gg:return{byteLength:2,components:1};case qA:case KA:return{byteLength:2,components:4};case hu:case YA:case pa:return{byteLength:4,components:1};case tR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class KJ{static contain(e,t){return jJ(e,t)}static cover(e,t){return WJ(e,t)}static fill(e){return YJ(e)}static getByteLength(e,t,i,s){return mC(e,t,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Uv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Uv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function n4(){let n=null,e=!1,t=null,i=null;function s(r,a){t(r,a),i=n.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function JJ(n){const e=new WeakMap;function t(l,u){const h=l.array,m=l.usage,g=h.byteLength,y=n.createBuffer();n.bindBuffer(u,y),n.bufferData(u,h,m),l.onUploadCallback();let b;if(h instanceof Float32Array)b=n.FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)b=n.SHORT;else if(h instanceof Uint32Array)b=n.UNSIGNED_INT;else if(h instanceof Int32Array)b=n.INT;else if(h instanceof Int8Array)b=n.BYTE;else if(h instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:b,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,h){const m=u.array,g=u.updateRanges;if(n.bindBuffer(h,l),g.length===0)n.bufferSubData(h,0,m);else{g.sort((b,x)=>b.start-x.start);let y=0;for(let b=1;b<g.length;b++){const x=g[y],T=g[b];T.start<=x.start+x.count+1?x.count=Math.max(x.count,T.start+T.count-x.start):(++y,g[y]=T)}g.length=y+1;for(let b=0,x=g.length;b<x;b++){const T=g[b];n.bufferSubData(h,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function r(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,t(l,u));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,l,u),h.version=l.version}}return{get:s,remove:r,update:a}}var QJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ZJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$J=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tQ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,sQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rQ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,aQ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,oQ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cQ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uQ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,fQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,hQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,dQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,yQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,_Q=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,bQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,SQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,CQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",wQ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,RQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,BQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,DQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,IQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,NQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,OQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,LQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,PQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,XQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,WQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,KQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,JQ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$Q=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,eZ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tZ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nZ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,iZ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,sZ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rZ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aZ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oZ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lZ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cZ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,uZ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fZ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hZ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,dZ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pZ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mZ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vZ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_Z=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bZ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,xZ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,SZ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,AZ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,MZ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,CZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,BZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,DZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,IZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,NZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OZ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,LZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,PZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,FZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,zZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,GZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,VZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,XZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,jZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,WZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,KZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const JZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,QZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$Z=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,e$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,t$=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,n$=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,i$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,s$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,r$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,a$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,o$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,l$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,c$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,u$=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,f$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h$=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d$=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,m$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,y$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,v$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,b$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,x$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,M$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,T$=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,C$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,w$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,R$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,on={alphahash_fragment:QJ,alphahash_pars_fragment:ZJ,alphamap_fragment:$J,alphamap_pars_fragment:eQ,alphatest_fragment:tQ,alphatest_pars_fragment:nQ,aomap_fragment:iQ,aomap_pars_fragment:sQ,batching_pars_vertex:rQ,batching_vertex:aQ,begin_vertex:oQ,beginnormal_vertex:lQ,bsdfs:cQ,iridescence_fragment:uQ,bumpmap_pars_fragment:fQ,clipping_planes_fragment:hQ,clipping_planes_pars_fragment:dQ,clipping_planes_pars_vertex:pQ,clipping_planes_vertex:mQ,color_fragment:gQ,color_pars_fragment:yQ,color_pars_vertex:vQ,color_vertex:_Q,common:bQ,cube_uv_reflection_fragment:xQ,defaultnormal_vertex:SQ,displacementmap_pars_vertex:AQ,displacementmap_vertex:EQ,emissivemap_fragment:MQ,emissivemap_pars_fragment:TQ,colorspace_fragment:CQ,colorspace_pars_fragment:wQ,envmap_fragment:RQ,envmap_common_pars_fragment:BQ,envmap_pars_fragment:DQ,envmap_pars_vertex:IQ,envmap_physical_pars_fragment:kQ,envmap_vertex:NQ,fog_vertex:OQ,fog_pars_vertex:LQ,fog_fragment:PQ,fog_pars_fragment:UQ,gradientmap_pars_fragment:FQ,lightmap_pars_fragment:HQ,lights_lambert_fragment:zQ,lights_lambert_pars_fragment:GQ,lights_pars_begin:VQ,lights_toon_fragment:XQ,lights_toon_pars_fragment:jQ,lights_phong_fragment:WQ,lights_phong_pars_fragment:YQ,lights_physical_fragment:qQ,lights_physical_pars_fragment:KQ,lights_fragment_begin:JQ,lights_fragment_maps:QQ,lights_fragment_end:ZQ,logdepthbuf_fragment:$Q,logdepthbuf_pars_fragment:eZ,logdepthbuf_pars_vertex:tZ,logdepthbuf_vertex:nZ,map_fragment:iZ,map_pars_fragment:sZ,map_particle_fragment:rZ,map_particle_pars_fragment:aZ,metalnessmap_fragment:oZ,metalnessmap_pars_fragment:lZ,morphinstance_vertex:cZ,morphcolor_vertex:uZ,morphnormal_vertex:fZ,morphtarget_pars_vertex:hZ,morphtarget_vertex:dZ,normal_fragment_begin:pZ,normal_fragment_maps:mZ,normal_pars_fragment:gZ,normal_pars_vertex:yZ,normal_vertex:vZ,normalmap_pars_fragment:_Z,clearcoat_normal_fragment_begin:bZ,clearcoat_normal_fragment_maps:xZ,clearcoat_pars_fragment:SZ,iridescence_pars_fragment:AZ,opaque_fragment:EZ,packing:MZ,premultiplied_alpha_fragment:TZ,project_vertex:CZ,dithering_fragment:wZ,dithering_pars_fragment:RZ,roughnessmap_fragment:BZ,roughnessmap_pars_fragment:DZ,shadowmap_pars_fragment:IZ,shadowmap_pars_vertex:NZ,shadowmap_vertex:OZ,shadowmask_pars_fragment:LZ,skinbase_vertex:PZ,skinning_pars_vertex:UZ,skinning_vertex:FZ,skinnormal_vertex:HZ,specularmap_fragment:zZ,specularmap_pars_fragment:GZ,tonemapping_fragment:VZ,tonemapping_pars_fragment:kZ,transmission_fragment:XZ,transmission_pars_fragment:jZ,uv_pars_fragment:WZ,uv_pars_vertex:YZ,uv_vertex:qZ,worldpos_vertex:KZ,background_vert:JZ,background_frag:QZ,backgroundCube_vert:ZZ,backgroundCube_frag:$Z,cube_vert:e$,cube_frag:t$,depth_vert:n$,depth_frag:i$,distanceRGBA_vert:s$,distanceRGBA_frag:r$,equirect_vert:a$,equirect_frag:o$,linedashed_vert:l$,linedashed_frag:c$,meshbasic_vert:u$,meshbasic_frag:f$,meshlambert_vert:h$,meshlambert_frag:d$,meshmatcap_vert:p$,meshmatcap_frag:m$,meshnormal_vert:g$,meshnormal_frag:y$,meshphong_vert:v$,meshphong_frag:_$,meshphysical_vert:b$,meshphysical_frag:x$,meshtoon_vert:S$,meshtoon_frag:A$,points_vert:E$,points_frag:M$,shadow_vert:T$,shadow_frag:C$,sprite_vert:w$,sprite_frag:R$},_t={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},envMapRotation:{value:new tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},sl={basic:{uniforms:jr([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:jr([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new yt(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:jr([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:jr([_t.common,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.roughnessmap,_t.metalnessmap,_t.fog,_t.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:jr([_t.common,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.gradientmap,_t.fog,_t.lights,{emissive:{value:new yt(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:jr([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:jr([_t.points,_t.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:jr([_t.common,_t.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:jr([_t.common,_t.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:jr([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:jr([_t.sprite,_t.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tn}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:jr([_t.common,_t.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:jr([_t.lights,_t.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};sl.physical={uniforms:jr([sl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const Dx={r:0,b:0,g:0},Zh=new ja,B$=new Lt;function D$(n,e,t,i,s,r,a){const l=new yt(0);let u=r===!0?0:1,h,m,g=null,y=0,b=null;function x(w){let R=w.isScene===!0?w.background:null;return R&&R.isTexture&&(R=(w.backgroundBlurriness>0?t:e).get(R)),R}function T(w){let R=!1;const L=x(w);L===null?S(l,u):L&&L.isColor&&(S(L,1),R=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(w,R){const L=x(R);L&&(L.isCubeTexture||L.mapping===mg)?(m===void 0&&(m=new rs(new Vd(1,1,1),new dl({name:"BackgroundCubeMaterial",uniforms:eg(sl.backgroundCube.uniforms),vertexShader:sl.backgroundCube.vertexShader,fragmentShader:sl.backgroundCube.fragmentShader,side:Jr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(N,U,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Zh.copy(R.backgroundRotation),Zh.x*=-1,Zh.y*=-1,Zh.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(Zh.y*=-1,Zh.z*=-1),m.material.uniforms.envMap.value=L,m.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(B$.makeRotationFromEuler(Zh)),m.material.toneMapped=Cn.getTransfer(L.colorSpace)!==Zn,(g!==L||y!==L.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=L,y=L.version,b=n.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):L&&L.isTexture&&(h===void 0&&(h=new rs(new vg(2,2),new dl({name:"BackgroundMaterial",uniforms:eg(sl.background.uniforms),vertexShader:sl.background.vertexShader,fragmentShader:sl.background.fragmentShader,side:fc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(h)),h.material.uniforms.t2D.value=L,h.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,h.material.toneMapped=Cn.getTransfer(L.colorSpace)!==Zn,L.matrixAutoUpdate===!0&&L.updateMatrix(),h.material.uniforms.uvTransform.value.copy(L.matrix),(g!==L||y!==L.version||b!==n.toneMapping)&&(h.material.needsUpdate=!0,g=L,y=L.version,b=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null))}function S(w,R){w.getRGB(Dx,oF(n)),i.buffers.color.setClear(Dx.r,Dx.g,Dx.b,R,a)}function B(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(w,R=1){l.set(w),u=R,S(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,S(l,u)},render:T,addToRenderList:A,dispose:B}}function I$(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=y(null);let r=s,a=!1;function l(M,H,k,$,se){let ne=!1;const z=g($,k,H);r!==z&&(r=z,h(r.object)),ne=b(M,$,k,se),ne&&x(M,$,k,se),se!==null&&e.update(se,n.ELEMENT_ARRAY_BUFFER),(ne||a)&&(a=!1,R(M,H,k,$),se!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(se).buffer))}function u(){return n.createVertexArray()}function h(M){return n.bindVertexArray(M)}function m(M){return n.deleteVertexArray(M)}function g(M,H,k){const $=k.wireframe===!0;let se=i[M.id];se===void 0&&(se={},i[M.id]=se);let ne=se[H.id];ne===void 0&&(ne={},se[H.id]=ne);let z=ne[$];return z===void 0&&(z=y(u()),ne[$]=z),z}function y(M){const H=[],k=[],$=[];for(let se=0;se<t;se++)H[se]=0,k[se]=0,$[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:k,attributeDivisors:$,object:M,attributes:{},index:null}}function b(M,H,k,$){const se=r.attributes,ne=H.attributes;let z=0;const Y=k.getAttributes();for(const Z in Y)if(Y[Z].location>=0){const j=se[Z];let ae=ne[Z];if(ae===void 0&&(Z==="instanceMatrix"&&M.instanceMatrix&&(ae=M.instanceMatrix),Z==="instanceColor"&&M.instanceColor&&(ae=M.instanceColor)),j===void 0||j.attribute!==ae||ae&&j.data!==ae.data)return!0;z++}return r.attributesNum!==z||r.index!==$}function x(M,H,k,$){const se={},ne=H.attributes;let z=0;const Y=k.getAttributes();for(const Z in Y)if(Y[Z].location>=0){let j=ne[Z];j===void 0&&(Z==="instanceMatrix"&&M.instanceMatrix&&(j=M.instanceMatrix),Z==="instanceColor"&&M.instanceColor&&(j=M.instanceColor));const ae={};ae.attribute=j,j&&j.data&&(ae.data=j.data),se[Z]=ae,z++}r.attributes=se,r.attributesNum=z,r.index=$}function T(){const M=r.newAttributes;for(let H=0,k=M.length;H<k;H++)M[H]=0}function A(M){S(M,0)}function S(M,H){const k=r.newAttributes,$=r.enabledAttributes,se=r.attributeDivisors;k[M]=1,$[M]===0&&(n.enableVertexAttribArray(M),$[M]=1),se[M]!==H&&(n.vertexAttribDivisor(M,H),se[M]=H)}function B(){const M=r.newAttributes,H=r.enabledAttributes;for(let k=0,$=H.length;k<$;k++)H[k]!==M[k]&&(n.disableVertexAttribArray(k),H[k]=0)}function w(M,H,k,$,se,ne,z){z===!0?n.vertexAttribIPointer(M,H,k,se,ne):n.vertexAttribPointer(M,H,k,$,se,ne)}function R(M,H,k,$){T();const se=$.attributes,ne=k.getAttributes(),z=H.defaultAttributeValues;for(const Y in ne){const Z=ne[Y];if(Z.location>=0){let re=se[Y];if(re===void 0&&(Y==="instanceMatrix"&&M.instanceMatrix&&(re=M.instanceMatrix),Y==="instanceColor"&&M.instanceColor&&(re=M.instanceColor)),re!==void 0){const j=re.normalized,ae=re.itemSize,Se=e.get(re);if(Se===void 0)continue;const Ae=Se.buffer,ce=Se.type,Te=Se.bytesPerElement,Xe=ce===n.INT||ce===n.UNSIGNED_INT||re.gpuType===YA;if(re.isInterleavedBufferAttribute){const et=re.data,be=et.stride,W=re.offset;if(et.isInstancedInterleavedBuffer){for(let Q=0;Q<Z.locationSize;Q++)S(Z.location+Q,et.meshPerAttribute);M.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=et.meshPerAttribute*et.count)}else for(let Q=0;Q<Z.locationSize;Q++)A(Z.location+Q);n.bindBuffer(n.ARRAY_BUFFER,Ae);for(let Q=0;Q<Z.locationSize;Q++)w(Z.location+Q,ae/Z.locationSize,ce,j,be*Te,(W+ae/Z.locationSize*Q)*Te,Xe)}else{if(re.isInstancedBufferAttribute){for(let et=0;et<Z.locationSize;et++)S(Z.location+et,re.meshPerAttribute);M.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let et=0;et<Z.locationSize;et++)A(Z.location+et);n.bindBuffer(n.ARRAY_BUFFER,Ae);for(let et=0;et<Z.locationSize;et++)w(Z.location+et,ae/Z.locationSize,ce,j,ae*Te,ae/Z.locationSize*et*Te,Xe)}}else if(z!==void 0){const j=z[Y];if(j!==void 0)switch(j.length){case 2:n.vertexAttrib2fv(Z.location,j);break;case 3:n.vertexAttrib3fv(Z.location,j);break;case 4:n.vertexAttrib4fv(Z.location,j);break;default:n.vertexAttrib1fv(Z.location,j)}}}}B()}function L(){P();for(const M in i){const H=i[M];for(const k in H){const $=H[k];for(const se in $)m($[se].object),delete $[se];delete H[k]}delete i[M]}}function N(M){if(i[M.id]===void 0)return;const H=i[M.id];for(const k in H){const $=H[k];for(const se in $)m($[se].object),delete $[se];delete H[k]}delete i[M.id]}function U(M){for(const H in i){const k=i[H];if(k[M.id]===void 0)continue;const $=k[M.id];for(const se in $)m($[se].object),delete $[se];delete k[M.id]}}function P(){O(),a=!0,r!==s&&(r=s,h(r.object))}function O(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:P,resetDefaultState:O,dispose:L,releaseStatesOfGeometry:N,releaseStatesOfProgram:U,initAttributes:T,enableAttribute:A,disableUnusedAttributes:B}}function N$(n,e,t){let i;function s(h){i=h}function r(h,m){n.drawArrays(i,h,m),t.update(m,i,1)}function a(h,m,g){g!==0&&(n.drawArraysInstanced(i,h,m,g),t.update(m,i,g))}function l(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,g);let b=0;for(let x=0;x<g;x++)b+=m[x];t.update(b,i,1)}function u(h,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let x=0;x<h.length;x++)a(h[x],m[x],y[x]);else{b.multiDrawArraysInstancedWEBGL(i,h,0,m,0,y,0,g);let x=0;for(let T=0;T<g;T++)x+=m[T]*y[T];t.update(x,i,1)}}this.setMode=s,this.render=r,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function O$(n,e,t,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(U){return!(U!==Mr&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const P=U===gg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==Eo&&i.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==pa&&!P)}function u(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=u(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),B=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),w=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),L=x>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:b,maxVertexTextures:x,maxTextureSize:T,maxCubemapSize:A,maxAttributes:S,maxVertexUniforms:B,maxVaryings:w,maxFragmentUniforms:R,vertexTextures:L,maxSamples:N}}function L$(n){const e=this;let t=null,i=0,s=!1,r=!1;const a=new Kc,l=new tn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||s;return s=y,i=g.length,b},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const x=g.clippingPlanes,T=g.clipIntersection,A=g.clipShadows,S=n.get(g);if(!s||x===null||x.length===0||r&&!A)r?m(null):h();else{const B=r?0:i,w=B*4;let R=S.clippingState||null;u.value=R,R=m(x,y,w,b);for(let L=0;L!==w;++L)R[L]=t[L];S.clippingState=R,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=B}};function h(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,x){const T=g!==null?g.length:0;let A=null;if(T!==0){if(A=u.value,x!==!0||A===null){const S=b+T*4,B=y.matrixWorldInverse;l.getNormalMatrix(B),(A===null||A.length<S)&&(A=new Float32Array(S));for(let w=0,R=b;w!==T;++w,R+=4)a.copy(g[w]).applyMatrix4(B,l),a.normal.toArray(A,R),A[R+3]=a.constant}u.value=A,u.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,A}}function P$(n){let e=new WeakMap;function t(a,l){return l===tv?a.mapping=fu:l===nv&&(a.mapping=Lf),a}function i(a){if(a&&a.isTexture){const l=a.mapping;if(l===tv||l===nv)if(e.has(a)){const u=e.get(a).texture;return t(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const h=new uF(u.height);return h.fromEquirectangularTexture(n,a),e.set(a,h),a.addEventListener("dispose",s),t(h.texture,a.mapping)}else return null}}return a}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Rm=4,kI=[.125,.215,.35,.446,.526,.582],ud=20,IM=new iu,XI=new yt;let NM=null,OM=0,LM=0,PM=!1;const od=(1+Math.sqrt(5))/2,ym=1/od,jI=[new ie(-od,ym,0),new ie(od,ym,0),new ie(-ym,0,od),new ie(ym,0,od),new ie(0,od,-ym),new ie(0,od,ym),new ie(-1,1,-1),new ie(1,1,-1),new ie(-1,1,1),new ie(1,1,1)],U$=new ie;class gC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100,r={}){const{size:a=256,position:l=U$}=r;NM=this._renderer.getRenderTarget(),OM=this._renderer.getActiveCubeFace(),LM=this._renderer.getActiveMipmapLevel(),PM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,s,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=YI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(NM,OM,LM),this._renderer.xr.enabled=PM,e.scissorTest=!1,Ix(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===fu||e.mapping===Lf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),NM=this._renderer.getRenderTarget(),OM=this._renderer.getActiveCubeFace(),LM=this._renderer.getActiveMipmapLevel(),PM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ss,minFilter:ss,generateMipmaps:!1,type:gg,format:Mr,colorSpace:Uf,depthBuffer:!1},s=WI(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WI(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=F$(r)),this._blurMaterial=H$(r,e,t)}return s}_compileMaterial(e){const t=new rs(this._lodPlanes[0],e);this._renderer.compile(t,IM)}_sceneToCubeUV(e,t,i,s,r){const u=new qi(90,1,t,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(XI),g.toneMapping=cc,g.autoClear=!1;const x=new Ga({name:"PMREM.Background",side:Jr,depthWrite:!1,depthTest:!1}),T=new rs(new Vd,x);let A=!1;const S=e.background;S?S.isColor&&(x.color.copy(S),e.background=null,A=!0):(x.color.copy(XI),A=!0);for(let B=0;B<6;B++){const w=B%3;w===0?(u.up.set(0,h[B],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x+m[B],r.y,r.z)):w===1?(u.up.set(0,0,h[B]),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y+m[B],r.z)):(u.up.set(0,h[B],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y,r.z+m[B]));const R=this._cubeSize;Ix(s,w*R,B>2?R:0,R,R),g.setRenderTarget(s),A&&g.render(T,u),g.render(e,u)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===fu||e.mapping===Lf;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=qI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=YI());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new rs(this._lodPlanes[0],r),l=r.uniforms;l.envMap.value=e;const u=this._cubeSize;Ix(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(a,IM)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=jI[(s-r-1)%jI.length];this._blur(e,r-1,r,a,l)}t.autoClear=i}_blur(e,t,i,s,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,s,"latitudinal",r),this._halfBlur(a,e,i,i,s,"longitudinal",r)}_halfBlur(e,t,i,s,r,a,l){const u=this._renderer,h=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new rs(this._lodPlanes[s],h),y=h.uniforms,b=this._sizeLods[i]-1,x=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*ud-1),T=r/x,A=isFinite(r)?1+Math.floor(m*T):ud;A>ud&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${ud}`);const S=[];let B=0;for(let U=0;U<ud;++U){const P=U/T,O=Math.exp(-P*P/2);S.push(O),U===0?B+=O:U<A&&(B+=2*O)}for(let U=0;U<S.length;U++)S[U]=S[U]/B;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=S,y.latitudinal.value=a==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:w}=this;y.dTheta.value=x,y.mipInt.value=w-i;const R=this._sizeLods[s],L=3*R*(s>w-Rm?s-w+Rm:0),N=4*(this._cubeSize-R);Ix(t,L,N,3*R,2*R),u.setRenderTarget(t),u.render(g,IM)}}function F$(n){const e=[],t=[],i=[];let s=n;const r=n-Rm+1+kI.length;for(let a=0;a<r;a++){const l=Math.pow(2,s);t.push(l);let u=1/l;a>n-Rm?u=kI[a-n+Rm-1]:a===0&&(u=0),i.push(u);const h=1/(l-2),m=-h,g=1+h,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,x=6,T=3,A=2,S=1,B=new Float32Array(T*x*b),w=new Float32Array(A*x*b),R=new Float32Array(S*x*b);for(let N=0;N<b;N++){const U=N%3*2/3-1,P=N>2?0:-1,O=[U,P,0,U+2/3,P,0,U+2/3,P+1,0,U,P,0,U+2/3,P+1,0,U,P+1,0];B.set(O,T*x*N),w.set(y,A*x*N);const M=[N,N,N,N,N,N];R.set(M,S*x*N)}const L=new Zt;L.setAttribute("position",new Nn(B,T)),L.setAttribute("uv",new Nn(w,A)),L.setAttribute("faceIndex",new Nn(R,S)),e.push(L),s>Rm&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function WI(n,e,t){const i=new hc(n,e,t);return i.texture.mapping=mg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ix(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function H$(n,e,t){const i=new Float32Array(ud),s=new ie(0,1,0);return new dl({name:"SphericalGaussianBlur",defines:{n:ud,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:zR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function YI(){return new dl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function qI(){return new dl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:tu,depthTest:!1,depthWrite:!1})}function zR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function z$(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const u=l.mapping,h=u===tv||u===nv,m=u===fu||u===Lf;if(h||m){let g=e.get(l);const y=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return t===null&&(t=new gC(n)),g=h?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const b=l.image;return h&&b&&b.height>0||m&&b&&s(b)?(t===null&&(t=new gC(n)),g=h?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",r),g.texture):null}}}return l}function s(l){let u=0;const h=6;for(let m=0;m<h;m++)l[m]!==void 0&&u++;return u===h}function r(l){const u=l.target;u.removeEventListener("dispose",r);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function G$(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&Jx("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function V$(n,e,t,i){const s={},r=new WeakMap;function a(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const x in y.attributes)e.remove(y.attributes[x]);y.removeEventListener("dispose",a),delete s[y.id];const b=r.get(y);b&&(e.remove(b),r.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(g,y){return s[y.id]===!0||(y.addEventListener("dispose",a),s[y.id]=!0,t.memory.geometries++),y}function u(g){const y=g.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function h(g){const y=[],b=g.index,x=g.attributes.position;let T=0;if(b!==null){const B=b.array;T=b.version;for(let w=0,R=B.length;w<R;w+=3){const L=B[w+0],N=B[w+1],U=B[w+2];y.push(L,N,N,U,U,L)}}else if(x!==void 0){const B=x.array;T=x.version;for(let w=0,R=B.length/3-1;w<R;w+=3){const L=w+0,N=w+1,U=w+2;y.push(L,N,N,U,U,L)}}else return;const A=new(iF(y)?fR:uR)(y,1);A.version=T;const S=r.get(g);S&&e.remove(S),r.set(g,A)}function m(g){const y=r.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&h(g)}else h(g);return r.get(g)}return{get:l,update:u,getWireframeAttribute:m}}function k$(n,e,t){let i;function s(y){i=y}let r,a;function l(y){r=y.type,a=y.bytesPerElement}function u(y,b){n.drawElements(i,b,r,y*a),t.update(b,i,1)}function h(y,b,x){x!==0&&(n.drawElementsInstanced(i,b,r,y*a,x),t.update(b,i,x))}function m(y,b,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,r,y,0,x);let A=0;for(let S=0;S<x;S++)A+=b[S];t.update(A,i,1)}function g(y,b,x,T){if(x===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<y.length;S++)h(y[S]/a,b[S],T[S]);else{A.multiDrawElementsInstancedWEBGL(i,b,0,r,y,0,T,0,x);let S=0;for(let B=0;B<x;B++)S+=b[B]*T[B];t.update(S,i,1)}}this.setMode=s,this.setIndex=l,this.render=u,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function X$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,l){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=l*(r/3);break;case n.LINES:t.lines+=l*(r/2);break;case n.LINE_STRIP:t.lines+=l*(r-1);break;case n.LINE_LOOP:t.lines+=l*r;break;case n.POINTS:t.points+=l*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function j$(n,e,t){const i=new WeakMap,s=new In;function r(a,l,u){const h=a.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(l);if(y===void 0||y.count!==g){let M=function(){P.dispose(),i.delete(l),l.removeEventListener("dispose",M)};var b=M;y!==void 0&&y.texture.dispose();const x=l.morphAttributes.position!==void 0,T=l.morphAttributes.normal!==void 0,A=l.morphAttributes.color!==void 0,S=l.morphAttributes.position||[],B=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let R=0;x===!0&&(R=1),T===!0&&(R=2),A===!0&&(R=3);let L=l.attributes.position.count*R,N=1;L>e.maxTextureSize&&(N=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const U=new Float32Array(L*N*4*g),P=new zv(U,L,N,g);P.type=pa,P.needsUpdate=!0;const O=R*4;for(let H=0;H<g;H++){const k=S[H],$=B[H],se=w[H],ne=L*N*4*H;for(let z=0;z<k.count;z++){const Y=z*O;x===!0&&(s.fromBufferAttribute(k,z),U[ne+Y+0]=s.x,U[ne+Y+1]=s.y,U[ne+Y+2]=s.z,U[ne+Y+3]=0),T===!0&&(s.fromBufferAttribute($,z),U[ne+Y+4]=s.x,U[ne+Y+5]=s.y,U[ne+Y+6]=s.z,U[ne+Y+7]=0),A===!0&&(s.fromBufferAttribute(se,z),U[ne+Y+8]=s.x,U[ne+Y+9]=s.y,U[ne+Y+10]=s.z,U[ne+Y+11]=se.itemSize===4?s.w:1)}}y={count:g,texture:P,size:new Qe(L,N)},i.set(l,y),l.addEventListener("dispose",M)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let x=0;for(let A=0;A<h.length;A++)x+=h[A];const T=l.morphTargetsRelative?1:1-x;u.getUniforms().setValue(n,"morphTargetBaseInfluence",T),u.getUniforms().setValue(n,"morphTargetInfluences",h)}u.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:r}}function W$(n,e,t,i){let s=new WeakMap;function r(u){const h=i.render.frame,m=u.geometry,g=e.get(u,m);if(s.get(g)!==h&&(e.update(g),s.set(g,h)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),s.get(u)!==h&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),s.set(u,h))),u.isSkinnedMesh){const y=u.skeleton;s.get(y)!==h&&(y.update(),s.set(y,h))}return g}function a(){s=new WeakMap}function l(u){const h=u.target;h.removeEventListener("dispose",l),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:r,dispose:a}}const i4=new Mi,KI=new cE(1,1),s4=new zv,r4=new tE,a4=new Gv,JI=[],QI=[],ZI=new Float32Array(16),$I=new Float32Array(9),eN=new Float32Array(4);function bg(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let r=JI[s];if(r===void 0&&(r=new Float32Array(s),JI[s]=r),e!==0){i.toArray(r,0);for(let a=1,l=0;a!==e;++a)l+=t,n[a].toArray(r,l)}return r}function Bs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ds(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function EE(n,e){let t=QI[e];t===void 0&&(t=new Int32Array(e),QI[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Y$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function q$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2fv(this.addr,e),Ds(t,e)}}function K$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bs(t,e))return;n.uniform3fv(this.addr,e),Ds(t,e)}}function J$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4fv(this.addr,e),Ds(t,e)}}function Q$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ds(t,e)}else{if(Bs(t,i))return;eN.set(i),n.uniformMatrix2fv(this.addr,!1,eN),Ds(t,i)}}function Z$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ds(t,e)}else{if(Bs(t,i))return;$I.set(i),n.uniformMatrix3fv(this.addr,!1,$I),Ds(t,i)}}function $$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ds(t,e)}else{if(Bs(t,i))return;ZI.set(i),n.uniformMatrix4fv(this.addr,!1,ZI),Ds(t,i)}}function eee(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function tee(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2iv(this.addr,e),Ds(t,e)}}function nee(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bs(t,e))return;n.uniform3iv(this.addr,e),Ds(t,e)}}function iee(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4iv(this.addr,e),Ds(t,e)}}function see(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ree(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2uiv(this.addr,e),Ds(t,e)}}function aee(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bs(t,e))return;n.uniform3uiv(this.addr,e),Ds(t,e)}}function oee(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4uiv(this.addr,e),Ds(t,e)}}function lee(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(KI.compareFunction=lR,r=KI):r=i4,t.setTexture2D(e||r,s)}function cee(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||r4,s)}function uee(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||a4,s)}function fee(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||s4,s)}function hee(n){switch(n){case 5126:return Y$;case 35664:return q$;case 35665:return K$;case 35666:return J$;case 35674:return Q$;case 35675:return Z$;case 35676:return $$;case 5124:case 35670:return eee;case 35667:case 35671:return tee;case 35668:case 35672:return nee;case 35669:case 35673:return iee;case 5125:return see;case 36294:return ree;case 36295:return aee;case 36296:return oee;case 35678:case 36198:case 36298:case 36306:case 35682:return lee;case 35679:case 36299:case 36307:return cee;case 35680:case 36300:case 36308:case 36293:return uee;case 36289:case 36303:case 36311:case 36292:return fee}}function dee(n,e){n.uniform1fv(this.addr,e)}function pee(n,e){const t=bg(e,this.size,2);n.uniform2fv(this.addr,t)}function mee(n,e){const t=bg(e,this.size,3);n.uniform3fv(this.addr,t)}function gee(n,e){const t=bg(e,this.size,4);n.uniform4fv(this.addr,t)}function yee(n,e){const t=bg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function vee(n,e){const t=bg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _ee(n,e){const t=bg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function bee(n,e){n.uniform1iv(this.addr,e)}function xee(n,e){n.uniform2iv(this.addr,e)}function See(n,e){n.uniform3iv(this.addr,e)}function Aee(n,e){n.uniform4iv(this.addr,e)}function Eee(n,e){n.uniform1uiv(this.addr,e)}function Mee(n,e){n.uniform2uiv(this.addr,e)}function Tee(n,e){n.uniform3uiv(this.addr,e)}function Cee(n,e){n.uniform4uiv(this.addr,e)}function wee(n,e,t){const i=this.cache,s=e.length,r=EE(t,s);Bs(i,r)||(n.uniform1iv(this.addr,r),Ds(i,r));for(let a=0;a!==s;++a)t.setTexture2D(e[a]||i4,r[a])}function Ree(n,e,t){const i=this.cache,s=e.length,r=EE(t,s);Bs(i,r)||(n.uniform1iv(this.addr,r),Ds(i,r));for(let a=0;a!==s;++a)t.setTexture3D(e[a]||r4,r[a])}function Bee(n,e,t){const i=this.cache,s=e.length,r=EE(t,s);Bs(i,r)||(n.uniform1iv(this.addr,r),Ds(i,r));for(let a=0;a!==s;++a)t.setTextureCube(e[a]||a4,r[a])}function Dee(n,e,t){const i=this.cache,s=e.length,r=EE(t,s);Bs(i,r)||(n.uniform1iv(this.addr,r),Ds(i,r));for(let a=0;a!==s;++a)t.setTexture2DArray(e[a]||s4,r[a])}function Iee(n){switch(n){case 5126:return dee;case 35664:return pee;case 35665:return mee;case 35666:return gee;case 35674:return yee;case 35675:return vee;case 35676:return _ee;case 5124:case 35670:return bee;case 35667:case 35671:return xee;case 35668:case 35672:return See;case 35669:case 35673:return Aee;case 5125:return Eee;case 36294:return Mee;case 36295:return Tee;case 36296:return Cee;case 35678:case 36198:case 36298:case 36306:case 35682:return wee;case 35679:case 36299:case 36307:return Ree;case 35680:case 36300:case 36308:case 36293:return Bee;case 36289:case 36303:case 36311:case 36292:return Dee}}class Nee{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=hee(t.type)}}class Oee{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Iee(t.type)}}class Lee{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let r=0,a=s.length;r!==a;++r){const l=s[r];l.setValue(e,t[l.id],i)}}}const UM=/(\w+)(\])?(\[|\.)?/g;function tN(n,e){n.seq.push(e),n.map[e.id]=e}function Pee(n,e,t){const i=n.name,s=i.length;for(UM.lastIndex=0;;){const r=UM.exec(i),a=UM.lastIndex;let l=r[1];const u=r[2]==="]",h=r[3];if(u&&(l=l|0),h===void 0||h==="["&&a+2===s){tN(t,h===void 0?new Nee(l,n,e):new Oee(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new Lee(l),tN(t,g)),t=g}}}class Zx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(t,s),a=e.getUniformLocation(t,r.name);Pee(r,a,this)}}setValue(e,t,i,s){const r=this.map[t];r!==void 0&&r.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let r=0,a=t.length;r!==a;++r){const l=t[r],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,r=e.length;s!==r;++s){const a=e[s];a.id in t&&i.push(a)}return i}}function nN(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Uee=37297;let Fee=0;function Hee(n,e){const t=n.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let a=s;a<r;a++){const l=a+1;i.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return i.join(`
`)}const iN=new tn;function zee(n){Cn._getMatrix(iN,Cn.workingColorSpace,n);const e=`mat3( ${iN.elements.map(t=>t.toFixed(4))} )`;switch(Cn.getTransfer(n)){case sv:return[e,"LinearTransferOETF"];case Zn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function sN(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=n.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const a=parseInt(r[1]);return t.toUpperCase()+`

`+s+`

`+Hee(n.getShaderSource(e),a)}else return s}function Gee(n,e){const t=zee(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Vee(n,e){let t;switch(e){case LU:t="Linear";break;case PU:t="Reinhard";break;case UU:t="Cineon";break;case Zw:t="ACESFilmic";break;case HU:t="AgX";break;case zU:t="Neutral";break;case FU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Nx=new ie;function kee(){Cn.getLuminanceCoefficients(Nx);const n=Nx.x.toFixed(4),e=Nx.y.toFixed(4),t=Nx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Xee(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(y0).join(`
`)}function jee(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Wee(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(e,s),a=r.name;let l=1;r.type===n.FLOAT_MAT2&&(l=2),r.type===n.FLOAT_MAT3&&(l=3),r.type===n.FLOAT_MAT4&&(l=4),t[a]={type:r.type,location:n.getAttribLocation(e,a),locationSize:l}}return t}function y0(n){return n!==""}function rN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function aN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Yee=/^[ \t]*#include +<([\w\d./]+)>/gm;function yC(n){return n.replace(Yee,Kee)}const qee=new Map;function Kee(n,e){let t=on[e];if(t===void 0){const i=qee.get(e);if(i!==void 0)t=on[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return yC(t)}const Jee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oN(n){return n.replace(Jee,Qee)}function Qee(n,e,t,i){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function lN(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zee(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===XA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===T0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===il&&(e="SHADOWMAP_TYPE_VSM"),e}function $ee(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case fu:case Lf:e="ENVMAP_TYPE_CUBE";break;case mg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ete(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Lf:e="ENVMAP_MODE_REFRACTION";break}return e}function tte(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Fv:e="ENVMAP_BLENDING_MULTIPLY";break;case NU:e="ENVMAP_BLENDING_MIX";break;case OU:e="ENVMAP_BLENDING_ADD";break}return e}function nte(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function ite(n,e,t,i){const s=n.getContext(),r=t.defines;let a=t.vertexShader,l=t.fragmentShader;const u=Zee(t),h=$ee(t),m=ete(t),g=tte(t),y=nte(t),b=Xee(t),x=jee(r),T=s.createProgram();let A,S,B=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(y0).join(`
`),A.length>0&&(A+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(y0).join(`
`),S.length>0&&(S+=`
`)):(A=[lN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(y0).join(`
`),S=[lN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==cc?"#define TONE_MAPPING":"",t.toneMapping!==cc?on.tonemapping_pars_fragment:"",t.toneMapping!==cc?Vee("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,Gee("linearToOutputTexel",t.outputColorSpace),kee(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(y0).join(`
`)),a=yC(a),a=rN(a,t),a=aN(a,t),l=yC(l),l=rN(l,t),l=aN(l,t),a=oN(a),l=oN(l),t.isRawShaderMaterial!==!0&&(B=`#version 300 es
`,A=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["#define varying in",t.glslVersion===lC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===lC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const w=B+A+a,R=B+S+l,L=nN(s,s.VERTEX_SHADER,w),N=nN(s,s.FRAGMENT_SHADER,R);s.attachShader(T,L),s.attachShader(T,N),t.index0AttributeName!==void 0?s.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(T,0,"position"),s.linkProgram(T);function U(H){if(n.debug.checkShaderErrors){const k=s.getProgramInfoLog(T).trim(),$=s.getShaderInfoLog(L).trim(),se=s.getShaderInfoLog(N).trim();let ne=!0,z=!0;if(s.getProgramParameter(T,s.LINK_STATUS)===!1)if(ne=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,T,L,N);else{const Y=sN(s,L,"vertex"),Z=sN(s,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(T,s.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+k+`
`+Y+`
`+Z)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):($===""||se==="")&&(z=!1);z&&(H.diagnostics={runnable:ne,programLog:k,vertexShader:{log:$,prefix:A},fragmentShader:{log:se,prefix:S}})}s.deleteShader(L),s.deleteShader(N),P=new Zx(s,T),O=Wee(s,T)}let P;this.getUniforms=function(){return P===void 0&&U(this),P};let O;this.getAttributes=function(){return O===void 0&&U(this),O};let M=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=s.getProgramParameter(T,Uee)),M},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Fee++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=L,this.fragmentShader=N,this}let ste=0;class rte{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new ate(e),t.set(e,i)),i}}class ate{constructor(e){this.id=ste++,this.code=e,this.usedTimes=0}}function ote(n,e,t,i,s,r,a){const l=new $m,u=new rte,h=new Set,m=[],g=s.logarithmicDepthBuffer,y=s.vertexTextures;let b=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(O){return h.add(O),O===0?"uv":`uv${O}`}function A(O,M,H,k,$){const se=k.fog,ne=$.geometry,z=O.isMeshStandardMaterial?k.environment:null,Y=(O.isMeshStandardMaterial?t:e).get(O.envMap||z),Z=Y&&Y.mapping===mg?Y.image.height:null,re=x[O.type];O.precision!==null&&(b=s.getMaxPrecision(O.precision),b!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",b,"instead."));const j=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ae=j!==void 0?j.length:0;let Se=0;ne.morphAttributes.position!==void 0&&(Se=1),ne.morphAttributes.normal!==void 0&&(Se=2),ne.morphAttributes.color!==void 0&&(Se=3);let Ae,ce,Te,Xe;if(re){const $t=sl[re];Ae=$t.vertexShader,ce=$t.fragmentShader}else Ae=O.vertexShader,ce=O.fragmentShader,u.update(O),Te=u.getVertexShaderID(O),Xe=u.getFragmentShaderID(O);const et=n.getRenderTarget(),be=n.state.buffers.depth.getReversed(),W=$.isInstancedMesh===!0,Q=$.isBatchedMesh===!0,oe=!!O.map,Ee=!!O.matcap,Me=!!Y,X=!!O.aoMap,Oe=!!O.lightMap,Ve=!!O.bumpMap,He=!!O.normalMap,Le=!!O.displacementMap,rt=!!O.emissiveMap,ke=!!O.metalnessMap,K=!!O.roughnessMap,V=O.anisotropy>0,ge=O.clearcoat>0,Re=O.dispersion>0,Ze=O.iridescence>0,ze=O.sheen>0,ct=O.transmission>0,it=V&&!!O.anisotropyMap,mt=ge&&!!O.clearcoatMap,Tt=ge&&!!O.clearcoatNormalMap,We=ge&&!!O.clearcoatRoughnessMap,ht=Ze&&!!O.iridescenceMap,xt=Ze&&!!O.iridescenceThicknessMap,At=ze&&!!O.sheenColorMap,je=ze&&!!O.sheenRoughnessMap,le=!!O.specularMap,Ne=!!O.specularColorMap,lt=!!O.specularIntensityMap,he=ct&&!!O.transmissionMap,st=ct&&!!O.thicknessMap,Ge=!!O.gradientMap,qe=!!O.alphaMap,gt=O.alphaTest>0,dt=!!O.alphaHash,Rt=!!O.extensions;let rn=cc;O.toneMapped&&(et===null||et.isXRRenderTarget===!0)&&(rn=n.toneMapping);const On={shaderID:re,shaderType:O.type,shaderName:O.name,vertexShader:Ae,fragmentShader:ce,defines:O.defines,customVertexShaderID:Te,customFragmentShaderID:Xe,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:b,batching:Q,batchingColor:Q&&$._colorsTexture!==null,instancing:W,instancingColor:W&&$.instanceColor!==null,instancingMorph:W&&$.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:et===null?n.outputColorSpace:et.isXRRenderTarget===!0?et.texture.colorSpace:Uf,alphaToCoverage:!!O.alphaToCoverage,map:oe,matcap:Ee,envMap:Me,envMapMode:Me&&Y.mapping,envMapCubeUVHeight:Z,aoMap:X,lightMap:Oe,bumpMap:Ve,normalMap:He,displacementMap:y&&Le,emissiveMap:rt,normalMapObjectSpace:He&&O.normalMapType===qU,normalMapTangentSpace:He&&O.normalMapType===kf,metalnessMap:ke,roughnessMap:K,anisotropy:V,anisotropyMap:it,clearcoat:ge,clearcoatMap:mt,clearcoatNormalMap:Tt,clearcoatRoughnessMap:We,dispersion:Re,iridescence:Ze,iridescenceMap:ht,iridescenceThicknessMap:xt,sheen:ze,sheenColorMap:At,sheenRoughnessMap:je,specularMap:le,specularColorMap:Ne,specularIntensityMap:lt,transmission:ct,transmissionMap:he,thicknessMap:st,gradientMap:Ge,opaque:O.transparent===!1&&O.blending===Md&&O.alphaToCoverage===!1,alphaMap:qe,alphaTest:gt,alphaHash:dt,combine:O.combine,mapUv:oe&&T(O.map.channel),aoMapUv:X&&T(O.aoMap.channel),lightMapUv:Oe&&T(O.lightMap.channel),bumpMapUv:Ve&&T(O.bumpMap.channel),normalMapUv:He&&T(O.normalMap.channel),displacementMapUv:Le&&T(O.displacementMap.channel),emissiveMapUv:rt&&T(O.emissiveMap.channel),metalnessMapUv:ke&&T(O.metalnessMap.channel),roughnessMapUv:K&&T(O.roughnessMap.channel),anisotropyMapUv:it&&T(O.anisotropyMap.channel),clearcoatMapUv:mt&&T(O.clearcoatMap.channel),clearcoatNormalMapUv:Tt&&T(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&T(O.clearcoatRoughnessMap.channel),iridescenceMapUv:ht&&T(O.iridescenceMap.channel),iridescenceThicknessMapUv:xt&&T(O.iridescenceThicknessMap.channel),sheenColorMapUv:At&&T(O.sheenColorMap.channel),sheenRoughnessMapUv:je&&T(O.sheenRoughnessMap.channel),specularMapUv:le&&T(O.specularMap.channel),specularColorMapUv:Ne&&T(O.specularColorMap.channel),specularIntensityMapUv:lt&&T(O.specularIntensityMap.channel),transmissionMapUv:he&&T(O.transmissionMap.channel),thicknessMapUv:st&&T(O.thicknessMap.channel),alphaMapUv:qe&&T(O.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(He||V),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!ne.attributes.uv&&(oe||qe),fog:!!se,useFog:O.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:be,skinning:$.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:Se,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:rn,decodeVideoTexture:oe&&O.map.isVideoTexture===!0&&Cn.getTransfer(O.map.colorSpace)===Zn,decodeVideoTextureEmissive:rt&&O.emissiveMap.isVideoTexture===!0&&Cn.getTransfer(O.emissiveMap.colorSpace)===Zn,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===rl,flipSided:O.side===Jr,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:Rt&&O.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rt&&O.extensions.multiDraw===!0||Q)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return On.vertexUv1s=h.has(1),On.vertexUv2s=h.has(2),On.vertexUv3s=h.has(3),h.clear(),On}function S(O){const M=[];if(O.shaderID?M.push(O.shaderID):(M.push(O.customVertexShaderID),M.push(O.customFragmentShaderID)),O.defines!==void 0)for(const H in O.defines)M.push(H),M.push(O.defines[H]);return O.isRawShaderMaterial===!1&&(B(M,O),w(M,O),M.push(n.outputColorSpace)),M.push(O.customProgramCacheKey),M.join()}function B(O,M){O.push(M.precision),O.push(M.outputColorSpace),O.push(M.envMapMode),O.push(M.envMapCubeUVHeight),O.push(M.mapUv),O.push(M.alphaMapUv),O.push(M.lightMapUv),O.push(M.aoMapUv),O.push(M.bumpMapUv),O.push(M.normalMapUv),O.push(M.displacementMapUv),O.push(M.emissiveMapUv),O.push(M.metalnessMapUv),O.push(M.roughnessMapUv),O.push(M.anisotropyMapUv),O.push(M.clearcoatMapUv),O.push(M.clearcoatNormalMapUv),O.push(M.clearcoatRoughnessMapUv),O.push(M.iridescenceMapUv),O.push(M.iridescenceThicknessMapUv),O.push(M.sheenColorMapUv),O.push(M.sheenRoughnessMapUv),O.push(M.specularMapUv),O.push(M.specularColorMapUv),O.push(M.specularIntensityMapUv),O.push(M.transmissionMapUv),O.push(M.thicknessMapUv),O.push(M.combine),O.push(M.fogExp2),O.push(M.sizeAttenuation),O.push(M.morphTargetsCount),O.push(M.morphAttributeCount),O.push(M.numDirLights),O.push(M.numPointLights),O.push(M.numSpotLights),O.push(M.numSpotLightMaps),O.push(M.numHemiLights),O.push(M.numRectAreaLights),O.push(M.numDirLightShadows),O.push(M.numPointLightShadows),O.push(M.numSpotLightShadows),O.push(M.numSpotLightShadowsWithMaps),O.push(M.numLightProbes),O.push(M.shadowMapType),O.push(M.toneMapping),O.push(M.numClippingPlanes),O.push(M.numClipIntersection),O.push(M.depthPacking)}function w(O,M){l.disableAll(),M.supportsVertexTextures&&l.enable(0),M.instancing&&l.enable(1),M.instancingColor&&l.enable(2),M.instancingMorph&&l.enable(3),M.matcap&&l.enable(4),M.envMap&&l.enable(5),M.normalMapObjectSpace&&l.enable(6),M.normalMapTangentSpace&&l.enable(7),M.clearcoat&&l.enable(8),M.iridescence&&l.enable(9),M.alphaTest&&l.enable(10),M.vertexColors&&l.enable(11),M.vertexAlphas&&l.enable(12),M.vertexUv1s&&l.enable(13),M.vertexUv2s&&l.enable(14),M.vertexUv3s&&l.enable(15),M.vertexTangents&&l.enable(16),M.anisotropy&&l.enable(17),M.alphaHash&&l.enable(18),M.batching&&l.enable(19),M.dispersion&&l.enable(20),M.batchingColor&&l.enable(21),O.push(l.mask),l.disableAll(),M.fog&&l.enable(0),M.useFog&&l.enable(1),M.flatShading&&l.enable(2),M.logarithmicDepthBuffer&&l.enable(3),M.reverseDepthBuffer&&l.enable(4),M.skinning&&l.enable(5),M.morphTargets&&l.enable(6),M.morphNormals&&l.enable(7),M.morphColors&&l.enable(8),M.premultipliedAlpha&&l.enable(9),M.shadowMapEnabled&&l.enable(10),M.doubleSided&&l.enable(11),M.flipSided&&l.enable(12),M.useDepthPacking&&l.enable(13),M.dithering&&l.enable(14),M.transmission&&l.enable(15),M.sheen&&l.enable(16),M.opaque&&l.enable(17),M.pointsUvs&&l.enable(18),M.decodeVideoTexture&&l.enable(19),M.decodeVideoTextureEmissive&&l.enable(20),M.alphaToCoverage&&l.enable(21),O.push(l.mask)}function R(O){const M=x[O.type];let H;if(M){const k=sl[M];H=lF.clone(k.uniforms)}else H=O.uniforms;return H}function L(O,M){let H;for(let k=0,$=m.length;k<$;k++){const se=m[k];if(se.cacheKey===M){H=se,++H.usedTimes;break}}return H===void 0&&(H=new ite(n,M,O,r),m.push(H)),H}function N(O){if(--O.usedTimes===0){const M=m.indexOf(O);m[M]=m[m.length-1],m.pop(),O.destroy()}}function U(O){u.remove(O)}function P(){u.dispose()}return{getParameters:A,getProgramCacheKey:S,getUniforms:R,acquireProgram:L,releaseProgram:N,releaseShaderCache:U,programs:m,dispose:P}}function lte(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let l=n.get(a);return l===void 0&&(l={},n.set(a,l)),l}function i(a){n.delete(a)}function s(a,l,u){n.get(a)[l]=u}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:s,dispose:r}}function cte(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function cN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function uN(){const n=[];let e=0;const t=[],i=[],s=[];function r(){e=0,t.length=0,i.length=0,s.length=0}function a(g,y,b,x,T,A){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:b,groupOrder:x,renderOrder:g.renderOrder,z:T,group:A},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=b,S.groupOrder=x,S.renderOrder=g.renderOrder,S.z=T,S.group=A),e++,S}function l(g,y,b,x,T,A){const S=a(g,y,b,x,T,A);b.transmission>0?i.push(S):b.transparent===!0?s.push(S):t.push(S)}function u(g,y,b,x,T,A){const S=a(g,y,b,x,T,A);b.transmission>0?i.unshift(S):b.transparent===!0?s.unshift(S):t.unshift(S)}function h(g,y){t.length>1&&t.sort(g||cte),i.length>1&&i.sort(y||cN),s.length>1&&s.sort(y||cN)}function m(){for(let g=e,y=n.length;g<y;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:s,init:r,push:l,unshift:u,finish:m,sort:h}}function ute(){let n=new WeakMap;function e(i,s){const r=n.get(i);let a;return r===void 0?(a=new uN,n.set(i,[a])):s>=r.length?(a=new uN,r.push(a)):a=r[s],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function fte(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ie,color:new yt};break;case"SpotLight":t={position:new ie,direction:new ie,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ie,color:new yt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ie,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":t={color:new yt,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return n[e.id]=t,t}}}function hte(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let dte=0;function pte(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function mte(n){const e=new fte,t=hte(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new ie);const s=new ie,r=new Lt,a=new Lt;function l(h){let m=0,g=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let b=0,x=0,T=0,A=0,S=0,B=0,w=0,R=0,L=0,N=0,U=0;h.sort(pte);for(let O=0,M=h.length;O<M;O++){const H=h[O],k=H.color,$=H.intensity,se=H.distance,ne=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=k.r*$,g+=k.g*$,y+=k.b*$;else if(H.isLightProbe){for(let z=0;z<9;z++)i.probe[z].addScaledVector(H.sh.coefficients[z],$);U++}else if(H.isDirectionalLight){const z=e.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const Y=H.shadow,Z=t.get(H);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,i.directionalShadow[b]=Z,i.directionalShadowMap[b]=ne,i.directionalShadowMatrix[b]=H.shadow.matrix,B++}i.directional[b]=z,b++}else if(H.isSpotLight){const z=e.get(H);z.position.setFromMatrixPosition(H.matrixWorld),z.color.copy(k).multiplyScalar($),z.distance=se,z.coneCos=Math.cos(H.angle),z.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),z.decay=H.decay,i.spot[T]=z;const Y=H.shadow;if(H.map&&(i.spotLightMap[L]=H.map,L++,Y.updateMatrices(H),H.castShadow&&N++),i.spotLightMatrix[T]=Y.matrix,H.castShadow){const Z=t.get(H);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,i.spotShadow[T]=Z,i.spotShadowMap[T]=ne,R++}T++}else if(H.isRectAreaLight){const z=e.get(H);z.color.copy(k).multiplyScalar($),z.halfWidth.set(H.width*.5,0,0),z.halfHeight.set(0,H.height*.5,0),i.rectArea[A]=z,A++}else if(H.isPointLight){const z=e.get(H);if(z.color.copy(H.color).multiplyScalar(H.intensity),z.distance=H.distance,z.decay=H.decay,H.castShadow){const Y=H.shadow,Z=t.get(H);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,Z.shadowCameraNear=Y.camera.near,Z.shadowCameraFar=Y.camera.far,i.pointShadow[x]=Z,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=H.shadow.matrix,w++}i.point[x]=z,x++}else if(H.isHemisphereLight){const z=e.get(H);z.skyColor.copy(H.color).multiplyScalar($),z.groundColor.copy(H.groundColor).multiplyScalar($),i.hemi[S]=z,S++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=_t.LTC_FLOAT_1,i.rectAreaLTC2=_t.LTC_FLOAT_2):(i.rectAreaLTC1=_t.LTC_HALF_1,i.rectAreaLTC2=_t.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const P=i.hash;(P.directionalLength!==b||P.pointLength!==x||P.spotLength!==T||P.rectAreaLength!==A||P.hemiLength!==S||P.numDirectionalShadows!==B||P.numPointShadows!==w||P.numSpotShadows!==R||P.numSpotMaps!==L||P.numLightProbes!==U)&&(i.directional.length=b,i.spot.length=T,i.rectArea.length=A,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=B,i.directionalShadowMap.length=B,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=B,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=R+L-N,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=U,P.directionalLength=b,P.pointLength=x,P.spotLength=T,P.rectAreaLength=A,P.hemiLength=S,P.numDirectionalShadows=B,P.numPointShadows=w,P.numSpotShadows=R,P.numSpotMaps=L,P.numLightProbes=U,i.version=dte++)}function u(h,m){let g=0,y=0,b=0,x=0,T=0;const A=m.matrixWorldInverse;for(let S=0,B=h.length;S<B;S++){const w=h[S];if(w.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(A),g++}else if(w.isSpotLight){const R=i.spot[b];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),R.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(A),b++}else if(w.isRectAreaLight){const R=i.rectArea[x];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),a.identity(),r.copy(w.matrixWorld),r.premultiply(A),a.extractRotation(r),R.halfWidth.set(w.width*.5,0,0),R.halfHeight.set(0,w.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),x++}else if(w.isPointLight){const R=i.point[y];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),y++}else if(w.isHemisphereLight){const R=i.hemi[T];R.direction.setFromMatrixPosition(w.matrixWorld),R.direction.transformDirection(A),T++}}}return{setup:l,setupView:u,state:i}}function fN(n){const e=new mte(n),t=[],i=[];function s(m){h.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function a(m){i.push(m)}function l(){e.setup(t)}function u(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:h,setupLights:l,setupLightsView:u,pushLight:r,pushShadow:a}}function gte(n){let e=new WeakMap;function t(s,r=0){const a=e.get(s);let l;return a===void 0?(l=new fN(n),e.set(s,[l])):r>=a.length?(l=new fN(n),a.push(l)):l=a[r],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const yte=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vte=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _te(n,e,t){let i=new yg;const s=new Qe,r=new Qe,a=new In,l=new ER({depthPacking:YU}),u=new MR,h={},m=t.maxTextureSize,g={[fc]:Jr,[Jr]:fc,[rl]:rl},y=new dl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:yte,fragmentShader:vte}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const x=new Zt;x.setAttribute("position",new Nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new rs(x,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=XA;let S=this.type;this.render=function(N,U,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||N.length===0)return;const O=n.getRenderTarget(),M=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),k=n.state;k.setBlending(tu),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const $=S!==il&&this.type===il,se=S===il&&this.type!==il;for(let ne=0,z=N.length;ne<z;ne++){const Y=N[ne],Z=Y.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;s.copy(Z.mapSize);const re=Z.getFrameExtents();if(s.multiply(re),r.copy(Z.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/re.x),s.x=r.x*re.x,Z.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/re.y),s.y=r.y*re.y,Z.mapSize.y=r.y)),Z.map===null||$===!0||se===!0){const ae=this.type!==il?{minFilter:ks,magFilter:ks}:{};Z.map!==null&&Z.map.dispose(),Z.map=new hc(s.x,s.y,ae),Z.map.texture.name=Y.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const j=Z.getViewportCount();for(let ae=0;ae<j;ae++){const Se=Z.getViewport(ae);a.set(r.x*Se.x,r.y*Se.y,r.x*Se.z,r.y*Se.w),k.viewport(a),Z.updateMatrices(Y,ae),i=Z.getFrustum(),R(U,P,Z.camera,Y,this.type)}Z.isPointLightShadow!==!0&&this.type===il&&B(Z,P),Z.needsUpdate=!1}S=this.type,A.needsUpdate=!1,n.setRenderTarget(O,M,H)};function B(N,U){const P=e.update(T);y.defines.VSM_SAMPLES!==N.blurSamples&&(y.defines.VSM_SAMPLES=N.blurSamples,b.defines.VSM_SAMPLES=N.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new hc(s.x,s.y)),y.uniforms.shadow_pass.value=N.map.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(U,null,P,y,T,null),b.uniforms.shadow_pass.value=N.mapPass.texture,b.uniforms.resolution.value=N.mapSize,b.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(U,null,P,b,T,null)}function w(N,U,P,O){let M=null;const H=P.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(H!==void 0)M=H;else if(M=P.isPointLight===!0?u:l,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0||U.alphaToCoverage===!0){const k=M.uuid,$=U.uuid;let se=h[k];se===void 0&&(se={},h[k]=se);let ne=se[$];ne===void 0&&(ne=M.clone(),se[$]=ne,U.addEventListener("dispose",L)),M=ne}if(M.visible=U.visible,M.wireframe=U.wireframe,O===il?M.side=U.shadowSide!==null?U.shadowSide:U.side:M.side=U.shadowSide!==null?U.shadowSide:g[U.side],M.alphaMap=U.alphaMap,M.alphaTest=U.alphaToCoverage===!0?.5:U.alphaTest,M.map=U.map,M.clipShadows=U.clipShadows,M.clippingPlanes=U.clippingPlanes,M.clipIntersection=U.clipIntersection,M.displacementMap=U.displacementMap,M.displacementScale=U.displacementScale,M.displacementBias=U.displacementBias,M.wireframeLinewidth=U.wireframeLinewidth,M.linewidth=U.linewidth,P.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const k=n.properties.get(M);k.light=P}return M}function R(N,U,P,O,M){if(N.visible===!1)return;if(N.layers.test(U.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&M===il)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,N.matrixWorld);const $=e.update(N),se=N.material;if(Array.isArray(se)){const ne=$.groups;for(let z=0,Y=ne.length;z<Y;z++){const Z=ne[z],re=se[Z.materialIndex];if(re&&re.visible){const j=w(N,re,O,M);N.onBeforeShadow(n,N,U,P,$,j,Z),n.renderBufferDirect(P,null,$,j,N,Z),N.onAfterShadow(n,N,U,P,$,j,Z)}}}else if(se.visible){const ne=w(N,se,O,M);N.onBeforeShadow(n,N,U,P,$,ne,null),n.renderBufferDirect(P,null,$,ne,N,null),N.onAfterShadow(n,N,U,P,$,ne,null)}}const k=N.children;for(let $=0,se=k.length;$<se;$++)R(k[$],U,P,O,M)}function L(N){N.target.removeEventListener("dispose",L);for(const P in h){const O=h[P],M=N.target.uuid;M in O&&(O[M].dispose(),delete O[M])}}}const bte={[yS]:vS,[_S]:SS,[bS]:AS,[Bd]:xS,[vS]:yS,[SS]:_S,[AS]:bS,[xS]:Bd};function xte(n,e){function t(){let he=!1;const st=new In;let Ge=null;const qe=new In(0,0,0,0);return{setMask:function(gt){Ge!==gt&&!he&&(n.colorMask(gt,gt,gt,gt),Ge=gt)},setLocked:function(gt){he=gt},setClear:function(gt,dt,Rt,rn,On){On===!0&&(gt*=rn,dt*=rn,Rt*=rn),st.set(gt,dt,Rt,rn),qe.equals(st)===!1&&(n.clearColor(gt,dt,Rt,rn),qe.copy(st))},reset:function(){he=!1,Ge=null,qe.set(-1,0,0,0)}}}function i(){let he=!1,st=!1,Ge=null,qe=null,gt=null;return{setReversed:function(dt){if(st!==dt){const Rt=e.get("EXT_clip_control");dt?Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.ZERO_TO_ONE_EXT):Rt.clipControlEXT(Rt.LOWER_LEFT_EXT,Rt.NEGATIVE_ONE_TO_ONE_EXT),st=dt;const rn=gt;gt=null,this.setClear(rn)}},getReversed:function(){return st},setTest:function(dt){dt?et(n.DEPTH_TEST):be(n.DEPTH_TEST)},setMask:function(dt){Ge!==dt&&!he&&(n.depthMask(dt),Ge=dt)},setFunc:function(dt){if(st&&(dt=bte[dt]),qe!==dt){switch(dt){case yS:n.depthFunc(n.NEVER);break;case vS:n.depthFunc(n.ALWAYS);break;case _S:n.depthFunc(n.LESS);break;case Bd:n.depthFunc(n.LEQUAL);break;case bS:n.depthFunc(n.EQUAL);break;case xS:n.depthFunc(n.GEQUAL);break;case SS:n.depthFunc(n.GREATER);break;case AS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}qe=dt}},setLocked:function(dt){he=dt},setClear:function(dt){gt!==dt&&(st&&(dt=1-dt),n.clearDepth(dt),gt=dt)},reset:function(){he=!1,Ge=null,qe=null,gt=null,st=!1}}}function s(){let he=!1,st=null,Ge=null,qe=null,gt=null,dt=null,Rt=null,rn=null,On=null;return{setTest:function($t){he||($t?et(n.STENCIL_TEST):be(n.STENCIL_TEST))},setMask:function($t){st!==$t&&!he&&(n.stencilMask($t),st=$t)},setFunc:function($t,Ui,ui){(Ge!==$t||qe!==Ui||gt!==ui)&&(n.stencilFunc($t,Ui,ui),Ge=$t,qe=Ui,gt=ui)},setOp:function($t,Ui,ui){(dt!==$t||Rt!==Ui||rn!==ui)&&(n.stencilOp($t,Ui,ui),dt=$t,Rt=Ui,rn=ui)},setLocked:function($t){he=$t},setClear:function($t){On!==$t&&(n.clearStencil($t),On=$t)},reset:function(){he=!1,st=null,Ge=null,qe=null,gt=null,dt=null,Rt=null,rn=null,On=null}}}const r=new t,a=new i,l=new s,u=new WeakMap,h=new WeakMap;let m={},g={},y=new WeakMap,b=[],x=null,T=!1,A=null,S=null,B=null,w=null,R=null,L=null,N=null,U=new yt(0,0,0),P=0,O=!1,M=null,H=null,k=null,$=null,se=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,Y=0;const Z=n.getParameter(n.VERSION);Z.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(Z)[1]),z=Y>=1):Z.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),z=Y>=2);let re=null,j={};const ae=n.getParameter(n.SCISSOR_BOX),Se=n.getParameter(n.VIEWPORT),Ae=new In().fromArray(ae),ce=new In().fromArray(Se);function Te(he,st,Ge,qe){const gt=new Uint8Array(4),dt=n.createTexture();n.bindTexture(he,dt),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rt=0;Rt<Ge;Rt++)he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?n.texImage3D(st,0,n.RGBA,1,1,qe,0,n.RGBA,n.UNSIGNED_BYTE,gt):n.texImage2D(st+Rt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,gt);return dt}const Xe={};Xe[n.TEXTURE_2D]=Te(n.TEXTURE_2D,n.TEXTURE_2D,1),Xe[n.TEXTURE_CUBE_MAP]=Te(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Xe[n.TEXTURE_2D_ARRAY]=Te(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Xe[n.TEXTURE_3D]=Te(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),l.setClear(0),et(n.DEPTH_TEST),a.setFunc(Bd),Ve(!1),He(nC),et(n.CULL_FACE),X(tu);function et(he){m[he]!==!0&&(n.enable(he),m[he]=!0)}function be(he){m[he]!==!1&&(n.disable(he),m[he]=!1)}function W(he,st){return g[he]!==st?(n.bindFramebuffer(he,st),g[he]=st,he===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=st),he===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=st),!0):!1}function Q(he,st){let Ge=b,qe=!1;if(he){Ge=y.get(st),Ge===void 0&&(Ge=[],y.set(st,Ge));const gt=he.textures;if(Ge.length!==gt.length||Ge[0]!==n.COLOR_ATTACHMENT0){for(let dt=0,Rt=gt.length;dt<Rt;dt++)Ge[dt]=n.COLOR_ATTACHMENT0+dt;Ge.length=gt.length,qe=!0}}else Ge[0]!==n.BACK&&(Ge[0]=n.BACK,qe=!0);qe&&n.drawBuffers(Ge)}function oe(he){return x!==he?(n.useProgram(he),x=he,!0):!1}const Ee={[Ef]:n.FUNC_ADD,[gU]:n.FUNC_SUBTRACT,[yU]:n.FUNC_REVERSE_SUBTRACT};Ee[vU]=n.MIN,Ee[_U]=n.MAX;const Me={[bU]:n.ZERO,[xU]:n.ONE,[SU]:n.SRC_COLOR,[mS]:n.SRC_ALPHA,[wU]:n.SRC_ALPHA_SATURATE,[TU]:n.DST_COLOR,[EU]:n.DST_ALPHA,[AU]:n.ONE_MINUS_SRC_COLOR,[gS]:n.ONE_MINUS_SRC_ALPHA,[CU]:n.ONE_MINUS_DST_COLOR,[MU]:n.ONE_MINUS_DST_ALPHA,[RU]:n.CONSTANT_COLOR,[BU]:n.ONE_MINUS_CONSTANT_COLOR,[DU]:n.CONSTANT_ALPHA,[IU]:n.ONE_MINUS_CONSTANT_ALPHA};function X(he,st,Ge,qe,gt,dt,Rt,rn,On,$t){if(he===tu){T===!0&&(be(n.BLEND),T=!1);return}if(T===!1&&(et(n.BLEND),T=!0),he!==mU){if(he!==A||$t!==O){if((S!==Ef||R!==Ef)&&(n.blendEquation(n.FUNC_ADD),S=Ef,R=Ef),$t)switch(he){case Md:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iC:n.blendFunc(n.ONE,n.ONE);break;case sC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rC:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Md:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iC:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case sC:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rC:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}B=null,w=null,L=null,N=null,U.set(0,0,0),P=0,A=he,O=$t}return}gt=gt||st,dt=dt||Ge,Rt=Rt||qe,(st!==S||gt!==R)&&(n.blendEquationSeparate(Ee[st],Ee[gt]),S=st,R=gt),(Ge!==B||qe!==w||dt!==L||Rt!==N)&&(n.blendFuncSeparate(Me[Ge],Me[qe],Me[dt],Me[Rt]),B=Ge,w=qe,L=dt,N=Rt),(rn.equals(U)===!1||On!==P)&&(n.blendColor(rn.r,rn.g,rn.b,On),U.copy(rn),P=On),A=he,O=!1}function Oe(he,st){he.side===rl?be(n.CULL_FACE):et(n.CULL_FACE);let Ge=he.side===Jr;st&&(Ge=!Ge),Ve(Ge),he.blending===Md&&he.transparent===!1?X(tu):X(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),a.setFunc(he.depthFunc),a.setTest(he.depthTest),a.setMask(he.depthWrite),r.setMask(he.colorWrite);const qe=he.stencilWrite;l.setTest(qe),qe&&(l.setMask(he.stencilWriteMask),l.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),l.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),rt(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?et(n.SAMPLE_ALPHA_TO_COVERAGE):be(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(he){M!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),M=he)}function He(he){he!==hU?(et(n.CULL_FACE),he!==H&&(he===nC?n.cullFace(n.BACK):he===dU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):be(n.CULL_FACE),H=he}function Le(he){he!==k&&(z&&n.lineWidth(he),k=he)}function rt(he,st,Ge){he?(et(n.POLYGON_OFFSET_FILL),($!==st||se!==Ge)&&(n.polygonOffset(st,Ge),$=st,se=Ge)):be(n.POLYGON_OFFSET_FILL)}function ke(he){he?et(n.SCISSOR_TEST):be(n.SCISSOR_TEST)}function K(he){he===void 0&&(he=n.TEXTURE0+ne-1),re!==he&&(n.activeTexture(he),re=he)}function V(he,st,Ge){Ge===void 0&&(re===null?Ge=n.TEXTURE0+ne-1:Ge=re);let qe=j[Ge];qe===void 0&&(qe={type:void 0,texture:void 0},j[Ge]=qe),(qe.type!==he||qe.texture!==st)&&(re!==Ge&&(n.activeTexture(Ge),re=Ge),n.bindTexture(he,st||Xe[he]),qe.type=he,qe.texture=st)}function ge(){const he=j[re];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Re(){try{n.compressedTexImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ze(){try{n.compressedTexImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ze(){try{n.texSubImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ct(){try{n.texSubImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function it(){try{n.compressedTexSubImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function mt(){try{n.compressedTexSubImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Tt(){try{n.texStorage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function We(){try{n.texStorage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ht(){try{n.texImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function xt(){try{n.texImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function At(he){Ae.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),Ae.copy(he))}function je(he){ce.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),ce.copy(he))}function le(he,st){let Ge=h.get(st);Ge===void 0&&(Ge=new WeakMap,h.set(st,Ge));let qe=Ge.get(he);qe===void 0&&(qe=n.getUniformBlockIndex(st,he.name),Ge.set(he,qe))}function Ne(he,st){const qe=h.get(st).get(he);u.get(st)!==qe&&(n.uniformBlockBinding(st,qe,he.__bindingPointIndex),u.set(st,qe))}function lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},re=null,j={},g={},y=new WeakMap,b=[],x=null,T=!1,A=null,S=null,B=null,w=null,R=null,L=null,N=null,U=new yt(0,0,0),P=0,O=!1,M=null,H=null,k=null,$=null,se=null,Ae.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),r.reset(),a.reset(),l.reset()}return{buffers:{color:r,depth:a,stencil:l},enable:et,disable:be,bindFramebuffer:W,drawBuffers:Q,useProgram:oe,setBlending:X,setMaterial:Oe,setFlipSided:Ve,setCullFace:He,setLineWidth:Le,setPolygonOffset:rt,setScissorTest:ke,activeTexture:K,bindTexture:V,unbindTexture:ge,compressedTexImage2D:Re,compressedTexImage3D:Ze,texImage2D:ht,texImage3D:xt,updateUBOMapping:le,uniformBlockBinding:Ne,texStorage2D:Tt,texStorage3D:We,texSubImage2D:ze,texSubImage3D:ct,compressedTexSubImage2D:it,compressedTexSubImage3D:mt,scissor:At,viewport:je,reset:lt}}function Ste(n,e,t,i,s,r,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Qe,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,V){return b?new OffscreenCanvas(K,V):ov("canvas")}function T(K,V,ge){let Re=1;const Ze=ke(K);if((Ze.width>ge||Ze.height>ge)&&(Re=ge/Math.max(Ze.width,Ze.height)),Re<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const ze=Math.floor(Re*Ze.width),ct=Math.floor(Re*Ze.height);g===void 0&&(g=x(ze,ct));const it=V?x(ze,ct):g;return it.width=ze,it.height=ct,it.getContext("2d").drawImage(K,0,0,ze,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ze.width+"x"+Ze.height+") to ("+ze+"x"+ct+")."),it}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ze.width+"x"+Ze.height+")."),K;return K}function A(K){return K.generateMipmaps}function S(K){n.generateMipmap(K)}function B(K){return K.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?n.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function w(K,V,ge,Re,Ze=!1){if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let ze=V;if(V===n.RED&&(ge===n.FLOAT&&(ze=n.R32F),ge===n.HALF_FLOAT&&(ze=n.R16F),ge===n.UNSIGNED_BYTE&&(ze=n.R8)),V===n.RED_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.R8UI),ge===n.UNSIGNED_SHORT&&(ze=n.R16UI),ge===n.UNSIGNED_INT&&(ze=n.R32UI),ge===n.BYTE&&(ze=n.R8I),ge===n.SHORT&&(ze=n.R16I),ge===n.INT&&(ze=n.R32I)),V===n.RG&&(ge===n.FLOAT&&(ze=n.RG32F),ge===n.HALF_FLOAT&&(ze=n.RG16F),ge===n.UNSIGNED_BYTE&&(ze=n.RG8)),V===n.RG_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.RG8UI),ge===n.UNSIGNED_SHORT&&(ze=n.RG16UI),ge===n.UNSIGNED_INT&&(ze=n.RG32UI),ge===n.BYTE&&(ze=n.RG8I),ge===n.SHORT&&(ze=n.RG16I),ge===n.INT&&(ze=n.RG32I)),V===n.RGB_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.RGB8UI),ge===n.UNSIGNED_SHORT&&(ze=n.RGB16UI),ge===n.UNSIGNED_INT&&(ze=n.RGB32UI),ge===n.BYTE&&(ze=n.RGB8I),ge===n.SHORT&&(ze=n.RGB16I),ge===n.INT&&(ze=n.RGB32I)),V===n.RGBA_INTEGER&&(ge===n.UNSIGNED_BYTE&&(ze=n.RGBA8UI),ge===n.UNSIGNED_SHORT&&(ze=n.RGBA16UI),ge===n.UNSIGNED_INT&&(ze=n.RGBA32UI),ge===n.BYTE&&(ze=n.RGBA8I),ge===n.SHORT&&(ze=n.RGBA16I),ge===n.INT&&(ze=n.RGBA32I)),V===n.RGB&&ge===n.UNSIGNED_INT_5_9_9_9_REV&&(ze=n.RGB9_E5),V===n.RGBA){const ct=Ze?sv:Cn.getTransfer(Re);ge===n.FLOAT&&(ze=n.RGBA32F),ge===n.HALF_FLOAT&&(ze=n.RGBA16F),ge===n.UNSIGNED_BYTE&&(ze=ct===Zn?n.SRGB8_ALPHA8:n.RGBA8),ge===n.UNSIGNED_SHORT_4_4_4_4&&(ze=n.RGBA4),ge===n.UNSIGNED_SHORT_5_5_5_1&&(ze=n.RGB5_A1)}return(ze===n.R16F||ze===n.R32F||ze===n.RG16F||ze===n.RG32F||ze===n.RGBA16F||ze===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function R(K,V){let ge;return K?V===null||V===hu||V===Ym?ge=n.DEPTH24_STENCIL8:V===pa?ge=n.DEPTH32F_STENCIL8:V===Wm&&(ge=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===hu||V===Ym?ge=n.DEPTH_COMPONENT24:V===pa?ge=n.DEPTH_COMPONENT32F:V===Wm&&(ge=n.DEPTH_COMPONENT16),ge}function L(K,V){return A(K)===!0||K.isFramebufferTexture&&K.minFilter!==ks&&K.minFilter!==ss?Math.log2(Math.max(V.width,V.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?V.mipmaps.length:1}function N(K){const V=K.target;V.removeEventListener("dispose",N),P(V),V.isVideoTexture&&m.delete(V)}function U(K){const V=K.target;V.removeEventListener("dispose",U),M(V)}function P(K){const V=i.get(K);if(V.__webglInit===void 0)return;const ge=K.source,Re=y.get(ge);if(Re){const Ze=Re[V.__cacheKey];Ze.usedTimes--,Ze.usedTimes===0&&O(K),Object.keys(Re).length===0&&y.delete(ge)}i.remove(K)}function O(K){const V=i.get(K);n.deleteTexture(V.__webglTexture);const ge=K.source,Re=y.get(ge);delete Re[V.__cacheKey],a.memory.textures--}function M(K){const V=i.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),i.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(V.__webglFramebuffer[Re]))for(let Ze=0;Ze<V.__webglFramebuffer[Re].length;Ze++)n.deleteFramebuffer(V.__webglFramebuffer[Re][Ze]);else n.deleteFramebuffer(V.__webglFramebuffer[Re]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Re])}else{if(Array.isArray(V.__webglFramebuffer))for(let Re=0;Re<V.__webglFramebuffer.length;Re++)n.deleteFramebuffer(V.__webglFramebuffer[Re]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Re=0;Re<V.__webglColorRenderbuffer.length;Re++)V.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Re]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const ge=K.textures;for(let Re=0,Ze=ge.length;Re<Ze;Re++){const ze=i.get(ge[Re]);ze.__webglTexture&&(n.deleteTexture(ze.__webglTexture),a.memory.textures--),i.remove(ge[Re])}i.remove(K)}let H=0;function k(){H=0}function $(){const K=H;return K>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+s.maxTextures),H+=1,K}function se(K){const V=[];return V.push(K.wrapS),V.push(K.wrapT),V.push(K.wrapR||0),V.push(K.magFilter),V.push(K.minFilter),V.push(K.anisotropy),V.push(K.internalFormat),V.push(K.format),V.push(K.type),V.push(K.generateMipmaps),V.push(K.premultiplyAlpha),V.push(K.flipY),V.push(K.unpackAlignment),V.push(K.colorSpace),V.join()}function ne(K,V){const ge=i.get(K);if(K.isVideoTexture&&Le(K),K.isRenderTargetTexture===!1&&K.version>0&&ge.__version!==K.version){const Re=K.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(ge,K,V);return}}t.bindTexture(n.TEXTURE_2D,ge.__webglTexture,n.TEXTURE0+V)}function z(K,V){const ge=i.get(K);if(K.version>0&&ge.__version!==K.version){ce(ge,K,V);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ge.__webglTexture,n.TEXTURE0+V)}function Y(K,V){const ge=i.get(K);if(K.version>0&&ge.__version!==K.version){ce(ge,K,V);return}t.bindTexture(n.TEXTURE_3D,ge.__webglTexture,n.TEXTURE0+V)}function Z(K,V){const ge=i.get(K);if(K.version>0&&ge.__version!==K.version){Te(ge,K,V);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+V)}const re={[Pf]:n.REPEAT,[za]:n.CLAMP_TO_EDGE,[jm]:n.MIRRORED_REPEAT},j={[ks]:n.NEAREST,[WA]:n.NEAREST_MIPMAP_NEAREST,[pd]:n.NEAREST_MIPMAP_LINEAR,[ss]:n.LINEAR,[Nm]:n.LINEAR_MIPMAP_NEAREST,[xo]:n.LINEAR_MIPMAP_LINEAR},ae={[KU]:n.NEVER,[tF]:n.ALWAYS,[JU]:n.LESS,[lR]:n.LEQUAL,[QU]:n.EQUAL,[eF]:n.GEQUAL,[ZU]:n.GREATER,[$U]:n.NOTEQUAL};function Se(K,V){if(V.type===pa&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===ss||V.magFilter===Nm||V.magFilter===pd||V.magFilter===xo||V.minFilter===ss||V.minFilter===Nm||V.minFilter===pd||V.minFilter===xo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(K,n.TEXTURE_WRAP_S,re[V.wrapS]),n.texParameteri(K,n.TEXTURE_WRAP_T,re[V.wrapT]),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,re[V.wrapR]),n.texParameteri(K,n.TEXTURE_MAG_FILTER,j[V.magFilter]),n.texParameteri(K,n.TEXTURE_MIN_FILTER,j[V.minFilter]),V.compareFunction&&(n.texParameteri(K,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(K,n.TEXTURE_COMPARE_FUNC,ae[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===ks||V.minFilter!==pd&&V.minFilter!==xo||V.type===pa&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||i.get(V).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");n.texParameterf(K,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,s.getMaxAnisotropy())),i.get(V).__currentAnisotropy=V.anisotropy}}}function Ae(K,V){let ge=!1;K.__webglInit===void 0&&(K.__webglInit=!0,V.addEventListener("dispose",N));const Re=V.source;let Ze=y.get(Re);Ze===void 0&&(Ze={},y.set(Re,Ze));const ze=se(V);if(ze!==K.__cacheKey){Ze[ze]===void 0&&(Ze[ze]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ge=!0),Ze[ze].usedTimes++;const ct=Ze[K.__cacheKey];ct!==void 0&&(Ze[K.__cacheKey].usedTimes--,ct.usedTimes===0&&O(V)),K.__cacheKey=ze,K.__webglTexture=Ze[ze].texture}return ge}function ce(K,V,ge){let Re=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Re=n.TEXTURE_3D);const Ze=Ae(K,V),ze=V.source;t.bindTexture(Re,K.__webglTexture,n.TEXTURE0+ge);const ct=i.get(ze);if(ze.version!==ct.__version||Ze===!0){t.activeTexture(n.TEXTURE0+ge);const it=Cn.getPrimaries(Cn.workingColorSpace),mt=V.colorSpace===Jc?null:Cn.getPrimaries(V.colorSpace),Tt=V.colorSpace===Jc||it===mt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);let We=T(V.image,!1,s.maxTextureSize);We=rt(V,We);const ht=r.convert(V.format,V.colorSpace),xt=r.convert(V.type);let At=w(V.internalFormat,ht,xt,V.colorSpace,V.isVideoTexture);Se(Re,V);let je;const le=V.mipmaps,Ne=V.isVideoTexture!==!0,lt=ct.__version===void 0||Ze===!0,he=ze.dataReady,st=L(V,We);if(V.isDepthTexture)At=R(V.format===Km,V.type),lt&&(Ne?t.texStorage2D(n.TEXTURE_2D,1,At,We.width,We.height):t.texImage2D(n.TEXTURE_2D,0,At,We.width,We.height,0,ht,xt,null));else if(V.isDataTexture)if(le.length>0){Ne&&lt&&t.texStorage2D(n.TEXTURE_2D,st,At,le[0].width,le[0].height);for(let Ge=0,qe=le.length;Ge<qe;Ge++)je=le[Ge],Ne?he&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,je.width,je.height,ht,xt,je.data):t.texImage2D(n.TEXTURE_2D,Ge,At,je.width,je.height,0,ht,xt,je.data);V.generateMipmaps=!1}else Ne?(lt&&t.texStorage2D(n.TEXTURE_2D,st,At,We.width,We.height),he&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,We.width,We.height,ht,xt,We.data)):t.texImage2D(n.TEXTURE_2D,0,At,We.width,We.height,0,ht,xt,We.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ne&&lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,At,le[0].width,le[0].height,We.depth);for(let Ge=0,qe=le.length;Ge<qe;Ge++)if(je=le[Ge],V.format!==Mr)if(ht!==null)if(Ne){if(he)if(V.layerUpdates.size>0){const gt=mC(je.width,je.height,V.format,V.type);for(const dt of V.layerUpdates){const Rt=je.data.subarray(dt*gt/je.data.BYTES_PER_ELEMENT,(dt+1)*gt/je.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,dt,je.width,je.height,1,ht,Rt)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,0,je.width,je.height,We.depth,ht,je.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ge,At,je.width,je.height,We.depth,0,je.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ne?he&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ge,0,0,0,je.width,je.height,We.depth,ht,xt,je.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ge,At,je.width,je.height,We.depth,0,ht,xt,je.data)}else{Ne&&lt&&t.texStorage2D(n.TEXTURE_2D,st,At,le[0].width,le[0].height);for(let Ge=0,qe=le.length;Ge<qe;Ge++)je=le[Ge],V.format!==Mr?ht!==null?Ne?he&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ge,0,0,je.width,je.height,ht,je.data):t.compressedTexImage2D(n.TEXTURE_2D,Ge,At,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?he&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,je.width,je.height,ht,xt,je.data):t.texImage2D(n.TEXTURE_2D,Ge,At,je.width,je.height,0,ht,xt,je.data)}else if(V.isDataArrayTexture)if(Ne){if(lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,At,We.width,We.height,We.depth),he)if(V.layerUpdates.size>0){const Ge=mC(We.width,We.height,V.format,V.type);for(const qe of V.layerUpdates){const gt=We.data.subarray(qe*Ge/We.data.BYTES_PER_ELEMENT,(qe+1)*Ge/We.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,qe,We.width,We.height,1,ht,xt,gt)}V.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,ht,xt,We.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,We.width,We.height,We.depth,0,ht,xt,We.data);else if(V.isData3DTexture)Ne?(lt&&t.texStorage3D(n.TEXTURE_3D,st,At,We.width,We.height,We.depth),he&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,ht,xt,We.data)):t.texImage3D(n.TEXTURE_3D,0,At,We.width,We.height,We.depth,0,ht,xt,We.data);else if(V.isFramebufferTexture){if(lt)if(Ne)t.texStorage2D(n.TEXTURE_2D,st,At,We.width,We.height);else{let Ge=We.width,qe=We.height;for(let gt=0;gt<st;gt++)t.texImage2D(n.TEXTURE_2D,gt,At,Ge,qe,0,ht,xt,null),Ge>>=1,qe>>=1}}else if(le.length>0){if(Ne&&lt){const Ge=ke(le[0]);t.texStorage2D(n.TEXTURE_2D,st,At,Ge.width,Ge.height)}for(let Ge=0,qe=le.length;Ge<qe;Ge++)je=le[Ge],Ne?he&&t.texSubImage2D(n.TEXTURE_2D,Ge,0,0,ht,xt,je):t.texImage2D(n.TEXTURE_2D,Ge,At,ht,xt,je);V.generateMipmaps=!1}else if(Ne){if(lt){const Ge=ke(We);t.texStorage2D(n.TEXTURE_2D,st,At,Ge.width,Ge.height)}he&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ht,xt,We)}else t.texImage2D(n.TEXTURE_2D,0,At,ht,xt,We);A(V)&&S(Re),ct.__version=ze.version,V.onUpdate&&V.onUpdate(V)}K.__version=V.version}function Te(K,V,ge){if(V.image.length!==6)return;const Re=Ae(K,V),Ze=V.source;t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+ge);const ze=i.get(Ze);if(Ze.version!==ze.__version||Re===!0){t.activeTexture(n.TEXTURE0+ge);const ct=Cn.getPrimaries(Cn.workingColorSpace),it=V.colorSpace===Jc?null:Cn.getPrimaries(V.colorSpace),mt=V.colorSpace===Jc||ct===it?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,mt);const Tt=V.isCompressedTexture||V.image[0].isCompressedTexture,We=V.image[0]&&V.image[0].isDataTexture,ht=[];for(let qe=0;qe<6;qe++)!Tt&&!We?ht[qe]=T(V.image[qe],!0,s.maxCubemapSize):ht[qe]=We?V.image[qe].image:V.image[qe],ht[qe]=rt(V,ht[qe]);const xt=ht[0],At=r.convert(V.format,V.colorSpace),je=r.convert(V.type),le=w(V.internalFormat,At,je,V.colorSpace),Ne=V.isVideoTexture!==!0,lt=ze.__version===void 0||Re===!0,he=Ze.dataReady;let st=L(V,xt);Se(n.TEXTURE_CUBE_MAP,V);let Ge;if(Tt){Ne&&lt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,st,le,xt.width,xt.height);for(let qe=0;qe<6;qe++){Ge=ht[qe].mipmaps;for(let gt=0;gt<Ge.length;gt++){const dt=Ge[gt];V.format!==Mr?At!==null?Ne?he&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,0,0,dt.width,dt.height,At,dt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,le,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ne?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,0,0,dt.width,dt.height,At,je,dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,le,dt.width,dt.height,0,At,je,dt.data)}}}else{if(Ge=V.mipmaps,Ne&&lt){Ge.length>0&&st++;const qe=ke(ht[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,st,le,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(We){Ne?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,ht[qe].width,ht[qe].height,At,je,ht[qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,le,ht[qe].width,ht[qe].height,0,At,je,ht[qe].data);for(let gt=0;gt<Ge.length;gt++){const Rt=Ge[gt].image[qe].image;Ne?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,0,0,Rt.width,Rt.height,At,je,Rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,le,Rt.width,Rt.height,0,At,je,Rt.data)}}else{Ne?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,At,je,ht[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,le,At,je,ht[qe]);for(let gt=0;gt<Ge.length;gt++){const dt=Ge[gt];Ne?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,0,0,At,je,dt.image[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,le,At,je,dt.image[qe])}}}A(V)&&S(n.TEXTURE_CUBE_MAP),ze.__version=Ze.version,V.onUpdate&&V.onUpdate(V)}K.__version=V.version}function Xe(K,V,ge,Re,Ze,ze){const ct=r.convert(ge.format,ge.colorSpace),it=r.convert(ge.type),mt=w(ge.internalFormat,ct,it,ge.colorSpace),Tt=i.get(V),We=i.get(ge);if(We.__renderTarget=V,!Tt.__hasExternalTextures){const ht=Math.max(1,V.width>>ze),xt=Math.max(1,V.height>>ze);Ze===n.TEXTURE_3D||Ze===n.TEXTURE_2D_ARRAY?t.texImage3D(Ze,ze,mt,ht,xt,V.depth,0,ct,it,null):t.texImage2D(Ze,ze,mt,ht,xt,0,ct,it,null)}t.bindFramebuffer(n.FRAMEBUFFER,K),He(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Ze,We.__webglTexture,0,Ve(V)):(Ze===n.TEXTURE_2D||Ze>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ze<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Ze,We.__webglTexture,ze),t.bindFramebuffer(n.FRAMEBUFFER,null)}function et(K,V,ge){if(n.bindRenderbuffer(n.RENDERBUFFER,K),V.depthBuffer){const Re=V.depthTexture,Ze=Re&&Re.isDepthTexture?Re.type:null,ze=R(V.stencilBuffer,Ze),ct=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=Ve(V);He(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,it,ze,V.width,V.height):ge?n.renderbufferStorageMultisample(n.RENDERBUFFER,it,ze,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,ze,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,K)}else{const Re=V.textures;for(let Ze=0;Ze<Re.length;Ze++){const ze=Re[Ze],ct=r.convert(ze.format,ze.colorSpace),it=r.convert(ze.type),mt=w(ze.internalFormat,ct,it,ze.colorSpace),Tt=Ve(V);ge&&He(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Tt,mt,V.width,V.height):He(V)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Tt,mt,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,mt,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function be(K,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,K),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(V.depthTexture);Re.__renderTarget=V,(!Re.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),ne(V.depthTexture,0);const Ze=Re.__webglTexture,ze=Ve(V);if(V.depthTexture.format===qm)He(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0);else if(V.depthTexture.format===Km)He(V)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0);else throw new Error("Unknown depthTexture format")}function W(K){const V=i.get(K),ge=K.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==K.depthTexture){const Re=K.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Re){const Ze=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Re.removeEventListener("dispose",Ze)};Re.addEventListener("dispose",Ze),V.__depthDisposeCallback=Ze}V.__boundDepthTexture=Re}if(K.depthTexture&&!V.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");const Re=K.texture.mipmaps;Re&&Re.length>0?be(V.__webglFramebuffer[0],K):be(V.__webglFramebuffer,K)}else if(ge){V.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Re]),V.__webglDepthbuffer[Re]===void 0)V.__webglDepthbuffer[Re]=n.createRenderbuffer(),et(V.__webglDepthbuffer[Re],K,!1);else{const Ze=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=V.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,ze)}}else{const Re=K.texture.mipmaps;if(Re&&Re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),et(V.__webglDepthbuffer,K,!1);else{const Ze=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,ze)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Q(K,V,ge){const Re=i.get(K);V!==void 0&&Xe(Re.__webglFramebuffer,K,K.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ge!==void 0&&W(K)}function oe(K){const V=K.texture,ge=i.get(K),Re=i.get(V);K.addEventListener("dispose",U);const Ze=K.textures,ze=K.isWebGLCubeRenderTarget===!0,ct=Ze.length>1;if(ct||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=V.version,a.memory.textures++),ze){ge.__webglFramebuffer=[];for(let it=0;it<6;it++)if(V.mipmaps&&V.mipmaps.length>0){ge.__webglFramebuffer[it]=[];for(let mt=0;mt<V.mipmaps.length;mt++)ge.__webglFramebuffer[it][mt]=n.createFramebuffer()}else ge.__webglFramebuffer[it]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){ge.__webglFramebuffer=[];for(let it=0;it<V.mipmaps.length;it++)ge.__webglFramebuffer[it]=n.createFramebuffer()}else ge.__webglFramebuffer=n.createFramebuffer();if(ct)for(let it=0,mt=Ze.length;it<mt;it++){const Tt=i.get(Ze[it]);Tt.__webglTexture===void 0&&(Tt.__webglTexture=n.createTexture(),a.memory.textures++)}if(K.samples>0&&He(K)===!1){ge.__webglMultisampledFramebuffer=n.createFramebuffer(),ge.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let it=0;it<Ze.length;it++){const mt=Ze[it];ge.__webglColorRenderbuffer[it]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ge.__webglColorRenderbuffer[it]);const Tt=r.convert(mt.format,mt.colorSpace),We=r.convert(mt.type),ht=w(mt.internalFormat,Tt,We,mt.colorSpace,K.isXRRenderTarget===!0),xt=Ve(K);n.renderbufferStorageMultisample(n.RENDERBUFFER,xt,ht,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,ge.__webglColorRenderbuffer[it])}n.bindRenderbuffer(n.RENDERBUFFER,null),K.depthBuffer&&(ge.__webglDepthRenderbuffer=n.createRenderbuffer(),et(ge.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ze){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),Se(n.TEXTURE_CUBE_MAP,V);for(let it=0;it<6;it++)if(V.mipmaps&&V.mipmaps.length>0)for(let mt=0;mt<V.mipmaps.length;mt++)Xe(ge.__webglFramebuffer[it][mt],K,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,mt);else Xe(ge.__webglFramebuffer[it],K,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);A(V)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let it=0,mt=Ze.length;it<mt;it++){const Tt=Ze[it],We=i.get(Tt);t.bindTexture(n.TEXTURE_2D,We.__webglTexture),Se(n.TEXTURE_2D,Tt),Xe(ge.__webglFramebuffer,K,Tt,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,0),A(Tt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let it=n.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(it=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(it,Re.__webglTexture),Se(it,V),V.mipmaps&&V.mipmaps.length>0)for(let mt=0;mt<V.mipmaps.length;mt++)Xe(ge.__webglFramebuffer[mt],K,V,n.COLOR_ATTACHMENT0,it,mt);else Xe(ge.__webglFramebuffer,K,V,n.COLOR_ATTACHMENT0,it,0);A(V)&&S(it),t.unbindTexture()}K.depthBuffer&&W(K)}function Ee(K){const V=K.textures;for(let ge=0,Re=V.length;ge<Re;ge++){const Ze=V[ge];if(A(Ze)){const ze=B(K),ct=i.get(Ze).__webglTexture;t.bindTexture(ze,ct),S(ze),t.unbindTexture()}}}const Me=[],X=[];function Oe(K){if(K.samples>0){if(He(K)===!1){const V=K.textures,ge=K.width,Re=K.height;let Ze=n.COLOR_BUFFER_BIT;const ze=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(K),it=V.length>1;if(it)for(let Tt=0;Tt<V.length;Tt++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const mt=K.texture.mipmaps;mt&&mt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Tt=0;Tt<V.length;Tt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(Ze|=n.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(Ze|=n.STENCIL_BUFFER_BIT)),it){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Tt]);const We=i.get(V[Tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,We,0)}n.blitFramebuffer(0,0,ge,Re,0,0,ge,Re,Ze,n.NEAREST),u===!0&&(Me.length=0,X.length=0,Me.push(n.COLOR_ATTACHMENT0+Tt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(Me.push(ze),X.push(ze),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,X)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Me))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),it)for(let Tt=0;Tt<V.length;Tt++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Tt]);const We=i.get(V[Tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,We,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&u){const V=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function Ve(K){return Math.min(s.maxSamples,K.samples)}function He(K){const V=i.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Le(K){const V=a.render.frame;m.get(K)!==V&&(m.set(K,V),K.update())}function rt(K,V){const ge=K.colorSpace,Re=K.format,Ze=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||ge!==Uf&&ge!==Jc&&(Cn.getTransfer(ge)===Zn?(Re!==Mr||Ze!==Eo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),V}function ke(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(h.width=K.naturalWidth||K.width,h.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(h.width=K.displayWidth,h.height=K.displayHeight):(h.width=K.width,h.height=K.height),h}this.allocateTextureUnit=$,this.resetTextureUnits=k,this.setTexture2D=ne,this.setTexture2DArray=z,this.setTexture3D=Y,this.setTextureCube=Z,this.rebindTextures=Q,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=W,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=He}function o4(n,e){function t(i,s=Jc){let r;const a=Cn.getTransfer(s);if(i===Eo)return n.UNSIGNED_BYTE;if(i===qA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===KA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===tR)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===$w)return n.BYTE;if(i===eR)return n.SHORT;if(i===Wm)return n.UNSIGNED_SHORT;if(i===YA)return n.INT;if(i===hu)return n.UNSIGNED_INT;if(i===pa)return n.FLOAT;if(i===gg)return n.HALF_FLOAT;if(i===nR)return n.ALPHA;if(i===iR)return n.RGB;if(i===Mr)return n.RGBA;if(i===qm)return n.DEPTH_COMPONENT;if(i===Km)return n.DEPTH_STENCIL;if(i===JA)return n.RED;if(i===Hv)return n.RED_INTEGER;if(i===sR)return n.RG;if(i===QA)return n.RG_INTEGER;if(i===ZA)return n.RGBA_INTEGER;if(i===C0||i===w0||i===R0||i===B0)if(a===Zn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===C0)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===w0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===R0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===B0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===C0)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===w0)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===R0)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===B0)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===ES||i===MS||i===TS||i===CS)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===ES)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===MS)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===TS)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===CS)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===wS||i===RS||i===BS)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===wS||i===RS)return a===Zn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===BS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===DS||i===IS||i===NS||i===OS||i===LS||i===PS||i===US||i===FS||i===HS||i===zS||i===GS||i===VS||i===kS||i===XS)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===DS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===IS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===NS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===OS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===LS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===PS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===US)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===FS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===HS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===zS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===GS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===VS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===kS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===XS)return a===Zn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===D0||i===jS||i===WS)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===D0)return a===Zn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===jS)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===WS)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===rR||i===YS||i===qS||i===KS)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===D0)return r.COMPRESSED_RED_RGTC1_EXT;if(i===YS)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===qS)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===KS)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Ym?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Ate=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ete=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Mte{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const s=new Mi,r=e.properties.get(s);r.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new dl({vertexShader:Ate,fragmentShader:Ete,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new rs(new vg(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Tte extends mc{constructor(e,t){super();const i=this;let s=null,r=1,a=null,l="local-floor",u=1,h=null,m=null,g=null,y=null,b=null,x=null;const T=new Mte,A=t.getContextAttributes();let S=null,B=null;const w=[],R=[],L=new Qe;let N=null;const U=new qi;U.viewport=new In;const P=new qi;P.viewport=new In;const O=[U,P],M=new JF;let H=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let Te=w[ce];return Te===void 0&&(Te=new Qx,w[ce]=Te),Te.getTargetRaySpace()},this.getControllerGrip=function(ce){let Te=w[ce];return Te===void 0&&(Te=new Qx,w[ce]=Te),Te.getGripSpace()},this.getHand=function(ce){let Te=w[ce];return Te===void 0&&(Te=new Qx,w[ce]=Te),Te.getHandSpace()};function $(ce){const Te=R.indexOf(ce.inputSource);if(Te===-1)return;const Xe=w[Te];Xe!==void 0&&(Xe.update(ce.inputSource,ce.frame,h||a),Xe.dispatchEvent({type:ce.type,data:ce.inputSource}))}function se(){s.removeEventListener("select",$),s.removeEventListener("selectstart",$),s.removeEventListener("selectend",$),s.removeEventListener("squeeze",$),s.removeEventListener("squeezestart",$),s.removeEventListener("squeezeend",$),s.removeEventListener("end",se),s.removeEventListener("inputsourceschange",ne);for(let ce=0;ce<w.length;ce++){const Te=R[ce];Te!==null&&(R[ce]=null,w[ce].disconnect(Te))}H=null,k=null,T.reset(),e.setRenderTarget(S),b=null,y=null,g=null,s=null,B=null,Ae.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){r=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){l=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(ce){h=ce},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(ce){if(s=ce,s!==null){if(S=e.getRenderTarget(),s.addEventListener("select",$),s.addEventListener("selectstart",$),s.addEventListener("selectend",$),s.addEventListener("squeeze",$),s.addEventListener("squeezestart",$),s.addEventListener("squeezeend",$),s.addEventListener("end",se),s.addEventListener("inputsourceschange",ne),A.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Xe=null,et=null,be=null;A.depth&&(be=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Xe=A.stencil?Km:qm,et=A.stencil?Ym:hu);const W={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:r};g=new XRWebGLBinding(s,t),y=g.createProjectionLayer(W),s.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),B=new hc(y.textureWidth,y.textureHeight,{format:Mr,type:Eo,depthTexture:new cE(y.textureWidth,y.textureHeight,et,void 0,void 0,void 0,void 0,void 0,void 0,Xe),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Xe={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(s,t,Xe),s.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),B=new hc(b.framebufferWidth,b.framebufferHeight,{format:Mr,type:Eo,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}B.isXRRenderTarget=!0,this.setFoveation(u),h=null,a=await s.requestReferenceSpace(l),Ae.setContext(s),Ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function ne(ce){for(let Te=0;Te<ce.removed.length;Te++){const Xe=ce.removed[Te],et=R.indexOf(Xe);et>=0&&(R[et]=null,w[et].disconnect(Xe))}for(let Te=0;Te<ce.added.length;Te++){const Xe=ce.added[Te];let et=R.indexOf(Xe);if(et===-1){for(let W=0;W<w.length;W++)if(W>=R.length){R.push(Xe),et=W;break}else if(R[W]===null){R[W]=Xe,et=W;break}if(et===-1)break}const be=w[et];be&&be.connect(Xe)}}const z=new ie,Y=new ie;function Z(ce,Te,Xe){z.setFromMatrixPosition(Te.matrixWorld),Y.setFromMatrixPosition(Xe.matrixWorld);const et=z.distanceTo(Y),be=Te.projectionMatrix.elements,W=Xe.projectionMatrix.elements,Q=be[14]/(be[10]-1),oe=be[14]/(be[10]+1),Ee=(be[9]+1)/be[5],Me=(be[9]-1)/be[5],X=(be[8]-1)/be[0],Oe=(W[8]+1)/W[0],Ve=Q*X,He=Q*Oe,Le=et/(-X+Oe),rt=Le*-X;if(Te.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(rt),ce.translateZ(Le),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),be[10]===-1)ce.projectionMatrix.copy(Te.projectionMatrix),ce.projectionMatrixInverse.copy(Te.projectionMatrixInverse);else{const ke=Q+Le,K=oe+Le,V=Ve-rt,ge=He+(et-rt),Re=Ee*oe/K*ke,Ze=Me*oe/K*ke;ce.projectionMatrix.makePerspective(V,ge,Re,Ze,ke,K),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function re(ce,Te){Te===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(Te.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(s===null)return;let Te=ce.near,Xe=ce.far;T.texture!==null&&(T.depthNear>0&&(Te=T.depthNear),T.depthFar>0&&(Xe=T.depthFar)),M.near=P.near=U.near=Te,M.far=P.far=U.far=Xe,(H!==M.near||k!==M.far)&&(s.updateRenderState({depthNear:M.near,depthFar:M.far}),H=M.near,k=M.far),U.layers.mask=ce.layers.mask|2,P.layers.mask=ce.layers.mask|4,M.layers.mask=U.layers.mask|P.layers.mask;const et=ce.parent,be=M.cameras;re(M,et);for(let W=0;W<be.length;W++)re(be[W],et);be.length===2?Z(M,U,P):M.projectionMatrix.copy(U.projectionMatrix),j(ce,M,et)};function j(ce,Te,Xe){Xe===null?ce.matrix.copy(Te.matrixWorld):(ce.matrix.copy(Xe.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(Te.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(Te.projectionMatrix),ce.projectionMatrixInverse.copy(Te.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Zm*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(y===null&&b===null))return u},this.setFoveation=function(ce){u=ce,y!==null&&(y.fixedFoveation=ce),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ce)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(M)};let ae=null;function Se(ce,Te){if(m=Te.getViewerPose(h||a),x=Te,m!==null){const Xe=m.views;b!==null&&(e.setRenderTargetFramebuffer(B,b.framebuffer),e.setRenderTarget(B));let et=!1;Xe.length!==M.cameras.length&&(M.cameras.length=0,et=!0);for(let Q=0;Q<Xe.length;Q++){const oe=Xe[Q];let Ee=null;if(b!==null)Ee=b.getViewport(oe);else{const X=g.getViewSubImage(y,oe);Ee=X.viewport,Q===0&&(e.setRenderTargetTextures(B,X.colorTexture,X.depthStencilTexture),e.setRenderTarget(B))}let Me=O[Q];Me===void 0&&(Me=new qi,Me.layers.enable(Q),Me.viewport=new In,O[Q]=Me),Me.matrix.fromArray(oe.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(oe.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),Q===0&&(M.matrix.copy(Me.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),et===!0&&M.cameras.push(Me)}const be=s.enabledFeatures;if(be&&be.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){const Q=g.getDepthInformation(Xe[0]);Q&&Q.isValid&&Q.texture&&T.init(e,Q,s.renderState)}}for(let Xe=0;Xe<w.length;Xe++){const et=R[Xe],be=w[Xe];et!==null&&be!==void 0&&be.update(et,Te,h||a)}ae&&ae(ce,Te),Te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Te}),x=null}const Ae=new n4;Ae.setAnimationLoop(Se),this.setAnimationLoop=function(ce){ae=ce},this.dispose=function(){}}}const $h=new ja,Cte=new Lt;function wte(n,e){function t(A,S){A.matrixAutoUpdate===!0&&A.updateMatrix(),S.value.copy(A.matrix)}function i(A,S){S.color.getRGB(A.fogColor.value,oF(n)),S.isFog?(A.fogNear.value=S.near,A.fogFar.value=S.far):S.isFogExp2&&(A.fogDensity.value=S.density)}function s(A,S,B,w,R){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(A,S):S.isMeshToonMaterial?(r(A,S),g(A,S)):S.isMeshPhongMaterial?(r(A,S),m(A,S)):S.isMeshStandardMaterial?(r(A,S),y(A,S),S.isMeshPhysicalMaterial&&b(A,S,R)):S.isMeshMatcapMaterial?(r(A,S),x(A,S)):S.isMeshDepthMaterial?r(A,S):S.isMeshDistanceMaterial?(r(A,S),T(A,S)):S.isMeshNormalMaterial?r(A,S):S.isLineBasicMaterial?(a(A,S),S.isLineDashedMaterial&&l(A,S)):S.isPointsMaterial?u(A,S,B,w):S.isSpriteMaterial?h(A,S):S.isShadowMaterial?(A.color.value.copy(S.color),A.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(A,S){A.opacity.value=S.opacity,S.color&&A.diffuse.value.copy(S.color),S.emissive&&A.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.bumpMap&&(A.bumpMap.value=S.bumpMap,t(S.bumpMap,A.bumpMapTransform),A.bumpScale.value=S.bumpScale,S.side===Jr&&(A.bumpScale.value*=-1)),S.normalMap&&(A.normalMap.value=S.normalMap,t(S.normalMap,A.normalMapTransform),A.normalScale.value.copy(S.normalScale),S.side===Jr&&A.normalScale.value.negate()),S.displacementMap&&(A.displacementMap.value=S.displacementMap,t(S.displacementMap,A.displacementMapTransform),A.displacementScale.value=S.displacementScale,A.displacementBias.value=S.displacementBias),S.emissiveMap&&(A.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,A.emissiveMapTransform)),S.specularMap&&(A.specularMap.value=S.specularMap,t(S.specularMap,A.specularMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest);const B=e.get(S),w=B.envMap,R=B.envMapRotation;w&&(A.envMap.value=w,$h.copy(R),$h.x*=-1,$h.y*=-1,$h.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&($h.y*=-1,$h.z*=-1),A.envMapRotation.value.setFromMatrix4(Cte.makeRotationFromEuler($h)),A.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=S.reflectivity,A.ior.value=S.ior,A.refractionRatio.value=S.refractionRatio),S.lightMap&&(A.lightMap.value=S.lightMap,A.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,A.lightMapTransform)),S.aoMap&&(A.aoMap.value=S.aoMap,A.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,A.aoMapTransform))}function a(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform))}function l(A,S){A.dashSize.value=S.dashSize,A.totalSize.value=S.dashSize+S.gapSize,A.scale.value=S.scale}function u(A,S,B,w){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.size.value=S.size*B,A.scale.value=w*.5,S.map&&(A.map.value=S.map,t(S.map,A.uvTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function h(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.rotation.value=S.rotation,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function m(A,S){A.specular.value.copy(S.specular),A.shininess.value=Math.max(S.shininess,1e-4)}function g(A,S){S.gradientMap&&(A.gradientMap.value=S.gradientMap)}function y(A,S){A.metalness.value=S.metalness,S.metalnessMap&&(A.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,A.metalnessMapTransform)),A.roughness.value=S.roughness,S.roughnessMap&&(A.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,A.roughnessMapTransform)),S.envMap&&(A.envMapIntensity.value=S.envMapIntensity)}function b(A,S,B){A.ior.value=S.ior,S.sheen>0&&(A.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),A.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(A.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,A.sheenColorMapTransform)),S.sheenRoughnessMap&&(A.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,A.sheenRoughnessMapTransform))),S.clearcoat>0&&(A.clearcoat.value=S.clearcoat,A.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(A.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,A.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(A.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Jr&&A.clearcoatNormalScale.value.negate())),S.dispersion>0&&(A.dispersion.value=S.dispersion),S.iridescence>0&&(A.iridescence.value=S.iridescence,A.iridescenceIOR.value=S.iridescenceIOR,A.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(A.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,A.iridescenceMapTransform)),S.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),S.transmission>0&&(A.transmission.value=S.transmission,A.transmissionSamplerMap.value=B.texture,A.transmissionSamplerSize.value.set(B.width,B.height),S.transmissionMap&&(A.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,A.transmissionMapTransform)),A.thickness.value=S.thickness,S.thicknessMap&&(A.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=S.attenuationDistance,A.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(A.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(A.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=S.specularIntensity,A.specularColor.value.copy(S.specularColor),S.specularColorMap&&(A.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,A.specularColorMapTransform)),S.specularIntensityMap&&(A.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,A.specularIntensityMapTransform))}function x(A,S){S.matcap&&(A.matcap.value=S.matcap)}function T(A,S){const B=e.get(S).light;A.referencePosition.value.setFromMatrixPosition(B.matrixWorld),A.nearDistance.value=B.shadow.camera.near,A.farDistance.value=B.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function Rte(n,e,t,i){let s={},r={},a=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(B,w){const R=w.program;i.uniformBlockBinding(B,R)}function h(B,w){let R=s[B.id];R===void 0&&(x(B),R=m(B),s[B.id]=R,B.addEventListener("dispose",A));const L=w.program;i.updateUBOMapping(B,L);const N=e.render.frame;r[B.id]!==N&&(y(B),r[B.id]=N)}function m(B){const w=g();B.__bindingPointIndex=w;const R=n.createBuffer(),L=B.__size,N=B.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,L,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,R),R}function g(){for(let B=0;B<l;B++)if(a.indexOf(B)===-1)return a.push(B),B;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(B){const w=s[B.id],R=B.uniforms,L=B.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let N=0,U=R.length;N<U;N++){const P=Array.isArray(R[N])?R[N]:[R[N]];for(let O=0,M=P.length;O<M;O++){const H=P[O];if(b(H,N,O,L)===!0){const k=H.__offset,$=Array.isArray(H.value)?H.value:[H.value];let se=0;for(let ne=0;ne<$.length;ne++){const z=$[ne],Y=T(z);typeof z=="number"||typeof z=="boolean"?(H.__data[0]=z,n.bufferSubData(n.UNIFORM_BUFFER,k+se,H.__data)):z.isMatrix3?(H.__data[0]=z.elements[0],H.__data[1]=z.elements[1],H.__data[2]=z.elements[2],H.__data[3]=0,H.__data[4]=z.elements[3],H.__data[5]=z.elements[4],H.__data[6]=z.elements[5],H.__data[7]=0,H.__data[8]=z.elements[6],H.__data[9]=z.elements[7],H.__data[10]=z.elements[8],H.__data[11]=0):(z.toArray(H.__data,se),se+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,k,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(B,w,R,L){const N=B.value,U=w+"_"+R;if(L[U]===void 0)return typeof N=="number"||typeof N=="boolean"?L[U]=N:L[U]=N.clone(),!0;{const P=L[U];if(typeof N=="number"||typeof N=="boolean"){if(P!==N)return L[U]=N,!0}else if(P.equals(N)===!1)return P.copy(N),!0}return!1}function x(B){const w=B.uniforms;let R=0;const L=16;for(let U=0,P=w.length;U<P;U++){const O=Array.isArray(w[U])?w[U]:[w[U]];for(let M=0,H=O.length;M<H;M++){const k=O[M],$=Array.isArray(k.value)?k.value:[k.value];for(let se=0,ne=$.length;se<ne;se++){const z=$[se],Y=T(z),Z=R%L,re=Z%Y.boundary,j=Z+re;R+=re,j!==0&&L-j<Y.storage&&(R+=L-j),k.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=R,R+=Y.storage}}}const N=R%L;return N>0&&(R+=L-N),B.__size=R,B.__cache={},this}function T(B){const w={boundary:0,storage:0};return typeof B=="number"||typeof B=="boolean"?(w.boundary=4,w.storage=4):B.isVector2?(w.boundary=8,w.storage=8):B.isVector3||B.isColor?(w.boundary=16,w.storage=12):B.isVector4?(w.boundary=16,w.storage=16):B.isMatrix3?(w.boundary=48,w.storage=48):B.isMatrix4?(w.boundary=64,w.storage=64):B.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",B),w}function A(B){const w=B.target;w.removeEventListener("dispose",A);const R=a.indexOf(w.__bindingPointIndex);a.splice(R,1),n.deleteBuffer(s[w.id]),delete s[w.id],delete r[w.id]}function S(){for(const B in s)n.deleteBuffer(s[B]);a=[],s={},r={}}return{bind:u,update:h,dispose:S}}class l4{constructor(e={}){const{canvas:t=sF(),context:i=null,depth:s=!0,stencil:r=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=a;const x=new Uint32Array(4),T=new Int32Array(4);let A=null,S=null;const B=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=cc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let L=!1;this._outputColorSpace=xr;let N=0,U=0,P=null,O=-1,M=null;const H=new In,k=new In;let $=null;const se=new yt(0);let ne=0,z=t.width,Y=t.height,Z=1,re=null,j=null;const ae=new In(0,0,z,Y),Se=new In(0,0,z,Y);let Ae=!1;const ce=new yg;let Te=!1,Xe=!1;const et=new Lt,be=new Lt,W=new ie,Q=new In,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ee=!1;function Me(){return P===null?Z:1}let X=i;function Oe(J,me){return t.getContext(J,me)}try{const J={alpha:!0,depth:s,stencil:r,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Uv}`),t.addEventListener("webglcontextlost",qe,!1),t.addEventListener("webglcontextrestored",gt,!1),t.addEventListener("webglcontextcreationerror",dt,!1),X===null){const me="webgl2";if(X=Oe(me,J),X===null)throw Oe(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Ve,He,Le,rt,ke,K,V,ge,Re,Ze,ze,ct,it,mt,Tt,We,ht,xt,At,je,le,Ne,lt,he;function st(){Ve=new G$(X),Ve.init(),Ne=new o4(X,Ve),He=new O$(X,Ve,e,Ne),Le=new xte(X,Ve),He.reverseDepthBuffer&&y&&Le.buffers.depth.setReversed(!0),rt=new X$(X),ke=new lte,K=new Ste(X,Ve,Le,ke,He,Ne,rt),V=new P$(R),ge=new z$(R),Re=new JJ(X),lt=new I$(X,Re),Ze=new V$(X,Re,rt,lt),ze=new W$(X,Ze,Re,rt),At=new j$(X,He,K),We=new L$(ke),ct=new ote(R,V,ge,Ve,He,lt,We),it=new wte(R,ke),mt=new ute,Tt=new gte(Ve),xt=new D$(R,V,ge,Le,ze,b,u),ht=new _te(R,ze,He),he=new Rte(X,rt,He,Le),je=new N$(X,Ve,rt),le=new k$(X,Ve,rt),rt.programs=ct.programs,R.capabilities=He,R.extensions=Ve,R.properties=ke,R.renderLists=mt,R.shadowMap=ht,R.state=Le,R.info=rt}st();const Ge=new Tte(R,X);this.xr=Ge,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const J=Ve.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Ve.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(J){J!==void 0&&(Z=J,this.setSize(z,Y,!1))},this.getSize=function(J){return J.set(z,Y)},this.setSize=function(J,me,Ie=!0){if(Ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=J,Y=me,t.width=Math.floor(J*Z),t.height=Math.floor(me*Z),Ie===!0&&(t.style.width=J+"px",t.style.height=me+"px"),this.setViewport(0,0,J,me)},this.getDrawingBufferSize=function(J){return J.set(z*Z,Y*Z).floor()},this.setDrawingBufferSize=function(J,me,Ie){z=J,Y=me,Z=Ie,t.width=Math.floor(J*Ie),t.height=Math.floor(me*Ie),this.setViewport(0,0,J,me)},this.getCurrentViewport=function(J){return J.copy(H)},this.getViewport=function(J){return J.copy(ae)},this.setViewport=function(J,me,Ie,Pe){J.isVector4?ae.set(J.x,J.y,J.z,J.w):ae.set(J,me,Ie,Pe),Le.viewport(H.copy(ae).multiplyScalar(Z).round())},this.getScissor=function(J){return J.copy(Se)},this.setScissor=function(J,me,Ie,Pe){J.isVector4?Se.set(J.x,J.y,J.z,J.w):Se.set(J,me,Ie,Pe),Le.scissor(k.copy(Se).multiplyScalar(Z).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(J){Le.setScissorTest(Ae=J)},this.setOpaqueSort=function(J){re=J},this.setTransparentSort=function(J){j=J},this.getClearColor=function(J){return J.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor(...arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha(...arguments)},this.clear=function(J=!0,me=!0,Ie=!0){let Pe=0;if(J){let ve=!1;if(P!==null){const nt=P.texture.format;ve=nt===ZA||nt===QA||nt===Hv}if(ve){const nt=P.texture.type,ft=nt===Eo||nt===hu||nt===Wm||nt===Ym||nt===qA||nt===KA,pt=xt.getClearColor(),St=xt.getClearAlpha(),Ft=pt.r,Dt=pt.g,Ct=pt.b;ft?(x[0]=Ft,x[1]=Dt,x[2]=Ct,x[3]=St,X.clearBufferuiv(X.COLOR,0,x)):(T[0]=Ft,T[1]=Dt,T[2]=Ct,T[3]=St,X.clearBufferiv(X.COLOR,0,T))}else Pe|=X.COLOR_BUFFER_BIT}me&&(Pe|=X.DEPTH_BUFFER_BIT),Ie&&(Pe|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(Pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",qe,!1),t.removeEventListener("webglcontextrestored",gt,!1),t.removeEventListener("webglcontextcreationerror",dt,!1),xt.dispose(),mt.dispose(),Tt.dispose(),ke.dispose(),V.dispose(),ge.dispose(),ze.dispose(),lt.dispose(),he.dispose(),ct.dispose(),Ge.dispose(),Ge.removeEventListener("sessionstart",Fi),Ge.removeEventListener("sessionend",Qi),Is.stop()};function qe(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const J=rt.autoReset,me=ht.enabled,Ie=ht.autoUpdate,Pe=ht.needsUpdate,ve=ht.type;st(),rt.autoReset=J,ht.enabled=me,ht.autoUpdate=Ie,ht.needsUpdate=Pe,ht.type=ve}function dt(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Rt(J){const me=J.target;me.removeEventListener("dispose",Rt),rn(me)}function rn(J){On(J),ke.remove(J)}function On(J){const me=ke.get(J).programs;me!==void 0&&(me.forEach(function(Ie){ct.releaseProgram(Ie)}),J.isShaderMaterial&&ct.releaseShaderCache(J))}this.renderBufferDirect=function(J,me,Ie,Pe,ve,nt){me===null&&(me=oe);const ft=ve.isMesh&&ve.matrixWorld.determinant()<0,pt=yl(J,me,Ie,Pe,ve);Le.setMaterial(Pe,ft);let St=Ie.index,Ft=1;if(Pe.wireframe===!0){if(St=Ze.getWireframeAttribute(Ie),St===void 0)return;Ft=2}const Dt=Ie.drawRange,Ct=Ie.attributes.position;let ln=Dt.start*Ft,En=(Dt.start+Dt.count)*Ft;nt!==null&&(ln=Math.max(ln,nt.start*Ft),En=Math.min(En,(nt.start+nt.count)*Ft)),St!==null?(ln=Math.max(ln,0),En=Math.min(En,St.count)):Ct!=null&&(ln=Math.max(ln,0),En=Math.min(En,Ct.count));const fi=En-ln;if(fi<0||fi===1/0)return;lt.setup(ve,Pe,pt,Ie,St);let un,dn=je;if(St!==null&&(un=Re.get(St),dn=le,dn.setIndex(un)),ve.isMesh)Pe.wireframe===!0?(Le.setLineWidth(Pe.wireframeLinewidth*Me()),dn.setMode(X.LINES)):dn.setMode(X.TRIANGLES);else if(ve.isLine){let It=Pe.linewidth;It===void 0&&(It=1),Le.setLineWidth(It*Me()),ve.isLineSegments?dn.setMode(X.LINES):ve.isLineLoop?dn.setMode(X.LINE_LOOP):dn.setMode(X.LINE_STRIP)}else ve.isPoints?dn.setMode(X.POINTS):ve.isSprite&&dn.setMode(X.TRIANGLES);if(ve.isBatchedMesh)if(ve._multiDrawInstances!==null)Jx("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),dn.renderMultiDrawInstances(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount,ve._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))dn.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else{const It=ve._multiDrawStarts,mi=ve._multiDrawCounts,xn=ve._multiDrawCount,ys=St?Re.get(St).bytesPerElement:1,Ya=ke.get(Pe).currentProgram.getUniforms();for(let Yn=0;Yn<xn;Yn++)Ya.setValue(X,"_gl_DrawID",Yn),dn.render(It[Yn]/ys,mi[Yn])}else if(ve.isInstancedMesh)dn.renderInstances(ln,fi,ve.count);else if(Ie.isInstancedBufferGeometry){const It=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,mi=Math.min(Ie.instanceCount,It);dn.renderInstances(ln,fi,mi)}else dn.render(ln,fi)};function $t(J,me,Ie){J.transparent===!0&&J.side===rl&&J.forceSinglePass===!1?(J.side=Jr,J.needsUpdate=!0,kn(J,me,Ie),J.side=fc,J.needsUpdate=!0,kn(J,me,Ie),J.side=rl):kn(J,me,Ie)}this.compile=function(J,me,Ie=null){Ie===null&&(Ie=J),S=Tt.get(Ie),S.init(me),w.push(S),Ie.traverseVisible(function(ve){ve.isLight&&ve.layers.test(me.layers)&&(S.pushLight(ve),ve.castShadow&&S.pushShadow(ve))}),J!==Ie&&J.traverseVisible(function(ve){ve.isLight&&ve.layers.test(me.layers)&&(S.pushLight(ve),ve.castShadow&&S.pushShadow(ve))}),S.setupLights();const Pe=new Set;return J.traverse(function(ve){if(!(ve.isMesh||ve.isPoints||ve.isLine||ve.isSprite))return;const nt=ve.material;if(nt)if(Array.isArray(nt))for(let ft=0;ft<nt.length;ft++){const pt=nt[ft];$t(pt,Ie,ve),Pe.add(pt)}else $t(nt,Ie,ve),Pe.add(nt)}),S=w.pop(),Pe},this.compileAsync=function(J,me,Ie=null){const Pe=this.compile(J,me,Ie);return new Promise(ve=>{function nt(){if(Pe.forEach(function(ft){ke.get(ft).currentProgram.isReady()&&Pe.delete(ft)}),Pe.size===0){ve(J);return}setTimeout(nt,10)}Ve.get("KHR_parallel_shader_compile")!==null?nt():setTimeout(nt,10)})};let Ui=null;function ui(J){Ui&&Ui(J)}function Fi(){Is.stop()}function Qi(){Is.start()}const Is=new n4;Is.setAnimationLoop(ui),typeof self<"u"&&Is.setContext(self),this.setAnimationLoop=function(J){Ui=J,Ge.setAnimationLoop(J),J===null?Is.stop():Is.start()},Ge.addEventListener("sessionstart",Fi),Ge.addEventListener("sessionend",Qi),this.render=function(J,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Ge.enabled===!0&&Ge.isPresenting===!0&&(Ge.cameraAutoUpdate===!0&&Ge.updateCamera(me),me=Ge.getCamera()),J.isScene===!0&&J.onBeforeRender(R,J,me,P),S=Tt.get(J,w.length),S.init(me),w.push(S),be.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),ce.setFromProjectionMatrix(be),Xe=this.localClippingEnabled,Te=We.init(this.clippingPlanes,Xe),A=mt.get(J,B.length),A.init(),B.push(A),Ge.enabled===!0&&Ge.isPresenting===!0){const nt=R.xr.getDepthSensingMesh();nt!==null&&ar(nt,me,-1/0,R.sortObjects)}ar(J,me,0,R.sortObjects),A.finish(),R.sortObjects===!0&&A.sort(re,j),Ee=Ge.enabled===!1||Ge.isPresenting===!1||Ge.hasDepthSensing()===!1,Ee&&xt.addToRenderList(A,J),this.info.render.frame++,Te===!0&&We.beginShadows();const Ie=S.state.shadowsArray;ht.render(Ie,J,me),Te===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset();const Pe=A.opaque,ve=A.transmissive;if(S.setupLights(),me.isArrayCamera){const nt=me.cameras;if(ve.length>0)for(let ft=0,pt=nt.length;ft<pt;ft++){const St=nt[ft];ba(Pe,ve,J,St)}Ee&&xt.render(J);for(let ft=0,pt=nt.length;ft<pt;ft++){const St=nt[ft];Wf(A,J,St,St.viewport)}}else ve.length>0&&ba(Pe,ve,J,me),Ee&&xt.render(J),Wf(A,J,me);P!==null&&U===0&&(K.updateMultisampleRenderTarget(P),K.updateRenderTargetMipmap(P)),J.isScene===!0&&J.onAfterRender(R,J,me),lt.resetDefaultState(),O=-1,M=null,w.pop(),w.length>0?(S=w[w.length-1],Te===!0&&We.setGlobalState(R.clippingPlanes,S.state.camera)):S=null,B.pop(),B.length>0?A=B[B.length-1]:A=null};function ar(J,me,Ie,Pe){if(J.visible===!1)return;if(J.layers.test(me.layers)){if(J.isGroup)Ie=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(me);else if(J.isLight)S.pushLight(J),J.castShadow&&S.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||ce.intersectsSprite(J)){Pe&&Q.setFromMatrixPosition(J.matrixWorld).applyMatrix4(be);const ft=ze.update(J),pt=J.material;pt.visible&&A.push(J,ft,pt,Ie,Q.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||ce.intersectsObject(J))){const ft=ze.update(J),pt=J.material;if(Pe&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),Q.copy(J.boundingSphere.center)):(ft.boundingSphere===null&&ft.computeBoundingSphere(),Q.copy(ft.boundingSphere.center)),Q.applyMatrix4(J.matrixWorld).applyMatrix4(be)),Array.isArray(pt)){const St=ft.groups;for(let Ft=0,Dt=St.length;Ft<Dt;Ft++){const Ct=St[Ft],ln=pt[Ct.materialIndex];ln&&ln.visible&&A.push(J,ft,ln,Ie,Q.z,Ct)}}else pt.visible&&A.push(J,ft,pt,Ie,Q.z,null)}}const nt=J.children;for(let ft=0,pt=nt.length;ft<pt;ft++)ar(nt[ft],me,Ie,Pe)}function Wf(J,me,Ie,Pe){const ve=J.opaque,nt=J.transmissive,ft=J.transparent;S.setupLightsView(Ie),Te===!0&&We.setGlobalState(R.clippingPlanes,Ie),Pe&&Le.viewport(H.copy(Pe)),ve.length>0&&Ws(ve,me,Ie),nt.length>0&&Ws(nt,me,Ie),ft.length>0&&Ws(ft,me,Ie),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function ba(J,me,Ie,Pe){if((Ie.isScene===!0?Ie.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Pe.id]===void 0&&(S.state.transmissionRenderTarget[Pe.id]=new hc(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?gg:Eo,minFilter:xo,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Cn.workingColorSpace}));const nt=S.state.transmissionRenderTarget[Pe.id],ft=Pe.viewport||H;nt.setSize(ft.z*R.transmissionResolutionScale,ft.w*R.transmissionResolutionScale);const pt=R.getRenderTarget();R.setRenderTarget(nt),R.getClearColor(se),ne=R.getClearAlpha(),ne<1&&R.setClearColor(16777215,.5),R.clear(),Ee&&xt.render(Ie);const St=R.toneMapping;R.toneMapping=cc;const Ft=Pe.viewport;if(Pe.viewport!==void 0&&(Pe.viewport=void 0),S.setupLightsView(Pe),Te===!0&&We.setGlobalState(R.clippingPlanes,Pe),Ws(J,Ie,Pe),K.updateMultisampleRenderTarget(nt),K.updateRenderTargetMipmap(nt),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let Dt=!1;for(let Ct=0,ln=me.length;Ct<ln;Ct++){const En=me[Ct],fi=En.object,un=En.geometry,dn=En.material,It=En.group;if(dn.side===rl&&fi.layers.test(Pe.layers)){const mi=dn.side;dn.side=Jr,dn.needsUpdate=!0,xa(fi,Ie,Pe,un,dn,It),dn.side=mi,dn.needsUpdate=!0,Dt=!0}}Dt===!0&&(K.updateMultisampleRenderTarget(nt),K.updateRenderTargetMipmap(nt))}R.setRenderTarget(pt),R.setClearColor(se,ne),Ft!==void 0&&(Pe.viewport=Ft),R.toneMapping=St}function Ws(J,me,Ie){const Pe=me.isScene===!0?me.overrideMaterial:null;for(let ve=0,nt=J.length;ve<nt;ve++){const ft=J[ve],pt=ft.object,St=ft.geometry,Ft=ft.group;let Dt=ft.material;Dt.allowOverride===!0&&Pe!==null&&(Dt=Pe),pt.layers.test(Ie.layers)&&xa(pt,me,Ie,St,Dt,Ft)}}function xa(J,me,Ie,Pe,ve,nt){J.onBeforeRender(R,me,Ie,Pe,ve,nt),J.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),ve.onBeforeRender(R,me,Ie,Pe,J,nt),ve.transparent===!0&&ve.side===rl&&ve.forceSinglePass===!1?(ve.side=Jr,ve.needsUpdate=!0,R.renderBufferDirect(Ie,me,Pe,ve,J,nt),ve.side=fc,ve.needsUpdate=!0,R.renderBufferDirect(Ie,me,Pe,ve,J,nt),ve.side=rl):R.renderBufferDirect(Ie,me,Pe,ve,J,nt),J.onAfterRender(R,me,Ie,Pe,ve,nt)}function kn(J,me,Ie){me.isScene!==!0&&(me=oe);const Pe=ke.get(J),ve=S.state.lights,nt=S.state.shadowsArray,ft=ve.state.version,pt=ct.getParameters(J,ve.state,nt,me,Ie),St=ct.getProgramCacheKey(pt);let Ft=Pe.programs;Pe.environment=J.isMeshStandardMaterial?me.environment:null,Pe.fog=me.fog,Pe.envMap=(J.isMeshStandardMaterial?ge:V).get(J.envMap||Pe.environment),Pe.envMapRotation=Pe.environment!==null&&J.envMap===null?me.environmentRotation:J.envMapRotation,Ft===void 0&&(J.addEventListener("dispose",Rt),Ft=new Map,Pe.programs=Ft);let Dt=Ft.get(St);if(Dt!==void 0){if(Pe.currentProgram===Dt&&Pe.lightsStateVersion===ft)return Aa(J,pt),Dt}else pt.uniforms=ct.getUniforms(J),J.onBeforeCompile(pt,R),Dt=ct.acquireProgram(pt,St),Ft.set(St,Dt),Pe.uniforms=pt.uniforms;const Ct=Pe.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Ct.clippingPlanes=We.uniform),Aa(J,pt),Pe.needsLights=Hi(J),Pe.lightsStateVersion=ft,Pe.needsLights&&(Ct.ambientLightColor.value=ve.state.ambient,Ct.lightProbe.value=ve.state.probe,Ct.directionalLights.value=ve.state.directional,Ct.directionalLightShadows.value=ve.state.directionalShadow,Ct.spotLights.value=ve.state.spot,Ct.spotLightShadows.value=ve.state.spotShadow,Ct.rectAreaLights.value=ve.state.rectArea,Ct.ltc_1.value=ve.state.rectAreaLTC1,Ct.ltc_2.value=ve.state.rectAreaLTC2,Ct.pointLights.value=ve.state.point,Ct.pointLightShadows.value=ve.state.pointShadow,Ct.hemisphereLights.value=ve.state.hemi,Ct.directionalShadowMap.value=ve.state.directionalShadowMap,Ct.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,Ct.spotShadowMap.value=ve.state.spotShadowMap,Ct.spotLightMatrix.value=ve.state.spotLightMatrix,Ct.spotLightMap.value=ve.state.spotLightMap,Ct.pointShadowMap.value=ve.state.pointShadowMap,Ct.pointShadowMatrix.value=ve.state.pointShadowMatrix),Pe.currentProgram=Dt,Pe.uniformsList=null,Dt}function Sa(J){if(J.uniformsList===null){const me=J.currentProgram.getUniforms();J.uniformsList=Zx.seqWithValue(me.seq,J.uniforms)}return J.uniformsList}function Aa(J,me){const Ie=ke.get(J);Ie.outputColorSpace=me.outputColorSpace,Ie.batching=me.batching,Ie.batchingColor=me.batchingColor,Ie.instancing=me.instancing,Ie.instancingColor=me.instancingColor,Ie.instancingMorph=me.instancingMorph,Ie.skinning=me.skinning,Ie.morphTargets=me.morphTargets,Ie.morphNormals=me.morphNormals,Ie.morphColors=me.morphColors,Ie.morphTargetsCount=me.morphTargetsCount,Ie.numClippingPlanes=me.numClippingPlanes,Ie.numIntersection=me.numClipIntersection,Ie.vertexAlphas=me.vertexAlphas,Ie.vertexTangents=me.vertexTangents,Ie.toneMapping=me.toneMapping}function yl(J,me,Ie,Pe,ve){me.isScene!==!0&&(me=oe),K.resetTextureUnits();const nt=me.fog,ft=Pe.isMeshStandardMaterial?me.environment:null,pt=P===null?R.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Uf,St=(Pe.isMeshStandardMaterial?ge:V).get(Pe.envMap||ft),Ft=Pe.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Dt=!!Ie.attributes.tangent&&(!!Pe.normalMap||Pe.anisotropy>0),Ct=!!Ie.morphAttributes.position,ln=!!Ie.morphAttributes.normal,En=!!Ie.morphAttributes.color;let fi=cc;Pe.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(fi=R.toneMapping);const un=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,dn=un!==void 0?un.length:0,It=ke.get(Pe),mi=S.state.lights;if(Te===!0&&(Xe===!0||J!==M)){const os=J===M&&Pe.id===O;We.setState(Pe,J,os)}let xn=!1;Pe.version===It.__version?(It.needsLights&&It.lightsStateVersion!==mi.state.version||It.outputColorSpace!==pt||ve.isBatchedMesh&&It.batching===!1||!ve.isBatchedMesh&&It.batching===!0||ve.isBatchedMesh&&It.batchingColor===!0&&ve.colorTexture===null||ve.isBatchedMesh&&It.batchingColor===!1&&ve.colorTexture!==null||ve.isInstancedMesh&&It.instancing===!1||!ve.isInstancedMesh&&It.instancing===!0||ve.isSkinnedMesh&&It.skinning===!1||!ve.isSkinnedMesh&&It.skinning===!0||ve.isInstancedMesh&&It.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&It.instancingColor===!1&&ve.instanceColor!==null||ve.isInstancedMesh&&It.instancingMorph===!0&&ve.morphTexture===null||ve.isInstancedMesh&&It.instancingMorph===!1&&ve.morphTexture!==null||It.envMap!==St||Pe.fog===!0&&It.fog!==nt||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==We.numPlanes||It.numIntersection!==We.numIntersection)||It.vertexAlphas!==Ft||It.vertexTangents!==Dt||It.morphTargets!==Ct||It.morphNormals!==ln||It.morphColors!==En||It.toneMapping!==fi||It.morphTargetsCount!==dn)&&(xn=!0):(xn=!0,It.__version=Pe.version);let ys=It.currentProgram;xn===!0&&(ys=kn(Pe,me,ve));let Ya=!1,Yn=!1,qa=!1;const Xn=ys.getUniforms(),vs=It.uniforms;if(Le.useProgram(ys.program)&&(Ya=!0,Yn=!0,qa=!0),Pe.id!==O&&(O=Pe.id,Yn=!0),Ya||M!==J){Le.buffers.depth.getReversed()?(et.copy(J.projectionMatrix),vq(et),_q(et),Xn.setValue(X,"projectionMatrix",et)):Xn.setValue(X,"projectionMatrix",J.projectionMatrix),Xn.setValue(X,"viewMatrix",J.matrixWorldInverse);const ls=Xn.map.cameraPosition;ls!==void 0&&ls.setValue(X,W.setFromMatrixPosition(J.matrixWorld)),He.logarithmicDepthBuffer&&Xn.setValue(X,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Pe.isMeshPhongMaterial||Pe.isMeshToonMaterial||Pe.isMeshLambertMaterial||Pe.isMeshBasicMaterial||Pe.isMeshStandardMaterial||Pe.isShaderMaterial)&&Xn.setValue(X,"isOrthographic",J.isOrthographicCamera===!0),M!==J&&(M=J,Yn=!0,qa=!0)}if(ve.isSkinnedMesh){Xn.setOptional(X,ve,"bindMatrix"),Xn.setOptional(X,ve,"bindMatrixInverse");const os=ve.skeleton;os&&(os.boneTexture===null&&os.computeBoneTexture(),Xn.setValue(X,"boneTexture",os.boneTexture,K))}ve.isBatchedMesh&&(Xn.setOptional(X,ve,"batchingTexture"),Xn.setValue(X,"batchingTexture",ve._matricesTexture,K),Xn.setOptional(X,ve,"batchingIdTexture"),Xn.setValue(X,"batchingIdTexture",ve._indirectTexture,K),Xn.setOptional(X,ve,"batchingColorTexture"),ve._colorsTexture!==null&&Xn.setValue(X,"batchingColorTexture",ve._colorsTexture,K));const zi=Ie.morphAttributes;if((zi.position!==void 0||zi.normal!==void 0||zi.color!==void 0)&&At.update(ve,Ie,ys),(Yn||It.receiveShadow!==ve.receiveShadow)&&(It.receiveShadow=ve.receiveShadow,Xn.setValue(X,"receiveShadow",ve.receiveShadow)),Pe.isMeshGouraudMaterial&&Pe.envMap!==null&&(vs.envMap.value=St,vs.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Pe.isMeshStandardMaterial&&Pe.envMap===null&&me.environment!==null&&(vs.envMapIntensity.value=me.environmentIntensity),Yn&&(Xn.setValue(X,"toneMappingExposure",R.toneMappingExposure),It.needsLights&&wo(vs,qa),nt&&Pe.fog===!0&&it.refreshFogUniforms(vs,nt),it.refreshMaterialUniforms(vs,Pe,Z,Y,S.state.transmissionRenderTarget[J.id]),Zx.upload(X,Sa(It),vs,K)),Pe.isShaderMaterial&&Pe.uniformsNeedUpdate===!0&&(Zx.upload(X,Sa(It),vs,K),Pe.uniformsNeedUpdate=!1),Pe.isSpriteMaterial&&Xn.setValue(X,"center",ve.center),Xn.setValue(X,"modelViewMatrix",ve.modelViewMatrix),Xn.setValue(X,"normalMatrix",ve.normalMatrix),Xn.setValue(X,"modelMatrix",ve.matrixWorld),Pe.isShaderMaterial||Pe.isRawShaderMaterial){const os=Pe.uniformsGroups;for(let ls=0,Ys=os.length;ls<Ys;ls++){const Ka=os[ls];he.update(Ka,ys),he.bind(Ka,ys)}}return ys}function wo(J,me){J.ambientLightColor.needsUpdate=me,J.lightProbe.needsUpdate=me,J.directionalLights.needsUpdate=me,J.directionalLightShadows.needsUpdate=me,J.pointLights.needsUpdate=me,J.pointLightShadows.needsUpdate=me,J.spotLights.needsUpdate=me,J.spotLightShadows.needsUpdate=me,J.rectAreaLights.needsUpdate=me,J.hemisphereLights.needsUpdate=me}function Hi(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(J,me,Ie){const Pe=ke.get(J);Pe.__autoAllocateDepthBuffer=J.resolveDepthBuffer===!1,Pe.__autoAllocateDepthBuffer===!1&&(Pe.__useRenderToTexture=!1),ke.get(J.texture).__webglTexture=me,ke.get(J.depthTexture).__webglTexture=Pe.__autoAllocateDepthBuffer?void 0:Ie,Pe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(J,me){const Ie=ke.get(J);Ie.__webglFramebuffer=me,Ie.__useDefaultFramebuffer=me===void 0};const vu=X.createFramebuffer();this.setRenderTarget=function(J,me=0,Ie=0){P=J,N=me,U=Ie;let Pe=!0,ve=null,nt=!1,ft=!1;if(J){const St=ke.get(J);if(St.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(X.FRAMEBUFFER,null),Pe=!1;else if(St.__webglFramebuffer===void 0)K.setupRenderTarget(J);else if(St.__hasExternalTextures)K.rebindTextures(J,ke.get(J.texture).__webglTexture,ke.get(J.depthTexture).__webglTexture);else if(J.depthBuffer){const Ct=J.depthTexture;if(St.__boundDepthTexture!==Ct){if(Ct!==null&&ke.has(Ct)&&(J.width!==Ct.image.width||J.height!==Ct.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");K.setupDepthRenderbuffer(J)}}const Ft=J.texture;(Ft.isData3DTexture||Ft.isDataArrayTexture||Ft.isCompressedArrayTexture)&&(ft=!0);const Dt=ke.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(Dt[me])?ve=Dt[me][Ie]:ve=Dt[me],nt=!0):J.samples>0&&K.useMultisampledRTT(J)===!1?ve=ke.get(J).__webglMultisampledFramebuffer:Array.isArray(Dt)?ve=Dt[Ie]:ve=Dt,H.copy(J.viewport),k.copy(J.scissor),$=J.scissorTest}else H.copy(ae).multiplyScalar(Z).floor(),k.copy(Se).multiplyScalar(Z).floor(),$=Ae;if(Ie!==0&&(ve=vu),Le.bindFramebuffer(X.FRAMEBUFFER,ve)&&Pe&&Le.drawBuffers(J,ve),Le.viewport(H),Le.scissor(k),Le.setScissorTest($),nt){const St=ke.get(J.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+me,St.__webglTexture,Ie)}else if(ft){const St=ke.get(J.texture),Ft=me;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,St.__webglTexture,Ie,Ft)}else if(J!==null&&Ie!==0){const St=ke.get(J.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,St.__webglTexture,Ie)}O=-1},this.readRenderTargetPixels=function(J,me,Ie,Pe,ve,nt,ft){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=ke.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&ft!==void 0&&(pt=pt[ft]),pt){Le.bindFramebuffer(X.FRAMEBUFFER,pt);try{const St=J.texture,Ft=St.format,Dt=St.type;if(!He.textureFormatReadable(Ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!He.textureTypeReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=J.width-Pe&&Ie>=0&&Ie<=J.height-ve&&X.readPixels(me,Ie,Pe,ve,Ne.convert(Ft),Ne.convert(Dt),nt)}finally{const St=P!==null?ke.get(P).__webglFramebuffer:null;Le.bindFramebuffer(X.FRAMEBUFFER,St)}}},this.readRenderTargetPixelsAsync=async function(J,me,Ie,Pe,ve,nt,ft){if(!(J&&J.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pt=ke.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&ft!==void 0&&(pt=pt[ft]),pt)if(me>=0&&me<=J.width-Pe&&Ie>=0&&Ie<=J.height-ve){Le.bindFramebuffer(X.FRAMEBUFFER,pt);const St=J.texture,Ft=St.format,Dt=St.type;if(!He.textureFormatReadable(Ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!He.textureTypeReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ct=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,Ct),X.bufferData(X.PIXEL_PACK_BUFFER,nt.byteLength,X.STREAM_READ),X.readPixels(me,Ie,Pe,ve,Ne.convert(Ft),Ne.convert(Dt),0);const ln=P!==null?ke.get(P).__webglFramebuffer:null;Le.bindFramebuffer(X.FRAMEBUFFER,ln);const En=X.fenceSync(X.SYNC_GPU_COMMANDS_COMPLETE,0);return X.flush(),await yq(X,En,4),X.bindBuffer(X.PIXEL_PACK_BUFFER,Ct),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,nt),X.deleteBuffer(Ct),X.deleteSync(En),nt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(J,me=null,Ie=0){const Pe=Math.pow(2,-Ie),ve=Math.floor(J.image.width*Pe),nt=Math.floor(J.image.height*Pe),ft=me!==null?me.x:0,pt=me!==null?me.y:0;K.setTexture2D(J,0),X.copyTexSubImage2D(X.TEXTURE_2D,Ie,0,0,ft,pt,ve,nt),Le.unbindTexture()};const _u=X.createFramebuffer(),Ea=X.createFramebuffer();this.copyTextureToTexture=function(J,me,Ie=null,Pe=null,ve=0,nt=null){nt===null&&(ve!==0?(Jx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),nt=ve,ve=0):nt=0);let ft,pt,St,Ft,Dt,Ct,ln,En,fi;const un=J.isCompressedTexture?J.mipmaps[nt]:J.image;if(Ie!==null)ft=Ie.max.x-Ie.min.x,pt=Ie.max.y-Ie.min.y,St=Ie.isBox3?Ie.max.z-Ie.min.z:1,Ft=Ie.min.x,Dt=Ie.min.y,Ct=Ie.isBox3?Ie.min.z:0;else{const zi=Math.pow(2,-ve);ft=Math.floor(un.width*zi),pt=Math.floor(un.height*zi),J.isDataArrayTexture?St=un.depth:J.isData3DTexture?St=Math.floor(un.depth*zi):St=1,Ft=0,Dt=0,Ct=0}Pe!==null?(ln=Pe.x,En=Pe.y,fi=Pe.z):(ln=0,En=0,fi=0);const dn=Ne.convert(me.format),It=Ne.convert(me.type);let mi;me.isData3DTexture?(K.setTexture3D(me,0),mi=X.TEXTURE_3D):me.isDataArrayTexture||me.isCompressedArrayTexture?(K.setTexture2DArray(me,0),mi=X.TEXTURE_2D_ARRAY):(K.setTexture2D(me,0),mi=X.TEXTURE_2D),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,me.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,me.unpackAlignment);const xn=X.getParameter(X.UNPACK_ROW_LENGTH),ys=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Ya=X.getParameter(X.UNPACK_SKIP_PIXELS),Yn=X.getParameter(X.UNPACK_SKIP_ROWS),qa=X.getParameter(X.UNPACK_SKIP_IMAGES);X.pixelStorei(X.UNPACK_ROW_LENGTH,un.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,un.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Ft),X.pixelStorei(X.UNPACK_SKIP_ROWS,Dt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Ct);const Xn=J.isDataArrayTexture||J.isData3DTexture,vs=me.isDataArrayTexture||me.isData3DTexture;if(J.isDepthTexture){const zi=ke.get(J),os=ke.get(me),ls=ke.get(zi.__renderTarget),Ys=ke.get(os.__renderTarget);Le.bindFramebuffer(X.READ_FRAMEBUFFER,ls.__webglFramebuffer),Le.bindFramebuffer(X.DRAW_FRAMEBUFFER,Ys.__webglFramebuffer);for(let Ka=0;Ka<St;Ka++)Xn&&(X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,ke.get(J).__webglTexture,ve,Ct+Ka),X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,ke.get(me).__webglTexture,nt,fi+Ka)),X.blitFramebuffer(Ft,Dt,ft,pt,ln,En,ft,pt,X.DEPTH_BUFFER_BIT,X.NEAREST);Le.bindFramebuffer(X.READ_FRAMEBUFFER,null),Le.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else if(ve!==0||J.isRenderTargetTexture||ke.has(J)){const zi=ke.get(J),os=ke.get(me);Le.bindFramebuffer(X.READ_FRAMEBUFFER,_u),Le.bindFramebuffer(X.DRAW_FRAMEBUFFER,Ea);for(let ls=0;ls<St;ls++)Xn?X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,zi.__webglTexture,ve,Ct+ls):X.framebufferTexture2D(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,zi.__webglTexture,ve),vs?X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,os.__webglTexture,nt,fi+ls):X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,os.__webglTexture,nt),ve!==0?X.blitFramebuffer(Ft,Dt,ft,pt,ln,En,ft,pt,X.COLOR_BUFFER_BIT,X.NEAREST):vs?X.copyTexSubImage3D(mi,nt,ln,En,fi+ls,Ft,Dt,ft,pt):X.copyTexSubImage2D(mi,nt,ln,En,Ft,Dt,ft,pt);Le.bindFramebuffer(X.READ_FRAMEBUFFER,null),Le.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else vs?J.isDataTexture||J.isData3DTexture?X.texSubImage3D(mi,nt,ln,En,fi,ft,pt,St,dn,It,un.data):me.isCompressedArrayTexture?X.compressedTexSubImage3D(mi,nt,ln,En,fi,ft,pt,St,dn,un.data):X.texSubImage3D(mi,nt,ln,En,fi,ft,pt,St,dn,It,un):J.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,nt,ln,En,ft,pt,dn,It,un.data):J.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,nt,ln,En,un.width,un.height,dn,un.data):X.texSubImage2D(X.TEXTURE_2D,nt,ln,En,ft,pt,dn,It,un);X.pixelStorei(X.UNPACK_ROW_LENGTH,xn),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,ys),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Ya),X.pixelStorei(X.UNPACK_SKIP_ROWS,Yn),X.pixelStorei(X.UNPACK_SKIP_IMAGES,qa),nt===0&&me.generateMipmaps&&X.generateMipmap(mi),Le.unbindTexture()},this.copyTextureToTexture3D=function(J,me,Ie=null,Pe=null,ve=0){return Jx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(J,me,Ie,Pe,ve)},this.initRenderTarget=function(J){ke.get(J).__webglFramebuffer===void 0&&K.setupRenderTarget(J)},this.initTexture=function(J){J.isCubeTexture?K.setTextureCube(J,0):J.isData3DTexture?K.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?K.setTexture2DArray(J,0):K.setTexture2D(J,0),Le.unbindTexture()},this.resetState=function(){N=0,U=0,P=null,Le.reset(),lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return So}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Cn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Cn._getUnpackColorSpace()}}const Bte=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Zw,AddEquation:Ef,AddOperation:OU,AdditiveAnimationBlendMode:aR,AdditiveBlending:iC,AgXToneMapping:HU,AlphaFormat:nR,AlwaysCompare:tF,AlwaysDepth:vS,AlwaysStencilFunc:oC,AmbientLight:kF,AnimationAction:$F,AnimationClip:ng,AnimationLoader:WK,AnimationMixer:_J,AnimationObjectGroup:yJ,AnimationUtils:VK,ArcCurve:yF,ArrayCamera:JF,ArrowHelper:GJ,AttachedBindMode:aC,Audio:QF,AudioAnalyser:oJ,AudioContext:OR,AudioListener:sJ,AudioLoader:tJ,AxesHelper:VJ,BackSide:Jr,BasicDepthPacking:WU,BasicShadowMap:pU,BatchedMesh:pF,Bone:rE,BooleanKeyframeTrack:kd,Box2:CJ,Box3:rr,Box3Helper:HJ,BoxGeometry:Vd,BoxHelper:FJ,BufferAttribute:Nn,BufferGeometry:Zt,BufferGeometryLoader:qF,ByteType:$w,Cache:$c,Camera:nE,CameraHelper:UJ,CanvasTexture:uK,CapsuleGeometry:uE,CatmullRomCurve3:vF,CineonToneMapping:UU,CircleGeometry:fE,ClampToEdgeWrapping:za,Clock:LR,Color:yt,ColorKeyframeTrack:wR,ColorManagement:Cn,CompressedArrayTexture:lK,CompressedCubeTexture:cK,CompressedTexture:lE,CompressedTextureLoader:YK,ConeGeometry:jv,ConstantAlphaFactor:DU,ConstantColorFactor:RU,Controls:XJ,CubeCamera:cF,CubeReflectionMapping:fu,CubeRefractionMapping:Lf,CubeTexture:Gv,CubeTextureLoader:qK,CubeUVReflectionMapping:mg,CubicBezierCurve:_R,CubicBezierCurve3:_F,CubicInterpolant:UF,CullFaceBack:nC,CullFaceFront:dU,CullFaceFrontBack:bY,CullFaceNone:hU,Curve:gl,CurvePath:xF,CustomBlending:mU,CustomToneMapping:FU,CylinderGeometry:Xv,Cylindrical:TJ,Data3DTexture:tE,DataArrayTexture:zv,DataTexture:uc,DataTextureLoader:KK,DataUtils:Oq,DecrementStencilOp:DY,DecrementWrapStencilOp:NY,DefaultLoadingManager:zF,DepthArrayTexture:fK,DepthFormat:qm,DepthStencilFormat:Km,DepthTexture:cE,DetachedBindMode:GU,DirectionalLight:NR,DirectionalLightHelper:PJ,DiscreteInterpolant:FF,DodecahedronGeometry:hE,DoubleSide:rl,DstAlphaFactor:EU,DstColorFactor:TU,DynamicCopyUsage:qY,DynamicDrawUsage:VY,DynamicReadUsage:jY,EdgesGeometry:gF,EllipseCurve:dE,EqualCompare:QU,EqualDepth:bS,EqualStencilFunc:UY,EquirectangularReflectionMapping:tv,EquirectangularRefractionMapping:nv,Euler:ja,EventDispatcher:mc,ExtrudeGeometry:pE,FileLoader:Wa,Float16BufferAttribute:Gq,Float32BufferAttribute:Mt,FloatType:pa,Fog:sE,FogExp2:iE,FramebufferTexture:oK,FrontSide:fc,Frustum:yg,FrustumArray:aE,GLBufferAttribute:MJ,GLSL1:JY,GLSL3:lC,GreaterCompare:ZU,GreaterDepth:SS,GreaterEqualCompare:eF,GreaterEqualDepth:xS,GreaterEqualStencilFunc:GY,GreaterStencilFunc:HY,GridHelper:OJ,Group:Zc,HalfFloatType:gg,HemisphereLight:VF,HemisphereLightHelper:NJ,IcosahedronGeometry:mE,ImageBitmapLoader:KF,ImageLoader:fv,ImageUtils:rF,IncrementStencilOp:BY,IncrementWrapStencilOp:IY,InstancedBufferAttribute:Dd,InstancedBufferGeometry:YF,InstancedInterleavedBuffer:EJ,InstancedMesh:mR,Int16BufferAttribute:Hq,Int32BufferAttribute:zq,Int8BufferAttribute:Pq,IntType:YA,InterleavedBuffer:Vv,InterleavedBufferAttribute:Ff,Interpolant:_g,InterpolateDiscrete:Jm,InterpolateLinear:Qm,InterpolateSmooth:Kx,InterpolationSamplingMode:$Y,InterpolationSamplingType:ZY,InvertStencilOp:OY,KeepStencilOp:ad,KeyframeTrack:Co,LOD:dF,LatheGeometry:gE,Layers:$m,LessCompare:JU,LessDepth:_S,LessEqualCompare:lR,LessEqualDepth:Bd,LessEqualStencilFunc:FY,LessStencilFunc:PY,Light:jf,LightProbe:WF,Line:du,Line3:wJ,LineBasicMaterial:Cr,LineCurve:bR,LineCurve3:bF,LineDashedMaterial:OF,LineLoop:gR,LineSegments:ml,LinearFilter:ss,LinearInterpolant:CR,LinearMipMapLinearFilter:EY,LinearMipMapNearestFilter:AY,LinearMipmapLinearFilter:xo,LinearMipmapNearestFilter:Nm,LinearSRGBColorSpace:Uf,LinearToneMapping:LU,LinearTransfer:sv,Loader:wr,LoaderUtils:Cf,LoadingManager:RR,LoopOnce:VU,LoopPingPong:XU,LoopRepeat:kU,MOUSE:sd,Material:Rs,MaterialLoader:AE,MathUtils:nF,Matrix2:HR,Matrix3:tn,Matrix4:Lt,MaxEquation:_U,Mesh:rs,MeshBasicMaterial:Ga,MeshDepthMaterial:ER,MeshDistanceMaterial:MR,MeshLambertMaterial:IF,MeshMatcapMaterial:NF,MeshNormalMaterial:DF,MeshPhongMaterial:RF,MeshPhysicalMaterial:To,MeshStandardMaterial:qv,MeshToonMaterial:BF,MinEquation:vU,MirroredRepeatWrapping:jm,MixOperation:NU,MultiplyBlending:rC,MultiplyOperation:Fv,NearestFilter:ks,NearestMipMapLinearFilter:SY,NearestMipMapNearestFilter:xY,NearestMipmapLinearFilter:pd,NearestMipmapNearestFilter:WA,NeutralToneMapping:zU,NeverCompare:KU,NeverDepth:yS,NeverStencilFunc:LY,NoBlending:tu,NoColorSpace:Jc,NoToneMapping:cc,NormalAnimationBlendMode:$A,NormalBlending:Md,NotEqualCompare:$U,NotEqualDepth:AS,NotEqualStencilFunc:zY,NumberKeyframeTrack:Nd,Object3D:wn,ObjectLoader:$K,ObjectSpaceNormalMap:qU,OctahedronGeometry:Wv,OneFactor:xU,OneMinusConstantAlphaFactor:IU,OneMinusConstantColorFactor:BU,OneMinusDstAlphaFactor:MU,OneMinusDstColorFactor:CU,OneMinusSrcAlphaFactor:gS,OneMinusSrcColorFactor:AU,OrthographicCamera:iu,PCFShadowMap:XA,PCFSoftShadowMap:T0,PMREMGenerator:gC,Path:eA,PerspectiveCamera:qi,Plane:Kc,PlaneGeometry:vg,PlaneHelper:zJ,PointLight:IR,PointLightHelper:DJ,Points:yR,PointsMaterial:oE,PolarGridHelper:LJ,PolyhedronGeometry:Xf,PositionalAudio:aJ,PropertyBinding:Dn,PropertyMixer:ZF,QuadraticBezierCurve:xR,QuadraticBezierCurve3:SR,Quaternion:Xs,QuaternionKeyframeTrack:Od,QuaternionLinearInterpolant:HF,RED_GREEN_RGTC2_Format:qS,RED_RGTC1_Format:rR,REVISION:Uv,RGBADepthPacking:YU,RGBAFormat:Mr,RGBAIntegerFormat:ZA,RGBA_ASTC_10x10_Format:VS,RGBA_ASTC_10x5_Format:HS,RGBA_ASTC_10x6_Format:zS,RGBA_ASTC_10x8_Format:GS,RGBA_ASTC_12x10_Format:kS,RGBA_ASTC_12x12_Format:XS,RGBA_ASTC_4x4_Format:DS,RGBA_ASTC_5x4_Format:IS,RGBA_ASTC_5x5_Format:NS,RGBA_ASTC_6x5_Format:OS,RGBA_ASTC_6x6_Format:LS,RGBA_ASTC_8x5_Format:PS,RGBA_ASTC_8x6_Format:US,RGBA_ASTC_8x8_Format:FS,RGBA_BPTC_Format:D0,RGBA_ETC2_EAC_Format:BS,RGBA_PVRTC_2BPPV1_Format:CS,RGBA_PVRTC_4BPPV1_Format:TS,RGBA_S3TC_DXT1_Format:w0,RGBA_S3TC_DXT3_Format:R0,RGBA_S3TC_DXT5_Format:B0,RGBDepthPacking:TY,RGBFormat:iR,RGBIntegerFormat:MY,RGB_BPTC_SIGNED_Format:jS,RGB_BPTC_UNSIGNED_Format:WS,RGB_ETC1_Format:wS,RGB_ETC2_Format:RS,RGB_PVRTC_2BPPV1_Format:MS,RGB_PVRTC_4BPPV1_Format:ES,RGB_S3TC_DXT1_Format:C0,RGDepthPacking:CY,RGFormat:sR,RGIntegerFormat:QA,RawShaderMaterial:wF,Ray:Gd,Raycaster:e4,RectAreaLight:XF,RedFormat:JA,RedIntegerFormat:Hv,ReinhardToneMapping:PU,RenderTarget:eE,RenderTarget3D:bJ,RenderTargetArray:xJ,RepeatWrapping:Pf,ReplaceStencilOp:RY,ReverseSubtractEquation:yU,RingGeometry:yE,SIGNED_RED_GREEN_RGTC2_Format:KS,SIGNED_RED_RGTC1_Format:YS,SRGBColorSpace:xr,SRGBTransfer:Zn,Scene:hR,ShaderChunk:on,ShaderLib:sl,ShaderMaterial:dl,ShadowMaterial:CF,Shape:Cd,ShapeGeometry:vE,ShapePath:kJ,ShapeUtils:ll,ShortType:eR,Skeleton:kv,SkeletonHelper:BJ,SkinnedMesh:pR,Source:Tf,Sphere:js,SphereGeometry:Yv,Spherical:pC,SphericalHarmonics3:jF,SplineCurve:AR,SpotLight:DR,SpotLightHelper:RJ,Sprite:hF,SpriteMaterial:dR,SrcAlphaFactor:mS,SrcAlphaSaturateFactor:wU,SrcColorFactor:SU,StaticCopyUsage:YY,StaticDrawUsage:rv,StaticReadUsage:XY,StereoCamera:nJ,StreamCopyUsage:KY,StreamDrawUsage:kY,StreamReadUsage:WY,StringKeyframeTrack:Xd,SubtractEquation:gU,SubtractiveBlending:sC,TOUCH:rd,TangentSpaceNormalMap:kf,TetrahedronGeometry:_E,Texture:Mi,TextureLoader:GF,TextureUtils:KJ,TimestampQuery:QY,TorusGeometry:bE,TorusKnotGeometry:xE,Triangle:ha,TriangleFanDrawMode:JS,TriangleStripDrawMode:oR,TrianglesDrawMode:jU,TubeGeometry:SE,UVMapping:jA,Uint16BufferAttribute:uR,Uint32BufferAttribute:fR,Uint8BufferAttribute:Uq,Uint8ClampedBufferAttribute:Fq,Uniform:FR,UniformsGroup:AJ,UniformsLib:_t,UniformsUtils:lF,UnsignedByteType:Eo,UnsignedInt248Type:Ym,UnsignedInt5999Type:tR,UnsignedIntType:hu,UnsignedShort4444Type:qA,UnsignedShort5551Type:KA,UnsignedShortType:Wm,VSMShadowMap:il,Vector2:Qe,Vector3:ie,Vector4:In,VectorKeyframeTrack:Ld,VideoFrameTexture:aK,VideoTexture:mF,WebGL3DRenderTarget:Eq,WebGLArrayRenderTarget:Aq,WebGLCoordinateSystem:So,WebGLCubeRenderTarget:uF,WebGLRenderTarget:hc,WebGLRenderer:l4,WebGLUtils:o4,WebGPUCoordinateSystem:av,WebXRController:Qx,WireframeGeometry:TF,WrapAroundEnding:iv,ZeroCurvatureEnding:md,ZeroFactor:bU,ZeroSlopeEnding:gd,ZeroStencilOp:wY,createCanvasElement:sF},Symbol.toStringTag,{value:"Module"}));var FM={exports:{}},Yc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function Dte(){return hN||(hN=1,Yc.ConcurrentRoot=1,Yc.ContinuousEventPriority=8,Yc.DefaultEventPriority=32,Yc.DiscreteEventPriority=2,Yc.IdleEventPriority=268435456,Yc.LegacyRoot=0,Yc.NoEventPriority=0),Yc}var dN;function Ite(){return dN||(dN=1,FM.exports=Dte()),FM.exports}var $x=Ite(),HM={exports:{}},zM={},GM={exports:{}},VM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function Nte(){if(pN)return VM;pN=1;var n=lg();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,a=n.useDebugValue;function l(g,y){var b=y(),x=i({inst:{value:b,getSnapshot:y}}),T=x[0].inst,A=x[1];return r(function(){T.value=b,T.getSnapshot=y,u(T)&&A({inst:T})},[g,b,y]),s(function(){return u(T)&&A({inst:T}),g(function(){u(T)&&A({inst:T})})},[g]),a(b),b}function u(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return VM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,VM}var mN;function Ote(){return mN||(mN=1,GM.exports=Nte()),GM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function Lte(){if(gN)return zM;gN=1;var n=lg(),e=Ote();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,u=n.useDebugValue;return zM.useSyncExternalStoreWithSelector=function(h,m,g,y,b){var x=r(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=l(function(){function S(N){if(!B){if(B=!0,w=N,N=y(N),b!==void 0&&T.hasValue){var U=T.value;if(b(U,N))return R=U}return R=N}if(U=R,i(w,N))return U;var P=y(N);return b!==void 0&&b(U,P)?(w=N,U):(w=N,R=P)}var B=!1,w,R,L=g===void 0?null:g;return[function(){return S(m())},L===null?void 0:function(){return S(L())}]},[m,g,y,b]);var A=s(h,x[0],x[1]);return a(function(){T.hasValue=!0,T.value=A},[A]),u(A),A},zM}var yN;function Pte(){return yN||(yN=1,HM.exports=Lte()),HM.exports}var Ute=Pte();const Fte=Mv(Ute),vN=n=>{let e;const t=new Set,i=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(i,s,l);return l},Hte=n=>n?vN(n):vN,{useSyncExternalStoreWithSelector:zte}=Fte,Gte=n=>n;function Vte(n,e=Gte,t){const i=zte(n.subscribe,n.getState,n.getInitialState,e,t);return ol.useDebugValue(i),i}const _N=(n,e)=>{const t=Hte(n),i=(s,r=e)=>Vte(t,s,r);return Object.assign(i,t),i},kte=(n,e)=>n?_N(n,e):_N;var kM={exports:{}},XM={exports:{}},jM={exports:{}},WM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function Xte(){return bN||(bN=1,function(n){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var re=Z-1>>>1,j=z[re];if(0<s(j,Y))z[re]=Y,z[Z]=j,Z=re;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var re=0,j=z.length,ae=j>>>1;re<ae;){var Se=2*(re+1)-1,Ae=z[Se],ce=Se+1,Te=z[ce];if(0>s(Ae,Z))ce<j&&0>s(Te,Ae)?(z[re]=Te,z[ce]=Z,re=ce):(z[re]=Ae,z[Se]=Z,re=Se);else if(ce<j&&0>s(Te,Z))z[re]=Te,z[ce]=Z,re=ce;else break e}}return Y}function s(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,g=null,y=3,b=!1,x=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function w(z){for(var Y=t(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=z)i(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function R(z){if(T=!1,w(z),!x)if(t(u)!==null)x=!0,se();else{var Y=t(h);Y!==null&&ne(R,Y.startTime-z)}}var L=!1,N=-1,U=5,P=-1;function O(){return!(n.unstable_now()-P<U)}function M(){if(L){var z=n.unstable_now();P=z;var Y=!0;try{e:{x=!1,T&&(T=!1,S(N),N=-1),b=!0;var Z=y;try{t:{for(w(z),g=t(u);g!==null&&!(g.expirationTime>z&&O());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var j=re(g.expirationTime<=z);if(z=n.unstable_now(),typeof j=="function"){g.callback=j,w(z),Y=!0;break t}g===t(u)&&i(u),w(z)}else i(u);g=t(u)}if(g!==null)Y=!0;else{var ae=t(h);ae!==null&&ne(R,ae.startTime-z),Y=!1}}break e}finally{g=null,y=Z,b=!1}Y=void 0}}finally{Y?H():L=!1}}}var H;if(typeof B=="function")H=function(){B(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$=k.port2;k.port1.onmessage=M,H=function(){$.postMessage(null)}}else H=function(){A(M,0)};function se(){L||(L=!0,H())}function ne(z,Y){N=A(function(){z(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,se())},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Z=y;y=Y;try{return z()}finally{y=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=y;y=z;try{return Y()}finally{y=Z}},n.unstable_scheduleCallback=function(z,Y,Z){var re=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,z={id:m++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:j,sortIndex:-1},Z>re?(z.sortIndex=Z,e(h,z),t(u)===null&&z===t(h)&&(T?(S(N),N=-1):T=!0,ne(R,Z-re))):(z.sortIndex=j,e(u,z),x||b||(x=!0,se())),z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(z){var Y=y;return function(){var Z=y;y=Y;try{return z.apply(this,arguments)}finally{y=Z}}}}(WM)),WM}var xN;function jte(){return xN||(xN=1,jM.exports=Xte()),jM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function Wte(){return SN||(SN=1,function(n){n.exports=function(e){function t(f,d,_,C){return new ey(f,d,_,C)}function i(){}function s(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return f===null||typeof f!="object"?null:(f=Go&&f[Go]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===sy?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Nl:return"Fragment";case ea:return"Portal";case gp:return"Profiler";case bh:return"StrictMode";case yp:return"Suspense";case Hu:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Ca:return(f.displayName||"Context")+".Provider";case ny:return(f._context.displayName||"Context")+".Consumer";case Sh:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case vp:return d=f.displayName||null,d!==null?d:a(f.type)||"Memo";case ta:d=f._payload,f=f._init;try{return a(f(d))}catch{}}return null}function l(f){if(eo===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);eo=d&&d[1]||"",Vo=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+f+Vo}function u(f,d){if(!f||bc)return"";bc=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(qt){var bt=qt}Reflect.construct(f,[],vt)}else{try{vt.call()}catch(qt){bt=qt}f.call(vt.prototype)}}else{try{throw Error()}catch(qt){bt=qt}(vt=f())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(qt){if(qt&&bt&&typeof qt.stack=="string")return[qt.stack,bt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=C.DetermineComponentFrameRoot(),ee=F[0],fe=F[1];if(ee&&fe){var xe=ee.split(`
`),Ke=fe.split(`
`);for(I=C=0;C<xe.length&&!xe[C].includes("DetermineComponentFrameRoot");)C++;for(;I<Ke.length&&!Ke[I].includes("DetermineComponentFrameRoot");)I++;if(C===xe.length||I===Ke.length)for(C=xe.length-1,I=Ke.length-1;1<=C&&0<=I&&xe[C]!==Ke[I];)I--;for(;1<=C&&0<=I;C--,I--)if(xe[C]!==Ke[I]){if(C!==1||I!==1)do if(C--,I--,0>I||xe[C]!==Ke[I]){var ot=`
`+xe[C].replace(" at new "," at ");return f.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",f.displayName)),ot}while(1<=C&&0<=I);break}}}finally{bc=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?l(_):""}function h(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function g(f){var d=f,_=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(_=d.return),f=d.return;while(f)}return d.tag===3?_:null}function y(f){if(g(f)!==f)throw Error(s(188))}function b(f){var d=f.alternate;if(!d){if(d=g(f),d===null)throw Error(s(188));return d!==f?null:f}for(var _=f,C=d;;){var I=_.return;if(I===null)break;var F=I.alternate;if(F===null){if(C=I.return,C!==null){_=C;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===_)return y(I),f;if(F===C)return y(I),d;F=F.sibling}throw Error(s(188))}if(_.return!==C.return)_=I,C=F;else{for(var ee=!1,fe=I.child;fe;){if(fe===_){ee=!0,_=I,C=F;break}if(fe===C){ee=!0,C=I,_=F;break}fe=fe.sibling}if(!ee){for(fe=F.child;fe;){if(fe===_){ee=!0,_=F,C=I;break}if(fe===C){ee=!0,C=F,_=I;break}fe=fe.sibling}if(!ee)throw Error(s(189))}}if(_.alternate!==C)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?f:d}function x(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=x(f),d!==null)return d;f=f.sibling}return null}function T(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=T(f),d!==null))return d;f=f.sibling}return null}function A(f){return{current:f}}function S(f){0>Wo||(f.current=Ri[Wo],Ri[Wo]=null,Wo--)}function B(f,d){Wo++,Ri[Wo]=f.current,f.current=d}function w(f){return f>>>=0,f===0?32:31-(lb(f)/cb|0)|0}function R(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function L(f,d){var _=f.pendingLanes;if(_===0)return 0;var C=0,I=f.suspendedLanes,F=f.pingedLanes,ee=f.warmLanes;f=f.finishedLanes!==0;var fe=_&134217727;return fe!==0?(_=fe&~I,_!==0?C=R(_):(F&=fe,F!==0?C=R(F):f||(ee=fe&~ee,ee!==0&&(C=R(ee))))):(fe=_&~I,fe!==0?C=R(fe):F!==0?C=R(F):f||(ee=_&~ee,ee!==0&&(C=R(ee)))),C===0?0:d!==0&&d!==C&&(d&I)===0&&(I=C&-C,ee=d&-d,I>=ee||I===32&&(ee&4194176)!==0)?d:C}function N(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function U(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var f=no;return no<<=1,(no&4194176)===0&&(no=128),f}function O(){var f=Ac;return Ac<<=1,(Ac&62914560)===0&&(Ac=4194304),f}function M(f){for(var d=[],_=0;31>_;_++)d.push(f);return d}function H(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function k(f,d,_,C,I,F){var ee=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var fe=f.entanglements,xe=f.expirationTimes,Ke=f.hiddenUpdates;for(_=ee&~_;0<_;){var ot=31-$s(_),vt=1<<ot;fe[ot]=0,xe[ot]=-1;var bt=Ke[ot];if(bt!==null)for(Ke[ot]=null,ot=0;ot<bt.length;ot++){var qt=bt[ot];qt!==null&&(qt.lane&=-536870913)}_&=~vt}C!==0&&$(f,C,0),F!==0&&I===0&&f.tag!==0&&(f.suspendedLanes|=F&~(ee&~d))}function $(f,d,_){f.pendingLanes|=d,f.suspendedLanes&=~d;var C=31-$s(d);f.entangledLanes|=d,f.entanglements[C]=f.entanglements[C]|1073741824|_&4194218}function se(f,d){var _=f.entangledLanes|=d;for(f=f.entanglements;_;){var C=31-$s(_),I=1<<C;I&d|f[C]&d&&(f[C]|=d),_&=~I}}function ne(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function z(f){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Bi,f,void 0,(f.current.flags&128)===128)}catch{}}function Y(f){if(typeof hb=="function"&&fs(f),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Bi,f)}catch{}}function Z(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function re(f,d){if(typeof f=="object"&&f!==null){var _=Ay.get(f);return _!==void 0?_:(d={value:f,source:d,stack:m(d)},Ay.set(f,d),d)}return{value:f,source:d,stack:m(d)}}function j(f,d){Ec[Mc++]=qu,Ec[Mc++]=Tc,Tc=f,qu=d}function ae(f,d,_){Nr[Or++]=Ba,Nr[Or++]=Da,Nr[Or++]=zl,zl=f;var C=Ba;f=Da;var I=32-$s(C)-1;C&=~(1<<I),_+=1;var F=32-$s(d)+I;if(30<F){var ee=I-I%5;F=(C&(1<<ee)-1).toString(32),C>>=ee,I-=ee,Ba=1<<32-$s(d)+I|_<<I|C,Da=F+f}else Ba=1<<F|_<<I|C,Da=f}function Se(f){f.return!==null&&(j(f,1),ae(f,1,0))}function Ae(f){for(;f===Tc;)Tc=Ec[--Mc],Ec[Mc]=null,qu=Ec[--Mc],Ec[Mc]=null;for(;f===zl;)zl=Nr[--Or],Nr[Or]=null,Da=Nr[--Or],Nr[Or]=null,Ba=Nr[--Or],Nr[Or]=null}function ce(f,d){B(io,d),B(Ku,f),B($i,null),f=C_(d),S($i),B($i,f)}function Te(){S($i),S(Ku),S(io)}function Xe(f){f.memoizedState!==null&&B(Cc,f);var d=$i.current,_=ku(d,f.type);d!==_&&(B(Ku,f),B($i,_))}function et(f){Ku.current===f&&(S($i),S(Ku)),Cc.current===f&&(S(Cc),Qs?wa._currentValue=Ll:wa._currentValue2=Ll)}function be(f){var d=Error(s(418,""));throw Me(re(d,f)),Dh}function W(f,d){if(!Es)throw Error(s(175));Z_(f.stateNode,f.type,f.memoizedProps,d,f)||be(f)}function Q(f){for(Ms=f.return;Ms;)switch(Ms.tag){case 3:case 27:hs=!0;return;case 5:case 13:hs=!1;return;default:Ms=Ms.return}}function oe(f){if(!Es||f!==Ms)return!1;if(!Sn)return Q(f),Sn=!0,!1;var d=!1;if(qn?f.tag!==3&&f.tag!==27&&(f.tag!==5||Cp(f.type)&&!Jt(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||Cp(f.type)&&!Jt(f.type,f.memoizedProps))&&(d=!0),d&&Ts&&be(f),Q(f),f.tag===13){if(!Es)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));Ts=eb(f)}else Ts=Ms?_y(f.stateNode):null;return!0}function Ee(){Es&&(Ts=Ms=null,Sn=!1)}function Me(f){sa===null?sa=[f]:sa.push(f)}function X(){for(var f=wc,d=Ia=wc=0;d<f;){var _=ra[d];ra[d++]=null;var C=ra[d];ra[d++]=null;var I=ra[d];ra[d++]=null;var F=ra[d];if(ra[d++]=null,C!==null&&I!==null){var ee=C.pending;ee===null?I.next=I:(I.next=ee.next,ee.next=I),C.pending=I}F!==0&&Le(_,I,F)}}function Oe(f,d,_,C){ra[wc++]=f,ra[wc++]=d,ra[wc++]=_,ra[wc++]=C,Ia|=C,f.lanes|=C,f=f.alternate,f!==null&&(f.lanes|=C)}function Ve(f,d,_,C){return Oe(f,d,_,C),rt(f)}function He(f,d){return Oe(f,null,null,d),rt(f)}function Le(f,d,_){f.lanes|=_;var C=f.alternate;C!==null&&(C.lanes|=_);for(var I=!1,F=f.return;F!==null;)F.childLanes|=_,C=F.alternate,C!==null&&(C.childLanes|=_),F.tag===22&&(f=F.stateNode,f===null||f._visibility&1||(I=!0)),f=F,F=F.return;I&&d!==null&&f.tag===3&&(F=f.stateNode,I=31-$s(_),F=F.hiddenUpdates,f=F[I],f===null?F[I]=[d]:f.push(d),d.lane=_|536870912)}function rt(f){if(50<rf)throw rf=0,Vp=null,Error(s(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function ke(f){f!==Yo&&f.next===null&&(Yo===null?Ih=Yo=f:Yo=Yo.next=f),$n=!0,Rc||(Rc=!0,ze(V))}function K(f,d){if(!Ey&&$n){Ey=!0;do for(var _=!1,C=Ih;C!==null;){if(f!==0){var I=C.pendingLanes;if(I===0)var F=0;else{var ee=C.suspendedLanes,fe=C.pingedLanes;F=(1<<31-$s(42|f)+1)-1,F&=I&~(ee&~fe),F=F&201326677?F&201326677|1:F?F|2:0}F!==0&&(_=!0,Ze(C,F))}else F=pn,F=L(C,C===Un?F:0),(F&3)===0||N(C,F)||(_=!0,Ze(C,F));C=C.next}while(_);Ey=!1}}function V(){$n=Rc=!1;var f=0;Ju!==0&&(D_()&&(f=Ju),Ju=0);for(var d=ia(),_=null,C=Ih;C!==null;){var I=C.next,F=ge(C,d);F===0?(C.next=null,_===null?Ih=I:_.next=I,I===null&&(Yo=_)):(_=C,(f!==0||(F&3)!==0)&&($n=!0)),C=I}K(f)}function ge(f,d){for(var _=f.suspendedLanes,C=f.pingedLanes,I=f.expirationTimes,F=f.pendingLanes&-62914561;0<F;){var ee=31-$s(F),fe=1<<ee,xe=I[ee];xe===-1?((fe&_)===0||(fe&C)!==0)&&(I[ee]=U(fe,d)):xe<=d&&(f.expiredLanes|=fe),F&=~fe}if(d=Un,_=pn,_=L(f,f===d?_:0),C=f.callbackNode,_===0||f===d&&jn===2||f.cancelPendingCommit!==null)return C!==null&&C!==null&&Dp(C),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||N(f,_)){if(d=_&-_,d===f.callbackPriority)return d;switch(C!==null&&Dp(C),ne(_)){case 2:case 8:_=fb;break;case 32:_=Op;break;case 268435456:_=QE;break;default:_=Op}return C=Re.bind(null,f),_=Bh(_,C),f.callbackPriority=d,f.callbackNode=_,d}return C!==null&&C!==null&&Dp(C),f.callbackPriority=2,f.callbackNode=null,2}function Re(f,d){var _=f.callbackNode;if(Ta()&&f.callbackNode!==_)return null;var C=pn;return C=L(f,f===Un?C:0),C===0?null:(wl(f,C,d),ge(f,ia()),f.callbackNode!=null&&f.callbackNode===_?Re.bind(null,f):null)}function Ze(f,d){if(Ta())return null;wl(f,d,!0)}function ze(f){cy?jo(function(){(Tn&6)!==0?Bh(Np,f):f()}):Bh(Np,f)}function ct(){return Ju===0&&(Ju=P()),Ju}function it(f,d){if(Qu===null){var _=Qu=[];Bc=0,Lr=ct(),Dc={status:"pending",value:void 0,then:function(C){_.push(C)}}}return Bc++,d.then(mt,mt),d}function mt(){if(--Bc===0&&Qu!==null){Dc!==null&&(Dc.status="fulfilled");var f=Qu;Qu=null,Lr=0,Dc=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function Tt(f,d){var _=[],C={status:"pending",value:null,reason:null,then:function(I){_.push(I)}};return f.then(function(){C.status="fulfilled",C.value=d;for(var I=0;I<_.length;I++)(0,_[I])(d)},function(I){for(C.status="rejected",C.reason=I,I=0;I<_.length;I++)(0,_[I])(void 0)}),C}function We(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ht(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function xt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function At(f,d,_){var C=f.updateQueue;if(C===null)return null;if(C=C.shared,(Tn&2)!==0){var I=C.pending;return I===null?d.next=d:(d.next=I.next,I.next=d),C.pending=d,d=rt(f),Le(f,null,_),d}return Oe(f,C,d,_),rt(f)}function je(f,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194176)!==0)){var C=d.lanes;C&=f.pendingLanes,_|=C,d.lanes=_,se(f,_)}}function le(f,d){var _=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,_===C)){var I=null,F=null;if(_=_.firstBaseUpdate,_!==null){do{var ee={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};F===null?I=F=ee:F=F.next=ee,_=_.next}while(_!==null);F===null?I=F=d:F=F.next=d}else I=F=d;_={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:C.shared,callbacks:C.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=d:f.next=d,_.lastBaseUpdate=d}function Ne(){if(Ic){var f=Dc;if(f!==null)throw f}}function lt(f,d,_,C){Ic=!1;var I=f.updateQueue;qo=!1;var F=I.firstBaseUpdate,ee=I.lastBaseUpdate,fe=I.shared.pending;if(fe!==null){I.shared.pending=null;var xe=fe,Ke=xe.next;xe.next=null,ee===null?F=Ke:ee.next=Ke,ee=xe;var ot=f.alternate;ot!==null&&(ot=ot.updateQueue,fe=ot.lastBaseUpdate,fe!==ee&&(fe===null?ot.firstBaseUpdate=Ke:fe.next=Ke,ot.lastBaseUpdate=xe))}if(F!==null){var vt=I.baseState;ee=0,ot=Ke=xe=null,fe=F;do{var bt=fe.lane&-536870913,qt=bt!==fe.lane;if(qt?(pn&bt)===bt:(C&bt)===bt){bt!==0&&bt===Lr&&(Ic=!0),ot!==null&&(ot=ot.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var kr=f,Kl=fe;bt=d;var Jl=_;switch(Kl.tag){case 1:if(kr=Kl.payload,typeof kr=="function"){vt=kr.call(Jl,vt,bt);break e}vt=kr;break e;case 3:kr.flags=kr.flags&-65537|128;case 0:if(kr=Kl.payload,bt=typeof kr=="function"?kr.call(Jl,vt,bt):kr,bt==null)break e;vt=mp({},vt,bt);break e;case 2:qo=!0}}bt=fe.callback,bt!==null&&(f.flags|=64,qt&&(f.flags|=8192),qt=I.callbacks,qt===null?I.callbacks=[bt]:qt.push(bt))}else qt={lane:bt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ot===null?(Ke=ot=qt,xe=vt):ot=ot.next=qt,ee|=bt;if(fe=fe.next,fe===null){if(fe=I.shared.pending,fe===null)break;qt=fe,fe=qt.next,qt.next=null,I.lastBaseUpdate=qt,I.shared.pending=null}}while(!0);ot===null&&(xe=vt),I.baseState=xe,I.firstBaseUpdate=Ke,I.lastBaseUpdate=ot,F===null&&(I.shared.lanes=0),Gr|=ee,f.lanes=ee,f.memoizedState=vt}}function he(f,d){if(typeof f!="function")throw Error(s(191,f));f.call(d)}function st(f,d){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)he(_[f],d)}function Ge(f,d){if(pr(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var _=Object.keys(f),C=Object.keys(d);if(_.length!==C.length)return!1;for(C=0;C<_.length;C++){var I=_[C];if(!so.call(d,I)||!pr(f[I],d[I]))return!1}return!0}function qe(f){return f=f.status,f==="fulfilled"||f==="rejected"}function gt(){}function dt(f,d,_){switch(_=f[_],_===void 0?f.push(d):_!==d&&(d.then(gt,gt),d=_),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===Zu?Error(s(483)):f;default:if(typeof d.status=="string")d.then(gt,gt);else{if(f=Un,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=d,f.status="pending",f.then(function(C){if(d.status==="pending"){var I=d;I.status="fulfilled",I.value=C}},function(C){if(d.status==="pending"){var I=d;I.status="rejected",I.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===Zu?Error(s(483)):f}throw Gl=d,Zu}}function Rt(){if(Gl===null)throw Error(s(459));var f=Gl;return Gl=null,f}function rn(f){var d=kl;return kl+=1,Vl===null&&(Vl=[]),dt(Vl,f,d)}function On(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function $t(f,d){throw d.$$typeof===XE?Error(s(525)):(f=Object.prototype.toString.call(d),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function Ui(f){var d=f._init;return d(f._payload)}function ui(f){function d(Be,de){if(f){var Fe=Be.deletions;Fe===null?(Be.deletions=[de],Be.flags|=16):Fe.push(de)}}function _(Be,de){if(!f)return null;for(;de!==null;)d(Be,de),de=de.sibling;return null}function C(Be){for(var de=new Map;Be!==null;)Be.key!==null?de.set(Be.key,Be):de.set(Be.index,Be),Be=Be.sibling;return de}function I(Be,de){return Be=$r(Be,de),Be.index=0,Be.sibling=null,Be}function F(Be,de,Fe){return Be.index=Fe,f?(Fe=Be.alternate,Fe!==null?(Fe=Fe.index,Fe<de?(Be.flags|=33554434,de):Fe):(Be.flags|=33554434,de)):(Be.flags|=1048576,de)}function ee(Be){return f&&Be.alternate===null&&(Be.flags|=33554434),Be}function fe(Be,de,Fe,at){return de===null||de.tag!==6?(de=dp(Fe,Be.mode,at),de.return=Be,de):(de=I(de,Fe),de.return=Be,de)}function xe(Be,de,Fe,at){var wt=Fe.type;return wt===Nl?ot(Be,de,Fe.props.children,at,Fe.key):de!==null&&(de.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===ta&&Ui(wt)===de.type)?(de=I(de,Fe.props),On(de,Fe),de.return=Be,de):(de=$a(Fe.type,Fe.key,Fe.props,null,Be.mode,at),On(de,Fe),de.return=Be,de)}function Ke(Be,de,Fe,at){return de===null||de.tag!==4||de.stateNode.containerInfo!==Fe.containerInfo||de.stateNode.implementation!==Fe.implementation?(de=ty(Fe,Be.mode,at),de.return=Be,de):(de=I(de,Fe.children||[]),de.return=Be,de)}function ot(Be,de,Fe,at,wt){return de===null||de.tag!==7?(de=_i(Fe,Be.mode,at,wt),de.return=Be,de):(de=I(de,Fe),de.return=Be,de)}function vt(Be,de,Fe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=dp(""+de,Be.mode,Fe),de.return=Be,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _h:return Fe=$a(de.type,de.key,de.props,null,Be.mode,Fe),On(Fe,de),Fe.return=Be,Fe;case ea:return de=ty(de,Be.mode,Fe),de.return=Be,de;case ta:var at=de._init;return de=at(de._payload),vt(Be,de,Fe)}if(zu(de)||r(de))return de=_i(de,Be.mode,Fe,null),de.return=Be,de;if(typeof de.then=="function")return vt(Be,rn(de),Fe);if(de.$$typeof===Ca)return vt(Be,sh(Be,de),Fe);$t(Be,de)}return null}function bt(Be,de,Fe,at){var wt=de!==null?de.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return wt!==null?null:fe(Be,de,""+Fe,at);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _h:return Fe.key===wt?xe(Be,de,Fe,at):null;case ea:return Fe.key===wt?Ke(Be,de,Fe,at):null;case ta:return wt=Fe._init,Fe=wt(Fe._payload),bt(Be,de,Fe,at)}if(zu(Fe)||r(Fe))return wt!==null?null:ot(Be,de,Fe,at,null);if(typeof Fe.then=="function")return bt(Be,de,rn(Fe),at);if(Fe.$$typeof===Ca)return bt(Be,de,sh(Be,Fe),at);$t(Be,Fe)}return null}function qt(Be,de,Fe,at,wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Be=Be.get(Fe)||null,fe(de,Be,""+at,wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _h:return Be=Be.get(at.key===null?Fe:at.key)||null,xe(de,Be,at,wt);case ea:return Be=Be.get(at.key===null?Fe:at.key)||null,Ke(de,Be,at,wt);case ta:var ai=at._init;return at=ai(at._payload),qt(Be,de,Fe,at,wt)}if(zu(at)||r(at))return Be=Be.get(Fe)||null,ot(de,Be,at,wt,null);if(typeof at.then=="function")return qt(Be,de,Fe,rn(at),wt);if(at.$$typeof===Ca)return qt(Be,de,Fe,sh(de,at),wt);$t(de,at)}return null}function kr(Be,de,Fe,at){for(var wt=null,ai=null,kt=de,Bn=de=0,Di=null;kt!==null&&Bn<Fe.length;Bn++){kt.index>Bn?(Di=kt,kt=null):Di=kt.sibling;var fn=bt(Be,kt,Fe[Bn],at);if(fn===null){kt===null&&(kt=Di);break}f&&kt&&fn.alternate===null&&d(Be,kt),de=F(fn,de,Bn),ai===null?wt=fn:ai.sibling=fn,ai=fn,kt=Di}if(Bn===Fe.length)return _(Be,kt),Sn&&j(Be,Bn),wt;if(kt===null){for(;Bn<Fe.length;Bn++)kt=vt(Be,Fe[Bn],at),kt!==null&&(de=F(kt,de,Bn),ai===null?wt=kt:ai.sibling=kt,ai=kt);return Sn&&j(Be,Bn),wt}for(kt=C(kt);Bn<Fe.length;Bn++)Di=qt(kt,Be,Bn,Fe[Bn],at),Di!==null&&(f&&Di.alternate!==null&&kt.delete(Di.key===null?Bn:Di.key),de=F(Di,de,Bn),ai===null?wt=Di:ai.sibling=Di,ai=Di);return f&&kt.forEach(function(ho){return d(Be,ho)}),Sn&&j(Be,Bn),wt}function Kl(Be,de,Fe,at){if(Fe==null)throw Error(s(151));for(var wt=null,ai=null,kt=de,Bn=de=0,Di=null,fn=Fe.next();kt!==null&&!fn.done;Bn++,fn=Fe.next()){kt.index>Bn?(Di=kt,kt=null):Di=kt.sibling;var ho=bt(Be,kt,fn.value,at);if(ho===null){kt===null&&(kt=Di);break}f&&kt&&ho.alternate===null&&d(Be,kt),de=F(ho,de,Bn),ai===null?wt=ho:ai.sibling=ho,ai=ho,kt=Di}if(fn.done)return _(Be,kt),Sn&&j(Be,Bn),wt;if(kt===null){for(;!fn.done;Bn++,fn=Fe.next())fn=vt(Be,fn.value,at),fn!==null&&(de=F(fn,de,Bn),ai===null?wt=fn:ai.sibling=fn,ai=fn);return Sn&&j(Be,Bn),wt}for(kt=C(kt);!fn.done;Bn++,fn=Fe.next())fn=qt(kt,Be,Bn,fn.value,at),fn!==null&&(f&&fn.alternate!==null&&kt.delete(fn.key===null?Bn:fn.key),de=F(fn,de,Bn),ai===null?wt=fn:ai.sibling=fn,ai=fn);return f&&kt.forEach(function(kp){return d(Be,kp)}),Sn&&j(Be,Bn),wt}function Jl(Be,de,Fe,at){if(typeof Fe=="object"&&Fe!==null&&Fe.type===Nl&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case _h:e:{for(var wt=Fe.key;de!==null;){if(de.key===wt){if(wt=Fe.type,wt===Nl){if(de.tag===7){_(Be,de.sibling),at=I(de,Fe.props.children),at.return=Be,Be=at;break e}}else if(de.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===ta&&Ui(wt)===de.type){_(Be,de.sibling),at=I(de,Fe.props),On(at,Fe),at.return=Be,Be=at;break e}_(Be,de);break}else d(Be,de);de=de.sibling}Fe.type===Nl?(at=_i(Fe.props.children,Be.mode,at,Fe.key),at.return=Be,Be=at):(at=$a(Fe.type,Fe.key,Fe.props,null,Be.mode,at),On(at,Fe),at.return=Be,Be=at)}return ee(Be);case ea:e:{for(wt=Fe.key;de!==null;){if(de.key===wt)if(de.tag===4&&de.stateNode.containerInfo===Fe.containerInfo&&de.stateNode.implementation===Fe.implementation){_(Be,de.sibling),at=I(de,Fe.children||[]),at.return=Be,Be=at;break e}else{_(Be,de);break}else d(Be,de);de=de.sibling}at=ty(Fe,Be.mode,at),at.return=Be,Be=at}return ee(Be);case ta:return wt=Fe._init,Fe=wt(Fe._payload),Jl(Be,de,Fe,at)}if(zu(Fe))return kr(Be,de,Fe,at);if(r(Fe)){if(wt=r(Fe),typeof wt!="function")throw Error(s(150));return Fe=wt.call(Fe),Kl(Be,de,Fe,at)}if(typeof Fe.then=="function")return Jl(Be,de,rn(Fe),at);if(Fe.$$typeof===Ca)return Jl(Be,de,sh(Be,Fe),at);$t(Be,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint"?(Fe=""+Fe,de!==null&&de.tag===6?(_(Be,de.sibling),at=I(de,Fe),at.return=Be,Be=at):(_(Be,de),at=dp(Fe,Be.mode,at),at.return=Be,Be=at),ee(Be)):_(Be,de)}return function(Be,de,Fe,at){try{kl=0;var wt=Jl(Be,de,Fe,at);return Vl=null,wt}catch(kt){if(kt===Zu)throw kt;var ai=t(29,kt,null,Be.mode);return ai.lanes=at,ai.return=Be,ai}finally{}}}function Fi(f,d){f=Ps,B($u,f),B(ei,d),Ps=f|d.baseLanes}function Qi(){B($u,Ps),B(ei,ei.current)}function Is(){Ps=$u.current,S(ei),S($u)}function ar(f){var d=f.alternate;B(es,es.current&1),B(Pr,f),Kn===null&&(d===null||ei.current!==null||d.memoizedState!==null)&&(Kn=f)}function Wf(f){if(f.tag===22){if(B(es,es.current),B(Pr,f),Kn===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(Kn=f)}}else ba()}function ba(){B(es,es.current),B(Pr,Pr.current)}function Ws(f){S(Pr),Kn===f&&(Kn=null),S(es)}function xa(f){for(var d=f;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Ep(_)||Mp(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function kn(){throw Error(s(321))}function Sa(f,d){if(d===null)return!1;for(var _=0;_<d.length&&_<f.length;_++)if(!pr(f[_],d[_]))return!1;return!0}function Aa(f,d,_,C,I,F){return Ko=F,nn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Vt.H=f===null||f.memoizedState===null?Wl:er,jl=!1,F=_(C,I),jl=!1,Nc&&(F=wo(d,_,C,I)),yl(f),F}function yl(f){Vt.H=bi;var d=Ot!==null&&Ot.next!==null;if(Ko=0,Mn=Ot=nn=null,aa=!1,Oc=0,ds=null,d)throw Error(s(300));f===null||Jn||(f=f.dependencies,f!==null&&ih(f)&&(Jn=!0))}function wo(f,d,_,C){nn=f;var I=0;do{if(Nc&&(ds=null),Oc=0,Nc=!1,25<=I)throw Error(s(301));if(I+=1,Mn=Ot=null,f.updateQueue!=null){var F=f.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Vt.H=Ur,F=d(_,C)}while(Nc);return F}function Hi(){var f=Vt.H,d=f.useState()[0];return d=typeof d.then=="function"?Ie(d):d,f=f.useState()[0],(Ot!==null?Ot.memoizedState:null)!==f&&(nn.flags|=1024),d}function vu(){var f=Lp!==0;return Lp=0,f}function _u(f,d,_){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~_}function Ea(f){if(aa){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}aa=!1}Ko=0,Mn=Ot=nn=null,Nc=!1,Oc=Lp=0,ds=null}function J(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?nn.memoizedState=Mn=f:Mn=Mn.next=f,Mn}function me(){if(Ot===null){var f=nn.alternate;f=f!==null?f.memoizedState:null}else f=Ot.next;var d=Mn===null?nn.memoizedState:Mn.next;if(d!==null)Mn=d,Ot=f;else{if(f===null)throw nn.alternate===null?Error(s(467)):Error(s(310));Ot=f,f={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Mn===null?nn.memoizedState=Mn=f:Mn=Mn.next=f}return Mn}function Ie(f){var d=Oc;return Oc+=1,ds===null&&(ds=[]),f=dt(ds,f,d),d=nn,(Mn===null?d.memoizedState:Mn.next)===null&&(d=d.alternate,Vt.H=d===null||d.memoizedState===null?Wl:er),f}function Pe(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Ie(f);if(f.$$typeof===Ca)return bs(f)}throw Error(s(438,String(f)))}function ve(f){var d=null,_=nn.updateQueue;if(_!==null&&(d=_.memoCache),d==null){var C=nn.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(I){return I.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),_===null&&(_=Pp(),nn.updateQueue=_),_.memoCache=d,_=d.data[d.index],_===void 0)for(_=d.data[d.index]=Array(f),C=0;C<f;C++)_[C]=T_;return d.index++,_}function nt(f,d){return typeof d=="function"?d(f):d}function ft(f){var d=me();return pt(d,Ot,f)}function pt(f,d,_){var C=f.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=_;var I=f.baseQueue,F=C.pending;if(F!==null){if(I!==null){var ee=I.next;I.next=F.next,F.next=ee}d.baseQueue=I=F,C.pending=null}if(F=f.baseState,I===null)f.memoizedState=F;else{d=I.next;var fe=ee=null,xe=null,Ke=d,ot=!1;do{var vt=Ke.lane&-536870913;if(vt!==Ke.lane?(pn&vt)===vt:(Ko&vt)===vt){var bt=Ke.revertLane;if(bt===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),vt===Lr&&(ot=!0);else if((Ko&bt)===bt){Ke=Ke.next,bt===Lr&&(ot=!0);continue}else vt={lane:0,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},xe===null?(fe=xe=vt,ee=F):xe=xe.next=vt,nn.lanes|=bt,Gr|=bt;vt=Ke.action,jl&&_(F,vt),F=Ke.hasEagerState?Ke.eagerState:_(F,vt)}else bt={lane:vt,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},xe===null?(fe=xe=bt,ee=F):xe=xe.next=bt,nn.lanes|=vt,Gr|=vt;Ke=Ke.next}while(Ke!==null&&Ke!==d);if(xe===null?ee=F:xe.next=fe,!pr(F,f.memoizedState)&&(Jn=!0,ot&&(_=Dc,_!==null)))throw _;f.memoizedState=F,f.baseState=ee,f.baseQueue=xe,C.lastRenderedState=F}return I===null&&(C.lanes=0),[f.memoizedState,C.dispatch]}function St(f){var d=me(),_=d.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=f;var C=_.dispatch,I=_.pending,F=d.memoizedState;if(I!==null){_.pending=null;var ee=I=I.next;do F=f(F,ee.action),ee=ee.next;while(ee!==I);pr(F,d.memoizedState)||(Jn=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),_.lastRenderedState=F}return[F,C]}function Ft(f,d,_){var C=nn,I=me(),F=Sn;if(F){if(_===void 0)throw Error(s(407));_=_()}else _=d();var ee=!pr((Ot||I).memoizedState,_);if(ee&&(I.memoizedState=_,Jn=!0),I=I.queue,Tg(ln.bind(null,C,I,f),[f]),I.getSnapshot!==d||ee||Mn!==null&&Mn.memoizedState.tag&1){if(C.flags|=2048,Ys(9,Ct.bind(null,C,I,_,d),{destroy:void 0},null),Un===null)throw Error(s(349));F||(Ko&60)!==0||Dt(C,d,_)}return _}function Dt(f,d,_){f.flags|=16384,f={getSnapshot:d,value:_},d=nn.updateQueue,d===null?(d=Pp(),nn.updateQueue=d,d.stores=[f]):(_=d.stores,_===null?d.stores=[f]:_.push(f))}function Ct(f,d,_,C){d.value=_,d.getSnapshot=C,En(d)&&fi(f)}function ln(f,d,_){return _(function(){En(d)&&fi(f)})}function En(f){var d=f.getSnapshot;f=f.value;try{var _=d();return!pr(f,_)}catch{return!0}}function fi(f){var d=He(f,2);d!==null&&us(d,f,2)}function un(f){var d=J();if(typeof f=="function"){var _=f;if(f=_(),jl){Y(!0);try{_()}finally{Y(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:f},d}function dn(f,d,_,C){return f.baseState=_,pt(f,Ot,typeof C=="function"?C:nt)}function It(f,d,_,C,I){if(Zf(f))throw Error(s(485));if(f=d.action,f!==null){var F={payload:I,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){F.listeners.push(ee)}};Vt.T!==null?_(!0):F.isTransition=!1,C(F),_=d.pending,_===null?(F.next=d.pending=F,mi(d,F)):(F.next=_.next,d.pending=_.next=F)}}function mi(f,d){var _=d.action,C=d.payload,I=f.state;if(d.isTransition){var F=Vt.T,ee={};Vt.T=ee;try{var fe=_(I,C),xe=Vt.S;xe!==null&&xe(ee,fe),xn(f,d,fe)}catch(Ke){Ya(f,d,Ke)}finally{Vt.T=F}}else try{F=_(I,C),xn(f,d,F)}catch(Ke){Ya(f,d,Ke)}}function xn(f,d,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(C){ys(f,d,C)},function(C){return Ya(f,d,C)}):ys(f,d,_)}function ys(f,d,_){d.status="fulfilled",d.value=_,Yn(d),f.state=_,d=f.pending,d!==null&&(_=d.next,_===d?f.pending=null:(_=_.next,d.next=_,mi(f,_)))}function Ya(f,d,_){var C=f.pending;if(f.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=_,Yn(d),d=d.next;while(d!==C)}f.action=null}function Yn(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function qa(f,d){return d}function Xn(f,d){if(Sn){var _=Un.formState;if(_!==null){e:{var C=nn;if(Sn){if(Ts){var I=vy(Ts,hs);if(I){Ts=_y(I),C=q_(I);break e}}be(C)}C=!1}C&&(d=_[0])}}_=J(),_.memoizedState=_.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:d},_.queue=C,_=Bg.bind(null,nn,C),C.dispatch=_,C=un(!1);var F=Su.bind(null,nn,!1,C.queue);return C=J(),I={state:d,dispatch:null,action:f,pending:null},C.queue=I,_=It.bind(null,nn,I,F,_),I.dispatch=_,C.memoizedState=f,[d,_,!1]}function vs(f){var d=me();return zi(d,Ot,f)}function zi(f,d,_){d=pt(f,d,qa)[0],f=ft(nt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Ie(d):d;var C=me(),I=C.queue,F=I.dispatch;return _!==C.memoizedState&&(nn.flags|=2048,Ys(9,os.bind(null,I,_),{destroy:void 0},null)),[d,F,f]}function os(f,d){f.action=d}function ls(f){var d=me(),_=Ot;if(_!==null)return zi(d,_,f);me(),d=d.memoizedState,_=me();var C=_.queue.dispatch;return _.memoizedState=f,[d,C,!1]}function Ys(f,d,_,C){return f={tag:f,create:d,inst:_,deps:C,next:null},d=nn.updateQueue,d===null&&(d=Pp(),nn.updateQueue=d),_=d.lastEffect,_===null?d.lastEffect=f.next=f:(C=_.next,_.next=f,f.next=C,d.lastEffect=f),f}function Ka(){return me().memoizedState}function Yf(f,d,_,C){var I=J();nn.flags|=f,I.memoizedState=Ys(1|d,_,{destroy:void 0},C===void 0?null:C)}function qf(f,d,_,C){var I=me();C=C===void 0?null:C;var F=I.memoizedState.inst;Ot!==null&&C!==null&&Sa(C,Ot.memoizedState.deps)?I.memoizedState=Ys(d,_,F,C):(nn.flags|=f,I.memoizedState=Ys(1|d,_,F,C))}function Yd(f,d){Yf(8390656,8,f,d)}function Tg(f,d){qf(2048,8,f,d)}function s_(f,d){return qf(4,2,f,d)}function Kf(f,d){return qf(4,4,f,d)}function qd(f,d){if(typeof d=="function"){f=f();var _=d(f);return function(){typeof _=="function"?_():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Kd(f,d,_){_=_!=null?_.concat([f]):null,qf(4,4,qd.bind(null,d,f),_)}function vl(){}function gc(f,d){var _=me();d=d===void 0?null:d;var C=_.memoizedState;return d!==null&&Sa(d,C[1])?C[0]:(_.memoizedState=[f,d],f)}function Cg(f,d){var _=me();d=d===void 0?null:d;var C=_.memoizedState;if(d!==null&&Sa(d,C[1]))return C[0];if(C=f(),jl){Y(!0);try{f()}finally{Y(!1)}}return _.memoizedState=[C,d],C}function Jf(f,d,_){return _===void 0||(Ko&1073741824)!==0?f.memoizedState=d:(f.memoizedState=_,f=Kg(),nn.lanes|=f,Gr|=f,_)}function wg(f,d,_,C){return pr(_,d)?_:ei.current!==null?(f=Jf(f,_,C),pr(f,d)||(Jn=!0),f):(Ko&42)===0?(Jn=!0,f.memoizedState=_):(f=Kg(),nn.lanes|=f,Gr|=f,d)}function bu(f,d,_,C,I){var F=Xo();Os(F!==0&&8>F?F:8);var ee=Vt.T,fe={};Vt.T=fe,Su(f,!1,d,_);try{var xe=I(),Ke=Vt.S;if(Ke!==null&&Ke(fe,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var ot=Tt(xe,C);_l(f,d,ot,Ci(f))}else _l(f,d,C,Ci(f))}catch(vt){_l(f,d,{then:function(){},status:"rejected",reason:vt},Ci())}finally{Os(F),Vt.T=ee}}function Ja(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:Ll,baseState:Ll,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:Ll},next:null};var _={};return d.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:_},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function Qf(){return bs(wa)}function xu(){return me().memoizedState}function Ro(){return me().memoizedState}function Rg(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var _=Ci();f=xt(_);var C=At(d,f,_);C!==null&&(us(C,d,_),je(C,d,_)),d={cache:Al()},f.payload=d;return}d=d.return}}function Jd(f,d,_){var C=Ci();_={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},Zf(f)?qs(d,_):(_=Ve(f,d,_,C),_!==null&&(us(_,f,C),bl(_,d,C)))}function Bg(f,d,_){var C=Ci();_l(f,d,_,C)}function _l(f,d,_,C){var I={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(Zf(f))qs(d,I);else{var F=f.alternate;if(f.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var ee=d.lastRenderedState,fe=F(ee,_);if(I.hasEagerState=!0,I.eagerState=fe,pr(fe,ee))return Oe(f,d,I,0),Un===null&&X(),!1}catch{}finally{}if(_=Ve(f,d,I,C),_!==null)return us(_,f,C),bl(_,d,C),!0}return!1}function Su(f,d,_,C){if(C={lane:2,revertLane:ct(),action:C,hasEagerState:!1,eagerState:null,next:null},Zf(f)){if(d)throw Error(s(479))}else d=Ve(f,_,C,2),d!==null&&us(d,f,2)}function Zf(f){var d=f.alternate;return f===nn||d!==null&&d===nn}function qs(f,d){Nc=aa=!0;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}function bl(f,d,_){if((_&4194176)!==0){var C=d.lanes;C&=f.pendingLanes,_|=C,d.lanes=_,se(f,_)}}function Au(f,d,_,C){d=f.memoizedState,_=_(C,d),_=_==null?d:mp({},d,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}function Eu(f,d,_,C,I,F,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,F,ee):d.prototype&&d.prototype.isPureReactComponent?!Ge(_,C)||!Ge(I,F):!0}function r_(f,d,_,C){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,C),d.state!==f&&ao.enqueueReplaceState(d,d.state,null)}function Bo(f,d){var _=d;if("ref"in d){_={};for(var C in d)C!=="ref"&&(_[C]=d[C])}if(f=f.defaultProps){_===d&&(_=mp({},_));for(var I in f)_[I]===void 0&&(_[I]=f[I])}return _}function Mu(f,d){try{var _=f.onUncaughtError;_(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function Tu(f,d,_){try{var C=f.onCaughtError;C(_.value,{componentStack:_.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Cu(f,d,_){return _=xt(_),_.tag=3,_.payload={element:null},_.callback=function(){Mu(f,d)},_}function Dg(f){return f=xt(f),f.tag=3,f}function a_(f,d,_,C){var I=_.type.getDerivedStateFromError;if(typeof I=="function"){var F=C.value;f.payload=function(){return I(F)},f.callback=function(){Tu(d,_,C)}}var ee=_.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(f.callback=function(){Tu(d,_,C),typeof I!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function zE(f,d,_,C,I){if(_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=_.alternate,d!==null&&nh(d,_,I,!0),_=Pr.current,_!==null){switch(_.tag){case 13:return Kn===null?Fo():_.alternate===null&&Qn===0&&(Qn=3),_.flags&=-257,_.flags|=65536,_.lanes=I,C===Oh?_.flags|=16384:(d=_.updateQueue,d===null?_.updateQueue=new Set([C]):d.add(C),_c(f,C,I)),!1;case 22:return _.flags|=65536,C===Oh?_.flags|=16384:(d=_.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},_.updateQueue=d):(_=d.retryQueue,_===null?d.retryQueue=new Set([C]):_.add(C)),_c(f,C,I)),!1}throw Error(s(435,_.tag))}return _c(f,C,I),Fo(),!1}if(Sn)return d=Pr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=I,C!==Dh&&(f=Error(s(422),{cause:C}),Me(re(f,_)))):(C!==Dh&&(d=Error(s(423),{cause:C}),Me(re(d,_))),f=f.current.alternate,f.flags|=65536,I&=-I,f.lanes|=I,C=re(C,_),I=Cu(f.stateNode,C,I),le(f,I),Qn!==4&&(Qn=2)),!1;var F=Error(s(520),{cause:C});if(F=re(F,_),Pc===null?Pc=[F]:Pc.push(F),Qn!==4&&(Qn=2),d===null)return!0;C=re(C,_),_=d;do{switch(_.tag){case 3:return _.flags|=65536,f=I&-I,_.lanes|=f,f=Cu(_.stateNode,C,f),le(_,f),!1;case 1:if(d=_.type,F=_.stateNode,(_.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Yl===null||!Yl.has(F))))return _.flags|=65536,I&=-I,_.lanes|=I,I=Dg(I),a_(I,f,_,C),le(_,I),!1}_=_.return}while(_!==null);return!1}function _s(f,d,_,C){d.child=f===null?ro(d,null,_,C):Xl(d,f.child,_,C)}function Qd(f,d,_,C,I){_=_.render;var F=d.ref;if("ref"in C){var ee={};for(var fe in C)fe!=="ref"&&(ee[fe]=C[fe])}else ee=C;return Sl(d),C=Aa(f,d,_,ee,F,I),fe=vu(),f!==null&&!Jn?(_u(f,d,I),Do(f,d,I)):(Sn&&fe&&Se(d),d.flags|=1,_s(f,d,C,I),d.child)}function o_(f,d,_,C,I){if(f===null){var F=_.type;return typeof F=="function"&&!mh(F)&&F.defaultProps===void 0&&_.compare===null?(d.tag=15,d.type=F,l_(f,d,F,C,I)):(f=$a(_.type,null,C,d,d.mode,I),f.ref=d.ref,f.return=d,d.child=f)}if(F=f.child,!Pg(f,I)){var ee=F.memoizedProps;if(_=_.compare,_=_!==null?_:Ge,_(ee,C)&&f.ref===d.ref)return Do(f,d,I)}return d.flags|=1,f=$r(F,C),f.ref=d.ref,f.return=d,d.child=f}function l_(f,d,_,C,I){if(f!==null){var F=f.memoizedProps;if(Ge(F,C)&&f.ref===d.ref)if(Jn=!1,d.pendingProps=C=F,Pg(f,I))(f.flags&131072)!==0&&(Jn=!0);else return d.lanes=f.lanes,Do(f,d,I)}return Zd(f,d,_,C,I)}function c_(f,d,_){var C=d.pendingProps,I=C.children,F=(d.stateNode._pendingVisibility&2)!==0,ee=f!==null?f.memoizedState:null;if($f(f,d),C.mode==="hidden"||F){if((d.flags&128)!==0){if(C=ee!==null?ee.baseLanes|_:_,f!==null){for(I=d.child=f.child,F=0;I!==null;)F=F|I.lanes|I.childLanes,I=I.sibling;d.childLanes=F&~C}else d.childLanes=0,d.child=null;return u_(f,d,C,_)}if((_&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&ep(d,ee!==null?ee.cachePool:null),ee!==null?Fi(d,ee):Qi(),Wf(d);else return d.lanes=d.childLanes=536870912,u_(f,d,ee!==null?ee.baseLanes|_:_,_)}else ee!==null?(ep(d,ee.cachePool),Fi(d,ee),ba(),d.memoizedState=null):(f!==null&&ep(d,null),Qi(),ba());return _s(f,d,I,_),d.child}function u_(f,d,_,C){var I=Fg();return I=I===null?null:{parent:Qs?ti._currentValue:ti._currentValue2,pool:I},d.memoizedState={baseLanes:_,cachePool:I},f!==null&&ep(d,null),Qi(),Wf(d),f!==null&&nh(f,d,C,!0),null}function $f(f,d){var _=d.ref;if(_===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(s(284));(f===null||f.ref!==_)&&(d.flags|=2097664)}}function Zd(f,d,_,C,I){return Sl(d),_=Aa(f,d,_,C,void 0,I),C=vu(),f!==null&&!Jn?(_u(f,d,I),Do(f,d,I)):(Sn&&C&&Se(d),d.flags|=1,_s(f,d,_,I),d.child)}function f_(f,d,_,C,I,F){return Sl(d),d.updateQueue=null,_=wo(d,C,_,I),yl(f),C=vu(),f!==null&&!Jn?(_u(f,d,F),Do(f,d,F)):(Sn&&C&&Se(d),d.flags|=1,_s(f,d,_,F),d.child)}function h_(f,d,_,C,I){if(Sl(d),d.stateNode===null){var F=Hl,ee=_.contextType;typeof ee=="object"&&ee!==null&&(F=bs(ee)),F=new _(C,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=ao,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=C,F.state=d.memoizedState,F.refs={},We(d),ee=_.contextType,F.context=typeof ee=="object"&&ee!==null?bs(ee):Hl,F.state=d.memoizedState,ee=_.getDerivedStateFromProps,typeof ee=="function"&&(Au(d,_,ee,C),F.state=d.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ee=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ee!==F.state&&ao.enqueueReplaceState(F,F.state,null),lt(d,C,F,I),Ne(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(f===null){F=d.stateNode;var fe=d.memoizedProps,xe=Bo(_,fe);F.props=xe;var Ke=F.context,ot=_.contextType;ee=Hl,typeof ot=="object"&&ot!==null&&(ee=bs(ot));var vt=_.getDerivedStateFromProps;ot=typeof vt=="function"||typeof F.getSnapshotBeforeUpdate=="function",fe=d.pendingProps!==fe,ot||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(fe||Ke!==ee)&&r_(d,F,C,ee),qo=!1;var bt=d.memoizedState;F.state=bt,lt(d,C,F,I),Ne(),Ke=d.memoizedState,fe||bt!==Ke||qo?(typeof vt=="function"&&(Au(d,_,vt,C),Ke=d.memoizedState),(xe=qo||Eu(d,_,xe,C,bt,Ke,ee))?(ot||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=Ke),F.props=C,F.state=Ke,F.context=ee,C=xe):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{F=d.stateNode,ht(f,d),ee=d.memoizedProps,ot=Bo(_,ee),F.props=ot,vt=d.pendingProps,bt=F.context,Ke=_.contextType,xe=Hl,typeof Ke=="object"&&Ke!==null&&(xe=bs(Ke)),fe=_.getDerivedStateFromProps,(Ke=typeof fe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==vt||bt!==xe)&&r_(d,F,C,xe),qo=!1,bt=d.memoizedState,F.state=bt,lt(d,C,F,I),Ne();var qt=d.memoizedState;ee!==vt||bt!==qt||qo||f!==null&&f.dependencies!==null&&ih(f.dependencies)?(typeof fe=="function"&&(Au(d,_,fe,C),qt=d.memoizedState),(ot=qo||Eu(d,_,ot,C,bt,qt,xe)||f!==null&&f.dependencies!==null&&ih(f.dependencies))?(Ke||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(C,qt,xe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(C,qt,xe)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&bt===f.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&bt===f.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=qt),F.props=C,F.state=qt,F.context=xe,C=ot):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&bt===f.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&bt===f.memoizedState||(d.flags|=1024),C=!1)}return F=C,$f(f,d),C=(d.flags&128)!==0,F||C?(F=d.stateNode,_=C&&typeof _.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,f!==null&&C?(d.child=Xl(d,f.child,null,I),d.child=Xl(d,null,_,I)):_s(f,d,_,I),d.memoizedState=F.state,f=d.child):f=Do(f,d,I),f}function d_(f,d,_,C){return Ee(),d.flags|=256,_s(f,d,_,C),d.child}function Ig(f){return{baseLanes:f,cachePool:Hg()}}function eh(f,d,_){return f=f!==null?f.childLanes&~_:0,d&&(f|=Vr),f}function p_(f,d,_){var C=d.pendingProps,I=!1,F=(d.flags&128)!==0,ee;if((ee=F)||(ee=f!==null&&f.memoizedState===null?!1:(es.current&2)!==0),ee&&(I=!0,d.flags&=-129),ee=(d.flags&32)!==0,d.flags&=-33,f===null){if(Sn){if(I?ar(d):ba(),Sn){var fe=Ts,xe;(xe=fe)&&(fe=Q_(fe,hs),fe!==null?(d.memoizedState={dehydrated:fe,treeContext:zl!==null?{id:Ba,overflow:Da}:null,retryLane:536870912},xe=t(18,null,null,0),xe.stateNode=fe,xe.return=d,d.child=xe,Ms=d,Ts=null,xe=!0):xe=!1),xe||be(d)}if(fe=d.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Mp(fe)?d.lanes=16:d.lanes=536870912,null;Ws(d)}return fe=C.children,C=C.fallback,I?(ba(),I=d.mode,fe=Og({mode:"hidden",children:fe},I),C=_i(C,I,_,null),fe.return=d,C.return=d,fe.sibling=C,d.child=fe,I=d.child,I.memoizedState=Ig(_),I.childLanes=eh(f,ee,_),d.memoizedState=Hp,C):(ar(d),Ng(d,fe))}if(xe=f.memoizedState,xe!==null&&(fe=xe.dehydrated,fe!==null)){if(F)d.flags&256?(ar(d),d.flags&=-257,d=$d(f,d,_)):d.memoizedState!==null?(ba(),d.child=f.child,d.flags|=128,d=null):(ba(),I=C.fallback,fe=d.mode,C=Og({mode:"visible",children:C.children},fe),I=_i(I,fe,_,null),I.flags|=2,C.return=d,I.return=d,C.sibling=I,d.child=C,Xl(d,f.child,null,_),C=d.child,C.memoizedState=Ig(_),C.childLanes=eh(f,ee,_),d.memoizedState=Hp,d=I);else if(ar(d),Mp(fe))ee=W_(fe).digest,C=Error(s(419)),C.stack="",C.digest=ee,Me({value:C,source:null,stack:null}),d=$d(f,d,_);else if(Jn||nh(f,d,_,!1),ee=(_&f.childLanes)!==0,Jn||ee){if(ee=Un,ee!==null){if(C=_&-_,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(ee.suspendedLanes|_))!==0?0:C,C!==0&&C!==xe.retryLane)throw xe.retryLane=C,He(f,C),us(ee,f,C),Fp}Ep(fe)||Fo(),d=$d(f,d,_)}else Ep(fe)?(d.flags|=128,d.child=f.child,d=Ho.bind(null,f),Y_(fe,d),d=null):(f=xe.treeContext,Es&&(Ts=J_(fe),Ms=d,Sn=!0,sa=null,hs=!1,f!==null&&(Nr[Or++]=Ba,Nr[Or++]=Da,Nr[Or++]=zl,Ba=f.id,Da=f.overflow,zl=d)),d=Ng(d,C.children),d.flags|=4096);return d}return I?(ba(),I=C.fallback,fe=d.mode,xe=f.child,F=xe.sibling,C=$r(xe,{mode:"hidden",children:C.children}),C.subtreeFlags=xe.subtreeFlags&31457280,F!==null?I=$r(F,I):(I=_i(I,fe,_,null),I.flags|=2),I.return=d,C.return=d,C.sibling=I,d.child=C,C=I,I=d.child,fe=f.child.memoizedState,fe===null?fe=Ig(_):(xe=fe.cachePool,xe!==null?(F=Qs?ti._currentValue:ti._currentValue2,xe=xe.parent!==F?{parent:F,pool:F}:xe):xe=Hg(),fe={baseLanes:fe.baseLanes|_,cachePool:xe}),I.memoizedState=fe,I.childLanes=eh(f,ee,_),d.memoizedState=Hp,C):(ar(d),_=f.child,f=_.sibling,_=$r(_,{mode:"visible",children:C.children}),_.return=d,_.sibling=null,f!==null&&(ee=d.deletions,ee===null?(d.deletions=[f],d.flags|=16):ee.push(f)),d.child=_,d.memoizedState=null,_)}function Ng(f,d){return d=Og({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function Og(f,d){return yh(f,d,0,null)}function $d(f,d,_){return Xl(d,f.child,null,_),f=Ng(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function m_(f,d,_){f.lanes|=d;var C=f.alternate;C!==null&&(C.lanes|=d),th(f.return,d,_)}function Lg(f,d,_,C,I){var F=f.memoizedState;F===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:_,tailMode:I}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=C,F.tail=_,F.tailMode=I)}function g_(f,d,_){var C=d.pendingProps,I=C.revealOrder,F=C.tail;if(_s(f,d,C.children,_),C=es.current,(C&2)!==0)C=C&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&m_(f,_,d);else if(f.tag===19)m_(f,_,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}switch(B(es,C),I){case"forwards":for(_=d.child,I=null;_!==null;)f=_.alternate,f!==null&&xa(f)===null&&(I=_),_=_.sibling;_=I,_===null?(I=d.child,d.child=null):(I=_.sibling,_.sibling=null),Lg(d,!1,I,_,F);break;case"backwards":for(_=null,I=d.child,d.child=null;I!==null;){if(f=I.alternate,f!==null&&xa(f)===null){d.child=I;break}f=I.sibling,I.sibling=_,_=I,I=f}Lg(d,!0,_,null,F);break;case"together":Lg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Do(f,d,_){if(f!==null&&(d.dependencies=f.dependencies),Gr|=d.lanes,(_&d.childLanes)===0)if(f!==null){if(nh(f,d,_,!1),(_&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(s(153));if(d.child!==null){for(f=d.child,_=$r(f,f.pendingProps),d.child=_,_.return=d;f.sibling!==null;)f=f.sibling,_=_.sibling=$r(f,f.pendingProps),_.return=d;_.sibling=null}return d.child}function Pg(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&ih(f)))}function GE(f,d,_){switch(d.tag){case 3:ce(d,d.stateNode.containerInfo),xl(d,ti,f.memoizedState.cache),Ee();break;case 27:case 5:Xe(d);break;case 4:ce(d,d.stateNode.containerInfo);break;case 10:xl(d,d.type,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(ar(d),d.flags|=128,null):(_&d.child.childLanes)!==0?p_(f,d,_):(ar(d),f=Do(f,d,_),f!==null?f.sibling:null);ar(d);break;case 19:var I=(f.flags&128)!==0;if(C=(_&d.childLanes)!==0,C||(nh(f,d,_,!1),C=(_&d.childLanes)!==0),I){if(C)return g_(f,d,_);d.flags|=128}if(I=d.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),B(es,es.current),C)break;return null;case 22:case 23:return d.lanes=0,c_(f,d,_);case 24:xl(d,ti,f.memoizedState.cache)}return Do(f,d,_)}function y_(f,d,_){if(f!==null)if(f.memoizedProps!==d.pendingProps)Jn=!0;else{if(!Pg(f,_)&&(d.flags&128)===0)return Jn=!1,GE(f,d,_);Jn=(f.flags&131072)!==0}else Jn=!1,Sn&&(d.flags&1048576)!==0&&ae(d,qu,d.index);switch(d.lanes=0,d.tag){case 16:e:{f=d.pendingProps;var C=d.elementType,I=C._init;if(C=I(C._payload),d.type=C,typeof C=="function")mh(C)?(f=Bo(C,f),d.tag=1,d=h_(null,d,C,f,_)):(d.tag=0,d=Zd(null,d,C,f,_));else{if(C!=null){if(I=C.$$typeof,I===Sh){d.tag=11,d=Qd(null,d,C,f,_);break e}else if(I===vp){d.tag=14,d=o_(null,d,C,f,_);break e}}throw d=a(C)||C,Error(s(306,d,""))}}return d;case 0:return Zd(f,d,d.type,d.pendingProps,_);case 1:return C=d.type,I=Bo(C,d.pendingProps),h_(f,d,C,I,_);case 3:e:{if(ce(d,d.stateNode.containerInfo),f===null)throw Error(s(387));var F=d.pendingProps;I=d.memoizedState,C=I.element,ht(f,d),lt(d,F,null,_);var ee=d.memoizedState;if(F=ee.cache,xl(d,ti,F),F!==I.cache&&yc(d,[ti],_,!0),Ne(),F=ee.element,Es&&I.isDehydrated)if(I={element:F,isDehydrated:!1,cache:ee.cache},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){d=d_(f,d,F,_);break e}else if(F!==C){C=re(Error(s(424)),d),Me(C),d=d_(f,d,F,_);break e}else for(Es&&(Ts=K_(d.stateNode.containerInfo),Ms=d,Sn=!0,sa=null,hs=!0),_=ro(d,null,F,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ee(),F===C){d=Do(f,d,_);break e}_s(f,d,F,_)}d=d.child}return d;case 26:if(Ir)return $f(f,d),f===null?(_=Sy(d.type,null,d.pendingProps,null))?d.memoizedState=_:Sn||(d.stateNode=Bp(d.type,d.pendingProps,io.current,d)):d.memoizedState=Sy(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(qn)return Xe(d),f===null&&qn&&Sn&&(C=d.stateNode=Ra(d.type,d.pendingProps,io.current,$i.current,!1),Ms=d,hs=!0,Ts=Tp(C)),C=d.pendingProps.children,f!==null||Sn?_s(f,d,C,_):d.child=Xl(d,null,C,_),$f(f,d),d.child;case 5:return f===null&&Sn&&(wp(d.type,d.pendingProps,$i.current),(I=C=Ts)&&(C=qE(C,d.type,d.pendingProps,hs),C!==null?(d.stateNode=C,Ms=d,Ts=Tp(C),hs=!1,I=!0):I=!1),I||be(d)),Xe(d),I=d.type,F=d.pendingProps,ee=f!==null?f.memoizedProps:null,C=F.children,Jt(I,F)?C=null:ee!==null&&Jt(I,ee)&&(d.flags|=32),d.memoizedState!==null&&(I=Aa(f,d,Hi,null,null,_),Qs?wa._currentValue=I:wa._currentValue2=I),$f(f,d),_s(f,d,C,_),d.child;case 6:return f===null&&Sn&&(nb(d.pendingProps,$i.current),(f=_=Ts)&&(_=by(_,d.pendingProps,hs),_!==null?(d.stateNode=_,Ms=d,Ts=null,f=!0):f=!1),f||be(d)),null;case 13:return p_(f,d,_);case 4:return ce(d,d.stateNode.containerInfo),C=d.pendingProps,f===null?d.child=Xl(d,null,C,_):_s(f,d,C,_),d.child;case 11:return Qd(f,d,d.type,d.pendingProps,_);case 7:return _s(f,d,d.pendingProps,_),d.child;case 8:return _s(f,d,d.pendingProps.children,_),d.child;case 12:return _s(f,d,d.pendingProps.children,_),d.child;case 10:return C=d.pendingProps,xl(d,d.type,C.value),_s(f,d,C.children,_),d.child;case 9:return I=d.type._context,C=d.pendingProps.children,Sl(d),I=bs(I),C=C(I),d.flags|=1,_s(f,d,C,_),d.child;case 14:return o_(f,d,d.type,d.pendingProps,_);case 15:return l_(f,d,d.type,d.pendingProps,_);case 19:return g_(f,d,_);case 22:return c_(f,d,_);case 24:return Sl(d),C=bs(ti),f===null?(I=Fg(),I===null&&(I=Un,F=Al(),I.pooledCache=F,F.refCount++,F!==null&&(I.pooledCacheLanes|=_),I=F),d.memoizedState={parent:C,cache:I},We(d),xl(d,ti,I)):((f.lanes&_)!==0&&(ht(f,d),lt(d,null,null,_),Ne()),I=f.memoizedState,F=d.memoizedState,I.parent!==C?(I={parent:C,cache:C},d.memoizedState=I,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=I),xl(d,ti,C)):(C=F.cache,xl(d,ti,C),C!==I.cache&&yc(d,[ti],_,!0))),_s(f,d,d.pendingProps.children,_),d.child;case 29:throw d.pendingProps}throw Error(s(156,d.tag))}function xl(f,d,_){Qs?(B(Jo,d._currentValue),d._currentValue=_):(B(Jo,d._currentValue2),d._currentValue2=_)}function Io(f){var d=Jo.current;Qs?f._currentValue=d:f._currentValue2=d,S(Jo)}function th(f,d,_){for(;f!==null;){var C=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),f===_)break;f=f.return}}function yc(f,d,_,C){var I=f.child;for(I!==null&&(I.return=f);I!==null;){var F=I.dependencies;if(F!==null){var ee=I.child;F=F.firstContext;e:for(;F!==null;){var fe=F;F=I;for(var xe=0;xe<d.length;xe++)if(fe.context===d[xe]){F.lanes|=_,fe=F.alternate,fe!==null&&(fe.lanes|=_),th(F.return,_,f),C||(ee=null);break e}F=fe.next}}else if(I.tag===18){if(ee=I.return,ee===null)throw Error(s(341));ee.lanes|=_,F=ee.alternate,F!==null&&(F.lanes|=_),th(ee,_,f),ee=null}else ee=I.child;if(ee!==null)ee.return=I;else for(ee=I;ee!==null;){if(ee===f){ee=null;break}if(I=ee.sibling,I!==null){I.return=ee.return,ee=I;break}ee=ee.return}I=ee}}function nh(f,d,_,C){f=null;for(var I=d,F=!1;I!==null;){if(!F){if((I.flags&524288)!==0)F=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ee=I.alternate;if(ee===null)throw Error(s(387));if(ee=ee.memoizedProps,ee!==null){var fe=I.type;pr(I.pendingProps.value,ee.value)||(f!==null?f.push(fe):f=[fe])}}else if(I===Cc.current){if(ee=I.alternate,ee===null)throw Error(s(387));ee.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(f!==null?f.push(wa):f=[wa])}I=I.return}f!==null&&yc(d,f,_,C),d.flags|=262144}function ih(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!pr(Qs?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Sl(f){Oa=f,Fr=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function bs(f){return Ug(Oa,f)}function sh(f,d){return Oa===null&&Sl(f),Ug(f,d)}function Ug(f,d){var _=Qs?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:_,next:null},Fr===null){if(f===null)throw Error(s(308));Fr=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else Fr=Fr.next=d;return _}function Al(){return{controller:new ef,data:new Map,refCount:0}}function rh(f){f.refCount--,f.refCount===0&&db(pb,function(){f.controller.abort()})}function Fg(){var f=oo.current;return f!==null?f:Un.pooledCache}function ep(f,d){d===null?B(oo,oo.current):B(oo,d.pool)}function Hg(){var f=Fg();return f===null?null:{parent:Qs?ti._currentValue:ti._currentValue2,pool:f}}function or(f){f.flags|=4}function wu(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function vc(f,d,_,C){if(Zi)for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)Eh(f,_.stateNode);else if(!(_.tag===4||qn&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(na)for(var I=d.child;I!==null;){if(I.tag===5){var F=I.stateNode;_&&C&&(F=gy(F,I.type,I.memoizedProps)),Eh(f,F)}else if(I.tag===6)F=I.stateNode,_&&C&&(F=yy(F,I.memoizedProps)),Eh(f,F);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)F=I.child,F!==null&&(F.return=I),vc(f,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function v_(f,d,_,C){if(na)for(var I=d.child;I!==null;){if(I.tag===5){var F=I.stateNode;_&&C&&(F=gy(F,I.type,I.memoizedProps)),my(f,F)}else if(I.tag===6)F=I.stateNode,_&&C&&(F=yy(F,I.memoizedProps)),my(f,F);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)F=I.child,F!==null&&(F.return=I),v_(f,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function ah(f,d){if(na&&wu(f,d)){f=d.stateNode;var _=f.containerInfo,C=Mh();v_(C,d,!1,!1),f.pendingChildren=C,or(d),Ap(_,C)}}function tp(f,d,_,C){if(Zi)f.memoizedProps!==C&&or(d);else if(na){var I=f.stateNode,F=f.memoizedProps;if((f=wu(f,d))||F!==C){var ee=$i.current;F=ju(I,_,F,C,!f,null),F===I?d.stateNode=I:(ko(F,_,C,ee)&&or(d),d.stateNode=F,f?vc(F,d,!1,!1):or(d))}else d.stateNode=I}}function np(f,d,_){if(oy(d,_)){if(f.flags|=16777216,!xp(d,_))if(Rl())f.flags|=8192;else throw Gl=Oh,Nh}else f.flags&=-16777217}function ip(f,d){if(rb(d)){if(f.flags|=16777216,!Sc(d))if(Rl())f.flags|=8192;else throw Gl=Oh,Nh}else f.flags&=-16777217}function Ru(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?O():536870912,f.lanes|=d,uo|=d)}function Bu(f,d){if(!Sn)switch(f.tailMode){case"hidden":d=f.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var C=null;_!==null;)_.alternate!==null&&(C=_),_=_.sibling;C===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function hi(f){var d=f.alternate!==null&&f.alternate.child===f.child,_=0,C=0;if(d)for(var I=f.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags&31457280,C|=I.flags&31457280,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=C,f.childLanes=_,d}function __(f,d,_){var C=d.pendingProps;switch(Ae(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(d),null;case 1:return hi(d),null;case 3:return _=d.stateNode,C=null,f!==null&&(C=f.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),Io(ti),Te(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(oe(d)?or(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,sa!==null&&(dh(sa),sa=null))),ah(f,d),hi(d),null;case 26:if(Ir){_=d.type;var I=d.memoizedState;return f===null?(or(d),I!==null?(hi(d),ip(d,I)):(hi(d),np(d,_,C))):I?I!==f.memoizedState?(or(d),hi(d),ip(d,I)):(hi(d),d.flags&=-16777217):(Zi?f.memoizedProps!==C&&or(d):tp(f,d,_,C),hi(d),np(d,_,C)),null}case 27:if(qn){if(et(d),_=io.current,I=d.type,f!==null&&d.stateNode!=null)Zi?f.memoizedProps!==C&&or(d):tp(f,d,I,C);else{if(!C){if(d.stateNode===null)throw Error(s(166));return hi(d),null}f=$i.current,oe(d)?W(d,f):(f=Ra(I,C,_,f,!0),d.stateNode=f,or(d))}return hi(d),null}case 5:if(et(d),_=d.type,f!==null&&d.stateNode!=null)tp(f,d,_,C);else{if(!C){if(d.stateNode===null)throw Error(s(166));return hi(d),null}f=$i.current,oe(d)?W(d,f):(I=ay(_,C,io.current,f,d),vc(I,d,!1,!1),d.stateNode=I,ko(I,_,C,f)&&or(d))}return hi(d),np(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)_=f.memoizedProps,Zi?_!==C&&or(d):na&&(_!==C?(d.stateNode=zn(C,io.current,$i.current,d),or(d)):d.stateNode=f.stateNode);else{if(typeof C!="string"&&d.stateNode===null)throw Error(s(166));if(f=io.current,_=$i.current,oe(d)){if(!Es)throw Error(s(176));if(f=d.stateNode,_=d.memoizedProps,C=null,I=Ms,I!==null)switch(I.tag){case 27:case 5:C=I.memoizedProps}xy(f,_,d,C)||be(d)}else d.stateNode=zn(C,f,_,d)}return hi(d),null;case 13:if(C=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(I=oe(d),C!==null&&C.dehydrated!==null){if(f===null){if(!I)throw Error(s(318));if(!Es)throw Error(s(344));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));$_(I,d)}else Ee(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;hi(d),I=!1}else sa!==null&&(dh(sa),sa=null),I=!0;if(!I)return d.flags&256?(Ws(d),d):(Ws(d),null)}if(Ws(d),(d.flags&128)!==0)return d.lanes=_,d;if(_=C!==null,f=f!==null&&f.memoizedState!==null,_){C=d.child,I=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(I=C.alternate.memoizedState.cachePool.pool);var F=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(F=C.memoizedState.cachePool.pool),F!==I&&(C.flags|=2048)}return _!==f&&_&&(d.child.flags|=8192),Ru(d,d.updateQueue),hi(d),null;case 4:return Te(),ah(f,d),f===null&&wi(d.stateNode.containerInfo),hi(d),null;case 10:return Io(d.type),hi(d),null;case 19:if(S(es),I=d.memoizedState,I===null)return hi(d),null;if(C=(d.flags&128)!==0,F=I.rendering,F===null)if(C)Bu(I,!1);else{if(Qn!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(F=xa(f),F!==null){for(d.flags|=128,Bu(I,!1),f=F.updateQueue,d.updateQueue=f,Ru(d,f),d.subtreeFlags=0,f=_,_=d.child;_!==null;)gh(_,f),_=_.sibling;return B(es,es.current&1|2),d.child}f=f.sibling}I.tail!==null&&ia()>sf&&(d.flags|=128,C=!0,Bu(I,!1),d.lanes=4194304)}else{if(!C)if(f=xa(F),f!==null){if(d.flags|=128,C=!0,f=f.updateQueue,d.updateQueue=f,Ru(d,f),Bu(I,!0),I.tail===null&&I.tailMode==="hidden"&&!F.alternate&&!Sn)return hi(d),null}else 2*ia()-I.renderingStartTime>sf&&_!==536870912&&(d.flags|=128,C=!0,Bu(I,!1),d.lanes=4194304);I.isBackwards?(F.sibling=d.child,d.child=F):(f=I.last,f!==null?f.sibling=F:d.child=F,I.last=F)}return I.tail!==null?(d=I.tail,I.rendering=d,I.tail=d.sibling,I.renderingStartTime=ia(),d.sibling=null,f=es.current,B(es,C?f&1|2:f&1),d):(hi(d),null);case 22:case 23:return Ws(d),Is(),C=d.memoizedState!==null,f!==null?f.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(_&536870912)!==0&&(d.flags&128)===0&&(hi(d),d.subtreeFlags&6&&(d.flags|=8192)):hi(d),_=d.updateQueue,_!==null&&Ru(d,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==_&&(d.flags|=2048),f!==null&&S(oo),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),d.memoizedState.cache!==_&&(d.flags|=2048),Io(ti),hi(d),null;case 25:return null}throw Error(s(156,d.tag))}function VE(f,d){switch(Ae(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return Io(ti),Te(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return et(d),null;case 13:if(Ws(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Ee()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return S(es),null;case 4:return Te(),null;case 10:return Io(d.type),null;case 22:case 23:return Ws(d),Is(),f!==null&&S(oo),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return Io(ti),null;case 25:return null;default:return null}}function b_(f,d){switch(Ae(d),d.tag){case 3:Io(ti),Te();break;case 26:case 27:case 5:et(d);break;case 4:Te();break;case 13:Ws(d);break;case 19:S(es);break;case 10:Io(d.type);break;case 22:case 23:Ws(d),Is(),f!==null&&S(oo);break;case 24:Io(ti)}}function oh(f,d){try{var _=d.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var I=C.next;_=I;do{if((_.tag&f)===f){C=void 0;var F=_.create,ee=_.inst;C=F(),ee.destroy=C}_=_.next}while(_!==I)}}catch(fe){Ln(d,d.return,fe)}}function El(f,d,_){try{var C=d.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var F=I.next;C=F;do{if((C.tag&f)===f){var ee=C.inst,fe=ee.destroy;if(fe!==void 0){ee.destroy=void 0,I=d;var xe=_;try{fe()}catch(Ke){Ln(I,xe,Ke)}}}C=C.next}while(C!==F)}}catch(Ke){Ln(d,d.return,Ke)}}function x_(f){var d=f.updateQueue;if(d!==null){var _=f.stateNode;try{st(d,_)}catch(C){Ln(f,f.return,C)}}}function lr(f,d,_){_.props=Bo(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(C){Ln(f,d,C)}}function Ma(f,d){try{var _=f.ref;if(_!==null){var C=f.stateNode;switch(f.tag){case 26:case 27:case 5:var I=Vu(C);break;default:I=C}typeof _=="function"?f.refCleanup=_(I):_.current=I}}catch(F){Ln(f,d,F)}}function cr(f,d){var _=f.ref,C=f.refCleanup;if(_!==null)if(typeof C=="function")try{C()}catch(I){Ln(f,d,I)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(I){Ln(f,d,I)}else _.current=null}function zg(f){var d=f.type,_=f.memoizedProps,C=f.stateNode;try{WE(C,d,_,f)}catch(I){Ln(f,f.return,I)}}function Gg(f,d,_){try{F_(f.stateNode,f.type,_,d,f)}catch(C){Ln(f,f.return,C)}}function Vg(f){return f.tag===5||f.tag===3||(Ir?f.tag===26:!1)||(qn?f.tag===27:!1)||f.tag===4}function lh(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Vg(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!qn||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function kg(f,d,_){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?z_(_,f,d):hy(_,f);else if(!(C===4||qn&&C===27)&&(f=f.child,f!==null))for(kg(f,d,_),f=f.sibling;f!==null;)kg(f,d,_),f=f.sibling}function No(f,d,_){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?H_(_,f,d):P_(_,f);else if(!(C===4||qn&&C===27)&&(f=f.child,f!==null))for(No(f,d,_),f=f.sibling;f!==null;)No(f,d,_),f=f.sibling}function sp(f,d,_){f=f.containerInfo;try{Wu(f,_)}catch(C){Ln(d,d.return,C)}}function ch(f,d){for(_p(f.containerInfo),Yt=d;Yt!==null;)if(f=Yt,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Yt=d;else for(;Yt!==null;){f=Yt;var _=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&_!==null){d=void 0;var C=f,I=_.memoizedProps;_=_.memoizedState;var F=C.stateNode;try{var ee=Bo(C.type,I,C.elementType===C.type);d=F.getSnapshotBeforeUpdate(ee,_),F.__reactInternalSnapshotBeforeUpdate=d}catch(fe){Ln(C,C.return,fe)}}break;case 3:(d&1024)!==0&&Zi&&j_(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=f.sibling,d!==null){d.return=f.return,Yt=d;break}Yt=f.return}return ee=cn,cn=!1,ee}function rp(f,d,_){var C=_.flags;switch(_.tag){case 0:case 11:case 15:Lo(f,_),C&4&&oh(5,_);break;case 1:if(Lo(f,_),C&4)if(f=_.stateNode,d===null)try{f.componentDidMount()}catch(fe){Ln(_,_.return,fe)}else{var I=Bo(_.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(I,d,f.__reactInternalSnapshotBeforeUpdate)}catch(fe){Ln(_,_.return,fe)}}C&64&&x_(_),C&512&&Ma(_,_.return);break;case 3:if(Lo(f,_),C&64&&(C=_.updateQueue,C!==null)){if(f=null,_.child!==null)switch(_.child.tag){case 27:case 5:f=Vu(_.child.stateNode);break;case 1:f=_.child.stateNode}try{st(C,f)}catch(fe){Ln(_,_.return,fe)}}break;case 26:if(Ir){Lo(f,_),C&512&&Ma(_,_.return);break}case 27:case 5:Lo(f,_),d===null&&C&4&&zg(_),C&512&&Ma(_,_.return);break;case 12:Lo(f,_);break;case 13:Lo(f,_),C&4&&ap(f,_);break;case 22:if(I=_.memoizedState!==null||lo,!I){d=d!==null&&d.memoizedState!==null||xi;var F=lo,ee=xi;lo=I,(xi=d)&&!ee?Po(f,_,(_.subtreeFlags&8772)!==0):Lo(f,_),lo=F,xi=ee}C&512&&(_.memoizedProps.mode==="manual"?Ma(_,_.return):cr(_,_.return));break;default:Lo(f,_)}}function Xg(f){var d=f.alternate;d!==null&&(f.alternate=null,Xg(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&jE(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function xs(f,d,_){for(_=_.child;_!==null;)Ml(f,d,_),_=_.sibling}function Ml(f,d,_){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Bi,_)}catch{}switch(_.tag){case 26:if(Ir){xi||cr(_,d),xs(f,d,_),_.memoizedState?xc(_.memoizedState):_.stateNode&&Yu(_.stateNode);break}case 27:if(qn){xi||cr(_,d);var C=Nt,I=en;Nt=_.stateNode,xs(f,d,_),Fl(_.stateNode),Nt=C,en=I;break}case 5:xi||cr(_,d);case 6:if(Zi){if(C=Nt,I=en,Nt=null,xs(f,d,_),Nt=C,en=I,Nt!==null)if(en)try{G_(Nt,_.stateNode)}catch(F){Ln(_,d,F)}else try{dy(Nt,_.stateNode)}catch(F){Ln(_,d,F)}}else xs(f,d,_);break;case 18:Zi&&Nt!==null&&(en?Th(Nt,_.stateNode):tb(Nt,_.stateNode));break;case 4:Zi?(C=Nt,I=en,Nt=_.stateNode.containerInfo,en=!0,xs(f,d,_),Nt=C,en=I):(na&&sp(_.stateNode,_,Mh()),xs(f,d,_));break;case 0:case 11:case 14:case 15:xi||El(2,_,d),xi||El(4,_,d),xs(f,d,_);break;case 1:xi||(cr(_,d),C=_.stateNode,typeof C.componentWillUnmount=="function"&&lr(_,d,C)),xs(f,d,_);break;case 21:xs(f,d,_);break;case 22:xi||cr(_,d),xi=(C=xi)||_.memoizedState!==null,xs(f,d,_),xi=C;break;default:xs(f,d,_)}}function ap(f,d){if(Es&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{JE(f)}catch(_){Ln(d,d.return,_)}}function S_(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new Pn),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new Pn),d;default:throw Error(s(435,f.tag))}}function Oo(f,d){var _=S_(f);d.forEach(function(C){var I=Il.bind(null,f,C);_.has(C)||(_.add(C),C.then(I,I))})}function Ks(f,d){var _=d.deletions;if(_!==null)for(var C=0;C<_.length;C++){var I=_[C],F=f,ee=d;if(Zi){var fe=ee;e:for(;fe!==null;){switch(fe.tag){case 27:case 5:Nt=fe.stateNode,en=!1;break e;case 3:Nt=fe.stateNode.containerInfo,en=!0;break e;case 4:Nt=fe.stateNode.containerInfo,en=!0;break e}fe=fe.return}if(Nt===null)throw Error(s(160));Ml(F,ee,I),Nt=null,en=!1}else Ml(F,ee,I);F=I.alternate,F!==null&&(F.return=null),I.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)jg(d,f),d=d.sibling}function jg(f,d){var _=f.alternate,C=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ks(d,f),ur(f),C&4&&(El(3,f,f.return),oh(3,f),El(5,f,f.return));break;case 1:Ks(d,f),ur(f),C&512&&(xi||_===null||cr(_,_.return)),C&64&&lo&&(f=f.updateQueue,f!==null&&(C=f.callbacks,C!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?C:_.concat(C))));break;case 26:if(Ir){var I=yi;Ks(d,f),ur(f),C&512&&(xi||_===null||cr(_,_.return)),C&4&&(C=_!==null?_.memoizedState:null,d=f.memoizedState,_===null?d===null?f.stateNode===null?f.stateNode=wh(I,f.type,f.memoizedProps,f):Rh(I,f.type,f.stateNode):f.stateNode=ib(I,d,f.memoizedProps):C!==d?(C===null?_.stateNode!==null&&Yu(_.stateNode):xc(C),d===null?Rh(I,f.type,f.stateNode):ib(I,d,f.memoizedProps)):d===null&&f.stateNode!==null&&Gg(f,f.memoizedProps,_.memoizedProps));break}case 27:if(qn&&C&4&&f.alternate===null){I=f.stateNode;var F=f.memoizedProps;try{Ul(I),ob(f.type,F,I,f)}catch(ot){Ln(f,f.return,ot)}}case 5:if(Ks(d,f),ur(f),C&512&&(xi||_===null||cr(_,_.return)),Zi){if(f.flags&32){d=f.stateNode;try{py(d)}catch(ot){Ln(f,f.return,ot)}}C&4&&f.stateNode!=null&&(d=f.memoizedProps,Gg(f,d,_!==null?_.memoizedProps:d)),C&1024&&(Ty=!0)}break;case 6:if(Ks(d,f),ur(f),C&4&&Zi){if(f.stateNode===null)throw Error(s(162));C=f.memoizedProps,_=_!==null?_.memoizedProps:C,d=f.stateNode;try{U_(d,_,C)}catch(ot){Ln(f,f.return,ot)}}break;case 3:if(Ir?(sb(),I=yi,yi=Rp(d.containerInfo),Ks(d,f),yi=I):Ks(d,f),ur(f),C&4){if(Zi&&Es&&_!==null&&_.memoizedState.isDehydrated)try{KE(d.containerInfo)}catch(ot){Ln(f,f.return,ot)}if(na){C=d.containerInfo,_=d.pendingChildren;try{Wu(C,_)}catch(ot){Ln(f,f.return,ot)}}}Ty&&(Ty=!1,A_(f));break;case 4:Ir?(_=yi,yi=Rp(f.stateNode.containerInfo),Ks(d,f),ur(f),yi=_):(Ks(d,f),ur(f)),C&4&&na&&sp(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Ks(d,f),ur(f);break;case 13:Ks(d,f),ur(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(tr=ia()),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Oo(f,C)));break;case 22:C&512&&(xi||_===null||cr(_,_.return)),I=f.memoizedState!==null;var ee=_!==null&&_.memoizedState!==null,fe=lo,xe=xi;if(lo=fe||I,xi=xe||ee,Ks(d,f),xi=xe,lo=fe,ur(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,C&8192&&(d._visibility=I?d._visibility&-2:d._visibility|1,I&&(d=lo||xi,_===null||ee||d||Du(f)),Zi&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(_=null,Zi)for(d=f;;){if(d.tag===5||Ir&&d.tag===26||qn&&d.tag===27){if(_===null){ee=_=d;try{F=ee.stateNode,I?V_(F):X_(ee.stateNode,ee.memoizedProps)}catch(ot){Ln(ee,ee.return,ot)}}}else if(d.tag===6){if(_===null){ee=d;try{var Ke=ee.stateNode;I?k_(Ke):YE(Ke,ee.memoizedProps)}catch(ot){Ln(ee,ee.return,ot)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;_===d&&(_=null),d=d.return}_===d&&(_=null),d.sibling.return=d.return,d=d.sibling}}C&4&&(C=f.updateQueue,C!==null&&(_=C.retryQueue,_!==null&&(C.retryQueue=null,Oo(f,_))));break;case 19:Ks(d,f),ur(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Oo(f,C)));break;case 21:break;default:Ks(d,f),ur(f)}}function ur(f){var d=f.flags;if(d&2){try{if(Zi&&(!qn||f.tag!==27)){e:{for(var _=f.return;_!==null;){if(Vg(_)){var C=_;break e}_=_.return}throw Error(s(160))}switch(C.tag){case 27:if(qn){var I=C.stateNode,F=lh(f);No(f,F,I);break}case 5:var ee=C.stateNode;C.flags&32&&(py(ee),C.flags&=-33);var fe=lh(f);No(f,fe,ee);break;case 3:case 4:var xe=C.stateNode.containerInfo,Ke=lh(f);kg(f,Ke,xe);break;default:throw Error(s(161))}}}catch(ot){Ln(f,f.return,ot)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function A_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;A_(d),d.tag===5&&d.flags&1024&&Sp(d.stateNode),f=f.sibling}}function Lo(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)rp(f,d.alternate,d),d=d.sibling}function Du(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:El(4,d,d.return),Du(d);break;case 1:cr(d,d.return);var _=d.stateNode;typeof _.componentWillUnmount=="function"&&lr(d,d.return,_),Du(d);break;case 26:case 27:case 5:cr(d,d.return),Du(d);break;case 22:cr(d,d.return),d.memoizedState===null&&Du(d);break;default:Du(d)}f=f.sibling}}function Po(f,d,_){for(_=_&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,I=f,F=d,ee=F.flags;switch(F.tag){case 0:case 11:case 15:Po(I,F,_),oh(4,F);break;case 1:if(Po(I,F,_),C=F,I=C.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ke){Ln(C,C.return,Ke)}if(C=F,I=C.updateQueue,I!==null){var fe=C.stateNode;try{var xe=I.shared.hiddenCallbacks;if(xe!==null)for(I.shared.hiddenCallbacks=null,I=0;I<xe.length;I++)he(xe[I],fe)}catch(Ke){Ln(C,C.return,Ke)}}_&&ee&64&&x_(F),Ma(F,F.return);break;case 26:case 27:case 5:Po(I,F,_),_&&C===null&&ee&4&&zg(F),Ma(F,F.return);break;case 12:Po(I,F,_);break;case 13:Po(I,F,_),_&&ee&4&&ap(I,F);break;case 22:F.memoizedState===null&&Po(I,F,_),Ma(F,F.return);break;default:Po(I,F,_)}d=d.sibling}}function op(f,d){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&rh(_))}function uh(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&rh(f))}function cs(f,d,_,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Wg(f,d,_,C),d=d.sibling}function Wg(f,d,_,C){var I=d.flags;switch(d.tag){case 0:case 11:case 15:cs(f,d,_,C),I&2048&&oh(9,d);break;case 3:cs(f,d,_,C),I&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&rh(f)));break;case 12:if(I&2048){cs(f,d,_,C),f=d.stateNode;try{var F=d.memoizedProps,ee=F.id,fe=F.onPostCommit;typeof fe=="function"&&fe(ee,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(xe){Ln(d,d.return,xe)}}else cs(f,d,_,C);break;case 23:break;case 22:F=d.stateNode,d.memoizedState!==null?F._visibility&4?cs(f,d,_,C):Ns(f,d):F._visibility&4?cs(f,d,_,C):(F._visibility|=4,Ss(f,d,_,C,(d.subtreeFlags&10256)!==0)),I&2048&&op(d.alternate,d);break;case 24:cs(f,d,_,C),I&2048&&uh(d.alternate,d);break;default:cs(f,d,_,C)}}function Ss(f,d,_,C,I){for(I=I&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var F=f,ee=d,fe=_,xe=C,Ke=ee.flags;switch(ee.tag){case 0:case 11:case 15:Ss(F,ee,fe,xe,I),oh(8,ee);break;case 23:break;case 22:var ot=ee.stateNode;ee.memoizedState!==null?ot._visibility&4?Ss(F,ee,fe,xe,I):Ns(F,ee):(ot._visibility|=4,Ss(F,ee,fe,xe,I)),I&&Ke&2048&&op(ee.alternate,ee);break;case 24:Ss(F,ee,fe,xe,I),I&&Ke&2048&&uh(ee.alternate,ee);break;default:Ss(F,ee,fe,xe,I)}d=d.sibling}}function Ns(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var _=f,C=d,I=C.flags;switch(C.tag){case 22:Ns(_,C),I&2048&&op(C.alternate,C);break;case 24:Ns(_,C),I&2048&&uh(C.alternate,C);break;default:Ns(_,C)}d=d.sibling}}function Qr(f){if(f.subtreeFlags&Hr)for(f=f.child;f!==null;)lp(f),f=f.sibling}function lp(f){switch(f.tag){case 26:Qr(f),f.flags&Hr&&(f.memoizedState!==null?ab(yi,f.memoizedState,f.memoizedProps):Zs(f.type,f.memoizedProps));break;case 5:Qr(f),f.flags&Hr&&Zs(f.type,f.memoizedProps);break;case 3:case 4:if(Ir){var d=yi;yi=Rp(f.stateNode.containerInfo),Qr(f),yi=d}else Qr(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=Hr,Hr=16777216,Qr(f),Hr=d):Qr(f));break;default:Qr(f)}}function fh(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function Tl(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var C=d[_];Yt=C,Yg(C,f)}fh(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)cp(f),f=f.sibling}function cp(f){switch(f.tag){case 0:case 11:case 15:Tl(f),f.flags&2048&&El(9,f,f.return);break;case 3:Tl(f);break;case 12:Tl(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,Uo(f)):Tl(f);break;default:Tl(f)}}function Uo(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var C=d[_];Yt=C,Yg(C,f)}fh(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:El(8,d,d.return),Uo(d);break;case 22:_=d.stateNode,_._visibility&4&&(_._visibility&=-5,Uo(d));break;default:Uo(d)}f=f.sibling}}function Yg(f,d){for(;Yt!==null;){var _=Yt;switch(_.tag){case 0:case 11:case 15:El(8,_,d);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var C=_.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:rh(_.memoizedState.cache)}if(C=_.child,C!==null)C.return=_,Yt=C;else e:for(_=f;Yt!==null;){C=Yt;var I=C.sibling,F=C.return;if(Xg(C),C===_){Yt=null;break e}if(I!==null){I.return=F,Yt=I;break e}Yt=F}}}function Iu(f){var d=R_(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if(f=uy(f),f===null)throw Error(s(362));return f.stateNode.current}function Cl(f,d){var _=f.tag;switch(d.$$typeof){case nf:if(f.type===d.value)return!0;break;case oa:e:{for(d=d.value,f=[f,0],_=0;_<f.length;){var C=f[_++],I=C.tag,F=f[_++],ee=d[F];if(I!==5&&I!==26&&I!==27||!Xu(C)){for(;ee!=null&&Cl(C,ee);)F++,ee=d[F];if(F===d.length){d=!0;break e}else for(C=C.child;C!==null;)f.push(C,F),C=C.sibling}}d=!1}return d;case ri:if((_===5||_===26||_===27)&&N_(f.stateNode,d.value))return!0;break;case co:if((_===5||_===6||_===26||_===27)&&(f=I_(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case La:if((_===5||_===26||_===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function qg(f){switch(f.$$typeof){case nf:return"<"+(a(f.value)||"Unknown")+">";case oa:return":has("+(qg(f)||"")+")";case ri:return'[role="'+f.value+'"]';case co:return'"'+f.value+'"';case La:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function fr(f,d){var _=[];f=[f,0];for(var C=0;C<f.length;){var I=f[C++],F=I.tag,ee=f[C++],fe=d[ee];if(F!==5&&F!==26&&F!==27||!Xu(I)){for(;fe!=null&&Cl(I,fe);)ee++,fe=d[ee];if(ee===d.length)_.push(I);else for(I=I.child;I!==null;)f.push(I,ee),I=I.sibling}}return _}function hh(f,d){if(!Pl)throw Error(s(363));f=Iu(f),f=fr(f,d),d=[],f=Array.from(f);for(var _=0;_<f.length;){var C=f[_++],I=C.tag;if(I===5||I===26||I===27)Xu(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return d}function Ci(){if((Tn&2)!==0&&pn!==0)return pn&-pn;if(Vt.T!==null){var f=Lr;return f!==0?f:ct()}return B_()}function Kg(){Vr===0&&(Vr=(pn&536870912)===0||Sn?P():536870912);var f=Pr.current;return f!==null&&(f.flags|=32),Vr}function us(f,d,_){(f===Un&&jn===2||f.cancelPendingCommit!==null)&&(As(f,0),hr(f,pn,Vr,!1)),H(f,_),((Tn&2)===0||f!==Un)&&(f===Un&&((Tn&2)===0&&(Qo|=_),Qn===4&&hr(f,pn,Vr,!1)),ke(f))}function wl(f,d,_){if((Tn&6)!==0)throw Error(s(327));var C=!_&&(d&60)===0&&(d&f.expiredLanes)===0||N(f,d),I=C?Qg(f,d):fp(f,d,!0),F=C;do{if(I===0){zr&&!C&&hr(f,d,0,!1);break}else if(I===6)hr(f,d,0,!ca);else{if(_=f.current.alternate,F&&!Nu(_)){I=fp(f,d,!1),F=!1;continue}if(I===2){if(F=d,f.errorRecoveryDisabledLanes&F)var ee=0;else ee=f.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){d=ee;e:{var fe=f;I=Pc;var xe=Es&&fe.current.memoizedState.isDehydrated;if(xe&&(As(fe,ee).flags|=256),ee=fp(fe,ee,!1),ee!==2){if(ts&&!xe){fe.errorRecoveryDisabledLanes|=F,Qo|=F,I=4;break e}F=Si,Si=I,F!==null&&dh(F)}I=ee}if(F=!1,I!==2)continue}}if(I===1){As(f,0),hr(f,d,0,!0);break}e:{switch(C=f,I){case 0:case 1:throw Error(s(345));case 4:if((d&4194176)===d){hr(C,d,Vr,!ca);break e}break;case 2:Si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(C.finishedWork=_,C.finishedLanes=d,(d&62914560)===d&&(F=tr+300-ia(),10<F)){if(hr(C,d,Vr,!ca),L(C,0)!==0)break e;C.timeoutHandle=Vi(up.bind(null,C,_,Si,Ph,zp,d,Vr,Qo,uo,ca,2,-0,0),F);break e}up(C,_,Si,Ph,zp,d,Vr,Qo,uo,ca,0,-0,0)}}break}while(!0);ke(f)}function dh(f){Si===null?Si=f:Si.push.apply(Si,f)}function up(f,d,_,C,I,F,ee,fe,xe,Ke,ot,vt,bt){var qt=d.subtreeFlags;if((qt&8192||(qt&16785408)===16785408)&&(ly(),lp(d),d=ki(),d!==null)){f.cancelPendingCommit=d(Bl.bind(null,f,_,C,I,ee,fe,xe,1,vt,bt)),hr(f,F,ee,!Ke);return}Bl(f,_,C,I,ee,fe,xe,ot,vt,bt)}function Nu(f){for(var d=f;;){var _=d.tag;if((_===0||_===11||_===15)&&d.flags&16384&&(_=d.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var C=0;C<_.length;C++){var I=_[C],F=I.getSnapshot;I=I.value;try{if(!pr(F(),I))return!1}catch{return!1}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function hr(f,d,_,C){d&=~Lh,d&=~Qo,f.suspendedLanes|=d,f.pingedLanes&=~d,C&&(f.warmLanes|=d),C=f.expirationTimes;for(var I=d;0<I;){var F=31-$s(I),ee=1<<F;C[F]=-1,I&=~ee}_!==0&&$(f,_,d)}function ph(){return(Tn&6)===0?(K(0),!1):!0}function Ou(){if(Pt!==null){if(jn===0)var f=Pt.return;else f=Pt,Fr=Oa=null,Ea(f),Vl=null,kl=0,f=Pt;for(;f!==null;)b_(f.alternate,f),f=f.return;Pt=null}}function As(f,d){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;_!==Ol&&(f.timeoutHandle=Ol,bp(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),Ou(),Un=f,Pt=_=$r(f.current,null),pn=d,jn=0,Ls=null,ca=!1,zr=N(f,d),ts=!1,uo=Vr=Lh=Qo=Gr=Qn=0,Si=Pc=null,zp=!1,(d&8)!==0&&(d|=d&32);var C=f.entangledLanes;if(C!==0)for(f=f.entanglements,C&=d;0<C;){var I=31-$s(C),F=1<<I;d|=f[I],C&=~F}return Ps=d,X(),_}function Rr(f,d){nn=null,Vt.H=bi,d===Zu?(d=Rt(),jn=3):d===Nh?(d=Rt(),jn=4):jn=d===Fp?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ls=d,Pt===null&&(Qn=1,Mu(f,re(d,f.current)))}function Rl(){var f=Pr.current;return f===null?!0:(pn&4194176)===pn?Kn===null:(pn&62914560)===pn||(pn&536870912)!==0?f===Kn:!1}function Qa(){var f=Vt.H;return Vt.H=bi,f===null?bi:f}function Za(){var f=Vt.A;return Vt.A=tf,f}function Fo(){Qn=4,ca||(pn&4194176)!==pn&&Pr.current!==null||(zr=!0),(Gr&134217727)===0&&(Qo&134217727)===0||Un===null||hr(Un,pn,Vr,!1)}function fp(f,d,_){var C=Tn;Tn|=2;var I=Qa(),F=Za();(Un!==f||pn!==d)&&(Ph=null,As(f,d)),d=!1;var ee=Qn;e:do try{if(jn!==0&&Pt!==null){var fe=Pt,xe=Ls;switch(jn){case 8:Ou(),ee=6;break e;case 3:case 2:case 6:Pr.current===null&&(d=!0);var Ke=jn;if(jn=0,Ls=null,Zr(f,fe,xe,Ke),_&&zr){ee=0;break e}break;default:Ke=jn,jn=0,Ls=null,Zr(f,fe,xe,Ke)}}Jg(),ee=Qn;break}catch(ot){Rr(f,ot)}while(!0);return d&&f.shellSuspendCounter++,Fr=Oa=null,Tn=C,Vt.H=I,Vt.A=F,Pt===null&&(Un=null,pn=0,X()),ee}function Jg(){for(;Pt!==null;)gi(Pt)}function Qg(f,d){var _=Tn;Tn|=2;var C=Qa(),I=Za();Un!==f||pn!==d?(Ph=null,sf=ia()+500,As(f,d)):zr=N(f,d);e:do try{if(jn!==0&&Pt!==null){d=Pt;var F=Ls;t:switch(jn){case 1:jn=0,Ls=null,Zr(f,d,F,1);break;case 2:if(qe(F)){jn=0,Ls=null,Rn(d);break}d=function(){jn===2&&Un===f&&(jn=7),ke(f)},F.then(d,d);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:qe(F)?(jn=0,Ls=null,Rn(d)):(jn=0,Ls=null,Zr(f,d,F,7));break;case 5:var ee=null;switch(Pt.tag){case 26:ee=Pt.memoizedState;case 5:case 27:var fe=Pt,xe=fe.type,Ke=fe.pendingProps;if(ee?Sc(ee):xp(xe,Ke)){jn=0,Ls=null;var ot=fe.sibling;if(ot!==null)Pt=ot;else{var vt=fe.return;vt!==null?(Pt=vt,Br(vt)):Pt=null}break t}}jn=0,Ls=null,Zr(f,d,F,5);break;case 6:jn=0,Ls=null,Zr(f,d,F,6);break;case 8:Ou(),Qn=6;break e;default:throw Error(s(462))}}Js();break}catch(bt){Rr(f,bt)}while(!0);return Fr=Oa=null,Vt.H=C,Vt.A=I,Tn=_,Pt!==null?0:(Un=null,pn=0,X(),Qn)}function Js(){for(;Pt!==null&&!ub();)gi(Pt)}function gi(f){var d=y_(f.alternate,f,Ps);f.memoizedProps=f.pendingProps,d===null?Br(f):Pt=d}function Rn(f){var d=f,_=d.alternate;switch(d.tag){case 15:case 0:d=f_(_,d,d.pendingProps,d.type,void 0,pn);break;case 11:d=f_(_,d,d.pendingProps,d.type.render,d.ref,pn);break;case 5:Ea(d);default:b_(_,d),d=Pt=gh(d,Ps),d=y_(_,d,Ps)}f.memoizedProps=f.pendingProps,d===null?Br(f):Pt=d}function Zr(f,d,_,C){Fr=Oa=null,Ea(d),Vl=null,kl=0;var I=d.return;try{if(zE(f,I,d,_,pn)){Qn=1,Mu(f,re(_,f.current)),Pt=null;return}}catch(F){if(I!==null)throw Pt=I,F;Qn=1,Mu(f,re(_,f.current)),Pt=null;return}d.flags&32768?(Sn||C===1?f=!0:zr||(pn&536870912)!==0?f=!1:(ca=f=!0,(C===2||C===3||C===6)&&(C=Pr.current,C!==null&&C.tag===13&&(C.flags|=16384))),hp(d,f)):Br(d)}function Br(f){var d=f;do{if((d.flags&32768)!==0){hp(d,ca);return}f=d.return;var _=__(d.alternate,d,Ps);if(_!==null){Pt=_;return}if(d=d.sibling,d!==null){Pt=d;return}Pt=d=f}while(d!==null);Qn===0&&(Qn=5)}function hp(f,d){do{var _=VE(f.alternate,f);if(_!==null){_.flags&=32767,Pt=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!d&&(f=f.sibling,f!==null)){Pt=f;return}Pt=f=_}while(f!==null);Qn=6,Pt=null}function Bl(f,d,_,C,I,F,ee,fe,xe,Ke){var ot=Vt.T,vt=Xo();try{Os(2),Vt.T=null,E_(f,d,_,C,vt,I,F,ee,fe,xe,Ke)}finally{Vt.T=ot,Os(vt)}}function E_(f,d,_,C,I,F,ee,fe){do Ta();while(fo!==null);if((Tn&6)!==0)throw Error(s(327));var xe=f.finishedWork;if(C=f.finishedLanes,xe===null)return null;if(f.finishedWork=null,f.finishedLanes=0,xe===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Ke=xe.lanes|xe.childLanes;if(Ke|=Ia,k(f,C,Ke,F,ee,fe),f===Un&&(Pt=Un=null,pn=0),(xe.subtreeFlags&10256)===0&&(xe.flags&10256)===0||Pa||(Pa=!0,ql=Ke,Gp=_,zo(Op,function(){return Ta(),null})),_=(xe.flags&15990)!==0,(xe.subtreeFlags&15990)!==0||_?(_=Vt.T,Vt.T=null,F=Xo(),Os(2),ee=Tn,Tn|=4,ch(f,xe),jg(xe,f),w_(f.containerInfo),f.current=xe,rp(f,xe.alternate,xe),Ip(),Tn=ee,Os(F),Vt.T=_):f.current=xe,Pa?(Pa=!1,fo=f,Uc=C):Zg(f,Ke),Ke=f.pendingLanes,Ke===0&&(Yl=null),z(xe.stateNode),ke(f),d!==null)for(I=f.onRecoverableError,xe=0;xe<d.length;xe++)Ke=d[xe],I(Ke.value,{componentStack:Ke.stack});return(Uc&3)!==0&&Ta(),Ke=f.pendingLanes,(C&4194218)!==0&&(Ke&42)!==0?f===Vp?rf++:(rf=0,Vp=f):rf=0,K(0),null}function Zg(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,rh(d)))}function Ta(){if(fo!==null){var f=fo,d=ql;ql=0;var _=ne(Uc),C=32>_?32:_;_=Vt.T;var I=Xo();try{if(Os(C),Vt.T=null,fo===null)var F=!1;else{C=Gp,Gp=null;var ee=fo,fe=Uc;if(fo=null,Uc=0,(Tn&6)!==0)throw Error(s(331));var xe=Tn;if(Tn|=4,cp(ee.current),Wg(ee,ee.current,fe,C),Tn=xe,K(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Bi,ee)}catch{}F=!0}return F}finally{Os(I),Vt.T=_,Zg(f,d)}}return!1}function Lu(f,d,_){d=re(_,d),d=Cu(f.stateNode,d,2),f=At(f,d,2),f!==null&&(H(f,2),ke(f))}function Ln(f,d,_){if(f.tag===3)Lu(f,f,_);else for(;d!==null;){if(d.tag===3){Lu(d,f,_);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Yl===null||!Yl.has(C))){f=re(_,f),_=Dg(2),C=At(d,_,2),C!==null&&(a_(_,C,d,f),H(C,2),ke(C));break}}d=d.return}}function _c(f,d,_){var C=f.pingCache;if(C===null){C=f.pingCache=new la;var I=new Set;C.set(d,I)}else I=C.get(d),I===void 0&&(I=new Set,C.set(d,I));I.has(_)||(ts=!0,I.add(_),f=$g.bind(null,f,d,_),d.then(f,f))}function $g(f,d,_){var C=f.pingCache;C!==null&&C.delete(d),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,Un===f&&(pn&_)===_&&(Qn===4||Qn===3&&(pn&62914560)===pn&&300>ia()-tr?(Tn&2)===0&&As(f,0):Lh|=_,uo===pn&&(uo=0)),ke(f)}function Dl(f,d){d===0&&(d=O()),f=He(f,d),f!==null&&(H(f,d),ke(f))}function Ho(f){var d=f.memoizedState,_=0;d!==null&&(_=d.retryLane),Dl(f,_)}function Il(f,d){var _=0;switch(f.tag){case 13:var C=f.stateNode,I=f.memoizedState;I!==null&&(_=I.retryLane);break;case 19:C=f.stateNode;break;case 22:C=f.stateNode._retryCache;break;default:throw Error(s(314))}C!==null&&C.delete(d),Dl(f,_)}function zo(f,d){return Bh(f,d)}function ey(f,d,_,C){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mh(f){return f=f.prototype,!(!f||!f.isReactComponent)}function $r(f,d){var _=f.alternate;return _===null?(_=t(f.tag,d,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=d,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&31457280,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,d=f.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function gh(f,d){f.flags&=31457282;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,d=_.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function $a(f,d,_,C,I,F){var ee=0;if(C=f,typeof f=="function")mh(f)&&(ee=1);else if(typeof f=="string")ee=Ir&&qn?Ch(f,_,$i.current)?26:to(f)?27:5:Ir?Ch(f,_,$i.current)?26:5:qn&&to(f)?27:5;else e:switch(f){case Nl:return _i(_.children,I,F,d);case bh:ee=8,I|=24;break;case gp:return f=t(12,_,d,I|2),f.elementType=gp,f.lanes=F,f;case yp:return f=t(13,_,d,I),f.elementType=yp,f.lanes=F,f;case Hu:return f=t(19,_,d,I),f.elementType=Hu,f.lanes=F,f;case iy:return yh(_,I,F,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case xh:case Ca:ee=10;break e;case ny:ee=9;break e;case Sh:ee=11;break e;case vp:ee=14;break e;case ta:ee=16,C=null;break e}ee=29,_=Error(s(130,f===null?"null":typeof f,"")),C=null}return d=t(ee,_,d,I),d.elementType=f,d.type=C,d.lanes=F,d}function _i(f,d,_,C){return f=t(7,f,C,d),f.lanes=_,f}function yh(f,d,_,C){f=t(22,f,C,d),f.elementType=iy,f.lanes=_;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var F=I._current;if(F===null)throw Error(s(456));if((I._pendingVisibility&2)===0){var ee=He(F,2);ee!==null&&(I._pendingVisibility|=2,us(ee,F,2))}},attach:function(){var F=I._current;if(F===null)throw Error(s(456));if((I._pendingVisibility&2)!==0){var ee=He(F,2);ee!==null&&(I._pendingVisibility&=-3,us(ee,F,2))}}};return f.stateNode=I,f}function dp(f,d,_){return f=t(6,f,null,d),f.lanes=_,f}function ty(f,d,_){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=_,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function kE(f,d,_,C,I,F,ee,fe){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ol,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=C,this.onUncaughtError=I,this.onCaughtError=F,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function M_(f,d,_,C,I,F,ee,fe,xe,Ke,ot,vt){return f=new kE(f,d,_,ee,fe,xe,Ke,vt),d=1,F===!0&&(d|=24),F=t(3,null,null,d),f.current=F,F.stateNode=f,d=Al(),d.refCount++,f.pooledCache=d,d.refCount++,F.memoizedState={element:C,isDehydrated:_,cache:d},We(F),f}function Gi(f){return f?(f=Hl,f):Hl}function pp(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=b(d),f=f!==null?x(f):null,f===null?null:Vu(f.stateNode)}function Pu(f,d,_,C,I,F){I=Gi(I),C.context===null?C.context=I:C.pendingContext=I,C=xt(d),C.payload={element:_},F=F===void 0?null:F,F!==null&&(C.callback=F),_=At(f,C,d),_!==null&&(us(_,f,d),je(_,f,d))}function Uu(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<d?_:d}}function vh(f,d){Uu(f,d),(f=f.alternate)&&Uu(f,d)}var Kt={},Fu=lg(),Dr=jte(),mp=Object.assign,XE=Symbol.for("react.element"),_h=Symbol.for("react.transitional.element"),ea=Symbol.for("react.portal"),Nl=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),ny=Symbol.for("react.consumer"),Ca=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),T_=Symbol.for("react.memo_cache_sentinel"),Go=Symbol.iterator,sy=Symbol.for("react.client.reference"),Vt=Fu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eo,Vo,bc=!1,zu=Array.isArray,ry=e.rendererVersion,Ah=e.rendererPackageName,Gu=e.extraDevToolsConfig,Vu=e.getPublicInstance,C_=e.getRootHostContext,ku=e.getChildHostContext,_p=e.prepareForCommit,w_=e.resetAfterCommit,ay=e.createInstance,Eh=e.appendInitialChild,ko=e.finalizeInitialChildren,Jt=e.shouldSetTextContent,zn=e.createTextInstance,Vi=e.scheduleTimeout,bp=e.cancelTimeout,Ol=e.noTimeout,Qs=e.isPrimaryRenderer;e.warnsIfNotActing;var Zi=e.supportsMutation,na=e.supportsPersistence,Es=e.supportsHydration,R_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var wi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Os=e.setCurrentUpdatePriority,Xo=e.getCurrentUpdatePriority,B_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var D_=e.shouldAttemptEagerTransition,jE=e.detachDeletedInstance;e.requestPostPaintCallback;var oy=e.maySuspendCommit,xp=e.preloadInstance,ly=e.startSuspendingCommit,Zs=e.suspendInstance,ki=e.waitForCommitToBeReady,Ll=e.NotPendingTransition,wa=e.HostTransitionContext,Sp=e.resetFormInstance;e.bindToConsole;var cy=e.supportsMicrotasks,jo=e.scheduleMicrotask,Pl=e.supportsTestSelectors,uy=e.findFiberRoot,fy=e.getBoundingRect,I_=e.getTextContent,Xu=e.isHiddenSubtree,N_=e.matchAccessibilityRole,O_=e.setFocusIfFocusable,L_=e.setupIntersectionObserver,P_=e.appendChild,hy=e.appendChildToContainer,U_=e.commitTextUpdate,WE=e.commitMount,F_=e.commitUpdate,H_=e.insertBefore,z_=e.insertInContainerBefore,dy=e.removeChild,G_=e.removeChildFromContainer,py=e.resetTextContent,V_=e.hideInstance,k_=e.hideTextInstance,X_=e.unhideInstance,YE=e.unhideTextInstance,j_=e.clearContainer,ju=e.cloneInstance,Mh=e.createContainerChildSet,my=e.appendChildToContainerChildSet,Ap=e.finalizeContainerChildren,Wu=e.replaceContainerChildren,gy=e.cloneHiddenInstance,yy=e.cloneHiddenTextInstance,Ep=e.isSuspenseInstancePending,Mp=e.isSuspenseInstanceFallback,W_=e.getSuspenseInstanceFallbackErrorDetails,Y_=e.registerSuspenseInstanceRetry,vy=e.canHydrateFormStateMarker,q_=e.isFormStateMarkerMatching,_y=e.getNextHydratableSibling,Tp=e.getFirstHydratableChild,K_=e.getFirstHydratableChildWithinContainer,J_=e.getFirstHydratableChildWithinSuspenseInstance,qE=e.canHydrateInstance,by=e.canHydrateTextInstance,Q_=e.canHydrateSuspenseInstance,Z_=e.hydrateInstance,xy=e.hydrateTextInstance,$_=e.hydrateSuspenseInstance,eb=e.getNextHydratableInstanceAfterSuspenseInstance,KE=e.commitHydratedContainer,JE=e.commitHydratedSuspenseInstance,tb=e.clearSuspenseBoundary,Th=e.clearSuspenseBoundaryFromContainer,Cp=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var wp=e.validateHydratableInstance,nb=e.validateHydratableTextInstance,Ir=e.supportsResources,Ch=e.isHostHoistableType,Rp=e.getHoistableRoot,Sy=e.getResource,ib=e.acquireResource,xc=e.releaseResource,wh=e.hydrateHoistable,Rh=e.mountHoistable,Yu=e.unmountHoistable,Bp=e.createHoistableInstance,sb=e.prepareToCommitHoistables,rb=e.mayResourceSuspendCommit,Sc=e.preloadResource,ab=e.suspendResource,qn=e.supportsSingletons,Ra=e.resolveSingletonInstance,Ul=e.clearSingleton,ob=e.acquireSingletonInstance,Fl=e.releaseSingletonInstance,to=e.isHostSingletonType,Ri=[],Wo=-1,Hl={},$s=Math.clz32?Math.clz32:w,lb=Math.log,cb=Math.LN2,no=128,Ac=4194304,Bh=Dr.unstable_scheduleCallback,Dp=Dr.unstable_cancelCallback,ub=Dr.unstable_shouldYield,Ip=Dr.unstable_requestPaint,ia=Dr.unstable_now,Np=Dr.unstable_ImmediatePriority,fb=Dr.unstable_UserBlockingPriority,Op=Dr.unstable_NormalPriority,QE=Dr.unstable_IdlePriority,hb=Dr.log,fs=Dr.unstable_setDisableYieldValue,Bi=null,dr=null,pr=typeof Object.is=="function"?Object.is:Z,Ay=new WeakMap,Ec=[],Mc=0,Tc=null,qu=0,Nr=[],Or=0,zl=null,Ba=1,Da="",$i=A(null),Ku=A(null),io=A(null),Cc=A(null),Ms=null,Ts=null,Sn=!1,sa=null,hs=!1,Dh=Error(s(519)),ra=[],wc=0,Ia=0,Ih=null,Yo=null,Rc=!1,$n=!1,Ey=!1,Ju=0,Qu=null,Bc=0,Lr=0,Dc=null,qo=!1,Ic=!1,so=Object.prototype.hasOwnProperty,Zu=Error(s(460)),Nh=Error(s(474)),Oh={then:function(){}},Gl=null,Vl=null,kl=0,Xl=ui(!0),ro=ui(!1),ei=A(null),$u=A(0),Pr=A(null),Kn=null,es=A(0),Ko=0,nn=null,Ot=null,Mn=null,aa=!1,Nc=!1,jl=!1,Lp=0,Oc=0,ds=null,Na=0,Pp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},bi={readContext:bs,use:Pe,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn};bi.useCacheRefresh=kn,bi.useMemoCache=kn,bi.useHostTransitionStatus=kn,bi.useFormState=kn,bi.useActionState=kn,bi.useOptimistic=kn;var Wl={readContext:bs,use:Pe,useCallback:function(f,d){return J().memoizedState=[f,d===void 0?null:d],f},useContext:bs,useEffect:Yd,useImperativeHandle:function(f,d,_){_=_!=null?_.concat([f]):null,Yf(4194308,4,qd.bind(null,d,f),_)},useLayoutEffect:function(f,d){return Yf(4194308,4,f,d)},useInsertionEffect:function(f,d){Yf(4,2,f,d)},useMemo:function(f,d){var _=J();d=d===void 0?null:d;var C=f();if(jl){Y(!0);try{f()}finally{Y(!1)}}return _.memoizedState=[C,d],C},useReducer:function(f,d,_){var C=J();if(_!==void 0){var I=_(d);if(jl){Y(!0);try{_(d)}finally{Y(!1)}}}else I=d;return C.memoizedState=C.baseState=I,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:I},C.queue=f,f=f.dispatch=Jd.bind(null,nn,f),[C.memoizedState,f]},useRef:function(f){var d=J();return f={current:f},d.memoizedState=f},useState:function(f){f=un(f);var d=f.queue,_=Bg.bind(null,nn,d);return d.dispatch=_,[f.memoizedState,_]},useDebugValue:vl,useDeferredValue:function(f,d){var _=J();return Jf(_,f,d)},useTransition:function(){var f=un(!1);return f=bu.bind(null,nn,f.queue,!0,!1),J().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,_){var C=nn,I=J();if(Sn){if(_===void 0)throw Error(s(407));_=_()}else{if(_=d(),Un===null)throw Error(s(349));(pn&60)!==0||Dt(C,d,_)}I.memoizedState=_;var F={value:_,getSnapshot:d};return I.queue=F,Yd(ln.bind(null,C,F,f),[f]),C.flags|=2048,Ys(9,Ct.bind(null,C,F,_,d),{destroy:void 0},null),_},useId:function(){var f=J(),d=Un.identifierPrefix;if(Sn){var _=Da,C=Ba;_=(C&~(1<<32-$s(C)-1)).toString(32)+_,d=":"+d+"R"+_,_=Lp++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=Na++,d=":"+d+"r"+_.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return J().memoizedState=Rg.bind(null,nn)}};Wl.useMemoCache=ve,Wl.useHostTransitionStatus=Qf,Wl.useFormState=Xn,Wl.useActionState=Xn,Wl.useOptimistic=function(f){var d=J();d.memoizedState=d.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=_,d=Su.bind(null,nn,!0,_),_.dispatch=d,[f,d]};var er={readContext:bs,use:Pe,useCallback:gc,useContext:bs,useEffect:Tg,useImperativeHandle:Kd,useInsertionEffect:s_,useLayoutEffect:Kf,useMemo:Cg,useReducer:ft,useRef:Ka,useState:function(){return ft(nt)},useDebugValue:vl,useDeferredValue:function(f,d){var _=me();return wg(_,Ot.memoizedState,f,d)},useTransition:function(){var f=ft(nt)[0],d=me().memoizedState;return[typeof f=="boolean"?f:Ie(f),d]},useSyncExternalStore:Ft,useId:xu};er.useCacheRefresh=Ro,er.useMemoCache=ve,er.useHostTransitionStatus=Qf,er.useFormState=vs,er.useActionState=vs,er.useOptimistic=function(f,d){var _=me();return dn(_,Ot,f,d)};var Ur={readContext:bs,use:Pe,useCallback:gc,useContext:bs,useEffect:Tg,useImperativeHandle:Kd,useInsertionEffect:s_,useLayoutEffect:Kf,useMemo:Cg,useReducer:St,useRef:Ka,useState:function(){return St(nt)},useDebugValue:vl,useDeferredValue:function(f,d){var _=me();return Ot===null?Jf(_,f,d):wg(_,Ot.memoizedState,f,d)},useTransition:function(){var f=St(nt)[0],d=me().memoizedState;return[typeof f=="boolean"?f:Ie(f),d]},useSyncExternalStore:Ft,useId:xu};Ur.useCacheRefresh=Ro,Ur.useMemoCache=ve,Ur.useHostTransitionStatus=Qf,Ur.useFormState=ls,Ur.useActionState=ls,Ur.useOptimistic=function(f,d){var _=me();return Ot!==null?dn(_,Ot,f,d):(_.baseState=f,[f,_.queue.dispatch])};var ao={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,d,_){f=f._reactInternals;var C=Ci(),I=xt(C);I.payload=d,_!=null&&(I.callback=_),d=At(f,I,C),d!==null&&(us(d,f,C),je(d,f,C))},enqueueReplaceState:function(f,d,_){f=f._reactInternals;var C=Ci(),I=xt(C);I.tag=1,I.payload=d,_!=null&&(I.callback=_),d=At(f,I,C),d!==null&&(us(d,f,C),je(d,f,C))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var _=Ci(),C=xt(_);C.tag=2,d!=null&&(C.callback=d),d=At(f,C,_),d!==null&&(us(d,f,_),je(d,f,_))}},Up=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Fp=Error(s(461)),Jn=!1,Hp={dehydrated:null,treeContext:null,retryLane:0},Jo=A(null),Oa=null,Fr=null,ef=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(_,C){f.push(C)}};this.abort=function(){d.aborted=!0,f.forEach(function(_){return _()})}},db=Dr.unstable_scheduleCallback,pb=Dr.unstable_NormalPriority,ti={$$typeof:Ca,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},My=Vt.S;Vt.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&it(f,d),My!==null&&My(f,d)};var oo=A(null),lo=!1,xi=!1,Ty=!1,Pn=typeof WeakSet=="function"?WeakSet:Set,Yt=null,cn=!1,Nt=null,en=!1,yi=null,Hr=8192,tf={getCacheForType:function(f){var d=bs(ti),_=d.data.get(f);return _===void 0&&(_=f(),d.data.set(f,_)),_}},nf=0,oa=1,ri=2,La=3,co=4;if(typeof Symbol=="function"&&Symbol.for){var Lc=Symbol.for;nf=Lc("selector.component"),oa=Lc("selector.has_pseudo_class"),ri=Lc("selector.role"),La=Lc("selector.test_id"),co=Lc("selector.text")}var la=typeof WeakMap=="function"?WeakMap:Map,Tn=0,Un=null,Pt=null,pn=0,jn=0,Ls=null,ca=!1,zr=!1,ts=!1,Ps=0,Qn=0,Gr=0,Qo=0,Lh=0,Vr=0,uo=0,Pc=null,Si=null,zp=!1,tr=0,sf=1/0,Ph=null,Yl=null,Pa=!1,fo=null,Uc=0,ql=0,Gp=null,rf=0,Vp=null;return Kt.attemptContinuousHydration=function(f){if(f.tag===13){var d=He(f,67108864);d!==null&&us(d,f,67108864),vh(f,67108864)}},Kt.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Ci(),_=He(f,d);_!==null&&us(_,f,d),vh(f,d)}},Kt.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=R(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var _=1<<31-$s(d);f.entanglements[1]|=_,d&=~_}ke(f),(Tn&6)===0&&(sf=ia()+500,K(0))}}break;case 13:d=He(f,2),d!==null&&us(d,f,2),ph(),vh(f,2)}},Kt.batchedUpdates=function(f,d){return f(d)},Kt.createComponentSelector=function(f){return{$$typeof:nf,value:f}},Kt.createContainer=function(f,d,_,C,I,F,ee,fe,xe,Ke){return M_(f,d,!1,null,_,C,F,ee,fe,xe,Ke,null)},Kt.createHasPseudoClassSelector=function(f){return{$$typeof:oa,value:f}},Kt.createHydrationContainer=function(f,d,_,C,I,F,ee,fe,xe,Ke,ot,vt,bt){return f=M_(_,C,!0,f,I,F,fe,xe,Ke,ot,vt,bt),f.context=Gi(null),_=f.current,C=Ci(),I=xt(C),I.callback=d??null,At(_,I,C),f.current.lanes=C,H(f,C),ke(f),f},Kt.createPortal=function(f,d,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:C==null?null:""+C,children:f,containerInfo:d,implementation:_}},Kt.createRoleSelector=function(f){return{$$typeof:ri,value:f}},Kt.createTestNameSelector=function(f){return{$$typeof:La,value:f}},Kt.createTextSelector=function(f){return{$$typeof:co,value:f}},Kt.defaultOnCaughtError=function(f){console.error(f)},Kt.defaultOnRecoverableError=function(f){Up(f)},Kt.defaultOnUncaughtError=function(f){Up(f)},Kt.deferredUpdates=function(f){var d=Vt.T,_=Xo();try{return Os(32),Vt.T=null,f()}finally{Os(_),Vt.T=d}},Kt.discreteUpdates=function(f,d,_,C,I){var F=Vt.T,ee=Xo();try{return Os(2),Vt.T=null,f(d,_,C,I)}finally{Os(ee),Vt.T=F,Tn===0&&(sf=ia()+500)}},Kt.findAllNodes=hh,Kt.findBoundingRects=function(f,d){if(!Pl)throw Error(s(363));d=hh(f,d),f=[];for(var _=0;_<d.length;_++)f.push(fy(d[_]));for(d=f.length-1;0<d;d--){_=f[d];for(var C=_.x,I=C+_.width,F=_.y,ee=F+_.height,fe=d-1;0<=fe;fe--)if(d!==fe){var xe=f[fe],Ke=xe.x,ot=Ke+xe.width,vt=xe.y,bt=vt+xe.height;if(C>=Ke&&F>=vt&&I<=ot&&ee<=bt){f.splice(d,1);break}else if(C!==Ke||_.width!==xe.width||bt<F||vt>ee){if(!(F!==vt||_.height!==xe.height||ot<C||Ke>I)){Ke>C&&(xe.width+=Ke-C,xe.x=C),ot<I&&(xe.width=I-Ke),f.splice(d,1);break}}else{vt>F&&(xe.height+=vt-F,xe.y=F),bt<ee&&(xe.height=ee-vt),f.splice(d,1);break}}}return f},Kt.findHostInstance=pp,Kt.findHostInstanceWithNoPortals=function(f){return f=b(f),f=f!==null?T(f):null,f===null?null:Vu(f.stateNode)},Kt.findHostInstanceWithWarning=function(f){return pp(f)},Kt.flushPassiveEffects=Ta,Kt.flushSyncFromReconciler=function(f){var d=Tn;Tn|=1;var _=Vt.T,C=Xo();try{if(Os(2),Vt.T=null,f)return f()}finally{Os(C),Vt.T=_,Tn=d,(Tn&6)===0&&K(0)}},Kt.flushSyncWork=ph,Kt.focusWithin=function(f,d){if(!Pl)throw Error(s(363));for(f=Iu(f),d=fr(f,d),d=Array.from(d),f=0;f<d.length;){var _=d[f++],C=_.tag;if(!Xu(_)){if((C===5||C===26||C===27)&&O_(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},Kt.getFindAllNodesFailureDescription=function(f,d){if(!Pl)throw Error(s(363));var _=0,C=[];f=[Iu(f),0];for(var I=0;I<f.length;){var F=f[I++],ee=F.tag,fe=f[I++],xe=d[fe];if((ee!==5&&ee!==26&&ee!==27||!Xu(F))&&(Cl(F,xe)&&(C.push(qg(xe)),fe++,fe>_&&(_=fe)),fe<d.length))for(F=F.child;F!==null;)f.push(F,fe),F=F.sibling}if(_<d.length){for(f=[];_<d.length;_++)f.push(qg(d[_]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},Kt.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Vu(f.child.stateNode);default:return f.child.stateNode}},Kt.injectIntoDevTools=function(){var f={bundleType:0,version:ry,rendererPackageName:Ah,currentDispatcherRef:Vt,findFiberByHostInstance:R_,reconcilerVersion:"19.0.0"};if(Gu!==null&&(f.rendererConfig=Gu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Bi=d.inject(f),dr=d}catch{}f=!!d.checkDCE}}return f},Kt.isAlreadyRendering=function(){return!1},Kt.observeVisibleRects=function(f,d,_,C){if(!Pl)throw Error(s(363));f=hh(f,d);var I=L_(f,_,C).disconnect;return{disconnect:function(){I()}}},Kt.shouldError=function(){return null},Kt.shouldSuspend=function(){return!1},Kt.startHostTransition=function(f,d,_,C){if(f.tag!==5)throw Error(s(476));var I=Ja(f).queue;bu(f,I,d,Ll,_===null?i:function(){var F=Ja(f).next.queue;return _l(f,F,{},Ci()),_(C)})},Kt.updateContainer=function(f,d,_,C){var I=d.current,F=Ci();return Pu(I,F,f,d,_,C),F},Kt.updateContainerSync=function(f,d,_,C){return d.tag===0&&Ta(),Pu(d.current,2,f,d,_,C),2},Kt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(XM)),XM.exports}var AN;function Yte(){return AN||(AN=1,kM.exports=Wte()),kM.exports}var qte=Yte();const Kte=Mv(qte);var YM={exports:{}},qM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function Jte(){return EN||(EN=1,function(n){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var re=Z-1>>>1,j=z[re];if(0<s(j,Y))z[re]=Y,z[Z]=j,Z=re;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var re=0,j=z.length,ae=j>>>1;re<ae;){var Se=2*(re+1)-1,Ae=z[Se],ce=Se+1,Te=z[ce];if(0>s(Ae,Z))ce<j&&0>s(Te,Ae)?(z[re]=Te,z[ce]=Z,re=ce):(z[re]=Ae,z[Se]=Z,re=Se);else if(ce<j&&0>s(Te,Z))z[re]=Te,z[ce]=Z,re=ce;else break e}}return Y}function s(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,g=null,y=3,b=!1,x=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function w(z){for(var Y=t(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=z)i(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function R(z){if(T=!1,w(z),!x)if(t(u)!==null)x=!0,se();else{var Y=t(h);Y!==null&&ne(R,Y.startTime-z)}}var L=!1,N=-1,U=5,P=-1;function O(){return!(n.unstable_now()-P<U)}function M(){if(L){var z=n.unstable_now();P=z;var Y=!0;try{e:{x=!1,T&&(T=!1,S(N),N=-1),b=!0;var Z=y;try{t:{for(w(z),g=t(u);g!==null&&!(g.expirationTime>z&&O());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var j=re(g.expirationTime<=z);if(z=n.unstable_now(),typeof j=="function"){g.callback=j,w(z),Y=!0;break t}g===t(u)&&i(u),w(z)}else i(u);g=t(u)}if(g!==null)Y=!0;else{var ae=t(h);ae!==null&&ne(R,ae.startTime-z),Y=!1}}break e}finally{g=null,y=Z,b=!1}Y=void 0}}finally{Y?H():L=!1}}}var H;if(typeof B=="function")H=function(){B(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$=k.port2;k.port1.onmessage=M,H=function(){$.postMessage(null)}}else H=function(){A(M,0)};function se(){L||(L=!0,H())}function ne(z,Y){N=A(function(){z(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,se())},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var Z=y;y=Y;try{return z()}finally{y=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=y;y=z;try{return Y()}finally{y=Z}},n.unstable_scheduleCallback=function(z,Y,Z){var re=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,z={id:m++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:j,sortIndex:-1},Z>re?(z.sortIndex=Z,e(h,z),t(u)===null&&z===t(h)&&(T?(S(N),N=-1):T=!0,ne(R,Z-re))):(z.sortIndex=j,e(u,z),x||b||(x=!0,se())),z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(z){var Y=y;return function(){var Z=y;y=Y;try{return z.apply(this,arguments)}finally{y=Z}}}}(qM)),qM}var MN;function Qte(){return MN||(MN=1,YM.exports=Jte()),YM.exports}var TN=Qte();const Zte=n=>typeof n=="object"&&typeof n.then=="function",vd=[];function c4(n,e,t=(i,s)=>i===s){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let s=0;s<i;s++)if(!t(n[s],e[s]))return!1;return!0}function u4(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of vd)if(c4(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const s={keys:e,equal:i.equal,remove:()=>{const r=vd.indexOf(s);r!==-1&&vd.splice(r,1)},promise:(Zte(n)?n:n(...e)).then(r=>{s.response=r,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(r=>s.error=r)};if(vd.push(s),!t)throw s.promise}const $te=(n,e,t)=>u4(n,e,!1,t),ene=(n,e,t)=>void u4(n,e,!0,t),tne=n=>{if(n===void 0||n.length===0)vd.splice(0,vd.length);else{const e=vd.find(t=>c4(n,t.keys,t.equal));e&&e.remove()}};function GR(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const s=GR(i,e,t);if(s)return s;i=e?null:i.sibling}}function f4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const VR=f4(te.createContext(null));class h4 extends te.Component{render(){return te.createElement(VR.Provider,{value:this._reactInternals},this.props.children)}}function d4(){const n=te.useContext(VR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=te.useId();return te.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=GR(t,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const nne=Symbol.for("react.context"),ine=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===nne;function sne(){const n=d4(),[e]=te.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;ine(i)&&i!==VR&&!e.has(i)&&e.set(i,te.use(f4(i))),t=t.return}return e}function rne(){const n=sne();return te.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>te.createElement(e,null,te.createElement(t.Provider,{...i,value:n.get(t)})),e=>te.createElement(h4,{...e})),[n])}function p4(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const m4=n=>n&&n.isOrthographicCamera,ane=n=>n&&n.hasOwnProperty("current"),one=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Kv=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?te.useLayoutEffect:te.useEffect;function g4(n){const e=te.useRef(n);return Kv(()=>void(e.current=n),[n]),e}function lne(){const n=d4(),e=rne();return te.useMemo(()=>({children:t})=>{const s=!!GR(n,!0,r=>r.type===te.StrictMode)?te.StrictMode:te.Fragment;return _e.jsx(s,{children:_e.jsx(e,{children:t})})},[n,e])}function cne({set:n}){return Kv(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const une=(n=>(n=class extends te.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function y4(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function vm(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ei={obj:n=>n===Object(n)&&!Ei.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ei.str(n)||Ei.num(n)||Ei.boo(n))return n===e;const r=Ei.obj(n);if(r&&i==="reference")return n===e;const a=Ei.arr(n);if(a&&t==="reference")return n===e;if((a||r)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(l in s?e:n)if(!Ei.equ(n[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in s?e:n)if(n[l]!==e[l])return!1;if(Ei.und(l)){if(a&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function fne(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function hne(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const v4=["children","key","ref"];function dne(n){const e={};for(const t in n)v4.includes(t)||(e[t]=n[t]);return e}function tA(n,e,t,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:dne(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function hv(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const s of e.split("-")){var i;e=s,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const CN=/-\d+$/;function nA(n,e){if(Ei.str(e.props.attach)){if(CN.test(e.props.attach)){const s=e.props.attach.replace(CN,""),{root:r,key:a}=hv(n.object,s);Array.isArray(r[a])||(r[a]=[])}const{root:t,key:i}=hv(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ei.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function iA(n,e){if(Ei.str(e.props.attach)){const{root:t,key:i}=hv(n.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[i]:t[i]=s}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const vC=[...v4,"args","dispose","attach","object","onUpdate","dispose"],wN=new Map;function pne(n){let e=wN.get(n.constructor);try{e||(e=new n.constructor,wN.set(n.constructor,e))}catch{}return e}function mne(n,e){const t={};for(const i in e)if(!vC.includes(i)&&!Ei.equ(e[i],n.props[i])){t[i]=e[i];for(const s in e)s.startsWith(`${i}-`)&&(t[s]=e[s])}for(const i in n.props){if(vC.includes(i)||e.hasOwnProperty(i))continue;const{root:s,key:r}=hv(n.object,i);if(s.constructor&&s.constructor.length===0){const a=pne(s);Ei.und(a)||(t[r]=a[r])}else t[r]=0}return t}const gne=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],yne=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Mf(n,e){var t;const i=n.__r3f,s=i&&p4(i).getState(),r=i==null?void 0:i.eventCount;for(const l in e){let u=e[l];if(vC.includes(l))continue;if(i&&yne.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:h,key:m,target:g}=hv(n,l);if(g instanceof $m&&u instanceof $m)g.mask=u.mask;else if(g instanceof yt&&one(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var a;h[m]=u,s&&!s.linear&&gne.includes(m)&&(a=h[m])!=null&&a.isTexture&&h[m].format===Mr&&h[m].type===Eo&&(h[m].colorSpace=xr)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const l=i.object,u=s.internal.interaction.indexOf(l);u>-1&&s.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&xg(i),n}function xg(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function vne(n,e){n.manual||(m4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Wr=n=>n==null?void 0:n.isObject3D;function Ox(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function _4(n,e,t,i){const s=t.get(e);s&&(t.delete(e),t.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function _ne(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((i,s)=>{_4(t.capturedMap,e,i,s)})}function bne(n){function e(u){const{internal:h}=n.getState(),m=u.offsetX-h.initialClick[0],g=u.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(u){return u.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(u,h){const m=n.getState(),g=new Set,y=[],b=h?h(m.internal.interaction):m.internal.interaction;for(let S=0;S<b.length;S++){const B=vm(b[S]);B&&(B.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function x(S){const B=vm(S);if(!B||!B.events.enabled||B.raycaster.camera===null)return[];if(B.raycaster.camera===void 0){var w;B.events.compute==null||B.events.compute(u,B,(w=B.previousRoot)==null?void 0:w.getState()),B.raycaster.camera===void 0&&(B.raycaster.camera=null)}return B.raycaster.camera?B.raycaster.intersectObject(S,!0):[]}let T=b.flatMap(x).sort((S,B)=>{const w=vm(S.object),R=vm(B.object);return!w||!R?S.distance-B.distance:R.events.priority-w.events.priority||S.distance-B.distance}).filter(S=>{const B=Ox(S);return g.has(B)?!1:(g.add(B),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const S of T){let B=S.object;for(;B;){var A;(A=B.__r3f)!=null&&A.eventCount&&y.push({...S,eventObject:B}),B=B.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let S of m.internal.capturedMap.get(u.pointerId).values())g.has(Ox(S.intersection))||y.push(S.intersection);return y}function s(u,h,m,g){if(u.length){const y={stopped:!1};for(const b of u){let x=vm(b.object);if(x||b.object.traverseAncestors(T=>{const A=vm(T);if(A)return x=A,!1}),x){const{raycaster:T,pointer:A,camera:S,internal:B}=x,w=new ie(A.x,A.y,0).unproject(S),R=O=>{var M,H;return(M=(H=B.capturedMap.get(O))==null?void 0:H.has(b.eventObject))!=null?M:!1},L=O=>{const M={intersection:b,target:h.target};B.capturedMap.has(O)?B.capturedMap.get(O).set(b.eventObject,M):B.capturedMap.set(O,new Map([[b.eventObject,M]])),h.target.setPointerCapture(O)},N=O=>{const M=B.capturedMap.get(O);M&&_4(B.capturedMap,b.eventObject,M,O)};let U={};for(let O in h){let M=h[O];typeof M!="function"&&(U[O]=M)}let P={...b,...U,pointer:A,intersections:u,stopped:y.stopped,delta:m,unprojectedPoint:w,ray:T.ray,camera:S,stopPropagation(){const O="pointerId"in h&&B.capturedMap.get(h.pointerId);if((!O||O.has(b.eventObject))&&(P.stopped=y.stopped=!0,B.hovered.size&&Array.from(B.hovered.values()).find(M=>M.eventObject===b.eventObject))){const M=u.slice(0,u.indexOf(b));r([...M,b])}},target:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:N},currentTarget:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:N},nativeEvent:h};if(g(P),y.stopped===!0)break}}}return u}function r(u){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(h.hovered.delete(Ox(m)),y!=null&&y.eventCount){const b=y.handlers,x={...m,intersections:u};b.onPointerOut==null||b.onPointerOut(x),b.onPointerLeave==null||b.onPointerLeave(x)}}}function a(u,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const b=u==="onPointerMove",x=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",A=i(m,b?t:void 0),S=x?e(m):0;u==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=A.map(w=>w.eventObject)),x&&!A.length&&S<=2&&(a(m,y.interaction),g&&g(m)),b&&r(A);function B(w){const R=w.eventObject,L=R.__r3f;if(!(L!=null&&L.eventCount))return;const N=L.handlers;if(b){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const U=Ox(w),P=y.hovered.get(U);P?P.stopped&&w.stopPropagation():(y.hovered.set(U,w),N.onPointerOver==null||N.onPointerOver(w),N.onPointerEnter==null||N.onPointerEnter(w))}N.onPointerMove==null||N.onPointerMove(w)}else{const U=N[u];U?(!x||y.initialHits.includes(R))&&(a(m,y.interaction.filter(P=>!y.initialHits.includes(P))),U(w)):x&&y.initialHits.includes(R)&&a(m,y.interaction.filter(P=>!y.initialHits.includes(P)))}}s(A,m,S,B)}}return{handlePointer:l}}const RN=n=>!!(n!=null&&n.render),b4=te.createContext(null),xne=(n,e)=>{const t=kte((l,u)=>{const h=new ie,m=new ie,g=new ie;function y(S=u().camera,B=m,w=u().size){const{width:R,height:L,top:N,left:U}=w,P=R/L;B.isVector3?g.copy(B):g.set(...B);const O=S.getWorldPosition(h).distanceTo(g);if(m4(S))return{width:R/S.zoom,height:L/S.zoom,top:N,left:U,factor:1,distance:O,aspect:P};{const M=S.fov*Math.PI/180,H=2*Math.tan(M/2)*O,k=H*(R/L);return{width:k,height:H,top:N,left:U,factor:R/k,distance:O,aspect:P}}}let b;const x=S=>l(B=>({performance:{...B.performance,current:S}})),T=new Qe;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(u(),S),advance:(S,B)=>e(S,B,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new LR,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();b&&clearTimeout(b),S.performance.current!==S.performance.min&&x(S.performance.min),b=setTimeout(()=>x(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>l(B=>({...B,events:{...B.events,...S}})),setSize:(S,B,w=0,R=0)=>{const L=u().camera,N={width:S,height:B,top:w,left:R};l(U=>({size:N,viewport:{...U.viewport,...y(L,m,N)}}))},setDpr:S=>l(B=>{const w=y4(S);return{viewport:{...B.viewport,dpr:w,initialDpr:B.viewport.initialDpr||w}}}),setFrameloop:(S="always")=>{const B=u().clock;B.stop(),B.elapsedTime=0,S!=="never"&&(B.start(),B.elapsedTime=0),l(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:te.createRef(),active:!1,frames:0,priority:0,subscribe:(S,B,w)=>{const R=u().internal;return R.priority=R.priority+(B>0?1:0),R.subscribers.push({ref:S,priority:B,store:w}),R.subscribers=R.subscribers.sort((L,N)=>L.priority-N.priority),()=>{const L=u().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(B>0?1:0),L.subscribers=L.subscribers.filter(N=>N.ref!==S))}}}}}),i=t.getState();let s=i.size,r=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:h,gl:m,set:g}=t.getState();if(u.width!==s.width||u.height!==s.height||h.dpr!==r){s=u,r=h.dpr,vne(l,u),h.dpr>0&&m.setPixelRatio(h.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,y)}l!==a&&(a=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function x4(){const n=te.useContext(b4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function bf(n=t=>t,e){return x4()(n,e)}function S4(n,e=0){const t=x4(),i=t.getState().internal.subscribe,s=g4(n);return Kv(()=>i(s,e,t),[e,i,t]),null}const BN=new WeakMap,Sne=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function A4(n,e){return function(t,...i){let s;return Sne(t)?(s=BN.get(t),s||(s=new t,BN.set(t,s))):s=t,n&&n(s),Promise.all(i.map(r=>new Promise((a,l)=>s.load(r,u=>{Wr(u==null?void 0:u.scene)&&Object.assign(u,fne(u.scene)),a(u)},e,u=>l(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`))))))}}function Jv(n,e,t,i){const s=Array.isArray(e)?e:[e],r=$te(A4(t,i),[n,...s],{equal:Ei.equ});return Array.isArray(e)?r:r[0]}Jv.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return ene(A4(t),[n,...i])};Jv.clear=function(n,e){const t=Array.isArray(e)?e:[e];return tne([n,...t])};function Ane(n){const e=Kte(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:te.version}),e}const E4=0,ig={},Ene=/^three(?=[A-Z])/,ME=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Mne=0;const Tne=n=>typeof n=="function";function Cne(n){if(Tne(n)){const e=`${Mne++}`;return ig[e]=n,e}else Object.assign(ig,n)}function M4(n,e){const t=ME(n),i=ig[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function wne(n,e,t){var i;return n=ME(n)in ig?n:n.replace(Ene,""),M4(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,tA(e.object,t,n,e)}function Rne(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?iA(n.parent,n):Wr(n.object)&&(n.object.visible=!1),n.isHidden=!0,xg(n)}}function T4(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?nA(n.parent,n):Wr(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,xg(n)}}function kR(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var s,r;const a=ig[ME(e.type)];e.object=(s=e.props.object)!=null?s:new a(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Mf(e.object,e.props),e.props.attach)nA(n,e);else if(Wr(e.object)&&Wr(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const u=l<a?a-1:a;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)kR(e,a);xg(e)}}function KM(n,e){e&&(e.parent=n,n.children.push(e),kR(n,e))}function DN(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),kR(n,e,t)}function C4(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():TN.unstable_scheduleCallback(TN.unstable_IdlePriority,e)}}function _C(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?iA(n,e):Wr(e.object)&&Wr(n.object)&&(n.object.remove(e.object),_ne(p4(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const a=e.children[r];_C(e,a,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&C4(e.object),t===void 0&&xg(e)}function Bne(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const eS=[];function Dne(){for(const[t]of eS){const i=t.parent;if(i){t.props.attach?iA(i,t):Wr(t.object)&&Wr(i.object)&&i.object.remove(t.object);for(const s of t.children)s.props.attach?iA(t,s):Wr(s.object)&&Wr(t.object)&&t.object.remove(s.object)}t.isHidden&&T4(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&C4(t.object)}for(const[t,i,s]of eS){t.props=i;const r=t.parent;if(r){var n,e;const a=ig[ME(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Bne(s,t.object),Mf(t.object,t.props),t.props.attach?nA(r,t):Wr(t.object)&&Wr(r.object)&&r.object.add(t.object);for(const l of t.children)l.props.attach?nA(t,l):Wr(l.object)&&Wr(t.object)&&t.object.add(l.object);xg(t)}}eS.length=0}const JM=()=>{},IN={};let Lx=E4;const Ine=0,Nne=4,bC=Ane({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:wne,removeChild:_C,appendChild:KM,appendInitialChild:KM,insertBefore:DN,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||KM(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||_C(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||DN(i,e,t)},getRootHostContext:()=>IN,getChildHostContext:()=>IN,commitUpdate(n,e,t,i,s){var r,a,l;M4(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((a=t.args)==null?void 0:a.length)||(l=i.args)!=null&&l.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(u=!0),u)eS.push([n,{...i},s]);else{const m=mne(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Mf(n.object,m))}(s.sibling===null||(s.flags&Nne)===Ine)&&Dne()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>tA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Rne,unhideInstance:T4,createTextInstance:JM,hideTextInstance:JM,unhideTextInstance:JM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:te.createContext(null),setCurrentUpdatePriority(n){Lx=n},getCurrentUpdatePriority(){return Lx},resolveUpdatePriority(){var n;if(Lx!==E4)return Lx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $x.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $x.ContinuousEventPriority;default:return $x.DefaultEventPriority}},resetFormInstance(){}}),Pd=new Map,_m={objects:"shallow",strict:!1};function One(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:s,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Lne(n){const e=Pd.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||xne(AC,ON),a=t||bC.createContainer(r,$x.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||Pd.set(n,{fiber:a,store:r});let l,u,h=!1,m=null;return{async configure(g={}){let y;m=new Promise(ae=>y=ae);let{gl:b,size:x,scene:T,events:A,onCreated:S,shadows:B=!1,linear:w=!1,flat:R=!1,legacy:L=!1,orthographic:N=!1,frameloop:U="always",dpr:P=[1,2],performance:O,raycaster:M,camera:H,onPointerMissed:k}=g,$=r.getState(),se=$.gl;if(!$.gl){const ae={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Se=typeof b=="function"?await b(ae):b;RN(Se)?se=Se:se=new l4({...ae,...b}),$.set({gl:se})}let ne=$.raycaster;ne||$.set({raycaster:ne=new e4});const{params:z,...Y}=M||{};if(Ei.equ(Y,ne,_m)||Mf(ne,{...Y}),Ei.equ(z,ne.params,_m)||Mf(ne,{params:{...ne.params,...z}}),!$.camera||$.camera===u&&!Ei.equ(u,H,_m)){u=H;const ae=H==null?void 0:H.isCamera,Se=ae?H:N?new iu(0,0,0,0,.1,1e3):new qi(75,0,.1,1e3);ae||(Se.position.z=5,H&&(Mf(Se,H),Se.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(Se.manual=!0,Se.updateProjectionMatrix())),!$.camera&&!(H!=null&&H.rotation)&&Se.lookAt(0,0,0)),$.set({camera:Se}),ne.camera=Se}if(!$.scene){let ae;T!=null&&T.isScene?(ae=T,tA(ae,r,"",{})):(ae=new hR,tA(ae,r,"",{}),T&&Mf(ae,T)),$.set({scene:ae})}A&&!$.events.handlers&&$.set({events:A(r)});const Z=One(n,x);if(Ei.equ(Z,$.size,_m)||$.setSize(Z.width,Z.height,Z.top,Z.left),P&&$.viewport.dpr!==y4(P)&&$.setDpr(P),$.frameloop!==U&&$.setFrameloop(U),$.onPointerMissed||$.set({onPointerMissed:k}),O&&!Ei.equ(O,$.performance,_m)&&$.set(ae=>({performance:{...ae.performance,...O}})),!$.xr){var re;const ae=(ce,Te)=>{const Xe=r.getState();Xe.frameloop!=="never"&&ON(ce,!0,Xe,Te)},Se=()=>{const ce=r.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?ae:null),ce.gl.xr.isPresenting||AC(ce)},Ae={connect(){const ce=r.getState().gl;ce.xr.addEventListener("sessionstart",Se),ce.xr.addEventListener("sessionend",Se)},disconnect(){const ce=r.getState().gl;ce.xr.removeEventListener("sessionstart",Se),ce.xr.removeEventListener("sessionend",Se)}};typeof((re=se.xr)==null?void 0:re.addEventListener)=="function"&&Ae.connect(),$.set({xr:Ae})}if(se.shadowMap){const ae=se.shadowMap.enabled,Se=se.shadowMap.type;if(se.shadowMap.enabled=!!B,Ei.boo(B))se.shadowMap.type=T0;else if(Ei.str(B)){var j;const Ae={basic:pU,percentage:XA,soft:T0,variance:il};se.shadowMap.type=(j=Ae[B])!=null?j:T0}else Ei.obj(B)&&Object.assign(se.shadowMap,B);(ae!==se.shadowMap.enabled||Se!==se.shadowMap.type)&&(se.shadowMap.needsUpdate=!0)}return Cn.enabled=!L,h||(se.outputColorSpace=w?Uf:xr,se.toneMapping=R?cc:Zw),$.legacy!==L&&$.set(()=>({legacy:L})),$.linear!==w&&$.set(()=>({linear:w})),$.flat!==R&&$.set(()=>({flat:R})),b&&!Ei.fun(b)&&!RN(b)&&!Ei.equ(b,se,_m)&&Mf(se,b),l=S,h=!0,y(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{bC.updateContainer(_e.jsx(Pne,{store:r,children:g,onCreated:l,rootElement:n}),a,null,()=>{})}),r},unmount(){w4(n)}}}function Pne({store:n,children:e,onCreated:t,rootElement:i}){return Kv(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),t&&t(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),_e.jsx(b4.Provider,{value:n,children:e})}function w4(n,e){const t=Pd.get(n),i=t==null?void 0:t.fiber;if(i){const s=t==null?void 0:t.store.getState();s&&(s.internal.active=!1),bC.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,a,l,u;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(a=r.renderLists)==null||a.dispose==null||a.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),hne(s.scene),Pd.delete(n)}catch{}},500)})}}const Une=new Set,Fne=new Set,Hne=new Set;function QM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function L0(n,e){switch(n){case"before":return QM(Une,e);case"after":return QM(Fne,e);case"tail":return QM(Hne,e)}}let ZM,$M;function xC(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ZM=e.internal.subscribers;for(let s=0;s<ZM.length;s++)$M=ZM[s],$M.ref.current($M.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let sA=!1,SC=!1,eT,NN,bm;function R4(n){NN=requestAnimationFrame(R4),sA=!0,eT=0,L0("before",n),SC=!0;for(const t of Pd.values()){var e;bm=t.store.getState(),bm.internal.active&&(bm.frameloop==="always"||bm.internal.frames>0)&&!((e=bm.gl.xr)!=null&&e.isPresenting)&&(eT+=xC(n,bm))}if(SC=!1,L0("after",n),eT===0)return L0("tail",n),sA=!1,cancelAnimationFrame(NN)}function AC(n,e=1){var t;if(!n)return Pd.forEach(i=>AC(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):SC?n.internal.frames=2:n.internal.frames=1,sA||(sA=!0,requestAnimationFrame(R4)))}function ON(n,e=!0,t,i){if(e&&L0("before",n),t)xC(n,t,i);else for(const s of Pd.values())xC(n,s.store.getState());e&&L0("after",n)}const tT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zne(n){const{handlePointer:e}=bne(n);return{priority:1,enabled:!0,compute(t,i,s){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(tT).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:s}=n.getState();(t=s.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:t}})),s.handlers)for(const r in s.handlers){const a=s.handlers[r],[l,u]=tT[r];t.addEventListener(l,a,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[a]=tT[s];i.connected.removeEventListener(a,r)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function LN(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Gne({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,a]=te.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=te.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=te.useRef(!1);te.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=te.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:B,top:w,width:R,height:L,bottom:N,right:U,x:P,y:O}=l.current.element.getBoundingClientRect(),M={left:B,top:w,width:R,height:L,bottom:N,right:U,x:P,y:O};l.current.element instanceof HTMLElement&&i&&(M.height=l.current.element.offsetHeight,M.width=l.current.element.offsetWidth),Object.freeze(M),m.current&&!jne(l.current.lastBounds,M)&&a(l.current.lastBounds=M)};return[S,h?LN(S,h):S,u?LN(S,u):S]},[a,i,u,h]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",b,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function T(){l.current.element&&(l.current.resizeObserver=new s(b),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",b,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const A=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=B4(S),T())};return kne(b,!!e),Vne(y),te.useEffect(()=>{x(),T()},[e,b,y]),te.useEffect(()=>x,[]),[A,r,g]}function Vne(n){te.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function kne(n,e){te.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function B4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[t,i,s].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...B4(n.parentElement)]}const Xne=["x","y","top","bottom","left","right","width","height"],jne=(n,e)=>Xne.every(t=>n[t]===e[t]);function Wne({ref:n,children:e,fallback:t,resize:i,style:s,gl:r,events:a=zne,eventSource:l,eventPrefix:u,shadows:h,linear:m,flat:g,legacy:y,orthographic:b,frameloop:x,dpr:T,performance:A,raycaster:S,camera:B,scene:w,onPointerMissed:R,onCreated:L,...N}){te.useMemo(()=>Cne(Bte),[]);const U=lne(),[P,O]=Gne({scroll:!0,debounce:{scroll:50,resize:0},...i}),M=te.useRef(null),H=te.useRef(null);te.useImperativeHandle(n,()=>M.current);const k=g4(R),[$,se]=te.useState(!1),[ne,z]=te.useState(!1);if($)throw $;if(ne)throw ne;const Y=te.useRef(null);Kv(()=>{const re=M.current;if(O.width>0&&O.height>0&&re){Y.current||(Y.current=Lne(re));async function j(){await Y.current.configure({gl:r,scene:w,events:a,shadows:h,linear:m,flat:g,legacy:y,orthographic:b,frameloop:x,dpr:T,performance:A,raycaster:S,camera:B,size:O,onPointerMissed:(...ae)=>k.current==null?void 0:k.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(l?ane(l)?l.current:l:H.current),u&&ae.setEvents({compute:(Se,Ae)=>{const ce=Se[u+"X"],Te=Se[u+"Y"];Ae.pointer.set(ce/Ae.size.width*2-1,-(Te/Ae.size.height)*2+1),Ae.raycaster.setFromCamera(Ae.pointer,Ae.camera)}}),L==null||L(ae)}}),Y.current.render(_e.jsx(U,{children:_e.jsx(une,{set:z,children:_e.jsx(te.Suspense,{fallback:_e.jsx(cne,{set:se}),children:e??null})})}))}j()}}),te.useEffect(()=>{const re=M.current;if(re)return()=>w4(re)},[]);const Z=l?"none":"auto";return _e.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...s},...N,children:_e.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:_e.jsx("canvas",{ref:M,style:{display:"block"},children:t})})})}function Yne(n){return _e.jsx(h4,{children:_e.jsx(Wne,{...n})})}const qne=parseInt(Uv.replace(/\D+/g,""));function PN(n,e){if(e===jU)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===JS||e===oR){let t=n.getIndex();if(t===null){const a=[],l=n.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)a.push(u);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,s=[];if(t)if(e===JS)for(let a=1;a<=i;a++)s.push(t.getX(0)),s.push(t.getX(a)),s.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(s.push(t.getX(a)),s.push(t.getX(a+1)),s.push(t.getX(a+2))):(s.push(t.getX(a+2)),s.push(t.getX(a+1)),s.push(t.getX(a)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Kne=Object.defineProperty,Jne=(n,e,t)=>e in n?Kne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qne=(n,e,t)=>(Jne(n,e+"",t),t);class Zne{constructor(){Qne(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,e);e.target=null}}}var $ne=Object.defineProperty,eie=(n,e,t)=>e in n?$ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ut=(n,e,t)=>(eie(n,typeof e!="symbol"?e+"":e,t),t);const Px=new Gd,UN=new Kc,tie=Math.cos(70*(Math.PI/180)),FN=(n,e)=>(n%e+e)%e;let nie=class extends Zne{constructor(e,t){super(),Ut(this,"object"),Ut(this,"domElement"),Ut(this,"enabled",!0),Ut(this,"target",new ie),Ut(this,"minDistance",0),Ut(this,"maxDistance",1/0),Ut(this,"minZoom",0),Ut(this,"maxZoom",1/0),Ut(this,"minPolarAngle",0),Ut(this,"maxPolarAngle",Math.PI),Ut(this,"minAzimuthAngle",-1/0),Ut(this,"maxAzimuthAngle",1/0),Ut(this,"enableDamping",!1),Ut(this,"dampingFactor",.05),Ut(this,"enableZoom",!0),Ut(this,"zoomSpeed",1),Ut(this,"enableRotate",!0),Ut(this,"rotateSpeed",1),Ut(this,"enablePan",!0),Ut(this,"panSpeed",1),Ut(this,"screenSpacePanning",!0),Ut(this,"keyPanSpeed",7),Ut(this,"zoomToCursor",!1),Ut(this,"autoRotate",!1),Ut(this,"autoRotateSpeed",2),Ut(this,"reverseOrbit",!1),Ut(this,"reverseHorizontalOrbit",!1),Ut(this,"reverseVerticalOrbit",!1),Ut(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ut(this,"mouseButtons",{LEFT:sd.ROTATE,MIDDLE:sd.DOLLY,RIGHT:sd.PAN}),Ut(this,"touches",{ONE:rd.ROTATE,TWO:rd.DOLLY_PAN}),Ut(this,"target0"),Ut(this,"position0"),Ut(this,"zoom0"),Ut(this,"_domElementKeyEvents",null),Ut(this,"getPolarAngle"),Ut(this,"getAzimuthalAngle"),Ut(this,"setPolarAngle"),Ut(this,"setAzimuthalAngle"),Ut(this,"getDistance"),Ut(this,"getZoomScale"),Ut(this,"listenToKeyEvents"),Ut(this,"stopListenToKeyEvents"),Ut(this,"saveState"),Ut(this,"reset"),Ut(this,"update"),Ut(this,"connect"),Ut(this,"dispose"),Ut(this,"dollyIn"),Ut(this,"dollyOut"),Ut(this,"getScale"),Ut(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=le=>{let Ne=FN(le,2*Math.PI),lt=m.phi;lt<0&&(lt+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let he=Math.abs(Ne-lt);2*Math.PI-he<he&&(Ne<lt?Ne+=2*Math.PI:lt+=2*Math.PI),g.phi=Ne-lt,i.update()},this.setAzimuthalAngle=le=>{let Ne=FN(le,2*Math.PI),lt=m.theta;lt<0&&(lt+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let he=Math.abs(Ne-lt);2*Math.PI-he<he&&(Ne<lt?Ne+=2*Math.PI:lt+=2*Math.PI),g.theta=Ne-lt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",it),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",it),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),u=l.NONE},this.update=(()=>{const le=new ie,Ne=new ie(0,1,0),lt=new Xs().setFromUnitVectors(e.up,Ne),he=lt.clone().invert(),st=new ie,Ge=new Xs,qe=2*Math.PI;return function(){const dt=i.object.position;lt.setFromUnitVectors(e.up,Ne),he.copy(lt).invert(),le.copy(dt).sub(i.target),le.applyQuaternion(lt),m.setFromVector3(le),i.autoRotate&&u===l.NONE&&se(k()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Rt=i.minAzimuthAngle,rn=i.maxAzimuthAngle;isFinite(Rt)&&isFinite(rn)&&(Rt<-Math.PI?Rt+=qe:Rt>Math.PI&&(Rt-=qe),rn<-Math.PI?rn+=qe:rn>Math.PI&&(rn-=qe),Rt<=rn?m.theta=Math.max(Rt,Math.min(rn,m.theta)):m.theta=m.theta>(Rt+rn)/2?Math.max(Rt,m.theta):Math.min(rn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&O||i.object.isOrthographicCamera?m.radius=Ae(m.radius):m.radius=Ae(m.radius*y),le.setFromSpherical(m),le.applyQuaternion(he),dt.copy(i.target).add(le),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let On=!1;if(i.zoomToCursor&&O){let $t=null;if(i.object instanceof qi&&i.object.isPerspectiveCamera){const Ui=le.length();$t=Ae(Ui*y);const ui=Ui-$t;i.object.position.addScaledVector(U,ui),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ui=new ie(P.x,P.y,0);Ui.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),On=!0;const ui=new ie(P.x,P.y,0);ui.unproject(i.object),i.object.position.sub(ui).add(Ui),i.object.updateMatrixWorld(),$t=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$t!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($t).add(i.object.position):(Px.origin.copy(i.object.position),Px.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Px.direction))<tie?e.lookAt(i.target):(UN.setFromNormalAndCoplanarPoint(i.object.up,i.target),Px.intersectPlane(UN,i.target))))}else i.object instanceof iu&&i.object.isOrthographicCamera&&(On=y!==1,On&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,O=!1,On||st.distanceToSquared(i.object.position)>h||8*(1-Ge.dot(i.object.quaternion))>h?(i.dispatchEvent(s),st.copy(i.object.position),Ge.copy(i.object.quaternion),On=!1,!0):!1}})(),this.connect=le=>{i.domElement=le,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",We),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",Re),i.domElement.addEventListener("wheel",ct)},this.dispose=()=>{var le,Ne,lt,he,st,Ge;i.domElement&&(i.domElement.style.touchAction="auto"),(le=i.domElement)==null||le.removeEventListener("contextmenu",We),(Ne=i.domElement)==null||Ne.removeEventListener("pointerdown",V),(lt=i.domElement)==null||lt.removeEventListener("pointercancel",Re),(he=i.domElement)==null||he.removeEventListener("wheel",ct),(st=i.domElement)==null||st.ownerDocument.removeEventListener("pointermove",ge),(Ge=i.domElement)==null||Ge.ownerDocument.removeEventListener("pointerup",Re),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",it)};const i=this,s={type:"change"},r={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const h=1e-6,m=new pC,g=new pC;let y=1;const b=new ie,x=new Qe,T=new Qe,A=new Qe,S=new Qe,B=new Qe,w=new Qe,R=new Qe,L=new Qe,N=new Qe,U=new ie,P=new Qe;let O=!1;const M=[],H={};function k(){return 2*Math.PI/60/60*i.autoRotateSpeed}function $(){return Math.pow(.95,i.zoomSpeed)}function se(le){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=le:g.theta-=le}function ne(le){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=le:g.phi-=le}const z=(()=>{const le=new ie;return function(lt,he){le.setFromMatrixColumn(he,0),le.multiplyScalar(-lt),b.add(le)}})(),Y=(()=>{const le=new ie;return function(lt,he){i.screenSpacePanning===!0?le.setFromMatrixColumn(he,1):(le.setFromMatrixColumn(he,0),le.crossVectors(i.object.up,le)),le.multiplyScalar(lt),b.add(le)}})(),Z=(()=>{const le=new ie;return function(lt,he){const st=i.domElement;if(st&&i.object instanceof qi&&i.object.isPerspectiveCamera){const Ge=i.object.position;le.copy(Ge).sub(i.target);let qe=le.length();qe*=Math.tan(i.object.fov/2*Math.PI/180),z(2*lt*qe/st.clientHeight,i.object.matrix),Y(2*he*qe/st.clientHeight,i.object.matrix)}else st&&i.object instanceof iu&&i.object.isOrthographicCamera?(z(lt*(i.object.right-i.object.left)/i.object.zoom/st.clientWidth,i.object.matrix),Y(he*(i.object.top-i.object.bottom)/i.object.zoom/st.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function re(le){i.object instanceof qi&&i.object.isPerspectiveCamera||i.object instanceof iu&&i.object.isOrthographicCamera?y=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(le){re(y/le)}function ae(le){re(y*le)}function Se(le){if(!i.zoomToCursor||!i.domElement)return;O=!0;const Ne=i.domElement.getBoundingClientRect(),lt=le.clientX-Ne.left,he=le.clientY-Ne.top,st=Ne.width,Ge=Ne.height;P.x=lt/st*2-1,P.y=-(he/Ge)*2+1,U.set(P.x,P.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ae(le){return Math.max(i.minDistance,Math.min(i.maxDistance,le))}function ce(le){x.set(le.clientX,le.clientY)}function Te(le){Se(le),R.set(le.clientX,le.clientY)}function Xe(le){S.set(le.clientX,le.clientY)}function et(le){T.set(le.clientX,le.clientY),A.subVectors(T,x).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;Ne&&(se(2*Math.PI*A.x/Ne.clientHeight),ne(2*Math.PI*A.y/Ne.clientHeight)),x.copy(T),i.update()}function be(le){L.set(le.clientX,le.clientY),N.subVectors(L,R),N.y>0?j($()):N.y<0&&ae($()),R.copy(L),i.update()}function W(le){B.set(le.clientX,le.clientY),w.subVectors(B,S).multiplyScalar(i.panSpeed),Z(w.x,w.y),S.copy(B),i.update()}function Q(le){Se(le),le.deltaY<0?ae($()):le.deltaY>0&&j($()),i.update()}function oe(le){let Ne=!1;switch(le.code){case i.keys.UP:Z(0,i.keyPanSpeed),Ne=!0;break;case i.keys.BOTTOM:Z(0,-i.keyPanSpeed),Ne=!0;break;case i.keys.LEFT:Z(i.keyPanSpeed,0),Ne=!0;break;case i.keys.RIGHT:Z(-i.keyPanSpeed,0),Ne=!0;break}Ne&&(le.preventDefault(),i.update())}function Ee(){if(M.length==1)x.set(M[0].pageX,M[0].pageY);else{const le=.5*(M[0].pageX+M[1].pageX),Ne=.5*(M[0].pageY+M[1].pageY);x.set(le,Ne)}}function Me(){if(M.length==1)S.set(M[0].pageX,M[0].pageY);else{const le=.5*(M[0].pageX+M[1].pageX),Ne=.5*(M[0].pageY+M[1].pageY);S.set(le,Ne)}}function X(){const le=M[0].pageX-M[1].pageX,Ne=M[0].pageY-M[1].pageY,lt=Math.sqrt(le*le+Ne*Ne);R.set(0,lt)}function Oe(){i.enableZoom&&X(),i.enablePan&&Me()}function Ve(){i.enableZoom&&X(),i.enableRotate&&Ee()}function He(le){if(M.length==1)T.set(le.pageX,le.pageY);else{const lt=je(le),he=.5*(le.pageX+lt.x),st=.5*(le.pageY+lt.y);T.set(he,st)}A.subVectors(T,x).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;Ne&&(se(2*Math.PI*A.x/Ne.clientHeight),ne(2*Math.PI*A.y/Ne.clientHeight)),x.copy(T)}function Le(le){if(M.length==1)B.set(le.pageX,le.pageY);else{const Ne=je(le),lt=.5*(le.pageX+Ne.x),he=.5*(le.pageY+Ne.y);B.set(lt,he)}w.subVectors(B,S).multiplyScalar(i.panSpeed),Z(w.x,w.y),S.copy(B)}function rt(le){const Ne=je(le),lt=le.pageX-Ne.x,he=le.pageY-Ne.y,st=Math.sqrt(lt*lt+he*he);L.set(0,st),N.set(0,Math.pow(L.y/R.y,i.zoomSpeed)),j(N.y),R.copy(L)}function ke(le){i.enableZoom&&rt(le),i.enablePan&&Le(le)}function K(le){i.enableZoom&&rt(le),i.enableRotate&&He(le)}function V(le){var Ne,lt;i.enabled!==!1&&(M.length===0&&((Ne=i.domElement)==null||Ne.ownerDocument.addEventListener("pointermove",ge),(lt=i.domElement)==null||lt.ownerDocument.addEventListener("pointerup",Re)),ht(le),le.pointerType==="touch"?mt(le):Ze(le))}function ge(le){i.enabled!==!1&&(le.pointerType==="touch"?Tt(le):ze(le))}function Re(le){var Ne,lt,he;xt(le),M.length===0&&((Ne=i.domElement)==null||Ne.releasePointerCapture(le.pointerId),(lt=i.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",ge),(he=i.domElement)==null||he.ownerDocument.removeEventListener("pointerup",Re)),i.dispatchEvent(a),u=l.NONE}function Ze(le){let Ne;switch(le.button){case 0:Ne=i.mouseButtons.LEFT;break;case 1:Ne=i.mouseButtons.MIDDLE;break;case 2:Ne=i.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case sd.DOLLY:if(i.enableZoom===!1)return;Te(le),u=l.DOLLY;break;case sd.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enablePan===!1)return;Xe(le),u=l.PAN}else{if(i.enableRotate===!1)return;ce(le),u=l.ROTATE}break;case sd.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(i.enableRotate===!1)return;ce(le),u=l.ROTATE}else{if(i.enablePan===!1)return;Xe(le),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(r)}function ze(le){if(i.enabled!==!1)switch(u){case l.ROTATE:if(i.enableRotate===!1)return;et(le);break;case l.DOLLY:if(i.enableZoom===!1)return;be(le);break;case l.PAN:if(i.enablePan===!1)return;W(le);break}}function ct(le){i.enabled===!1||i.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(le.preventDefault(),i.dispatchEvent(r),Q(le),i.dispatchEvent(a))}function it(le){i.enabled===!1||i.enablePan===!1||oe(le)}function mt(le){switch(At(le),M.length){case 1:switch(i.touches.ONE){case rd.ROTATE:if(i.enableRotate===!1)return;Ee(),u=l.TOUCH_ROTATE;break;case rd.PAN:if(i.enablePan===!1)return;Me(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(i.touches.TWO){case rd.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Oe(),u=l.TOUCH_DOLLY_PAN;break;case rd.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ve(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(r)}function Tt(le){switch(At(le),u){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;He(le),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;Le(le),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ke(le),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;K(le),i.update();break;default:u=l.NONE}}function We(le){i.enabled!==!1&&le.preventDefault()}function ht(le){M.push(le)}function xt(le){delete H[le.pointerId];for(let Ne=0;Ne<M.length;Ne++)if(M[Ne].pointerId==le.pointerId){M.splice(Ne,1);return}}function At(le){let Ne=H[le.pointerId];Ne===void 0&&(Ne=new Qe,H[le.pointerId]=Ne),Ne.set(le.pageX,le.pageY)}function je(le){const Ne=le.pointerId===M[0].pointerId?M[1]:M[0];return H[Ne.pointerId]}this.dollyIn=(le=$())=>{ae(le),i.update()},this.dollyOut=(le=$())=>{j(le),i.update()},this.getScale=()=>y,this.setScale=le=>{re(le),i.update()},this.getZoomScale=()=>$(),t!==void 0&&this.connect(t),this.update()}};function rA(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const _d="srgb",su="srgb-linear",HN=3001,iie=3e3;class XR extends wr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new lie(t)}),this.register(function(t){return new cie(t)}),this.register(function(t){return new vie(t)}),this.register(function(t){return new _ie(t)}),this.register(function(t){return new bie(t)}),this.register(function(t){return new fie(t)}),this.register(function(t){return new hie(t)}),this.register(function(t){return new die(t)}),this.register(function(t){return new pie(t)}),this.register(function(t){return new oie(t)}),this.register(function(t){return new mie(t)}),this.register(function(t){return new uie(t)}),this.register(function(t){return new yie(t)}),this.register(function(t){return new gie(t)}),this.register(function(t){return new rie(t)}),this.register(function(t){return new xie(t)}),this.register(function(t){return new Sie(t)})}load(e,t,i,s){const r=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const h=Cf.extractUrlBase(e);a=Cf.resolveURL(h,this.path)}else a=Cf.extractUrlBase(e);this.manager.itemStart(e);const l=function(h){s?s(h):console.error(h),r.manager.itemError(e),r.manager.itemEnd(e)},u=new Wa(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){try{r.parse(h,a,function(m){t(m),r.manager.itemEnd(e)},l)}catch(m){l(m)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let r;const a={},l={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(rA(new Uint8Array(e.slice(0,4)))===D4){try{a[vn.KHR_BINARY_GLTF]=new Aie(e)}catch(m){s&&s(m);return}r=JSON.parse(a[vn.KHR_BINARY_GLTF].content)}else r=JSON.parse(rA(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Pie(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const m=this.pluginCallbacks[h](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,a[m.name]=!0}if(r.extensionsUsed)for(let h=0;h<r.extensionsUsed.length;++h){const m=r.extensionsUsed[h],g=r.extensionsRequired||[];switch(m){case vn.KHR_MATERIALS_UNLIT:a[m]=new aie;break;case vn.KHR_DRACO_MESH_COMPRESSION:a[m]=new Eie(r,this.dracoLoader);break;case vn.KHR_TEXTURE_TRANSFORM:a[m]=new Mie;break;case vn.KHR_MESH_QUANTIZATION:a[m]=new Tie;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,r){i.parse(e,t,s,r)})}}function sie(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const vn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rie{constructor(e){this.parser=e,this.name=vn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const r=t.json,u=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let h;const m=new yt(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],su);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":h=new NR(m),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new IR(m),h.distance=g;break;case"spot":h=new DR(m),h.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,h.angle=u.spot.outerConeAngle,h.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return h.position.set(0,0,0),h.decay=2,qc(h,u),u.intensity!==void 0&&(h.intensity=u.intensity),h.name=t.createUniqueName(u.name||"light_"+e),s=Promise.resolve(h),t.cache.add(i,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],l=(r.extensions&&r.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return i._getNodeRef(t.cache,l,u)})}}class aie{constructor(){this.name=vn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ga}extendParams(e,t,i){const s=[];e.color=new yt(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],su),e.opacity=a[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,_d))}return Promise.all(s)}}class oie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class lie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Qe(l,l)}return Promise.all(r)}}class cie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class uie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class fie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new yt(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=s.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],su)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,_d)),a.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class hie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class die{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new yt().setRGB(l[0],l[1],l[2],su),Promise.all(r)}}class pie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class mie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new yt().setRGB(l[0],l[1],l[2],su),a.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,_d)),Promise.all(r)}}class gie{constructor(e){this.parser=e,this.name=vn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&r.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(r)}}class yie{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:To}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class vie{constructor(e){this.parser=e,this.name=vn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,a)}}class _ie{constructor(e){this.parser=e,this.name=vn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=s.images[a.source];let u=i.textureLoader;if(l.uri){const h=i.options.manager.getHandler(l.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,a.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bie{constructor(e){this.parser=e,this.name=vn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=s.images[a.source];let u=i.textureLoader;if(l.uri){const h=i.options.manager.getHandler(l.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,a.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class xie{constructor(e){this.name=vn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(l){const u=s.byteOffset||0,h=s.byteLength||0,m=s.count,g=s.byteStride,y=new Uint8Array(l,u,h);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(m,g,y,s.mode,s.filter).then(function(b){return b.buffer}):a.ready.then(function(){const b=new ArrayBuffer(m*g);return a.decodeGltfBuffer(new Uint8Array(b),m,g,y,s.mode,s.filter),b})})}else return null}}class Sie{constructor(e){this.name=vn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=t.meshes[i.mesh];for(const h of s.primitives)if(h.mode!==vo.TRIANGLES&&h.mode!==vo.TRIANGLE_STRIP&&h.mode!==vo.TRIANGLE_FAN&&h.mode!==void 0)return null;const a=i.extensions[this.name].attributes,l=[],u={};for(const h in a)l.push(this.parser.getDependency("accessor",a[h]).then(m=>(u[h]=m,u[h])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(h=>{const m=h.pop(),g=m.isGroup?m.children:[m],y=h[0].count,b=[];for(const x of g){const T=new Lt,A=new ie,S=new Xs,B=new ie(1,1,1),w=new mR(x.geometry,x.material,y);for(let R=0;R<y;R++)u.TRANSLATION&&A.fromBufferAttribute(u.TRANSLATION,R),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,R),u.SCALE&&B.fromBufferAttribute(u.SCALE,R),w.setMatrixAt(R,T.compose(A,S,B));for(const R in u)if(R==="_COLOR_0"){const L=u[R];w.instanceColor=new Dd(L.array,L.itemSize,L.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&x.geometry.setAttribute(R,u[R]);wn.prototype.copy.call(w,x),this.parser.assignFinalMaterial(w),b.push(w)}return m.isGroup?(m.clear(),m.add(...b),m):b[0]}))}}const D4="glTF",a0=12,zN={JSON:1313821514,BIN:5130562};class Aie{constructor(e){this.name=vn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,a0);if(this.header={magic:rA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==D4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-a0,s=new DataView(e,a0);let r=0;for(;r<i;){const a=s.getUint32(r,!0);r+=4;const l=s.getUint32(r,!0);if(r+=4,l===zN.JSON){const u=new Uint8Array(e,a0+r,a);this.content=rA(u)}else if(l===zN.BIN){const u=a0+r;this.body=e.slice(u,u+a)}r+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Eie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},u={},h={};for(const m in a){const g=EC[m]||m.toLowerCase();l[g]=a[m]}for(const m in e.attributes){const g=EC[m]||m.toLowerCase();if(a[m]!==void 0){const y=i.accessors[e.attributes[m]],b=Lm[y.componentType];h[g]=b.name,u[g]=y.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(g,y){s.decodeDracoFile(m,function(b){for(const x in b.attributes){const T=b.attributes[x],A=u[x];A!==void 0&&(T.normalized=A)}g(b)},l,h,su,y)})})}}class Mie{constructor(){this.name=vn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Tie{constructor(){this.name=vn.KHR_MESH_QUANTIZATION}}class I4 extends _g{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let a=0;a!==s;a++)t[a]=i[r+a];return t}interpolate_(e,t,i,s){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=l*2,h=l*3,m=s-t,g=(i-t)/m,y=g*g,b=y*g,x=e*h,T=x-h,A=-2*b+3*y,S=b-y,B=1-A,w=S-y+g;for(let R=0;R!==l;R++){const L=a[T+R+l],N=a[T+R+u]*m,U=a[x+R+l],P=a[x+R]*m;r[R]=B*L+w*N+A*U+S*P}return r}}const Cie=new Xs;class wie extends I4{interpolate_(e,t,i,s){const r=super.interpolate_(e,t,i,s);return Cie.fromArray(r).normalize().toArray(r),r}}const vo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Lm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},GN={9728:ks,9729:ss,9984:WA,9985:Nm,9986:pd,9987:xo},VN={33071:za,33648:jm,10497:Pf},nT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},EC={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...qne>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},xf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Rie={CUBICSPLINE:void 0,LINEAR:Qm,STEP:Jm},iT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Bie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new qv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fc})),n.DefaultMaterial}function ed(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function qc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Die(n,e,t){let i=!1,s=!1,r=!1;for(let h=0,m=e.length;h<m;h++){const g=e[h];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(s=!0),g.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const a=[],l=[],u=[];for(let h=0,m=e.length;h<m;h++){const g=e[h];if(i){const y=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):n.attributes.position;a.push(y)}if(s){const y=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):n.attributes.normal;l.push(y)}if(r){const y=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):n.attributes.color;u.push(y)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(h){const m=h[0],g=h[1],y=h[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=g),r&&(n.morphAttributes.color=y),n.morphTargetsRelative=!0,n})}function Iie(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Nie(n){let e;const t=n.extensions&&n.extensions[vn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+sT(t.attributes):e=n.indices+":"+sT(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+sT(n.targets[i]);return e}function sT(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function MC(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Oie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Lie=new Lt;class Pie{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new sie,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new GF(this.options.manager):this.textureLoader=new KF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const l={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:i,userData:{}};return ed(r,l,s),qc(l,s),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){for(const u of l.scenes)u.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const a=t[s].joints;for(let l=0,u=a.length;l<u;l++)e[a[l]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const a=e[s];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),r=(a,l)=>{const u=this.associations.get(a);u!=null&&this.associations.set(l,u);for(const[h,m]of a.children.entries())r(m,l.children[h])};return r(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(r,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[vn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){i.load(Cf.resolveURL(t.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const a=nT[s.type],l=Lm[s.componentType],u=s.normalized===!0,h=new l(s.count*a);return Promise.resolve(new Nn(h,a,u))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const l=a[0],u=nT[s.type],h=Lm[s.componentType],m=h.BYTES_PER_ELEMENT,g=m*u,y=s.byteOffset||0,b=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,x=s.normalized===!0;let T,A;if(b&&b!==g){const S=Math.floor(y/b),B="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+S+":"+s.count;let w=t.cache.get(B);w||(T=new h(l,S*b,s.count*b/m),w=new Vv(T,b/m),t.cache.add(B,w)),A=new Ff(w,u,y%b/m,x)}else l===null?T=new h(s.count*u):T=new h(l,y,s.count*u),A=new Nn(T,u,x);if(s.sparse!==void 0){const S=nT.SCALAR,B=Lm[s.sparse.indices.componentType],w=s.sparse.indices.byteOffset||0,R=s.sparse.values.byteOffset||0,L=new B(a[1],w,s.sparse.count*S),N=new h(a[2],R,s.sparse.count*u);l!==null&&(A=new Nn(A.array.slice(),A.itemSize,A.normalized));for(let U=0,P=L.length;U<P;U++){const O=L[U];if(A.setX(O,N[U*u]),u>=2&&A.setY(O,N[U*u+1]),u>=3&&A.setZ(O,N[U*u+2]),u>=4&&A.setW(O,N[U*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,a=t.images[r];let l=this.textureLoader;if(a.uri){const u=i.manager.getHandler(a.uri);u!==null&&(l=u)}return this.loadTextureImage(e,r,l)}loadTextureImage(e,t,i){const s=this,r=this.json,a=r.textures[e],l=r.images[t],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];const h=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=a.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const y=(r.samplers||{})[a.sampler]||{};return m.magFilter=GN[y.magFilter]||ss,m.minFilter=GN[y.minFilter]||xo,m.wrapS=VN[y.wrapS]||Pf,m.wrapT=VN[y.wrapT]||Pf,s.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=h,h}loadImageSource(e,t){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=s.images[e],l=self.URL||self.webkitURL;let u=a.uri||"",h=!1;if(a.bufferView!==void 0)u=i.getDependency("bufferView",a.bufferView).then(function(g){h=!0;const y=new Blob([g],{type:a.mimeType});return u=l.createObjectURL(y),u});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(y,b){let x=y;t.isImageBitmapLoader===!0&&(x=function(T){const A=new Mi(T);A.needsUpdate=!0,y(A)}),t.load(Cf.resolveURL(g,r.path),x,void 0,b)})}).then(function(g){return h===!0&&l.revokeObjectURL(u),qc(g,a),g.userData.mimeType=a.mimeType||Oie(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[e]=m,m}assignTexture(e,t,i,s){const r=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),r.extensions[vn.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[vn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=r.associations.get(a);a=r.extensions[vn.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),r.associations.set(a,u)}}return s!==void 0&&(typeof s=="number"&&(s=s===HN?_d:su),"colorSpace"in a?a.colorSpace=s:a.encoding=s===_d?HN:iie),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new oE,Rs.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(l,u)),i=u}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new Cr,Rs.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(l,u)),i=u}if(s||r||a){let l="ClonedMaterial:"+i.uuid+":";s&&(l+="derivative-tangents:"),r&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=i.clone(),r&&(u.vertexColors=!0),a&&(u.flatShading=!0),s&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(i))),i=u}e.material=i}getMaterialType(){return qv}loadMaterial(e){const t=this,i=this.json,s=this.extensions,r=i.materials[e];let a;const l={},u=r.extensions||{},h=[];if(u[vn.KHR_MATERIALS_UNLIT]){const g=s[vn.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),h.push(g.extendParams(l,r,t))}else{const g=r.pbrMetallicRoughness||{};if(l.color=new yt(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const y=g.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],su),l.opacity=y[3]}g.baseColorTexture!==void 0&&h.push(t.assignTexture(l,"map",g.baseColorTexture,_d)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),h.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}r.doubleSided===!0&&(l.side=rl);const m=r.alphaMode||iT.OPAQUE;if(m===iT.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===iT.MASK&&(l.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==Ga&&(h.push(t.assignTexture(l,"normalMap",r.normalTexture)),l.normalScale=new Qe(1,1),r.normalTexture.scale!==void 0)){const g=r.normalTexture.scale;l.normalScale.set(g,g)}if(r.occlusionTexture!==void 0&&a!==Ga&&(h.push(t.assignTexture(l,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==Ga){const g=r.emissiveFactor;l.emissive=new yt().setRGB(g[0],g[1],g[2],su)}return r.emissiveTexture!==void 0&&a!==Ga&&h.push(t.assignTexture(l,"emissiveMap",r.emissiveTexture,_d)),Promise.all(h).then(function(){const g=new a(l);return r.name&&(g.name=r.name),qc(g,r),t.associations.set(g,{materials:e}),r.extensions&&ed(s,g,r),g})}createUniqueName(e){const t=Dn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function r(l){return i[vn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(u){return kN(u,l,t)})}const a=[];for(let l=0,u=e.length;l<u;l++){const h=e[l],m=Nie(h),g=s[m];if(g)a.push(g.promise);else{let y;h.extensions&&h.extensions[vn.KHR_DRACO_MESH_COMPRESSION]?y=r(h):y=kN(new Zt,h,t),s[m]={primitive:h,promise:y},a.push(y)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,s=this.extensions,r=i.meshes[e],a=r.primitives,l=[];for(let u=0,h=a.length;u<h;u++){const m=a[u].material===void 0?Bie(this.cache):this.getDependency("material",a[u].material);l.push(m)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(u){const h=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let b=0,x=m.length;b<x;b++){const T=m[b],A=a[b];let S;const B=h[b];if(A.mode===vo.TRIANGLES||A.mode===vo.TRIANGLE_STRIP||A.mode===vo.TRIANGLE_FAN||A.mode===void 0)S=r.isSkinnedMesh===!0?new pR(T,B):new rs(T,B),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),A.mode===vo.TRIANGLE_STRIP?S.geometry=PN(S.geometry,oR):A.mode===vo.TRIANGLE_FAN&&(S.geometry=PN(S.geometry,JS));else if(A.mode===vo.LINES)S=new ml(T,B);else if(A.mode===vo.LINE_STRIP)S=new du(T,B);else if(A.mode===vo.LINE_LOOP)S=new gR(T,B);else if(A.mode===vo.POINTS)S=new yR(T,B);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(S.geometry.morphAttributes).length>0&&Iie(S,r),S.name=t.createUniqueName(r.name||"mesh_"+e),qc(S,r),A.extensions&&ed(s,S,A),t.assignFinalMaterial(S),g.push(S)}for(let b=0,x=g.length;b<x;b++)t.associations.set(g[b],{meshes:e,primitives:b});if(g.length===1)return r.extensions&&ed(s,g[0],r),g[0];const y=new Zc;r.extensions&&ed(s,y,r),t.associations.set(y,{meshes:e});for(let b=0,x=g.length;b<x;b++)y.add(g[b]);return y})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new qi(nF.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(t=new iu(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),qc(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,r=t.joints.length;s<r;s++)i.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),a=s,l=[],u=[];for(let h=0,m=a.length;h<m;h++){const g=a[h];if(g){l.push(g);const y=new Lt;r!==null&&y.fromArray(r.array,h*16),u.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new kv(l,u)})}loadAnimation(e){const t=this.json,i=this,s=t.animations[e],r=s.name?s.name:"animation_"+e,a=[],l=[],u=[],h=[],m=[];for(let g=0,y=s.channels.length;g<y;g++){const b=s.channels[g],x=s.samplers[b.sampler],T=b.target,A=T.node,S=s.parameters!==void 0?s.parameters[x.input]:x.input,B=s.parameters!==void 0?s.parameters[x.output]:x.output;T.node!==void 0&&(a.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",B)),h.push(x),m.push(T))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(h),Promise.all(m)]).then(function(g){const y=g[0],b=g[1],x=g[2],T=g[3],A=g[4],S=[];for(let B=0,w=y.length;B<w;B++){const R=y[B],L=b[B],N=x[B],U=T[B],P=A[B];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const O=i._createAnimationTracks(R,L,N,U,P);if(O)for(let M=0;M<O.length;M++)S.push(O[M])}return new ng(r,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let u=0,h=s.weights.length;u<h;u++)l.morphTargetInfluences[u]=s.weights[u]}),a})}loadNode(e){const t=this.json,i=this,s=t.nodes[e],r=i._loadNodeShallow(e),a=[],l=s.children||[];for(let h=0,m=l.length;h<m;h++)a.push(i.getDependency("node",l[h]));const u=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(a),u]).then(function(h){const m=h[0],g=h[1],y=h[2];y!==null&&m.traverse(function(b){b.isSkinnedMesh&&b.bind(y,Lie)});for(let b=0,x=g.length;b<x;b++)m.add(g[b]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],a=r.name?s.createUniqueName(r.name):"",l=[],u=s._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return u&&l.push(u),r.camera!==void 0&&l.push(s.getDependency("camera",r.camera).then(function(h){return s._getNodeRef(s.cameraCache,r.camera,h)})),s._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){l.push(h)}),this.nodeCache[e]=Promise.all(l).then(function(h){let m;if(r.isBone===!0?m=new rE:h.length>1?m=new Zc:h.length===1?m=h[0]:m=new wn,m!==h[0])for(let g=0,y=h.length;g<y;g++)m.add(h[g]);if(r.name&&(m.userData.name=r.name,m.name=a),qc(m,r),r.extensions&&ed(i,m,r),r.matrix!==void 0){const g=new Lt;g.fromArray(r.matrix),m.applyMatrix4(g)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,r=new Zc;i.name&&(r.name=s.createUniqueName(i.name)),qc(r,i),i.extensions&&ed(t,r,i);const a=i.nodes||[],l=[];for(let u=0,h=a.length;u<h;u++)l.push(s.getDependency("node",a[u]));return Promise.all(l).then(function(u){for(let m=0,g=u.length;m<g;m++)r.add(u[m]);const h=m=>{const g=new Map;for(const[y,b]of s.associations)(y instanceof Rs||y instanceof Mi)&&g.set(y,b);return m.traverse(y=>{const b=s.associations.get(y);b!=null&&g.set(y,b)}),g};return s.associations=h(r),r})}_createAnimationTracks(e,t,i,s,r){const a=[],l=e.name?e.name:e.uuid,u=[];xf[r.path]===xf.weights?e.traverse(function(y){y.morphTargetInfluences&&u.push(y.name?y.name:y.uuid)}):u.push(l);let h;switch(xf[r.path]){case xf.weights:h=Nd;break;case xf.rotation:h=Od;break;case xf.position:case xf.scale:h=Ld;break;default:switch(i.itemSize){case 1:h=Nd;break;case 2:case 3:default:h=Ld;break}break}const m=s.interpolation!==void 0?Rie[s.interpolation]:Qm,g=this._getArrayFromAccessor(i);for(let y=0,b=u.length;y<b;y++){const x=new h(u[y]+"."+xf[r.path],t.array,g,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),a.push(x)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=MC(t.constructor),s=new Float32Array(t.length);for(let r=0,a=t.length;r<a;r++)s[r]=t[r]*i;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof Od?wie:I4;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Uie(n,e,t){const i=e.attributes,s=new rr;if(i.POSITION!==void 0){const l=t.json.accessors[i.POSITION],u=l.min,h=l.max;if(u!==void 0&&h!==void 0){if(s.set(new ie(u[0],u[1],u[2]),new ie(h[0],h[1],h[2])),l.normalized){const m=MC(Lm[l.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const l=new ie,u=new ie;for(let h=0,m=r.length;h<m;h++){const g=r[h];if(g.POSITION!==void 0){const y=t.json.accessors[g.POSITION],b=y.min,x=y.max;if(b!==void 0&&x!==void 0){if(u.setX(Math.max(Math.abs(b[0]),Math.abs(x[0]))),u.setY(Math.max(Math.abs(b[1]),Math.abs(x[1]))),u.setZ(Math.max(Math.abs(b[2]),Math.abs(x[2]))),y.normalized){const T=MC(Lm[y.componentType]);u.multiplyScalar(T)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(l)}n.boundingBox=s;const a=new js;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=a}function kN(n,e,t){const i=e.attributes,s=[];function r(a,l){return t.getDependency("accessor",a).then(function(u){n.setAttribute(l,u)})}for(const a in i){const l=EC[a]||a.toLowerCase();l in n.attributes||s.push(r(i[a],l))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(l){n.setIndex(l)});s.push(a)}return qc(n,e),Uie(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?Die(n,e.targets,t):n})}const rT=new WeakMap;class Fie extends wr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const r=new Wa(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const h=t.attributeTypes[u];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=h.name)}const i=JSON.stringify(t);if(rT.has(e)){const u=rT.get(e);if(u.key===i)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(r,a).then(u=>(s=u,new Promise((h,m)=>{s._callbacks[r]={resolve:h,reject:m},s.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return l.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),rT.set(e,{key:i,promise:l}),l}_createGeometry(e){const t=new Zt;e.index&&t.setIndex(new Nn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,a=s.array,l=s.itemSize;t.setAttribute(r,new Nn(a,l))}return t}_loadLibrary(e,t){const i=new Wa(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=Hie.toString(),a=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const a=r.data;switch(a.type){case"decode":s._callbacks[a.id].resolve(a);break;case"error":s._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Hie(){let n,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":n=l.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(n)});break;case"decode":const u=l.buffer,h=l.taskConfig;e.then(m=>{const g=m.draco,y=new g.Decoder,b=new g.DecoderBuffer;b.Init(new Int8Array(u),u.byteLength);try{const x=t(g,y,b,h),T=x.attributes.map(A=>A.array.buffer);x.index&&T.push(x.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:x},T)}catch(x){console.error(x),self.postMessage({type:"error",id:l.id,error:x.message})}finally{g.destroy(b),g.destroy(y)}});break}};function t(a,l,u,h){const m=h.attributeIDs,g=h.attributeTypes;let y,b;const x=l.GetEncodedGeometryType(u);if(x===a.TRIANGULAR_MESH)y=new a.Mesh,b=l.DecodeBufferToMesh(u,y);else if(x===a.POINT_CLOUD)y=new a.PointCloud,b=l.DecodeBufferToPointCloud(u,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const T={index:null,attributes:[]};for(const A in m){const S=self[g[A]];let B,w;if(h.useUniqueIDs)w=m[A],B=l.GetAttributeByUniqueId(y,w);else{if(w=l.GetAttributeId(y,a[m[A]]),w===-1)continue;B=l.GetAttribute(y,w)}T.attributes.push(s(a,l,y,A,S,B))}return x===a.TRIANGULAR_MESH&&(T.index=i(a,l,y)),a.destroy(y),T}function i(a,l,u){const m=u.num_faces()*3,g=m*4,y=a._malloc(g);l.GetTrianglesUInt32Array(u,g,y);const b=new Uint32Array(a.HEAPF32.buffer,y,m).slice();return a._free(y),{array:b,itemSize:1}}function s(a,l,u,h,m,g){const y=g.num_components(),x=u.num_points()*y,T=x*m.BYTES_PER_ELEMENT,A=r(a,m),S=a._malloc(T);l.GetAttributeDataArrayForAllPoints(u,g,A,T,S);const B=new m(a.HEAPF32.buffer,S,x).slice();return a._free(S),{name:h,array:B,itemSize:y}}function r(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let Ux;const aT=()=>{if(Ux)return Ux;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let r;const a=WebAssembly.instantiate(l(s),{}).then(g=>{r=g.instance,r.exports.__wasm_call_ctors()});function l(g){const y=new Uint8Array(g.length);for(let x=0;x<g.length;++x){const T=g.charCodeAt(x);y[x]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let b=0;for(let x=0;x<g.length;++x)y[b++]=y[x]<60?i[y[x]]:(y[x]-60)*64+y[++x];return y.buffer.slice(0,b)}function u(g,y,b,x,T,A){const S=r.exports.sbrk,B=b+3&-4,w=S(B*x),R=S(T.length),L=new Uint8Array(r.exports.memory.buffer);L.set(T,R);const N=g(w,b,x,R,T.length);if(N===0&&A&&A(w,B,x),y.set(L.subarray(w,w+b*x)),S(w-S(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ux={ready:a,supported:!0,decodeVertexBuffer(g,y,b,x,T){u(r.exports.meshopt_decodeVertexBuffer,g,y,b,x,r.exports[h[T]])},decodeIndexBuffer(g,y,b,x){u(r.exports.meshopt_decodeIndexBuffer,g,y,b,x)},decodeIndexSequence(g,y,b,x){u(r.exports.meshopt_decodeIndexSequence,g,y,b,x)},decodeGltfBuffer(g,y,b,x,T,A){u(r.exports[m[T]],g,y,b,x,r.exports[h[A]])}},Ux};let Fx=null,N4="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function O4(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Fx||(Fx=new Fie),Fx.setDecoderPath(typeof n=="string"?n:N4),i.setDRACOLoader(Fx)),e&&i.setMeshoptDecoder(typeof aT=="function"?aT():aT)}}const TE=(n,e,t,i)=>Jv(XR,n,O4(e,t,i));TE.preload=(n,e,t,i)=>Jv.preload(XR,n,O4(e,t,i));TE.clear=n=>Jv.clear(XR,n);TE.setDecoderPath=n=>{N4=n};const zie=te.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:s=!0,keyEvents:r=!1,onChange:a,onStart:l,onEnd:u,...h},m)=>{const g=bf(N=>N.invalidate),y=bf(N=>N.camera),b=bf(N=>N.gl),x=bf(N=>N.events),T=bf(N=>N.setEvents),A=bf(N=>N.set),S=bf(N=>N.get),B=bf(N=>N.performance),w=e||y,R=i||x.connected||b.domElement,L=te.useMemo(()=>new nie(w),[w]);return S4(()=>{L.enabled&&L.update()},-1),te.useEffect(()=>(r&&L.connect(r===!0?R:r),L.connect(R),()=>void L.dispose()),[r,R,t,L,g]),te.useEffect(()=>{const N=O=>{g(),t&&B.regress(),a&&a(O)},U=O=>{l&&l(O)},P=O=>{u&&u(O)};return L.addEventListener("change",N),L.addEventListener("start",U),L.addEventListener("end",P),()=>{L.removeEventListener("start",U),L.removeEventListener("end",P),L.removeEventListener("change",N)}},[a,l,u,L,g,T]),te.useEffect(()=>{if(n){const N=S().controls;return A({controls:L}),()=>A({controls:N})}},[n,L]),te.createElement("primitive",Hm({ref:m,object:L,enableDamping:s},h))});function Gie(){const{scene:n}=TE(Y0()+"/models/ti-trophy.glb"),e=te.useRef(null),t=te.useRef(!1);return te.useEffect(()=>{e.current&&(e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10)},[]),S4(()=>{e.current&&(t.current||(e.current.rotation.x=.5,t.current=!0),e.current.rotation.y+=.005)}),_e.jsx("primitive",{ref:e,object:n,scale:1})}const Vie=()=>_e.jsxs(Yne,{style:{height:500,top:120},children:[_e.jsx("ambientLight",{intensity:.5}),_e.jsx("directionalLight",{position:[1,1,1],intensity:10}),_e.jsx("directionalLight",{position:[1,0,0],intensity:10}),_e.jsx("directionalLight",{position:[0,0,1],intensity:10}),_e.jsx("directionalLight",{position:[1,0,0],intensity:10}),_e.jsx(te.Suspense,{fallback:null,children:_e.jsx(Gie,{})}),_e.jsx(zie,{enableZoom:!1,enableRotate:!1,enablePan:!1})]}),kie=({trophyHolderName:n})=>_e.jsxs(Vs,{textAlign:"center",sx:{backgroundImage:`url("${Y0()}/images/tihexes.jpg")`,backgroundPosition:"center",borderRadius:5,width:"300px",marginLeft:10,"@media (max-width:800px)":{marginLeft:0}},children:[_e.jsx(Vs,{sx:{borderRadius:"5px",backgroundImage:"linear-gradient(to bottom right, rgb(241,87,38) ,rgb(245,189,26) )",width:"100px",height:"150px",padding:"4px",marginLeft:"100px",marginTop:"50px",marginBottom:"-200px"},children:_e.jsx(Vs,{sx:{borderRadius:"5px",width:"100px",height:"150px",backgroundImage:`url("${Y0()}/images/fractions/titans.png")`,backgroundSize:"cover"}})}),_e.jsx(te.Suspense,{fallback:_e.jsx("div",{children:"Loading Trophy..."}),children:_e.jsx(Vie,{})}),_e.jsxs(Vs,{textAlign:"center",mb:8,children:[_e.jsx(ka,{variant:"h6",sx:{color:"#C5CAE9"},children:"Current trophy holder:"}),_e.jsx(fU.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},children:_e.jsx(Vs,{children:_e.jsx(ka,{variant:"h2",component:"h1",gutterBottom:!0,sx:{color:"#FFEB3B",fontWeight:700},children:n})})})]})]}),Xie=()=>{};var XN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=function(n,e){if(!n)throw Sg(e)},Sg=function(n){return new Error("Firebase Database ("+L4.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jie=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],a=n[t++],l=n[t++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=n[t++],a=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},jR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],a=s+1<n.length,l=a?n[s+1]:0,u=s+2<n.length,h=u?n[s+2]:0,m=r>>2,g=(r&3)<<4|l>>4;let y=(l&15)<<2|h>>6,b=h&63;u||(b=64,a||(y=64)),i.push(t[m],t[g],t[y],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(P4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jie(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||l==null||h==null||g==null)throw new Wie;const y=r<<2|l>>4;if(i.push(y),h!==64){const b=l<<4&240|h>>2;if(i.push(b),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Wie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(n){const e=P4(n);return jR.encodeByteArray(e,!0)},aA=function(n){return U4(n).replace(/\./g,"")},TC=function(n){try{return jR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(n){return F4(void 0,n)}function F4(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qie(t)||(n[t]=F4(n[t],e[t]));return n}function qie(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=()=>Kie().__FIREBASE_DEFAULTS__,Qie=()=>{if(typeof process>"u"||typeof XN>"u")return;const n=XN.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Zie=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&TC(n[1]);return e&&JSON.parse(e)},H4=()=>{try{return Xie()||Jie()||Qie()||Zie()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$ie=n=>{var e,t;return(t=(e=H4())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ese=n=>{const e=$ie(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},z4=()=>{var n;return(n=H4())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return n.endsWith(".cloudworkstations.dev")}async function tse(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[aA(JSON.stringify(t)),aA(JSON.stringify(a)),""].join(".")}const P0={};function ise(){const n={prod:[],emulator:[]};for(const e of Object.keys(P0))P0[e]?n.emulator.push(e):n.prod.push(e);return n}function sse(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jN=!1;function rse(n,e){if(typeof window>"u"||typeof document>"u"||!WR(window.location.host)||P0[n]===e||P0[n]||jN)return;P0[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",r=ise().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{jN=!0,a()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=sse(i),b=t("text"),x=document.getElementById(b)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),S=t("preprendIcon"),B=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const w=y.element;l(w),m(A,T);const R=h();u(B,S),w.append(B,x,A,R),document.body.appendChild(w)}r?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ase())}function ose(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lse(){return L4.NODE_ADMIN===!0}function cse(){try{return typeof indexedDB=="object"}catch{return!1}}function use(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse="FirebaseError";class Qv extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fse,Object.setPrototypeOf(this,Qv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V4.prototype.create)}}class V4{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?hse(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Qv(s,l,i)}}function hse(n,e){return n.replace(dse,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const dse=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n){return JSON.parse(n)}function Cs(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=function(n){let e={},t={},i={},s="";try{const r=n.split(".");e=dv(TC(r[0])||""),t=dv(TC(r[1])||""),s=r[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},pse=function(n){const e=k4(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},mse=function(n){const e=k4(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function sg(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function WN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oA(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function lA(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],a=e[s];if(YN(r)&&YN(a)){if(!lA(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function YN(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gse(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)i[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)i[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const y=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(y<<1|y>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],h,m;for(let g=0;g<80;g++){g<40?g<20?(h=l^r&(a^l),m=1518500249):(h=r^a^l,m=1859775393):g<60?(h=r&a|l&(r|a),m=2400959708):(h=r^a^l,m=3395469782);const y=(s<<5|s>>>27)+h+u+m+i[g]&4294967295;u=l,l=a,a=(r<<30|r>>>2)&4294967295,r=s,s=y}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<t;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<t;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function YR(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,ut(i<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wE=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return n&&n._delegate?n._delegate:n}class pv{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new CE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xse(e))try{this.getOrInitializeService({instanceIdentifier:ld})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=ld){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ld){return this.instances.has(e)}getOptions(e=ld){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bse(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ld){return this.component?this.component.multipleInstances?e:ld:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bse(n){return n===ld?void 0:n}function xse(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _se(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(di||(di={}));const Ase={debug:di.DEBUG,verbose:di.VERBOSE,info:di.INFO,warn:di.WARN,error:di.ERROR,silent:di.SILENT},Ese=di.INFO,Mse={[di.DEBUG]:"log",[di.VERBOSE]:"log",[di.INFO]:"info",[di.WARN]:"warn",[di.ERROR]:"error"},Tse=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Mse[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X4{constructor(e){this.name=e,this._logLevel=Ese,this._logHandler=Tse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in di))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ase[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,di.DEBUG,...e),this._logHandler(this,di.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,di.VERBOSE,...e),this._logHandler(this,di.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,di.INFO,...e),this._logHandler(this,di.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,di.WARN,...e),this._logHandler(this,di.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,di.ERROR,...e),this._logHandler(this,di.ERROR,...e)}}const Cse=(n,e)=>e.some(t=>n instanceof t);let qN,KN;function wse(){return qN||(qN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rse(){return KN||(KN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j4=new WeakMap,CC=new WeakMap,W4=new WeakMap,oT=new WeakMap,qR=new WeakMap;function Bse(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{t(wf(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&j4.set(t,n)}).catch(()=>{}),qR.set(e,n),e}function Dse(n){if(CC.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});CC.set(n,e)}let wC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return CC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||W4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ise(n){wC=n(wC)}function Nse(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lT(this),e,...t);return W4.set(i,e.sort?e.sort():[e]),wf(i)}:Rse().includes(n)?function(...e){return n.apply(lT(this),e),wf(j4.get(this))}:function(...e){return wf(n.apply(lT(this),e))}}function Ose(n){return typeof n=="function"?Nse(n):(n instanceof IDBTransaction&&Dse(n),Cse(n,wse())?new Proxy(n,wC):n)}function wf(n){if(n instanceof IDBRequest)return Bse(n);if(oT.has(n))return oT.get(n);const e=Ose(n);return e!==n&&(oT.set(n,e),qR.set(e,n)),e}const lT=n=>qR.get(n);function Lse(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(n,e),l=wf(a);return i&&a.addEventListener("upgradeneeded",u=>{i(wf(a.result),u.oldVersion,u.newVersion,wf(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Pse=["get","getKey","getAll","getAllKeys","count"],Use=["put","add","delete","clear"],cT=new Map;function JN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cT.get(e))return cT.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Use.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Pse.includes(t)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),s&&u.done]))[0]};return cT.set(e,r),r}Ise(n=>({...n,get:(e,t,i)=>JN(e,t)||n.get(e,t,i),has:(e,t)=>!!JN(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hse(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Hse(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const RC="@firebase/app",QN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new X4("@firebase/app"),zse="@firebase/app-compat",Gse="@firebase/analytics-compat",Vse="@firebase/analytics",kse="@firebase/app-check-compat",Xse="@firebase/app-check",jse="@firebase/auth",Wse="@firebase/auth-compat",Yse="@firebase/database",qse="@firebase/data-connect",Kse="@firebase/database-compat",Jse="@firebase/functions",Qse="@firebase/functions-compat",Zse="@firebase/installations",$se="@firebase/installations-compat",ere="@firebase/messaging",tre="@firebase/messaging-compat",nre="@firebase/performance",ire="@firebase/performance-compat",sre="@firebase/remote-config",rre="@firebase/remote-config-compat",are="@firebase/storage",ore="@firebase/storage-compat",lre="@firebase/firestore",cre="@firebase/ai",ure="@firebase/firestore-compat",fre="firebase",hre="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="[DEFAULT]",dre={[RC]:"fire-core",[zse]:"fire-core-compat",[Vse]:"fire-analytics",[Gse]:"fire-analytics-compat",[Xse]:"fire-app-check",[kse]:"fire-app-check-compat",[jse]:"fire-auth",[Wse]:"fire-auth-compat",[Yse]:"fire-rtdb",[qse]:"fire-data-connect",[Kse]:"fire-rtdb-compat",[Jse]:"fire-fn",[Qse]:"fire-fn-compat",[Zse]:"fire-iid",[$se]:"fire-iid-compat",[ere]:"fire-fcm",[tre]:"fire-fcm-compat",[nre]:"fire-perf",[ire]:"fire-perf-compat",[sre]:"fire-rc",[rre]:"fire-rc-compat",[are]:"fire-gcs",[ore]:"fire-gcs-compat",[lre]:"fire-fst",[ure]:"fire-fst-compat",[cre]:"fire-vertex","fire-js":"fire-js",[fre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Map,pre=new Map,DC=new Map;function ZN(n,e){try{n.container.addComponent(e)}catch(t){pu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uA(n){const e=n.name;if(DC.has(e))return pu.debug(`There were multiple attempts to register component ${e}.`),!1;DC.set(e,n);for(const t of cA.values())ZN(t,n);for(const t of pre.values())ZN(t,n);return!0}function mre(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gre(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rf=new V4("app","Firebase",yre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=hre;function Y4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:BC,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Rf.create("bad-app-name",{appName:String(s)});if(t||(t=z4()),!t)throw Rf.create("no-options");const r=cA.get(s);if(r){if(lA(t,r.options)&&lA(i,r.config))return r;throw Rf.create("duplicate-app",{appName:s})}const a=new Sse(s);for(const u of DC.values())a.addComponent(u);const l=new vre(t,i,a);return cA.set(s,l),l}function bre(n=BC){const e=cA.get(n);if(!e&&n===BC&&z4())return Y4();if(!e)throw Rf.create("no-app",{appName:n});return e}function Pm(n,e,t){var i;let s=(i=dre[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pu.warn(l.join(" "));return}uA(new pv(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre="firebase-heartbeat-database",Sre=1,mv="firebase-heartbeat-store";let uT=null;function q4(){return uT||(uT=Lse(xre,Sre,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mv)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rf.create("idb-open",{originalErrorMessage:n.message})})),uT}async function Are(n){try{const t=(await q4()).transaction(mv),i=await t.objectStore(mv).get(K4(n));return await t.done,i}catch(e){if(e instanceof Qv)pu.warn(e.message);else{const t=Rf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pu.warn(t.message)}}}async function $N(n,e){try{const i=(await q4()).transaction(mv,"readwrite");await i.objectStore(mv).put(e,K4(n)),await i.done}catch(t){if(t instanceof Qv)pu.warn(t.message);else{const i=Rf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pu.warn(i.message)}}}function K4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere=1024,Mre=30;class Tre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wre(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Mre){const a=Rre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pu.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eO(),{heartbeatsToSend:i,unsentEntries:s}=Cre(this._heartbeatsCache.heartbeats),r=aA(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return pu.warn(t),""}}}function eO(){return new Date().toISOString().substring(0,10)}function Cre(n,e=Ere){const t=[];let i=n.slice();for(const s of n){const r=t.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),tO(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),tO(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cse()?use().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Are(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $N(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $N(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tO(n){return aA(JSON.stringify({version:2,heartbeats:n})).length}function Rre(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(n){uA(new pv("platform-logger",e=>new Fse(e),"PRIVATE")),uA(new pv("heartbeat",e=>new Tre(e),"PRIVATE")),Pm(RC,QN,n),Pm(RC,QN,"esm2017"),Pm("fire-js","")}Bre("");var Dre="firebase",Ire="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pm(Dre,Ire,"app");var nO={};const iO="@firebase/database",sO="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J4="";function Nre(n){J4=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Cs(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:dv(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return gu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ore(e)}}catch{}return new Lre},bd=Q4("localStorage"),Pre=Q4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new X4("@firebase/database"),Ure=function(){let n=1;return function(){return n++}}(),Z4=function(n){const e=vse(n),t=new yse;t.update(e);const i=t.digest();return jR.encodeByteArray(i)},Zv=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zv.apply(null,i):typeof i=="object"?e+=Cs(i):e+=i,e+=" "}return e};let U0=null,rO=!0;const Fre=function(n,e){ut(!0,"Can't turn on custom loggers persistently."),Um.logLevel=di.VERBOSE,U0=Um.log.bind(Um)},Ar=function(...n){if(rO===!0&&(rO=!1,U0===null&&Pre.get("logging_enabled")===!0&&Fre()),U0){const e=Zv.apply(null,n);U0(e)}},$v=function(n){return function(...e){Ar(n,...e)}},IC=function(...n){const e="FIREBASE INTERNAL ERROR: "+Zv(...n);Um.error(e)},mu=function(...n){const e=`FIREBASE FATAL ERROR: ${Zv(...n)}`;throw Um.error(e),new Error(e)},ga=function(...n){const e="FIREBASE WARNING: "+Zv(...n);Um.warn(e)},Hre=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ga("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$4=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zre=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},rg="[MIN_NAME]",Ud="[MAX_NAME]",Ag=function(n,e){if(n===e)return 0;if(n===rg||e===Ud)return-1;if(e===rg||n===Ud)return 1;{const t=aO(n),i=aO(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Gre=function(n,e){return n===e?0:n<e?-1:1},o0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Cs(e))},KR=function(n){if(typeof n!="object"||n===null)return Cs(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Cs(e[i]),t+=":",t+=KR(n[e[i]]);return t+="}",t},eH=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function _a(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const tH=function(n){ut(!$4(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,a,l,u;n===0?(r=0,a=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=l+i,a=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(r=0,a=Math.round(n/Math.pow(2,1-i-t))));const h=[];for(u=t;u;u-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)h.push(r%2?1:0),r=Math.floor(r/2);h.push(s?1:0),h.reverse();const m=h.join("");let g="";for(u=0;u<64;u+=8){let y=parseInt(m.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},Vre=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kre=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Xre(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const jre=new RegExp("^-?(0*)\\d{1,10}$"),Wre=-2147483648,Yre=2147483647,aO=function(n){if(jre.test(n)){const e=Number(n);if(e>=Wre&&e<=Yre)return e}return null},Eg=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ga("Exception was thrown by user callback.",t),e},Math.floor(0))}},qre=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},F0=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,gre(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ga(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ar("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ga(e)}}class tS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="5",nH="v",iH="s",sH="r",rH="f",aH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oH="ls",lH="p",NC="ac",cH="websocket",uH="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,t,i,s,r=!1,a="",l=!1,u=!1,h=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Qre(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function hH(n,e,t){ut(typeof e=="string","typeof type must == string"),ut(typeof t=="object","typeof params must == object");let i;if(e===cH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===uH)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Qre(n)&&(t.ns=n.namespace);const s=[];return _a(t,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(){this.counters_={}}incrementCounter(e,t=1){gu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Yie(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={},hT={};function QR(n){const e=n.toString();return fT[e]||(fT[e]=new Zre),fT[e]}function $re(n,e){const t=n.toString();return hT[t]||(hT[t]=e()),hT[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Eg(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="start",tae="close",nae="pLPCommand",iae="pRTLPCB",dH="id",pH="pw",mH="ser",sae="cb",rae="seg",aae="ts",oae="d",lae="dframe",gH=1870,yH=30,cae=gH-yH,uae=25e3,fae=3e4;class Bm{constructor(e,t,i,s,r,a,l){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$v(e),this.stats_=QR(t),this.urlFn=u=>(this.appCheckToken&&(u[NC]=this.appCheckToken),hH(t,uH,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new eae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fae)),zre(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ZR((...r)=>{const[a,l,u,h,m]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===oO)this.id=l,this.password=u;else if(a===tae)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[oO]="t",i[mH]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[sae]=this.scriptTagHolder.uniqueCallbackIdentifier),i[nH]=JR,this.transportSessionId&&(i[iH]=this.transportSessionId),this.lastSessionId&&(i[oH]=this.lastSessionId),this.applicationId&&(i[lH]=this.applicationId),this.appCheckToken&&(i[NC]=this.appCheckToken),typeof location<"u"&&location.hostname&&aH.test(location.hostname)&&(i[sH]=rH);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bm.forceAllow_=!0}static forceDisallow(){Bm.forceDisallow_=!0}static isAvailable(){return Bm.forceAllow_?!0:!Bm.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Vre()&&!kre()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Cs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=U4(t),s=eH(i,cae);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[lae]="t",i[dH]=e,i[pH]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Cs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ZR{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ure(),window[nae+this.uniqueCallbackIdentifier]=e,window[iae+this.uniqueCallbackIdentifier]=t,this.myIFrame=ZR.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Ar("frame writing exception"),l.stack&&Ar(l.stack),Ar(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ar("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dH]=this.myID,e[pH]=this.myPW,e[mH]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yH+i.length<=gH;){const a=this.pendingSegs.shift();i=i+"&"+rae+s+"="+a.seg+"&"+aae+s+"="+a.ts+"&"+oae+s+"="+a.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(uae)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ar("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae=16384,dae=45e3;let fA=null;typeof MozWebSocket<"u"?fA=MozWebSocket:typeof WebSocket<"u"&&(fA=WebSocket);class al{constructor(e,t,i,s,r,a,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$v(this.connId),this.stats_=QR(t),this.connURL=al.connectionURL_(t,a,l,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,r){const a={};return a[nH]=JR,typeof location<"u"&&location.hostname&&aH.test(location.hostname)&&(a[sH]=rH),t&&(a[iH]=t),i&&(a[oH]=i),s&&(a[NC]=s),r&&(a[lH]=r),hH(e,cH,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bd.set("previous_websocket_failure",!0);try{let i;lse(),this.mySock=new fA(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&fA!==null&&!al.forceDisallow_}static previouslyFailed(){return bd.isInMemoryStorage||bd.get("previous_websocket_failure")===!0}markConnectionHealthy(){bd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=dv(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ut(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Cs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=eH(t,hae);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dae))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}al.responsesRequiredToBeHealthy=2;al.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{static get ALL_TRANSPORTS(){return[Bm,al]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=al&&al.isAvailable();let i=t&&!al.previouslyFailed();if(e.webSocketOnly&&(t||ga("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[al];else{const s=this.transports_=[];for(const r of gv.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);gv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gv.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae=6e4,mae=5e3,gae=10*1024,yae=100*1024,dT="t",lO="d",vae="s",cO="r",_ae="e",uO="o",fO="a",hO="n",dO="p",bae="h";class xae{constructor(e,t,i,s,r,a,l,u,h,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$v("c:"+this.id+":"),this.transportManager_=new gv(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=F0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yae?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gae?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dT in e){const t=e[dT];t===fO?this.upgradeIfSecondaryHealthy_():t===cO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===uO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=o0("t",e),i=o0("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dO,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=o0("t",e),i=o0("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=o0(dT,e);if(lO in e){const i=e[lO];if(t===bae){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===hO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===vae?this.onConnectionShutdown_(i):t===cO?this.onReset_(i):t===_ae?IC("Server Error: "+i):t===uO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IC("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),JR!==i&&ga("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),F0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pae))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mae))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dO,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.allowedEvents_=e,this.listeners_={},ut(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){ut(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends _H{static getInstance(){return new hA}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G4()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ut(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=32,mO=768;class ci{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Hn(){return new ci("")}function An(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hf(n){return n.pieces_.length-n.pieceNum_}function pi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ci(n.pieces_,e)}function bH(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Sae(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function xH(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function SH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ci(e,0)}function ws(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ci)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new ci(t,0)}function _n(n){return n.pieceNum_>=n.pieces_.length}function Kr(n,e){const t=An(n),i=An(e);if(t===null)return e;if(t===i)return Kr(pi(n),pi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function AH(n,e){if(Hf(n)!==Hf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function cl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Hf(n)>Hf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Aae{constructor(e,t){this.errorPrefix_=t,this.parts_=xH(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=wE(this.parts_[i]);EH(this)}}function Eae(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=wE(e),EH(n)}function Mae(n){const e=n.parts_.pop();n.byteLength_-=wE(e),n.parts_.length>0&&(n.byteLength_-=1)}function EH(n){if(n.byteLength_>mO)throw new Error(n.errorPrefix_+"has a key path longer than "+mO+" bytes ("+n.byteLength_+").");if(n.parts_.length>pO)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pO+") or object contains a cycle "+cd(n))}function cd(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends _H{static getInstance(){return new $R}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ut(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=1e3,Tae=60*5*1e3,gO=30*1e3,Cae=1.3,wae=3e4,Rae="server_kill",yO=3;class ru extends vH{constructor(e,t,i,s,r,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=ru.nextPersistentConnectionId_++,this.log_=$v("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=l0,this.maxReconnectDelay_=Tae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$R.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(Cs(r)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new CE,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(a).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,l=>{const u=l.d,h=l.s;ru.warnOnListenWarnings_(u,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&gu(e,"w")){const i=sg(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();ga(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mse(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gO)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=pse(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const a={p:t,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Cs(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):IC("Unrecognized action received from server: "+Cs(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=l0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=l0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wae&&(this.reconnectDelay_=l0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ru.nextConnectionId_++,r=this.lastSessionId;let a=!1,l=null;const u=function(){l?l.close():(a=!0,i())},h=function(g){ut(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)};this.realtime_={close:u,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Ar("getToken() completed but was canceled"):(Ar("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,l=new xae(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,b=>{ga(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(Rae)},r))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&ga(g),u())}}}interrupt(e){Ar("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ar("Resuming connection for reason: "+e),delete this.interruptReasons_[e],WN(this.interruptReasons_)&&(this.reconnectDelay_=l0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>KR(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new ci(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){Ar("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yO&&(this.reconnectDelay_=gO,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ar("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+J4.replace(/\./g,"-")]=1,G4()?e["framework.cordova"]=1:ose()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hA.getInstance().currentlyOnline();return WN(this.interruptReasons_)&&e}}ru.nextPersistentConnectionId_=0;ru.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new gn(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new gn(rg,e),s=new gn(rg,t);return this.compare(i,s)!==0}minPost(){return gn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hx;class MH extends RE{static get __EMPTY_NODE(){return Hx}static set __EMPTY_NODE(e){Hx=e}compare(e,t){return Ag(e.name,t.name)}isDefinedOn(e){throw Sg("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return gn.MIN}maxPost(){return new gn(Ud,Hx)}makePost(e,t){return ut(typeof e=="string","KeyIndex indexValue must always be a string."),new gn(e,Hx)}toString(){return".key"}}const Fm=new MH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zs{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??zs.RED,this.left=s??ma.EMPTY_NODE,this.right=r??ma.EMPTY_NODE}copy(e,t,i,s,r){return new zs(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ma.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return ma.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zs.RED=!0;zs.BLACK=!1;class Bae{copy(e,t,i,s,r){return this}insert(e,t,i){return new zs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ma{constructor(e,t=ma.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ma(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,zs.BLACK,null,null))}remove(e){return new ma(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zs.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new zx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new zx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new zx(this.root_,null,this.comparator_,!0,e)}}ma.EMPTY_NODE=new Bae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dae(n,e){return Ag(n.name,e.name)}function e2(n,e){return Ag(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OC;function Iae(n){OC=n}const TH=function(n){return typeof n=="number"?"number:"+tH(n):"string:"+n},CH=function(n){if(n.isLeafNode()){const e=n.val();ut(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gu(e,".sv"),"Priority must be a string or number.")}else ut(n===OC||n.isEmpty(),"priority of unexpected type.");ut(n===OC||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vO;class Hs{static set __childrenNodeConstructor(e){vO=e}static get __childrenNodeConstructor(){return vO}constructor(e,t=Hs.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ut(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CH(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Hs(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Hs.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _n(e)?this:An(e)===".priority"?this.priorityNode_:Hs.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Hs.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=An(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ut(i!==".priority"||Hf(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Hs.__childrenNodeConstructor.EMPTY_NODE.updateChild(pi(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+TH(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=tH(this.value_):e+=this.value_,this.lazyHash_=Z4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Hs.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Hs.__childrenNodeConstructor?-1:(ut(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=Hs.VALUE_TYPE_ORDER.indexOf(t),r=Hs.VALUE_TYPE_ORDER.indexOf(i);return ut(s>=0,"Unknown leaf type: "+t),ut(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Hs.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wH,RH;function Nae(n){wH=n}function Oae(n){RH=n}class Lae extends RE{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?Ag(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return gn.MIN}maxPost(){return new gn(Ud,new Hs("[PRIORITY-POST]",RH))}makePost(e,t){const i=wH(e);return new gn(t,new Hs("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ki=new Lae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=Math.log(2);class Uae{constructor(e){const t=r=>parseInt(Math.log(r)/Pae,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dA=function(n,e,t,i){n.sort(e);const s=function(u,h){const m=h-u;let g,y;if(m===0)return null;if(m===1)return g=n[u],y=t?t(g):g,new zs(y,g.node,zs.BLACK,null,null);{const b=parseInt(m/2,10)+u,x=s(u,b),T=s(b+1,h);return g=n[b],y=t?t(g):g,new zs(y,g.node,zs.BLACK,x,T)}},r=function(u){let h=null,m=null,g=n.length;const y=function(x,T){const A=g-x,S=g;g-=x;const B=s(A+1,S),w=n[A],R=t?t(w):w;b(new zs(R,w.node,T,null,B))},b=function(x){h?(h.left=x,h=x):(m=x,h=x)};for(let x=0;x<u.count;++x){const T=u.nextBitIsOne(),A=Math.pow(2,u.count-(x+1));T?y(A,zs.BLACK):(y(A,zs.BLACK),y(A,zs.RED))}return m},a=new Uae(n.length),l=r(a);return new ma(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pT;const xm={};class eu{static get Default(){return ut(xm&&Ki,"ChildrenNode.ts has not been loaded"),pT=pT||new eu({".priority":xm},{".priority":Ki}),pT}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=sg(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ma?t:null}hasIndex(e){return gu(this.indexSet_,e.toString())}addIndex(e,t){ut(e!==Fm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(gn.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let l;s?l=dA(i,e.getCompare()):l=xm;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const m=Object.assign({},this.indexes_);return m[u]=l,new eu(m,h)}addToIndexes(e,t){const i=oA(this.indexes_,(s,r)=>{const a=sg(this.indexSet_,r);if(ut(a,"Missing index implementation for "+r),s===xm)if(a.isDefinedOn(e.node)){const l=[],u=t.getIterator(gn.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&l.push(h),h=u.getNext();return l.push(e),dA(l,a.getCompare())}else return xm;else{const l=t.get(e.name);let u=s;return l&&(u=u.remove(new gn(e.name,l))),u.insert(e,e.node)}});return new eu(i,this.indexSet_)}removeFromIndexes(e,t){const i=oA(this.indexes_,s=>{if(s===xm)return s;{const r=t.get(e.name);return r?s.remove(new gn(e.name,r)):s}});return new eu(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0;class Xt{static get EMPTY_NODE(){return c0||(c0=new Xt(new ma(e2),null,eu.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CH(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||c0}updatePriority(e){return this.children_.isEmpty()?this:new Xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?c0:t}}getChild(e){const t=An(e);return t===null?this:this.getImmediateChild(t).getChild(pi(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ut(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new gn(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?c0:this.priorityNode_;return new Xt(s,a,r)}}updateChild(e,t){const i=An(e);if(i===null)return t;{ut(An(e)!==".priority"||Hf(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(pi(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(Ki,(a,l)=>{t[a]=l.val(e),i++,r&&Xt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const l in t)a[l]=t[l];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+TH(this.getPriority().val())+":"),this.forEachChild(Ki,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":Z4(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new gn(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new gn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new gn(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,gn.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,gn.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===e_?-1:0}withIndex(e){if(e===Fm||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Fm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Ki),s=t.getIterator(Ki);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Fm?null:this.indexMap_.get(e.toString())}}Xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fae extends Xt{constructor(){super(new ma(e2),Xt.EMPTY_NODE,eu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xt.EMPTY_NODE}isEmpty(){return!1}}const e_=new Fae;Object.defineProperties(gn,{MIN:{value:new gn(rg,Xt.EMPTY_NODE)},MAX:{value:new gn(Ud,e_)}});MH.__EMPTY_NODE=Xt.EMPTY_NODE;Hs.__childrenNodeConstructor=Xt;Iae(e_);Oae(e_);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae=!0;function Gs(n,e=null){if(n===null)return Xt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ut(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Hs(t,Gs(e))}if(!(n instanceof Array)&&Hae){const t=[];let i=!1;if(_a(n,(a,l)=>{if(a.substring(0,1)!=="."){const u=Gs(l);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),t.push(new gn(a,u)))}}),t.length===0)return Xt.EMPTY_NODE;const r=dA(t,Dae,a=>a.name,e2);if(i){const a=dA(t,Ki.getCompare());return new Xt(r,Gs(e),new eu({".priority":a},{".priority":Ki}))}else return new Xt(r,Gs(e),eu.Default)}else{let t=Xt.EMPTY_NODE;return _a(n,(i,s)=>{if(gu(n,i)&&i.substring(0,1)!=="."){const r=Gs(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(Gs(e))}}Nae(Gs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae extends RE{constructor(e){super(),this.indexPath_=e,ut(!_n(e)&&An(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?Ag(e.name,t.name):r}makePost(e,t){const i=Gs(e),s=Xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new gn(t,s)}maxPost(){const e=Xt.EMPTY_NODE.updateChild(this.indexPath_,e_);return new gn(Ud,e)}toString(){return xH(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae extends RE{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Ag(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return gn.MIN}maxPost(){return gn.MAX}makePost(e,t){const i=Gs(e);return new gn(t,i)}toString(){return".value"}}const Vae=new Gae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(n){return{type:"value",snapshotNode:n}}function ag(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function yv(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function vv(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function kae(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.index_=e}updateChild(e,t,i,s,r,a){ut(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(t);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(yv(t,l)):ut(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(ag(t,i)):a.trackChildChange(vv(t,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ki,(s,r)=>{t.hasChild(s)||i.trackChildChange(yv(s,r))}),t.isLeafNode()||t.forEachChild(Ki,(s,r)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(r)||i.trackChildChange(vv(s,r,a))}else i.trackChildChange(ag(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Xt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.indexedFilter_=new t2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=_v.getStartPost_(e),this.endPost_=_v.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,r,a){return this.matches(new gn(t,i))||(i=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Xt.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Xt.EMPTY_NODE);const r=this;return t.forEachChild(Ki,(a,l)=>{r.matches(new gn(a,l))||(s=s.updateImmediateChild(a,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new _v(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,r,a){return this.rangedFilter_.matches(new gn(t,i))||(i=Xt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,a):this.fullLimitUpdateChild_(e,t,i,r,a)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Xt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Xt.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;r.hasNext()&&a<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Xt.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let a=0;for(;r.hasNext();){const l=r.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:s=s.updateImmediateChild(l.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let a;if(this.reverse_){const g=this.index_.getCompare();a=(y,b)=>g(b,y)}else a=this.index_.getCompare();const l=e;ut(l.numChildren()===this.limit_,"");const u=new gn(t,i),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),m=this.rangedFilter_.matches(u);if(l.hasChild(t)){const g=l.getImmediateChild(t);let y=s.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===t||l.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const b=y==null?1:a(y,u);if(m&&!i.isEmpty()&&b>=0)return r!=null&&r.trackChildChange(vv(t,i,g)),l.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(yv(t,g));const T=l.updateImmediateChild(t,Xt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(r!=null&&r.trackChildChange(ag(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}}else return i.isEmpty()?e:m&&a(h,u)>=0?(r!=null&&(r.trackChildChange(yv(h.name,h.node)),r.trackChildChange(ag(t,i))),l.updateImmediateChild(t,i).updateImmediateChild(h.name,Xt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ki}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rg}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ud}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ki}copy(){const e=new n2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jae(n){return n.loadsAllData()?new t2(n.getIndex()):n.hasLimit()?new Xae(n):new _v(n)}function _O(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ki?t="$priority":n.index_===Vae?t="$value":n.index_===Fm?t="$key":(ut(n.index_ instanceof zae,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Cs(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Cs(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Cs(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Cs(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Cs(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function bO(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ki&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends vH{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ut(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=$v("p:rest:"),this.listens_={}}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=pA.getListenId_(e,i),l={};this.listens_[a]=l;const u=_O(e._queryParams);this.restRequest_(r+".json",u,(h,m)=>{let g=m;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(r,g,!1,i),sg(this.listens_,a)===l){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",s(y,null)}})}unlisten(e,t){const i=pA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=_O(e._queryParams),i=e._path.toString(),s=new CE;return this.restRequest_(i+".json",t,(r,a)=>{let l=a;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gse(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=dv(l.responseText)}catch{ga("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,u)}else l.status!==401&&l.status!==404&&ga("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return{value:null,children:new Map}}function DH(n,e,t){if(_n(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=An(e);n.children.has(i)||n.children.set(i,mA());const s=n.children.get(i);e=pi(e),DH(s,e,t)}}function LC(n,e,t){n.value!==null?t(e,n.value):Yae(n,(i,s)=>{const r=new ci(e.toString()+"/"+i);LC(s,r,t)})}function Yae(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_a(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=10*1e3,Kae=30*1e3,Jae=5*60*1e3;class Qae{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qae(e);const i=xO+(Kae-xO)*Math.random();F0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;_a(e,(s,r)=>{r>0&&gu(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),F0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Jae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ul;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ul||(ul={}));function IH(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function s2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ul.ACK_USER_WRITE,this.source=IH()}operationForChild(e){if(_n(this.path)){if(this.affectedTree.value!=null)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ci(e));return new gA(Hn(),t,this.revert)}}else return ut(An(this.path)===e,"operationForChild called for unrelated child."),new gA(pi(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.source=e,this.path=t,this.type=ul.LISTEN_COMPLETE}operationForChild(e){return _n(this.path)?new bv(this.source,Hn()):new bv(this.source,pi(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ul.OVERWRITE}operationForChild(e){return _n(this.path)?new Fd(this.source,Hn(),this.snap.getImmediateChild(e)):new Fd(this.source,pi(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ul.MERGE}operationForChild(e){if(_n(this.path)){const t=this.children.subtree(new ci(e));return t.isEmpty()?null:t.value?new Fd(this.source,Hn(),t.value):new xv(this.source,Hn(),t)}else return ut(An(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xv(this.source,pi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_n(e))return this.isFullyInitialized()&&!this.filtered_;const t=An(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $ae(n,e,t,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(kae(a.childName,a.snapshotNode))}),u0(n,s,"child_removed",e,i,t),u0(n,s,"child_added",e,i,t),u0(n,s,"child_moved",r,i,t),u0(n,s,"child_changed",e,i,t),u0(n,s,"value",e,i,t),s}function u0(n,e,t,i,s,r){const a=i.filter(l=>l.type===t);a.sort((l,u)=>toe(n,l,u)),a.forEach(l=>{const u=eoe(n,l,r);s.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(u,n.query_))})})}function eoe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function toe(n,e,t){if(e.childName==null||t.childName==null)throw Sg("Should only compare child_ events.");const i=new gn(e.childName,e.snapshotNode),s=new gn(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,e){return{eventCache:n,serverCache:e}}function H0(n,e,t,i){return BE(new zf(e,t,i),n.serverCache)}function NH(n,e,t,i){return BE(n.eventCache,new zf(e,t,i))}function yA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Hd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mT;const noe=()=>(mT||(mT=new ma(Gre)),mT);class vi{static fromObject(e){let t=new vi(null);return _a(e,(i,s)=>{t=t.set(new ci(i),s)}),t}constructor(e,t=noe()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Hn(),value:this.value};if(_n(e))return null;{const i=An(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(pi(e),t);return r!=null?{path:ws(new ci(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_n(e))return this;{const t=An(e),i=this.children.get(t);return i!==null?i.subtree(pi(e)):new vi(null)}}set(e,t){if(_n(e))return new vi(t,this.children);{const i=An(e),r=(this.children.get(i)||new vi(null)).set(pi(e),t),a=this.children.insert(i,r);return new vi(this.value,a)}}remove(e){if(_n(e))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const t=An(e),i=this.children.get(t);if(i){const s=i.remove(pi(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new vi(null):new vi(this.value,r)}else return this}}get(e){if(_n(e))return this.value;{const t=An(e),i=this.children.get(t);return i?i.get(pi(e)):null}}setTree(e,t){if(_n(e))return t;{const i=An(e),r=(this.children.get(i)||new vi(null)).setTree(pi(e),t);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new vi(this.value,a)}}fold(e){return this.fold_(Hn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(ws(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Hn(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(_n(e))return null;{const r=An(e),a=this.children.get(r);return a?a.findOnPath_(pi(e),ws(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Hn(),t)}foreachOnPath_(e,t,i){if(_n(e))return this;{this.value&&i(t,this.value);const s=An(e),r=this.children.get(s);return r?r.foreachOnPath_(pi(e),ws(t,s),i):new vi(null)}}foreach(e){this.foreach_(Hn(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(ws(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.writeTree_=e}static empty(){return new fl(new vi(null))}}function z0(n,e,t){if(_n(e))return new fl(new vi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Kr(s,e);return r=r.updateChild(a,t),new fl(n.writeTree_.set(s,r))}else{const s=new vi(t),r=n.writeTree_.setTree(e,s);return new fl(r)}}}function SO(n,e,t){let i=n;return _a(t,(s,r)=>{i=z0(i,ws(e,s),r)}),i}function AO(n,e){if(_n(e))return fl.empty();{const t=n.writeTree_.setTree(e,new vi(null));return new fl(t)}}function PC(n,e){return Wd(n,e)!=null}function Wd(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Kr(t.path,e)):null}function EO(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ki,(i,s)=>{e.push(new gn(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new gn(i,s.value))}),e}function Bf(n,e){if(_n(e))return n;{const t=Wd(n,e);return t!=null?new fl(new vi(t)):new fl(n.writeTree_.subtree(e))}}function UC(n){return n.writeTree_.isEmpty()}function og(n,e){return OH(Hn(),n.writeTree_,e)}function OH(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(ut(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=OH(ws(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ws(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){return FH(e,n)}function ioe(n,e,t,i,s){ut(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=z0(n.visibleWrites,e,t)),n.lastWriteId=i}function soe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function roe(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);ut(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,a=n.allWrites.length-1;for(;s&&a>=0;){const l=n.allWrites[a];l.visible&&(a>=t&&aoe(l,i.path)?s=!1:cl(i.path,l.path)&&(r=!0)),a--}if(s){if(r)return ooe(n),!0;if(i.snap)n.visibleWrites=AO(n.visibleWrites,i.path);else{const l=i.children;_a(l,u=>{n.visibleWrites=AO(n.visibleWrites,ws(i.path,u))})}return!0}else return!1}function aoe(n,e){if(n.snap)return cl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&cl(ws(n.path,t),e))return!0;return!1}function ooe(n){n.visibleWrites=LH(n.allWrites,loe,Hn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function loe(n){return n.visible}function LH(n,e,t){let i=fl.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const a=r.path;let l;if(r.snap)cl(t,a)?(l=Kr(t,a),i=z0(i,l,r.snap)):cl(a,t)&&(l=Kr(a,t),i=z0(i,Hn(),r.snap.getChild(l)));else if(r.children){if(cl(t,a))l=Kr(t,a),i=SO(i,l,r.children);else if(cl(a,t))if(l=Kr(a,t),_n(l))i=SO(i,Hn(),r.children);else{const u=sg(r.children,An(l));if(u){const h=u.getChild(pi(l));i=z0(i,Hn(),h)}}}else throw Sg("WriteRecord should have .snap or .children")}}return i}function PH(n,e,t,i,s){if(!i&&!s){const r=Wd(n.visibleWrites,e);if(r!=null)return r;{const a=Bf(n.visibleWrites,e);if(UC(a))return t;if(t==null&&!PC(a,Hn()))return null;{const l=t||Xt.EMPTY_NODE;return og(a,l)}}}else{const r=Bf(n.visibleWrites,e);if(!s&&UC(r))return t;if(!s&&t==null&&!PC(r,Hn()))return null;{const a=function(h){return(h.visible||s)&&(!i||!~i.indexOf(h.writeId))&&(cl(h.path,e)||cl(e,h.path))},l=LH(n.allWrites,a,e),u=t||Xt.EMPTY_NODE;return og(l,u)}}}function coe(n,e,t){let i=Xt.EMPTY_NODE;const s=Wd(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ki,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(t){const r=Bf(n.visibleWrites,e);return t.forEachChild(Ki,(a,l)=>{const u=og(Bf(r,new ci(a)),l);i=i.updateImmediateChild(a,u)}),EO(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Bf(n.visibleWrites,e);return EO(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function uoe(n,e,t,i,s){ut(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=ws(e,t);if(PC(n.visibleWrites,r))return null;{const a=Bf(n.visibleWrites,r);return UC(a)?s.getChild(t):og(a,s.getChild(t))}}function foe(n,e,t,i){const s=ws(e,t),r=Wd(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const a=Bf(n.visibleWrites,s);return og(a,i.getNode().getImmediateChild(t))}else return null}function hoe(n,e){return Wd(n.visibleWrites,e)}function doe(n,e,t,i,s,r,a){let l;const u=Bf(n.visibleWrites,e),h=Wd(u,Hn());if(h!=null)l=h;else if(t!=null)l=og(u,t);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const m=[],g=a.getCompare(),y=r?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let b=y.getNext();for(;b&&m.length<s;)g(b,i)!==0&&m.push(b),b=y.getNext();return m}else return[]}function poe(){return{visibleWrites:fl.empty(),allWrites:[],lastWriteId:-1}}function vA(n,e,t,i){return PH(n.writeTree,n.treePath,e,t,i)}function r2(n,e){return coe(n.writeTree,n.treePath,e)}function MO(n,e,t,i){return uoe(n.writeTree,n.treePath,e,t,i)}function _A(n,e){return hoe(n.writeTree,ws(n.treePath,e))}function moe(n,e,t,i,s,r){return doe(n.writeTree,n.treePath,e,t,i,s,r)}function a2(n,e,t){return foe(n.writeTree,n.treePath,e,t)}function UH(n,e){return FH(ws(n.treePath,e),n.writeTree)}function FH(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ut(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ut(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,vv(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,yv(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,ag(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,vv(i,e.snapshotNode,s.oldSnap));else throw Sg("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const HH=new yoe;class o2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new zf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return a2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hd(this.viewCache_),r=moe(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(n){return{filter:n}}function _oe(n,e){ut(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ut(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function boe(n,e,t,i,s){const r=new goe;let a,l;if(t.type===ul.OVERWRITE){const h=t;h.source.fromUser?a=FC(n,e,h.path,h.snap,i,s,r):(ut(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!_n(h.path),a=bA(n,e,h.path,h.snap,i,s,l,r))}else if(t.type===ul.MERGE){const h=t;h.source.fromUser?a=Soe(n,e,h.path,h.children,i,s,r):(ut(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),a=HC(n,e,h.path,h.children,i,s,l,r))}else if(t.type===ul.ACK_USER_WRITE){const h=t;h.revert?a=Moe(n,e,h.path,i,s,r):a=Aoe(n,e,h.path,h.affectedTree,i,s,r)}else if(t.type===ul.LISTEN_COMPLETE)a=Eoe(n,e,t.path,i,r);else throw Sg("Unknown operation type: "+t.type);const u=r.getChanges();return xoe(e,a,u),{viewCache:a,changes:u}}function xoe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=yA(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(BH(yA(e)))}}function zH(n,e,t,i,s,r){const a=e.eventCache;if(_A(i,t)!=null)return e;{let l,u;if(_n(t))if(ut(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Hd(e),m=h instanceof Xt?h:Xt.EMPTY_NODE,g=r2(i,m);l=n.filter.updateFullNode(e.eventCache.getNode(),g,r)}else{const h=vA(i,Hd(e));l=n.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const h=An(t);if(h===".priority"){ut(Hf(t)===1,"Can't have a priority with additional path components");const m=a.getNode();u=e.serverCache.getNode();const g=MO(i,t,m,u);g!=null?l=n.filter.updatePriority(m,g):l=a.getNode()}else{const m=pi(t);let g;if(a.isCompleteForChild(h)){u=e.serverCache.getNode();const y=MO(i,t,a.getNode(),u);y!=null?g=a.getNode().getImmediateChild(h).updateChild(m,y):g=a.getNode().getImmediateChild(h)}else g=a2(i,h,e.serverCache);g!=null?l=n.filter.updateChild(a.getNode(),h,g,m,s,r):l=a.getNode()}}return H0(e,l,a.isFullyInitialized()||_n(t),n.filter.filtersNodes())}}function bA(n,e,t,i,s,r,a,l){const u=e.serverCache;let h;const m=a?n.filter:n.filter.getIndexedFilter();if(_n(t))h=m.updateFullNode(u.getNode(),i,null);else if(m.filtersNodes()&&!u.isFiltered()){const b=u.getNode().updateChild(t,i);h=m.updateFullNode(u.getNode(),b,null)}else{const b=An(t);if(!u.isCompleteForPath(t)&&Hf(t)>1)return e;const x=pi(t),A=u.getNode().getImmediateChild(b).updateChild(x,i);b===".priority"?h=m.updatePriority(u.getNode(),A):h=m.updateChild(u.getNode(),b,A,x,HH,null)}const g=NH(e,h,u.isFullyInitialized()||_n(t),m.filtersNodes()),y=new o2(s,g,r);return zH(n,g,t,s,y,l)}function FC(n,e,t,i,s,r,a){const l=e.eventCache;let u,h;const m=new o2(s,e,r);if(_n(t))h=n.filter.updateFullNode(e.eventCache.getNode(),i,a),u=H0(e,h,!0,n.filter.filtersNodes());else{const g=An(t);if(g===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),i),u=H0(e,h,l.isFullyInitialized(),l.isFiltered());else{const y=pi(t),b=l.getNode().getImmediateChild(g);let x;if(_n(y))x=i;else{const T=m.getCompleteChild(g);T!=null?bH(y)===".priority"&&T.getChild(SH(y)).isEmpty()?x=T:x=T.updateChild(y,i):x=Xt.EMPTY_NODE}if(b.equals(x))u=e;else{const T=n.filter.updateChild(l.getNode(),g,x,y,m,a);u=H0(e,T,l.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function TO(n,e){return n.eventCache.isCompleteForChild(e)}function Soe(n,e,t,i,s,r,a){let l=e;return i.foreach((u,h)=>{const m=ws(t,u);TO(e,An(m))&&(l=FC(n,l,m,h,s,r,a))}),i.foreach((u,h)=>{const m=ws(t,u);TO(e,An(m))||(l=FC(n,l,m,h,s,r,a))}),l}function CO(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function HC(n,e,t,i,s,r,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;_n(t)?h=i:h=new vi(null).setTree(t,i);const m=e.serverCache.getNode();return h.children.inorderTraversal((g,y)=>{if(m.hasChild(g)){const b=e.serverCache.getNode().getImmediateChild(g),x=CO(n,b,y);u=bA(n,u,new ci(g),x,s,r,a,l)}}),h.children.inorderTraversal((g,y)=>{const b=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!m.hasChild(g)&&!b){const x=e.serverCache.getNode().getImmediateChild(g),T=CO(n,x,y);u=bA(n,u,new ci(g),T,s,r,a,l)}}),u}function Aoe(n,e,t,i,s,r,a){if(_A(s,t)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(_n(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return bA(n,e,t,u.getNode().getChild(t),s,r,l,a);if(_n(t)){let h=new vi(null);return u.getNode().forEachChild(Fm,(m,g)=>{h=h.set(new ci(m),g)}),HC(n,e,t,h,s,r,l,a)}else return e}else{let h=new vi(null);return i.foreach((m,g)=>{const y=ws(t,m);u.isCompleteForPath(y)&&(h=h.set(m,u.getNode().getChild(y)))}),HC(n,e,t,h,s,r,l,a)}}function Eoe(n,e,t,i,s){const r=e.serverCache,a=NH(e,r.getNode(),r.isFullyInitialized()||_n(t),r.isFiltered());return zH(n,a,t,i,HH,s)}function Moe(n,e,t,i,s,r){let a;if(_A(i,t)!=null)return e;{const l=new o2(i,e,s),u=e.eventCache.getNode();let h;if(_n(t)||An(t)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=vA(i,Hd(e));else{const g=e.serverCache.getNode();ut(g instanceof Xt,"serverChildren would be complete if leaf node"),m=r2(i,g)}m=m,h=n.filter.updateFullNode(u,m,r)}else{const m=An(t);let g=a2(i,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=u.getImmediateChild(m)),g!=null?h=n.filter.updateChild(u,m,g,pi(t),l,r):e.eventCache.getNode().hasChild(m)?h=n.filter.updateChild(u,m,Xt.EMPTY_NODE,pi(t),l,r):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=vA(i,Hd(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,r)))}return a=e.serverCache.isFullyInitialized()||_A(i,Hn())!=null,H0(e,h,a,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new t2(i.getIndex()),r=jae(i);this.processor_=voe(r);const a=t.serverCache,l=t.eventCache,u=s.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),h=r.updateFullNode(Xt.EMPTY_NODE,l.getNode(),null),m=new zf(u,a.isFullyInitialized(),s.filtersNodes()),g=new zf(h,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=BE(g,m),this.eventGenerator_=new Zae(this.query_)}get query(){return this.query_}}function Coe(n){return n.viewCache_.serverCache.getNode()}function woe(n){return yA(n.viewCache_)}function Roe(n,e){const t=Hd(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!_n(e)&&!t.getImmediateChild(An(e)).isEmpty())?t.getChild(e):null}function wO(n){return n.eventRegistrations_.length===0}function Boe(n,e){n.eventRegistrations_.push(e)}function RO(n,e,t){const i=[];if(t){ut(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const a=r.createCancelEvent(t,s);a&&i.push(a)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const a=n.eventRegistrations_[r];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function BO(n,e,t,i){e.type===ul.MERGE&&e.source.queryId!==null&&(ut(Hd(n.viewCache_),"We should always have a full cache before handling merges"),ut(yA(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=boe(n.processor_,s,e,t,i);return _oe(n.processor_,r.viewCache),ut(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,GH(n,r.changes,r.viewCache.eventCache.getNode(),null)}function Doe(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ki,(r,a)=>{i.push(ag(r,a))}),t.isFullyInitialized()&&i.push(BH(t.getNode())),GH(n,i,t.getNode(),e)}function GH(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return $ae(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xA;class VH{constructor(){this.views=new Map}}function Ioe(n){ut(!xA,"__referenceConstructor has already been defined"),xA=n}function Noe(){return ut(xA,"Reference.ts has not been loaded"),xA}function Ooe(n){return n.views.size===0}function l2(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return ut(r!=null,"SyncTree gave us an op for an invalid query."),BO(r,e,t,i)}else{let r=[];for(const a of n.views.values())r=r.concat(BO(a,e,t,i));return r}}function kH(n,e,t,i,s){const r=e._queryIdentifier,a=n.views.get(r);if(!a){let l=vA(t,s?i:null),u=!1;l?u=!0:i instanceof Xt?(l=r2(t,i),u=!1):(l=Xt.EMPTY_NODE,u=!1);const h=BE(new zf(l,u,!1),new zf(i,s,!1));return new Toe(e,h)}return a}function Loe(n,e,t,i,s,r){const a=kH(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),Boe(a,t),Doe(a,t)}function Poe(n,e,t,i){const s=e._queryIdentifier,r=[];let a=[];const l=Gf(n);if(s==="default")for(const[u,h]of n.views.entries())a=a.concat(RO(h,t,i)),wO(h)&&(n.views.delete(u),h.query._queryParams.loadsAllData()||r.push(h.query));else{const u=n.views.get(s);u&&(a=a.concat(RO(u,t,i)),wO(u)&&(n.views.delete(s),u.query._queryParams.loadsAllData()||r.push(u.query)))}return l&&!Gf(n)&&r.push(new(Noe())(e._repo,e._path)),{removed:r,events:a}}function XH(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Df(n,e){let t=null;for(const i of n.views.values())t=t||Roe(i,e);return t}function jH(n,e){if(e._queryParams.loadsAllData())return IE(n);{const i=e._queryIdentifier;return n.views.get(i)}}function WH(n,e){return jH(n,e)!=null}function Gf(n){return IE(n)!=null}function IE(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SA;function Uoe(n){ut(!SA,"__referenceConstructor has already been defined"),SA=n}function Foe(){return ut(SA,"Reference.ts has not been loaded"),SA}let Hoe=1;class DO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vi(null),this.pendingWriteTree_=poe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function YH(n,e,t,i,s){return ioe(n.pendingWriteTree_,e,t,i,s),s?n_(n,new Fd(IH(),e,t)):[]}function xd(n,e,t=!1){const i=soe(n.pendingWriteTree_,e);if(roe(n.pendingWriteTree_,e)){let r=new vi(null);return i.snap!=null?r=r.set(Hn(),!0):_a(i.children,a=>{r=r.set(new ci(a),!0)}),n_(n,new gA(i.path,r,t))}else return[]}function t_(n,e,t){return n_(n,new Fd(i2(),e,t))}function zoe(n,e,t){const i=vi.fromObject(t);return n_(n,new xv(i2(),e,i))}function Goe(n,e){return n_(n,new bv(i2(),e))}function Voe(n,e,t){const i=u2(n,t);if(i){const s=f2(i),r=s.path,a=s.queryId,l=Kr(r,e),u=new bv(s2(a),l);return h2(n,r,u)}else return[]}function qH(n,e,t,i,s=!1){const r=e._path,a=n.syncPointTree_.get(r);let l=[];if(a&&(e._queryIdentifier==="default"||WH(a,e))){const u=Poe(a,e,t,i);Ooe(a)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const h=u.removed;if(l=u.events,!s){const m=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=n.syncPointTree_.findOnPath(r,(y,b)=>Gf(b));if(m&&!g){const y=n.syncPointTree_.subtree(r);if(!y.isEmpty()){const b=Woe(y);for(let x=0;x<b.length;++x){const T=b[x],A=T.query,S=ZH(n,T);n.listenProvider_.startListening(G0(A),Sv(n,A),S.hashFn,S.onComplete)}}}!g&&h.length>0&&!i&&(m?n.listenProvider_.stopListening(G0(e),null):h.forEach(y=>{const b=n.queryToTagMap.get(NE(y));n.listenProvider_.stopListening(G0(y),b)}))}Yoe(n,h)}return l}function KH(n,e,t,i){const s=u2(n,i);if(s!=null){const r=f2(s),a=r.path,l=r.queryId,u=Kr(a,e),h=new Fd(s2(l),u,t);return h2(n,a,h)}else return[]}function koe(n,e,t,i){const s=u2(n,i);if(s){const r=f2(s),a=r.path,l=r.queryId,u=Kr(a,e),h=vi.fromObject(t),m=new xv(s2(l),u,h);return h2(n,a,m)}else return[]}function Xoe(n,e,t,i=!1){const s=e._path;let r=null,a=!1;n.syncPointTree_.foreachOnPath(s,(y,b)=>{const x=Kr(y,s);r=r||Df(b,x),a=a||Gf(b)});let l=n.syncPointTree_.get(s);l?(a=a||Gf(l),r=r||Df(l,Hn())):(l=new VH,n.syncPointTree_=n.syncPointTree_.set(s,l));let u;r!=null?u=!0:(u=!1,r=Xt.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((b,x)=>{const T=Df(x,Hn());T&&(r=r.updateImmediateChild(b,T))}));const h=WH(l,e);if(!h&&!e._queryParams.loadsAllData()){const y=NE(e);ut(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const b=qoe();n.queryToTagMap.set(y,b),n.tagToQueryMap.set(b,y)}const m=DE(n.pendingWriteTree_,s);let g=Loe(l,e,t,m,r,u);if(!h&&!a&&!i){const y=jH(l,e);g=g.concat(Koe(n,e,y))}return g}function c2(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(a,l)=>{const u=Kr(a,e),h=Df(l,u);if(h)return h});return PH(s,e,r,t,!0)}function joe(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(h,m)=>{const g=Kr(h,t);i=i||Df(m,g)});let s=n.syncPointTree_.get(t);s?i=i||Df(s,Hn()):(s=new VH,n.syncPointTree_=n.syncPointTree_.set(t,s));const r=i!=null,a=r?new zf(i,!0,!1):null,l=DE(n.pendingWriteTree_,e._path),u=kH(s,e,l,r?a.getNode():Xt.EMPTY_NODE,r);return woe(u)}function n_(n,e){return JH(e,n.syncPointTree_,null,DE(n.pendingWriteTree_,Hn()))}function JH(n,e,t,i){if(_n(n.path))return QH(n,e,t,i);{const s=e.get(Hn());t==null&&s!=null&&(t=Df(s,Hn()));let r=[];const a=An(n.path),l=n.operationForChild(a),u=e.children.get(a);if(u&&l){const h=t?t.getImmediateChild(a):null,m=UH(i,a);r=r.concat(JH(l,u,h,m))}return s&&(r=r.concat(l2(s,n,i,t))),r}}function QH(n,e,t,i){const s=e.get(Hn());t==null&&s!=null&&(t=Df(s,Hn()));let r=[];return e.children.inorderTraversal((a,l)=>{const u=t?t.getImmediateChild(a):null,h=UH(i,a),m=n.operationForChild(a);m&&(r=r.concat(QH(m,l,u,h)))}),s&&(r=r.concat(l2(s,n,i,t))),r}function ZH(n,e){const t=e.query,i=Sv(n,t);return{hashFn:()=>(Coe(e)||Xt.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Voe(n,t._path,i):Goe(n,t._path);{const r=Xre(s,t);return qH(n,t,null,r)}}}}function Sv(n,e){const t=NE(e);return n.queryToTagMap.get(t)}function NE(n){return n._path.toString()+"$"+n._queryIdentifier}function u2(n,e){return n.tagToQueryMap.get(e)}function f2(n){const e=n.indexOf("$");return ut(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ci(n.substr(0,e))}}function h2(n,e,t){const i=n.syncPointTree_.get(e);ut(i,"Missing sync point for query tag that we're tracking");const s=DE(n.pendingWriteTree_,e);return l2(i,t,s,null)}function Woe(n){return n.fold((e,t,i)=>{if(t&&Gf(t))return[IE(t)];{let s=[];return t&&(s=XH(t)),_a(i,(r,a)=>{s=s.concat(a)}),s}})}function G0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Foe())(n._repo,n._path):n}function Yoe(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=NE(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function qoe(){return Hoe++}function Koe(n,e,t){const i=e._path,s=Sv(n,e),r=ZH(n,t),a=n.listenProvider_.startListening(G0(e),s,r.hashFn,r.onComplete),l=n.syncPointTree_.subtree(i);if(s)ut(!Gf(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((h,m,g)=>{if(!_n(h)&&m&&Gf(m))return[IE(m).query];{let y=[];return m&&(y=y.concat(XH(m).map(b=>b.query))),_a(g,(b,x)=>{y=y.concat(x)}),y}});for(let h=0;h<u.length;++h){const m=u[h];n.listenProvider_.stopListening(G0(m),Sv(n,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new d2(t)}node(){return this.node_}}class p2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ws(this.path_,e);return new p2(this.syncTree_,t)}node(){return c2(this.syncTree_,this.path_)}}const Joe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},IO=function(n,e,t){if(!n||typeof n!="object")return n;if(ut(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Qoe(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Zoe(n[".sv"],e);ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Qoe=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ut(!1,"Unexpected server value: "+n)}},Zoe=function(n,e,t){n.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ut(!1,"Unexpected increment value: "+i);const s=e.node();if(ut(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},$oe=function(n,e,t,i){return m2(e,new p2(t,n),i)},$H=function(n,e,t){return m2(n,new d2(e),t)};function m2(n,e,t){const i=n.getPriority().val(),s=IO(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const a=n,l=IO(a.getValue(),e,t);return l!==a.getValue()||s!==a.getPriority().val()?new Hs(l,Gs(s)):n}else{const a=n;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new Hs(s))),a.forEachChild(Ki,(l,u)=>{const h=m2(u,e.getImmediateChild(l),t);h!==u&&(r=r.updateImmediateChild(l,h))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function y2(n,e){let t=e instanceof ci?e:new ci(e),i=n,s=An(t);for(;s!==null;){const r=sg(i.node.children,s)||{children:{},childCount:0};i=new g2(s,i,r),t=pi(t),s=An(t)}return i}function Mg(n){return n.node.value}function ez(n,e){n.node.value=e,zC(n)}function tz(n){return n.node.childCount>0}function ele(n){return Mg(n)===void 0&&!tz(n)}function OE(n,e){_a(n.node.children,(t,i)=>{e(new g2(t,n,i))})}function nz(n,e,t,i){t&&e(n),OE(n,s=>{nz(s,e,!0)})}function tle(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function i_(n){return new ci(n.parent===null?n.name:i_(n.parent)+"/"+n.name)}function zC(n){n.parent!==null&&nle(n.parent,n.name,n)}function nle(n,e,t){const i=ele(t),s=gu(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,zC(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,zC(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile=/[\[\].#$\/\u0000-\u001F\u007F]/,sle=/[\[\].#$\u0000-\u001F\u007F]/,gT=10*1024*1024,iz=function(n){return typeof n=="string"&&n.length!==0&&!ile.test(n)},sz=function(n){return typeof n=="string"&&n.length!==0&&!sle.test(n)},rle=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sz(n)},rz=function(n,e,t,i){i&&e===void 0||v2(YR(n,"value"),e,t)},v2=function(n,e,t){const i=t instanceof ci?new Aae(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+cd(i));if(typeof e=="function")throw new Error(n+"contains a function "+cd(i)+" with contents = "+e.toString());if($4(e))throw new Error(n+"contains "+e.toString()+" "+cd(i));if(typeof e=="string"&&e.length>gT/3&&wE(e)>gT)throw new Error(n+"contains a string greater than "+gT+" utf8 bytes "+cd(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(_a(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!iz(a)))throw new Error(n+" contains an invalid key ("+a+") "+cd(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Eae(i,a),v2(n,l,i),Mae(i)}),s&&r)throw new Error(n+' contains ".value" child '+cd(i)+" in addition to actual children.")}},az=function(n,e,t,i){if(!sz(t))throw new Error(YR(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ale=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),az(n,e,t)},oz=function(n,e){if(An(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},ole=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iz(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!rle(t))throw new Error(YR(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lz(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!AH(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function dc(n,e,t){lz(n,t),cle(n,i=>cl(i,e)||cl(e,i))}function cle(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(ule(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function ule(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();U0&&Ar("event: "+t.toString()),Eg(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle="repo_interrupt",hle=25;class dle{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mA(),this.transactionQueueTree_=new g2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ple(n,e,t){if(n.stats_=QR(n.repoInfo_),n.forceRestClient_||qre())n.server_=new pA(n.repoInfo_,(i,s,r,a)=>{NO(n,i,s,r,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>OO(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Cs(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ru(n.repoInfo_,e,(i,s,r,a)=>{NO(n,i,s,r,a)},i=>{OO(n,i)},i=>{mle(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=$re(n.repoInfo_,()=>new Qae(n.stats_,n.server_)),n.infoData_=new Wae,n.infoSyncTree_=new DO({startListening:(i,s,r,a)=>{let l=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(l=t_(n.infoSyncTree_,i._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),b2(n,"connected",!1),n.serverSyncTree_=new DO({startListening:(i,s,r,a)=>(n.server_.listen(i,r,s,(l,u)=>{const h=a(l,u);dc(n.eventQueue_,i._path,h)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function cz(n){const t=n.infoData_.getNode(new ci(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function _2(n){return Joe({timestamp:cz(n)})}function NO(n,e,t,i,s){n.dataUpdateCount++;const r=new ci(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(s)if(i){const u=oA(t,h=>Gs(h));a=koe(n.serverSyncTree_,r,u,s)}else{const u=Gs(t);a=KH(n.serverSyncTree_,r,u,s)}else if(i){const u=oA(t,h=>Gs(h));a=zoe(n.serverSyncTree_,r,u)}else{const u=Gs(t);a=t_(n.serverSyncTree_,r,u)}let l=r;a.length>0&&(l=PE(n,r)),dc(n.eventQueue_,l,a)}function OO(n,e){b2(n,"connected",e),e===!1&&vle(n)}function mle(n,e){_a(e,(t,i)=>{b2(n,t,i)})}function b2(n,e,t){const i=new ci("/.info/"+e),s=Gs(t);n.infoData_.updateSnapshot(i,s);const r=t_(n.infoSyncTree_,i,s);dc(n.eventQueue_,i,r)}function uz(n){return n.nextWriteId_++}function gle(n,e,t){const i=joe(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const r=Gs(s).withIndex(e._queryParams.getIndex());Xoe(n.serverSyncTree_,e,t,!0);let a;if(e._queryParams.loadsAllData())a=t_(n.serverSyncTree_,e._path,r);else{const l=Sv(n.serverSyncTree_,e);a=KH(n.serverSyncTree_,e._path,r,l)}return dc(n.eventQueue_,e._path,a),qH(n.serverSyncTree_,e,t,null,!0),r},s=>(LE(n,"get for query "+Cs(e)+" failed: "+s),Promise.reject(new Error(s))))}function yle(n,e,t,i,s){LE(n,"set",{path:e.toString(),value:t,priority:i});const r=_2(n),a=Gs(t,i),l=c2(n.serverSyncTree_,e),u=$H(a,l,r),h=uz(n),m=YH(n.serverSyncTree_,e,u,h,!0);lz(n.eventQueue_,m),n.server_.put(e.toString(),a.val(!0),(y,b)=>{const x=y==="ok";x||ga("set at "+e+" failed: "+y);const T=xd(n.serverSyncTree_,h,!x);dc(n.eventQueue_,e,T),ble(n,s,y,b)});const g=mz(n,e);PE(n,g),dc(n.eventQueue_,g,[])}function vle(n){LE(n,"onDisconnectEvents");const e=_2(n),t=mA();LC(n.onDisconnect_,Hn(),(s,r)=>{const a=$oe(s,r,n.serverSyncTree_,e);DH(t,s,a)});let i=[];LC(t,Hn(),(s,r)=>{i=i.concat(t_(n.serverSyncTree_,s,r));const a=mz(n,s);PE(n,a)}),n.onDisconnect_=mA(),dc(n.eventQueue_,Hn(),i)}function _le(n){n.persistentConnection_&&n.persistentConnection_.interrupt(fle)}function LE(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ar(t,...e)}function ble(n,e,t,i){e&&Eg(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const a=new Error(r);a.code=s,e(a)}})}function fz(n,e,t){return c2(n.serverSyncTree_,e,t)||Xt.EMPTY_NODE}function x2(n,e=n.transactionQueueTree_){if(e||UE(n,e),Mg(e)){const t=dz(n,e);ut(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&xle(n,i_(e),t)}else tz(e)&&OE(e,t=>{x2(n,t)})}function xle(n,e,t){const i=t.map(h=>h.currentWriteId),s=fz(n,e,i);let r=s;const a=s.hash();for(let h=0;h<t.length;h++){const m=t[h];ut(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=Kr(e,m.path);r=r.updateChild(g,m.currentOutputSnapshotRaw)}const l=r.val(!0),u=e;n.server_.put(u.toString(),l,h=>{LE(n,"transaction put response",{path:u.toString(),status:h});let m=[];if(h==="ok"){const g=[];for(let y=0;y<t.length;y++)t[y].status=2,m=m.concat(xd(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&g.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();UE(n,y2(n.transactionQueueTree_,e)),x2(n,n.transactionQueueTree_),dc(n.eventQueue_,e,m);for(let y=0;y<g.length;y++)Eg(g[y])}else{if(h==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{ga("transaction at "+u.toString()+" failed: "+h);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=h}PE(n,e)}},a)}function PE(n,e){const t=hz(n,e),i=i_(t),s=dz(n,t);return Sle(n,s,i),i}function Sle(n,e,t){if(e.length===0)return;const i=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],h=Kr(t,u.path);let m=!1,g;if(ut(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)m=!0,g=u.abortReason,s=s.concat(xd(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=hle)m=!0,g="maxretry",s=s.concat(xd(n.serverSyncTree_,u.currentWriteId,!0));else{const y=fz(n,u.path,a);u.currentInputSnapshot=y;const b=e[l].update(y.val());if(b!==void 0){v2("transaction failed: Data returned ",b,u.path);let x=Gs(b);typeof b=="object"&&b!=null&&gu(b,".priority")||(x=x.updatePriority(y.getPriority()));const A=u.currentWriteId,S=_2(n),B=$H(x,y,S);u.currentOutputSnapshotRaw=x,u.currentOutputSnapshotResolved=B,u.currentWriteId=uz(n),a.splice(a.indexOf(A),1),s=s.concat(YH(n.serverSyncTree_,u.path,B,u.currentWriteId,u.applyLocally)),s=s.concat(xd(n.serverSyncTree_,A,!0))}else m=!0,g="nodata",s=s.concat(xd(n.serverSyncTree_,u.currentWriteId,!0))}dc(n.eventQueue_,t,s),s=[],m&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(g==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(g),!1,null))))}UE(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)Eg(i[l]);x2(n,n.transactionQueueTree_)}function hz(n,e){let t,i=n.transactionQueueTree_;for(t=An(e);t!==null&&Mg(i)===void 0;)i=y2(i,t),e=pi(e),t=An(e);return i}function dz(n,e){const t=[];return pz(n,e,t),t.sort((i,s)=>i.order-s.order),t}function pz(n,e,t){const i=Mg(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);OE(e,s=>{pz(n,s,t)})}function UE(n,e){const t=Mg(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,ez(e,t.length>0?t:void 0)}OE(e,i=>{UE(n,i)})}function mz(n,e){const t=i_(hz(n,e)),i=y2(n.transactionQueueTree_,e);return tle(i,s=>{yT(n,s)}),yT(n,i),nz(i,s=>{yT(n,s)}),t}function yT(n,e){const t=Mg(e);if(t){const i=[];let s=[],r=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(ut(r===a-1,"All SENT items should be at beginning of queue."),r=a,t[a].status=3,t[a].abortReason="set"):(ut(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),s=s.concat(xd(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?ez(e,void 0):t.length=r+1,dc(n.eventQueue_,i_(e),s);for(let a=0;a<i.length;a++)Eg(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Ele(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ga(`Invalid query segment '${t}' in query '${n}'`)}return e}const LO=function(n,e){const t=Mle(n),i=t.namespace;t.domain==="firebase.com"&&mu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&mu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Hre();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new fH(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new ci(t.pathString)}},Mle=function(n){let e="",t="",i="",s="",r="",a=!0,l="https",u=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(l=n.substring(0,h-1),n=n.substring(h+2));let m=n.indexOf("/");m===-1&&(m=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),e=n.substring(0,Math.min(m,g)),m<g&&(s=Ale(n.substring(m,g)));const y=Ele(n.substring(Math.min(n.length,g)));h=e.indexOf(":"),h>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const b=e.slice(0,h);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),r=i}"ns"in y&&(r=y.ns)}return{host:e,port:u,domain:t,subdomain:i,secure:a,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tle=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let s;const r=new Array(8);for(s=7;s>=0;s--)r[s]=PO.charAt(t%64),t=Math.floor(t/64);ut(t===0,"Cannot push at time == 0");let a=r.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=PO.charAt(e[s]);return ut(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Cs(this.snapshot.exportVal())}}class wle{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return _n(this._path)?null:bH(this._path)}get ref(){return new yu(this._repo,this._path)}get _queryIdentifier(){const e=bO(this._queryParams),t=KR(e);return t==="{}"?"default":t}get _queryObject(){return bO(this._queryParams)}isEqual(e){if(e=jd(e),!(e instanceof S2))return!1;const t=this._repo===e._repo,i=AH(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sae(this._path)}}class yu extends S2{constructor(e,t){super(e,t,new n2,!1)}get parent(){const e=SH(this._path);return e===null?null:new yu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Av{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ci(e),i=Ev(this.ref,e);return new Av(this._node.getChild(t),i,Ki)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Av(s,Ev(this.ref,i),Ki)))}hasChild(e){const t=new ci(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function FE(n,e){return n=jd(n),n._checkNotDeleted("ref"),e!==void 0?Ev(n._root,e):n._root}function Ev(n,e){return n=jd(n),An(n._path)===null?ale("child","path",e):az("child","path",e),new yu(n._repo,ws(n._path,e))}function A2(n,e){n=jd(n),oz("push",n._path),rz("push",e,n._path,!0);const t=cz(n._repo),i=Tle(t),s=Ev(n,i),r=Ev(n,i);let a;return e!=null?a=Ble(r,e).then(()=>r):a=Promise.resolve(r),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function Ble(n,e){n=jd(n),oz("set",n._path),rz("set",e,n._path,!1);const t=new CE;return yle(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Dle(n){n=jd(n);const e=new Rle(()=>{}),t=new E2(e);return gle(n._repo,n,t).then(i=>new Av(i,new yu(n._repo,n._path),n._queryParams.getIndex()))}class E2{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new Cle("value",this,new Av(e.snapshotNode,new yu(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new wle(this,e,t):null}matches(e){return e instanceof E2?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Ioe(yu);Uoe(yu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ile="FIREBASE_DATABASE_EMULATOR_HOST",GC={};let Nle=!1;function Ole(n,e,t,i){const s=e.lastIndexOf(":"),r=e.substring(0,s),a=WR(r);n.repoInfo_=new fH(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function Lle(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||mu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ar("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=LO(r,s),l=a.repoInfo,u;typeof process<"u"&&nO&&(u=nO[Ile]),u?(r=`http://${u}?ns=${l.namespace}`,a=LO(r,s),l=a.repoInfo):a.repoInfo.secure;const h=new Jre(n.name,n.options,e);ole("Invalid Firebase Database URL",a),_n(a.path)||mu("Database URL must point to the root of a Firebase Database (not including a child path).");const m=Ule(l,n,h,new Kre(n,t));return new Fle(m,n)}function Ple(n,e){const t=GC[e];(!t||t[n.key]!==n)&&mu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),_le(n),delete t[n.key]}function Ule(n,e,t,i){let s=GC[e.name];s||(s={},GC[e.name]=s);let r=s[n.toURLString()];return r&&mu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new dle(n,Nle,t,i),s[n.toURLString()]=r,r}class Fle{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ple(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yu(this._repo,Hn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ple(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mu("Cannot call "+e+" on a deleted database.")}}function Hle(n=bre(),e){const t=mre(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=ese("database");i&&zle(t,...i)}return t}function zle(n,e,t,i={}){n=jd(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,r=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&lA(i,r.repoInfo_.emulatorOptions))return;mu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&mu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new tS(tS.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:nse(i.mockUserToken,n.app.options.projectId);a=new tS(l)}WR(e)&&(tse(e),rse("Database",!0)),Ole(r,s,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(n){Nre(_re),uA(new pv("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Lle(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),Pm(iO,sO,n),Pm(iO,sO,"esm2017")}ru.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ru.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Gle();const Vle={authDomain:"ti-stats-c491d.firebaseapp.com",databaseURL:"https://ti-stats-c491d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ti-stats-c491d",storageBucket:"ti-stats-c491d.firebasestorage.app",messagingSenderId:"848081025843",appId:"1:848081025843:web:6bdc91ad175de6e12d9c46",measurementId:"G-MY89MT8BZV"},kle=Y4(Vle),HE=Hle(kle);async function Xle(n,e){await A2(FE(HE,`${n}/players`),e)}async function vT(n){const e=await M2(`${n}/players`,[]);return e?Object.values(e):[]}async function jle(n,e){await A2(FE(HE,`${n}/games`),e)}async function nS(n){const e=await M2(`${n}/games`,[]);return e?Object.values(e):[]}async function Wle(n){await A2(FE(HE,`sessions/${n.sessionId}`),n)}async function Yle(n){const e=await M2(`sessions/${n}`,null);if(e===null)return null;const[t]=Object.values(e);return t}async function M2(n,e){const t=await Dle(FE(HE,n));return t.exists()?t.val():e}const qle=({sessionId:n,gameAddedCallback:e})=>{const[t,i]=te.useState(""),[s,r]=te.useState(""),[a,l]=te.useState([]);te.useEffect(()=>{nS(n).then(h=>l(h)),console.log("Fetched games")},[n]);const u=async()=>{l(await nS(n));const h=Lk(t,[],[]);if(a!=null&&a.map(g=>g.id).includes(h))return;await jle(n,{id:h,date:t,playedFactions:new Map,winnersName:s}),i(t),nS(n).then(g=>{l(g),e()})};return _e.jsxs(Vs,{sx:{display:"flex",gap:4,padding:2,alignItems:"flex-start",flexWrap:"wrap"},children:[_e.jsxs(Vs,{sx:{display:"flex",flexDirection:"column",gap:2,width:"250px"},children:[_e.jsx(W0,{label:"Game Date",type:"date",variant:"outlined",value:t,onChange:h=>i(h.target.value),size:"small",slotProps:{inputLabel:{shrink:!0}}}),_e.jsx(W0,{label:"Winner",type:"text",variant:"outlined",value:s,onChange:h=>r(h.target.value),size:"small",slotProps:{inputLabel:{shrink:!0}}}),_e.jsx(pw,{variant:"contained",onClick:u,disabled:!t,children:"Add Game"})]}),_e.jsxs(PA,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",minWidth:"200px",height:"200px",overflowY:"auto"},children:[_e.jsx(ka,{variant:"h6",gutterBottom:!0,children:"Games"}),a.length===0?_e.jsx(ka,{variant:"body2",color:"text.secondary",children:"No games added yet."}):a.map((h,m)=>_e.jsxs(ka,{variant:"body1",children:[" ",h.date]},m))]})]})},Kle=({sessionId:n})=>{const[e,t]=te.useState(""),[i,s]=te.useState([]);te.useEffect(()=>{vT(n).then(a=>s(a)),console.log("Fetched players")},[n]);const r=async()=>{s(await vT(n));const a=e.trim(),l={name:a};!a||i!=null&&i.map(u=>u.name).includes(a)||(await Xle(n,l),t(""),vT(n).then(u=>s(u)))};return _e.jsxs(Vs,{sx:{display:"flex",gap:4,padding:2,alignItems:"flex-start",flexWrap:"wrap"},children:[_e.jsxs(Vs,{sx:{display:"flex",flexDirection:"column",gap:2,width:"250px"},children:[_e.jsx(W0,{label:"Player Name",variant:"outlined",value:e,onChange:a=>t(a.target.value),size:"small"}),_e.jsx(pw,{variant:"contained",onClick:r,disabled:!e.trim(),children:"Add Player"})]}),_e.jsxs(PA,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",minWidth:"200px",height:"200px",overflowY:"auto"},children:[_e.jsx(ka,{variant:"h6",gutterBottom:!0,children:"Players"}),i.length===0?_e.jsx(ka,{variant:"body2",color:"text.secondary",children:"No players added yet."}):i.map((a,l)=>_e.jsxs(ka,{variant:"body1",children:[" ",a.name]},l))]})]})},Jle=({sessionId:n})=>{const e=LA(),[t,i]=te.useState("Empty"),[s,r]=te.useState(""),a=()=>{nS(n).then(l=>r(l.sort(u=>new Date(u.date).getTime())[l.length-1].winnersName))};return te.useEffect(()=>{a()},[t]),_e.jsx("div",{style:{overflowY:"scroll",width:"100%",height:"100%",padding:"30px 0px 30px 30px",scrollbarWidth:"thin"},children:_e.jsxs(Vs,{sx:{display:"flex"},children:[_e.jsxs(NL,{children:[_e.jsx(Vs,{sx:{marginTop:-5,marginRight:85,marginLeft:"-105px"},children:_e.jsx(Uk,{number:1,title:"Add game",color:e.palette.custom.leader.main,onClick:()=>i("AddGame")})}),t==="AddPlayer"?_e.jsx(Kle,{sessionId:n}):_e.jsx(qle,{sessionId:n,gameAddedCallback:a})]}),_e.jsx(kie,{trophyHolderName:s})]})})},Qle=()=>_e.jsxs(Vs,{component:fU.div,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},sx:{padding:"5px 0px 5px 0px",width:"100%",background:"radial-gradient(ellipse at center,rgb(24, 24, 97), #000)",borderTop:"4px solid rgb(241,87,38)",borderBottom:"4px solid rgb(245,189,26)",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)",textAlign:"center"},children:[_e.jsx(Vs,{}),_e.jsx(ka,{variant:"h2",sx:{whiteSpace:"nowrap",fontFamily:"TI Title Font","@media (max-width:700px)":{fontSize:"clamp(0.5rem, 5vw + 0.5rem, 5.7rem);"},"@media (max-width:500px)":{backgroundSize:"1500px 100px"},"@media (max-width:400px)":{backgroundSize:"1000px 100px"},"@media (max-width:330px)":{fontSize:"1.5rem"},background:"radial-gradient(ellipse at 50% 80%, rgb(247,190,23) 20%, rgb(253,242,147) 25%, rgb(238,90,29) 35%)",backgroundSize:"2000px 100px",backgroundPosition:"center center",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"TWILIGHT IMPERIUM STATS"})]}),Zle=({onLogin:n})=>{const[e,t]=te.useState(""),[i,s]=te.useState(""),[r,a]=te.useState(!1),l=async()=>{a(!0);try{const u=e.trim(),h=i.trim();if(u&&h){const m=await Yle(u),g=await Pk(h);if(m===null){console.log("NO SUCH ID"),window.confirm("No session found. Do you want to register instead?")&&(Wle({sessionId:u,passwordHash:g}),n(e));return}if(g!==m.passwordHash){console.log("INCORRECT PASSWORD");return}n(e)}}finally{a(!1)}};return _e.jsx(Vs,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:_e.jsxs(PA,{elevation:6,sx:{padding:4,width:300,backgroundColor:"#1d1f40"},children:[_e.jsx(ka,{variant:"h5",gutterBottom:!0,color:"white",children:"TI4 Game Login"}),_e.jsx(W0,{label:"Session ID",value:e,onChange:u=>t(u.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),_e.jsx(W0,{label:"Password",type:"password",value:i,onChange:u=>s(u.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),_e.jsx(pw,{variant:"contained",color:"primary",fullWidth:!0,onClick:l,disabled:!e.trim()||!i.trim()||r,sx:{mt:2},children:"Enter Game"})]})})},$le=({setSessionId:n})=>_e.jsxs(NL,{children:[_e.jsx(ka,{variant:"h3",gutterBottom:!0,color:"white",children:"Welcome to TI4 Statistics!"}),_e.jsx(Zle,{onLogin:n})]});function ece(){const[n,e]=te.useState(null);return _e.jsxs("main",{style:{height:"100%",width:"100%",backgroundImage:`url("${Y0()}/images/ti4bg.jpg")`,backgroundSize:"cover",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",boxSizing:"border-box",overflow:"hidden"},children:[_e.jsx(Qle,{}),n===null?_e.jsx($le,{setSessionId:e}):_e.jsx(Jle,{sessionId:n})]})}const tce=aw({typography:{fontFamily:'"TI Main Font", "TI Title Font", "Roboto", "Arial", sans-serif'},palette:{custom:{leader:{main:"#bd2932"},diplomacy:{main:"#d78d31"},politics:{main:"#eadd0b"},construction:{main:"#5e9e36"},trade:{main:"#1c9790"},warfare:{main:"#1378a4"},technology:{main:"#373a7b"},empire:{main:"#66376d"}}}});h5.createRoot(document.getElementById("root")).render(_e.jsx(te.StrictMode,{children:_e.jsx(tG,{theme:tce,children:_e.jsx(ece,{})})}));
