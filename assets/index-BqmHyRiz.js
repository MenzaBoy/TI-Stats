var VZ=Object.defineProperty;var jZ=(n,e,t)=>e in n?VZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var sn=(n,e,t)=>jZ(n,typeof e!="symbol"?e+"":e,t);function WZ(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function C0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eI={exports:{}},v_={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk;function YZ(){if(Zk)return v_;Zk=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return v_.Fragment=e,v_.jsx=t,v_.jsxs=t,v_}var eF;function XZ(){return eF||(eF=1,eI.exports=YZ()),eI.exports}var W=XZ(),tI={exports:{}},En={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function qZ(){if(tF)return En;tF=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(K){return K===null||typeof K!="object"?null:(K=h&&K[h]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function _(K,ae,ye){this.props=K,this.context=ae,this.refs=A,this.updater=ye||v}_.prototype.isReactComponent={},_.prototype.setState=function(K,ae){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ae,"setState")},_.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function x(){}x.prototype=_.prototype;function T(K,ae,ye){this.props=K,this.context=ae,this.refs=A,this.updater=ye||v}var C=T.prototype=new x;C.constructor=T,b(C,_.prototype),C.isPureReactComponent=!0;var M=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function B(K,ae,ye,Se,de,xe){return ye=xe.ref,{$$typeof:n,type:K,key:ae,ref:ye!==void 0?ye:null,props:xe}}function N(K,ae){return B(K.type,ae,void 0,void 0,void 0,K.props)}function P(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function I(K){var ae={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ye){return ae[ye]})}var F=/\/+/g;function U(K,ae){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):ae.toString(36)}function j(){}function q(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(j,j):(K.status="pending",K.then(function(ae){K.status==="pending"&&(K.status="fulfilled",K.value=ae)},function(ae){K.status==="pending"&&(K.status="rejected",K.reason=ae)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Z(K,ae,ye,Se,de){var xe=typeof K;(xe==="undefined"||xe==="boolean")&&(K=null);var pe=!1;if(K===null)pe=!0;else switch(xe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(K.$$typeof){case n:case e:pe=!0;break;case d:return pe=K._init,Z(pe(K._payload),ae,ye,Se,de)}}if(pe)return de=de(K),pe=Se===""?"."+U(K,0):Se,M(de)?(ye="",pe!=null&&(ye=pe.replace(F,"$&/")+"/"),Z(de,ae,ye,"",function(V){return V})):de!=null&&(P(de)&&(de=N(de,ye+(de.key==null||K&&K.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+pe)),ae.push(de)),1;pe=0;var He=Se===""?".":Se+":";if(M(K))for(var ve=0;ve<K.length;ve++)Se=K[ve],xe=He+U(Se,ve),pe+=Z(Se,ae,ye,xe,de);else if(ve=m(K),typeof ve=="function")for(K=ve.call(K),ve=0;!(Se=K.next()).done;)Se=Se.value,xe=He+U(Se,ve++),pe+=Z(Se,ae,ye,xe,de);else if(xe==="object"){if(typeof K.then=="function")return Z(q(K),ae,ye,Se,de);throw ae=String(K),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return pe}function H(K,ae,ye){if(K==null)return K;var Se=[],de=0;return Z(K,Se,"","",function(xe){return ae.call(ye,xe,de++)}),Se}function Y(K){if(K._status===-1){var ae=K._result;ae=ae(),ae.then(function(ye){(K._status===0||K._status===-1)&&(K._status=1,K._result=ye)},function(ye){(K._status===0||K._status===-1)&&(K._status=2,K._result=ye)}),K._status===-1&&(K._status=0,K._result=ae)}if(K._status===1)return K._result.default;throw K._result}var X=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ne(){}return En.Children={map:H,forEach:function(K,ae,ye){H(K,function(){ae.apply(this,arguments)},ye)},count:function(K){var ae=0;return H(K,function(){ae++}),ae},toArray:function(K){return H(K,function(ae){return ae})||[]},only:function(K){if(!P(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},En.Component=_,En.Fragment=t,En.Profiler=r,En.PureComponent=T,En.StrictMode=i,En.Suspense=l,En.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,En.__COMPILER_RUNTIME={__proto__:null,c:function(K){return O.H.useMemoCache(K)}},En.cache=function(K){return function(){return K.apply(null,arguments)}},En.cloneElement=function(K,ae,ye){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Se=b({},K.props),de=K.key,xe=void 0;if(ae!=null)for(pe in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(de=""+ae.key),ae)!R.call(ae,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ae.ref===void 0||(Se[pe]=ae[pe]);var pe=arguments.length-2;if(pe===1)Se.children=ye;else if(1<pe){for(var He=Array(pe),ve=0;ve<pe;ve++)He[ve]=arguments[ve+2];Se.children=He}return B(K.type,de,void 0,void 0,xe,Se)},En.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},En.createElement=function(K,ae,ye){var Se,de={},xe=null;if(ae!=null)for(Se in ae.key!==void 0&&(xe=""+ae.key),ae)R.call(ae,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(de[Se]=ae[Se]);var pe=arguments.length-2;if(pe===1)de.children=ye;else if(1<pe){for(var He=Array(pe),ve=0;ve<pe;ve++)He[ve]=arguments[ve+2];de.children=He}if(K&&K.defaultProps)for(Se in pe=K.defaultProps,pe)de[Se]===void 0&&(de[Se]=pe[Se]);return B(K,xe,void 0,void 0,null,de)},En.createRef=function(){return{current:null}},En.forwardRef=function(K){return{$$typeof:o,render:K}},En.isValidElement=P,En.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:Y}},En.memo=function(K,ae){return{$$typeof:c,type:K,compare:ae===void 0?null:ae}},En.startTransition=function(K){var ae=O.T,ye={};O.T=ye;try{var Se=K(),de=O.S;de!==null&&de(ye,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(ne,X)}catch(xe){X(xe)}finally{O.T=ae}},En.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},En.use=function(K){return O.H.use(K)},En.useActionState=function(K,ae,ye){return O.H.useActionState(K,ae,ye)},En.useCallback=function(K,ae){return O.H.useCallback(K,ae)},En.useContext=function(K){return O.H.useContext(K)},En.useDebugValue=function(){},En.useDeferredValue=function(K,ae){return O.H.useDeferredValue(K,ae)},En.useEffect=function(K,ae,ye){var Se=O.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(K,ae)},En.useId=function(){return O.H.useId()},En.useImperativeHandle=function(K,ae,ye){return O.H.useImperativeHandle(K,ae,ye)},En.useInsertionEffect=function(K,ae){return O.H.useInsertionEffect(K,ae)},En.useLayoutEffect=function(K,ae){return O.H.useLayoutEffect(K,ae)},En.useMemo=function(K,ae){return O.H.useMemo(K,ae)},En.useOptimistic=function(K,ae){return O.H.useOptimistic(K,ae)},En.useReducer=function(K,ae,ye){return O.H.useReducer(K,ae,ye)},En.useRef=function(K){return O.H.useRef(K)},En.useState=function(K){return O.H.useState(K)},En.useSyncExternalStore=function(K,ae,ye){return O.H.useSyncExternalStore(K,ae,ye)},En.useTransition=function(){return O.H.useTransition()},En.version="19.1.0",En}var nF;function T0(){return nF||(nF=1,tI.exports=qZ()),tI.exports}var G=T0();const to=C0(G),uT=WZ({__proto__:null,default:to},[G]);var nI={exports:{}},b_={},iI={exports:{}},rI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF;function $Z(){return iF||(iF=1,function(n){function e(H,Y){var X=H.length;H.push(Y);e:for(;0<X;){var ne=X-1>>>1,K=H[ne];if(0<r(K,Y))H[ne]=Y,H[X]=K,X=ne;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],X=H.pop();if(X!==Y){H[0]=X;e:for(var ne=0,K=H.length,ae=K>>>1;ne<ae;){var ye=2*(ne+1)-1,Se=H[ye],de=ye+1,xe=H[de];if(0>r(Se,X))de<K&&0>r(xe,Se)?(H[ne]=xe,H[de]=X,ne=de):(H[ne]=Se,H[ye]=X,ne=ye);else if(de<K&&0>r(xe,X))H[ne]=xe,H[de]=X,ne=de;else break e}}return Y}function r(H,Y){var X=H.sortIndex-Y.sortIndex;return X!==0?X:H.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,m=3,v=!1,b=!1,A=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=H)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function O(H){if(A=!1,M(H),!b)if(t(l)!==null)b=!0,R||(R=!0,U());else{var Y=t(c);Y!==null&&Z(O,Y.startTime-H)}}var R=!1,B=-1,N=5,P=-1;function I(){return _?!0:!(n.unstable_now()-P<N)}function F(){if(_=!1,R){var H=n.unstable_now();P=H;var Y=!0;try{e:{b=!1,A&&(A=!1,T(B),B=-1),v=!0;var X=m;try{t:{for(M(H),h=t(l);h!==null&&!(h.expirationTime>H&&I());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,m=h.priorityLevel;var K=ne(h.expirationTime<=H);if(H=n.unstable_now(),typeof K=="function"){h.callback=K,M(H),Y=!0;break t}h===t(l)&&i(l),M(H)}else i(l);h=t(l)}if(h!==null)Y=!0;else{var ae=t(c);ae!==null&&Z(O,ae.startTime-H),Y=!1}}break e}finally{h=null,m=X,v=!1}Y=void 0}}finally{Y?U():R=!1}}}var U;if(typeof C=="function")U=function(){C(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=F,U=function(){q.postMessage(null)}}else U=function(){x(F,0)};function Z(H,Y){B=x(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var X=m;m=Y;try{return H()}finally{m=X}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return Y()}finally{m=X}},n.unstable_scheduleCallback=function(H,Y,X){var ne=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,H={id:d++,callback:Y,priorityLevel:H,startTime:X,expirationTime:K,sortIndex:-1},X>ne?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(A?(T(B),B=-1):A=!0,Z(O,X-ne))):(H.sortIndex=K,e(l,H),b||v||(b=!0,R||(R=!0,U()))),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var Y=m;return function(){var X=m;m=Y;try{return H.apply(this,arguments)}finally{m=X}}}}(rI)),rI}var rF;function KZ(){return rF||(rF=1,iI.exports=$Z()),iI.exports}var sI={exports:{}},Qs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sF;function JZ(){if(sF)return Qs;sF=1;var n=T0();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Qs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qs.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,d)},Qs.flushSync=function(l){var c=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=c,i.p=d,i.d.f()}},Qs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},Qs.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Qs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=o(d,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Qs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},Qs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=o(d,c.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Qs.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},Qs.requestFormReset=function(l){i.d.r(l)},Qs.unstable_batchedUpdates=function(l,c){return l(c)},Qs.useFormState=function(l,c,d){return a.H.useFormState(l,c,d)},Qs.useFormStatus=function(){return a.H.useHostTransitionStatus()},Qs.version="19.1.0",Qs}var aF;function A8(){if(aF)return sI.exports;aF=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sI.exports=JZ(),sI.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF;function QZ(){if(oF)return b_;oF=1;var n=KZ(),e=T0(),t=A8();function i(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function a(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function o(u){if(s(u)!==u)throw Error(i(188))}function l(u){var f=u.alternate;if(!f){if(f=s(u),f===null)throw Error(i(188));return f!==u?null:u}for(var y=u,S=f;;){var w=y.return;if(w===null)break;var L=w.alternate;if(L===null){if(S=w.return,S!==null){y=S;continue}break}if(w.child===L.child){for(L=w.child;L;){if(L===y)return o(w),u;if(L===S)return o(w),f;L=L.sibling}throw Error(i(188))}if(y.return!==S.return)y=w,S=L;else{for(var J=!1,re=w.child;re;){if(re===y){J=!0,y=w,S=L;break}if(re===S){J=!0,S=w,y=L;break}re=re.sibling}if(!J){for(re=L.child;re;){if(re===y){J=!0,y=L,S=w;break}if(re===S){J=!0,S=L,y=w;break}re=re.sibling}if(!J)throw Error(i(189))}}if(y.alternate!==S)throw Error(i(190))}if(y.tag!==3)throw Error(i(188));return y.stateNode.current===y?u:f}function c(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=c(u),f!==null)return f;u=u.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(u){return u===null||typeof u!="object"?null:(u=F&&u[F]||u["@@iterator"],typeof u=="function"?u:null)}var j=Symbol.for("react.client.reference");function q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===j?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case b:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case P:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case C:return(u.displayName||"Context")+".Provider";case T:return(u._context.displayName||"Context")+".Consumer";case M:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case B:return f=u.displayName||null,f!==null?f:q(u.type)||"Memo";case N:f=u._payload,u=u._init;try{return q(u(f))}catch{}}return null}var Z=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ne=[],K=-1;function ae(u){return{current:u}}function ye(u){0>K||(u.current=ne[K],ne[K]=null,K--)}function Se(u,f){K++,ne[K]=u.current,u.current=f}var de=ae(null),xe=ae(null),pe=ae(null),He=ae(null);function ve(u,f){switch(Se(pe,f),Se(xe,u),Se(de,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?Mk(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=Mk(f),u=wk(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ye(de),Se(de,u)}function V(){ye(de),ye(xe),ye(pe)}function ee(u){u.memoizedState!==null&&Se(He,u);var f=de.current,y=wk(f,u.type);f!==y&&(Se(xe,u),Se(de,y))}function oe(u){xe.current===u&&(ye(de),ye(xe)),He.current===u&&(ye(He),h_._currentValue=X)}var ue=Object.prototype.hasOwnProperty,_e=n.unstable_scheduleCallback,Q=n.unstable_cancelCallback,Oe=n.unstable_shouldYield,we=n.unstable_requestPaint,ke=n.unstable_now,Ce=n.unstable_getCurrentPriorityLevel,ut=n.unstable_ImmediatePriority,De=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,$=n.unstable_LowPriority,Ae=n.unstable_IdlePriority,Le=n.log,Qe=n.unstable_setDisableYieldValue,ze=null,ft=null;function ct(u){if(typeof Le=="function"&&Qe(u),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(ze,u)}catch{}}var Et=Math.clz32?Math.clz32:ht,Ct=Math.log,je=Math.LN2;function ht(u){return u>>>=0,u===0?32:31-(Ct(u)/je|0)|0}var Dt=256,wt=4194304;function yt(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ge(u,f,y){var S=u.pendingLanes;if(S===0)return 0;var w=0,L=u.suspendedLanes,J=u.pingedLanes;u=u.warmLanes;var re=S&134217727;return re!==0?(S=re&~L,S!==0?w=yt(S):(J&=re,J!==0?w=yt(J):y||(y=re&~u,y!==0&&(w=yt(y))))):(re=S&~L,re!==0?w=yt(re):J!==0?w=yt(J):y||(y=S&~u,y!==0&&(w=yt(y)))),w===0?0:f!==0&&f!==w&&(f&L)===0&&(L=w&-w,y=f&-f,L>=y||L===32&&(y&4194048)!==0)?f:w}function Xe(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function gt(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ce(){var u=Dt;return Dt<<=1,(Dt&4194048)===0&&(Dt=256),u}function et(){var u=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),u}function Pe(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function $e(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function vt(u,f,y,S,w,L){var J=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var re=u.entanglements,he=u.expirationTimes,Fe=u.hiddenUpdates;for(y=J&~y;0<y;){var it=31-Et(y),at=1<<it;re[it]=0,he[it]=-1;var Ve=Fe[it];if(Ve!==null)for(Fe[it]=null,it=0;it<Ve.length;it++){var We=Ve[it];We!==null&&(We.lane&=-536870913)}y&=~at}S!==0&&mt(u,S,0),L!==0&&w===0&&u.tag!==0&&(u.suspendedLanes|=L&~(J&~f))}function mt(u,f,y){u.pendingLanes|=f,u.suspendedLanes&=~f;var S=31-Et(f);u.entangledLanes|=f,u.entanglements[S]=u.entanglements[S]|1073741824|y&4194090}function Ut(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var S=31-Et(y),w=1<<S;w&f|u[S]&f&&(u[S]|=f),y&=~w}}function tn(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Hn(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Qt(){var u=Y.p;return u!==0?u:(u=window.event,u===void 0?32:Xk(u.type))}function Bi(u,f){var y=Y.p;try{return Y.p=u,f()}finally{Y.p=y}}var pi=Math.random().toString(36).slice(2),vi="__reactFiber$"+pi,Mi="__reactProps$"+pi,qi="__reactContainer$"+pi,kr="__reactEvents$"+pi,kl="__reactListeners$"+pi,Rs="__reactHandles$"+pi,wr="__reactResources$"+pi,$r="__reactMarker$"+pi;function nn(u){delete u[vi],delete u[Mi],delete u[kr],delete u[kl],delete u[Rs]}function ti(u){var f=u[vi];if(f)return f;for(var y=u.parentNode;y;){if(f=y[qi]||y[vi]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(u=Ok(u);u!==null;){if(y=u[vi])return y;u=Ok(u)}return f}u=y,y=u.parentNode}return null}function mr(u){if(u=u[vi]||u[qi]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function ka(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(i(33))}function Ds(u){var f=u[wr];return f||(f=u[wr]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Li(u){u[$r]=!0}var Ze=new Set,Je={};function Mt(u,f){te(u,f),te(u+"Capture",f)}function te(u,f){for(Je[u]=f,u=0;u<f.length;u++)Ze.add(f[u])}var fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ne={},Be={};function Me(u){return ue.call(Be,u)?!0:ue.call(Ne,u)?!1:fe.test(u)?Be[u]=!0:(Ne[u]=!0,!1)}function ot(u,f,y){if(Me(f))if(y===null)u.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+y)}}function _t(u,f,y){if(y===null)u.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+y)}}function xt(u,f,y,S){if(S===null)u.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(y);return}u.setAttributeNS(f,y,""+S)}}var It,St;function kt(u){if(It===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);It=f&&f[1]||"",St=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+u+St}var Lt=!1;function hn(u,f){if(!u||Lt)return"";Lt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(We){var Ve=We}Reflect.construct(u,[],at)}else{try{at.call()}catch(We){Ve=We}u.call(at.prototype)}}else{try{throw Error()}catch(We){Ve=We}(at=u())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(We){if(We&&Ve&&typeof We.stack=="string")return[We.stack,Ve.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),J=L[0],re=L[1];if(J&&re){var he=J.split(`
`),Fe=re.split(`
`);for(w=S=0;S<he.length&&!he[S].includes("DetermineComponentFrameRoot");)S++;for(;w<Fe.length&&!Fe[w].includes("DetermineComponentFrameRoot");)w++;if(S===he.length||w===Fe.length)for(S=he.length-1,w=Fe.length-1;1<=S&&0<=w&&he[S]!==Fe[w];)w--;for(;1<=S&&0<=w;S--,w--)if(he[S]!==Fe[w]){if(S!==1||w!==1)do if(S--,w--,0>w||he[S]!==Fe[w]){var it=`
`+he[S].replace(" at new "," at ");return u.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",u.displayName)),it}while(1<=S&&0<=w);break}}}finally{Lt=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?kt(y):""}function jn(u){switch(u.tag){case 26:case 27:case 5:return kt(u.type);case 16:return kt("Lazy");case 13:return kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return hn(u.type,!1);case 11:return hn(u.type.render,!1);case 1:return hn(u.type,!0);case 31:return kt("Activity");default:return""}}function zi(u){try{var f="";do f+=jn(u),u=u.return;while(u);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function Dn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function On(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Vt(u){var f=On(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),S=""+u[f];if(!u.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,L=y.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return w.call(this)},set:function(J){S=""+J,L.call(this,J)}}),Object.defineProperty(u,f,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(J){S=""+J},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function ji(u){u._valueTracker||(u._valueTracker=Vt(u))}function zn(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var y=f.getValue(),S="";return u&&(S=On(u)?u.checked?"true":"false":u.value),u=S,u!==y?(f.setValue(u),!0):!1}function Kr(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $o=/[\n"\\]/g;function bi(u){return u.replace($o,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ko(u,f,y,S,w,L,J,re){u.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?u.type=J:u.removeAttribute("type"),f!=null?J==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+Dn(f)):u.value!==""+Dn(f)&&(u.value=""+Dn(f)):J!=="submit"&&J!=="reset"||u.removeAttribute("value"),f!=null?Jr(u,J,Dn(f)):y!=null?Jr(u,J,Dn(y)):S!=null&&u.removeAttribute("value"),w==null&&L!=null&&(u.defaultChecked=!!L),w!=null&&(u.checked=w&&typeof w!="function"&&typeof w!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?u.name=""+Dn(re):u.removeAttribute("name")}function mi(u,f,y,S,w,L,J,re){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(u.type=L),f!=null||y!=null){if(!(L!=="submit"&&L!=="reset"||f!=null))return;y=y!=null?""+Dn(y):"",f=f!=null?""+Dn(f):y,re||f===u.value||(u.value=f),u.defaultValue=f}S=S??w,S=typeof S!="function"&&typeof S!="symbol"&&!!S,u.checked=re?u.checked:!!S,u.defaultChecked=!!S,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(u.name=J)}function Jr(u,f,y){f==="number"&&Kr(u.ownerDocument)===u||u.defaultValue===""+y||(u.defaultValue=""+y)}function gr(u,f,y,S){if(u=u.options,f){f={};for(var w=0;w<y.length;w++)f["$"+y[w]]=!0;for(y=0;y<u.length;y++)w=f.hasOwnProperty("$"+u[y].value),u[y].selected!==w&&(u[y].selected=w),w&&S&&(u[y].defaultSelected=!0)}else{for(y=""+Dn(y),f=null,w=0;w<u.length;w++){if(u[w].value===y){u[w].selected=!0,S&&(u[w].defaultSelected=!0);return}f!==null||u[w].disabled||(f=u[w])}f!==null&&(f.selected=!0)}}function Fr(u,f,y){if(f!=null&&(f=""+Dn(f),f!==u.value&&(u.value=f),y==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=y!=null?""+Dn(y):""}function Hr(u,f,y,S){if(f==null){if(S!=null){if(y!=null)throw Error(i(92));if(Z(S)){if(1<S.length)throw Error(i(93));S=S[0]}y=S}y==null&&(y=""),f=y}y=Dn(f),u.defaultValue=y,S=u.textContent,S===y&&S!==""&&S!==null&&(u.value=S)}function Is(u,f){if(f){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=f;return}}u.textContent=f}var Jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function np(u,f,y){var S=f.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":S?u.setProperty(f,y):typeof y!="number"||y===0||Jo.has(f)?f==="float"?u.cssFloat=y:u[f]=(""+y).trim():u[f]=y+"px"}function ip(u,f,y){if(f!=null&&typeof f!="object")throw Error(i(62));if(u=u.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?u.setProperty(S,""):S==="float"?u.cssFloat="":u[S]="");for(var w in f)S=f[w],f.hasOwnProperty(w)&&y[w]!==S&&np(u,w,S)}else for(var L in f)f.hasOwnProperty(L)&&np(u,L,f[L])}function Mg(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rp(u){return NA.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var wg=null;function Rg(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oc=null,Uu=null;function ab(u){var f=mr(u);if(f&&(u=f.stateNode)){var y=u[Mi]||null;e:switch(u=f.stateNode,f.type){case"input":if(Ko(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),f=y.name,y.type==="radio"&&f!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+bi(""+f)+'"][type="radio"]'),f=0;f<y.length;f++){var S=y[f];if(S!==u&&S.form===u.form){var w=S[Mi]||null;if(!w)throw Error(i(90));Ko(S,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(f=0;f<y.length;f++)S=y[f],S.form===u.form&&zn(S)}break e;case"textarea":Fr(u,y.value,y.defaultValue);break e;case"select":f=y.value,f!=null&&gr(u,!!y.multiple,f,!1)}}}var sp=!1;function ob(u,f,y){if(sp)return u(f,y);sp=!0;try{var S=u(f);return S}finally{if(sp=!1,(Oc!==null||Uu!==null)&&(hl(),Oc&&(f=Oc,u=Uu,Uu=Oc=null,ab(f),u)))for(f=0;f<u.length;f++)ab(u[f])}}function lf(u,f){var y=u.stateNode;if(y===null)return null;var S=y[Mi]||null;if(S===null)return null;y=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(i(231,f,typeof y));return y}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=!1;if(Qo)try{var cf={};Object.defineProperty(cf,"passive",{get:function(){ap=!0}}),window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{ap=!1}var Fl=null,lb=null,Dg=null;function cb(){if(Dg)return Dg;var u,f=lb,y=f.length,S,w="value"in Fl?Fl.value:Fl.textContent,L=w.length;for(u=0;u<y&&f[u]===w[u];u++);var J=y-u;for(S=1;S<=J&&f[y-S]===w[L-S];S++);return Dg=w.slice(u,1<S?1-S:void 0)}function Pc(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function uf(){return!0}function op(){return!1}function Os(u){function f(y,S,w,L,J){this._reactName=y,this._targetInst=w,this.type=S,this.nativeEvent=L,this.target=J,this.currentTarget=null;for(var re in u)u.hasOwnProperty(re)&&(y=u[re],this[re]=y?y(L):L[re]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?uf:op,this.isPropagationStopped=op,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=uf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=uf)},persist:function(){},isPersistent:uf}),f}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=Os(Nc),ff=d({},Nc,{view:0,detail:0}),BA=Os(ff),Hl,hf,pf,mf=d({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==pf&&(pf&&u.type==="mousemove"?(Hl=u.screenX-pf.screenX,hf=u.screenY-pf.screenY):hf=Hl=0,pf=u),Hl)},movementY:function(u){return"movementY"in u?u.movementY:hf}}),ub=Os(mf),LA=d({},mf,{dataTransfer:0}),vD=Os(LA),Qr=d({},ff,{relatedTarget:0}),Ig=Os(Qr),UA=d({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=Os(UA),FA=d({},Nc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),HA=Os(FA),lp=d({},Nc,{data:0}),Og=Os(lp),zA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=VA[u])?!!f[u]:!1}function cp(){return db}var jA=d({},ff,{key:function(u){if(u.key){var f=zA[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Pc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?GA[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(u){return u.type==="keypress"?Pc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Pc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),fb=Os(jA),hb=d({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Os(hb),WA=d({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),pb=Os(WA),YA=d({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),zl=Os(YA),mb=d({},mf,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),bD=Os(mb),XA=d({},Nc,{newState:0,oldState:0}),Bc=Os(XA),Gl=[9,13,27,32],up=Qo&&"CompositionEvent"in window,ku=null;Qo&&"documentMode"in document&&(ku=document.documentMode);var dp=Qo&&"TextEvent"in window&&!ku,fp=Qo&&(!up||ku&&8<ku&&11>=ku),Lc=" ",Zr=!1;function hp(u,f){switch(u){case"keyup":return Gl.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gb(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Uc=!1;function pp(u,f){switch(u){case"compositionend":return gb(f);case"keypress":return f.which!==32?null:(Zr=!0,Lc);case"textInput":return u=f.data,u===Lc&&Zr?null:u;default:return null}}function yb(u,f){if(Uc)return u==="compositionend"||!up&&hp(u,f)?(u=cb(),Dg=lb=Fl=null,Uc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return fp&&f.locale!=="ko"?null:f.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vb(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Ng[u.type]:f==="textarea"}function js(u,f,y,S){Oc?Uu?Uu.push(S):Uu=[S]:Oc=S,f=YE(f,"onChange"),0<f.length&&(y=new df("onChange","change",null,y,S),u.push({event:y,listeners:f}))}var gf=null,Fu=null;function qA(u){Sk(u,0)}function mp(u){var f=ka(u);if(zn(f))return u}function Bg(u,f){if(u==="change")return f}var Lg=!1;if(Qo){var Ug;if(Qo){var yf="oninput"in document;if(!yf){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),yf=typeof vf.oninput=="function"}Ug=yf}else Ug=!1;Lg=Ug&&(!document.documentMode||9<document.documentMode)}function Gi(){gf&&(gf.detachEvent("onpropertychange",$A),Fu=gf=null)}function $A(u){if(u.propertyName==="value"&&mp(Fu)){var f=[];js(f,Fu,u,Rg(u)),ob(qA,f)}}function _D(u,f,y){u==="focusin"?(Gi(),gf=f,Fu=y,gf.attachEvent("onpropertychange",$A)):u==="focusout"&&Gi()}function KA(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return mp(Fu)}function gp(u,f){if(u==="click")return mp(f)}function kc(u,f){if(u==="input"||u==="change")return mp(f)}function JA(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Ws=typeof Object.is=="function"?Object.is:JA;function vo(u,f){if(Ws(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var w=y[S];if(!ue.call(f,w)||!Ws(u[w],f[w]))return!1}return!0}function Ys(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function bb(u,f){var y=Ys(u);u=0;for(var S;y;){if(y.nodeType===3){if(S=u+y.textContent.length,u<=f&&S>=f)return{node:y,offset:f-u};u=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Ys(y)}}function _b(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?_b(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function xb(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Kr(u.document);f instanceof u.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)u=f.contentWindow;else break;f=Kr(u.document)}return f}function yp(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var Sb=Qo&&"documentMode"in document&&11>=document.documentMode,Vl=null,kg=null,vp=null,Fg=!1;function Ab(u,f,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Fg||Vl==null||Vl!==Kr(S)||(S=Vl,"selectionStart"in S&&yp(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),vp&&vo(vp,S)||(vp=S,S=YE(kg,"onSelect"),0<S.length&&(f=new df("onSelect","select",null,f,y),u.push({event:f,listeners:S}),f.target=Vl)))}function es(u,f){var y={};return y[u.toLowerCase()]=f.toLowerCase(),y["Webkit"+u]="webkit"+f,y["Moz"+u]="moz"+f,y}var Fc={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Hg={},QA={};Qo&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function jl(u){if(Hg[u])return Hg[u];if(!Fc[u])return u;var f=Fc[u],y;for(y in f)if(f.hasOwnProperty(y)&&y in QA)return Hg[u]=f[y];return u}var Ps=jl("animationend"),Eb=jl("animationiteration"),Xs=jl("animationstart"),ZA=jl("transitionrun"),Wl=jl("transitionstart"),bf=jl("transitioncancel"),Yl=jl("transitionend"),zg=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bp.push("scrollEnd");function zr(u,f){zg.set(u,f),Mt(f,[u])}var Cb=new WeakMap;function ts(u,f){if(typeof u=="object"&&u!==null){var y=Cb.get(u);return y!==void 0?y:(f={value:u,source:f,stack:zi(f)},Cb.set(u,f),f)}return{value:u,source:f,stack:zi(f)}}var hs=[],Fa=0,Gg=0;function _p(){for(var u=Fa,f=Gg=Fa=0;f<u;){var y=hs[f];hs[f++]=null;var S=hs[f];hs[f++]=null;var w=hs[f];hs[f++]=null;var L=hs[f];if(hs[f++]=null,S!==null&&w!==null){var J=S.pending;J===null?w.next=w:(w.next=J.next,J.next=w),S.pending=w}L!==0&&Tb(y,w,L)}}function Hc(u,f,y,S){hs[Fa++]=u,hs[Fa++]=f,hs[Fa++]=y,hs[Fa++]=S,Gg|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function Vg(u,f,y,S){return Hc(u,f,y,S),_f(u)}function Xl(u,f){return Hc(u,null,null,f),_f(u)}function Tb(u,f,y){u.lanes|=y;var S=u.alternate;S!==null&&(S.lanes|=y);for(var w=!1,L=u.return;L!==null;)L.childLanes|=y,S=L.alternate,S!==null&&(S.childLanes|=y),L.tag===22&&(u=L.stateNode,u===null||u._visibility&1||(w=!0)),u=L,L=L.return;return u.tag===3?(L=u.stateNode,w&&f!==null&&(w=31-Et(y),u=L.hiddenUpdates,S=u[w],S===null?u[w]=[f]:S.push(f),f.lane=y|536870912),L):null}function _f(u){if(50<fl)throw fl=0,id=null,Error(i(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var zc={};function Mb(u,f,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(u,f,y,S){return new Mb(u,f,y,S)}function xp(u){return u=u.prototype,!(!u||!u.isReactComponent)}function sr(u,f){var y=u.alternate;return y===null?(y=qs(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&65011712,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function wb(u,f){u.flags&=65011714;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,f=y.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Gr(u,f,y,S,w,L){var J=0;if(S=u,typeof u=="function")xp(u)&&(J=1);else if(typeof u=="string")J=DZ(u,y,de.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case P:return u=qs(31,y,f,w),u.elementType=P,u.lanes=L,u;case b:return Gc(y.children,w,L,f);case A:J=8,w|=24;break;case _:return u=qs(12,y,f,w|2),u.elementType=_,u.lanes=L,u;case O:return u=qs(13,y,f,w),u.elementType=O,u.lanes=L,u;case R:return u=qs(19,y,f,w),u.elementType=R,u.lanes=L,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case x:case C:J=10;break e;case T:J=9;break e;case M:J=11;break e;case B:J=14;break e;case N:J=16,S=null;break e}J=29,y=Error(i(130,u===null?"null":typeof u,"")),S=null}return f=qs(J,y,f,w),f.elementType=u,f.type=S,f.lanes=L,f}function Gc(u,f,y,S){return u=qs(7,u,S,f),u.lanes=y,u}function Sp(u,f,y){return u=qs(6,u,null,f),u.lanes=y,u}function jg(u,f,y){return f=qs(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var xf=[],$s=0,Ap=null,Sf=0,ns=[],ha=0,Vc=null,Zo=1,el="";function ql(u,f){xf[$s++]=Sf,xf[$s++]=Ap,Ap=u,Sf=f}function Wg(u,f,y){ns[ha++]=Zo,ns[ha++]=el,ns[ha++]=Vc,Vc=u;var S=Zo;u=el;var w=32-Et(S)-1;S&=~(1<<w),y+=1;var L=32-Et(f)+w;if(30<L){var J=w-w%5;L=(S&(1<<J)-1).toString(32),S>>=J,w-=J,Zo=1<<32-Et(f)+w|y<<w|S,el=L+u}else Zo=1<<L|y<<w|S,el=u}function Rb(u){u.return!==null&&(ql(u,1),Wg(u,1,0))}function Db(u){for(;u===Ap;)Ap=xf[--$s],xf[$s]=null,Sf=xf[--$s],xf[$s]=null;for(;u===Vc;)Vc=ns[--ha],ns[ha]=null,el=ns[--ha],ns[ha]=null,Zo=ns[--ha],ns[ha]=null}var Ns=null,Wi=null,$n=!1,Ha=null,pa=!1,Yg=Error(i(519));function jc(u){var f=Error(i(418,""));throw Hu(ts(f,u)),Yg}function eE(u){var f=u.stateNode,y=u.type,S=u.memoizedProps;switch(f[vi]=u,f[Mi]=S,y){case"dialog":Ln("cancel",f),Ln("close",f);break;case"iframe":case"object":case"embed":Ln("load",f);break;case"video":case"audio":for(y=0;y<o_.length;y++)Ln(o_[y],f);break;case"source":Ln("error",f);break;case"img":case"image":case"link":Ln("error",f),Ln("load",f);break;case"details":Ln("toggle",f);break;case"input":Ln("invalid",f),mi(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),ji(f);break;case"select":Ln("invalid",f);break;case"textarea":Ln("invalid",f),Hr(f,S.value,S.defaultValue,S.children),ji(f)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||f.textContent===""+y||S.suppressHydrationWarning===!0||Tk(f.textContent,y)?(S.popover!=null&&(Ln("beforetoggle",f),Ln("toggle",f)),S.onScroll!=null&&Ln("scroll",f),S.onScrollEnd!=null&&Ln("scrollend",f),S.onClick!=null&&(f.onclick=XE),f=!0):f=!1,f||jc(u)}function Ib(u){for(Ns=u.return;Ns;)switch(Ns.tag){case 5:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:Ns=Ns.return}}function bo(u){if(u!==Ns)return!1;if(!$n)return Ib(u),$n=!0,!1;var f=u.tag,y;if((y=f!==3&&f!==27)&&((y=f===5)&&(y=u.type,y=!(y!=="form"&&y!=="button")||HD(u.type,u.memoizedProps)),y=!y),y&&Wi&&jc(u),Ib(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(y=u.data,y==="/$"){if(f===0){Wi=lc(u.nextSibling);break e}f--}else y!=="$"&&y!=="$!"&&y!=="$?"||f++;u=u.nextSibling}Wi=null}}else f===27?(f=Wi,Xf(u.type)?(u=jD,jD=null,Wi=u):Wi=f):Wi=Ns?lc(u.stateNode.nextSibling):null;return!0}function Af(){Wi=Ns=null,$n=!1}function ni(){var u=Ha;return u!==null&&(qt===null?qt=u:qt.push.apply(qt,u),Ha=null),u}function Hu(u){Ha===null?Ha=[u]:Ha.push(u)}var Ob=ae(null),Wc=null,$l=null;function Yc(u,f,y){Se(Ob,f._currentValue),f._currentValue=y}function Kl(u){u._currentValue=Ob.current,ye(Ob)}function Pb(u,f,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===y)break;u=u.return}}function Ep(u,f,y,S){var w=u.child;for(w!==null&&(w.return=u);w!==null;){var L=w.dependencies;if(L!==null){var J=w.child;L=L.firstContext;e:for(;L!==null;){var re=L;L=w;for(var he=0;he<f.length;he++)if(re.context===f[he]){L.lanes|=y,re=L.alternate,re!==null&&(re.lanes|=y),Pb(L.return,y,u),S||(J=null);break e}L=re.next}}else if(w.tag===18){if(J=w.return,J===null)throw Error(i(341));J.lanes|=y,L=J.alternate,L!==null&&(L.lanes|=y),Pb(J,y,u),J=null}else J=w.child;if(J!==null)J.return=w;else for(J=w;J!==null;){if(J===u){J=null;break}if(w=J.sibling,w!==null){w.return=J.return,J=w;break}J=J.return}w=J}}function za(u,f,y,S){u=null;for(var w=f,L=!1;w!==null;){if(!L){if((w.flags&524288)!==0)L=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var J=w.alternate;if(J===null)throw Error(i(387));if(J=J.memoizedProps,J!==null){var re=w.type;Ws(w.pendingProps.value,J.value)||(u!==null?u.push(re):u=[re])}}else if(w===He.current){if(J=w.alternate,J===null)throw Error(i(387));J.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(u!==null?u.push(h_):u=[h_])}w=w.return}u!==null&&Ep(f,u,y,S),f.flags|=262144}function Cp(u){for(u=u.firstContext;u!==null;){if(!Ws(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function tl(u){Wc=u,$l=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function $i(u){return Xg(Wc,u)}function Tp(u,f){return Wc===null&&tl(u),Xg(u,f)}function Xg(u,f){var y=f._currentValue;if(f={context:f,memoizedValue:y,next:null},$l===null){if(u===null)throw Error(i(308));$l=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else $l=$l.next=f;return y}var Nb=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(y,S){u.push(S)}};this.abort=function(){f.aborted=!0,u.forEach(function(y){return y()})}},xD=n.unstable_scheduleCallback,tE=n.unstable_NormalPriority,yr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qg(){return{controller:new Nb,data:new Map,refCount:0}}function Ef(u){u.refCount--,u.refCount===0&&xD(tE,function(){u.controller.abort()})}var Cf=null,Mp=0,gn=0,Tf=null;function ma(u,f){if(Cf===null){var y=Cf=[];Mp=0,gn=ID(),Tf={status:"pending",value:void 0,then:function(S){y.push(S)}}}return Mp++,f.then($g,$g),f}function $g(){if(--Mp===0&&Cf!==null){Tf!==null&&(Tf.status="fulfilled");var u=Cf;Cf=null,gn=0,Tf=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function SD(u,f){var y=[],S={status:"pending",value:null,reason:null,then:function(w){y.push(w)}};return u.then(function(){S.status="fulfilled",S.value=f;for(var w=0;w<y.length;w++)(0,y[w])(f)},function(w){for(S.status="rejected",S.reason=w,w=0;w<y.length;w++)(0,y[w])(void 0)}),S}var wp=H.S;H.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&ma(u,f),wp!==null&&wp(u,f)};var Ga=ae(null);function Xc(){var u=Ga.current;return u!==null?u:pn.pooledCache}function Rp(u,f){f===null?Se(Ga,Ga.current):Se(Ga,f.pool)}function Kg(){var u=Xc();return u===null?null:{parent:yr._currentValue,pool:u}}var Dp=Error(i(460)),Bb=Error(i(474)),_o=Error(i(542)),Ip={then:function(){}};function Jg(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Mf(){}function Qg(u,f,y){switch(y=u[y],y===void 0?u.push(f):y!==f&&(f.then(Mf,Mf),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,nE(u),u;default:if(typeof f.status=="string")f.then(Mf,Mf);else{if(u=pn,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=f,u.status="pending",u.then(function(S){if(f.status==="pending"){var w=f;w.status="fulfilled",w.value=S}},function(S){if(f.status==="pending"){var w=f;w.status="rejected",w.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,nE(u),u}throw Va=f,Dp}}var Va=null;function Lb(){if(Va===null)throw Error(i(459));var u=Va;return Va=null,u}function nE(u){if(u===Dp||u===_o)throw Error(i(483))}var Jl=!1;function Ub(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function on(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function nl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ql(u,f,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(ii&2)!==0){var w=S.pending;return w===null?f.next=f:(f.next=w.next,w.next=f),S.pending=f,f=_f(u),Tb(u,null,y),f}return Hc(u,S,f,y),_f(u)}function zu(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194048)!==0)){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,Ut(u,y)}}function wf(u,f){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var w=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var J={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};L===null?w=L=J:L=L.next=J,y=y.next}while(y!==null);L===null?w=L=f:L=L.next=f}else w=L=f;y={baseState:S.baseState,firstBaseUpdate:w,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}var kb=!1;function Op(){if(kb){var u=Tf;if(u!==null)throw u}}function Rf(u,f,y,S){kb=!1;var w=u.updateQueue;Jl=!1;var L=w.firstBaseUpdate,J=w.lastBaseUpdate,re=w.shared.pending;if(re!==null){w.shared.pending=null;var he=re,Fe=he.next;he.next=null,J===null?L=Fe:J.next=Fe,J=he;var it=u.alternate;it!==null&&(it=it.updateQueue,re=it.lastBaseUpdate,re!==J&&(re===null?it.firstBaseUpdate=Fe:re.next=Fe,it.lastBaseUpdate=he))}if(L!==null){var at=w.baseState;J=0,it=Fe=he=null,re=L;do{var Ve=re.lane&-536870913,We=Ve!==re.lane;if(We?(jt&Ve)===Ve:(S&Ve)===Ve){Ve!==0&&Ve===gn&&(kb=!0),it!==null&&(it=it.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var un=u,Zt=re;Ve=f;var Oi=y;switch(Zt.tag){case 1:if(un=Zt.payload,typeof un=="function"){at=un.call(Oi,at,Ve);break e}at=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=Zt.payload,Ve=typeof un=="function"?un.call(Oi,at,Ve):un,Ve==null)break e;at=d({},at,Ve);break e;case 2:Jl=!0}}Ve=re.callback,Ve!==null&&(u.flags|=64,We&&(u.flags|=8192),We=w.callbacks,We===null?w.callbacks=[Ve]:We.push(Ve))}else We={lane:Ve,tag:re.tag,payload:re.payload,callback:re.callback,next:null},it===null?(Fe=it=We,he=at):it=it.next=We,J|=Ve;if(re=re.next,re===null){if(re=w.shared.pending,re===null)break;We=re,re=We.next,We.next=null,w.lastBaseUpdate=We,w.shared.pending=null}}while(!0);it===null&&(he=at),w.baseState=he,w.firstBaseUpdate=Fe,w.lastBaseUpdate=it,L===null&&(w.shared.lanes=0),wo|=J,u.lanes=J,u.memoizedState=at}}function Df(u,f){if(typeof u!="function")throw Error(i(191,u));u.call(f)}function iE(u,f){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)Df(y[u],f)}var If=ae(null),Zg=ae(0);function rE(u,f){u=$a,Se(Zg,u),Se(If,f),$a=u|f.baseLanes}function Fb(){Se(Zg,$a),Se(If,If.current)}function Pp(){$a=Zg.current,ye(If),ye(Zg)}var Zl=0,yn=null,ui=null,vr=null,ey=!1,qc=!1,Bs=!1,Rr=0,ja=0,is=null,sE=0;function ar(){throw Error(i(321))}function ps(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!Ws(u[y],f[y]))return!1;return!0}function ec(u,f,y,S,w,L){return Zl=L,yn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,H.H=u===null||u.memoizedState===null?cy:t_,Bs=!1,L=y(S,w),Bs=!1,qc&&(L=oE(f,y,S,w)),aE(u),L}function aE(u){H.H=Lp;var f=ui!==null&&ui.next!==null;if(Zl=0,vr=ui=yn=null,ey=!1,ja=0,is=null,f)throw Error(i(300));u===null||Vr||(u=u.dependencies,u!==null&&Cp(u)&&(Vr=!0))}function oE(u,f,y,S){yn=u;var w=0;do{if(qc&&(is=null),ja=0,qc=!1,25<=w)throw Error(i(301));if(w+=1,vr=ui=null,u.updateQueue!=null){var L=u.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}H.H=PE,L=f(y,S)}while(qc);return L}function AD(){var u=H.H,f=u.useState()[0];return f=typeof f.then=="function"?xo(f):f,u=u.useState()[0],(ui!==null?ui.memoizedState:null)!==u&&(yn.flags|=1024),f}function Hb(){var u=Rr!==0;return Rr=0,u}function ty(u,f,y){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~y}function zb(u){if(ey){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}ey=!1}Zl=0,vr=ui=yn=null,qc=!1,ja=Rr=0,is=null}function Ls(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?yn.memoizedState=vr=u:vr=vr.next=u,vr}function br(){if(ui===null){var u=yn.alternate;u=u!==null?u.memoizedState:null}else u=ui.next;var f=vr===null?yn.memoizedState:vr.next;if(f!==null)vr=f,ui=u;else{if(u===null)throw yn.alternate===null?Error(i(467)):Error(i(310));ui=u,u={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},vr===null?yn.memoizedState=vr=u:vr=vr.next=u}return vr}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(u){var f=ja;return ja+=1,is===null&&(is=[]),u=Qg(is,u,f),f=yn,(vr===null?f.memoizedState:vr.next)===null&&(f=f.alternate,H.H=f===null||f.memoizedState===null?cy:t_),u}function ny(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return xo(u);if(u.$$typeof===C)return $i(u)}throw Error(i(438,String(u)))}function Gb(u){var f=null,y=yn.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var S=yn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(w){return w.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=$c(),yn.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(u),S=0;S<u;S++)y[S]=I;return f.index++,y}function tc(u,f){return typeof f=="function"?f(u):f}function Kc(u){var f=br();return Vb(f,ui,u)}function Vb(u,f,y){var S=u.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=y;var w=u.baseQueue,L=S.pending;if(L!==null){if(w!==null){var J=w.next;w.next=L.next,L.next=J}f.baseQueue=w=L,S.pending=null}if(L=u.baseState,w===null)u.memoizedState=L;else{f=w.next;var re=J=null,he=null,Fe=f,it=!1;do{var at=Fe.lane&-536870913;if(at!==Fe.lane?(jt&at)===at:(Zl&at)===at){var Ve=Fe.revertLane;if(Ve===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),at===gn&&(it=!0);else if((Zl&Ve)===Ve){Fe=Fe.next,Ve===gn&&(it=!0);continue}else at={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},he===null?(re=he=at,J=L):he=he.next=at,yn.lanes|=Ve,wo|=Ve;at=Fe.action,Bs&&y(L,at),L=Fe.hasEagerState?Fe.eagerState:y(L,at)}else Ve={lane:at,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},he===null?(re=he=Ve,J=L):he=he.next=Ve,yn.lanes|=at,wo|=at;Fe=Fe.next}while(Fe!==null&&Fe!==f);if(he===null?J=L:he.next=re,!Ws(L,u.memoizedState)&&(Vr=!0,it&&(y=Tf,y!==null)))throw y;u.memoizedState=L,u.baseState=J,u.baseQueue=he,S.lastRenderedState=L}return w===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function jb(u){var f=br(),y=f.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=u;var S=y.dispatch,w=y.pending,L=f.memoizedState;if(w!==null){y.pending=null;var J=w=w.next;do L=u(L,J.action),J=J.next;while(J!==w);Ws(L,f.memoizedState)||(Vr=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),y.lastRenderedState=L}return[L,S]}function lE(u,f,y){var S=yn,w=br(),L=$n;if(L){if(y===void 0)throw Error(i(407));y=y()}else y=f();var J=!Ws((ui||w).memoizedState,y);J&&(w.memoizedState=y,Vr=!0),w=w.queue;var re=uE.bind(null,S,w,u);if(Nf(2048,8,re,[u]),w.getSnapshot!==f||J||vr!==null&&vr.memoizedState.tag&1){if(S.flags|=2048,Pf(9,Np(),cE.bind(null,S,w,y,f),null),pn===null)throw Error(i(349));L||(Zl&124)!==0||Of(S,f,y)}return y}function Of(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=yn.updateQueue,f===null?(f=$c(),yn.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function cE(u,f,y,S){f.value=y,f.getSnapshot=S,dE(f)&&fE(u)}function uE(u,f,y){return y(function(){dE(f)&&fE(u)})}function dE(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!Ws(u,y)}catch{return!0}}function fE(u){var f=Xl(u,2);f!==null&&Fs(f,u,2)}function Wb(u){var f=Ls();if(typeof u=="function"){var y=u;if(u=y(),Bs){ct(!0);try{y()}finally{ct(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:u},f}function hE(u,f,y,S){return u.baseState=y,Vb(u,ui,typeof S=="function"?S:tc)}function ED(u,f,y,S,w){if(ly(u))throw Error(i(485));if(u=f.action,u!==null){var L={payload:w,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){L.listeners.push(J)}};H.T!==null?y(!0):L.isTransition=!1,S(L),y=f.pending,y===null?(L.next=f.pending=L,pE(f,L)):(L.next=y.next,f.pending=y.next=L)}}function pE(u,f){var y=f.action,S=f.payload,w=u.state;if(f.isTransition){var L=H.T,J={};H.T=J;try{var re=y(w,S),he=H.S;he!==null&&he(J,re),mE(u,f,re)}catch(Fe){Yb(u,f,Fe)}finally{H.T=L}}else try{L=y(w,S),mE(u,f,L)}catch(Fe){Yb(u,f,Fe)}}function mE(u,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){gE(u,f,S)},function(S){return Yb(u,f,S)}):gE(u,f,y)}function gE(u,f,y){f.status="fulfilled",f.value=y,yE(f),u.state=y,f=u.pending,f!==null&&(y=f.next,y===f?u.pending=null:(y=y.next,f.next=y,pE(u,y)))}function Yb(u,f,y){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=y,yE(f),f=f.next;while(f!==S)}u.action=null}function yE(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Xb(u,f){return f}function vE(u,f){if($n){var y=pn.formState;if(y!==null){e:{var S=yn;if($n){if(Wi){t:{for(var w=Wi,L=pa;w.nodeType!==8;){if(!L){w=null;break t}if(w=lc(w.nextSibling),w===null){w=null;break t}}L=w.data,w=L==="F!"||L==="F"?w:null}if(w){Wi=lc(w.nextSibling),S=w.data==="F!";break e}}jc(S)}S=!1}S&&(f=y[0])}}return y=Ls(),y.memoizedState=y.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:f},y.queue=S,y=IE.bind(null,yn,S),S.dispatch=y,S=Wb(!1),L=oy.bind(null,yn,!1,S.queue),S=Ls(),w={state:f,dispatch:null,action:u,pending:null},S.queue=w,y=ED.bind(null,yn,w,L,y),w.dispatch=y,S.memoizedState=u,[f,y,!1]}function bE(u){var f=br();return _E(f,ui,u)}function _E(u,f,y){if(f=Vb(u,f,Xb)[0],u=Kc(tc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=xo(f)}catch(J){throw J===Dp?_o:J}else S=f;f=br();var w=f.queue,L=w.dispatch;return y!==f.memoizedState&&(yn.flags|=2048,Pf(9,Np(),CD.bind(null,w,y),null)),[S,L,u]}function CD(u,f){u.action=f}function xE(u){var f=br(),y=ui;if(y!==null)return _E(f,y,u);br(),f=f.memoizedState,y=br();var S=y.queue.dispatch;return y.memoizedState=u,[f,S,!1]}function Pf(u,f,y,S){return u={tag:u,create:y,deps:S,inst:f,next:null},f=yn.updateQueue,f===null&&(f=$c(),yn.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,f.lastEffect=u),u}function Np(){return{destroy:void 0,resource:void 0}}function qb(){return br().memoizedState}function iy(u,f,y,S){var w=Ls();S=S===void 0?null:S,yn.flags|=u,w.memoizedState=Pf(1|f,Np(),y,S)}function Nf(u,f,y,S){var w=br();S=S===void 0?null:S;var L=w.memoizedState.inst;ui!==null&&S!==null&&ps(S,ui.memoizedState.deps)?w.memoizedState=Pf(f,L,y,S):(yn.flags|=u,w.memoizedState=Pf(1|f,L,y,S))}function $b(u,f){iy(8390656,8,u,f)}function Kb(u,f){Nf(2048,8,u,f)}function ry(u,f){return Nf(4,2,u,f)}function sy(u,f){return Nf(4,4,u,f)}function SE(u,f){if(typeof f=="function"){u=u();var y=f(u);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function AE(u,f,y){y=y!=null?y.concat([u]):null,Nf(4,4,SE.bind(null,f,u),y)}function Jb(){}function EE(u,f){var y=br();f=f===void 0?null:f;var S=y.memoizedState;return f!==null&&ps(f,S[1])?S[0]:(y.memoizedState=[u,f],u)}function Qb(u,f){var y=br();f=f===void 0?null:f;var S=y.memoizedState;if(f!==null&&ps(f,S[1]))return S[0];if(S=u(),Bs){ct(!0);try{u()}finally{ct(!1)}}return y.memoizedState=[S,f],S}function ay(u,f,y){return y===void 0||(Zl&1073741824)!==0?u.memoizedState=f:(u.memoizedState=y,u=_y(),yn.lanes|=u,wo|=u,y)}function CE(u,f,y,S){return Ws(y,f)?y:If.current!==null?(u=ay(u,y,S),Ws(u,f)||(Vr=!0),u):(Zl&42)===0?(Vr=!0,u.memoizedState=y):(u=_y(),yn.lanes|=u,wo|=u,f)}function TE(u,f,y,S,w){var L=Y.p;Y.p=L!==0&&8>L?L:8;var J=H.T,re={};H.T=re,oy(u,!1,f,y);try{var he=w(),Fe=H.S;if(Fe!==null&&Fe(re,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var it=SD(he,S);Bp(u,f,it,Qi(u))}else Bp(u,f,S,Qi(u))}catch(at){Bp(u,f,{then:function(){},status:"rejected",reason:at},Qi())}finally{Y.p=L,H.T=J}}function TD(){}function Zb(u,f,y,S){if(u.tag!==5)throw Error(i(476));var w=ME(u).queue;TE(u,w,f,X,y===null?TD:function(){return wE(u),y(S)})}function ME(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:X},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:y},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function wE(u){var f=ME(u).next.queue;Bp(u,f,{},Qi())}function e_(){return $i(h_)}function RE(){return br().memoizedState}function DE(){return br().memoizedState}function MD(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var y=Qi();u=nl(y);var S=Ql(f,u,y);S!==null&&(Fs(S,f,y),zu(S,f,y)),f={cache:qg()},u.payload=f;return}f=f.return}}function wD(u,f,y){var S=Qi();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},ly(u)?OE(f,y):(y=Vg(u,f,y,S),y!==null&&(Fs(y,u,S),ga(y,f,S)))}function IE(u,f,y){var S=Qi();Bp(u,f,y,S)}function Bp(u,f,y,S){var w={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(ly(u))OE(f,w);else{var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var J=f.lastRenderedState,re=L(J,y);if(w.hasEagerState=!0,w.eagerState=re,Ws(re,J))return Hc(u,f,w,0),pn===null&&_p(),!1}catch{}finally{}if(y=Vg(u,f,w,S),y!==null)return Fs(y,u,S),ga(y,f,S),!0}return!1}function oy(u,f,y,S){if(S={lane:2,revertLane:ID(),action:S,hasEagerState:!1,eagerState:null,next:null},ly(u)){if(f)throw Error(i(479))}else f=Vg(u,y,S,2),f!==null&&Fs(f,u,2)}function ly(u){var f=u.alternate;return u===yn||f!==null&&f===yn}function OE(u,f){qc=ey=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function ga(u,f,y){if((y&4194048)!==0){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,Ut(u,y)}}var Lp={readContext:$i,use:ny,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar},cy={readContext:$i,use:ny,useCallback:function(u,f){return Ls().memoizedState=[u,f===void 0?null:f],u},useContext:$i,useEffect:$b,useImperativeHandle:function(u,f,y){y=y!=null?y.concat([u]):null,iy(4194308,4,SE.bind(null,f,u),y)},useLayoutEffect:function(u,f){return iy(4194308,4,u,f)},useInsertionEffect:function(u,f){iy(4,2,u,f)},useMemo:function(u,f){var y=Ls();f=f===void 0?null:f;var S=u();if(Bs){ct(!0);try{u()}finally{ct(!1)}}return y.memoizedState=[S,f],S},useReducer:function(u,f,y){var S=Ls();if(y!==void 0){var w=y(f);if(Bs){ct(!0);try{y(f)}finally{ct(!1)}}}else w=f;return S.memoizedState=S.baseState=w,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:w},S.queue=u,u=u.dispatch=wD.bind(null,yn,u),[S.memoizedState,u]},useRef:function(u){var f=Ls();return u={current:u},f.memoizedState=u},useState:function(u){u=Wb(u);var f=u.queue,y=IE.bind(null,yn,f);return f.dispatch=y,[u.memoizedState,y]},useDebugValue:Jb,useDeferredValue:function(u,f){var y=Ls();return ay(y,u,f)},useTransition:function(){var u=Wb(!1);return u=TE.bind(null,yn,u.queue,!0,!1),Ls().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,y){var S=yn,w=Ls();if($n){if(y===void 0)throw Error(i(407));y=y()}else{if(y=f(),pn===null)throw Error(i(349));(jt&124)!==0||Of(S,f,y)}w.memoizedState=y;var L={value:y,getSnapshot:f};return w.queue=L,$b(uE.bind(null,S,L,u),[u]),S.flags|=2048,Pf(9,Np(),cE.bind(null,S,L,y,f),null),y},useId:function(){var u=Ls(),f=pn.identifierPrefix;if($n){var y=el,S=Zo;y=(S&~(1<<32-Et(S)-1)).toString(32)+y,f=""+f+"R"+y,y=Rr++,0<y&&(f+="H"+y.toString(32)),f+=""}else y=sE++,f=""+f+"r"+y.toString(32)+"";return u.memoizedState=f},useHostTransitionStatus:e_,useFormState:vE,useActionState:vE,useOptimistic:function(u){var f=Ls();f.memoizedState=f.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=oy.bind(null,yn,!0,y),y.dispatch=f,[u,f]},useMemoCache:Gb,useCacheRefresh:function(){return Ls().memoizedState=MD.bind(null,yn)}},t_={readContext:$i,use:ny,useCallback:EE,useContext:$i,useEffect:Kb,useImperativeHandle:AE,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:Qb,useReducer:Kc,useRef:qb,useState:function(){return Kc(tc)},useDebugValue:Jb,useDeferredValue:function(u,f){var y=br();return CE(y,ui.memoizedState,u,f)},useTransition:function(){var u=Kc(tc)[0],f=br().memoizedState;return[typeof u=="boolean"?u:xo(u),f]},useSyncExternalStore:lE,useId:RE,useHostTransitionStatus:e_,useFormState:bE,useActionState:bE,useOptimistic:function(u,f){var y=br();return hE(y,ui,u,f)},useMemoCache:Gb,useCacheRefresh:DE},PE={readContext:$i,use:ny,useCallback:EE,useContext:$i,useEffect:Kb,useImperativeHandle:AE,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:Qb,useReducer:jb,useRef:qb,useState:function(){return jb(tc)},useDebugValue:Jb,useDeferredValue:function(u,f){var y=br();return ui===null?ay(y,u,f):CE(y,ui.memoizedState,u,f)},useTransition:function(){var u=jb(tc)[0],f=br().memoizedState;return[typeof u=="boolean"?u:xo(u),f]},useSyncExternalStore:lE,useId:RE,useHostTransitionStatus:e_,useFormState:xE,useActionState:xE,useOptimistic:function(u,f){var y=br();return ui!==null?hE(y,ui,u,f):(y.baseState=u,[u,y.queue.dispatch])},useMemoCache:Gb,useCacheRefresh:DE},Gu=null,Up=0;function kp(u){var f=Up;return Up+=1,Gu===null&&(Gu=[]),Qg(Gu,u,f)}function Bf(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function uy(u,f){throw f.$$typeof===h?Error(i(525)):(u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function NE(u){var f=u._init;return f(u._payload)}function BE(u){function f(Re,Te){if(u){var Ue=Re.deletions;Ue===null?(Re.deletions=[Te],Re.flags|=16):Ue.push(Te)}}function y(Re,Te){if(!u)return null;for(;Te!==null;)f(Re,Te),Te=Te.sibling;return null}function S(Re){for(var Te=new Map;Re!==null;)Re.key!==null?Te.set(Re.key,Re):Te.set(Re.index,Re),Re=Re.sibling;return Te}function w(Re,Te){return Re=sr(Re,Te),Re.index=0,Re.sibling=null,Re}function L(Re,Te,Ue){return Re.index=Ue,u?(Ue=Re.alternate,Ue!==null?(Ue=Ue.index,Ue<Te?(Re.flags|=67108866,Te):Ue):(Re.flags|=67108866,Te)):(Re.flags|=1048576,Te)}function J(Re){return u&&Re.alternate===null&&(Re.flags|=67108866),Re}function re(Re,Te,Ue,st){return Te===null||Te.tag!==6?(Te=Sp(Ue,Re.mode,st),Te.return=Re,Te):(Te=w(Te,Ue),Te.return=Re,Te)}function he(Re,Te,Ue,st){var Ft=Ue.type;return Ft===b?it(Re,Te,Ue.props.children,st,Ue.key):Te!==null&&(Te.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===N&&NE(Ft)===Te.type)?(Te=w(Te,Ue.props),Bf(Te,Ue),Te.return=Re,Te):(Te=Gr(Ue.type,Ue.key,Ue.props,null,Re.mode,st),Bf(Te,Ue),Te.return=Re,Te)}function Fe(Re,Te,Ue,st){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Ue.containerInfo||Te.stateNode.implementation!==Ue.implementation?(Te=jg(Ue,Re.mode,st),Te.return=Re,Te):(Te=w(Te,Ue.children||[]),Te.return=Re,Te)}function it(Re,Te,Ue,st,Ft){return Te===null||Te.tag!==7?(Te=Gc(Ue,Re.mode,st,Ft),Te.return=Re,Te):(Te=w(Te,Ue),Te.return=Re,Te)}function at(Re,Te,Ue){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=Sp(""+Te,Re.mode,Ue),Te.return=Re,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:return Ue=Gr(Te.type,Te.key,Te.props,null,Re.mode,Ue),Bf(Ue,Te),Ue.return=Re,Ue;case v:return Te=jg(Te,Re.mode,Ue),Te.return=Re,Te;case N:var st=Te._init;return Te=st(Te._payload),at(Re,Te,Ue)}if(Z(Te)||U(Te))return Te=Gc(Te,Re.mode,Ue,null),Te.return=Re,Te;if(typeof Te.then=="function")return at(Re,kp(Te),Ue);if(Te.$$typeof===C)return at(Re,Tp(Re,Te),Ue);uy(Re,Te)}return null}function Ve(Re,Te,Ue,st){var Ft=Te!==null?Te.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ft!==null?null:re(Re,Te,""+Ue,st);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:return Ue.key===Ft?he(Re,Te,Ue,st):null;case v:return Ue.key===Ft?Fe(Re,Te,Ue,st):null;case N:return Ft=Ue._init,Ue=Ft(Ue._payload),Ve(Re,Te,Ue,st)}if(Z(Ue)||U(Ue))return Ft!==null?null:it(Re,Te,Ue,st,null);if(typeof Ue.then=="function")return Ve(Re,Te,kp(Ue),st);if(Ue.$$typeof===C)return Ve(Re,Te,Tp(Re,Ue),st);uy(Re,Ue)}return null}function We(Re,Te,Ue,st,Ft){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Re=Re.get(Ue)||null,re(Te,Re,""+st,Ft);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case m:return Re=Re.get(st.key===null?Ue:st.key)||null,he(Te,Re,st,Ft);case v:return Re=Re.get(st.key===null?Ue:st.key)||null,Fe(Te,Re,st,Ft);case N:var Nn=st._init;return st=Nn(st._payload),We(Re,Te,Ue,st,Ft)}if(Z(st)||U(st))return Re=Re.get(Ue)||null,it(Te,Re,st,Ft,null);if(typeof st.then=="function")return We(Re,Te,Ue,kp(st),Ft);if(st.$$typeof===C)return We(Re,Te,Ue,Tp(Te,st),Ft);uy(Te,st)}return null}function un(Re,Te,Ue,st){for(var Ft=null,Nn=null,Gt=Te,rn=Te=0,ys=null;Gt!==null&&rn<Ue.length;rn++){Gt.index>rn?(ys=Gt,Gt=null):ys=Gt.sibling;var si=Ve(Re,Gt,Ue[rn],st);if(si===null){Gt===null&&(Gt=ys);break}u&&Gt&&si.alternate===null&&f(Re,Gt),Te=L(si,Te,rn),Nn===null?Ft=si:Nn.sibling=si,Nn=si,Gt=ys}if(rn===Ue.length)return y(Re,Gt),$n&&ql(Re,rn),Ft;if(Gt===null){for(;rn<Ue.length;rn++)Gt=at(Re,Ue[rn],st),Gt!==null&&(Te=L(Gt,Te,rn),Nn===null?Ft=Gt:Nn.sibling=Gt,Nn=Gt);return $n&&ql(Re,rn),Ft}for(Gt=S(Gt);rn<Ue.length;rn++)ys=We(Gt,Re,rn,Ue[rn],st),ys!==null&&(u&&ys.alternate!==null&&Gt.delete(ys.key===null?rn:ys.key),Te=L(ys,Te,rn),Nn===null?Ft=ys:Nn.sibling=ys,Nn=ys);return u&&Gt.forEach(function(Qf){return f(Re,Qf)}),$n&&ql(Re,rn),Ft}function Zt(Re,Te,Ue,st){if(Ue==null)throw Error(i(151));for(var Ft=null,Nn=null,Gt=Te,rn=Te=0,ys=null,si=Ue.next();Gt!==null&&!si.done;rn++,si=Ue.next()){Gt.index>rn?(ys=Gt,Gt=null):ys=Gt.sibling;var Qf=Ve(Re,Gt,si.value,st);if(Qf===null){Gt===null&&(Gt=ys);break}u&&Gt&&Qf.alternate===null&&f(Re,Gt),Te=L(Qf,Te,rn),Nn===null?Ft=Qf:Nn.sibling=Qf,Nn=Qf,Gt=ys}if(si.done)return y(Re,Gt),$n&&ql(Re,rn),Ft;if(Gt===null){for(;!si.done;rn++,si=Ue.next())si=at(Re,si.value,st),si!==null&&(Te=L(si,Te,rn),Nn===null?Ft=si:Nn.sibling=si,Nn=si);return $n&&ql(Re,rn),Ft}for(Gt=S(Gt);!si.done;rn++,si=Ue.next())si=We(Gt,Re,rn,si.value,st),si!==null&&(u&&si.alternate!==null&&Gt.delete(si.key===null?rn:si.key),Te=L(si,Te,rn),Nn===null?Ft=si:Nn.sibling=si,Nn=si);return u&&Gt.forEach(function(GZ){return f(Re,GZ)}),$n&&ql(Re,rn),Ft}function Oi(Re,Te,Ue,st){if(typeof Ue=="object"&&Ue!==null&&Ue.type===b&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:e:{for(var Ft=Ue.key;Te!==null;){if(Te.key===Ft){if(Ft=Ue.type,Ft===b){if(Te.tag===7){y(Re,Te.sibling),st=w(Te,Ue.props.children),st.return=Re,Re=st;break e}}else if(Te.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===N&&NE(Ft)===Te.type){y(Re,Te.sibling),st=w(Te,Ue.props),Bf(st,Ue),st.return=Re,Re=st;break e}y(Re,Te);break}else f(Re,Te);Te=Te.sibling}Ue.type===b?(st=Gc(Ue.props.children,Re.mode,st,Ue.key),st.return=Re,Re=st):(st=Gr(Ue.type,Ue.key,Ue.props,null,Re.mode,st),Bf(st,Ue),st.return=Re,Re=st)}return J(Re);case v:e:{for(Ft=Ue.key;Te!==null;){if(Te.key===Ft)if(Te.tag===4&&Te.stateNode.containerInfo===Ue.containerInfo&&Te.stateNode.implementation===Ue.implementation){y(Re,Te.sibling),st=w(Te,Ue.children||[]),st.return=Re,Re=st;break e}else{y(Re,Te);break}else f(Re,Te);Te=Te.sibling}st=jg(Ue,Re.mode,st),st.return=Re,Re=st}return J(Re);case N:return Ft=Ue._init,Ue=Ft(Ue._payload),Oi(Re,Te,Ue,st)}if(Z(Ue))return un(Re,Te,Ue,st);if(U(Ue)){if(Ft=U(Ue),typeof Ft!="function")throw Error(i(150));return Ue=Ft.call(Ue),Zt(Re,Te,Ue,st)}if(typeof Ue.then=="function")return Oi(Re,Te,kp(Ue),st);if(Ue.$$typeof===C)return Oi(Re,Te,Tp(Re,Ue),st);uy(Re,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Te!==null&&Te.tag===6?(y(Re,Te.sibling),st=w(Te,Ue),st.return=Re,Re=st):(y(Re,Te),st=Sp(Ue,Re.mode,st),st.return=Re,Re=st),J(Re)):y(Re,Te)}return function(Re,Te,Ue,st){try{Up=0;var Ft=Oi(Re,Te,Ue,st);return Gu=null,Ft}catch(Gt){if(Gt===Dp||Gt===_o)throw Gt;var Nn=qs(29,Gt,null,Re.mode);return Nn.lanes=st,Nn.return=Re,Nn}finally{}}}var Vu=BE(!0),LE=BE(!1),_i=ae(null),So=null;function Jc(u){var f=u.alternate;Se(or,or.current&1),Se(_i,u),So===null&&(f===null||If.current!==null||f.memoizedState!==null)&&(So=u)}function UE(u){if(u.tag===22){if(Se(or,or.current),Se(_i,u),So===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(So=u)}}else Qc()}function Qc(){Se(or,or.current),Se(_i,_i.current)}function il(u){ye(_i),So===u&&(So=null),ye(or)}var or=ae(0);function nc(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||VD(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Zc(u,f,y,S){f=u.memoizedState,y=y(S,f),y=y==null?f:d({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Us={enqueueSetState:function(u,f,y){u=u._reactInternals;var S=Qi(),w=nl(S);w.payload=f,y!=null&&(w.callback=y),f=Ql(u,w,S),f!==null&&(Fs(f,u,S),zu(f,u,S))},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var S=Qi(),w=nl(S);w.tag=1,w.payload=f,y!=null&&(w.callback=y),f=Ql(u,w,S),f!==null&&(Fs(f,u,S),zu(f,u,S))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=Qi(),S=nl(y);S.tag=2,f!=null&&(S.callback=f),f=Ql(u,S,y),f!==null&&(Fs(f,u,y),zu(f,u,y))}};function kE(u,f,y,S,w,L,J){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,L,J):f.prototype&&f.prototype.isPureReactComponent?!vo(y,S)||!vo(w,L):!0}function FE(u,f,y,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==u&&Us.enqueueReplaceState(f,f.state,null)}function rl(u,f){var y=f;if("ref"in f){y={};for(var S in f)S!=="ref"&&(y[S]=f[S])}if(u=u.defaultProps){y===f&&(y=d({},y));for(var w in u)y[w]===void 0&&(y[w]=u[w])}return y}var ju=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function Fp(u){ju(u)}function dy(u){console.error(u)}function HE(u){ju(u)}function fy(u,f){try{var y=u.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function Wa(u,f,y){try{var S=u.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function hy(u,f,y){return y=nl(y),y.tag=3,y.payload={element:null},y.callback=function(){fy(u,f)},y}function zE(u){return u=nl(u),u.tag=3,u}function py(u,f,y,S){var w=y.type.getDerivedStateFromError;if(typeof w=="function"){var L=S.value;u.payload=function(){return w(L)},u.callback=function(){Wa(f,y,S)}}var J=y.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(u.callback=function(){Wa(f,y,S),typeof w!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var re=S.stack;this.componentDidCatch(S.value,{componentStack:re!==null?re:""})})}function RD(u,f,y,S,w){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=y.alternate,f!==null&&za(f,y,w,!0),y=_i.current,y!==null){switch(y.tag){case 13:return So===null?p():y.alternate===null&&Ui===0&&(Ui=3),y.flags&=-257,y.flags|=65536,y.lanes=w,S===Ip?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([S]):f.add(S),Ye(u,S,w)),!1;case 22:return y.flags|=65536,S===Ip?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([S]):y.add(S)),Ye(u,S,w)),!1}throw Error(i(435,y.tag))}return Ye(u,S,w),p(),!1}if($n)return f=_i.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=w,S!==Yg&&(u=Error(i(422),{cause:S}),Hu(ts(u,y)))):(S!==Yg&&(f=Error(i(423),{cause:S}),Hu(ts(f,y))),u=u.current.alternate,u.flags|=65536,w&=-w,u.lanes|=w,S=ts(S,y),w=hy(u.stateNode,S,w),wf(u,w),Ui!==4&&(Ui=2)),!1;var L=Error(i(520),{cause:S});if(L=ts(L,y),ri===null?ri=[L]:ri.push(L),Ui!==4&&(Ui=2),f===null)return!0;S=ts(S,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,u=w&-w,y.lanes|=u,u=hy(y.stateNode,S,u),wf(y,u),!1;case 1:if(f=y.type,L=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Ea===null||!Ea.has(L))))return y.flags|=65536,w&=-w,y.lanes|=w,w=zE(w),py(w,u,y,S),wf(y,w),!1}y=y.return}while(y!==null);return!1}var GE=Error(i(461)),Vr=!1;function lr(u,f,y,S){f.child=u===null?LE(f,null,y,S):Vu(f,u.child,y,S)}function Ks(u,f,y,S,w){y=y.render;var L=f.ref;if("ref"in S){var J={};for(var re in S)re!=="ref"&&(J[re]=S[re])}else J=S;return tl(f),S=ec(u,f,y,J,L,w),re=Hb(),u!==null&&!Vr?(ty(u,f,w),jr(u,f,w)):($n&&re&&Rb(f),f.flags|=1,lr(u,f,S,w),f.child)}function Js(u,f,y,S,w){if(u===null){var L=y.type;return typeof L=="function"&&!xp(L)&&L.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=L,n_(u,f,L,S,w)):(u=Gr(y.type,null,S,f,f.mode,w),u.ref=f.ref,u.return=f,f.child=u)}if(L=u.child,!Hp(u,w)){var J=L.memoizedProps;if(y=y.compare,y=y!==null?y:vo,y(J,S)&&u.ref===f.ref)return jr(u,f,w)}return f.flags|=1,u=sr(L,S),u.ref=f.ref,u.return=f,f.child=u}function n_(u,f,y,S,w){if(u!==null){var L=u.memoizedProps;if(vo(L,S)&&u.ref===f.ref)if(Vr=!1,f.pendingProps=S=L,Hp(u,w))(u.flags&131072)!==0&&(Vr=!0);else return f.lanes=u.lanes,jr(u,f,w)}return Lf(u,f,y,S,w)}function Wu(u,f,y){var S=f.pendingProps,w=S.children,L=u!==null?u.memoizedState:null;if(S.mode==="hidden"){if((f.flags&128)!==0){if(S=L!==null?L.baseLanes|y:y,u!==null){for(w=f.child=u.child,L=0;w!==null;)L=L|w.lanes|w.childLanes,w=w.sibling;f.childLanes=L&~S}else f.childLanes=0,f.child=null;return Yu(u,f,S,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Rp(f,L!==null?L.cachePool:null),L!==null?rE(f,L):Fb(),UE(f);else return f.lanes=f.childLanes=536870912,Yu(u,f,L!==null?L.baseLanes|y:y,y)}else L!==null?(Rp(f,L.cachePool),rE(f,L),Qc(),f.memoizedState=null):(u!==null&&Rp(f,null),Fb(),Qc());return lr(u,f,w,y),f.child}function Yu(u,f,y,S){var w=Xc();return w=w===null?null:{parent:yr._currentValue,pool:w},f.memoizedState={baseLanes:y,cachePool:w},u!==null&&Rp(f,null),Fb(),UE(f),u!==null&&za(u,f,S,!0),null}function Xu(u,f){var y=f.ref;if(y===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(i(284));(u===null||u.ref!==y)&&(f.flags|=4194816)}}function Lf(u,f,y,S,w){return tl(f),y=ec(u,f,y,S,void 0,w),S=Hb(),u!==null&&!Vr?(ty(u,f,w),jr(u,f,w)):($n&&S&&Rb(f),f.flags|=1,lr(u,f,y,w),f.child)}function ya(u,f,y,S,w,L){return tl(f),f.updateQueue=null,y=oE(f,S,y,w),aE(u),S=Hb(),u!==null&&!Vr?(ty(u,f,L),jr(u,f,L)):($n&&S&&Rb(f),f.flags|=1,lr(u,f,y,L),f.child)}function va(u,f,y,S,w){if(tl(f),f.stateNode===null){var L=zc,J=y.contextType;typeof J=="object"&&J!==null&&(L=$i(J)),L=new y(S,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Us,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=S,L.state=f.memoizedState,L.refs={},Ub(f),J=y.contextType,L.context=typeof J=="object"&&J!==null?$i(J):zc,L.state=f.memoizedState,J=y.getDerivedStateFromProps,typeof J=="function"&&(Zc(f,y,J,S),L.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(J=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),J!==L.state&&Us.enqueueReplaceState(L,L.state,null),Rf(f,S,L,w),Op(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(u===null){L=f.stateNode;var re=f.memoizedProps,he=rl(y,re);L.props=he;var Fe=L.context,it=y.contextType;J=zc,typeof it=="object"&&it!==null&&(J=$i(it));var at=y.getDerivedStateFromProps;it=typeof at=="function"||typeof L.getSnapshotBeforeUpdate=="function",re=f.pendingProps!==re,it||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re||Fe!==J)&&FE(f,L,S,J),Jl=!1;var Ve=f.memoizedState;L.state=Ve,Rf(f,S,L,w),Op(),Fe=f.memoizedState,re||Ve!==Fe||Jl?(typeof at=="function"&&(Zc(f,y,at,S),Fe=f.memoizedState),(he=Jl||kE(f,y,he,S,Ve,Fe,J))?(it||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Fe),L.props=S,L.state=Fe,L.context=J,S=he):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{L=f.stateNode,on(u,f),J=f.memoizedProps,it=rl(y,J),L.props=it,at=f.pendingProps,Ve=L.context,Fe=y.contextType,he=zc,typeof Fe=="object"&&Fe!==null&&(he=$i(Fe)),re=y.getDerivedStateFromProps,(Fe=typeof re=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J!==at||Ve!==he)&&FE(f,L,S,he),Jl=!1,Ve=f.memoizedState,L.state=Ve,Rf(f,S,L,w),Op();var We=f.memoizedState;J!==at||Ve!==We||Jl||u!==null&&u.dependencies!==null&&Cp(u.dependencies)?(typeof re=="function"&&(Zc(f,y,re,S),We=f.memoizedState),(it=Jl||kE(f,y,it,S,Ve,We,he)||u!==null&&u.dependencies!==null&&Cp(u.dependencies))?(Fe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,We,he),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,We,he)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||J===u.memoizedProps&&Ve===u.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&Ve===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=We),L.props=S,L.state=We,L.context=he,S=it):(typeof L.componentDidUpdate!="function"||J===u.memoizedProps&&Ve===u.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&Ve===u.memoizedState||(f.flags|=1024),S=!1)}return L=S,Xu(u,f),S=(f.flags&128)!==0,L||S?(L=f.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,u!==null&&S?(f.child=Vu(f,u.child,null,w),f.child=Vu(f,null,y,w)):lr(u,f,y,w),f.memoizedState=L.state,u=f.child):u=jr(u,f,w),u}function eu(u,f,y,S){return Af(),f.flags|=256,lr(u,f,y,S),f.child}var Ao={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(u){return{baseLanes:u,cachePool:Kg()}}function Dr(u,f,y){return u=u!==null?u.childLanes&~y:0,f&&(u|=Ka),u}function Uf(u,f,y){var S=f.pendingProps,w=!1,L=(f.flags&128)!==0,J;if((J=L)||(J=u!==null&&u.memoizedState===null?!1:(or.current&2)!==0),J&&(w=!0,f.flags&=-129),J=(f.flags&32)!==0,f.flags&=-33,u===null){if($n){if(w?Jc(f):Qc(),$n){var re=Wi,he;if(he=re){e:{for(he=re,re=pa;he.nodeType!==8;){if(!re){re=null;break e}if(he=lc(he.nextSibling),he===null){re=null;break e}}re=he}re!==null?(f.memoizedState={dehydrated:re,treeContext:Vc!==null?{id:Zo,overflow:el}:null,retryLane:536870912,hydrationErrors:null},he=qs(18,null,null,0),he.stateNode=re,he.return=f,f.child=he,Ns=f,Wi=null,he=!0):he=!1}he||jc(f)}if(re=f.memoizedState,re!==null&&(re=re.dehydrated,re!==null))return VD(re)?f.lanes=32:f.lanes=536870912,null;il(f)}return re=S.children,S=S.fallback,w?(Qc(),w=f.mode,re=qu({mode:"hidden",children:re},w),S=Gc(S,w,y,null),re.return=f,S.return=f,re.sibling=S,f.child=re,w=f.child,w.memoizedState=Eo(y),w.childLanes=Dr(u,J,y),f.memoizedState=Ao,S):(Jc(f),sl(f,re))}if(he=u.memoizedState,he!==null&&(re=he.dehydrated,re!==null)){if(L)f.flags&256?(Jc(f),f.flags&=-257,f=rs(u,f,y)):f.memoizedState!==null?(Qc(),f.child=u.child,f.flags|=128,f=null):(Qc(),w=S.fallback,re=f.mode,S=qu({mode:"visible",children:S.children},re),w=Gc(w,re,y,null),w.flags|=2,S.return=f,w.return=f,S.sibling=w,f.child=S,Vu(f,u.child,null,y),S=f.child,S.memoizedState=Eo(y),S.childLanes=Dr(u,J,y),f.memoizedState=Ao,f=w);else if(Jc(f),VD(re)){if(J=re.nextSibling&&re.nextSibling.dataset,J)var Fe=J.dgst;J=Fe,S=Error(i(419)),S.stack="",S.digest=J,Hu({value:S,source:null,stack:null}),f=rs(u,f,y)}else if(Vr||za(u,f,y,!1),J=(y&u.childLanes)!==0,Vr||J){if(J=pn,J!==null&&(S=y&-y,S=(S&42)!==0?1:tn(S),S=(S&(J.suspendedLanes|y))!==0?0:S,S!==0&&S!==he.retryLane))throw he.retryLane=S,Xl(u,S),Fs(J,u,S),GE;re.data==="$?"||p(),f=rs(u,f,y)}else re.data==="$?"?(f.flags|=192,f.child=u.child,f=null):(u=he.treeContext,Wi=lc(re.nextSibling),Ns=f,$n=!0,Ha=null,pa=!1,u!==null&&(ns[ha++]=Zo,ns[ha++]=el,ns[ha++]=Vc,Zo=u.id,el=u.overflow,Vc=f),f=sl(f,S.children),f.flags|=4096);return f}return w?(Qc(),w=S.fallback,re=f.mode,he=u.child,Fe=he.sibling,S=sr(he,{mode:"hidden",children:S.children}),S.subtreeFlags=he.subtreeFlags&65011712,Fe!==null?w=sr(Fe,w):(w=Gc(w,re,y,null),w.flags|=2),w.return=f,S.return=f,S.sibling=w,f.child=S,S=w,w=f.child,re=u.child.memoizedState,re===null?re=Eo(y):(he=re.cachePool,he!==null?(Fe=yr._currentValue,he=he.parent!==Fe?{parent:Fe,pool:Fe}:he):he=Kg(),re={baseLanes:re.baseLanes|y,cachePool:he}),w.memoizedState=re,w.childLanes=Dr(u,J,y),f.memoizedState=Ao,S):(Jc(f),y=u.child,u=y.sibling,y=sr(y,{mode:"visible",children:S.children}),y.return=f,y.sibling=null,u!==null&&(J=f.deletions,J===null?(f.deletions=[u],f.flags|=16):J.push(u)),f.child=y,f.memoizedState=null,y)}function sl(u,f){return f=qu({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function qu(u,f){return u=qs(22,u,null,f),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function rs(u,f,y){return Vu(f,u.child,null,y),u=sl(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ss(u,f,y){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),Pb(u.return,f,y)}function Gn(u,f,y,S,w){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:w}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=y,L.tailMode=w)}function Ya(u,f,y){var S=f.pendingProps,w=S.revealOrder,L=S.tail;if(lr(u,f,S.children,y),S=or.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ss(u,y,f);else if(u.tag===19)ss(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}switch(Se(or,S),w){case"forwards":for(y=f.child,w=null;y!==null;)u=y.alternate,u!==null&&nc(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),Gn(f,!1,w,y,L);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(u=w.alternate,u!==null&&nc(u)===null){f.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}Gn(f,!0,y,null,L);break;case"together":Gn(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function jr(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),wo|=f.lanes,(y&f.childLanes)===0)if(u!==null){if(za(u,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,y=sr(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=sr(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function Hp(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Cp(u)))}function Xa(u,f,y){switch(f.tag){case 3:ve(f,f.stateNode.containerInfo),Yc(f,yr,u.memoizedState.cache),Af();break;case 27:case 5:ee(f);break;case 4:ve(f,f.stateNode.containerInfo);break;case 10:Yc(f,f.type,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Jc(f),f.flags|=128,null):(y&f.child.childLanes)!==0?Uf(u,f,y):(Jc(f),u=jr(u,f,y),u!==null?u.sibling:null);Jc(f);break;case 19:var w=(u.flags&128)!==0;if(S=(y&f.childLanes)!==0,S||(za(u,f,y,!1),S=(y&f.childLanes)!==0),w){if(S)return Ya(u,f,y);f.flags|=128}if(w=f.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Se(or,or.current),S)break;return null;case 22:case 23:return f.lanes=0,Wu(u,f,y);case 24:Yc(f,yr,u.memoizedState.cache)}return jr(u,f,y)}function $u(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps)Vr=!0;else{if(!Hp(u,y)&&(f.flags&128)===0)return Vr=!1,Xa(u,f,y);Vr=(u.flags&131072)!==0}else Vr=!1,$n&&(f.flags&1048576)!==0&&Wg(f,Sf,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var S=f.elementType,w=S._init;if(S=w(S._payload),f.type=S,typeof S=="function")xp(S)?(u=rl(S,u),f.tag=1,f=va(null,f,S,u,y)):(f.tag=0,f=Lf(null,f,S,u,y));else{if(S!=null){if(w=S.$$typeof,w===M){f.tag=11,f=Ks(null,f,S,u,y);break e}else if(w===B){f.tag=14,f=Js(null,f,S,u,y);break e}}throw f=q(S)||S,Error(i(306,f,""))}}return f;case 0:return Lf(u,f,f.type,f.pendingProps,y);case 1:return S=f.type,w=rl(S,f.pendingProps),va(u,f,S,w,y);case 3:e:{if(ve(f,f.stateNode.containerInfo),u===null)throw Error(i(387));S=f.pendingProps;var L=f.memoizedState;w=L.element,on(u,f),Rf(f,S,null,y);var J=f.memoizedState;if(S=J.cache,Yc(f,yr,S),S!==L.cache&&Ep(f,[yr],y,!0),Op(),S=J.element,L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:J.cache},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){f=eu(u,f,S,y);break e}else if(S!==w){w=ts(Error(i(424)),f),Hu(w),f=eu(u,f,S,y);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Wi=lc(u.firstChild),Ns=f,$n=!0,Ha=null,pa=!0,y=LE(f,null,S,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Af(),S===w){f=jr(u,f,y);break e}lr(u,f,S,y)}f=f.child}return f;case 26:return Xu(u,f),u===null?(y=Lk(f.type,null,f.pendingProps,null))?f.memoizedState=y:$n||(y=f.type,u=f.pendingProps,S=qE(pe.current).createElement(y),S[vi]=f,S[Mi]=u,Hs(S,y,u),Li(S),f.stateNode=S):f.memoizedState=Lk(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ee(f),u===null&&$n&&(S=f.stateNode=Pk(f.type,f.pendingProps,pe.current),Ns=f,pa=!0,w=Wi,Xf(f.type)?(jD=w,Wi=lc(S.firstChild)):Wi=w),lr(u,f,f.pendingProps.children,y),Xu(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&$n&&((w=S=Wi)&&(S=yZ(S,f.type,f.pendingProps,pa),S!==null?(f.stateNode=S,Ns=f,Wi=lc(S.firstChild),pa=!1,w=!0):w=!1),w||jc(f)),ee(f),w=f.type,L=f.pendingProps,J=u!==null?u.memoizedProps:null,S=L.children,HD(w,L)?S=null:J!==null&&HD(w,J)&&(f.flags|=32),f.memoizedState!==null&&(w=ec(u,f,AD,null,null,y),h_._currentValue=w),Xu(u,f),lr(u,f,S,y),f.child;case 6:return u===null&&$n&&((u=y=Wi)&&(y=vZ(y,f.pendingProps,pa),y!==null?(f.stateNode=y,Ns=f,Wi=null,u=!0):u=!1),u||jc(f)),null;case 13:return Uf(u,f,y);case 4:return ve(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Vu(f,null,S,y):lr(u,f,S,y),f.child;case 11:return Ks(u,f,f.type,f.pendingProps,y);case 7:return lr(u,f,f.pendingProps,y),f.child;case 8:return lr(u,f,f.pendingProps.children,y),f.child;case 12:return lr(u,f,f.pendingProps.children,y),f.child;case 10:return S=f.pendingProps,Yc(f,f.type,S.value),lr(u,f,S.children,y),f.child;case 9:return w=f.type._context,S=f.pendingProps.children,tl(f),w=$i(w),S=S(w),f.flags|=1,lr(u,f,S,y),f.child;case 14:return Js(u,f,f.type,f.pendingProps,y);case 15:return n_(u,f,f.type,f.pendingProps,y);case 19:return Ya(u,f,y);case 31:return S=f.pendingProps,y=f.mode,S={mode:S.mode,children:S.children},u===null?(y=qu(S,y),y.ref=f.ref,f.child=y,y.return=f,f=y):(y=sr(u.child,S),y.ref=f.ref,f.child=y,y.return=f,f=y),f;case 22:return Wu(u,f,y);case 24:return tl(f),S=$i(yr),u===null?(w=Xc(),w===null&&(w=pn,L=qg(),w.pooledCache=L,L.refCount++,L!==null&&(w.pooledCacheLanes|=y),w=L),f.memoizedState={parent:S,cache:w},Ub(f),Yc(f,yr,w)):((u.lanes&y)!==0&&(on(u,f),Rf(f,null,null,y),Op()),w=u.memoizedState,L=f.memoizedState,w.parent!==S?(w={parent:S,cache:S},f.memoizedState=w,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=w),Yc(f,yr,S)):(S=L.cache,Yc(f,yr,S),S!==w.cache&&Ep(f,[yr],y,!0))),lr(u,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Co(u){u.flags|=4}function zp(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!zk(f)){if(f=_i.current,f!==null&&((jt&4194048)===jt?So!==null:(jt&62914560)!==jt&&(jt&536870912)===0||f!==So))throw Va=Ip,Bb;u.flags|=8192}}function ic(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?et():536870912,u.lanes|=f,Yn|=f)}function Ku(u,f){if(!$n)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function wi(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(f)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags&65011712,S|=w.flags&65011712,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags,S|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=S,u.childLanes=y,f}function i_(u,f,y){var S=f.pendingProps;switch(Db(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(f),null;case 1:return wi(f),null;case 3:return y=f.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),Kl(yr),V(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(bo(f)?Co(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ni())),wi(f),null;case 26:return y=f.memoizedState,u===null?(Co(f),y!==null?(wi(f),zp(f,y)):(wi(f),f.flags&=-16777217)):y?y!==u.memoizedState?(Co(f),wi(f),zp(f,y)):(wi(f),f.flags&=-16777217):(u.memoizedProps!==S&&Co(f),wi(f),f.flags&=-16777217),null;case 27:oe(f),y=pe.current;var w=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==S&&Co(f);else{if(!S){if(f.stateNode===null)throw Error(i(166));return wi(f),null}u=de.current,bo(f)?eE(f):(u=Pk(w,S,y),f.stateNode=u,Co(f))}return wi(f),null;case 5:if(oe(f),y=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==S&&Co(f);else{if(!S){if(f.stateNode===null)throw Error(i(166));return wi(f),null}if(u=de.current,bo(f))eE(f);else{switch(w=qE(pe.current),u){case 1:u=w.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:u=w.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":u=w.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":u=w.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":u=w.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof S.is=="string"?w.createElement("select",{is:S.is}):w.createElement("select"),S.multiple?u.multiple=!0:S.size&&(u.size=S.size);break;default:u=typeof S.is=="string"?w.createElement(y,{is:S.is}):w.createElement(y)}}u[vi]=f,u[Mi]=S;e:for(w=f.child;w!==null;){if(w.tag===5||w.tag===6)u.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break e;for(;w.sibling===null;){if(w.return===null||w.return===f)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}f.stateNode=u;e:switch(Hs(u,y,S),y){case"button":case"input":case"select":case"textarea":u=!!S.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Co(f)}}return wi(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==S&&Co(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(i(166));if(u=pe.current,bo(f)){if(u=f.stateNode,y=f.memoizedProps,S=null,w=Ns,w!==null)switch(w.tag){case 27:case 5:S=w.memoizedProps}u[vi]=f,u=!!(u.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||Tk(u.nodeValue,y)),u||jc(f)}else u=qE(u).createTextNode(S),u[vi]=f,f.stateNode=u}return wi(f),null;case 13:if(S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(w=bo(f),S!==null&&S.dehydrated!==null){if(u===null){if(!w)throw Error(i(318));if(w=f.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[vi]=f}else Af(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;wi(f),w=!1}else w=ni(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=w),w=!0;if(!w)return f.flags&256?(il(f),f):(il(f),null)}if(il(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=S!==null,u=u!==null&&u.memoizedState!==null,y){S=f.child,w=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(w=S.alternate.memoizedState.cachePool.pool);var L=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==w&&(S.flags|=2048)}return y!==u&&y&&(f.child.flags|=8192),ic(f,f.updateQueue),wi(f),null;case 4:return V(),u===null&&BD(f.stateNode.containerInfo),wi(f),null;case 10:return Kl(f.type),wi(f),null;case 19:if(ye(or),w=f.memoizedState,w===null)return wi(f),null;if(S=(f.flags&128)!==0,L=w.rendering,L===null)if(S)Ku(w,!1);else{if(Ui!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(L=nc(u),L!==null){for(f.flags|=128,Ku(w,!1),u=L.updateQueue,f.updateQueue=u,ic(f,u),f.subtreeFlags=0,u=y,y=f.child;y!==null;)wb(y,u),y=y.sibling;return Se(or,or.current&1|2),f.child}u=u.sibling}w.tail!==null&&ke()>ms&&(f.flags|=128,S=!0,Ku(w,!1),f.lanes=4194304)}else{if(!S)if(u=nc(L),u!==null){if(f.flags|=128,S=!0,u=u.updateQueue,f.updateQueue=u,ic(f,u),Ku(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!$n)return wi(f),null}else 2*ke()-w.renderingStartTime>ms&&y!==536870912&&(f.flags|=128,S=!0,Ku(w,!1),f.lanes=4194304);w.isBackwards?(L.sibling=f.child,f.child=L):(u=w.last,u!==null?u.sibling=L:f.child=L,w.last=L)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=ke(),f.sibling=null,u=or.current,Se(or,S?u&1|2:u&1),f):(wi(f),null);case 22:case 23:return il(f),Pp(),S=f.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(y&536870912)!==0&&(f.flags&128)===0&&(wi(f),f.subtreeFlags&6&&(f.flags|=8192)):wi(f),y=f.updateQueue,y!==null&&ic(f,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==y&&(f.flags|=2048),u!==null&&ye(Ga),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Kl(yr),wi(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function kf(u,f){switch(Db(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Kl(yr),V(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return oe(f),null;case 13:if(il(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Af()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return ye(or),null;case 4:return V(),null;case 10:return Kl(f.type),null;case 22:case 23:return il(f),Pp(),u!==null&&ye(Ga),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Kl(yr),null;case 25:return null;default:return null}}function Ff(u,f){switch(Db(f),f.tag){case 3:Kl(yr),V();break;case 26:case 27:case 5:oe(f);break;case 4:V();break;case 13:il(f);break;case 19:ye(or);break;case 10:Kl(f.type);break;case 22:case 23:il(f),Pp(),u!==null&&ye(Ga);break;case 24:Kl(yr)}}function Ju(u,f){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var w=S.next;y=w;do{if((y.tag&u)===u){S=void 0;var L=y.create,J=y.inst;S=L(),J.destroy=S}y=y.next}while(y!==w)}}catch(re){Ee(f,f.return,re)}}function ba(u,f,y){try{var S=f.updateQueue,w=S!==null?S.lastEffect:null;if(w!==null){var L=w.next;S=L;do{if((S.tag&u)===u){var J=S.inst,re=J.destroy;if(re!==void 0){J.destroy=void 0,w=f;var he=y,Fe=re;try{Fe()}catch(it){Ee(w,he,it)}}}S=S.next}while(S!==L)}}catch(it){Ee(f,f.return,it)}}function Qu(u){var f=u.updateQueue;if(f!==null){var y=u.stateNode;try{iE(f,y)}catch(S){Ee(u,u.return,S)}}}function rc(u,f,y){y.props=rl(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(S){Ee(u,f,S)}}function Zu(u,f){try{var y=u.ref;if(y!==null){switch(u.tag){case 26:case 27:case 5:var S=u.stateNode;break;case 30:S=u.stateNode;break;default:S=u.stateNode}typeof y=="function"?u.refCleanup=y(S):y.current=S}}catch(w){Ee(u,f,w)}}function al(u,f){var y=u.ref,S=u.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(w){Ee(u,f,w)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(w){Ee(u,f,w)}else y.current=null}function Hf(u){var f=u.type,y=u.memoizedProps,S=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break e;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(w){Ee(u,u.return,w)}}function Gp(u,f,y){try{var S=u.stateNode;fZ(S,u.type,y,f),S[Mi]=f}catch(w){Ee(u,u.return,w)}}function Vp(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Xf(u.type)||u.tag===4}function tu(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Vp(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Xf(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function nu(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(u,f):(f=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,f.appendChild(u),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=XE));else if(S!==4&&(S===27&&Xf(u.type)&&(y=u.stateNode,f=null),u=u.child,u!==null))for(nu(u,f,y),u=u.sibling;u!==null;)nu(u,f,y),u=u.sibling}function iu(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?y.insertBefore(u,f):y.appendChild(u);else if(S!==4&&(S===27&&Xf(u.type)&&(y=u.stateNode),u=u.child,u!==null))for(iu(u,f,y),u=u.sibling;u!==null;)iu(u,f,y),u=u.sibling}function ru(u){var f=u.stateNode,y=u.memoizedProps;try{for(var S=u.type,w=f.attributes;w.length;)f.removeAttributeNode(w[0]);Hs(f,S,y),f[vi]=u,f[Mi]=y}catch(L){Ee(u,u.return,L)}}var ol=!1,Ri=!1,zf=!1,_a=typeof WeakSet=="function"?WeakSet:Set,xi=null;function Ir(u,f){if(u=u.containerInfo,kD=eC,u=xb(u),yp(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var w=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break e}var J=0,re=-1,he=-1,Fe=0,it=0,at=u,Ve=null;t:for(;;){for(var We;at!==y||w!==0&&at.nodeType!==3||(re=J+w),at!==L||S!==0&&at.nodeType!==3||(he=J+S),at.nodeType===3&&(J+=at.nodeValue.length),(We=at.firstChild)!==null;)Ve=at,at=We;for(;;){if(at===u)break t;if(Ve===y&&++Fe===w&&(re=J),Ve===L&&++it===S&&(he=J),(We=at.nextSibling)!==null)break;at=Ve,Ve=at.parentNode}at=We}y=re===-1||he===-1?null:{start:re,end:he}}else y=null}y=y||{start:0,end:0}}else y=null;for(FD={focusedElem:u,selectionRange:y},eC=!1,xi=f;xi!==null;)if(f=xi,u=f.child,(f.subtreeFlags&1024)!==0&&u!==null)u.return=f,xi=u;else for(;xi!==null;){switch(f=xi,L=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&L!==null){u=void 0,y=f,w=L.memoizedProps,L=L.memoizedState,S=y.stateNode;try{var un=rl(y.type,w,y.elementType===y.type);u=S.getSnapshotBeforeUpdate(un,L),S.__reactInternalSnapshotBeforeUpdate=u}catch(Zt){Ee(y,y.return,Zt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,y=u.nodeType,y===9)GD(u);else if(y===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":GD(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=f.sibling,u!==null){u.return=f.return,xi=u;break}xi=f.return}}function sc(u,f,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:ks(u,y),S&4&&Ju(5,y);break;case 1:if(ks(u,y),S&4)if(u=y.stateNode,f===null)try{u.componentDidMount()}catch(J){Ee(y,y.return,J)}else{var w=rl(y.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(w,f,u.__reactInternalSnapshotBeforeUpdate)}catch(J){Ee(y,y.return,J)}}S&64&&Qu(y),S&512&&Zu(y,y.return);break;case 3:if(ks(u,y),S&64&&(u=y.updateQueue,u!==null)){if(f=null,y.child!==null)switch(y.child.tag){case 27:case 5:f=y.child.stateNode;break;case 1:f=y.child.stateNode}try{iE(u,f)}catch(J){Ee(y,y.return,J)}}break;case 27:f===null&&S&4&&ru(y);case 26:case 5:ks(u,y),f===null&&S&4&&Hf(y),S&512&&Zu(y,y.return);break;case 12:ks(u,y);break;case 13:ks(u,y),S&4&&su(u,y),S&64&&(u=y.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(y=ki.bind(null,y),bZ(u,y))));break;case 22:if(S=y.memoizedState!==null||ol,!S){f=f!==null&&f.memoizedState!==null||Ri,w=ol;var L=Ri;ol=S,(Ri=f)&&!L?ll(u,y,(y.subtreeFlags&8772)!==0):ks(u,y),ol=w,Ri=L}break;case 30:break;default:ks(u,y)}}function Sn(u){var f=u.alternate;f!==null&&(u.alternate=null,Sn(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&nn(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Wt=null,Wn=!1;function qa(u,f,y){for(y=y.child;y!==null;)ed(u,f,y),y=y.sibling}function ed(u,f,y){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ze,y)}catch{}switch(y.tag){case 26:Ri||al(y,f),qa(u,f,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Ri||al(y,f);var S=Wt,w=Wn;Xf(y.type)&&(Wt=y.stateNode,Wn=!1),qa(u,f,y),c_(y.stateNode),Wt=S,Wn=w;break;case 5:Ri||al(y,f);case 6:if(S=Wt,w=Wn,Wt=null,qa(u,f,y),Wt=S,Wn=w,Wt!==null)if(Wn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(y.stateNode)}catch(L){Ee(y,f,L)}else try{Wt.removeChild(y.stateNode)}catch(L){Ee(y,f,L)}break;case 18:Wt!==null&&(Wn?(u=Wt,Ik(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,y.stateNode),y_(u)):Ik(Wt,y.stateNode));break;case 4:S=Wt,w=Wn,Wt=y.stateNode.containerInfo,Wn=!0,qa(u,f,y),Wt=S,Wn=w;break;case 0:case 11:case 14:case 15:Ri||ba(2,y,f),Ri||ba(4,y,f),qa(u,f,y);break;case 1:Ri||(al(y,f),S=y.stateNode,typeof S.componentWillUnmount=="function"&&rc(y,f,S)),qa(u,f,y);break;case 21:qa(u,f,y);break;case 22:Ri=(S=Ri)||y.memoizedState!==null,qa(u,f,y),Ri=S;break;default:qa(u,f,y)}}function su(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{y_(u)}catch(y){Ee(f,f.return,y)}}function my(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new _a),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new _a),f;default:throw Error(i(435,u.tag))}}function td(u,f){var y=my(u);f.forEach(function(S){var w=ln.bind(null,u,S);y.has(S)||(y.add(S),S.then(w,w))})}function Wr(u,f){var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var w=y[S],L=u,J=f,re=J;e:for(;re!==null;){switch(re.tag){case 27:if(Xf(re.type)){Wt=re.stateNode,Wn=!1;break e}break;case 5:Wt=re.stateNode,Wn=!1;break e;case 3:case 4:Wt=re.stateNode.containerInfo,Wn=!0;break e}re=re.return}if(Wt===null)throw Error(i(160));ed(L,J,w),Wt=null,Wn=!1,L=w.alternate,L!==null&&(L.return=null),w.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)gy(f,u),f=f.sibling}var To=null;function gy(u,f){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Wr(f,u),Ki(u),S&4&&(ba(3,u,u.return),Ju(3,u),ba(5,u,u.return));break;case 1:Wr(f,u),Ki(u),S&512&&(Ri||y===null||al(y,y.return)),S&64&&ol&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var w=To;if(Wr(f,u),Ki(u),S&512&&(Ri||y===null||al(y,y.return)),S&4){var L=y!==null?y.memoizedState:null;if(S=u.memoizedState,y===null)if(S===null)if(u.stateNode===null){e:{S=u.type,y=u.memoizedProps,w=w.ownerDocument||w;t:switch(S){case"title":L=w.getElementsByTagName("title")[0],(!L||L[$r]||L[vi]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=w.createElement(S),w.head.insertBefore(L,w.querySelector("head > title"))),Hs(L,S,y),L[vi]=u,Li(L),S=L;break e;case"link":var J=Fk("link","href",w).get(S+(y.href||""));if(J){for(var re=0;re<J.length;re++)if(L=J[re],L.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&L.getAttribute("rel")===(y.rel==null?null:y.rel)&&L.getAttribute("title")===(y.title==null?null:y.title)&&L.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){J.splice(re,1);break t}}L=w.createElement(S),Hs(L,S,y),w.head.appendChild(L);break;case"meta":if(J=Fk("meta","content",w).get(S+(y.content||""))){for(re=0;re<J.length;re++)if(L=J[re],L.getAttribute("content")===(y.content==null?null:""+y.content)&&L.getAttribute("name")===(y.name==null?null:y.name)&&L.getAttribute("property")===(y.property==null?null:y.property)&&L.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&L.getAttribute("charset")===(y.charSet==null?null:y.charSet)){J.splice(re,1);break t}}L=w.createElement(S),Hs(L,S,y),w.head.appendChild(L);break;default:throw Error(i(468,S))}L[vi]=u,Li(L),S=L}u.stateNode=S}else Hk(w,u.type,u.stateNode);else u.stateNode=kk(w,S,u.memoizedProps);else L!==S?(L===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):L.count--,S===null?Hk(w,u.type,u.stateNode):kk(w,S,u.memoizedProps)):S===null&&u.stateNode!==null&&Gp(u,u.memoizedProps,y.memoizedProps)}break;case 27:Wr(f,u),Ki(u),S&512&&(Ri||y===null||al(y,y.return)),y!==null&&S&4&&Gp(u,u.memoizedProps,y.memoizedProps);break;case 5:if(Wr(f,u),Ki(u),S&512&&(Ri||y===null||al(y,y.return)),u.flags&32){w=u.stateNode;try{Is(w,"")}catch(We){Ee(u,u.return,We)}}S&4&&u.stateNode!=null&&(w=u.memoizedProps,Gp(u,w,y!==null?y.memoizedProps:w)),S&1024&&(zf=!0);break;case 6:if(Wr(f,u),Ki(u),S&4){if(u.stateNode===null)throw Error(i(162));S=u.memoizedProps,y=u.stateNode;try{y.nodeValue=S}catch(We){Ee(u,u.return,We)}}break;case 3:if(JE=null,w=To,To=$E(f.containerInfo),Wr(f,u),To=w,Ki(u),S&4&&y!==null&&y.memoizedState.isDehydrated)try{y_(f.containerInfo)}catch(We){Ee(u,u.return,We)}zf&&(zf=!1,au(u));break;case 4:S=To,To=$E(u.stateNode.containerInfo),Wr(f,u),Ki(u),To=S;break;case 12:Wr(f,u),Ki(u);break;case 13:Wr(f,u),Ki(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(gi=ke()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,td(u,S)));break;case 22:w=u.memoizedState!==null;var he=y!==null&&y.memoizedState!==null,Fe=ol,it=Ri;if(ol=Fe||w,Ri=it||he,Wr(f,u),Ri=it,ol=Fe,Ki(u),S&8192)e:for(f=u.stateNode,f._visibility=w?f._visibility&-2:f._visibility|1,w&&(y===null||he||ol||Ri||xa(u)),y=null,f=u;;){if(f.tag===5||f.tag===26){if(y===null){he=y=f;try{if(L=he.stateNode,w)J=L.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{re=he.stateNode;var at=he.memoizedProps.style,Ve=at!=null&&at.hasOwnProperty("display")?at.display:null;re.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(We){Ee(he,he.return,We)}}}else if(f.tag===6){if(y===null){he=f;try{he.stateNode.nodeValue=w?"":he.memoizedProps}catch(We){Ee(he,he.return,We)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=u.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,td(u,y))));break;case 19:Wr(f,u),Ki(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,td(u,S)));break;case 30:break;case 21:break;default:Wr(f,u),Ki(u)}}function Ki(u){var f=u.flags;if(f&2){try{for(var y,S=u.return;S!==null;){if(Vp(S)){y=S;break}S=S.return}if(y==null)throw Error(i(160));switch(y.tag){case 27:var w=y.stateNode,L=tu(u);iu(u,L,w);break;case 5:var J=y.stateNode;y.flags&32&&(Is(J,""),y.flags&=-33);var re=tu(u);iu(u,re,J);break;case 3:case 4:var he=y.stateNode.containerInfo,Fe=tu(u);nu(u,Fe,he);break;default:throw Error(i(161))}}catch(it){Ee(u,u.return,it)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function au(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;au(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function ks(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)sc(u,f.alternate,f),f=f.sibling}function xa(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:ba(4,f,f.return),xa(f);break;case 1:al(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&rc(f,f.return,y),xa(f);break;case 27:c_(f.stateNode);case 26:case 5:al(f,f.return),xa(f);break;case 22:f.memoizedState===null&&xa(f);break;case 30:xa(f);break;default:xa(f)}u=u.sibling}}function ll(u,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,w=u,L=f,J=L.flags;switch(L.tag){case 0:case 11:case 15:ll(w,L,y),Ju(4,L);break;case 1:if(ll(w,L,y),S=L,w=S.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Fe){Ee(S,S.return,Fe)}if(S=L,w=S.updateQueue,w!==null){var re=S.stateNode;try{var he=w.shared.hiddenCallbacks;if(he!==null)for(w.shared.hiddenCallbacks=null,w=0;w<he.length;w++)Df(he[w],re)}catch(Fe){Ee(S,S.return,Fe)}}y&&J&64&&Qu(L),Zu(L,L.return);break;case 27:ru(L);case 26:case 5:ll(w,L,y),y&&S===null&&J&4&&Hf(L),Zu(L,L.return);break;case 12:ll(w,L,y);break;case 13:ll(w,L,y),y&&J&4&&su(w,L);break;case 22:L.memoizedState===null&&ll(w,L,y),Zu(L,L.return);break;case 30:break;default:ll(w,L,y)}f=f.sibling}}function yy(u,f){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Ef(y))}function vy(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ef(u))}function Si(u,f,y,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)by(u,f,y,S),f=f.sibling}function by(u,f,y,S){var w=f.flags;switch(f.tag){case 0:case 11:case 15:Si(u,f,y,S),w&2048&&Ju(9,f);break;case 1:Si(u,f,y,S);break;case 3:Si(u,f,y,S),w&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ef(u)));break;case 12:if(w&2048){Si(u,f,y,S),u=f.stateNode;try{var L=f.memoizedProps,J=L.id,re=L.onPostCommit;typeof re=="function"&&re(J,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(he){Ee(f,f.return,he)}}else Si(u,f,y,S);break;case 13:Si(u,f,y,S);break;case 23:break;case 22:L=f.stateNode,J=f.alternate,f.memoizedState!==null?L._visibility&2?Si(u,f,y,S):Mo(u,f):L._visibility&2?Si(u,f,y,S):(L._visibility|=2,ac(u,f,y,S,(f.subtreeFlags&10256)!==0)),w&2048&&yy(J,f);break;case 24:Si(u,f,y,S),w&2048&&vy(f.alternate,f);break;default:Si(u,f,y,S)}}function ac(u,f,y,S,w){for(w=w&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var L=u,J=f,re=y,he=S,Fe=J.flags;switch(J.tag){case 0:case 11:case 15:ac(L,J,re,he,w),Ju(8,J);break;case 23:break;case 22:var it=J.stateNode;J.memoizedState!==null?it._visibility&2?ac(L,J,re,he,w):Mo(L,J):(it._visibility|=2,ac(L,J,re,he,w)),w&&Fe&2048&&yy(J.alternate,J);break;case 24:ac(L,J,re,he,w),w&&Fe&2048&&vy(J.alternate,J);break;default:ac(L,J,re,he,w)}f=f.sibling}}function Mo(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=u,S=f,w=S.flags;switch(S.tag){case 22:Mo(y,S),w&2048&&yy(S.alternate,S);break;case 24:Mo(y,S),w&2048&&vy(S.alternate,S);break;default:Mo(y,S)}f=f.sibling}}var Sa=8192;function Gf(u){if(u.subtreeFlags&Sa)for(u=u.child;u!==null;)VE(u),u=u.sibling}function VE(u){switch(u.tag){case 26:Gf(u),u.flags&Sa&&u.memoizedState!==null&&OZ(To,u.memoizedState,u.memoizedProps);break;case 5:Gf(u);break;case 3:case 4:var f=To;To=$E(u.stateNode.containerInfo),Gf(u),To=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Sa,Sa=16777216,Gf(u),Sa=f):Gf(u));break;default:Gf(u)}}function jE(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Di(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];xi=S,ul(S,u)}jE(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)r_(u),u=u.sibling}function r_(u){switch(u.tag){case 0:case 11:case 15:Di(u),u.flags&2048&&ba(9,u,u.return);break;case 3:Di(u);break;case 12:Di(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,cl(u)):Di(u);break;default:Di(u)}}function cl(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];xi=S,ul(S,u)}jE(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:ba(8,f,f.return),cl(f);break;case 22:y=f.stateNode,y._visibility&2&&(y._visibility&=-3,cl(f));break;default:cl(f)}u=u.sibling}}function ul(u,f){for(;xi!==null;){var y=xi;switch(y.tag){case 0:case 11:case 15:ba(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Ef(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,xi=S;else e:for(y=u;xi!==null;){S=xi;var w=S.sibling,L=S.return;if(Sn(S),S===y){xi=null;break e}if(w!==null){w.return=L,xi=w;break e}xi=L}}}var Ji={getCacheForType:function(u){var f=$i(yr),y=f.data.get(u);return y===void 0&&(y=u(),f.data.set(u,y)),y}},s_=typeof WeakMap=="function"?WeakMap:Map,ii=0,pn=null,Mn=null,jt=0,_n=0,Yi=null,Aa=!1,Vf=!1,jf=!1,$a=0,Ui=0,wo=0,dl=0,nd=0,Ka=0,Yn=0,ri=null,qt=null,Pn=!1,gi=0,ms=1/0,Ja=null,Ea=null,Or=0,gs=null,Ai=null,Ca=0,oc=0,jp=null,Ta=null,fl=0,id=null;function Qi(){if((ii&2)!==0&&jt!==0)return jt&-jt;if(H.T!==null){var u=gn;return u!==0?u:ID()}return Qt()}function _y(){Ka===0&&(Ka=(jt&536870912)===0||$n?ce():536870912);var u=_i.current;return u!==null&&(u.flags|=32),Ka}function Fs(u,f,y){(u===pn&&(_n===2||_n===9)||u.cancelPendingCommit!==null)&&(lu(u,0),Ro(u,jt,Ka,!1)),$e(u,y),((ii&2)===0||u!==pn)&&(u===pn&&((ii&2)===0&&(dl|=y),Ui===4&&Ro(u,jt,Ka,!1)),du(u))}function Wf(u,f,y){if((ii&6)!==0)throw Error(i(327));var S=!y&&(f&124)===0&&(f&u.expiredLanes)===0||Xe(u,f),w=S?D(u,f):g(u,f,!0),L=S;do{if(w===0){Vf&&!S&&Ro(u,f,0,!1);break}else{if(y=u.current.alternate,L&&!ou(y)){w=g(u,f,!1),L=!1;continue}if(w===2){if(L=f,u.errorRecoveryDisabledLanes&L)var J=0;else J=u.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){f=J;e:{var re=u;w=ri;var he=re.current.memoizedState.isDehydrated;if(he&&(lu(re,J).flags|=256),J=g(re,J,!1),J!==2){if(jf&&!he){re.errorRecoveryDisabledLanes|=L,dl|=L,w=4;break e}L=qt,qt=w,L!==null&&(qt===null?qt=L:qt.push.apply(qt,L))}w=J}if(L=!1,w!==2)continue}}if(w===1){lu(u,0),Ro(u,f,0,!0);break}e:{switch(S=u,L=w,L){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Ro(S,f,Ka,!Aa);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(w=gi+300-ke(),10<w)){if(Ro(S,f,Ka,!Aa),ge(S,0,!0)!==0)break e;S.timeoutHandle=Rk(Wp.bind(null,S,y,qt,Ja,Pn,f,Ka,dl,Yn,Aa,L,2,-0,0),w);break e}Wp(S,y,qt,Ja,Pn,f,Ka,dl,Yn,Aa,L,0,-0,0)}}break}while(!0);du(u)}function Wp(u,f,y,S,w,L,J,re,he,Fe,it,at,Ve,We){if(u.timeoutHandle=-1,at=f.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(f_={stylesheets:null,count:0,unsuspend:IZ},VE(f),at=PZ(),at!==null)){u.cancelPendingCommit=at(pt.bind(null,u,f,L,y,S,w,J,re,he,it,1,Ve,We)),Ro(u,L,J,!Fe);return}pt(u,f,L,y,S,w,J,re,he)}function ou(u){for(var f=u;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var w=y[S],L=w.getSnapshot;w=w.value;try{if(!Ws(L(),w))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ro(u,f,y,S){f&=~nd,f&=~dl,u.suspendedLanes|=f,u.pingedLanes&=~f,S&&(u.warmLanes|=f),S=u.expirationTimes;for(var w=f;0<w;){var L=31-Et(w),J=1<<L;S[L]=-1,w&=~J}y!==0&&mt(u,y,f)}function hl(){return(ii&6)===0?(a_(0),!1):!0}function rd(){if(Mn!==null){if(_n===0)var u=Mn.return;else u=Mn,$l=Wc=null,zb(u),Gu=null,Up=0,u=Mn;for(;u!==null;)Ff(u.alternate,u),u=u.return;Mn=null}}function lu(u,f){var y=u.timeoutHandle;y!==-1&&(u.timeoutHandle=-1,pZ(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),rd(),pn=u,Mn=y=sr(u.current,null),jt=f,_n=0,Yi=null,Aa=!1,Vf=Xe(u,f),jf=!1,Yn=Ka=nd=dl=wo=Ui=0,qt=ri=null,Pn=!1,(f&8)!==0&&(f|=f&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=f;0<S;){var w=31-Et(S),L=1<<w;f|=u[w],S&=~L}return $a=f,_p(),y}function xy(u,f){yn=null,H.H=Lp,f===Dp||f===_o?(f=Lb(),_n=3):f===Bb?(f=Lb(),_n=4):_n=f===GE?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Yi=f,Mn===null&&(Ui=1,fy(u,ts(f,u.current)))}function Yf(){var u=H.H;return H.H=Lp,u===null?Lp:u}function Sy(){var u=H.A;return H.A=Ji,u}function p(){Ui=4,Aa||(jt&4194048)!==jt&&_i.current!==null||(Vf=!0),(wo&134217727)===0&&(dl&134217727)===0||pn===null||Ro(pn,jt,Ka,!1)}function g(u,f,y){var S=ii;ii|=2;var w=Yf(),L=Sy();(pn!==u||jt!==f)&&(Ja=null,lu(u,f)),f=!1;var J=Ui;e:do try{if(_n!==0&&Mn!==null){var re=Mn,he=Yi;switch(_n){case 8:rd(),J=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(f=!0);var Fe=_n;if(_n=0,Yi=null,me(u,re,he,Fe),y&&Vf){J=0;break e}break;default:Fe=_n,_n=0,Yi=null,me(u,re,he,Fe)}}E(),J=Ui;break}catch(it){xy(u,it)}while(!0);return f&&u.shellSuspendCounter++,$l=Wc=null,ii=S,H.H=w,H.A=L,Mn===null&&(pn=null,jt=0,_p()),J}function E(){for(;Mn!==null;)z(Mn)}function D(u,f){var y=ii;ii|=2;var S=Yf(),w=Sy();pn!==u||jt!==f?(Ja=null,ms=ke()+500,lu(u,f)):Vf=Xe(u,f);e:do try{if(_n!==0&&Mn!==null){f=Mn;var L=Yi;t:switch(_n){case 1:_n=0,Yi=null,me(u,f,L,1);break;case 2:case 9:if(Jg(L)){_n=0,Yi=null,se(f);break}f=function(){_n!==2&&_n!==9||pn!==u||(_n=7),du(u)},L.then(f,f);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:Jg(L)?(_n=0,Yi=null,se(f)):(_n=0,Yi=null,me(u,f,L,7));break;case 5:var J=null;switch(Mn.tag){case 26:J=Mn.memoizedState;case 5:case 27:var re=Mn;if(!J||zk(J)){_n=0,Yi=null;var he=re.sibling;if(he!==null)Mn=he;else{var Fe=re.return;Fe!==null?(Mn=Fe,Ie(Fe)):Mn=null}break t}}_n=0,Yi=null,me(u,f,L,5);break;case 6:_n=0,Yi=null,me(u,f,L,6);break;case 8:rd(),Ui=6;break e;default:throw Error(i(462))}}k();break}catch(it){xy(u,it)}while(!0);return $l=Wc=null,H.H=S,H.A=w,ii=y,Mn!==null?0:(pn=null,jt=0,_p(),Ui)}function k(){for(;Mn!==null&&!Oe();)z(Mn)}function z(u){var f=$u(u.alternate,u,$a);u.memoizedProps=u.pendingProps,f===null?Ie(u):Mn=f}function se(u){var f=u,y=f.alternate;switch(f.tag){case 15:case 0:f=ya(y,f,f.pendingProps,f.type,void 0,jt);break;case 11:f=ya(y,f,f.pendingProps,f.type.render,f.ref,jt);break;case 5:zb(f);default:Ff(y,f),f=Mn=wb(f,$a),f=$u(y,f,$a)}u.memoizedProps=u.pendingProps,f===null?Ie(u):Mn=f}function me(u,f,y,S){$l=Wc=null,zb(f),Gu=null,Up=0;var w=f.return;try{if(RD(u,w,f,y,jt)){Ui=1,fy(u,ts(y,u.current)),Mn=null;return}}catch(L){if(w!==null)throw Mn=w,L;Ui=1,fy(u,ts(y,u.current)),Mn=null;return}f.flags&32768?($n||S===1?u=!0:Vf||(jt&536870912)!==0?u=!1:(Aa=u=!0,(S===2||S===9||S===3||S===6)&&(S=_i.current,S!==null&&S.tag===13&&(S.flags|=16384))),nt(f,u)):Ie(f)}function Ie(u){var f=u;do{if((f.flags&32768)!==0){nt(f,Aa);return}u=f.return;var y=i_(f.alternate,f,$a);if(y!==null){Mn=y;return}if(f=f.sibling,f!==null){Mn=f;return}Mn=f=u}while(f!==null);Ui===0&&(Ui=5)}function nt(u,f){do{var y=kf(u.alternate,u);if(y!==null){y.flags&=32767,Mn=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(u=u.sibling,u!==null)){Mn=u;return}Mn=u=y}while(u!==null);Ui=6,Mn=null}function pt(u,f,y,S,w,L,J,re,he){u.cancelPendingCommit=null;do cu();while(Or!==0);if((ii&6)!==0)throw Error(i(327));if(f!==null){if(f===u.current)throw Error(i(177));if(L=f.lanes|f.childLanes,L|=Gg,vt(u,y,L,J,re,he),u===pn&&(Mn=pn=null,jt=0),Ai=f,gs=u,Ca=y,oc=L,jp=w,Ta=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Kn(ie,function(){return uu(),null})):(u.callbackNode=null,u.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=H.T,H.T=null,w=Y.p,Y.p=2,J=ii,ii|=4;try{Ir(u,f,y)}finally{ii=J,Y.p=w,H.T=S}}Or=1,Ot(),Bt(),mn()}}function Ot(){if(Or===1){Or=0;var u=gs,f=Ai,y=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||y){y=H.T,H.T=null;var S=Y.p;Y.p=2;var w=ii;ii|=4;try{gy(f,u);var L=FD,J=xb(u.containerInfo),re=L.focusedElem,he=L.selectionRange;if(J!==re&&re&&re.ownerDocument&&_b(re.ownerDocument.documentElement,re)){if(he!==null&&yp(re)){var Fe=he.start,it=he.end;if(it===void 0&&(it=Fe),"selectionStart"in re)re.selectionStart=Fe,re.selectionEnd=Math.min(it,re.value.length);else{var at=re.ownerDocument||document,Ve=at&&at.defaultView||window;if(Ve.getSelection){var We=Ve.getSelection(),un=re.textContent.length,Zt=Math.min(he.start,un),Oi=he.end===void 0?Zt:Math.min(he.end,un);!We.extend&&Zt>Oi&&(J=Oi,Oi=Zt,Zt=J);var Re=bb(re,Zt),Te=bb(re,Oi);if(Re&&Te&&(We.rangeCount!==1||We.anchorNode!==Re.node||We.anchorOffset!==Re.offset||We.focusNode!==Te.node||We.focusOffset!==Te.offset)){var Ue=at.createRange();Ue.setStart(Re.node,Re.offset),We.removeAllRanges(),Zt>Oi?(We.addRange(Ue),We.extend(Te.node,Te.offset)):(Ue.setEnd(Te.node,Te.offset),We.addRange(Ue))}}}}for(at=[],We=re;We=We.parentNode;)We.nodeType===1&&at.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<at.length;re++){var st=at[re];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}eC=!!kD,FD=kD=null}finally{ii=w,Y.p=S,H.T=y}}u.current=f,Or=2}}function Bt(){if(Or===2){Or=0;var u=gs,f=Ai,y=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||y){y=H.T,H.T=null;var S=Y.p;Y.p=2;var w=ii;ii|=4;try{sc(u,f.alternate,f)}finally{ii=w,Y.p=S,H.T=y}}Or=3}}function mn(){if(Or===4||Or===3){Or=0,we();var u=gs,f=Ai,y=Ca,S=Ta;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Or=5:(Or=0,Ai=gs=null,Ma(u,u.pendingLanes));var w=u.pendingLanes;if(w===0&&(Ea=null),Hn(y),f=f.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ze,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=H.T,w=Y.p,Y.p=2,H.T=null;try{for(var L=u.onRecoverableError,J=0;J<S.length;J++){var re=S[J];L(re.value,{componentStack:re.stack})}}finally{H.T=f,Y.p=w}}(Ca&3)!==0&&cu(),du(u),w=u.pendingLanes,(y&4194090)!==0&&(w&42)!==0?u===id?fl++:(fl=0,id=u):fl=0,a_(0)}}function Ma(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Ef(f)))}function cu(u){return Ot(),Bt(),mn(),uu()}function uu(){if(Or!==5)return!1;var u=gs,f=oc;oc=0;var y=Hn(Ca),S=H.T,w=Y.p;try{Y.p=32>y?32:y,H.T=null,y=jp,jp=null;var L=gs,J=Ca;if(Or=0,Ai=gs=null,Ca=0,(ii&6)!==0)throw Error(i(331));var re=ii;if(ii|=4,r_(L.current),by(L,L.current,J,y),ii=re,a_(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ze,L)}catch{}return!0}finally{Y.p=w,H.T=S,Ma(u,f)}}function Ge(u,f,y){f=ts(y,f),f=hy(u.stateNode,f,2),u=Ql(u,f,2),u!==null&&($e(u,2),du(u))}function Ee(u,f,y){if(u.tag===3)Ge(u,u,y);else for(;f!==null;){if(f.tag===3){Ge(f,u,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ea===null||!Ea.has(S))){u=ts(y,u),y=zE(2),S=Ql(f,y,2),S!==null&&(py(y,S,f,u),$e(S,2),du(S));break}}f=f.return}}function Ye(u,f,y){var S=u.pingCache;if(S===null){S=u.pingCache=new s_;var w=new Set;S.set(f,w)}else w=S.get(f),w===void 0&&(w=new Set,S.set(f,w));w.has(y)||(jf=!0,w.add(y),u=dt.bind(null,u,f,y),f.then(u,u))}function dt(u,f,y){var S=u.pingCache;S!==null&&S.delete(f),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,pn===u&&(jt&y)===y&&(Ui===4||Ui===3&&(jt&62914560)===jt&&300>ke()-gi?(ii&2)===0&&lu(u,0):nd|=y,Yn===jt&&(Yn=0)),du(u)}function zt(u,f){f===0&&(f=et()),u=Xl(u,f),u!==null&&($e(u,f),du(u))}function ki(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),zt(u,y)}function ln(u,f){var y=0;switch(u.tag){case 13:var S=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(i(314))}S!==null&&S.delete(f),zt(u,y)}function Kn(u,f){return _e(u,f)}var cr=null,In=null,pl=!1,Ay=!1,DD=!1,Yp=0;function du(u){u!==In&&u.next===null&&(In===null?cr=In=u:In=In.next=u),Ay=!0,pl||(pl=!0,sZ())}function a_(u,f){if(!DD&&Ay){DD=!0;do for(var y=!1,S=cr;S!==null;){if(u!==0){var w=S.pendingLanes;if(w===0)var L=0;else{var J=S.suspendedLanes,re=S.pingedLanes;L=(1<<31-Et(42|u)+1)-1,L&=w&~(J&~re),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(y=!0,bk(S,L))}else L=jt,L=ge(S,S===pn?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(L&3)===0||Xe(S,L)||(y=!0,bk(S,L));S=S.next}while(y);DD=!1}}function rZ(){gk()}function gk(){Ay=pl=!1;var u=0;Yp!==0&&(hZ()&&(u=Yp),Yp=0);for(var f=ke(),y=null,S=cr;S!==null;){var w=S.next,L=yk(S,f);L===0?(S.next=null,y===null?cr=w:y.next=w,w===null&&(In=y)):(y=S,(u!==0||(L&3)!==0)&&(Ay=!0)),S=w}a_(u)}function yk(u,f){for(var y=u.suspendedLanes,S=u.pingedLanes,w=u.expirationTimes,L=u.pendingLanes&-62914561;0<L;){var J=31-Et(L),re=1<<J,he=w[J];he===-1?((re&y)===0||(re&S)!==0)&&(w[J]=gt(re,f)):he<=f&&(u.expiredLanes|=re),L&=~re}if(f=pn,y=jt,y=ge(u,u===f?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S=u.callbackNode,y===0||u===f&&(_n===2||_n===9)||u.cancelPendingCommit!==null)return S!==null&&S!==null&&Q(S),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||Xe(u,y)){if(f=y&-y,f===u.callbackPriority)return f;switch(S!==null&&Q(S),Hn(y)){case 2:case 8:y=De;break;case 32:y=ie;break;case 268435456:y=Ae;break;default:y=ie}return S=vk.bind(null,u),y=_e(y,S),u.callbackPriority=f,u.callbackNode=y,f}return S!==null&&S!==null&&Q(S),u.callbackPriority=2,u.callbackNode=null,2}function vk(u,f){if(Or!==0&&Or!==5)return u.callbackNode=null,u.callbackPriority=0,null;var y=u.callbackNode;if(cu()&&u.callbackNode!==y)return null;var S=jt;return S=ge(u,u===pn?S:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S===0?null:(Wf(u,S,f),yk(u,ke()),u.callbackNode!=null&&u.callbackNode===y?vk.bind(null,u):null)}function bk(u,f){if(cu())return null;Wf(u,f,!0)}function sZ(){mZ(function(){(ii&6)!==0?_e(ut,rZ):gk()})}function ID(){return Yp===0&&(Yp=ce()),Yp}function _k(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:rp(""+u)}function xk(u,f){var y=f.ownerDocument.createElement("input");return y.name=f.name,y.value=f.value,u.id&&y.setAttribute("form",u.id),f.parentNode.insertBefore(y,f),u=new FormData(u),y.parentNode.removeChild(y),u}function aZ(u,f,y,S,w){if(f==="submit"&&y&&y.stateNode===w){var L=_k((w[Mi]||null).action),J=S.submitter;J&&(f=(f=J[Mi]||null)?_k(f.formAction):J.getAttribute("formAction"),f!==null&&(L=f,J=null));var re=new df("action","action",null,S,w);u.push({event:re,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Yp!==0){var he=J?xk(w,J):new FormData(w);Zb(y,{pending:!0,data:he,method:w.method,action:L},null,he)}}else typeof L=="function"&&(re.preventDefault(),he=J?xk(w,J):new FormData(w),Zb(y,{pending:!0,data:he,method:w.method,action:L},L,he))},currentTarget:w}]})}}for(var OD=0;OD<bp.length;OD++){var PD=bp[OD],oZ=PD.toLowerCase(),lZ=PD[0].toUpperCase()+PD.slice(1);zr(oZ,"on"+lZ)}zr(Ps,"onAnimationEnd"),zr(Eb,"onAnimationIteration"),zr(Xs,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(ZA,"onTransitionRun"),zr(Wl,"onTransitionStart"),zr(bf,"onTransitionCancel"),zr(Yl,"onTransitionEnd"),te("onMouseEnter",["mouseout","mouseover"]),te("onMouseLeave",["mouseout","mouseover"]),te("onPointerEnter",["pointerout","pointerover"]),te("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(o_));function Sk(u,f){f=(f&4)!==0;for(var y=0;y<u.length;y++){var S=u[y],w=S.event;S=S.listeners;e:{var L=void 0;if(f)for(var J=S.length-1;0<=J;J--){var re=S[J],he=re.instance,Fe=re.currentTarget;if(re=re.listener,he!==L&&w.isPropagationStopped())break e;L=re,w.currentTarget=Fe;try{L(w)}catch(it){ju(it)}w.currentTarget=null,L=he}else for(J=0;J<S.length;J++){if(re=S[J],he=re.instance,Fe=re.currentTarget,re=re.listener,he!==L&&w.isPropagationStopped())break e;L=re,w.currentTarget=Fe;try{L(w)}catch(it){ju(it)}w.currentTarget=null,L=he}}}}function Ln(u,f){var y=f[kr];y===void 0&&(y=f[kr]=new Set);var S=u+"__bubble";y.has(S)||(Ak(f,u,2,!1),y.add(S))}function ND(u,f,y){var S=0;f&&(S|=4),Ak(y,u,S,f)}var WE="_reactListening"+Math.random().toString(36).slice(2);function BD(u){if(!u[WE]){u[WE]=!0,Ze.forEach(function(y){y!=="selectionchange"&&(cZ.has(y)||ND(y,!1,u),ND(y,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[WE]||(f[WE]=!0,ND("selectionchange",!1,f))}}function Ak(u,f,y,S){switch(Xk(f)){case 2:var w=LZ;break;case 8:w=UZ;break;default:w=$D}y=w.bind(null,f,y,u),w=void 0,!ap||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(w=!0),S?w!==void 0?u.addEventListener(f,y,{capture:!0,passive:w}):u.addEventListener(f,y,!0):w!==void 0?u.addEventListener(f,y,{passive:w}):u.addEventListener(f,y,!1)}function LD(u,f,y,S,w){var L=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var J=S.tag;if(J===3||J===4){var re=S.stateNode.containerInfo;if(re===w)break;if(J===4)for(J=S.return;J!==null;){var he=J.tag;if((he===3||he===4)&&J.stateNode.containerInfo===w)return;J=J.return}for(;re!==null;){if(J=ti(re),J===null)return;if(he=J.tag,he===5||he===6||he===26||he===27){S=L=J;continue e}re=re.parentNode}}S=S.return}ob(function(){var Fe=L,it=Rg(y),at=[];e:{var Ve=zg.get(u);if(Ve!==void 0){var We=df,un=u;switch(u){case"keypress":if(Pc(y)===0)break e;case"keydown":case"keyup":We=fb;break;case"focusin":un="focus",We=Ig;break;case"focusout":un="blur",We=Ig;break;case"beforeblur":case"afterblur":We=Ig;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=vD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=pb;break;case Ps:case Eb:case Xs:We=kA;break;case Yl:We=zl;break;case"scroll":case"scrollend":We=BA;break;case"wheel":We=bD;break;case"copy":case"cut":case"paste":We=HA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Pg;break;case"toggle":case"beforetoggle":We=Bc}var Zt=(f&4)!==0,Oi=!Zt&&(u==="scroll"||u==="scrollend"),Re=Zt?Ve!==null?Ve+"Capture":null:Ve;Zt=[];for(var Te=Fe,Ue;Te!==null;){var st=Te;if(Ue=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Ue===null||Re===null||(st=lf(Te,Re),st!=null&&Zt.push(l_(Te,st,Ue))),Oi)break;Te=Te.return}0<Zt.length&&(Ve=new We(Ve,un,null,y,it),at.push({event:Ve,listeners:Zt}))}}if((f&7)===0){e:{if(Ve=u==="mouseover"||u==="pointerover",We=u==="mouseout"||u==="pointerout",Ve&&y!==wg&&(un=y.relatedTarget||y.fromElement)&&(ti(un)||un[qi]))break e;if((We||Ve)&&(Ve=it.window===it?it:(Ve=it.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,We?(un=y.relatedTarget||y.toElement,We=Fe,un=un?ti(un):null,un!==null&&(Oi=s(un),Zt=un.tag,un!==Oi||Zt!==5&&Zt!==27&&Zt!==6)&&(un=null)):(We=null,un=Fe),We!==un)){if(Zt=ub,st="onMouseLeave",Re="onMouseEnter",Te="mouse",(u==="pointerout"||u==="pointerover")&&(Zt=Pg,st="onPointerLeave",Re="onPointerEnter",Te="pointer"),Oi=We==null?Ve:ka(We),Ue=un==null?Ve:ka(un),Ve=new Zt(st,Te+"leave",We,y,it),Ve.target=Oi,Ve.relatedTarget=Ue,st=null,ti(it)===Fe&&(Zt=new Zt(Re,Te+"enter",un,y,it),Zt.target=Ue,Zt.relatedTarget=Oi,st=Zt),Oi=st,We&&un)t:{for(Zt=We,Re=un,Te=0,Ue=Zt;Ue;Ue=Ey(Ue))Te++;for(Ue=0,st=Re;st;st=Ey(st))Ue++;for(;0<Te-Ue;)Zt=Ey(Zt),Te--;for(;0<Ue-Te;)Re=Ey(Re),Ue--;for(;Te--;){if(Zt===Re||Re!==null&&Zt===Re.alternate)break t;Zt=Ey(Zt),Re=Ey(Re)}Zt=null}else Zt=null;We!==null&&Ek(at,Ve,We,Zt,!1),un!==null&&Oi!==null&&Ek(at,Oi,un,Zt,!0)}}e:{if(Ve=Fe?ka(Fe):window,We=Ve.nodeName&&Ve.nodeName.toLowerCase(),We==="select"||We==="input"&&Ve.type==="file")var Ft=Bg;else if(vb(Ve))if(Lg)Ft=kc;else{Ft=KA;var Nn=_D}else We=Ve.nodeName,!We||We.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Fe&&Mg(Fe.elementType)&&(Ft=Bg):Ft=gp;if(Ft&&(Ft=Ft(u,Fe))){js(at,Ft,y,it);break e}Nn&&Nn(u,Ve,Fe),u==="focusout"&&Fe&&Ve.type==="number"&&Fe.memoizedProps.value!=null&&Jr(Ve,"number",Ve.value)}switch(Nn=Fe?ka(Fe):window,u){case"focusin":(vb(Nn)||Nn.contentEditable==="true")&&(Vl=Nn,kg=Fe,vp=null);break;case"focusout":vp=kg=Vl=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,Ab(at,y,it);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":Ab(at,y,it)}var Gt;if(up)e:{switch(u){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Uc?hp(u,y)&&(rn="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(rn="onCompositionStart");rn&&(fp&&y.locale!=="ko"&&(Uc||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Uc&&(Gt=cb()):(Fl=it,lb="value"in Fl?Fl.value:Fl.textContent,Uc=!0)),Nn=YE(Fe,rn),0<Nn.length&&(rn=new Og(rn,u,null,y,it),at.push({event:rn,listeners:Nn}),Gt?rn.data=Gt:(Gt=gb(y),Gt!==null&&(rn.data=Gt)))),(Gt=dp?pp(u,y):yb(u,y))&&(rn=YE(Fe,"onBeforeInput"),0<rn.length&&(Nn=new Og("onBeforeInput","beforeinput",null,y,it),at.push({event:Nn,listeners:rn}),Nn.data=Gt)),aZ(at,u,Fe,y,it)}Sk(at,f)})}function l_(u,f,y){return{instance:u,listener:f,currentTarget:y}}function YE(u,f){for(var y=f+"Capture",S=[];u!==null;){var w=u,L=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||L===null||(w=lf(u,y),w!=null&&S.unshift(l_(u,w,L)),w=lf(u,f),w!=null&&S.push(l_(u,w,L))),u.tag===3)return S;u=u.return}return[]}function Ey(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function Ek(u,f,y,S,w){for(var L=f._reactName,J=[];y!==null&&y!==S;){var re=y,he=re.alternate,Fe=re.stateNode;if(re=re.tag,he!==null&&he===S)break;re!==5&&re!==26&&re!==27||Fe===null||(he=Fe,w?(Fe=lf(y,L),Fe!=null&&J.unshift(l_(y,Fe,he))):w||(Fe=lf(y,L),Fe!=null&&J.push(l_(y,Fe,he)))),y=y.return}J.length!==0&&u.push({event:f,listeners:J})}var uZ=/\r\n?/g,dZ=/\u0000|\uFFFD/g;function Ck(u){return(typeof u=="string"?u:""+u).replace(uZ,`
`).replace(dZ,"")}function Tk(u,f){return f=Ck(f),Ck(u)===f}function XE(){}function Ii(u,f,y,S,w,L){switch(y){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||Is(u,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&Is(u,""+S);break;case"className":_t(u,"class",S);break;case"tabIndex":_t(u,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":_t(u,y,S);break;case"style":ip(u,S,L);break;case"data":if(f!=="object"){_t(u,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||y!=="href")){u.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(y);break}S=rp(""+S),u.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){u.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(y==="formAction"?(f!=="input"&&Ii(u,f,"name",w.name,w,null),Ii(u,f,"formEncType",w.formEncType,w,null),Ii(u,f,"formMethod",w.formMethod,w,null),Ii(u,f,"formTarget",w.formTarget,w,null)):(Ii(u,f,"encType",w.encType,w,null),Ii(u,f,"method",w.method,w,null),Ii(u,f,"target",w.target,w,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(y);break}S=rp(""+S),u.setAttribute(y,S);break;case"onClick":S!=null&&(u.onclick=XE);break;case"onScroll":S!=null&&Ln("scroll",u);break;case"onScrollEnd":S!=null&&Ln("scrollend",u);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(y=S.__html,y!=null){if(w.children!=null)throw Error(i(60));u.innerHTML=y}}break;case"multiple":u.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":u.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){u.removeAttribute("xlink:href");break}y=rp(""+S),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(y,""+S):u.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(y,""):u.removeAttribute(y);break;case"capture":case"download":S===!0?u.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(y,S):u.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?u.setAttribute(y,S):u.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?u.removeAttribute(y):u.setAttribute(y,S);break;case"popover":Ln("beforetoggle",u),Ln("toggle",u),ot(u,"popover",S);break;case"xlinkActuate":xt(u,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":xt(u,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":xt(u,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":xt(u,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":xt(u,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":xt(u,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":xt(u,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":xt(u,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":xt(u,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":ot(u,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=sb.get(y)||y,ot(u,y,S))}}function UD(u,f,y,S,w,L){switch(y){case"style":ip(u,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(y=S.__html,y!=null){if(w.children!=null)throw Error(i(60));u.innerHTML=y}}break;case"children":typeof S=="string"?Is(u,S):(typeof S=="number"||typeof S=="bigint")&&Is(u,""+S);break;case"onScroll":S!=null&&Ln("scroll",u);break;case"onScrollEnd":S!=null&&Ln("scrollend",u);break;case"onClick":S!=null&&(u.onclick=XE);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Je.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(w=y.endsWith("Capture"),f=y.slice(2,w?y.length-7:void 0),L=u[Mi]||null,L=L!=null?L[y]:null,typeof L=="function"&&u.removeEventListener(f,L,w),typeof S=="function")){typeof L!="function"&&L!==null&&(y in u?u[y]=null:u.hasAttribute(y)&&u.removeAttribute(y)),u.addEventListener(f,S,w);break e}y in u?u[y]=S:S===!0?u.setAttribute(y,""):ot(u,y,S)}}}function Hs(u,f,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ln("error",u),Ln("load",u);var S=!1,w=!1,L;for(L in y)if(y.hasOwnProperty(L)){var J=y[L];if(J!=null)switch(L){case"src":S=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Ii(u,f,L,J,y,null)}}w&&Ii(u,f,"srcSet",y.srcSet,y,null),S&&Ii(u,f,"src",y.src,y,null);return;case"input":Ln("invalid",u);var re=L=J=w=null,he=null,Fe=null;for(S in y)if(y.hasOwnProperty(S)){var it=y[S];if(it!=null)switch(S){case"name":w=it;break;case"type":J=it;break;case"checked":he=it;break;case"defaultChecked":Fe=it;break;case"value":L=it;break;case"defaultValue":re=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,f));break;default:Ii(u,f,S,it,y,null)}}mi(u,L,re,he,Fe,J,w,!1),ji(u);return;case"select":Ln("invalid",u),S=J=L=null;for(w in y)if(y.hasOwnProperty(w)&&(re=y[w],re!=null))switch(w){case"value":L=re;break;case"defaultValue":J=re;break;case"multiple":S=re;default:Ii(u,f,w,re,y,null)}f=L,y=J,u.multiple=!!S,f!=null?gr(u,!!S,f,!1):y!=null&&gr(u,!!S,y,!0);return;case"textarea":Ln("invalid",u),L=w=S=null;for(J in y)if(y.hasOwnProperty(J)&&(re=y[J],re!=null))switch(J){case"value":S=re;break;case"defaultValue":w=re;break;case"children":L=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(91));break;default:Ii(u,f,J,re,y,null)}Hr(u,S,w,L),ji(u);return;case"option":for(he in y)if(y.hasOwnProperty(he)&&(S=y[he],S!=null))switch(he){case"selected":u.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Ii(u,f,he,S,y,null)}return;case"dialog":Ln("beforetoggle",u),Ln("toggle",u),Ln("cancel",u),Ln("close",u);break;case"iframe":case"object":Ln("load",u);break;case"video":case"audio":for(S=0;S<o_.length;S++)Ln(o_[S],u);break;case"image":Ln("error",u),Ln("load",u);break;case"details":Ln("toggle",u);break;case"embed":case"source":case"link":Ln("error",u),Ln("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in y)if(y.hasOwnProperty(Fe)&&(S=y[Fe],S!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Ii(u,f,Fe,S,y,null)}return;default:if(Mg(f)){for(it in y)y.hasOwnProperty(it)&&(S=y[it],S!==void 0&&UD(u,f,it,S,y,void 0));return}}for(re in y)y.hasOwnProperty(re)&&(S=y[re],S!=null&&Ii(u,f,re,S,y,null))}function fZ(u,f,y,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,L=null,J=null,re=null,he=null,Fe=null,it=null;for(We in y){var at=y[We];if(y.hasOwnProperty(We)&&at!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":he=at;default:S.hasOwnProperty(We)||Ii(u,f,We,null,S,at)}}for(var Ve in S){var We=S[Ve];if(at=y[Ve],S.hasOwnProperty(Ve)&&(We!=null||at!=null))switch(Ve){case"type":L=We;break;case"name":w=We;break;case"checked":Fe=We;break;case"defaultChecked":it=We;break;case"value":J=We;break;case"defaultValue":re=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,f));break;default:We!==at&&Ii(u,f,Ve,We,S,at)}}Ko(u,J,re,he,Fe,it,L,w);return;case"select":We=J=re=Ve=null;for(L in y)if(he=y[L],y.hasOwnProperty(L)&&he!=null)switch(L){case"value":break;case"multiple":We=he;default:S.hasOwnProperty(L)||Ii(u,f,L,null,S,he)}for(w in S)if(L=S[w],he=y[w],S.hasOwnProperty(w)&&(L!=null||he!=null))switch(w){case"value":Ve=L;break;case"defaultValue":re=L;break;case"multiple":J=L;default:L!==he&&Ii(u,f,w,L,S,he)}f=re,y=J,S=We,Ve!=null?gr(u,!!y,Ve,!1):!!S!=!!y&&(f!=null?gr(u,!!y,f,!0):gr(u,!!y,y?[]:"",!1));return;case"textarea":We=Ve=null;for(re in y)if(w=y[re],y.hasOwnProperty(re)&&w!=null&&!S.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:Ii(u,f,re,null,S,w)}for(J in S)if(w=S[J],L=y[J],S.hasOwnProperty(J)&&(w!=null||L!=null))switch(J){case"value":Ve=w;break;case"defaultValue":We=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==L&&Ii(u,f,J,w,S,L)}Fr(u,Ve,We);return;case"option":for(var un in y)if(Ve=y[un],y.hasOwnProperty(un)&&Ve!=null&&!S.hasOwnProperty(un))switch(un){case"selected":u.selected=!1;break;default:Ii(u,f,un,null,S,Ve)}for(he in S)if(Ve=S[he],We=y[he],S.hasOwnProperty(he)&&Ve!==We&&(Ve!=null||We!=null))switch(he){case"selected":u.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Ii(u,f,he,Ve,S,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in y)Ve=y[Zt],y.hasOwnProperty(Zt)&&Ve!=null&&!S.hasOwnProperty(Zt)&&Ii(u,f,Zt,null,S,Ve);for(Fe in S)if(Ve=S[Fe],We=y[Fe],S.hasOwnProperty(Fe)&&Ve!==We&&(Ve!=null||We!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,f));break;default:Ii(u,f,Fe,Ve,S,We)}return;default:if(Mg(f)){for(var Oi in y)Ve=y[Oi],y.hasOwnProperty(Oi)&&Ve!==void 0&&!S.hasOwnProperty(Oi)&&UD(u,f,Oi,void 0,S,Ve);for(it in S)Ve=S[it],We=y[it],!S.hasOwnProperty(it)||Ve===We||Ve===void 0&&We===void 0||UD(u,f,it,Ve,S,We);return}}for(var Re in y)Ve=y[Re],y.hasOwnProperty(Re)&&Ve!=null&&!S.hasOwnProperty(Re)&&Ii(u,f,Re,null,S,Ve);for(at in S)Ve=S[at],We=y[at],!S.hasOwnProperty(at)||Ve===We||Ve==null&&We==null||Ii(u,f,at,Ve,S,We)}var kD=null,FD=null;function qE(u){return u.nodeType===9?u:u.ownerDocument}function Mk(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wk(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function HD(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var zD=null;function hZ(){var u=window.event;return u&&u.type==="popstate"?u===zD?!1:(zD=u,!0):(zD=null,!1)}var Rk=typeof setTimeout=="function"?setTimeout:void 0,pZ=typeof clearTimeout=="function"?clearTimeout:void 0,Dk=typeof Promise=="function"?Promise:void 0,mZ=typeof queueMicrotask=="function"?queueMicrotask:typeof Dk<"u"?function(u){return Dk.resolve(null).then(u).catch(gZ)}:Rk;function gZ(u){setTimeout(function(){throw u})}function Xf(u){return u==="head"}function Ik(u,f){var y=f,S=0,w=0;do{var L=y.nextSibling;if(u.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(0<S&&8>S){y=S;var J=u.ownerDocument;if(y&1&&c_(J.documentElement),y&2&&c_(J.body),y&4)for(y=J.head,c_(y),J=y.firstChild;J;){var re=J.nextSibling,he=J.nodeName;J[$r]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&J.rel.toLowerCase()==="stylesheet"||y.removeChild(J),J=re}}if(w===0){u.removeChild(L),y_(f);return}w--}else y==="$"||y==="$?"||y==="$!"?w++:S=y.charCodeAt(0)-48;else S=0;y=L}while(y);y_(f)}function GD(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var y=f;switch(f=f.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":GD(y),nn(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}u.removeChild(y)}}function yZ(u,f,y,S){for(;u.nodeType===1;){var w=y;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(S){if(!u[$r])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(L=u.getAttribute("rel"),L==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(L!==w.rel||u.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||u.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||u.getAttribute("title")!==(w.title==null?null:w.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(L=u.getAttribute("src"),(L!==(w.src==null?null:w.src)||u.getAttribute("type")!==(w.type==null?null:w.type)||u.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&L&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var L=w.name==null?null:""+w.name;if(w.type==="hidden"&&u.getAttribute("name")===L)return u}else return u;if(u=lc(u.nextSibling),u===null)break}return null}function vZ(u,f,y){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!y||(u=lc(u.nextSibling),u===null))return null;return u}function VD(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function bZ(u,f){var y=u.ownerDocument;if(u.data!=="$?"||y.readyState==="complete")f();else{var S=function(){f(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),u._reactRetry=S}}function lc(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}var jD=null;function Ok(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(f===0)return u;f--}else y==="/$"&&f++}u=u.previousSibling}return null}function Pk(u,f,y){switch(f=qE(y),u){case"html":if(u=f.documentElement,!u)throw Error(i(452));return u;case"head":if(u=f.head,!u)throw Error(i(453));return u;case"body":if(u=f.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function c_(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);nn(u)}var ml=new Map,Nk=new Set;function $E(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var sd=Y.d;Y.d={f:_Z,r:xZ,D:SZ,C:AZ,L:EZ,m:CZ,X:MZ,S:TZ,M:wZ};function _Z(){var u=sd.f(),f=hl();return u||f}function xZ(u){var f=mr(u);f!==null&&f.tag===5&&f.type==="form"?wE(f):sd.r(u)}var Cy=typeof document>"u"?null:document;function Bk(u,f,y){var S=Cy;if(S&&typeof f=="string"&&f){var w=bi(f);w='link[rel="'+u+'"][href="'+w+'"]',typeof y=="string"&&(w+='[crossorigin="'+y+'"]'),Nk.has(w)||(Nk.add(w),u={rel:u,crossOrigin:y,href:f},S.querySelector(w)===null&&(f=S.createElement("link"),Hs(f,"link",u),Li(f),S.head.appendChild(f)))}}function SZ(u){sd.D(u),Bk("dns-prefetch",u,null)}function AZ(u,f){sd.C(u,f),Bk("preconnect",u,f)}function EZ(u,f,y){sd.L(u,f,y);var S=Cy;if(S&&u&&f){var w='link[rel="preload"][as="'+bi(f)+'"]';f==="image"&&y&&y.imageSrcSet?(w+='[imagesrcset="'+bi(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(w+='[imagesizes="'+bi(y.imageSizes)+'"]')):w+='[href="'+bi(u)+'"]';var L=w;switch(f){case"style":L=Ty(u);break;case"script":L=My(u)}ml.has(L)||(u=d({rel:"preload",href:f==="image"&&y&&y.imageSrcSet?void 0:u,as:f},y),ml.set(L,u),S.querySelector(w)!==null||f==="style"&&S.querySelector(u_(L))||f==="script"&&S.querySelector(d_(L))||(f=S.createElement("link"),Hs(f,"link",u),Li(f),S.head.appendChild(f)))}}function CZ(u,f){sd.m(u,f);var y=Cy;if(y&&u){var S=f&&typeof f.as=="string"?f.as:"script",w='link[rel="modulepreload"][as="'+bi(S)+'"][href="'+bi(u)+'"]',L=w;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=My(u)}if(!ml.has(L)&&(u=d({rel:"modulepreload",href:u},f),ml.set(L,u),y.querySelector(w)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(d_(L)))return}S=y.createElement("link"),Hs(S,"link",u),Li(S),y.head.appendChild(S)}}}function TZ(u,f,y){sd.S(u,f,y);var S=Cy;if(S&&u){var w=Ds(S).hoistableStyles,L=Ty(u);f=f||"default";var J=w.get(L);if(!J){var re={loading:0,preload:null};if(J=S.querySelector(u_(L)))re.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":f},y),(y=ml.get(L))&&WD(u,y);var he=J=S.createElement("link");Li(he),Hs(he,"link",u),he._p=new Promise(function(Fe,it){he.onload=Fe,he.onerror=it}),he.addEventListener("load",function(){re.loading|=1}),he.addEventListener("error",function(){re.loading|=2}),re.loading|=4,KE(J,f,S)}J={type:"stylesheet",instance:J,count:1,state:re},w.set(L,J)}}}function MZ(u,f){sd.X(u,f);var y=Cy;if(y&&u){var S=Ds(y).hoistableScripts,w=My(u),L=S.get(w);L||(L=y.querySelector(d_(w)),L||(u=d({src:u,async:!0},f),(f=ml.get(w))&&YD(u,f),L=y.createElement("script"),Li(L),Hs(L,"link",u),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(w,L))}}function wZ(u,f){sd.M(u,f);var y=Cy;if(y&&u){var S=Ds(y).hoistableScripts,w=My(u),L=S.get(w);L||(L=y.querySelector(d_(w)),L||(u=d({src:u,async:!0,type:"module"},f),(f=ml.get(w))&&YD(u,f),L=y.createElement("script"),Li(L),Hs(L,"link",u),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(w,L))}}function Lk(u,f,y,S){var w=(w=pe.current)?$E(w):null;if(!w)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(f=Ty(y.href),y=Ds(w).hoistableStyles,S=y.get(f),S||(S={type:"style",instance:null,count:0,state:null},y.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){u=Ty(y.href);var L=Ds(w).hoistableStyles,J=L.get(u);if(J||(w=w.ownerDocument||w,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(u,J),(L=w.querySelector(u_(u)))&&!L._p&&(J.instance=L,J.state.loading=5),ml.has(u)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},ml.set(u,y),L||RZ(w,u,y,J.state))),f&&S===null)throw Error(i(528,""));return J}if(f&&S!==null)throw Error(i(529,""));return null;case"script":return f=y.async,y=y.src,typeof y=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=My(y),y=Ds(w).hoistableScripts,S=y.get(f),S||(S={type:"script",instance:null,count:0,state:null},y.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function Ty(u){return'href="'+bi(u)+'"'}function u_(u){return'link[rel="stylesheet"]['+u+"]"}function Uk(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function RZ(u,f,y,S){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=u.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),Hs(f,"link",y),Li(f),u.head.appendChild(f))}function My(u){return'[src="'+bi(u)+'"]'}function d_(u){return"script[async]"+u}function kk(u,f,y){if(f.count++,f.instance===null)switch(f.type){case"style":var S=u.querySelector('style[data-href~="'+bi(y.href)+'"]');if(S)return f.instance=S,Li(S),S;var w=d({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(u.ownerDocument||u).createElement("style"),Li(S),Hs(S,"style",w),KE(S,y.precedence,u),f.instance=S;case"stylesheet":w=Ty(y.href);var L=u.querySelector(u_(w));if(L)return f.state.loading|=4,f.instance=L,Li(L),L;S=Uk(y),(w=ml.get(w))&&WD(S,w),L=(u.ownerDocument||u).createElement("link"),Li(L);var J=L;return J._p=new Promise(function(re,he){J.onload=re,J.onerror=he}),Hs(L,"link",S),f.state.loading|=4,KE(L,y.precedence,u),f.instance=L;case"script":return L=My(y.src),(w=u.querySelector(d_(L)))?(f.instance=w,Li(w),w):(S=y,(w=ml.get(L))&&(S=d({},y),YD(S,w)),u=u.ownerDocument||u,w=u.createElement("script"),Li(w),Hs(w,"link",S),u.head.appendChild(w),f.instance=w);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,KE(S,y.precedence,u));return f.instance}function KE(u,f,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=S.length?S[S.length-1]:null,L=w,J=0;J<S.length;J++){var re=S[J];if(re.dataset.precedence===f)L=re;else if(L!==w)break}L?L.parentNode.insertBefore(u,L.nextSibling):(f=y.nodeType===9?y.head:y,f.insertBefore(u,f.firstChild))}function WD(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function YD(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var JE=null;function Fk(u,f,y){if(JE===null){var S=new Map,w=JE=new Map;w.set(y,S)}else w=JE,S=w.get(y),S||(S=new Map,w.set(y,S));if(S.has(u))return S;for(S.set(u,null),y=y.getElementsByTagName(u),w=0;w<y.length;w++){var L=y[w];if(!(L[$r]||L[vi]||u==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var J=L.getAttribute(f)||"";J=u+J;var re=S.get(J);re?re.push(L):S.set(J,[L])}}return S}function Hk(u,f,y){u=u.ownerDocument||u,u.head.insertBefore(y,f==="title"?u.querySelector("head > title"):null)}function DZ(u,f,y){if(y===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function zk(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var f_=null;function IZ(){}function OZ(u,f,y){if(f_===null)throw Error(i(475));var S=f_;if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=Ty(y.href),L=u.querySelector(u_(w));if(L){u=L._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(S.count++,S=QE.bind(S),u.then(S,S)),f.state.loading|=4,f.instance=L,Li(L);return}L=u.ownerDocument||u,y=Uk(y),(w=ml.get(w))&&WD(y,w),L=L.createElement("link"),Li(L);var J=L;J._p=new Promise(function(re,he){J.onload=re,J.onerror=he}),Hs(L,"link",y),f.instance=L}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(f,u),(u=f.state.preload)&&(f.state.loading&3)===0&&(S.count++,f=QE.bind(S),u.addEventListener("load",f),u.addEventListener("error",f))}}function PZ(){if(f_===null)throw Error(i(475));var u=f_;return u.stylesheets&&u.count===0&&XD(u,u.stylesheets),0<u.count?function(f){var y=setTimeout(function(){if(u.stylesheets&&XD(u,u.stylesheets),u.unsuspend){var S=u.unsuspend;u.unsuspend=null,S()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(y)}}:null}function QE(){if(this.count--,this.count===0){if(this.stylesheets)XD(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var ZE=null;function XD(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,ZE=new Map,f.forEach(NZ,u),ZE=null,QE.call(u))}function NZ(u,f){if(!(f.state.loading&4)){var y=ZE.get(u);if(y)var S=y.get(null);else{y=new Map,ZE.set(u,y);for(var w=u.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<w.length;L++){var J=w[L];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(y.set(J.dataset.precedence,J),S=J)}S&&y.set(null,S)}w=f.instance,J=w.getAttribute("data-precedence"),L=y.get(J)||S,L===S&&y.set(null,w),y.set(J,w),this.count++,S=QE.bind(this),w.addEventListener("load",S),w.addEventListener("error",S),L?L.parentNode.insertBefore(w,L.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(w,u.firstChild)),f.state.loading|=4}}var h_={$$typeof:C,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function BZ(u,f,y,S,w,L,J,re){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=S,this.onUncaughtError=w,this.onCaughtError=L,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function Gk(u,f,y,S,w,L,J,re,he,Fe,it,at){return u=new BZ(u,f,y,J,re,he,Fe,at),f=1,L===!0&&(f|=24),L=qs(3,null,null,f),u.current=L,L.stateNode=u,f=qg(),f.refCount++,u.pooledCache=f,f.refCount++,L.memoizedState={element:S,isDehydrated:y,cache:f},Ub(L),u}function Vk(u){return u?(u=zc,u):zc}function jk(u,f,y,S,w,L){w=Vk(w),S.context===null?S.context=w:S.pendingContext=w,S=nl(f),S.payload={element:y},L=L===void 0?null:L,L!==null&&(S.callback=L),y=Ql(u,S,f),y!==null&&(Fs(y,u,f),zu(y,u,f))}function Wk(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function qD(u,f){Wk(u,f),(u=u.alternate)&&Wk(u,f)}function Yk(u){if(u.tag===13){var f=Xl(u,67108864);f!==null&&Fs(f,u,67108864),qD(u,67108864)}}var eC=!0;function LZ(u,f,y,S){var w=H.T;H.T=null;var L=Y.p;try{Y.p=2,$D(u,f,y,S)}finally{Y.p=L,H.T=w}}function UZ(u,f,y,S){var w=H.T;H.T=null;var L=Y.p;try{Y.p=8,$D(u,f,y,S)}finally{Y.p=L,H.T=w}}function $D(u,f,y,S){if(eC){var w=KD(S);if(w===null)LD(u,f,S,tC,y),qk(u,S);else if(FZ(w,u,f,y,S))S.stopPropagation();else if(qk(u,S),f&4&&-1<kZ.indexOf(u)){for(;w!==null;){var L=mr(w);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var J=yt(L.pendingLanes);if(J!==0){var re=L;for(re.pendingLanes|=2,re.entangledLanes|=2;J;){var he=1<<31-Et(J);re.entanglements[1]|=he,J&=~he}du(L),(ii&6)===0&&(ms=ke()+500,a_(0))}}break;case 13:re=Xl(L,2),re!==null&&Fs(re,L,2),hl(),qD(L,2)}if(L=KD(S),L===null&&LD(u,f,S,tC,y),L===w)break;w=L}w!==null&&S.stopPropagation()}else LD(u,f,S,null,y)}}function KD(u){return u=Rg(u),JD(u)}var tC=null;function JD(u){if(tC=null,u=ti(u),u!==null){var f=s(u);if(f===null)u=null;else{var y=f.tag;if(y===13){if(u=a(f),u!==null)return u;u=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return tC=u,null}function Xk(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case ut:return 2;case De:return 8;case ie:case $:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var QD=!1,qf=null,$f=null,Kf=null,p_=new Map,m_=new Map,Jf=[],kZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qk(u,f){switch(u){case"focusin":case"focusout":qf=null;break;case"dragenter":case"dragleave":$f=null;break;case"mouseover":case"mouseout":Kf=null;break;case"pointerover":case"pointerout":p_.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":m_.delete(f.pointerId)}}function g_(u,f,y,S,w,L){return u===null||u.nativeEvent!==L?(u={blockedOn:f,domEventName:y,eventSystemFlags:S,nativeEvent:L,targetContainers:[w]},f!==null&&(f=mr(f),f!==null&&Yk(f)),u):(u.eventSystemFlags|=S,f=u.targetContainers,w!==null&&f.indexOf(w)===-1&&f.push(w),u)}function FZ(u,f,y,S,w){switch(f){case"focusin":return qf=g_(qf,u,f,y,S,w),!0;case"dragenter":return $f=g_($f,u,f,y,S,w),!0;case"mouseover":return Kf=g_(Kf,u,f,y,S,w),!0;case"pointerover":var L=w.pointerId;return p_.set(L,g_(p_.get(L)||null,u,f,y,S,w)),!0;case"gotpointercapture":return L=w.pointerId,m_.set(L,g_(m_.get(L)||null,u,f,y,S,w)),!0}return!1}function $k(u){var f=ti(u.target);if(f!==null){var y=s(f);if(y!==null){if(f=y.tag,f===13){if(f=a(y),f!==null){u.blockedOn=f,Bi(u.priority,function(){if(y.tag===13){var S=Qi();S=tn(S);var w=Xl(y,S);w!==null&&Fs(w,y,S),qD(y,S)}});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function nC(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var y=KD(u.nativeEvent);if(y===null){y=u.nativeEvent;var S=new y.constructor(y.type,y);wg=S,y.target.dispatchEvent(S),wg=null}else return f=mr(y),f!==null&&Yk(f),u.blockedOn=y,!1;f.shift()}return!0}function Kk(u,f,y){nC(u)&&y.delete(f)}function HZ(){QD=!1,qf!==null&&nC(qf)&&(qf=null),$f!==null&&nC($f)&&($f=null),Kf!==null&&nC(Kf)&&(Kf=null),p_.forEach(Kk),m_.forEach(Kk)}function iC(u,f){u.blockedOn===f&&(u.blockedOn=null,QD||(QD=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HZ)))}var rC=null;function Jk(u){rC!==u&&(rC=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rC===u&&(rC=null);for(var f=0;f<u.length;f+=3){var y=u[f],S=u[f+1],w=u[f+2];if(typeof S!="function"){if(JD(S||y)===null)continue;break}var L=mr(y);L!==null&&(u.splice(f,3),f-=3,Zb(L,{pending:!0,data:w,method:y.method,action:S},S,w))}}))}function y_(u){function f(he){return iC(he,u)}qf!==null&&iC(qf,u),$f!==null&&iC($f,u),Kf!==null&&iC(Kf,u),p_.forEach(f),m_.forEach(f);for(var y=0;y<Jf.length;y++){var S=Jf[y];S.blockedOn===u&&(S.blockedOn=null)}for(;0<Jf.length&&(y=Jf[0],y.blockedOn===null);)$k(y),y.blockedOn===null&&Jf.shift();if(y=(u.ownerDocument||u).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var w=y[S],L=y[S+1],J=w[Mi]||null;if(typeof L=="function")J||Jk(y);else if(J){var re=null;if(L&&L.hasAttribute("formAction")){if(w=L,J=L[Mi]||null)re=J.formAction;else if(JD(w)!==null)continue}else re=J.action;typeof re=="function"?y[S+1]=re:(y.splice(S,3),S-=3),Jk(y)}}}function ZD(u){this._internalRoot=u}sC.prototype.render=ZD.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(i(409));var y=f.current,S=Qi();jk(y,S,u,f,null,null)},sC.prototype.unmount=ZD.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;jk(u.current,2,null,u,null,null),hl(),f[qi]=null}};function sC(u){this._internalRoot=u}sC.prototype.unstable_scheduleHydration=function(u){if(u){var f=Qt();u={blockedOn:null,target:u,priority:f};for(var y=0;y<Jf.length&&f!==0&&f<Jf[y].priority;y++);Jf.splice(y,0,u),y===0&&$k(u)}};var Qk=e.version;if(Qk!=="19.1.0")throw Error(i(527,Qk,"19.1.0"));Y.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=l(f),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var zZ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aC.isDisabled&&aC.supportsFiber)try{ze=aC.inject(zZ),ft=aC}catch{}}return b_.createRoot=function(u,f){if(!r(u))throw Error(i(299));var y=!1,S="",w=Fp,L=dy,J=HE,re=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(J=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(re=f.unstable_transitionCallbacks)),f=Gk(u,1,!1,null,null,y,S,w,L,J,re,null),u[qi]=f.current,BD(u),new ZD(f)},b_.hydrateRoot=function(u,f,y){if(!r(u))throw Error(i(299));var S=!1,w="",L=Fp,J=dy,re=HE,he=null,Fe=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(w=y.identifierPrefix),y.onUncaughtError!==void 0&&(L=y.onUncaughtError),y.onCaughtError!==void 0&&(J=y.onCaughtError),y.onRecoverableError!==void 0&&(re=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(he=y.unstable_transitionCallbacks),y.formState!==void 0&&(Fe=y.formState)),f=Gk(u,1,!0,f,y??null,S,w,L,J,re,he,Fe),f.context=Vk(null),y=f.current,S=Qi(),S=tn(S),w=nl(S),w.callback=null,Ql(y,w,S),y=S,f.current.lanes=y,$e(f,y),du(f),u[qi]=f.current,BD(u),new sC(f)},b_.version="19.1.0",b_}var lF;function ZZ(){if(lF)return nI.exports;lF=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nI.exports=QZ(),nI.exports}var eee=ZZ();const Hx={black:"#000",white:"#fff"},wy={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ry={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Dy={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Iy={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Oy={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},__={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},tee={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Nd(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const M0="$$material";function be(){return be=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},be.apply(null,arguments)}function nee(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function iee(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ree=function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iee(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=nee(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ia="-ms-",dT="-moz-",di="-webkit-",E8="comm",tB="rule",nB="decl",see="@import",C8="@keyframes",aee="@layer",oee=Math.abs,pw=String.fromCharCode,lee=Object.assign;function cee(n,e){return Gs(n,0)^45?(((e<<2^Gs(n,0))<<2^Gs(n,1))<<2^Gs(n,2))<<2^Gs(n,3):0}function T8(n){return n.trim()}function uee(n,e){return(n=e.exec(n))?n[0]:n}function fi(n,e,t){return n.replace(e,t)}function VO(n,e){return n.indexOf(e)}function Gs(n,e){return n.charCodeAt(e)|0}function zx(n,e,t){return n.slice(e,t)}function mu(n){return n.length}function iB(n){return n.length}function oC(n,e){return e.push(n),n}function dee(n,e){return n.map(e).join("")}var mw=1,Fv=1,M8=0,uo=0,Xr=0,w0="";function gw(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:mw,column:Fv,length:a,return:""}}function x_(n,e){return lee(gw("",null,null,"",null,null,0),n,{length:-n.length},e)}function fee(){return Xr}function hee(){return Xr=uo>0?Gs(w0,--uo):0,Fv--,Xr===10&&(Fv=1,mw--),Xr}function ko(){return Xr=uo<M8?Gs(w0,uo++):0,Fv++,Xr===10&&(Fv=1,mw++),Xr}function bu(){return Gs(w0,uo)}function L1(){return uo}function LS(n,e){return zx(w0,n,e)}function Gx(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function w8(n){return mw=Fv=1,M8=mu(w0=n),uo=0,[]}function R8(n){return w0="",n}function U1(n){return T8(LS(uo-1,jO(n===91?n+2:n===40?n+1:n)))}function pee(n){for(;(Xr=bu())&&Xr<33;)ko();return Gx(n)>2||Gx(Xr)>3?"":" "}function mee(n,e){for(;--e&&ko()&&!(Xr<48||Xr>102||Xr>57&&Xr<65||Xr>70&&Xr<97););return LS(n,L1()+(e<6&&bu()==32&&ko()==32))}function jO(n){for(;ko();)switch(Xr){case n:return uo;case 34:case 39:n!==34&&n!==39&&jO(Xr);break;case 40:n===41&&jO(n);break;case 92:ko();break}return uo}function gee(n,e){for(;ko()&&n+Xr!==57;)if(n+Xr===84&&bu()===47)break;return"/*"+LS(e,uo-1)+"*"+pw(n===47?n:ko())}function yee(n){for(;!Gx(bu());)ko();return LS(n,uo)}function vee(n){return R8(k1("",null,null,null,[""],n=w8(n),0,[0],n))}function k1(n,e,t,i,r,s,a,o,l){for(var c=0,d=0,h=a,m=0,v=0,b=0,A=1,_=1,x=1,T=0,C="",M=r,O=s,R=i,B=C;_;)switch(b=T,T=ko()){case 40:if(b!=108&&Gs(B,h-1)==58){VO(B+=fi(U1(T),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:B+=U1(T);break;case 9:case 10:case 13:case 32:B+=pee(b);break;case 92:B+=mee(L1()-1,7);continue;case 47:switch(bu()){case 42:case 47:oC(bee(gee(ko(),L1()),e,t),l);break;default:B+="/"}break;case 123*A:o[c++]=mu(B)*x;case 125*A:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+d:x==-1&&(B=fi(B,/\f/g,"")),v>0&&mu(B)-h&&oC(v>32?uF(B+";",i,t,h-1):uF(fi(B," ","")+";",i,t,h-2),l);break;case 59:B+=";";default:if(oC(R=cF(B,e,t,c,d,r,o,C,M=[],O=[],h),s),T===123)if(d===0)k1(B,e,R,R,M,s,h,o,O);else switch(m===99&&Gs(B,3)===110?100:m){case 100:case 108:case 109:case 115:k1(n,R,R,i&&oC(cF(n,R,R,0,0,r,o,C,r,M=[],h),O),r,O,h,o,i?M:O);break;default:k1(B,R,R,R,[""],O,0,o,O)}}c=d=v=0,A=x=1,C=B="",h=a;break;case 58:h=1+mu(B),v=b;default:if(A<1){if(T==123)--A;else if(T==125&&A++==0&&hee()==125)continue}switch(B+=pw(T),T*A){case 38:x=d>0?1:(B+="\f",-1);break;case 44:o[c++]=(mu(B)-1)*x,x=1;break;case 64:bu()===45&&(B+=U1(ko())),m=bu(),d=h=mu(C=B+=yee(L1())),T++;break;case 45:b===45&&mu(B)==2&&(A=0)}}return s}function cF(n,e,t,i,r,s,a,o,l,c,d){for(var h=r-1,m=r===0?s:[""],v=iB(m),b=0,A=0,_=0;b<i;++b)for(var x=0,T=zx(n,h+1,h=oee(A=a[b])),C=n;x<v;++x)(C=T8(A>0?m[x]+" "+T:fi(T,/&\f/g,m[x])))&&(l[_++]=C);return gw(n,e,t,r===0?tB:o,l,c,d)}function bee(n,e,t){return gw(n,e,t,E8,pw(fee()),zx(n,2,-2),0)}function uF(n,e,t,i){return gw(n,e,t,nB,zx(n,0,i),zx(n,i+1,-1),i)}function Ev(n,e){for(var t="",i=iB(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function _ee(n,e,t,i){switch(n.type){case aee:if(n.children.length)break;case see:case nB:return n.return=n.return||n.value;case E8:return"";case C8:return n.return=n.value+"{"+Ev(n.children,i)+"}";case tB:n.value=n.props.join(",")}return mu(t=Ev(n.children,i))?n.return=n.value+"{"+t+"}":""}function xee(n){var e=iB(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function See(n){return function(e){e.root||(e=e.return)&&n(e)}}var dF=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var r=e(i);return t.set(i,r),r}};function D8(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Aee=function(e,t,i){for(var r=0,s=0;r=s,s=bu(),r===38&&s===12&&(t[i]=1),!Gx(s);)ko();return LS(e,uo)},Eee=function(e,t){var i=-1,r=44;do switch(Gx(r)){case 0:r===38&&bu()===12&&(t[i]=1),e[i]+=Aee(uo-1,t,i);break;case 2:e[i]+=U1(r);break;case 4:if(r===44){e[++i]=bu()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=pw(r)}while(r=ko());return e},Cee=function(e,t){return R8(Eee(w8(e),t))},fF=new WeakMap,Tee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!fF.get(i))&&!r){fF.set(e,!0);for(var s=[],a=Cee(t,s),o=i.props,l=0,c=0;l<a.length;l++)for(var d=0;d<o.length;d++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[d]):o[d]+" "+a[l]}}},Mee=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function I8(n,e){switch(cee(n,e)){case 5103:return di+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return di+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return di+n+dT+n+ia+n+n;case 6828:case 4268:return di+n+ia+n+n;case 6165:return di+n+ia+"flex-"+n+n;case 5187:return di+n+fi(n,/(\w+).+(:[^]+)/,di+"box-$1$2"+ia+"flex-$1$2")+n;case 5443:return di+n+ia+"flex-item-"+fi(n,/flex-|-self/,"")+n;case 4675:return di+n+ia+"flex-line-pack"+fi(n,/align-content|flex-|-self/,"")+n;case 5548:return di+n+ia+fi(n,"shrink","negative")+n;case 5292:return di+n+ia+fi(n,"basis","preferred-size")+n;case 6060:return di+"box-"+fi(n,"-grow","")+di+n+ia+fi(n,"grow","positive")+n;case 4554:return di+fi(n,/([^-])(transform)/g,"$1"+di+"$2")+n;case 6187:return fi(fi(fi(n,/(zoom-|grab)/,di+"$1"),/(image-set)/,di+"$1"),n,"")+n;case 5495:case 3959:return fi(n,/(image-set\([^]*)/,di+"$1$`$1");case 4968:return fi(fi(n,/(.+:)(flex-)?(.*)/,di+"box-pack:$3"+ia+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+di+n+n;case 4095:case 3583:case 4068:case 2532:return fi(n,/(.+)-inline(.+)/,di+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mu(n)-1-e>6)switch(Gs(n,e+1)){case 109:if(Gs(n,e+4)!==45)break;case 102:return fi(n,/(.+:)(.+)-([^]+)/,"$1"+di+"$2-$3$1"+dT+(Gs(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~VO(n,"stretch")?I8(fi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Gs(n,e+1)!==115)break;case 6444:switch(Gs(n,mu(n)-3-(~VO(n,"!important")&&10))){case 107:return fi(n,":",":"+di)+n;case 101:return fi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+di+(Gs(n,14)===45?"inline-":"")+"box$3$1"+di+"$2$3$1"+ia+"$2box$3")+n}break;case 5936:switch(Gs(n,e+11)){case 114:return di+n+ia+fi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return di+n+ia+fi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return di+n+ia+fi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return di+n+ia+n+n}return n}var wee=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case nB:e.return=I8(e.value,e.length);break;case C8:return Ev([x_(e,{value:fi(e.value,"@","@"+di)})],r);case tB:if(e.length)return dee(e.props,function(s){switch(uee(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ev([x_(e,{props:[fi(s,/:(read-\w+)/,":"+dT+"$1")]})],r);case"::placeholder":return Ev([x_(e,{props:[fi(s,/:(plac\w+)/,":"+di+"input-$1")]}),x_(e,{props:[fi(s,/:(plac\w+)/,":"+dT+"$1")]}),x_(e,{props:[fi(s,/:(plac\w+)/,ia+"input-$1")]})],r)}return""})}},Ree=[wee],Dee=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var _=A.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var r=e.stylisPlugins||Ree,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var _=A.getAttribute("data-emotion").split(" "),x=1;x<_.length;x++)s[_[x]]=!0;o.push(A)});var l,c=[Tee,Mee];{var d,h=[_ee,See(function(A){d.insert(A)})],m=xee(c.concat(r,h)),v=function(_){return Ev(vee(_),m)};l=function(_,x,T,C){d=T,v(_?_+"{"+x.styles+"}":x.styles),C&&(b.inserted[x.name]=!0)}}var b={key:t,sheet:new ree({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return b.sheet.hydrate(o),b},aI={exports:{}},yi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF;function Iee(){if(hF)return yi;hF=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function C(O){if(typeof O=="object"&&O!==null){var R=O.$$typeof;switch(R){case e:switch(O=O.type,O){case l:case c:case i:case s:case r:case h:return O;default:switch(O=O&&O.$$typeof,O){case o:case d:case b:case v:case a:return O;default:return R}}case t:return R}}}function M(O){return C(O)===c}return yi.AsyncMode=l,yi.ConcurrentMode=c,yi.ContextConsumer=o,yi.ContextProvider=a,yi.Element=e,yi.ForwardRef=d,yi.Fragment=i,yi.Lazy=b,yi.Memo=v,yi.Portal=t,yi.Profiler=s,yi.StrictMode=r,yi.Suspense=h,yi.isAsyncMode=function(O){return M(O)||C(O)===l},yi.isConcurrentMode=M,yi.isContextConsumer=function(O){return C(O)===o},yi.isContextProvider=function(O){return C(O)===a},yi.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},yi.isForwardRef=function(O){return C(O)===d},yi.isFragment=function(O){return C(O)===i},yi.isLazy=function(O){return C(O)===b},yi.isMemo=function(O){return C(O)===v},yi.isPortal=function(O){return C(O)===t},yi.isProfiler=function(O){return C(O)===s},yi.isStrictMode=function(O){return C(O)===r},yi.isSuspense=function(O){return C(O)===h},yi.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===c||O===s||O===r||O===h||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===b||O.$$typeof===v||O.$$typeof===a||O.$$typeof===o||O.$$typeof===d||O.$$typeof===_||O.$$typeof===x||O.$$typeof===T||O.$$typeof===A)},yi.typeOf=C,yi}var pF;function Oee(){return pF||(pF=1,aI.exports=Iee()),aI.exports}var oI,mF;function Pee(){if(mF)return oI;mF=1;var n=Oee(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function a(b){return n.isMemo(b)?r:s[b.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function v(b,A,_){if(typeof A!="string"){if(m){var x=h(A);x&&x!==m&&v(b,x,_)}var T=l(A);c&&(T=T.concat(c(A)));for(var C=a(b),M=a(A),O=0;O<T.length;++O){var R=T[O];if(!t[R]&&!(_&&_[R])&&!(M&&M[R])&&!(C&&C[R])){var B=d(A,R);try{o(b,R,B)}catch{}}}}return b}return oI=v,oI}Pee();var Nee=!0;function O8(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var rB=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||Nee===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},sB=function(e,t,i){rB(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Bee(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Lee={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uee=/[A-Z]|^ms/g,kee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,P8=function(e){return e.charCodeAt(1)===45},gF=function(e){return e!=null&&typeof e!="boolean"},lI=D8(function(n){return P8(n)?n:n.replace(Uee,"-$&").toLowerCase()}),yF=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(kee,function(i,r,s){return gu={name:r,styles:s,next:gu},r})}return Lee[e]!==1&&!P8(e)&&typeof t=="number"&&t!==0?t+"px":t};function Vx(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return gu={name:r.name,styles:r.styles,next:gu},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)gu={name:a.name,styles:a.styles,next:gu},a=a.next;var o=s.styles+";";return o}return Fee(n,e,t)}case"function":{if(n!==void 0){var l=gu,c=t(n);return gu=l,Vx(n,e,c)}break}}var d=t;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Fee(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Vx(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":gF(o)&&(i+=lI(s)+":"+yF(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)gF(a[l])&&(i+=lI(s)+":"+yF(s,a[l])+";");else{var c=Vx(n,e,a);switch(s){case"animation":case"animationName":{i+=lI(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var vF=/label:\s*([^\s;{]+)\s*(;|$)/g,gu;function US(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";gu=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=Vx(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=Vx(t,e,n[o]),i){var l=s;r+=l[o]}vF.lastIndex=0;for(var c="",d;(d=vF.exec(r))!==null;)c+="-"+d[1];var h=Bee(r)+c;return{name:h,styles:r,next:gu}}var Hee=function(e){return e()},N8=uT.useInsertionEffect?uT.useInsertionEffect:!1,B8=N8||Hee,bF=N8||G.useLayoutEffect,L8=G.createContext(typeof HTMLElement<"u"?Dee({key:"css"}):null);L8.Provider;var aB=function(e){return G.forwardRef(function(t,i){var r=G.useContext(L8);return e(t,r,i)})},Hv=G.createContext({}),zee=function(e,t){if(typeof t=="function"){var i=t(e);return i}return be({},e,t)},Gee=dF(function(n){return dF(function(e){return zee(n,e)})}),Vee=function(e){var t=G.useContext(Hv);return e.theme!==t&&(t=Gee(t)(e.theme)),G.createElement(Hv.Provider,{value:t},e.children)},oB={}.hasOwnProperty,WO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",jee=function(e,t){var i={};for(var r in t)oB.call(t,r)&&(i[r]=t[r]);return i[WO]=e,i},Wee=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return rB(t,i,r),B8(function(){return sB(t,i,r)}),null},Yee=aB(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[WO],s=[i],a="";typeof n.className=="string"?a=O8(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=US(s,void 0,G.useContext(Hv));a+=e.key+"-"+o.name;var l={};for(var c in n)oB.call(n,c)&&c!=="css"&&c!==WO&&(l[c]=n[c]);return l.className=a,t&&(l.ref=t),G.createElement(G.Fragment,null,G.createElement(Wee,{cache:e,serialized:o,isStringTag:typeof r=="string"}),G.createElement(r,l))}),Xee=Yee,_F=function(e,t){var i=arguments;if(t==null||!oB.call(t,"css"))return G.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=Xee,s[1]=jee(e,t);for(var a=2;a<r;a++)s[a]=i[a];return G.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(_F||(_F={}));var qee=aB(function(n,e){var t=n.styles,i=US([t],void 0,G.useContext(Hv)),r=G.useRef();return bF(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),r.current=[a,o],function(){a.flush()}},[e]),bF(function(){var s=r.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(i.next!==void 0&&sB(e,i.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function lB(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return US(e)}function kS(){var n=lB.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $ee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Kee=D8(function(n){return $ee.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Jee=Kee,Qee=function(e){return e!=="theme"},xF=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Jee:Qee},SF=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},Zee=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return rB(t,i,r),B8(function(){return sB(t,i,r)}),null},ete=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=SF(e,t,i),l=o||xF(r),c=!l("as");return function(){var d=arguments,h=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var m=d[0];h.push(m[0]);for(var v=d.length,b=1;b<v;b++)h.push(d[b],m[b])}var A=aB(function(_,x,T){var C=c&&_.as||r,M="",O=[],R=_;if(_.theme==null){R={};for(var B in _)R[B]=_[B];R.theme=G.useContext(Hv)}typeof _.className=="string"?M=O8(x.registered,O,_.className):_.className!=null&&(M=_.className+" ");var N=US(h.concat(O),x.registered,R);M+=x.key+"-"+N.name,a!==void 0&&(M+=" "+a);var P=c&&o===void 0?xF(C):l,I={};for(var F in _)c&&F==="as"||P(F)&&(I[F]=_[F]);return I.className=M,T&&(I.ref=T),G.createElement(G.Fragment,null,G.createElement(Zee,{cache:x,serialized:N,isStringTag:typeof C=="string"}),G.createElement(C,I))});return A.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=r,A.__emotion_styles=h,A.__emotion_forwardProp=o,Object.defineProperty(A,"toString",{value:function(){return"."+a}}),A.withComponent=function(_,x){var T=n(_,be({},t,x,{shouldForwardProp:SF(A,x,!0)}));return T.apply(void 0,h)},A}},tte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],YO=ete.bind(null);tte.forEach(function(n){YO[n]=YO(n)});function nte(n){return n==null||Object.keys(n).length===0}function ite(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(nte(r)?t:r):e;return W.jsx(qee,{styles:i})}function U8(n,e){return YO(n,e)}function rte(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const AF=[];function Sh(n){return AF[0]=n,US(AF)}var cI={exports:{}},Pi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EF;function ste(){if(EF)return Pi;EF=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(A){if(typeof A=="object"&&A!==null){var _=A.$$typeof;switch(_){case n:switch(A=A.type,A){case t:case r:case i:case l:case c:case m:return A;default:switch(A=A&&A.$$typeof,A){case a:case o:case h:case d:return A;case s:return A;default:return _}}case e:return _}}}return Pi.ContextConsumer=s,Pi.ContextProvider=a,Pi.Element=n,Pi.ForwardRef=o,Pi.Fragment=t,Pi.Lazy=h,Pi.Memo=d,Pi.Portal=e,Pi.Profiler=r,Pi.StrictMode=i,Pi.Suspense=l,Pi.SuspenseList=c,Pi.isContextConsumer=function(A){return b(A)===s},Pi.isContextProvider=function(A){return b(A)===a},Pi.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},Pi.isForwardRef=function(A){return b(A)===o},Pi.isFragment=function(A){return b(A)===t},Pi.isLazy=function(A){return b(A)===h},Pi.isMemo=function(A){return b(A)===d},Pi.isPortal=function(A){return b(A)===e},Pi.isProfiler=function(A){return b(A)===r},Pi.isStrictMode=function(A){return b(A)===i},Pi.isSuspense=function(A){return b(A)===l},Pi.isSuspenseList=function(A){return b(A)===c},Pi.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===i||A===l||A===c||typeof A=="object"&&A!==null&&(A.$$typeof===h||A.$$typeof===d||A.$$typeof===a||A.$$typeof===s||A.$$typeof===o||A.$$typeof===v||A.getModuleId!==void 0)},Pi.typeOf=b,Pi}var CF;function ate(){return CF||(CF=1,cI.exports=ste()),cI.exports}var k8=ate();function vu(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function F8(n){if(G.isValidElement(n)||k8.isValidElementType(n)||!vu(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=F8(n[t])}),e}function ua(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return vu(n)&&vu(e)&&Object.keys(e).forEach(r=>{G.isValidElement(e[r])||k8.isValidElementType(e[r])?i[r]=e[r]:vu(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&vu(n[r])?i[r]=ua(n[r],e[r],t):t.clone?i[r]=vu(e[r])?F8(e[r]):e[r]:i[r]=e[r]}),i}const ote=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function lte(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=ote(e),a=Object.keys(s);function o(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-i/100}${t})`}function c(m,v){const b=a.indexOf(v);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(b!==-1&&typeof e[a[b]]=="number"?e[a[b]]:v)-i/100}${t})`}function d(m){return a.indexOf(m)+1<a.length?c(m,a[a.indexOf(m)+1]):o(m)}function h(m){const v=a.indexOf(m);return v===0?o(a[1]):v===a.length-1?l(a[v]):c(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:l,between:c,only:d,not:h,unit:t,...r}}function TF(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var a,o;const s=/min-width:\s*([0-9.]+)/;return+(((a=i.match(s))==null?void 0:a[1])||0)-+(((o=r.match(s))==null?void 0:o[1])||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function cte(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function ute(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function dte(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const l=e(n.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const fte={borderRadius:4};function sx(n,e){return e?ua(n,e,{clone:!1}):n}const yw={xs:0,sm:600,md:900,lg:1200,xl:1536},MF={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${yw[n]}px)`},hte={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:yw[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Bd(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||MF;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=t(e[l]),a),{})}if(typeof e=="object"){const s=i.breakpoints||MF;return Object.keys(e).reduce((a,o)=>{if(cte(s.keys,o)){const l=ute(i.containerQueries?i:hte,o);l&&(a[l]=t(e[o],o))}else if(Object.keys(s.values||yw).includes(o)){const l=s.up(o);a[l]=t(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return t(e)}function pte(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function wF(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function bt(n){if(typeof n!="string")throw new Error(Nd(7));return n.charAt(0).toUpperCase()+n.slice(1)}function vw(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function fT(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=vw(n,t)||i,e&&(r=e(r,i,n)),r}function Ur(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,c=vw(l,i)||{};return Bd(a,o,h=>{let m=fT(c,r,h);return h===m&&typeof h=="string"&&(m=fT(c,r,`${e}${h==="default"?"":bt(h)}`,h)),t===!1?m:{[t]:m}})};return s.propTypes={},s.filterProps=[e],s}function mte(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const gte={m:"margin",p:"padding"},yte={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},RF={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vte=mte(n=>{if(n.length>2)if(RF[n])n=RF[n];else return[n];const[e,t]=n.split(""),i=gte[e],r=yte[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),cB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],uB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...cB,...uB];function FS(n,e,t,i){const r=vw(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function dB(n){return FS(n,"spacing",8)}function HS(n,e){return typeof e=="string"||e==null?e:n(e)}function bte(n,e){return t=>n.reduce((i,r)=>(i[r]=HS(e,t),i),{})}function _te(n,e,t,i){if(!e.includes(t))return null;const r=vte(t),s=bte(r,i),a=n[t];return Bd(n,a,s)}function H8(n,e){const t=dB(n.theme);return Object.keys(n).map(i=>_te(n,e,i,t)).reduce(sx,{})}function xr(n){return H8(n,cB)}xr.propTypes={};xr.filterProps=cB;function Sr(n){return H8(n,uB)}Sr.propTypes={};Sr.filterProps=uB;function z8(n=8,e=dB({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function bw(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?sx(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function Sl(n){return typeof n!="number"?n:`${n}px solid`}function Pl(n,e){return Ur({prop:n,themeKey:"borders",transform:e})}const xte=Pl("border",Sl),Ste=Pl("borderTop",Sl),Ate=Pl("borderRight",Sl),Ete=Pl("borderBottom",Sl),Cte=Pl("borderLeft",Sl),Tte=Pl("borderColor"),Mte=Pl("borderTopColor"),wte=Pl("borderRightColor"),Rte=Pl("borderBottomColor"),Dte=Pl("borderLeftColor"),Ite=Pl("outline",Sl),Ote=Pl("outlineColor"),_w=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=FS(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:HS(e,i)});return Bd(n,n.borderRadius,t)}return null};_w.propTypes={};_w.filterProps=["borderRadius"];bw(xte,Ste,Ate,Ete,Cte,Tte,Mte,wte,Rte,Dte,_w,Ite,Ote);const xw=n=>{if(n.gap!==void 0&&n.gap!==null){const e=FS(n.theme,"spacing",8),t=i=>({gap:HS(e,i)});return Bd(n,n.gap,t)}return null};xw.propTypes={};xw.filterProps=["gap"];const Sw=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=FS(n.theme,"spacing",8),t=i=>({columnGap:HS(e,i)});return Bd(n,n.columnGap,t)}return null};Sw.propTypes={};Sw.filterProps=["columnGap"];const Aw=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=FS(n.theme,"spacing",8),t=i=>({rowGap:HS(e,i)});return Bd(n,n.rowGap,t)}return null};Aw.propTypes={};Aw.filterProps=["rowGap"];const Pte=Ur({prop:"gridColumn"}),Nte=Ur({prop:"gridRow"}),Bte=Ur({prop:"gridAutoFlow"}),Lte=Ur({prop:"gridAutoColumns"}),Ute=Ur({prop:"gridAutoRows"}),kte=Ur({prop:"gridTemplateColumns"}),Fte=Ur({prop:"gridTemplateRows"}),Hte=Ur({prop:"gridTemplateAreas"}),zte=Ur({prop:"gridArea"});bw(xw,Sw,Aw,Pte,Nte,Bte,Lte,Ute,kte,Fte,Hte,zte);function Cv(n,e){return e==="grey"?e:n}const Gte=Ur({prop:"color",themeKey:"palette",transform:Cv}),Vte=Ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cv}),jte=Ur({prop:"backgroundColor",themeKey:"palette",transform:Cv});bw(Gte,Vte,jte);function No(n){return n<=1&&n!==0?`${n*100}%`:n}const Wte=Ur({prop:"width",transform:No}),fB=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,s,a,o,l;const i=((a=(s=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:s.values)==null?void 0:a[t])||yw[t];return i?((l=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:No(t)}};return Bd(n,n.maxWidth,e)}return null};fB.filterProps=["maxWidth"];const Yte=Ur({prop:"minWidth",transform:No}),Xte=Ur({prop:"height",transform:No}),qte=Ur({prop:"maxHeight",transform:No}),$te=Ur({prop:"minHeight",transform:No});Ur({prop:"size",cssProperty:"width",transform:No});Ur({prop:"size",cssProperty:"height",transform:No});const Kte=Ur({prop:"boxSizing"});bw(Wte,fB,Yte,Xte,qte,$te,Kte);const zS={border:{themeKey:"borders",transform:Sl},borderTop:{themeKey:"borders",transform:Sl},borderRight:{themeKey:"borders",transform:Sl},borderBottom:{themeKey:"borders",transform:Sl},borderLeft:{themeKey:"borders",transform:Sl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_w},color:{themeKey:"palette",transform:Cv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cv},backgroundColor:{themeKey:"palette",transform:Cv},p:{style:Sr},pt:{style:Sr},pr:{style:Sr},pb:{style:Sr},pl:{style:Sr},px:{style:Sr},py:{style:Sr},padding:{style:Sr},paddingTop:{style:Sr},paddingRight:{style:Sr},paddingBottom:{style:Sr},paddingLeft:{style:Sr},paddingX:{style:Sr},paddingY:{style:Sr},paddingInline:{style:Sr},paddingInlineStart:{style:Sr},paddingInlineEnd:{style:Sr},paddingBlock:{style:Sr},paddingBlockStart:{style:Sr},paddingBlockEnd:{style:Sr},m:{style:xr},mt:{style:xr},mr:{style:xr},mb:{style:xr},ml:{style:xr},mx:{style:xr},my:{style:xr},margin:{style:xr},marginTop:{style:xr},marginRight:{style:xr},marginBottom:{style:xr},marginLeft:{style:xr},marginX:{style:xr},marginY:{style:xr},marginInline:{style:xr},marginInlineStart:{style:xr},marginInlineEnd:{style:xr},marginBlock:{style:xr},marginBlockStart:{style:xr},marginBlockEnd:{style:xr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xw},rowGap:{style:Aw},columnGap:{style:Sw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:No},maxWidth:{style:fB},minWidth:{transform:No},height:{transform:No},maxHeight:{transform:No},minHeight:{transform:No},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Jte(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Qte(n,e){return typeof n=="function"?n(e):n}function Zte(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:l=t,themeKey:c,transform:d,style:h}=o;if(i==null)return null;if(c==="typography"&&i==="inherit")return{[t]:i};const m=vw(r,c)||{};return h?h(a):Bd(a,i,b=>{let A=fT(m,d,b);return b===A&&typeof b=="string"&&(A=fT(m,d,`${t}${b==="default"?"":bt(b)}`,b)),l===!1?A:{[l]:A}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??zS;function o(l){let c=l;if(typeof l=="function")c=l(r);else if(typeof l!="object")return l;if(!c)return null;const d=pte(r.breakpoints),h=Object.keys(d);let m=d;return Object.keys(c).forEach(v=>{const b=Qte(c[v],r);if(b!=null)if(typeof b=="object")if(a[v])m=sx(m,n(v,b,r,a));else{const A=Bd({theme:r},b,_=>({[v]:_}));Jte(A,b)?m[v]=e({sx:b,theme:r,nested:!0}):m=sx(m,A)}else m=sx(m,n(v,b,r,a))}),!s&&r.modularCssLayers?{"@layer sx":TF(r,wF(h,m))}:TF(r,wF(h,m))}return Array.isArray(i)?i.map(o):o(i)}return e}const Xm=Zte();Xm.filterProps=["sx"];function ene(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function hB(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=lte(t),l=z8(r);let c=ua({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...fte,...s}},a);return c=dte(c),c.applyStyles=ene,c=e.reduce((d,h)=>ua(d,h),c),c.unstable_sxConfig={...zS,...a==null?void 0:a.unstable_sxConfig},c.unstable_sx=function(h){return Xm({sx:h,theme:this})},c}function tne(n){return Object.keys(n).length===0}function G8(n=null){const e=G.useContext(Hv);return!e||tne(e)?n:e}const nne=hB();function Ew(n=nne){return G8(n)}function uI(n){const e=Sh(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function ine({styles:n,themeId:e,defaultTheme:t={}}){const i=Ew(t),r=e&&i[e]||i;let s=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>uI(typeof a=="function"?a(r):a)):s=uI(s)),W.jsx(ite,{styles:s})}const rne=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??zS;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function V8(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=rne(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return vu(o)?{...i,...o}:i}:s={...i,...e},{...r,sx:s}}const DF=n=>n,sne=()=>{let n=DF;return{configure(e){n=e},generate(e){return n(e)},reset(){n=DF}}},j8=sne();function W8(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=W8(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Nt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=W8(n))&&(i&&(i+=" "),i+=e);return i}function ane(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=U8("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Xm);return G.forwardRef(function(l,c){const d=Ew(t),{className:h,component:m="div",...v}=V8(l);return W.jsx(s,{as:m,ref:c,className:Nt(h,r?r(i):i),theme:e&&d[e]||d,...v})})}const one={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function en(n,e,t="Mui"){const i=one[e];return i?`${t}-${i}`:`${j8.generate(n)}-${e}`}function Xt(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=en(n,r,t)}),i}function Y8(n){const{variants:e,...t}=n,i={variants:e,style:Sh(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Sh(r.style))}),i}const lne=hB();function F1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Am(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function cne(n){return n?(e,t)=>t[n]:null}function une(n,e,t){n.theme=hne(n.theme)?t:n.theme[e]||n.theme}function H1(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>H1(n,r,t));if(Array.isArray(i==null?void 0:i.variants)){let r;if(i.isProcessed)r=t?Am(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?Am(Sh(a),t):a}return X8(n,i.variants,[r],t)}return i!=null&&i.isProcessed?t?Am(Sh(i.style),t):i.style:t?Am(Sh(i),t):i}function X8(n,e,t=[],i=void 0){var s;let r;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(i?Am(Sh(o.style(r)),i):o.style(r))):t.push(i?Am(Sh(o.style),i):o.style)}return t}function dne(n={}){const{themeId:e,defaultTheme:t=lne,rootShouldForwardProp:i=F1,slotShouldForwardProp:r=F1}=n;function s(o){une(o,e,t)}return(o,l={})=>{rte(o,R=>R.filter(B=>B!==Xm));const{name:c,slot:d,skipVariantsResolver:h,skipSx:m,overridesResolver:v=cne(mne(d)),...b}=l,A=c&&c.startsWith("Mui")||d?"components":"custom",_=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,x=m||!1;let T=F1;d==="Root"||d==="root"?T=i:d?T=r:pne(o)&&(T=void 0);const C=U8(o,{shouldForwardProp:T,label:fne(),...b}),M=R=>{if(R.__emotion_real===R)return R;if(typeof R=="function")return function(N){return H1(N,R,N.theme.modularCssLayers?A:void 0)};if(vu(R)){const B=Y8(R);return function(P){return B.variants?H1(P,B,P.theme.modularCssLayers?A:void 0):P.theme.modularCssLayers?Am(B.style,A):B.style}}return R},O=(...R)=>{const B=[],N=R.map(M),P=[];if(B.push(s),c&&v&&P.push(function(j){var Y,X;const Z=(X=(Y=j.theme.components)==null?void 0:Y[c])==null?void 0:X.styleOverrides;if(!Z)return null;const H={};for(const ne in Z)H[ne]=H1(j,Z[ne],j.theme.modularCssLayers?"theme":void 0);return v(j,H)}),c&&!_&&P.push(function(j){var H,Y;const q=j.theme,Z=(Y=(H=q==null?void 0:q.components)==null?void 0:H[c])==null?void 0:Y.variants;return Z?X8(j,Z,[],j.theme.modularCssLayers?"theme":void 0):null}),x||P.push(Xm),Array.isArray(N[0])){const U=N.shift(),j=new Array(B.length).fill(""),q=new Array(P.length).fill("");let Z;Z=[...j,...U,...q],Z.raw=[...j,...U.raw,...q],B.unshift(Z)}const I=[...B,...N,...P],F=C(...I);return o.muiName&&(F.muiName=o.muiName),F};return C.withConfig&&(O.withConfig=C.withConfig),O}}function fne(n,e){return void 0}function hne(n){for(const e in n)return!1;return!0}function pne(n){return typeof n=="string"&&n.charCodeAt(0)>96}function mne(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function qm(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=l;i[s][c]=qm(a[c],o[c],t)}}}else s==="className"&&t&&e.className?i.className=Nt(n==null?void 0:n.className,e==null?void 0:e.className):s==="style"&&t&&e.style?i.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:i[s]===void 0&&(i[s]=n[s])}return i}function q8(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:qm(e.components[t].defaultProps,i)}function gne({props:n,name:e,defaultTheme:t,themeId:i}){let r=Ew(t);return r=r[i]||r,q8({theme:r,name:e,props:n})}const rr=typeof window<"u"?G.useLayoutEffect:G.useEffect;function yne(n,e,t,i,r){const[s,a]=G.useState(()=>r&&t?t(n).matches:i?i(n).matches:e);return rr(()=>{if(!t)return;const o=t(n),l=()=>{a(o.matches)};return l(),o.addEventListener("change",l),()=>{o.removeEventListener("change",l)}},[n,t]),s}const vne={...uT},$8=vne.useSyncExternalStore;function bne(n,e,t,i,r){const s=G.useCallback(()=>e,[e]),a=G.useMemo(()=>{if(r&&t)return()=>t(n).matches;if(i!==null){const{matches:d}=i(n);return()=>d}return s},[s,n,i,r,t]),[o,l]=G.useMemo(()=>{if(t===null)return[s,()=>()=>{}];const d=t(n);return[()=>d.matches,h=>(d.addEventListener("change",h),()=>{d.removeEventListener("change",h)})]},[s,t,n]);return $8(l,o,a)}function K8(n={}){const{themeId:e}=n;return function(i,r={}){let s=G8();s&&e&&(s=s[e]||s);const a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:l=a?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:d=!1}=q8({name:"MuiUseMediaQuery",props:r,theme:s});let h=typeof i=="function"?i(s):i;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),($8!==void 0?bne:yne)(h,o,l,c,d)}}K8();function _ne(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function pB(n,e=0,t=1){return _ne(n,e,t)}function xne(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Ih(n){if(n.type)return n;if(n.charAt(0)==="#")return Ih(xne(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Nd(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Nd(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const Sne=n=>{const e=Ih(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},$_=(n,e)=>{try{return Sne(n)}catch{return n}};function Cw(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function J8(n){n=Ih(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(c,d=(c+t/30)%12)=>r-s*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",l.push(e[3])),Cw({type:o,values:l})}function XO(n){n=Ih(n);let e=n.type==="hsl"||n.type==="hsla"?Ih(J8(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ane(n,e){const t=XO(n),i=XO(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function hT(n,e){return n=Ih(n),e=pB(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Cw(n)}function Xp(n,e,t){try{return hT(n,e)}catch{return n}}function Tw(n,e){if(n=Ih(n),e=pB(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Cw(n)}function Ei(n,e,t){try{return Tw(n,e)}catch{return n}}function Mw(n,e){if(n=Ih(n),e=pB(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Cw(n)}function Ci(n,e,t){try{return Mw(n,e)}catch{return n}}function Ene(n,e=.15){return XO(n)>.5?Tw(n,e):Mw(n,e)}function lC(n,e,t){try{return Ene(n,e)}catch{return n}}const Cne=G.createContext(),fg=()=>G.useContext(Cne)??!1,Tne=G.createContext(void 0);function Mne(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?qm(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?qm(r,i,e.components.mergeClassNameAndStyle):i}function wne({props:n,name:e}){const t=G.useContext(Tne);return Mne({props:n,name:e,theme:{components:t}})}let IF=0;function Rne(n){const[e,t]=G.useState(n),i=n||e;return G.useEffect(()=>{e==null&&(IF+=1,t(`mui-${IF}`))},[e]),i}const Dne={...uT},OF=Dne.useId;function Wh(n){if(OF!==void 0){const e=OF();return n??e}return Rne(n)}const PF={theme:void 0};function Ine(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(PF.theme=r.theme,s=Y8(n(PF)),e=s,t=r.theme),s}}function One(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const NF=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},Pne=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,l])=>{(!t||t&&!t([...s,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...s,o],Array.isArray(l)?[...a,o]:a):e([...s,o],l,a))})}i(n)},Nne=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function dI(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return Pne(n,(o,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(o,l))){const d=`--${t?`${t}-`:""}${o.join("-")}`,h=Nne(o,l);Object.assign(r,{[d]:h}),NF(s,o,`var(${d})`,c),NF(a,o,`var(${d}, ${h})`,c)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function Bne(n,e={}){const{getSelector:t=x,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...c}=n,{vars:d,css:h,varsWithDefaults:m}=dI(c,e);let v=m;const b={},{[l]:A,..._}=a;if(Object.entries(_||{}).forEach(([M,O])=>{const{vars:R,css:B,varsWithDefaults:N}=dI(O,e);v=ua(v,N),b[M]={css:B,vars:R}}),A){const{css:M,vars:O,varsWithDefaults:R}=dI(A,e);v=ua(v,R),b[l]={css:M,vars:O}}function x(M,O){var B,N;let R=r;if(r==="class"&&(R=".%s"),r==="data"&&(R="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(R=`[${r}="%s"]`),M){if(R==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((N=(B=a[M])==null?void 0:B.palette)==null?void 0:N.mode)||M})`]:{":root":O}};if(R)return n.defaultColorScheme===M?`:root, ${R.replace("%s",String(M))}`:R.replace("%s",String(M))}return":root"}return{vars:v,generateThemeVars:()=>{let M={...d};return Object.entries(b).forEach(([,{vars:O}])=>{M=ua(M,O)}),M},generateStyleSheets:()=>{var P,I;const M=[],O=n.defaultColorScheme||"light";function R(F,U){Object.keys(U).length&&M.push(typeof F=="string"?{[F]:{...U}}:F)}R(t(void 0,{...h}),h);const{[O]:B,...N}=b;if(B){const{css:F}=B,U=(I=(P=a[O])==null?void 0:P.palette)==null?void 0:I.mode,j=!i&&U?{colorScheme:U,...F}:{...F};R(t(O,{...j}),j)}return Object.entries(N).forEach(([F,{css:U}])=>{var Z,H;const j=(H=(Z=a[F])==null?void 0:Z.palette)==null?void 0:H.mode,q=!i&&j?{colorScheme:j,...U}:{...U};R(t(F,{...q}),q)}),s&&M.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),M}}}function Lne(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Jt(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(a+=(o===!0?"":" ")+e(c),o=!1,t&&t[c]&&(a+=" "+t[c]))}i[r]=a}return i}function z1(n,e){var t,i,r;return G.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}function Q8(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hx.white,default:Hx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Z8=Q8();function e9(){return{text:{primary:Hx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const qO=e9();function BF(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Mw(n.main,r):e==="dark"&&(n.dark=Tw(n.main,s)))}function LF(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function Une(n="light"){return n==="dark"?{main:Dy[200],light:Dy[50],dark:Dy[400]}:{main:Dy[700],light:Dy[400],dark:Dy[800]}}function kne(n="light"){return n==="dark"?{main:Ry[200],light:Ry[50],dark:Ry[400]}:{main:Ry[500],light:Ry[300],dark:Ry[700]}}function Fne(n="light"){return n==="dark"?{main:wy[500],light:wy[300],dark:wy[700]}:{main:wy[700],light:wy[400],dark:wy[800]}}function Hne(n="light"){return n==="dark"?{main:Iy[400],light:Iy[300],dark:Iy[700]}:{main:Iy[700],light:Iy[500],dark:Iy[900]}}function zne(n="light"){return n==="dark"?{main:Oy[400],light:Oy[300],dark:Oy[700]}:{main:Oy[800],light:Oy[500],dark:Oy[900]}}function Gne(n="light"){return n==="dark"?{main:__[400],light:__[300],dark:__[700]}:{main:"#ed6c02",light:__[500],dark:__[900]}}function Vne(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function mB(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||Une(e),o=n.secondary||kne(e),l=n.error||Fne(e),c=n.info||Hne(e),d=n.success||zne(e),h=n.warning||Gne(e);function m(_){return r?Vne(_):Ane(_,qO.text.primary)>=t?qO.text.primary:Z8.text.primary}const v=({color:_,name:x,mainShade:T=500,lightShade:C=300,darkShade:M=700})=>{if(_={..._},!_.main&&_[T]&&(_.main=_[T]),!_.hasOwnProperty("main"))throw new Error(Nd(11,x?` (${x})`:"",T));if(typeof _.main!="string")throw new Error(Nd(12,x?` (${x})`:"",JSON.stringify(_.main)));return r?(LF(r,_,"light",C,i),LF(r,_,"dark",M,i)):(BF(_,"light",C,i),BF(_,"dark",M,i)),_.contrastText||(_.contrastText=m(_.main)),_};let b;return e==="light"?b=Q8():e==="dark"&&(b=e9()),ua({common:{...Hx},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:c,name:"info"}),success:v({color:d,name:"success"}),grey:tee,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:i,...b},s)}function jne(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Wne(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Yne(n){return Math.round(n*1e5)/1e5}const UF={textTransform:"uppercase"},kF='"Roboto", "Helvetica", "Arial", sans-serif';function Xne(n,e){const{fontFamily:t=kF,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(n):e,m=i/14,v=d||(_=>`${_/l*m}rem`),b=(_,x,T,C,M)=>({fontFamily:t,fontWeight:_,fontSize:v(x),lineHeight:T,...t===kF?{letterSpacing:`${Yne(C/x)}em`}:{},...M,...c}),A={h1:b(r,96,1.167,-1.5),h2:b(r,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(a,14,1.75,.4,UF),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,UF),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ua({htmlFontSize:l,pxToRem:v,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...A},h,{clone:!1})}const qne=.2,$ne=.14,Kne=.12;function Zi(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${qne})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${$ne})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Kne})`].join(",")}const Jne=["none",Zi(0,2,1,-1,0,1,1,0,0,1,3,0),Zi(0,3,1,-2,0,2,2,0,0,1,5,0),Zi(0,3,3,-2,0,3,4,0,0,1,8,0),Zi(0,2,4,-1,0,4,5,0,0,1,10,0),Zi(0,3,5,-1,0,5,8,0,0,1,14,0),Zi(0,3,5,-1,0,6,10,0,0,1,18,0),Zi(0,4,5,-2,0,7,10,1,0,2,16,1),Zi(0,5,5,-3,0,8,10,1,0,3,14,2),Zi(0,5,6,-3,0,9,12,1,0,3,16,2),Zi(0,6,6,-3,0,10,14,1,0,4,18,3),Zi(0,6,7,-4,0,11,15,1,0,4,20,3),Zi(0,7,8,-4,0,12,17,2,0,5,22,4),Zi(0,7,8,-4,0,13,19,2,0,5,24,4),Zi(0,7,9,-4,0,14,21,2,0,5,26,4),Zi(0,8,9,-5,0,15,22,2,0,6,28,5),Zi(0,8,10,-5,0,16,24,2,0,6,30,5),Zi(0,8,11,-5,0,17,26,2,0,6,32,5),Zi(0,9,11,-5,0,18,28,2,0,7,34,6),Zi(0,9,12,-6,0,19,29,2,0,7,36,6),Zi(0,10,13,-6,0,20,31,3,0,8,38,7),Zi(0,10,13,-6,0,21,33,3,0,8,40,7),Zi(0,10,14,-6,0,22,35,3,0,8,42,7),Zi(0,11,14,-7,0,23,36,3,0,9,44,8),Zi(0,11,15,-7,0,24,38,3,0,9,46,8)],Qne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},t9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function FF(n){return`${Math.round(n)}ms`}function Zne(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function eie(n){const e={...Qne,...n.easing},t={...t9,...n.duration};return{getAutoHeightDuration:Zne,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(r)?r:[r]).map(d=>`${d} ${typeof a=="string"?a:FF(a)} ${o} ${typeof l=="string"?l:FF(l)}`).join(",")},...n,easing:e,duration:t}}const tie={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function nie(n){return vu(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function n9(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!nie(o)||a.startsWith("unstable_")?delete i[a]:vu(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function HF(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const iie=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function rie(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:hT(e,iie(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${HF(t)})`:Mw(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${HF(t)})`:Tw(e,t)}})}function $O(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:l,colorSpace:c,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Nd(20));const h=mB({...s,colorSpace:c}),m=hB(n);let v=ua(m,{mixins:Wne(m.breakpoints,i),palette:h,shadows:Jne.slice(),typography:Xne(h,o),transitions:eie(a),zIndex:{...tie}});return v=ua(v,d),v=e.reduce((b,A)=>ua(b,A),v),v.unstable_sxConfig={...zS,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(A){return Xm({sx:A,theme:this})},v.toRuntimeSource=n9,rie(v),v}function KO(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const sie=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=KO(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function i9(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function r9(n){return n==="dark"?sie:[]}function aie(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=mB({...e,colorSpace:r});return{palette:a,opacity:{...i9(a.mode),...t},overlays:i||r9(a.mode),...s}}function oie(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const lie=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],cie=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return lie(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function uie(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function tt(n,e,t){!n[e]&&t&&(n[e]=t)}function K_(n){return typeof n!="string"||!n.startsWith("hsl")?n:J8(n)}function ad(n,e){`${e}Channel`in n||(n[`${e}Channel`]=$_(K_(n[e])))}function die(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const fu=n=>{try{return n()}catch{}},fie=(n="mui")=>One(n);function fI(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=aie({...t,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return}const{palette:a,...o}=$O({...i,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...i9(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||r9(s)},o}function hie(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=oie,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:c=":root",...d}=n,h=Object.keys(t)[0],m=i||(t.light&&h!=="light"?"light":h),v=fie(s),{[m]:b,light:A,dark:_,...x}=t,T={...x};let C=b;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(C=!0),!C)throw new Error(Nd(21,m));let M;a&&(M="oklch");const O=fI(M,T,C,d,m);A&&!T.light&&fI(M,T,A,void 0,"light"),_&&!T.dark&&fI(M,T,_,void 0,"dark");let R={defaultColorScheme:m,...O,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:c,getCssVar:v,colorSchemes:T,font:{...jne(O.typography),...O.font},spacing:die(d.spacing)};Object.keys(R.colorSchemes).forEach(F=>{const U=R.colorSchemes[F].palette,j=Z=>{const H=Z.split("-"),Y=H[1],X=H[2];return v(Z,U[Y][X])};U.mode==="light"&&(tt(U.common,"background","#fff"),tt(U.common,"onBackground","#000")),U.mode==="dark"&&(tt(U.common,"background","#000"),tt(U.common,"onBackground","#fff"));function q(Z,H,Y){if(M){let X;return Z===Xp&&(X=`transparent ${((1-Y)*100).toFixed(0)}%`),Z===Ei&&(X=`#000 ${(Y*100).toFixed(0)}%`),Z===Ci&&(X=`#fff ${(Y*100).toFixed(0)}%`),`color-mix(in ${M}, ${H}, ${X})`}return Z(H,Y)}if(uie(U,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),U.mode==="light"){tt(U.Alert,"errorColor",q(Ei,U.error.light,.6)),tt(U.Alert,"infoColor",q(Ei,U.info.light,.6)),tt(U.Alert,"successColor",q(Ei,U.success.light,.6)),tt(U.Alert,"warningColor",q(Ei,U.warning.light,.6)),tt(U.Alert,"errorFilledBg",j("palette-error-main")),tt(U.Alert,"infoFilledBg",j("palette-info-main")),tt(U.Alert,"successFilledBg",j("palette-success-main")),tt(U.Alert,"warningFilledBg",j("palette-warning-main")),tt(U.Alert,"errorFilledColor",fu(()=>U.getContrastText(U.error.main))),tt(U.Alert,"infoFilledColor",fu(()=>U.getContrastText(U.info.main))),tt(U.Alert,"successFilledColor",fu(()=>U.getContrastText(U.success.main))),tt(U.Alert,"warningFilledColor",fu(()=>U.getContrastText(U.warning.main))),tt(U.Alert,"errorStandardBg",q(Ci,U.error.light,.9)),tt(U.Alert,"infoStandardBg",q(Ci,U.info.light,.9)),tt(U.Alert,"successStandardBg",q(Ci,U.success.light,.9)),tt(U.Alert,"warningStandardBg",q(Ci,U.warning.light,.9)),tt(U.Alert,"errorIconColor",j("palette-error-main")),tt(U.Alert,"infoIconColor",j("palette-info-main")),tt(U.Alert,"successIconColor",j("palette-success-main")),tt(U.Alert,"warningIconColor",j("palette-warning-main")),tt(U.AppBar,"defaultBg",j("palette-grey-100")),tt(U.Avatar,"defaultBg",j("palette-grey-400")),tt(U.Button,"inheritContainedBg",j("palette-grey-300")),tt(U.Button,"inheritContainedHoverBg",j("palette-grey-A100")),tt(U.Chip,"defaultBorder",j("palette-grey-400")),tt(U.Chip,"defaultAvatarColor",j("palette-grey-700")),tt(U.Chip,"defaultIconColor",j("palette-grey-700")),tt(U.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),tt(U.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),tt(U.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),tt(U.LinearProgress,"primaryBg",q(Ci,U.primary.main,.62)),tt(U.LinearProgress,"secondaryBg",q(Ci,U.secondary.main,.62)),tt(U.LinearProgress,"errorBg",q(Ci,U.error.main,.62)),tt(U.LinearProgress,"infoBg",q(Ci,U.info.main,.62)),tt(U.LinearProgress,"successBg",q(Ci,U.success.main,.62)),tt(U.LinearProgress,"warningBg",q(Ci,U.warning.main,.62)),tt(U.Skeleton,"bg",M?q(Xp,U.text.primary,.11):`rgba(${j("palette-text-primaryChannel")} / 0.11)`),tt(U.Slider,"primaryTrack",q(Ci,U.primary.main,.62)),tt(U.Slider,"secondaryTrack",q(Ci,U.secondary.main,.62)),tt(U.Slider,"errorTrack",q(Ci,U.error.main,.62)),tt(U.Slider,"infoTrack",q(Ci,U.info.main,.62)),tt(U.Slider,"successTrack",q(Ci,U.success.main,.62)),tt(U.Slider,"warningTrack",q(Ci,U.warning.main,.62));const Z=M?q(Ei,U.background.default,.6825):lC(U.background.default,.8);tt(U.SnackbarContent,"bg",Z),tt(U.SnackbarContent,"color",fu(()=>M?qO.text.primary:U.getContrastText(Z))),tt(U.SpeedDialAction,"fabHoverBg",lC(U.background.paper,.15)),tt(U.StepConnector,"border",j("palette-grey-400")),tt(U.StepContent,"border",j("palette-grey-400")),tt(U.Switch,"defaultColor",j("palette-common-white")),tt(U.Switch,"defaultDisabledColor",j("palette-grey-100")),tt(U.Switch,"primaryDisabledColor",q(Ci,U.primary.main,.62)),tt(U.Switch,"secondaryDisabledColor",q(Ci,U.secondary.main,.62)),tt(U.Switch,"errorDisabledColor",q(Ci,U.error.main,.62)),tt(U.Switch,"infoDisabledColor",q(Ci,U.info.main,.62)),tt(U.Switch,"successDisabledColor",q(Ci,U.success.main,.62)),tt(U.Switch,"warningDisabledColor",q(Ci,U.warning.main,.62)),tt(U.TableCell,"border",q(Ci,q(Xp,U.divider,1),.88)),tt(U.Tooltip,"bg",q(Xp,U.grey[700],.92))}if(U.mode==="dark"){tt(U.Alert,"errorColor",q(Ci,U.error.light,.6)),tt(U.Alert,"infoColor",q(Ci,U.info.light,.6)),tt(U.Alert,"successColor",q(Ci,U.success.light,.6)),tt(U.Alert,"warningColor",q(Ci,U.warning.light,.6)),tt(U.Alert,"errorFilledBg",j("palette-error-dark")),tt(U.Alert,"infoFilledBg",j("palette-info-dark")),tt(U.Alert,"successFilledBg",j("palette-success-dark")),tt(U.Alert,"warningFilledBg",j("palette-warning-dark")),tt(U.Alert,"errorFilledColor",fu(()=>U.getContrastText(U.error.dark))),tt(U.Alert,"infoFilledColor",fu(()=>U.getContrastText(U.info.dark))),tt(U.Alert,"successFilledColor",fu(()=>U.getContrastText(U.success.dark))),tt(U.Alert,"warningFilledColor",fu(()=>U.getContrastText(U.warning.dark))),tt(U.Alert,"errorStandardBg",q(Ei,U.error.light,.9)),tt(U.Alert,"infoStandardBg",q(Ei,U.info.light,.9)),tt(U.Alert,"successStandardBg",q(Ei,U.success.light,.9)),tt(U.Alert,"warningStandardBg",q(Ei,U.warning.light,.9)),tt(U.Alert,"errorIconColor",j("palette-error-main")),tt(U.Alert,"infoIconColor",j("palette-info-main")),tt(U.Alert,"successIconColor",j("palette-success-main")),tt(U.Alert,"warningIconColor",j("palette-warning-main")),tt(U.AppBar,"defaultBg",j("palette-grey-900")),tt(U.AppBar,"darkBg",j("palette-background-paper")),tt(U.AppBar,"darkColor",j("palette-text-primary")),tt(U.Avatar,"defaultBg",j("palette-grey-600")),tt(U.Button,"inheritContainedBg",j("palette-grey-800")),tt(U.Button,"inheritContainedHoverBg",j("palette-grey-700")),tt(U.Chip,"defaultBorder",j("palette-grey-700")),tt(U.Chip,"defaultAvatarColor",j("palette-grey-300")),tt(U.Chip,"defaultIconColor",j("palette-grey-300")),tt(U.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),tt(U.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),tt(U.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),tt(U.LinearProgress,"primaryBg",q(Ei,U.primary.main,.5)),tt(U.LinearProgress,"secondaryBg",q(Ei,U.secondary.main,.5)),tt(U.LinearProgress,"errorBg",q(Ei,U.error.main,.5)),tt(U.LinearProgress,"infoBg",q(Ei,U.info.main,.5)),tt(U.LinearProgress,"successBg",q(Ei,U.success.main,.5)),tt(U.LinearProgress,"warningBg",q(Ei,U.warning.main,.5)),tt(U.Skeleton,"bg",M?q(Xp,U.text.primary,.13):`rgba(${j("palette-text-primaryChannel")} / 0.13)`),tt(U.Slider,"primaryTrack",q(Ei,U.primary.main,.5)),tt(U.Slider,"secondaryTrack",q(Ei,U.secondary.main,.5)),tt(U.Slider,"errorTrack",q(Ei,U.error.main,.5)),tt(U.Slider,"infoTrack",q(Ei,U.info.main,.5)),tt(U.Slider,"successTrack",q(Ei,U.success.main,.5)),tt(U.Slider,"warningTrack",q(Ei,U.warning.main,.5));const Z=M?q(Ci,U.background.default,.985):lC(U.background.default,.98);tt(U.SnackbarContent,"bg",Z),tt(U.SnackbarContent,"color",fu(()=>M?Z8.text.primary:U.getContrastText(Z))),tt(U.SpeedDialAction,"fabHoverBg",lC(U.background.paper,.15)),tt(U.StepConnector,"border",j("palette-grey-600")),tt(U.StepContent,"border",j("palette-grey-600")),tt(U.Switch,"defaultColor",j("palette-grey-300")),tt(U.Switch,"defaultDisabledColor",j("palette-grey-600")),tt(U.Switch,"primaryDisabledColor",q(Ei,U.primary.main,.55)),tt(U.Switch,"secondaryDisabledColor",q(Ei,U.secondary.main,.55)),tt(U.Switch,"errorDisabledColor",q(Ei,U.error.main,.55)),tt(U.Switch,"infoDisabledColor",q(Ei,U.info.main,.55)),tt(U.Switch,"successDisabledColor",q(Ei,U.success.main,.55)),tt(U.Switch,"warningDisabledColor",q(Ei,U.warning.main,.55)),tt(U.TableCell,"border",q(Ei,q(Xp,U.divider,1),.68)),tt(U.Tooltip,"bg",q(Xp,U.grey[700],.92))}ad(U.background,"default"),ad(U.background,"paper"),ad(U.common,"background"),ad(U.common,"onBackground"),ad(U,"divider"),Object.keys(U).forEach(Z=>{const H=U[Z];Z!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&tt(U[Z],"mainChannel",$_(K_(H.main))),H.light&&tt(U[Z],"lightChannel",$_(K_(H.light))),H.dark&&tt(U[Z],"darkChannel",$_(K_(H.dark))),H.contrastText&&tt(U[Z],"contrastTextChannel",$_(K_(H.contrastText))),Z==="text"&&(ad(U[Z],"primary"),ad(U[Z],"secondary")),Z==="action"&&(H.active&&ad(U[Z],"active"),H.selected&&ad(U[Z],"selected")))})}),R=e.reduce((F,U)=>ua(F,U),R);const B={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:cie(R),enableContrastVars:a},{vars:N,generateThemeVars:P,generateStyleSheets:I}=Bne(R,B);return R.vars=N,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([F,U])=>{R[F]=U}),R.generateThemeVars=P,R.generateStyleSheets=I,R.generateSpacing=function(){return z8(d.spacing,dB(this))},R.getColorSchemeSelector=Lne(l),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=o,R.unstable_sxConfig={...zS,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(U){return Xm({sx:U,theme:this})},R.toRuntimeSource=n9,R}function zF(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:mB({...t===!0?{}:t.palette,mode:e})})}function gB(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...a}=n,o=s||"light",l=r==null?void 0:r[o],c={...r,...t?{[o]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return $O(n,...e);let d=t;"palette"in n||c[o]&&(c[o]!==!0?d=c[o].palette:o==="dark"&&(d={mode:"dark"}));const h=$O({...n,palette:d},...e);return h.defaultColorScheme=o,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},zF(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},zF(h,"light",c.light)),h}return!t&&!("light"in c)&&o==="light"&&(c.light=!0),hie({...a,colorSchemes:c,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const ww=gB();function ho(){const n=Ew(ww);return n[M0]||n}function Wo({props:n,name:e}){return gne({props:n,name:e,defaultTheme:ww,themeId:M0})}function s9(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const po=n=>s9(n)&&n!=="classes",lt=dne({themeId:M0,defaultTheme:ww,rootShouldForwardProp:po});function GF(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function pie(n){return W.jsx(ine,{...n,defaultTheme:ww,themeId:M0})}function mie(n){return function(t){return W.jsx(pie,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function gie(){return V8}const Tn=Ine;function Rn(n){return wne(n)}function yie(n){return en("MuiSvgIcon",n)}Xt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vie=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${bt(e)}`,`fontSize${bt(t)}`]};return Jt(r,yie,i)},bie=lt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${bt(t.color)}`],e[`fontSize${bt(t.fontSize)}`]]}})(Tn(({theme:n})=>{var e,t,i,r,s,a,o,l,c,d,h,m,v,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var _,x;return{props:{color:A},style:{color:(x=(_=(n.vars??n).palette)==null?void 0:_[A])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(m=(h=(n.vars??n).palette)==null?void 0:h.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(v=(n.vars??n).palette)==null?void 0:v.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),JO=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:m="0 0 24 24",...v}=i,b=G.isValidElement(r)&&r.type==="svg",A={...i,color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:b},_={};d||(_.viewBox=m);const x=vie(A);return W.jsxs(bie,{as:o,className:Nt(x.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t,..._,...v,...b&&r.props,ownerState:A,children:[b?r.props.children:r,h?W.jsx("title",{children:h}):null]})});JO.muiName="SvgIcon";function mo(n,e){function t(i,r){return W.jsx(JO,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=JO.muiName,G.memo(G.forwardRef(t))}function yB(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function zo(n){return n&&n.ownerDocument||document}function Rl(n){return zo(n).defaultView||window}function QO(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function ax(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:s}=G.useRef(e!==void 0),[a,o]=G.useState(t),l=s?e:a,c=G.useCallback(d=>{s||o(d)},[]);return[l,c]}function Tr(n){const e=G.useRef(n);return rr(()=>{e.current=n}),G.useRef((...t)=>(0,e.current)(...t)).current}function hr(...n){const e=G.useRef(void 0),t=G.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s==null?void 0:s())}},n);return G.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function _ie(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function a9(n,e){if(!n)return e;function t(a,o){const l={};return Object.keys(o).forEach(c=>{_ie(c,o[c])&&typeof a[c]=="function"&&(l[c]=(...d)=>{a[c](...d),o[c](...d)})}),l}if(typeof n=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,l=typeof n=="function"?n({...a,...o}):n,c=Nt(a==null?void 0:a.className,o==null?void 0:o.className,l==null?void 0:l.className),d=t(l,o);return{...o,...l,...d,...!!c&&{className:c},...(o==null?void 0:o.style)&&(l==null?void 0:l.style)&&{style:{...o.style,...l.style}},...(o==null?void 0:o.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const i=e,r=t(n,i),s=Nt(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...r,...!!s&&{className:s},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function li(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ZO(n,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ZO(n,e)}function o9(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ZO(n,e)}var jx=A8();const cC=C0(jx),VF={disabled:!1},pT=to.createContext(null);var xie=function(e){return e.scrollTop},J_="unmounted",um="exited",dm="entering",lv="entered",eP="exiting",Nl=function(n){o9(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?o?(l=um,s.appearStatus=dm):l=lv:i.unmountOnExit||i.mountOnEnter?l=J_:l=um,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===J_?{status:um}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==dm&&a!==lv&&(s=dm):(a===dm||a===lv)&&(s=eP)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===dm){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:cC.findDOMNode(this);a&&xie(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===um&&this.setState({status:J_})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[cC.findDOMNode(this),o],c=l[0],d=l[1],h=this.getTimeouts(),m=o?h.appear:h.enter;if(!r&&!a||VF.disabled){this.safeSetState({status:lv},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:dm},function(){s.props.onEntering(c,d),s.onTransitionEnd(m,function(){s.safeSetState({status:lv},function(){s.props.onEntered(c,d)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:cC.findDOMNode(this);if(!s||VF.disabled){this.safeSetState({status:um},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:eP},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:um},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:cC.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===J_)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=li(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return to.createElement(pT.Provider,{value:null},typeof a=="function"?a(r,o):to.cloneElement(to.Children.only(a),o))},e}(to.Component);Nl.contextType=pT;Nl.propTypes={};function Py(){}Nl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Py,onEntering:Py,onEntered:Py,onExit:Py,onExiting:Py,onExited:Py};Nl.UNMOUNTED=J_;Nl.EXITED=um;Nl.ENTERING=dm;Nl.ENTERED=lv;Nl.EXITING=eP;function Sie(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vB(n,e){var t=function(s){return e&&G.isValidElement(s)?e(s):s},i=Object.create(null);return n&&G.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function Aie(n,e){n=n||{},e=e||{};function t(d){return d in e?e[d]:n[d]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var a,o={};for(var l in e){if(i[l])for(a=0;a<i[l].length;a++){var c=i[l][a];o[i[l][a]]=t(c)}o[l]=t(l)}for(a=0;a<r.length;a++)o[r[a]]=t(r[a]);return o}function Em(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Eie(n,e){return vB(n.children,function(t){return G.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Em(t,"appear",n),enter:Em(t,"enter",n),exit:Em(t,"exit",n)})})}function Cie(n,e,t){var i=vB(n.children),r=Aie(e,i);return Object.keys(r).forEach(function(s){var a=r[s];if(G.isValidElement(a)){var o=s in e,l=s in i,c=e[s],d=G.isValidElement(c)&&!c.props.in;l&&(!o||d)?r[s]=G.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Em(a,"exit",n),enter:Em(a,"enter",n)}):!l&&o&&!d?r[s]=G.cloneElement(a,{in:!1}):l&&o&&G.isValidElement(c)&&(r[s]=G.cloneElement(a,{onExited:t.bind(null,a),in:c.props.in,exit:Em(a,"exit",n),enter:Em(a,"enter",n)}))}}),r}var Tie=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Mie={component:"div",childFactory:function(e){return e}},bB=function(n){o9(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=s.handleExited.bind(Sie(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?Eie(r,o):Cie(r,a,o),firstRender:!1}},t.handleExited=function(r,s){var a=vB(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(o){var l=be({},o.children);return delete l[r.key],{children:l}}))},t.render=function(){var r=this.props,s=r.component,a=r.childFactory,o=li(r,["component","childFactory"]),l=this.state.contextValue,c=Tie(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?to.createElement(pT.Provider,{value:l},c):to.createElement(pT.Provider,{value:l},to.createElement(s,o,c))},e}(to.Component);bB.propTypes={};bB.defaultProps=Mie;const jF={};function Rw(n,e){const t=G.useRef(jF);return t.current===jF&&(t.current=n(e)),t}const wie=[];function Rie(n){G.useEffect(n,wie)}class _B{constructor(){sn(this,"currentId",null);sn(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});sn(this,"disposeEffect",()=>this.clear)}static create(){return new _B}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function xB(){const n=Rw(_B.create).current;return Rie(n.disposeEffect),n}const SB=n=>n.scrollTop;function Oh(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function Die(n){return en("MuiCollapse",n)}Xt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Iie=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Jt(i,Die,t)},Oie=lt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(Tn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Pie=lt("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Nie=lt("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),mT=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:a,collapsedSize:o="0px",component:l,easing:c,in:d,onEnter:h,onEntered:m,onEntering:v,onExit:b,onExited:A,onExiting:_,orientation:x="vertical",style:T,timeout:C=t9.standard,TransitionComponent:M=Nl,...O}=i,R={...i,orientation:x,collapsedSize:o},B=Iie(R),N=ho(),P=xB(),I=G.useRef(null),F=G.useRef(),U=typeof o=="number"?`${o}px`:o,j=x==="horizontal",q=j?"width":"height",Z=G.useRef(null),H=hr(t,Z),Y=pe=>He=>{if(pe){const ve=Z.current;He===void 0?pe(ve):pe(ve,He)}},X=()=>I.current?I.current[j?"clientWidth":"clientHeight"]:0,ne=Y((pe,He)=>{I.current&&j&&(I.current.style.position="absolute"),pe.style[q]=U,h&&h(pe,He)}),K=Y((pe,He)=>{const ve=X();I.current&&j&&(I.current.style.position="");const{duration:V,easing:ee}=Oh({style:T,timeout:C,easing:c},{mode:"enter"});if(C==="auto"){const oe=N.transitions.getAutoHeightDuration(ve);pe.style.transitionDuration=`${oe}ms`,F.current=oe}else pe.style.transitionDuration=typeof V=="string"?V:`${V}ms`;pe.style[q]=`${ve}px`,pe.style.transitionTimingFunction=ee,v&&v(pe,He)}),ae=Y((pe,He)=>{pe.style[q]="auto",m&&m(pe,He)}),ye=Y(pe=>{pe.style[q]=`${X()}px`,b&&b(pe)}),Se=Y(A),de=Y(pe=>{const He=X(),{duration:ve,easing:V}=Oh({style:T,timeout:C,easing:c},{mode:"exit"});if(C==="auto"){const ee=N.transitions.getAutoHeightDuration(He);pe.style.transitionDuration=`${ee}ms`,F.current=ee}else pe.style.transitionDuration=typeof ve=="string"?ve:`${ve}ms`;pe.style[q]=U,pe.style.transitionTimingFunction=V,_&&_(pe)}),xe=pe=>{C==="auto"&&P.start(F.current||0,pe),r&&r(Z.current,pe)};return W.jsx(M,{in:d,onEnter:ne,onEntered:ae,onEntering:K,onExit:ye,onExited:Se,onExiting:de,addEndListener:xe,nodeRef:Z,timeout:C==="auto"?null:C,...O,children:(pe,{ownerState:He,...ve})=>W.jsx(Oie,{as:l,className:Nt(B.root,a,{entered:B.entered,exited:!d&&U==="0px"&&B.hidden}[pe]),style:{[j?"minWidth":"minHeight"]:U,...T},ref:H,ownerState:{...R,state:pe},...ve,children:W.jsx(Pie,{ownerState:{...R,state:pe},className:B.wrapper,ref:I,children:W.jsx(Nie,{ownerState:{...R,state:pe},className:B.wrapperInner,children:s})})})})});mT&&(mT.muiSupportAuto=!0);function Bie(n){return en("MuiPaper",n)}Xt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Lie=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return Jt(s,Bie,r)},Uie=lt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Tn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Jd=G.forwardRef(function(e,t){var v;const i=Rn({props:e,name:"MuiPaper"}),r=ho(),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:c="elevation",...d}=i,h={...i,component:a,elevation:o,square:l,variant:c},m=Lie(h);return W.jsx(Uie,{as:a,ownerState:h,className:Nt(m.root,s),ref:t,...d,style:{...c==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[o],...r.vars&&{"--Paper-overlay":(v=r.vars.overlays)==null?void 0:v[o]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${hT("#fff",KO(o))}, ${hT("#fff",KO(o))})`}},...d.style}})});function zv(n){return typeof n=="string"}function l9(n,e,t){return n===void 0||zv(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function c9(n,e,t){return typeof n=="function"?n(e,t):n}function u9(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function WF(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function d9(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const v=Nt(t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),b={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},A={...t,...r,...i};return v.length>0&&(A.className=v),Object.keys(b).length>0&&(A.style=b),{props:A,internalRef:void 0}}const a=u9({...r,...i}),o=WF(i),l=WF(r),c=e(a),d=Nt(c==null?void 0:c.className,t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),h={...c==null?void 0:c.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},m={...c,...t,...l,...o};return d.length>0&&(m.className=d),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function Qn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=e,{component:c,slots:d={[n]:void 0},slotProps:h={[n]:void 0},...m}=s,v=d[n]||i,b=c9(h[n],r),{props:{component:A,..._},internalRef:x}=d9({className:t,...l,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:b}),T=hr(x,b==null?void 0:b.ref,e.ref),C=n==="root"?A||c:A,M=l9(v,{...n==="root"&&!c&&!d[n]&&a,...n!=="root"&&!d[n]&&a,..._,...C&&!o&&{as:C},...C&&o&&{component:C},ref:T},r);return[v,M]}function YF(n){try{return n.matches(":focus-visible")}catch{}return!1}class gT{constructor(){sn(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new gT}static use(){const e=Rw(gT.create).current,[t,i]=G.useState(!1);return e.shouldMount=t,e.setShouldMount=i,G.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=Fie(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function kie(){return gT.use()}function Fie(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function Hie(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:c}=n,[d,h]=G.useState(!1),m=Nt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+r},b=Nt(t.child,d&&t.childLeaving,i&&t.childPulsate);return!o&&!d&&h(!0),G.useEffect(()=>{if(!o&&l!=null){const A=setTimeout(l,c);return()=>{clearTimeout(A)}}},[l,o,c]),W.jsx("span",{className:m,style:v,children:W.jsx("span",{className:b})})}const xl=Xt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),tP=550,zie=80,Gie=kS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Vie=kS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,jie=kS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Wie=lt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Yie=lt(Hie,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xl.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Gie};
    animation-duration: ${tP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${xl.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${xl.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xl.childLeaving} {
    opacity: 0;
    animation-name: ${Vie};
    animation-duration: ${tP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${xl.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${jie};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Xie=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a,...o}=i,[l,c]=G.useState([]),d=G.useRef(0),h=G.useRef(null);G.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const m=G.useRef(!1),v=xB(),b=G.useRef(null),A=G.useRef(null),_=G.useCallback(M=>{const{pulsate:O,rippleX:R,rippleY:B,rippleSize:N,cb:P}=M;c(I=>[...I,W.jsx(Yie,{classes:{ripple:Nt(s.ripple,xl.ripple),rippleVisible:Nt(s.rippleVisible,xl.rippleVisible),ripplePulsate:Nt(s.ripplePulsate,xl.ripplePulsate),child:Nt(s.child,xl.child),childLeaving:Nt(s.childLeaving,xl.childLeaving),childPulsate:Nt(s.childPulsate,xl.childPulsate)},timeout:tP,pulsate:O,rippleX:R,rippleY:B,rippleSize:N},d.current)]),d.current+=1,h.current=P},[s]),x=G.useCallback((M={},O={},R=()=>{})=>{const{pulsate:B=!1,center:N=r||O.pulsate,fakeElement:P=!1}=O;if((M==null?void 0:M.type)==="mousedown"&&m.current){m.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(m.current=!0);const I=P?null:A.current,F=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,j,q;if(N||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)U=Math.round(F.width/2),j=Math.round(F.height/2);else{const{clientX:Z,clientY:H}=M.touches&&M.touches.length>0?M.touches[0]:M;U=Math.round(Z-F.left),j=Math.round(H-F.top)}if(N)q=Math.sqrt((2*F.width**2+F.height**2)/3),q%2===0&&(q+=1);else{const Z=Math.max(Math.abs((I?I.clientWidth:0)-U),U)*2+2,H=Math.max(Math.abs((I?I.clientHeight:0)-j),j)*2+2;q=Math.sqrt(Z**2+H**2)}M!=null&&M.touches?b.current===null&&(b.current=()=>{_({pulsate:B,rippleX:U,rippleY:j,rippleSize:q,cb:R})},v.start(zie,()=>{b.current&&(b.current(),b.current=null)})):_({pulsate:B,rippleX:U,rippleY:j,rippleSize:q,cb:R})},[r,_,v]),T=G.useCallback(()=>{x({},{pulsate:!0})},[x]),C=G.useCallback((M,O)=>{if(v.clear(),(M==null?void 0:M.type)==="touchend"&&b.current){b.current(),b.current=null,v.start(0,()=>{C(M,O)});return}b.current=null,c(R=>R.length>0?R.slice(1):R),h.current=O},[v]);return G.useImperativeHandle(t,()=>({pulsate:T,start:x,stop:C}),[T,x,C]),W.jsx(Wie,{className:Nt(xl.root,s.root,a),ref:A,...o,children:W.jsx(bB,{component:null,exit:!0,children:l})})});function qie(n){return en("MuiButtonBase",n)}const $ie=Xt("MuiButtonBase",["root","disabled","focusVisible"]),Kie=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,a=Jt({root:["root",e&&"disabled",t&&"focusVisible"]},qie,r);return t&&i&&(a.root+=` ${i}`),a},Jie=lt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$ie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Wx=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:m=!1,focusVisibleClassName:v,LinkComponent:b="a",onBlur:A,onClick:_,onContextMenu:x,onDragLeave:T,onFocus:C,onFocusVisible:M,onKeyDown:O,onKeyUp:R,onMouseDown:B,onMouseLeave:N,onMouseUp:P,onTouchEnd:I,onTouchMove:F,onTouchStart:U,tabIndex:j=0,TouchRippleProps:q,touchRippleRef:Z,type:H,...Y}=i,X=G.useRef(null),ne=kie(),K=hr(ne.ref,Z),[ae,ye]=G.useState(!1);c&&ae&&ye(!1),G.useImperativeHandle(r,()=>({focusVisible:()=>{ye(!0),X.current.focus()}}),[]);const Se=ne.shouldMount&&!d&&!c;G.useEffect(()=>{ae&&m&&!d&&ne.pulsate()},[d,m,ae,ne]);const de=od(ne,"start",B,h),xe=od(ne,"stop",x,h),pe=od(ne,"stop",T,h),He=od(ne,"stop",P,h),ve=od(ne,"stop",$=>{ae&&$.preventDefault(),N&&N($)},h),V=od(ne,"start",U,h),ee=od(ne,"stop",I,h),oe=od(ne,"stop",F,h),ue=od(ne,"stop",$=>{YF($.target)||ye(!1),A&&A($)},!1),_e=Tr($=>{X.current||(X.current=$.currentTarget),YF($.target)&&(ye(!0),M&&M($)),C&&C($)}),Q=()=>{const $=X.current;return l&&l!=="button"&&!($.tagName==="A"&&$.href)},Oe=Tr($=>{m&&!$.repeat&&ae&&$.key===" "&&ne.stop($,()=>{ne.start($)}),$.target===$.currentTarget&&Q()&&$.key===" "&&$.preventDefault(),O&&O($),$.target===$.currentTarget&&Q()&&$.key==="Enter"&&!c&&($.preventDefault(),_&&_($))}),we=Tr($=>{m&&$.key===" "&&ae&&!$.defaultPrevented&&ne.stop($,()=>{ne.pulsate($)}),R&&R($),_&&$.target===$.currentTarget&&Q()&&$.key===" "&&!$.defaultPrevented&&_($)});let ke=l;ke==="button"&&(Y.href||Y.to)&&(ke=b);const Ce={};ke==="button"?(Ce.type=H===void 0?"button":H,Ce.disabled=c):(!Y.href&&!Y.to&&(Ce.role="button"),c&&(Ce["aria-disabled"]=c));const ut=hr(t,X),De={...i,centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:m,tabIndex:j,focusVisible:ae},ie=Kie(De);return W.jsxs(Jie,{as:ke,className:Nt(ie.root,o),ownerState:De,onBlur:ue,onClick:_,onContextMenu:xe,onFocus:_e,onKeyDown:Oe,onKeyUp:we,onMouseDown:de,onMouseLeave:ve,onMouseUp:He,onDragLeave:pe,onTouchEnd:ee,onTouchMove:oe,onTouchStart:V,ref:ut,tabIndex:c?-1:j,type:H,...Ce,...Y,children:[a,Se?W.jsx(Xie,{ref:K,center:s,...q}):null]})});function od(n,e,t,i=!1){return Tr(r=>(t&&t(r),i||n[e](r),!0))}function Qie(n){return typeof n.main=="string"}function Zie(n,e=[]){if(!Qie(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Bo(n=[]){return([,e])=>e&&Zie(e,n)}function ere(n){return en("MuiCircularProgress",n)}Xt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cc=44,nP=kS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,iP=kS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,tre=typeof nP!="string"?lB`
        animation: ${nP} 1.4s linear infinite;
      `:null,nre=typeof iP!="string"?lB`
        animation: ${iP} 1.4s ease-in-out infinite;
      `:null,ire=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${bt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${bt(t)}`,r&&"circleDisableShrink"]};return Jt(s,ere,e)},rre=lt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${bt(t.color)}`]]}})(Tn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:tre||{animation:`${nP} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Bo()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),sre=lt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),are=lt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${bt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Tn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:nre||{animation:`${iP} 1.4s ease-in-out infinite`}}]}))),ore=lt("circle",{name:"MuiCircularProgress",slot:"Track"})(Tn(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),f9=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:l=40,style:c,thickness:d=3.6,value:h=0,variant:m="indeterminate",...v}=i,b={...i,color:s,disableShrink:a,size:l,thickness:d,value:h,variant:m,enableTrackSlot:o},A=ire(b),_={},x={},T={};if(m==="determinate"){const C=2*Math.PI*((cc-d)/2);_.strokeDasharray=C.toFixed(3),T["aria-valuenow"]=Math.round(h),_.strokeDashoffset=`${((100-h)/100*C).toFixed(3)}px`,x.transform="rotate(-90deg)"}return W.jsx(rre,{className:Nt(A.root,r),style:{width:l,height:l,...x,...c},ownerState:b,ref:t,role:"progressbar",...T,...v,children:W.jsxs(sre,{className:A.svg,ownerState:b,viewBox:`${cc/2} ${cc/2} ${cc} ${cc}`,children:[o?W.jsx(ore,{className:A.track,ownerState:b,cx:cc,cy:cc,r:(cc-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,W.jsx(are,{className:A.circle,style:_,ownerState:b,cx:cc,cy:cc,r:(cc-d)/2,fill:"none",strokeWidth:d})]})})});function lre(n){return en("MuiIconButton",n)}const XF=Xt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),cre=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:a}=n,o={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${bt(i)}`,r&&`edge${bt(r)}`,`size${bt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Jt(o,lre,e)},ure=lt(Wx,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${bt(t.color)}`],t.edge&&e[`edge${bt(t.edge)}`],e[`size${bt(t.size)}`]]}})(Tn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Tn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Bo()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Bo()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${XF.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${XF.loading}`]:{color:"transparent"}}))),dre=lt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Dw=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium",id:h,loading:m=null,loadingIndicator:v,...b}=i,A=Wh(h),_=v??W.jsx(f9,{"aria-labelledby":A,color:"inherit",size:16}),x={...i,edge:r,color:o,disabled:l,disableFocusRipple:c,loading:m,loadingIndicator:_,size:d},T=cre(x);return W.jsxs(ure,{id:m?A:h,className:Nt(T.root,a),centerRipple:!0,focusRipple:!c,disabled:l||m,ref:t,...b,ownerState:x,children:[typeof m=="boolean"&&W.jsx("span",{className:T.loadingWrapper,style:{display:"contents"},children:W.jsx(dre,{className:T.loadingIndicator,ownerState:x,children:m&&_})}),s]})}),fre=mo(W.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function hre(n){return en("MuiTypography",n)}const qF=Xt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),pre={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},mre=gie(),gre=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:a}=n,o={root:["root",s,n.align!=="inherit"&&`align${bt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return Jt(o,hre,a)},yre=lt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${bt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Tn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${bt(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),$F={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qr=G.forwardRef(function(e,t){const{color:i,...r}=Rn({props:e,name:"MuiTypography"}),s=!pre[i],a=mre({...r,...s&&{color:i}}),{align:o="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:h=!1,paragraph:m=!1,variant:v="body1",variantMapping:b=$F,...A}=a,_={...a,align:o,color:i,className:l,component:c,gutterBottom:d,noWrap:h,paragraph:m,variant:v,variantMapping:b},x=c||(m?"p":b[v]||$F[v])||"span",T=gre(_);return W.jsx(yre,{as:x,ref:t,className:Nt(T.root,l),...A,ownerState:_,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...A.style}})});function vre(n){const e=G.useRef({});return G.useEffect(()=>{e.current=n}),e.current}function KF({array1:n,array2:e,parser:t=i=>i}){return n&&e&&n.length===e.length&&n.every((i,r)=>t(i)===t(e[r]))}function JF(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function bre(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:i,matchFrom:r="any",stringify:s,trim:a=!1}=n;return(o,{inputValue:l,getOptionLabel:c})=>{let d=a?l.trim():l;t&&(d=d.toLowerCase()),e&&(d=JF(d));const h=d?o.filter(m=>{let v=(s||c)(m);return t&&(v=v.toLowerCase()),e&&(v=JF(v)),r==="start"?v.startsWith(d):v.includes(d)}):o;return typeof i=="number"?h.slice(0,i):h}}const _re=bre(),xre=5,Sre=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},Are=[];function QF(n,e,t,i){if(e||n==null||i)return"";const r=t(n);return typeof r=="string"?r:""}function Ere(n){const{unstable_isActiveElementInListbox:e=Sre,unstable_classNamePrefix:t="Mui",autoComplete:i=!1,autoHighlight:r=!1,autoSelect:s=!1,blurOnSelect:a=!1,clearOnBlur:o=!n.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:d=n.multiple?Are:null,disableClearable:h=!1,disableCloseOnSelect:m=!1,disabled:v,disabledItemsFocusable:b=!1,disableListWrap:A=!1,filterOptions:_=_re,filterSelectedOptions:x=!1,freeSolo:T=!1,getOptionDisabled:C,getOptionKey:M,getOptionLabel:O=Ze=>Ze.label??Ze,groupBy:R,handleHomeEndKeys:B=!n.freeSolo,id:N,includeInputInList:P=!1,inputValue:I,isOptionEqualToValue:F=(Ze,Je)=>Ze===Je,multiple:U=!1,onChange:j,onClose:q,onHighlightChange:Z,onInputChange:H,onOpen:Y,open:X,openOnFocus:ne=!1,options:K,readOnly:ae=!1,renderValue:ye,selectOnFocus:Se=!n.freeSolo,value:de}=n,xe=Wh(N);let pe=O;pe=Ze=>{const Je=O(Ze);return typeof Je!="string"?String(Je):Je};const He=G.useRef(!1),ve=G.useRef(!0),V=G.useRef(null),ee=G.useRef(null),[oe,ue]=G.useState(null),[_e,Q]=G.useState(-1),Oe=r?0:-1,we=G.useRef(Oe),ke=G.useRef(QF(d??de,U,pe)).current,[Ce,ut]=ax({controlled:de,default:d,name:c}),[De,ie]=ax({controlled:I,default:ke,name:c,state:"inputValue"}),[$,Ae]=G.useState(!1),Le=G.useCallback((Ze,Je,Mt)=>{if(!(U?Ce.length<Je.length:Je!==null)&&!o)return;const fe=QF(Je,U,pe,ye);De!==fe&&(ie(fe),H&&H(Ze,fe,Mt))},[pe,De,U,H,ie,o,Ce,ye]),[Qe,ze]=ax({controlled:X,default:!1,name:c,state:"open"}),[ft,ct]=G.useState(!0),Et=!U&&Ce!=null&&De===pe(Ce),Ct=Qe&&!ae,je=Ct?_(K.filter(Ze=>!(x&&(U?Ce:[Ce]).some(Je=>Je!==null&&F(Ze,Je)))),{inputValue:Et&&ft?"":De,getOptionLabel:pe}):[],ht=vre({filteredOptions:je,value:Ce,inputValue:De});G.useEffect(()=>{const Ze=Ce!==ht.value;$&&!Ze||T&&!Ze||Le(null,Ce,"reset")},[Ce,Le,$,ht.value,T]);const Dt=Qe&&je.length>0&&!ae,wt=Tr(Ze=>{if(Ze===-1)V.current.focus();else{const Je=ye?"data-item-index":"data-tag-index";oe.querySelector(`[${Je}="${Ze}"]`).focus()}});G.useEffect(()=>{U&&_e>Ce.length-1&&(Q(-1),wt(-1))},[Ce,U,_e,wt]);function yt(Ze,Je){if(!ee.current||Ze<0||Ze>=je.length)return-1;let Mt=Ze;for(;;){const te=ee.current.querySelector(`[data-option-index="${Mt}"]`),fe=b?!1:!te||te.disabled||te.getAttribute("aria-disabled")==="true";if(te&&te.hasAttribute("tabindex")&&!fe)return Mt;if(Je==="next"?Mt=(Mt+1)%je.length:Mt=(Mt-1+je.length)%je.length,Mt===Ze)return-1}}const ge=Tr(({event:Ze,index:Je,reason:Mt})=>{if(we.current=Je,Je===-1?V.current.removeAttribute("aria-activedescendant"):V.current.setAttribute("aria-activedescendant",`${xe}-option-${Je}`),Z&&["mouse","keyboard","touch"].includes(Mt)&&Z(Ze,Je===-1?null:je[Je],Mt),!ee.current)return;const te=ee.current.querySelector(`[role="option"].${t}-focused`);te&&(te.classList.remove(`${t}-focused`),te.classList.remove(`${t}-focusVisible`));let fe=ee.current;if(ee.current.getAttribute("role")!=="listbox"&&(fe=ee.current.parentElement.querySelector('[role="listbox"]')),!fe)return;if(Je===-1){fe.scrollTop=0;return}const Ne=ee.current.querySelector(`[data-option-index="${Je}"]`);if(Ne&&(Ne.classList.add(`${t}-focused`),Mt==="keyboard"&&Ne.classList.add(`${t}-focusVisible`),fe.scrollHeight>fe.clientHeight&&Mt!=="mouse"&&Mt!=="touch")){const Be=Ne,Me=fe.clientHeight+fe.scrollTop,ot=Be.offsetTop+Be.offsetHeight;ot>Me?fe.scrollTop=ot-fe.clientHeight:Be.offsetTop-Be.offsetHeight*(R?1.3:0)<fe.scrollTop&&(fe.scrollTop=Be.offsetTop-Be.offsetHeight*(R?1.3:0))}}),Xe=Tr(({event:Ze,diff:Je,direction:Mt="next",reason:te})=>{if(!Ct)return;const Ne=yt((()=>{const Be=je.length-1;if(Je==="reset")return Oe;if(Je==="start")return 0;if(Je==="end")return Be;const Me=we.current+Je;return Me<0?Me===-1&&P?-1:A&&we.current!==-1||Math.abs(Je)>1?0:Be:Me>Be?Me===Be+1&&P?-1:A||Math.abs(Je)>1?Be:0:Me})(),Mt);if(ge({index:Ne,reason:te,event:Ze}),i&&Je!=="reset")if(Ne===-1)V.current.value=De;else{const Be=pe(je[Ne]);V.current.value=Be,Be.toLowerCase().indexOf(De.toLowerCase())===0&&De.length>0&&V.current.setSelectionRange(De.length,Be.length)}}),gt=!KF({array1:ht.filteredOptions,array2:je,parser:pe}),ce=()=>{const Ze=(Je,Mt)=>{const te=Je?pe(Je):"",fe=Mt?pe(Mt):"";return te===fe};if(we.current!==-1&&!KF({array1:ht.filteredOptions,array2:je,parser:pe})&&ht.inputValue===De&&(U?Ce.length===ht.value.length&&ht.value.every((Je,Mt)=>pe(Ce[Mt])===pe(Je)):Ze(ht.value,Ce))){const Je=ht.filteredOptions[we.current];if(Je)return je.findIndex(Mt=>pe(Mt)===pe(Je))}return-1},et=G.useCallback(()=>{if(!Ct)return;const Ze=ce();if(Ze!==-1){we.current=Ze;return}const Je=U?Ce[0]:Ce;if(je.length===0||Je==null){Xe({diff:"reset"});return}if(ee.current){if(Je!=null){const Mt=je[we.current];if(U&&Mt&&Ce.findIndex(fe=>F(Mt,fe))!==-1)return;const te=je.findIndex(fe=>F(fe,Je));te===-1?Xe({diff:"reset"}):ge({index:te});return}if(we.current>=je.length-1){ge({index:je.length-1});return}ge({index:we.current})}},[je.length,U?!1:Ce,x,Xe,ge,Ct,De,U]),Pe=Tr(Ze=>{QO(ee,Ze),Ze&&et()});G.useEffect(()=>{(gt||Ct)&&et()},[et,gt,Ct]);const $e=Ze=>{Qe||(ze(!0),ct(!0),Y&&Y(Ze))},vt=(Ze,Je)=>{Qe&&(ze(!1),q&&q(Ze,Je))},mt=(Ze,Je,Mt,te)=>{if(U){if(Ce.length===Je.length&&Ce.every((fe,Ne)=>fe===Je[Ne]))return}else if(Ce===Je)return;j&&j(Ze,Je,Mt,te),ut(Je)},Ut=G.useRef(!1),tn=(Ze,Je,Mt="selectOption",te="options")=>{let fe=Mt,Ne=Je;if(U){Ne=Array.isArray(Ce)?Ce.slice():[];const Be=Ne.findIndex(Me=>F(Je,Me));Be===-1?Ne.push(Je):te!=="freeSolo"&&(Ne.splice(Be,1),fe="removeOption")}Le(Ze,Ne,fe),mt(Ze,Ne,fe,{option:Je}),!m&&(!Ze||!Ze.ctrlKey&&!Ze.metaKey)&&vt(Ze,fe),(a===!0||a==="touch"&&Ut.current||a==="mouse"&&!Ut.current)&&V.current.blur()};function Hn(Ze,Je){if(Ze===-1)return-1;let Mt=Ze;for(;;){if(Je==="next"&&Mt===Ce.length||Je==="previous"&&Mt===-1)return-1;const te=ye?"data-item-index":"data-tag-index",fe=oe.querySelector(`[${te}="${Mt}"]`);if(!fe||!fe.hasAttribute("tabindex")||fe.disabled||fe.getAttribute("aria-disabled")==="true")Mt+=Je==="next"?1:-1;else return Mt}}const Qt=(Ze,Je)=>{if(!U)return;De===""&&vt(Ze,"toggleInput");let Mt=_e;_e===-1?De===""&&Je==="previous"&&(Mt=Ce.length-1):(Mt+=Je==="next"?1:-1,Mt<0&&(Mt=0),Mt===Ce.length&&(Mt=-1)),Mt=Hn(Mt,Je),Q(Mt),wt(Mt)},Bi=Ze=>{He.current=!0,ie(""),H&&H(Ze,"","clear"),mt(Ze,U?[]:null,"clear")},pi=Ze=>Je=>{if(Ze.onKeyDown&&Ze.onKeyDown(Je),!Je.defaultMuiPrevented&&(_e!==-1&&!["ArrowLeft","ArrowRight"].includes(Je.key)&&(Q(-1),wt(-1)),Je.which!==229))switch(Je.key){case"Home":Ct&&B&&(Je.preventDefault(),Xe({diff:"start",direction:"next",reason:"keyboard",event:Je}));break;case"End":Ct&&B&&(Je.preventDefault(),Xe({diff:"end",direction:"previous",reason:"keyboard",event:Je}));break;case"PageUp":Je.preventDefault(),Xe({diff:-5,direction:"previous",reason:"keyboard",event:Je}),$e(Je);break;case"PageDown":Je.preventDefault(),Xe({diff:xre,direction:"next",reason:"keyboard",event:Je}),$e(Je);break;case"ArrowDown":Je.preventDefault(),Xe({diff:1,direction:"next",reason:"keyboard",event:Je}),$e(Je);break;case"ArrowUp":Je.preventDefault(),Xe({diff:-1,direction:"previous",reason:"keyboard",event:Je}),$e(Je);break;case"ArrowLeft":!U&&ye?wt(0):Qt(Je,"previous");break;case"ArrowRight":!U&&ye?wt(-1):Qt(Je,"next");break;case"Enter":if(we.current!==-1&&Ct){const Mt=je[we.current],te=C?C(Mt):!1;if(Je.preventDefault(),te)return;tn(Je,Mt,"selectOption"),i&&V.current.setSelectionRange(V.current.value.length,V.current.value.length)}else T&&De!==""&&Et===!1&&(U&&Je.preventDefault(),tn(Je,De,"createOption","freeSolo"));break;case"Escape":Ct?(Je.preventDefault(),Je.stopPropagation(),vt(Je,"escape")):l&&(De!==""||U&&Ce.length>0||ye)&&(Je.preventDefault(),Je.stopPropagation(),Bi(Je));break;case"Backspace":if(U&&!ae&&De===""&&Ce.length>0){const Mt=_e===-1?Ce.length-1:_e,te=Ce.slice();te.splice(Mt,1),mt(Je,te,"removeOption",{option:Ce[Mt]})}!U&&ye&&!ae&&(ut(null),wt(-1));break;case"Delete":if(U&&!ae&&De===""&&Ce.length>0&&_e!==-1){const Mt=_e,te=Ce.slice();te.splice(Mt,1),mt(Je,te,"removeOption",{option:Ce[Mt]})}!U&&ye&&!ae&&(ut(null),wt(-1));break}},vi=Ze=>{Ae(!0),ne&&!He.current&&$e(Ze)},Mi=Ze=>{if(e(ee)){V.current.focus();return}Ae(!1),ve.current=!0,He.current=!1,s&&we.current!==-1&&Ct?tn(Ze,je[we.current],"blur"):s&&T&&De!==""?tn(Ze,De,"blur","freeSolo"):o&&Le(Ze,Ce,"blur"),vt(Ze,"blur")},qi=Ze=>{const Je=Ze.target.value;De!==Je&&(ie(Je),ct(!1),H&&H(Ze,Je,"input")),Je===""?!h&&!U&&mt(Ze,null,"clear"):$e(Ze)},kr=Ze=>{const Je=Number(Ze.currentTarget.getAttribute("data-option-index"));we.current!==Je&&ge({event:Ze,index:Je,reason:"mouse"})},kl=Ze=>{ge({event:Ze,index:Number(Ze.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ut.current=!0},Rs=Ze=>{const Je=Number(Ze.currentTarget.getAttribute("data-option-index"));tn(Ze,je[Je],"selectOption"),Ut.current=!1},wr=Ze=>Je=>{const Mt=Ce.slice();Mt.splice(Ze,1),mt(Je,Mt,"removeOption",{option:Ce[Ze]})},$r=Ze=>{mt(Ze,null,"removeOption",{option:Ce})},nn=Ze=>{Qe?vt(Ze,"toggleInput"):$e(Ze)},ti=Ze=>{Ze.currentTarget.contains(Ze.target)&&Ze.target.getAttribute("id")!==xe&&Ze.preventDefault()},mr=Ze=>{Ze.currentTarget.contains(Ze.target)&&(V.current.focus(),Se&&ve.current&&V.current.selectionEnd-V.current.selectionStart===0&&V.current.select(),ve.current=!1)},ka=Ze=>{!v&&(De===""||!Qe)&&nn(Ze)};let Ds=T&&De.length>0;Ds=Ds||(U?Ce.length>0:Ce!==null);let Li=je;return R&&(Li=je.reduce((Ze,Je,Mt)=>{const te=R(Je);return Ze.length>0&&Ze[Ze.length-1].group===te?Ze[Ze.length-1].options.push(Je):Ze.push({key:Mt,index:Mt,group:te,options:[Je]}),Ze},[])),v&&$&&Mi(),{getRootProps:(Ze={})=>({...Ze,onKeyDown:pi(Ze),onMouseDown:ti,onClick:mr}),getInputLabelProps:()=>({id:`${xe}-label`,htmlFor:xe}),getInputProps:()=>({id:xe,value:De,onBlur:Mi,onFocus:vi,onChange:qi,onMouseDown:ka,"aria-activedescendant":Ct?"":null,"aria-autocomplete":i?"both":"list","aria-controls":Dt?`${xe}-listbox`:void 0,"aria-expanded":Dt,autoComplete:"off",ref:V,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:v}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Bi}),getItemProps:({index:Ze=0}={})=>({...U&&{key:Ze},...ye?{"data-item-index":Ze}:{"data-tag-index":Ze},tabIndex:-1,...!ae&&{onDelete:U?wr(Ze):$r}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:nn}),getTagProps:({index:Ze})=>({key:Ze,"data-tag-index":Ze,tabIndex:-1,...!ae&&{onDelete:wr(Ze)}}),getListboxProps:()=>({role:"listbox",id:`${xe}-listbox`,"aria-labelledby":`${xe}-label`,ref:Pe,onMouseDown:Ze=>{Ze.preventDefault()}}),getOptionProps:({index:Ze,option:Je})=>{const Mt=(U?Ce:[Ce]).some(fe=>fe!=null&&F(Je,fe)),te=C?C(Je):!1;return{key:(M==null?void 0:M(Je))??pe(Je),tabIndex:-1,role:"option",id:`${xe}-option-${Ze}`,onMouseMove:kr,onClick:Rs,onTouchStart:kl,"data-option-index":Ze,"aria-disabled":te,"aria-selected":Mt}},id:xe,inputValue:De,value:Ce,dirty:Ds,expanded:Ct&&oe,popupOpen:Ct,focused:$||_e!==-1,anchorEl:oe,setAnchorEl:ue,focusedItem:_e,focusedTag:_e,groupedOptions:Li}}var oo="top",Dl="bottom",Il="right",lo="left",AB="auto",GS=[oo,Dl,Il,lo],Gv="start",Yx="end",Cre="clippingParents",h9="viewport",S_="popper",Tre="reference",ZF=GS.reduce(function(n,e){return n.concat([e+"-"+Gv,e+"-"+Yx])},[]),p9=[].concat(GS,[AB]).reduce(function(n,e){return n.concat([e,e+"-"+Gv,e+"-"+Yx])},[]),Mre="beforeRead",wre="read",Rre="afterRead",Dre="beforeMain",Ire="main",Ore="afterMain",Pre="beforeWrite",Nre="write",Bre="afterWrite",Lre=[Mre,wre,Rre,Dre,Ire,Ore,Pre,Nre,Bre];function Du(n){return n?(n.nodeName||"").toLowerCase():null}function Go(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function $m(n){var e=Go(n).Element;return n instanceof e||n instanceof Element}function Ml(n){var e=Go(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function EB(n){if(typeof ShadowRoot>"u")return!1;var e=Go(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Ure(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Ml(s)||!Du(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function kre(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=a.reduce(function(l,c){return l[c]="",l},{});!Ml(r)||!Du(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Fre={name:"applyStyles",enabled:!0,phase:"write",fn:Ure,effect:kre,requires:["computeStyles"]};function _u(n){return n.split("-")[0]}var Fm=Math.max,yT=Math.min,Vv=Math.round;function rP(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function m9(){return!/^((?!chrome|android).)*safari/i.test(rP())}function jv(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Ml(n)&&(r=n.offsetWidth>0&&Vv(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Vv(i.height)/n.offsetHeight||1);var a=$m(n)?Go(n):window,o=a.visualViewport,l=!m9()&&t,c=(i.left+(l&&o?o.offsetLeft:0))/r,d=(i.top+(l&&o?o.offsetTop:0))/s,h=i.width/r,m=i.height/s;return{width:h,height:m,top:d,right:c+h,bottom:d+m,left:c,x:c,y:d}}function CB(n){var e=jv(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function g9(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&EB(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ld(n){return Go(n).getComputedStyle(n)}function Hre(n){return["table","td","th"].indexOf(Du(n))>=0}function Yh(n){return(($m(n)?n.ownerDocument:n.document)||window.document).documentElement}function Iw(n){return Du(n)==="html"?n:n.assignedSlot||n.parentNode||(EB(n)?n.host:null)||Yh(n)}function eH(n){return!Ml(n)||Ld(n).position==="fixed"?null:n.offsetParent}function zre(n){var e=/firefox/i.test(rP()),t=/Trident/i.test(rP());if(t&&Ml(n)){var i=Ld(n);if(i.position==="fixed")return null}var r=Iw(n);for(EB(r)&&(r=r.host);Ml(r)&&["html","body"].indexOf(Du(r))<0;){var s=Ld(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function VS(n){for(var e=Go(n),t=eH(n);t&&Hre(t)&&Ld(t).position==="static";)t=eH(t);return t&&(Du(t)==="html"||Du(t)==="body"&&Ld(t).position==="static")?e:t||zre(n)||e}function TB(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ox(n,e,t){return Fm(n,yT(e,t))}function Gre(n,e,t){var i=ox(n,e,t);return i>t?t:i}function y9(){return{top:0,right:0,bottom:0,left:0}}function v9(n){return Object.assign({},y9(),n)}function b9(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Vre=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,v9(typeof e!="number"?e:b9(e,GS))};function jre(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=_u(t.placement),l=TB(o),c=[lo,Il].indexOf(o)>=0,d=c?"height":"width";if(!(!s||!a)){var h=Vre(r.padding,t),m=CB(s),v=l==="y"?oo:lo,b=l==="y"?Dl:Il,A=t.rects.reference[d]+t.rects.reference[l]-a[l]-t.rects.popper[d],_=a[l]-t.rects.reference[l],x=VS(s),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,C=A/2-_/2,M=h[v],O=T-m[d]-h[b],R=T/2-m[d]/2+C,B=ox(M,R,O),N=l;t.modifiersData[i]=(e={},e[N]=B,e.centerOffset=B-R,e)}}function Wre(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||g9(e.elements.popper,r)&&(e.elements.arrow=r))}const Yre={name:"arrow",enabled:!0,phase:"main",fn:jre,effect:Wre,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wv(n){return n.split("-")[1]}var Xre={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qre(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Vv(t*r)/r||0,y:Vv(i*r)/r||0}}function tH(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,h=n.isFixed,m=a.x,v=m===void 0?0:m,b=a.y,A=b===void 0?0:b,_=typeof d=="function"?d({x:v,y:A}):{x:v,y:A};v=_.x,A=_.y;var x=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),C=lo,M=oo,O=window;if(c){var R=VS(t),B="clientHeight",N="clientWidth";if(R===Go(t)&&(R=Yh(t),Ld(R).position!=="static"&&o==="absolute"&&(B="scrollHeight",N="scrollWidth")),R=R,r===oo||(r===lo||r===Il)&&s===Yx){M=Dl;var P=h&&R===O&&O.visualViewport?O.visualViewport.height:R[B];A-=P-i.height,A*=l?1:-1}if(r===lo||(r===oo||r===Dl)&&s===Yx){C=Il;var I=h&&R===O&&O.visualViewport?O.visualViewport.width:R[N];v-=I-i.width,v*=l?1:-1}}var F=Object.assign({position:o},c&&Xre),U=d===!0?qre({x:v,y:A},Go(t)):{x:v,y:A};if(v=U.x,A=U.y,l){var j;return Object.assign({},F,(j={},j[M]=T?"0":"",j[C]=x?"0":"",j.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+A+"px)":"translate3d("+v+"px, "+A+"px, 0)",j))}return Object.assign({},F,(e={},e[M]=T?A+"px":"",e[C]=x?v+"px":"",e.transform="",e))}function $re(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,l=o===void 0?!0:o,c={placement:_u(e.placement),variation:Wv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,tH(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,tH(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Kre={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$re,data:{}};var uC={passive:!0};function Jre(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,l=Go(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",t.update,uC)}),o&&l.addEventListener("resize",t.update,uC),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",t.update,uC)}),o&&l.removeEventListener("resize",t.update,uC)}}const Qre={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Jre,data:{}};var Zre={left:"right",right:"left",bottom:"top",top:"bottom"};function G1(n){return n.replace(/left|right|bottom|top/g,function(e){return Zre[e]})}var ese={start:"end",end:"start"};function nH(n){return n.replace(/start|end/g,function(e){return ese[e]})}function MB(n){var e=Go(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function wB(n){return jv(Yh(n)).left+MB(n).scrollLeft}function tse(n,e){var t=Go(n),i=Yh(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var c=m9();(c||!c&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+wB(n),y:l}}function nse(n){var e,t=Yh(n),i=MB(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Fm(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Fm(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+wB(n),l=-i.scrollTop;return Ld(r||t).direction==="rtl"&&(o+=Fm(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function RB(n){var e=Ld(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function _9(n){return["html","body","#document"].indexOf(Du(n))>=0?n.ownerDocument.body:Ml(n)&&RB(n)?n:_9(Iw(n))}function lx(n,e){var t;e===void 0&&(e=[]);var i=_9(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Go(i),a=r?[s].concat(s.visualViewport||[],RB(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(lx(Iw(a)))}function sP(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ise(n,e){var t=jv(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function iH(n,e,t){return e===h9?sP(tse(n,t)):$m(e)?ise(e,t):sP(nse(Yh(n)))}function rse(n){var e=lx(Iw(n)),t=["absolute","fixed"].indexOf(Ld(n).position)>=0,i=t&&Ml(n)?VS(n):n;return $m(i)?e.filter(function(r){return $m(r)&&g9(r,i)&&Du(r)!=="body"}):[]}function sse(n,e,t,i){var r=e==="clippingParents"?rse(n):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(l,c){var d=iH(n,c,i);return l.top=Fm(d.top,l.top),l.right=yT(d.right,l.right),l.bottom=yT(d.bottom,l.bottom),l.left=Fm(d.left,l.left),l},iH(n,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function x9(n){var e=n.reference,t=n.element,i=n.placement,r=i?_u(i):null,s=i?Wv(i):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(r){case oo:l={x:a,y:e.y-t.height};break;case Dl:l={x:a,y:e.y+e.height};break;case Il:l={x:e.x+e.width,y:o};break;case lo:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var c=r?TB(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Gv:l[c]=l[c]-(e[d]/2-t[d]/2);break;case Yx:l[c]=l[c]+(e[d]/2-t[d]/2);break}}return l}function Xx(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,l=o===void 0?Cre:o,c=t.rootBoundary,d=c===void 0?h9:c,h=t.elementContext,m=h===void 0?S_:h,v=t.altBoundary,b=v===void 0?!1:v,A=t.padding,_=A===void 0?0:A,x=v9(typeof _!="number"?_:b9(_,GS)),T=m===S_?Tre:S_,C=n.rects.popper,M=n.elements[b?T:m],O=sse($m(M)?M:M.contextElement||Yh(n.elements.popper),l,d,a),R=jv(n.elements.reference),B=x9({reference:R,element:C,placement:r}),N=sP(Object.assign({},C,B)),P=m===S_?N:R,I={top:O.top-P.top+x.top,bottom:P.bottom-O.bottom+x.bottom,left:O.left-P.left+x.left,right:P.right-O.right+x.right},F=n.modifiersData.offset;if(m===S_&&F){var U=F[r];Object.keys(I).forEach(function(j){var q=[Il,Dl].indexOf(j)>=0?1:-1,Z=[oo,Dl].indexOf(j)>=0?"y":"x";I[j]+=U[Z]*q})}return I}function ase(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?p9:l,d=Wv(i),h=d?o?ZF:ZF.filter(function(b){return Wv(b)===d}):GS,m=h.filter(function(b){return c.indexOf(b)>=0});m.length===0&&(m=h);var v=m.reduce(function(b,A){return b[A]=Xx(n,{placement:A,boundary:r,rootBoundary:s,padding:a})[_u(A)],b},{});return Object.keys(v).sort(function(b,A){return v[b]-v[A]})}function ose(n){if(_u(n)===AB)return[];var e=G1(n);return[nH(n),e,nH(e)]}function lse(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,l=t.fallbackPlacements,c=t.padding,d=t.boundary,h=t.rootBoundary,m=t.altBoundary,v=t.flipVariations,b=v===void 0?!0:v,A=t.allowedAutoPlacements,_=e.options.placement,x=_u(_),T=x===_,C=l||(T||!b?[G1(_)]:ose(_)),M=[_].concat(C).reduce(function(de,xe){return de.concat(_u(xe)===AB?ase(e,{placement:xe,boundary:d,rootBoundary:h,padding:c,flipVariations:b,allowedAutoPlacements:A}):xe)},[]),O=e.rects.reference,R=e.rects.popper,B=new Map,N=!0,P=M[0],I=0;I<M.length;I++){var F=M[I],U=_u(F),j=Wv(F)===Gv,q=[oo,Dl].indexOf(U)>=0,Z=q?"width":"height",H=Xx(e,{placement:F,boundary:d,rootBoundary:h,altBoundary:m,padding:c}),Y=q?j?Il:lo:j?Dl:oo;O[Z]>R[Z]&&(Y=G1(Y));var X=G1(Y),ne=[];if(s&&ne.push(H[U]<=0),o&&ne.push(H[Y]<=0,H[X]<=0),ne.every(function(de){return de})){P=F,N=!1;break}B.set(F,ne)}if(N)for(var K=b?3:1,ae=function(xe){var pe=M.find(function(He){var ve=B.get(He);if(ve)return ve.slice(0,xe).every(function(V){return V})});if(pe)return P=pe,"break"},ye=K;ye>0;ye--){var Se=ae(ye);if(Se==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const cse={name:"flip",enabled:!0,phase:"main",fn:lse,requiresIfExists:["offset"],data:{_skip:!1}};function rH(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function sH(n){return[oo,Il,Dl,lo].some(function(e){return n[e]>=0})}function use(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=Xx(e,{elementContext:"reference"}),o=Xx(e,{altBoundary:!0}),l=rH(a,i),c=rH(o,r,s),d=sH(l),h=sH(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const dse={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:use};function fse(n,e,t){var i=_u(n),r=[lo,oo].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[lo,Il].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function hse(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=p9.reduce(function(d,h){return d[h]=fse(h,e.rects,s),d},{}),o=a[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=a}const pse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hse};function mse(n){var e=n.state,t=n.name;e.modifiersData[t]=x9({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const gse={name:"popperOffsets",enabled:!0,phase:"read",fn:mse,data:{}};function yse(n){return n==="x"?"y":"x"}function vse(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,h=t.padding,m=t.tether,v=m===void 0?!0:m,b=t.tetherOffset,A=b===void 0?0:b,_=Xx(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),x=_u(e.placement),T=Wv(e.placement),C=!T,M=TB(x),O=yse(M),R=e.modifiersData.popperOffsets,B=e.rects.reference,N=e.rects.popper,P=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,I=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(R){if(s){var j,q=M==="y"?oo:lo,Z=M==="y"?Dl:Il,H=M==="y"?"height":"width",Y=R[M],X=Y+_[q],ne=Y-_[Z],K=v?-N[H]/2:0,ae=T===Gv?B[H]:N[H],ye=T===Gv?-N[H]:-B[H],Se=e.elements.arrow,de=v&&Se?CB(Se):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:y9(),pe=xe[q],He=xe[Z],ve=ox(0,B[H],de[H]),V=C?B[H]/2-K-ve-pe-I.mainAxis:ae-ve-pe-I.mainAxis,ee=C?-B[H]/2+K+ve+He+I.mainAxis:ye+ve+He+I.mainAxis,oe=e.elements.arrow&&VS(e.elements.arrow),ue=oe?M==="y"?oe.clientTop||0:oe.clientLeft||0:0,_e=(j=F==null?void 0:F[M])!=null?j:0,Q=Y+V-_e-ue,Oe=Y+ee-_e,we=ox(v?yT(X,Q):X,Y,v?Fm(ne,Oe):ne);R[M]=we,U[M]=we-Y}if(o){var ke,Ce=M==="x"?oo:lo,ut=M==="x"?Dl:Il,De=R[O],ie=O==="y"?"height":"width",$=De+_[Ce],Ae=De-_[ut],Le=[oo,lo].indexOf(x)!==-1,Qe=(ke=F==null?void 0:F[O])!=null?ke:0,ze=Le?$:De-B[ie]-N[ie]-Qe+I.altAxis,ft=Le?De+B[ie]+N[ie]-Qe-I.altAxis:Ae,ct=v&&Le?Gre(ze,De,ft):ox(v?ze:$,De,v?ft:Ae);R[O]=ct,U[O]=ct-De}e.modifiersData[i]=U}}const bse={name:"preventOverflow",enabled:!0,phase:"main",fn:vse,requiresIfExists:["offset"]};function _se(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function xse(n){return n===Go(n)||!Ml(n)?MB(n):_se(n)}function Sse(n){var e=n.getBoundingClientRect(),t=Vv(e.width)/n.offsetWidth||1,i=Vv(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Ase(n,e,t){t===void 0&&(t=!1);var i=Ml(e),r=Ml(e)&&Sse(e),s=Yh(e),a=jv(n,r,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Du(e)!=="body"||RB(s))&&(o=xse(e)),Ml(e)?(l=jv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=wB(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Ese(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function Cse(n){var e=Ese(n);return Lre.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function Tse(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Mse(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var aH={placement:"bottom",modifiers:[],strategy:"absolute"};function oH(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function wse(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?aH:r;return function(o,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},aH,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],m=!1,v={state:d,setOptions:function(x){var T=typeof x=="function"?x(d.options):x;A(),d.options=Object.assign({},s,d.options,T),d.scrollParents={reference:$m(o)?lx(o):o.contextElement?lx(o.contextElement):[],popper:lx(l)};var C=Cse(Mse([].concat(i,d.options.modifiers)));return d.orderedModifiers=C.filter(function(M){return M.enabled}),b(),v.update()},forceUpdate:function(){if(!m){var x=d.elements,T=x.reference,C=x.popper;if(oH(T,C)){d.rects={reference:Ase(T,VS(C),d.options.strategy==="fixed"),popper:CB(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var M=0;M<d.orderedModifiers.length;M++){if(d.reset===!0){d.reset=!1,M=-1;continue}var O=d.orderedModifiers[M],R=O.fn,B=O.options,N=B===void 0?{}:B,P=O.name;typeof R=="function"&&(d=R({state:d,options:N,name:P,instance:v})||d)}}}},update:Tse(function(){return new Promise(function(_){v.forceUpdate(),_(d)})}),destroy:function(){A(),m=!0}};if(!oH(o,l))return v;v.setOptions(c).then(function(_){!m&&c.onFirstUpdate&&c.onFirstUpdate(_)});function b(){d.orderedModifiers.forEach(function(_){var x=_.name,T=_.options,C=T===void 0?{}:T,M=_.effect;if(typeof M=="function"){var O=M({state:d,name:x,instance:v,options:C}),R=function(){};h.push(O||R)}})}function A(){h.forEach(function(_){return _()}),h=[]}return v}}var Rse=[Qre,gse,Kre,Fre,pse,cse,bse,Yre,dse],Dse=wse({defaultModifiers:Rse});function Iu(n){var h;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,a=r?{}:c9(t,i),{props:o,internalRef:l}=d9({...s,externalSlotProps:a}),c=hr(l,a==null?void 0:a.ref,(h=n.additionalProps)==null?void 0:h.ref);return l9(e,{...o,ref:c},i)}function R0(n){var e;return parseInt(G.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function Ise(n){return typeof n=="function"?n():n}const S9=G.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[a,o]=G.useState(null),l=hr(G.isValidElement(i)?R0(i):null,t);if(rr(()=>{s||o(Ise(r)||document.body)},[r,s]),rr(()=>{if(a&&!s)return QO(t,a),()=>{QO(t,null)}},[t,a,s]),s){if(G.isValidElement(i)){const c={ref:l};return G.cloneElement(i,c)}return i}return a&&jx.createPortal(i,a)});function Ose(n){return en("MuiPopper",n)}Xt("MuiPopper",["root"]);function Pse(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function aP(n){return typeof n=="function"?n():n}function Nse(n){return n.nodeType!==void 0}const Bse=n=>{const{classes:e}=n;return Jt({root:["root"]},Ose,e)},Lse={},Use=G.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:o,open:l,placement:c,popperOptions:d,popperRef:h,slotProps:m={},slots:v={},TransitionProps:b,ownerState:A,..._}=e,x=G.useRef(null),T=hr(x,t),C=G.useRef(null),M=hr(C,h),O=G.useRef(M);rr(()=>{O.current=M},[M]),G.useImperativeHandle(h,()=>C.current,[]);const R=Pse(c,s),[B,N]=G.useState(R),[P,I]=G.useState(aP(i));G.useEffect(()=>{C.current&&C.current.forceUpdate()}),G.useEffect(()=>{i&&I(aP(i))},[i]),rr(()=>{if(!P||!l)return;const Z=X=>{N(X.placement)};let H=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:X})=>{Z(X)}}];o!=null&&(H=H.concat(o)),d&&d.modifiers!=null&&(H=H.concat(d.modifiers));const Y=Dse(P,x.current,{placement:R,...d,modifiers:H});return O.current(Y),()=>{Y.destroy(),O.current(null)}},[P,a,o,l,d,R]);const F={placement:B};b!==null&&(F.TransitionProps=b);const U=Bse(e),j=v.root??"div",q=Iu({elementType:j,externalSlotProps:m.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:T},ownerState:e,className:U.root});return W.jsx(j,{...q,children:typeof r=="function"?r(F):r})}),kse=G.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:c,open:d,placement:h="bottom",popperOptions:m=Lse,popperRef:v,style:b,transition:A=!1,slotProps:_={},slots:x={},...T}=e,[C,M]=G.useState(!0),O=()=>{M(!1)},R=()=>{M(!0)};if(!l&&!d&&(!A||C))return null;let B;if(s)B=s;else if(i){const I=aP(i);B=I&&Nse(I)?zo(I).body:zo(null).body}const N=!d&&l&&(!A||C)?"none":void 0,P=A?{in:d,onEnter:O,onExited:R}:void 0;return W.jsx(S9,{disablePortal:o,container:B,children:W.jsx(Use,{anchorEl:i,direction:a,disablePortal:o,modifiers:c,ref:t,open:A?!C:d,placement:h,popperOptions:m,popperRef:v,slotProps:_,slots:x,...T,style:{position:"fixed",top:0,left:0,display:N,...b},TransitionProps:P,children:r})})}),Fse=lt(kse,{name:"MuiPopper",slot:"Root"})({}),DB=G.forwardRef(function(e,t){const i=fg(),r=Rn({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:l,container:c,disablePortal:d,keepMounted:h,modifiers:m,open:v,placement:b,popperOptions:A,popperRef:_,transition:x,slots:T,slotProps:C,...M}=r,O=(T==null?void 0:T.root)??(o==null?void 0:o.Root),R={anchorEl:s,container:c,disablePortal:d,keepMounted:h,modifiers:m,open:v,placement:b,popperOptions:A,popperRef:_,transition:x,...M};return W.jsx(Fse,{as:a,direction:i?"rtl":"ltr",slots:{root:O},slotProps:C??l,...R,ref:t})});function Hse(n){return en("MuiListSubheader",n)}Xt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const zse=n=>{const{classes:e,color:t,disableGutters:i,inset:r,disableSticky:s}=n,a={root:["root",t!=="default"&&`color${bt(t)}`,!i&&"gutters",r&&"inset",!s&&"sticky"]};return Jt(a,Hse,e)},Gse=lt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${bt(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(Tn(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),oP=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListSubheader"}),{className:r,color:s="default",component:a="li",disableGutters:o=!1,disableSticky:l=!1,inset:c=!1,...d}=i,h={...i,color:s,component:a,disableGutters:o,disableSticky:l,inset:c},m=zse(h);return W.jsx(Gse,{as:a,className:Nt(m.root,r),ref:t,ownerState:h,...d})});oP&&(oP.muiSkipListHighlight=!0);const Vse=mo(W.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function jse(n){return en("MuiChip",n)}const Un=Xt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Wse=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:a,clickable:o,variant:l}=n,c={root:["root",l,t&&"disabled",`size${bt(i)}`,`color${bt(r)}`,o&&"clickable",o&&`clickableColor${bt(r)}`,a&&"deletable",a&&`deletableColor${bt(r)}`,`${l}${bt(r)}`],label:["label",`label${bt(i)}`],avatar:["avatar",`avatar${bt(i)}`,`avatarColor${bt(r)}`],icon:["icon",`icon${bt(i)}`,`iconColor${bt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${bt(i)}`,`deleteIconColor${bt(r)}`,`deleteIcon${bt(l)}Color${bt(r)}`]};return Jt(c,jse,e)},Yse=lt("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:a,size:o,variant:l}=t;return[{[`& .${Un.avatar}`]:e.avatar},{[`& .${Un.avatar}`]:e[`avatar${bt(o)}`]},{[`& .${Un.avatar}`]:e[`avatarColor${bt(i)}`]},{[`& .${Un.icon}`]:e.icon},{[`& .${Un.icon}`]:e[`icon${bt(o)}`]},{[`& .${Un.icon}`]:e[`iconColor${bt(r)}`]},{[`& .${Un.deleteIcon}`]:e.deleteIcon},{[`& .${Un.deleteIcon}`]:e[`deleteIcon${bt(o)}`]},{[`& .${Un.deleteIcon}`]:e[`deleteIconColor${bt(i)}`]},{[`& .${Un.deleteIcon}`]:e[`deleteIcon${bt(l)}Color${bt(i)}`]},e.root,e[`size${bt(o)}`],e[`color${bt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${bt(i)})`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${bt(i)}`],e[l],e[`${l}${bt(i)}`]]}})(Tn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Un.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Un.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Un.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Un.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Un.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Un.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Un.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Un.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Un.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(Bo(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Un.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Un.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Un.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Un.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(Bo(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Un.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${Un.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(Bo(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Un.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Un.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Un.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Un.avatar}`]:{marginLeft:4},[`& .${Un.avatarSmall}`]:{marginLeft:2},[`& .${Un.icon}`]:{marginLeft:4},[`& .${Un.iconSmall}`]:{marginLeft:2},[`& .${Un.deleteIcon}`]:{marginRight:5},[`& .${Un.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(Bo()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${Un.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${Un.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${Un.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),Xse=lt("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${bt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function lH(n){return n.key==="Backspace"||n.key==="Delete"}const qse=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:a,color:o="default",component:l,deleteIcon:c,disabled:d=!1,icon:h,label:m,onClick:v,onDelete:b,onKeyDown:A,onKeyUp:_,size:x="medium",variant:T="filled",tabIndex:C,skipFocusWhenDisabled:M=!1,slots:O={},slotProps:R={},...B}=i,N=G.useRef(null),P=hr(N,t),I=pe=>{pe.stopPropagation(),b&&b(pe)},F=pe=>{pe.currentTarget===pe.target&&lH(pe)&&pe.preventDefault(),A&&A(pe)},U=pe=>{pe.currentTarget===pe.target&&b&&lH(pe)&&b(pe),_&&_(pe)},j=a!==!1&&v?!0:a,q=j||b?Wx:l||"div",Z={...i,component:q,disabled:d,size:x,color:o,iconColor:G.isValidElement(h)&&h.props.color||o,onDelete:!!b,clickable:j,variant:T},H=Wse(Z),Y=q===Wx?{component:l||"div",focusVisibleClassName:H.focusVisible,...b&&{disableRipple:!0}}:{};let X=null;b&&(X=c&&G.isValidElement(c)?G.cloneElement(c,{className:Nt(c.props.className,H.deleteIcon),onClick:I}):W.jsx(Vse,{className:H.deleteIcon,onClick:I}));let ne=null;r&&G.isValidElement(r)&&(ne=G.cloneElement(r,{className:Nt(H.avatar,r.props.className)}));let K=null;h&&G.isValidElement(h)&&(K=G.cloneElement(h,{className:Nt(H.icon,h.props.className)}));const ae={slots:O,slotProps:R},[ye,Se]=Qn("root",{elementType:Yse,externalForwardedProps:{...ae,...B},ownerState:Z,shouldForwardComponentProp:!0,ref:P,className:Nt(H.root,s),additionalProps:{disabled:j&&d?!0:void 0,tabIndex:M&&d?-1:C,...Y},getSlotProps:pe=>({...pe,onClick:He=>{var ve;(ve=pe.onClick)==null||ve.call(pe,He),v==null||v(He)},onKeyDown:He=>{var ve;(ve=pe.onKeyDown)==null||ve.call(pe,He),F(He)},onKeyUp:He=>{var ve;(ve=pe.onKeyUp)==null||ve.call(pe,He),U(He)}})}),[de,xe]=Qn("label",{elementType:Xse,externalForwardedProps:ae,ownerState:Z,className:H.label});return W.jsxs(ye,{as:q,...Se,children:[ne||K,W.jsx(de,{...xe,children:m}),X]})});function dC(n){return parseInt(n,10)||0}const $se={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Kse(n){for(const e in n)return!1;return!0}function cH(n){return Kse(n)||n.outerHeightStyle===0&&!n.overflowing}const Jse=G.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:a,value:o,...l}=e,{current:c}=G.useRef(o!=null),d=G.useRef(null),h=hr(t,d),m=G.useRef(null),v=G.useRef(null),b=G.useCallback(()=>{const C=d.current,M=v.current;if(!C||!M)return;const R=Rl(C).getComputedStyle(C);if(R.width==="0px")return{outerHeightStyle:0,overflowing:!1};M.style.width=R.width,M.value=C.value||e.placeholder||"x",M.value.slice(-1)===`
`&&(M.value+=" ");const B=R.boxSizing,N=dC(R.paddingBottom)+dC(R.paddingTop),P=dC(R.borderBottomWidth)+dC(R.borderTopWidth),I=M.scrollHeight;M.value="x";const F=M.scrollHeight;let U=I;s&&(U=Math.max(Number(s)*F,U)),r&&(U=Math.min(Number(r)*F,U)),U=Math.max(U,F);const j=U+(B==="border-box"?N+P:0),q=Math.abs(U-I)<=1;return{outerHeightStyle:j,overflowing:q}},[r,s,e.placeholder]),A=Tr(()=>{const C=d.current,M=b();if(!C||!M||cH(M))return!1;const O=M.outerHeightStyle;return m.current!=null&&m.current!==O}),_=G.useCallback(()=>{const C=d.current,M=b();if(!C||!M||cH(M))return;const O=M.outerHeightStyle;m.current!==O&&(m.current=O,C.style.height=`${O}px`),C.style.overflow=M.overflowing?"hidden":""},[b]),x=G.useRef(-1);rr(()=>{const C=yB(_),M=d==null?void 0:d.current;if(!M)return;const O=Rl(M);O.addEventListener("resize",C);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(()=>{A()&&(R.unobserve(M),cancelAnimationFrame(x.current),_(),x.current=requestAnimationFrame(()=>{R.observe(M)}))}),R.observe(M)),()=>{C.clear(),cancelAnimationFrame(x.current),O.removeEventListener("resize",C),R&&R.disconnect()}},[b,_,A]),rr(()=>{_()});const T=C=>{c||_();const M=C.target,O=M.value.length,R=M.value.endsWith(`
`),B=M.selectionStart===O;R&&B&&M.setSelectionRange(O,O),i&&i(C)};return W.jsxs(G.Fragment,{children:[W.jsx("textarea",{value:o,onChange:T,ref:h,rows:s,style:a,...l}),W.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...$se.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function D0({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const IB=G.createContext(void 0);function I0(){return G.useContext(IB)}function uH(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function vT(n,e=!1){return n&&(uH(n.value)&&n.value!==""||e&&uH(n.defaultValue)&&n.defaultValue!=="")}function Qse(n){return n.startAdornment}function Zse(n){return en("MuiInputBase",n)}const Oo=Xt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var dH;const Ow=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${bt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Pw=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},eae=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:m,startAdornment:v,type:b}=n,A={root:["root",`color${bt(t)}`,i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",m&&m!=="medium"&&`size${bt(m)}`,d&&"multiline",v&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",i&&"disabled",b==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return Jt(A,Zse,e)},Nw=lt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ow})(Tn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Oo.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Bw=lt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Pw})(Tn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Oo.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Oo.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),fH=mie({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),OB=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:o,color:l,components:c={},componentsProps:d={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:v,endAdornment:b,error:A,fullWidth:_=!1,id:x,inputComponent:T="input",inputProps:C={},inputRef:M,margin:O,maxRows:R,minRows:B,multiline:N=!1,name:P,onBlur:I,onChange:F,onClick:U,onFocus:j,onKeyDown:q,onKeyUp:Z,placeholder:H,readOnly:Y,renderSuffix:X,rows:ne,size:K,slotProps:ae={},slots:ye={},startAdornment:Se,type:de="text",value:xe,...pe}=i,He=C.value!=null?C.value:xe,{current:ve}=G.useRef(He!=null),V=G.useRef(),ee=G.useCallback(je=>{},[]),oe=hr(V,M,C.ref,ee),[ue,_e]=G.useState(!1),Q=I0(),Oe=D0({props:i,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=Q?Q.focused:ue,G.useEffect(()=>{!Q&&m&&ue&&(_e(!1),I&&I())},[Q,m,ue,I]);const we=Q&&Q.onFilled,ke=Q&&Q.onEmpty,Ce=G.useCallback(je=>{vT(je)?we&&we():ke&&ke()},[we,ke]);rr(()=>{ve&&Ce({value:He})},[He,Ce,ve]);const ut=je=>{j&&j(je),C.onFocus&&C.onFocus(je),Q&&Q.onFocus?Q.onFocus(je):_e(!0)},De=je=>{I&&I(je),C.onBlur&&C.onBlur(je),Q&&Q.onBlur?Q.onBlur(je):_e(!1)},ie=(je,...ht)=>{if(!ve){const Dt=je.target||V.current;if(Dt==null)throw new Error(Nd(1));Ce({value:Dt.value})}C.onChange&&C.onChange(je,...ht),F&&F(je,...ht)};G.useEffect(()=>{Ce(V.current)},[]);const $=je=>{V.current&&je.currentTarget===je.target&&V.current.focus(),U&&U(je)};let Ae=T,Le=C;N&&Ae==="input"&&(ne?Le={type:void 0,minRows:ne,maxRows:ne,...Le}:Le={type:void 0,maxRows:R,minRows:B,...Le},Ae=Jse);const Qe=je=>{Ce(je.animationName==="mui-auto-fill-cancel"?V.current:{value:"x"})};G.useEffect(()=>{Q&&Q.setAdornedStart(!!Se)},[Q,Se]);const ze={...i,color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:b,error:Oe.error,focused:Oe.focused,formControl:Q,fullWidth:_,hiddenLabel:Oe.hiddenLabel,multiline:N,size:Oe.size,startAdornment:Se,type:de},ft=eae(ze),ct=ye.root||c.Root||Nw,Et=ae.root||d.root||{},Ct=ye.input||c.Input||Bw;return Le={...Le,...ae.input??d.input},W.jsxs(G.Fragment,{children:[!v&&typeof fH=="function"&&(dH||(dH=W.jsx(fH,{}))),W.jsxs(ct,{...Et,ref:t,onClick:$,...pe,...!zv(ct)&&{ownerState:{...ze,...Et.ownerState}},className:Nt(ft.root,Et.className,o,Y&&"MuiInputBase-readOnly"),children:[Se,W.jsx(IB.Provider,{value:null,children:W.jsx(Ct,{"aria-invalid":Oe.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:h,disabled:Oe.disabled,id:x,onAnimationStart:Qe,name:P,placeholder:H,readOnly:Y,required:Oe.required,rows:ne,value:He,onKeyDown:q,onKeyUp:Z,type:de,...Le,...!zv(Ct)&&{as:Ae,ownerState:{...ze,...Le.ownerState}},ref:oe,className:Nt(ft.input,Le.className,Y&&"MuiInputBase-readOnly"),onBlur:De,onChange:ie,onFocus:ut})}),b,X?X({...Oe,startAdornment:Se}):null]})]})});function tae(n){return en("MuiInput",n)}const dh={...Oo,...Xt("MuiInput",["root","underline","input"])};function nae(n){return en("MuiOutlinedInput",n)}const vl={...Oo,...Xt("MuiOutlinedInput",["root","notchedOutline","input"])};function iae(n){return en("MuiFilledInput",n)}const Po={...Oo,...Xt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},A9=mo(W.jsx("path",{d:"M7 10l5 5 5-5z"}));function rae(n){return en("MuiAutocomplete",n)}const wn=Xt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var hH,pH;const sae=n=>{const{classes:e,disablePortal:t,expanded:i,focused:r,fullWidth:s,hasClearIcon:a,hasPopupIcon:o,inputFocused:l,popupOpen:c,size:d}=n,h={root:["root",i&&"expanded",r&&"focused",s&&"fullWidth",a&&"hasClearIcon",o&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${bt(d)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Jt(h,rae,e)},aae=lt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:i,hasClearIcon:r,hasPopupIcon:s,inputFocused:a,size:o}=t;return[{[`& .${wn.tag}`]:e.tag},{[`& .${wn.tag}`]:e[`tagSize${bt(o)}`]},{[`& .${wn.inputRoot}`]:e.inputRoot},{[`& .${wn.input}`]:e.input},{[`& .${wn.input}`]:a&&e.inputFocused},e.root,i&&e.fullWidth,s&&e.hasPopupIcon,r&&e.hasClearIcon]}})({[`&.${wn.focused} .${wn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${wn.clearIndicator}`]:{visibility:"visible"}},[`& .${wn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${wn.inputRoot}`]:{[`.${wn.hasPopupIcon}&, .${wn.hasClearIcon}&`]:{paddingRight:30},[`.${wn.hasPopupIcon}.${wn.hasClearIcon}&`]:{paddingRight:56},[`& .${wn.input}`]:{width:0,minWidth:30}},[`& .${dh.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${dh.root}.${Oo.sizeSmall}`]:{[`& .${dh.input}`]:{padding:"2px 4px 3px 0"}},[`& .${vl.root}`]:{padding:9,[`.${wn.hasPopupIcon}&, .${wn.hasClearIcon}&`]:{paddingRight:39},[`.${wn.hasPopupIcon}.${wn.hasClearIcon}&`]:{paddingRight:65},[`& .${wn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${wn.endAdornment}`]:{right:9}},[`& .${vl.root}.${Oo.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${wn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Po.root}`]:{paddingTop:19,paddingLeft:8,[`.${wn.hasPopupIcon}&, .${wn.hasClearIcon}&`]:{paddingRight:39},[`.${wn.hasPopupIcon}.${wn.hasClearIcon}&`]:{paddingRight:65},[`& .${Po.input}`]:{padding:"7px 4px"},[`& .${wn.endAdornment}`]:{right:9}},[`& .${Po.root}.${Oo.sizeSmall}`]:{paddingBottom:1,[`& .${Po.input}`]:{padding:"2.5px 4px"}},[`& .${Oo.hiddenLabel}`]:{paddingTop:8},[`& .${Po.root}.${Oo.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${wn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Po.root}.${Oo.hiddenLabel}.${Oo.sizeSmall}`]:{[`& .${wn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${wn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${wn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${wn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${wn.inputRoot}`]:{flexWrap:"wrap"}}}]}),oae=lt("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),lae=lt(Dw,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),cae=lt(Dw,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),uae=lt(DB,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${wn.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(Tn(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),dae=lt(Jd,{name:"MuiAutocomplete",slot:"Paper"})(Tn(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),fae=lt("div",{name:"MuiAutocomplete",slot:"Loading"})(Tn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),hae=lt("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Tn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),pae=lt("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Tn(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${wn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${wn.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${wn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${wn.focused}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${wn.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}}}))),mae=lt(oP,{name:"MuiAutocomplete",slot:"GroupLabel"})(Tn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),gae=lt("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${wn.option}`]:{paddingLeft:24}}),Yv=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:s=!1,autoSelect:a=!1,blurOnSelect:o=!1,ChipProps:l,className:c,clearIcon:d=hH||(hH=W.jsx(fre,{fontSize:"small"})),clearOnBlur:h=!i.freeSolo,clearOnEscape:m=!1,clearText:v="Clear",closeText:b="Close",componentsProps:A,defaultValue:_=i.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:T=!1,disabled:C=!1,disabledItemsFocusable:M=!1,disableListWrap:O=!1,disablePortal:R=!1,filterOptions:B,filterSelectedOptions:N=!1,forcePopupIcon:P="auto",freeSolo:I=!1,fullWidth:F=!1,getLimitTagsText:U=St=>`+${St}`,getOptionDisabled:j,getOptionKey:q,getOptionLabel:Z,isOptionEqualToValue:H,groupBy:Y,handleHomeEndKeys:X=!i.freeSolo,id:ne,includeInputInList:K=!1,inputValue:ae,limitTags:ye=-1,ListboxComponent:Se,ListboxProps:de,loading:xe=!1,loadingText:pe="Loading",multiple:He=!1,noOptionsText:ve="No options",onChange:V,onClose:ee,onHighlightChange:oe,onInputChange:ue,onOpen:_e,open:Q,openOnFocus:Oe=!1,openText:we="Open",options:ke,PaperComponent:Ce,PopperComponent:ut,popupIcon:De=pH||(pH=W.jsx(A9,{})),readOnly:ie=!1,renderGroup:$,renderInput:Ae,renderOption:Le,renderTags:Qe,renderValue:ze,selectOnFocus:ft=!i.freeSolo,size:ct="medium",slots:Et={},slotProps:Ct={},value:je,...ht}=i,{getRootProps:Dt,getInputProps:wt,getInputLabelProps:yt,getPopupIndicatorProps:ge,getClearProps:Xe,getItemProps:gt,getListboxProps:ce,getOptionProps:et,value:Pe,dirty:$e,expanded:vt,id:mt,popupOpen:Ut,focused:tn,focusedItem:Hn,anchorEl:Qt,setAnchorEl:Bi,inputValue:pi,groupedOptions:vi}=Ere({...i,componentName:"Autocomplete"}),Mi=!x&&!C&&$e&&!ie,qi=(!I||P===!0)&&P!==!1,{onMouseDown:kr}=wt(),{ref:kl,...Rs}=ce(),$r=Z||(St=>St.label??St),nn={...i,disablePortal:R,expanded:vt,focused:tn,fullWidth:F,getOptionLabel:$r,hasClearIcon:Mi,hasPopupIcon:qi,inputFocused:Hn===-1,popupOpen:Ut,size:ct},ti=sae(nn),mr={slots:{paper:Ce,popper:ut,...Et},slotProps:{chip:l,listbox:de,...A,...Ct}},[ka,Ds]=Qn("listbox",{elementType:pae,externalForwardedProps:mr,ownerState:nn,className:ti.listbox,additionalProps:Rs,ref:kl}),[Li,Ze]=Qn("paper",{elementType:Jd,externalForwardedProps:mr,ownerState:nn,className:ti.paper}),[Je,Mt]=Qn("popper",{elementType:DB,externalForwardedProps:mr,ownerState:nn,className:ti.popper,additionalProps:{disablePortal:R,style:{width:Qt?Qt.clientWidth:null},role:"presentation",anchorEl:Qt,open:Ut}});let te;const fe=St=>({className:ti.tag,disabled:C,...gt(St)});if(He?Pe.length>0&&(Qe?te=Qe(Pe,fe,nn):ze?te=ze(Pe,fe,nn):te=Pe.map((St,kt)=>{const{key:Lt,...hn}=fe({index:kt});return W.jsx(qse,{label:$r(St),size:ct,...hn,...mr.slotProps.chip},Lt)})):ze&&Pe!=null&&(te=ze(Pe,fe,nn)),ye>-1&&Array.isArray(te)){const St=te.length-ye;!tn&&St>0&&(te=te.splice(0,ye),te.push(W.jsx("span",{className:ti.tag,children:U(St)},te.length)))}const Be=$||(St=>W.jsxs("li",{children:[W.jsx(mae,{className:ti.groupLabel,ownerState:nn,component:"div",children:St.group}),W.jsx(gae,{className:ti.groupUl,ownerState:nn,children:St.children})]},St.key)),ot=Le||((St,kt)=>{const{key:Lt,...hn}=St;return W.jsx("li",{...hn,children:$r(kt)},Lt)}),_t=(St,kt)=>{const Lt=et({option:St,index:kt});return ot({...Lt,className:ti.option},St,{selected:Lt["aria-selected"],index:kt,inputValue:pi},nn)},xt=mr.slotProps.clearIndicator,It=mr.slotProps.popupIndicator;return W.jsxs(G.Fragment,{children:[W.jsx(aae,{ref:t,className:Nt(ti.root,c),ownerState:nn,...Dt(ht),children:Ae({id:mt,disabled:C,fullWidth:!0,size:ct==="small"?"small":void 0,InputLabelProps:yt(),InputProps:{ref:Bi,className:ti.inputRoot,startAdornment:te,onMouseDown:St=>{St.target===St.currentTarget&&kr(St)},...(Mi||qi)&&{endAdornment:W.jsxs(oae,{className:ti.endAdornment,ownerState:nn,children:[Mi?W.jsx(lae,{...Xe(),"aria-label":v,title:v,ownerState:nn,...xt,className:Nt(ti.clearIndicator,xt==null?void 0:xt.className),children:d}):null,qi?W.jsx(cae,{...ge(),disabled:C,"aria-label":Ut?b:we,title:Ut?b:we,ownerState:nn,...It,className:Nt(ti.popupIndicator,It==null?void 0:It.className),children:De}):null]})}},inputProps:{className:ti.input,disabled:C,readOnly:ie,...wt()}})}),Qt?W.jsx(uae,{as:Je,...Mt,children:W.jsxs(dae,{as:Li,...Ze,children:[xe&&vi.length===0?W.jsx(fae,{className:ti.loading,ownerState:nn,children:pe}):null,vi.length===0&&!I&&!xe?W.jsx(hae,{className:ti.noOptions,ownerState:nn,role:"presentation",onMouseDown:St=>{St.preventDefault()},children:ve}):null,vi.length>0?W.jsx(ka,{as:Se,...Ds,children:vi.map((St,kt)=>Y?Be({key:St.key,group:St.group,children:St.options.map((Lt,hn)=>_t(Lt,St.index+hn))}):_t(St,kt))}):null]})}):null]})}),yae={entering:{opacity:1},entered:{opacity:1}},lP=G.forwardRef(function(e,t){const i=ho(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:c,onEnter:d,onEntered:h,onEntering:m,onExit:v,onExited:b,onExiting:A,style:_,timeout:x=r,TransitionComponent:T=Nl,...C}=e,M=G.useRef(null),O=hr(M,R0(o),t),R=q=>Z=>{if(q){const H=M.current;Z===void 0?q(H):q(H,Z)}},B=R(m),N=R((q,Z)=>{SB(q);const H=Oh({style:_,timeout:x,easing:l},{mode:"enter"});q.style.webkitTransition=i.transitions.create("opacity",H),q.style.transition=i.transitions.create("opacity",H),d&&d(q,Z)}),P=R(h),I=R(A),F=R(q=>{const Z=Oh({style:_,timeout:x,easing:l},{mode:"exit"});q.style.webkitTransition=i.transitions.create("opacity",Z),q.style.transition=i.transitions.create("opacity",Z),v&&v(q)}),U=R(b),j=q=>{s&&s(M.current,q)};return W.jsx(T,{appear:a,in:c,nodeRef:M,onEnter:N,onEntered:P,onEntering:B,onExit:F,onExited:U,onExiting:I,addEndListener:j,timeout:x,...C,children:(q,{ownerState:Z,...H})=>G.cloneElement(o,{style:{opacity:0,visibility:q==="exited"&&!c?"hidden":void 0,...yae[q],..._,...o.props.style},ref:O,...H})})});function vae(n){return en("MuiBackdrop",n)}Xt("MuiBackdrop",["root","invisible"]);const bae=n=>{const{classes:e,invisible:t}=n;return Jt({root:["root",t&&"invisible"]},vae,e)},_ae=lt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),E9=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:a="div",invisible:o=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:m={},TransitionComponent:v,transitionDuration:b,...A}=i,_={...i,component:a,invisible:o},x=bae(_),T={transition:v,root:c.Root,...m},C={...d,...h},M={component:a,slots:T,slotProps:C},[O,R]=Qn("root",{elementType:_ae,externalForwardedProps:M,className:Nt(x.root,s),ownerState:_}),[B,N]=Qn("transition",{elementType:lP,externalForwardedProps:M,ownerState:_});return W.jsx(B,{in:l,timeout:b,...A,...N,children:W.jsx(O,{"aria-hidden":!0,...R,classes:x,ref:t,children:r})})}),xae=Xt("MuiBox",["root"]),Sae=gB(),Ss=ane({themeId:M0,defaultTheme:Sae,defaultClassName:xae.root,generateClassName:j8.generate});function Aae(n){return en("MuiButton",n)}const qp=Xt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Eae=G.createContext({}),Cae=G.createContext(void 0),Tae=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:a,loadingPosition:o,classes:l}=n,c={root:["root",a&&"loading",s,`${s}${bt(e)}`,`size${bt(r)}`,`${s}Size${bt(r)}`,`color${bt(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${bt(o)}`],startIcon:["icon","startIcon",`iconSize${bt(r)}`],endIcon:["icon","endIcon",`iconSize${bt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Jt(c,Aae,l);return{...l,...d}},C9=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Mae=lt(Wx,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${bt(t.color)}`],e[`size${bt(t.size)}`],e[`${t.variant}Size${bt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(Tn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${qp.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${qp.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${qp.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${qp.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Bo()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${qp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${qp.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${qp.loading}`]:{color:"transparent"}}}]}})),wae=lt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${bt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...C9]})),Rae=lt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${bt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...C9]})),Dae=lt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),mH=lt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Xv=G.forwardRef(function(e,t){const i=G.useContext(Eae),r=G.useContext(Cae),s=qm(i,e),a=Rn({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:v=!1,endIcon:b,focusVisibleClassName:A,fullWidth:_=!1,id:x,loading:T=null,loadingIndicator:C,loadingPosition:M="center",size:O="medium",startIcon:R,type:B,variant:N="text",...P}=a,I=Wh(x),F=C??W.jsx(f9,{"aria-labelledby":I,color:"inherit",size:16}),U={...a,color:l,component:c,disabled:h,disableElevation:m,disableFocusRipple:v,fullWidth:_,loading:T,loadingIndicator:F,loadingPosition:M,size:O,type:B,variant:N},j=Tae(U),q=(R||T&&M==="start")&&W.jsx(wae,{className:j.startIcon,ownerState:U,children:R||W.jsx(mH,{className:j.loadingIconPlaceholder,ownerState:U})}),Z=(b||T&&M==="end")&&W.jsx(Rae,{className:j.endIcon,ownerState:U,children:b||W.jsx(mH,{className:j.loadingIconPlaceholder,ownerState:U})}),H=r||"",Y=typeof T=="boolean"?W.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:T&&W.jsx(Dae,{className:j.loadingIndicator,ownerState:U,children:F})}):null;return W.jsxs(Mae,{ownerState:U,className:Nt(i.className,j.root,d,H),component:c,disabled:h||T,focusRipple:!v,focusVisibleClassName:Nt(j.focusVisible,A),ref:t,type:B,id:T?I:x,...P,classes:j,children:[q,M!=="end"&&Y,o,M==="end"&&Y,Z]})});function T9(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function Iae(n){const e=zo(n);return e.body===n?Rl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function cx(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function gH(n){return parseInt(Rl(n).getComputedStyle(n).paddingRight,10)||0}function Oae(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function yH(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,a=>{const o=!s.includes(a),l=!Oae(a);o&&l&&cx(a,r)})}function hI(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function Pae(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(Iae(i)){const a=T9(Rl(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${gH(i)+a}px`;const o=zo(i).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${gH(l)+a}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=zo(i).body;else{const a=i.parentElement,o=Rl(i);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function Nae(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class Bae{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&cx(e.modalRef,!1);const r=Nae(t);yH(t,e.mount,e.modalRef,r,!0);const s=hI(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=hI(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=Pae(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=hI(this.containers,a=>a.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&cx(e.modalRef,t),yH(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&cx(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Lae=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Uae(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function kae(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Fae(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||kae(n))}function Hae(n){const e=[],t=[];return Array.from(n.querySelectorAll(Lae)).forEach((i,r)=>{const s=Uae(i);s===-1||!Fae(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function zae(){return!0}function Gae(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=Hae,isEnabled:a=zae,open:o}=n,l=G.useRef(!1),c=G.useRef(null),d=G.useRef(null),h=G.useRef(null),m=G.useRef(null),v=G.useRef(!1),b=G.useRef(null),A=hr(R0(e),b),_=G.useRef(null);G.useEffect(()=>{!o||!b.current||(v.current=!t)},[t,o]),G.useEffect(()=>{if(!o||!b.current)return;const C=zo(b.current);return b.current.contains(C.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),v.current&&b.current.focus()),()=>{r||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),G.useEffect(()=>{if(!o||!b.current)return;const C=zo(b.current),M=B=>{_.current=B,!(i||!a()||B.key!=="Tab")&&C.activeElement===b.current&&B.shiftKey&&(l.current=!0,d.current&&d.current.focus())},O=()=>{var P,I;const B=b.current;if(B===null)return;if(!C.hasFocus()||!a()||l.current){l.current=!1;return}if(B.contains(C.activeElement)||i&&C.activeElement!==c.current&&C.activeElement!==d.current)return;if(C.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!v.current)return;let N=[];if((C.activeElement===c.current||C.activeElement===d.current)&&(N=s(b.current)),N.length>0){const F=!!((P=_.current)!=null&&P.shiftKey&&((I=_.current)==null?void 0:I.key)==="Tab"),U=N[0],j=N[N.length-1];typeof U!="string"&&typeof j!="string"&&(F?j.focus():U.focus())}else B.focus()};C.addEventListener("focusin",O),C.addEventListener("keydown",M,!0);const R=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(R),C.removeEventListener("focusin",O),C.removeEventListener("keydown",M,!0)}},[t,i,r,a,o,s]);const x=C=>{h.current===null&&(h.current=C.relatedTarget),v.current=!0,m.current=C.target;const M=e.props.onFocus;M&&M(C)},T=C=>{h.current===null&&(h.current=C.relatedTarget),v.current=!0};return W.jsxs(G.Fragment,{children:[W.jsx("div",{tabIndex:o?0:-1,onFocus:T,ref:c,"data-testid":"sentinelStart"}),G.cloneElement(e,{ref:A,onFocus:x}),W.jsx("div",{tabIndex:o?0:-1,onFocus:T,ref:d,"data-testid":"sentinelEnd"})]})}function Vae(n){return typeof n=="function"?n():n}function jae(n){return n?n.props.hasOwnProperty("in"):!1}const vH=()=>{},fC=new Bae;function Wae(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:l,open:c,rootRef:d}=n,h=G.useRef({}),m=G.useRef(null),v=G.useRef(null),b=hr(v,d),[A,_]=G.useState(!c),x=jae(o);let T=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(T=!1);const C=()=>zo(m.current),M=()=>(h.current.modalRef=v.current,h.current.mount=m.current,h.current),O=()=>{fC.mount(M(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},R=Tr(()=>{const Z=Vae(e)||C().body;fC.add(M(),Z),v.current&&O()}),B=()=>fC.isTopModal(M()),N=Tr(Z=>{m.current=Z,Z&&(c&&B()?O():v.current&&cx(v.current,T))}),P=G.useCallback(()=>{fC.remove(M(),T)},[T]);G.useEffect(()=>()=>{P()},[P]),G.useEffect(()=>{c?R():(!x||!r)&&P()},[c,P,x,r,R]);const I=Z=>H=>{var Y;(Y=Z.onKeyDown)==null||Y.call(Z,H),!(H.key!=="Escape"||H.which===229||!B())&&(t||(H.stopPropagation(),l&&l(H,"escapeKeyDown")))},F=Z=>H=>{var Y;(Y=Z.onClick)==null||Y.call(Z,H),H.target===H.currentTarget&&l&&l(H,"backdropClick")};return{getRootProps:(Z={})=>{const H=u9(n);delete H.onTransitionEnter,delete H.onTransitionExited;const Y={...H,...Z};return{role:"presentation",...Y,onKeyDown:I(Y),ref:b}},getBackdropProps:(Z={})=>{const H=Z;return{"aria-hidden":!0,...H,onClick:F(H),open:c}},getTransitionProps:()=>{const Z=()=>{_(!1),s&&s()},H=()=>{_(!0),a&&a(),r&&P()};return{onEnter:GF(Z,(o==null?void 0:o.props.onEnter)??vH),onExited:GF(H,(o==null?void 0:o.props.onExited)??vH)}},rootRef:b,portalRef:N,isTopModal:B,exited:A,hasTransition:x}}function Yae(n){return en("MuiModal",n)}Xt("MuiModal",["root","hidden","backdrop"]);const Xae=n=>{const{open:e,exited:t,classes:i}=n;return Jt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Yae,i)},qae=lt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Tn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),$ae=lt(E9,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),PB=G.forwardRef(function(e,t){const i=Rn({name:"MuiModal",props:e}),{BackdropComponent:r=$ae,BackdropProps:s,classes:a,className:o,closeAfterTransition:l=!1,children:c,container:d,component:h,components:m={},componentsProps:v={},disableAutoFocus:b=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:_=!1,disablePortal:x=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:M=!1,keepMounted:O=!1,onClose:R,onTransitionEnter:B,onTransitionExited:N,open:P,slotProps:I={},slots:F={},theme:U,...j}=i,q={...i,closeAfterTransition:l,disableAutoFocus:b,disableEnforceFocus:A,disableEscapeKeyDown:_,disablePortal:x,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:M,keepMounted:O},{getRootProps:Z,getBackdropProps:H,getTransitionProps:Y,portalRef:X,isTopModal:ne,exited:K,hasTransition:ae}=Wae({...q,rootRef:t}),ye={...q,exited:K},Se=Xae(ye),de={};if(c.props.tabIndex===void 0&&(de.tabIndex="-1"),ae){const{onEnter:ee,onExited:oe}=Y();de.onEnter=ee,de.onExited=oe}const xe={slots:{root:m.Root,backdrop:m.Backdrop,...F},slotProps:{...v,...I}},[pe,He]=Qn("root",{ref:t,elementType:qae,externalForwardedProps:{...xe,...j,component:h},getSlotProps:Z,ownerState:ye,className:Nt(o,Se==null?void 0:Se.root,!ye.open&&ye.exited&&(Se==null?void 0:Se.hidden))}),[ve,V]=Qn("backdrop",{ref:s==null?void 0:s.ref,elementType:r,externalForwardedProps:xe,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:ee=>H({...ee,onClick:oe=>{ee!=null&&ee.onClick&&ee.onClick(oe)}}),className:Nt(s==null?void 0:s.className,Se==null?void 0:Se.backdrop),ownerState:ye});return!O&&!P&&(!ae||K)?null:W.jsx(S9,{ref:X,container:d,disablePortal:x,children:W.jsxs(pe,{...He,children:[!M&&r?W.jsx(ve,{...V}):null,W.jsx(Gae,{disableEnforceFocus:A,disableAutoFocus:b,disableRestoreFocus:T,isEnabled:ne,open:P,children:G.cloneElement(c,de)})]})})});function Kae(n){return en("MuiDialog",n)}const pI=Xt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),M9=G.createContext({}),Jae=lt(E9,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),Qae=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${bt(t)}`],paper:["paper",`paperScroll${bt(t)}`,`paperWidth${bt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return Jt(a,Kae,e)},Zae=lt(PB,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),eoe=lt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${bt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),toe=lt(Jd,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${bt(t.scroll)}`],e[`paperWidth${bt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Tn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${pI.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${pI.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${pI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),noe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialog"}),r=ho(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:d,children:h,className:m,disableEscapeKeyDown:v=!1,fullScreen:b=!1,fullWidth:A=!1,maxWidth:_="sm",onClick:x,onClose:T,open:C,PaperComponent:M=Jd,PaperProps:O={},scroll:R="paper",slots:B={},slotProps:N={},TransitionComponent:P=lP,transitionDuration:I=s,TransitionProps:F,...U}=i,j={...i,disableEscapeKeyDown:v,fullScreen:b,fullWidth:A,maxWidth:_,scroll:R},q=Qae(j),Z=G.useRef(),H=_e=>{Z.current=_e.target===_e.currentTarget},Y=_e=>{x&&x(_e),Z.current&&(Z.current=null,T&&T(_e,"backdropClick"))},X=Wh(o),ne=G.useMemo(()=>({titleId:X}),[X]),K={transition:P,...B},ae={transition:F,paper:O,backdrop:d,...N},ye={slots:K,slotProps:ae},[Se,de]=Qn("root",{elementType:Zae,shouldForwardComponentProp:!0,externalForwardedProps:ye,ownerState:j,className:Nt(q.root,m),ref:t}),[xe,pe]=Qn("backdrop",{elementType:Jae,shouldForwardComponentProp:!0,externalForwardedProps:ye,ownerState:j}),[He,ve]=Qn("paper",{elementType:toe,shouldForwardComponentProp:!0,externalForwardedProps:ye,ownerState:j,className:Nt(q.paper,O.className)}),[V,ee]=Qn("container",{elementType:eoe,externalForwardedProps:ye,ownerState:j,className:q.container}),[oe,ue]=Qn("transition",{elementType:lP,externalForwardedProps:ye,ownerState:j,additionalProps:{appear:!0,in:C,timeout:I,role:"presentation"}});return W.jsx(Se,{closeAfterTransition:!0,slots:{backdrop:xe},slotProps:{backdrop:{transitionDuration:I,as:c,...pe}},disableEscapeKeyDown:v,onClose:T,open:C,onClick:Y,...de,...U,children:W.jsx(oe,{...ue,children:W.jsx(V,{onMouseDown:H,...ee,children:W.jsx(He,{as:M,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":X,"aria-modal":l,...ve,children:W.jsx(M9.Provider,{value:ne,children:h})})})})})});function ioe(n){return en("MuiDialogActions",n)}Xt("MuiDialogActions",["root","spacing"]);const roe=n=>{const{classes:e,disableSpacing:t}=n;return Jt({root:["root",!t&&"spacing"]},ioe,e)},soe=lt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),aoe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...a}=i,o={...i,disableSpacing:s},l=roe(o);return W.jsx(soe,{className:Nt(l.root,r),ownerState:o,ref:t,...a})});function ooe(n){return en("MuiDialogContent",n)}Xt("MuiDialogContent",["root","dividers"]);function loe(n){return en("MuiDialogTitle",n)}const coe=Xt("MuiDialogTitle",["root"]),uoe=n=>{const{classes:e,dividers:t}=n;return Jt({root:["root",t&&"dividers"]},ooe,e)},doe=lt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(Tn(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${coe.root} + &`]:{paddingTop:0}}}]}))),foe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...a}=i,o={...i,dividers:s},l=uoe(o);return W.jsx(doe,{className:Nt(l.root,r),ownerState:o,ref:t,...a})});function hoe(n){return en("MuiDialogContentText",n)}Xt("MuiDialogContentText",["root"]);const poe=n=>{const{classes:e}=n,i=Jt({root:["root"]},hoe,e);return{...e,...i}},moe=lt(qr,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiDialogContentText",slot:"Root"})({}),goe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogContentText"}),{children:r,className:s,...a}=i,o=poe(a);return W.jsx(moe,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Nt(o.root,s),...i,classes:o})}),yoe=n=>{const{classes:e}=n;return Jt({root:["root"]},loe,e)},voe=lt(qr,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),boe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...a}=i,o=i,l=yoe(o),{titleId:c=s}=G.useContext(M9);return W.jsx(voe,{component:"h2",className:Nt(l.root,r),ownerState:o,ref:t,variant:"h6",id:s??c,...a})});function _oe(n){return en("MuiDivider",n)}Xt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const xoe=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:a,textAlign:o,variant:l}=n;return Jt({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},_oe,i)},Soe=lt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(Tn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.alpha((n.vars||n).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Aoe=lt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(Tn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),qx=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,orientation:o="horizontal",component:l=s||o==="vertical"?"div":"hr",flexItem:c=!1,light:d=!1,role:h=l!=="hr"?"separator":void 0,textAlign:m="center",variant:v="fullWidth",...b}=i,A={...i,absolute:r,component:l,flexItem:c,light:d,orientation:o,role:h,textAlign:m,variant:v},_=xoe(A);return W.jsx(Soe,{as:l,className:Nt(_.root,a),role:h,ref:t,ownerState:A,"aria-orientation":h==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,...b,children:s?W.jsx(Aoe,{className:_.wrapper,ownerState:A,children:s}):null})});qx&&(qx.muiSkipListHighlight=!0);function Eoe(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Rl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const c=s.getComputedStyle(e);a=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const c=a.split("(")[1].split(")")[0].split(",");o=parseInt(c[4],10),l=parseInt(c[5],10)}return n==="left"?r?`translateX(${r.right+o-i.left}px)`:`translateX(${s.innerWidth+o-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-o}px)`:`translateX(-${i.left+i.width-o}px)`:n==="up"?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${s.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}function Coe(n){return typeof n=="function"?n():n}function hC(n,e,t){const i=Coe(t),r=Eoe(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const Toe=G.forwardRef(function(e,t){const i=ho(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:c,direction:d="down",easing:h=r,in:m,onEnter:v,onEntered:b,onEntering:A,onExit:_,onExited:x,onExiting:T,style:C,timeout:M=s,TransitionComponent:O=Nl,...R}=e,B=G.useRef(null),N=hr(R0(l),B,t),P=X=>ne=>{X&&(ne===void 0?X(B.current):X(B.current,ne))},I=P((X,ne)=>{hC(d,X,c),SB(X),v&&v(X,ne)}),F=P((X,ne)=>{const K=Oh({timeout:M,style:C,easing:h},{mode:"enter"});X.style.webkitTransition=i.transitions.create("-webkit-transform",{...K}),X.style.transition=i.transitions.create("transform",{...K}),X.style.webkitTransform="none",X.style.transform="none",A&&A(X,ne)}),U=P(b),j=P(T),q=P(X=>{const ne=Oh({timeout:M,style:C,easing:h},{mode:"exit"});X.style.webkitTransition=i.transitions.create("-webkit-transform",ne),X.style.transition=i.transitions.create("transform",ne),hC(d,X,c),_&&_(X)}),Z=P(X=>{X.style.webkitTransition="",X.style.transition="",x&&x(X)}),H=X=>{a&&a(B.current,X)},Y=G.useCallback(()=>{B.current&&hC(d,B.current,c)},[d,c]);return G.useEffect(()=>{if(m||d==="down"||d==="right")return;const X=yB(()=>{B.current&&hC(d,B.current,c)}),ne=Rl(B.current);return ne.addEventListener("resize",X),()=>{X.clear(),ne.removeEventListener("resize",X)}},[d,m,c]),G.useEffect(()=>{m||Y()},[m,Y]),W.jsx(O,{nodeRef:B,onEnter:I,onEntered:U,onEntering:F,onExit:q,onExited:Z,onExiting:j,addEndListener:H,appear:o,in:m,timeout:M,...R,children:(X,{ownerState:ne,...K})=>G.cloneElement(l,{ref:N,style:{visibility:X==="exited"&&!m?"hidden":void 0,...C,...l.props.style},...K})})});function Moe(n){return en("MuiDrawer",n)}Xt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const w9=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},woe=n=>{const{classes:e,anchor:t,variant:i}=n,r={root:["root",`anchor${bt(t)}`],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${bt(t)}`,i!=="temporary"&&`paperAnchorDocked${bt(t)}`]};return Jt(r,Moe,e)},Roe=lt(PB,{name:"MuiDrawer",slot:"Root",overridesResolver:w9})(Tn(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),Doe=lt("div",{shouldForwardProp:po,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:w9})({flex:"0 0 auto"}),Ioe=lt(Jd,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${bt(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${bt(t.anchor)}`]]}})(Tn(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),R9={left:"right",right:"left",top:"down",bottom:"up"};function Ooe(n){return["left","right"].includes(n)}function Poe({direction:n},e){return n==="rtl"&&Ooe(e)?R9[e]:e}const Noe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDrawer"}),r=ho(),s=fg(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:c,className:d,elevation:h=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:v,...b}={},onClose:A,open:_=!1,PaperProps:x={},SlideProps:T,TransitionComponent:C,transitionDuration:M=a,variant:O="temporary",slots:R={},slotProps:B={},...N}=i,P=G.useRef(!1);G.useEffect(()=>{P.current=!0},[]);const I=Poe({direction:s?"rtl":"ltr"},o),U={...i,anchor:o,elevation:h,open:_,variant:O,...N},j=woe(U),q={slots:{transition:C,...R},slotProps:{paper:x,transition:T,...B,backdrop:a9(B.backdrop||{...l,...v},{transitionDuration:M})}},[Z,H]=Qn("root",{ref:t,elementType:Roe,className:Nt(j.root,j.modal,d),shouldForwardComponentProp:!0,ownerState:U,externalForwardedProps:{...q,...N,...b},additionalProps:{open:_,onClose:A,hideBackdrop:m,slots:{backdrop:q.slots.backdrop},slotProps:{backdrop:q.slotProps.backdrop}}}),[Y,X]=Qn("paper",{elementType:Ioe,shouldForwardComponentProp:!0,className:Nt(j.paper,x.className),ownerState:U,externalForwardedProps:q,additionalProps:{elevation:O==="temporary"?h:0,square:!0,...O==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[ne,K]=Qn("docked",{elementType:Doe,ref:t,className:Nt(j.root,j.docked,d),ownerState:U,externalForwardedProps:q,additionalProps:N}),[ae,ye]=Qn("transition",{elementType:Toe,ownerState:U,externalForwardedProps:q,additionalProps:{in:_,direction:R9[I],timeout:M,appear:P.current}}),Se=W.jsx(Y,{...X,children:c});if(O==="permanent")return W.jsx(ne,{...K,children:Se});const de=W.jsx(ae,{...ye,children:Se});return O==="persistent"?W.jsx(ne,{...K,children:de}):W.jsx(Z,{...H,children:de})}),Boe=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:a,multiline:o}=n,l={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${bt(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},c=Jt(l,iae,e);return{...e,...c}},Loe=lt(Nw,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ow(n,e),!t.disableUnderline&&e.underline]}})(Tn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Po.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Po.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Po.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Po.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Po.disabled}, .${Po.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Po.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Bo()).map(([a])=>{var o;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(o=(n.vars||n).palette[a])==null?void 0:o.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Uoe=lt(Bw,{name:"MuiFilledInput",slot:"Input",overridesResolver:Pw})(Tn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),NB=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:l,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:m={},type:v="text",...b}=i,A={...i,disableUnderline:r,fullWidth:o,inputComponent:c,multiline:d,type:v},_=Boe(i),x={root:{ownerState:A},input:{ownerState:A}},T=h??a?ua(x,h??a):x,C=m.root??s.Root??Loe,M=m.input??s.Input??Uoe;return W.jsx(OB,{slots:{root:C,input:M},slotProps:T,fullWidth:o,inputComponent:c,multiline:d,ref:t,type:v,...b,classes:_})});NB.muiName="Input";function koe(n){return en("MuiFormControl",n)}Xt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Foe=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${bt(t)}`,i&&"fullWidth"]};return Jt(r,koe,e)},Hoe=lt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${bt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),zoe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormControl"}),{children:r,className:s,color:a="primary",component:o="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:h=!1,hiddenLabel:m=!1,margin:v="none",required:b=!1,size:A="medium",variant:_="outlined",...x}=i,T={...i,color:a,component:o,disabled:l,error:c,fullWidth:h,hiddenLabel:m,margin:v,required:b,size:A,variant:_},C=Foe(T),[M,O]=G.useState(()=>{let Z=!1;return r&&G.Children.forEach(r,H=>{if(!z1(H,["Input","Select"]))return;const Y=z1(H,["Select"])?H.props.input:H;Y&&Qse(Y.props)&&(Z=!0)}),Z}),[R,B]=G.useState(()=>{let Z=!1;return r&&G.Children.forEach(r,H=>{z1(H,["Input","Select"])&&(vT(H.props,!0)||vT(H.props.inputProps,!0))&&(Z=!0)}),Z}),[N,P]=G.useState(!1);l&&N&&P(!1);const I=d!==void 0&&!l?d:N;let F;G.useRef(!1);const U=G.useCallback(()=>{B(!0)},[]),j=G.useCallback(()=>{B(!1)},[]),q=G.useMemo(()=>({adornedStart:M,setAdornedStart:O,color:a,disabled:l,error:c,filled:R,focused:I,fullWidth:h,hiddenLabel:m,size:A,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:j,onFilled:U,registerEffect:F,required:b,variant:_}),[M,a,l,c,R,I,h,m,F,j,U,b,A,_]);return W.jsx(IB.Provider,{value:q,children:W.jsx(Hoe,{as:o,ownerState:T,className:Nt(C.root,s),ref:t,...x,children:r})})});function Goe(n){return en("MuiFormHelperText",n)}const bH=Xt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _H;const Voe=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:a,focused:o,required:l}=n,c={root:["root",r&&"disabled",s&&"error",i&&`size${bt(i)}`,t&&"contained",o&&"focused",a&&"filled",l&&"required"]};return Jt(c,Goe,e)},joe=lt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${bt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Tn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bH.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${bH.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Woe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p",disabled:o,error:l,filled:c,focused:d,margin:h,required:m,variant:v,...b}=i,A=I0(),_=D0({props:i,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),x={...i,component:a,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete x.ownerState;const T=Voe(x);return W.jsx(joe,{as:a,className:Nt(T.root,s),ref:t,...b,ownerState:x,children:r===" "?_H||(_H=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function Yoe(n){return en("MuiFormLabel",n)}const ux=Xt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xoe=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:a,required:o}=n,l={root:["root",`color${bt(t)}`,r&&"disabled",s&&"error",a&&"filled",i&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return Jt(l,Yoe,e)},qoe=lt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Tn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Bo()).map(([e])=>({props:{color:e},style:{[`&.${ux.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${ux.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${ux.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),$oe=lt("span",{name:"MuiFormLabel",slot:"Asterisk"})(Tn(({theme:n})=>({[`&.${ux.error}`]:{color:(n.vars||n).palette.error.main}}))),Koe=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:a,component:o="label",disabled:l,error:c,filled:d,focused:h,required:m,...v}=i,b=I0(),A=D0({props:i,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),_={...i,color:A.color||"primary",component:o,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},x=Xoe(_);return W.jsxs(qoe,{as:o,ownerState:_,className:Nt(x.root,s),ref:t,...v,children:[r,A.required&&W.jsxs($oe,{ownerState:_,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function cP(n){return`scale(${n}, ${n**2})`}const Joe={entering:{opacity:1,transform:cP(1)},entered:{opacity:1,transform:"none"}},mI=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),uP=G.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:a,in:o,onEnter:l,onEntered:c,onEntering:d,onExit:h,onExited:m,onExiting:v,style:b,timeout:A="auto",TransitionComponent:_=Nl,...x}=e,T=xB(),C=G.useRef(),M=ho(),O=G.useRef(null),R=hr(O,R0(s),t),B=Z=>H=>{if(Z){const Y=O.current;H===void 0?Z(Y):Z(Y,H)}},N=B(d),P=B((Z,H)=>{SB(Z);const{duration:Y,delay:X,easing:ne}=Oh({style:b,timeout:A,easing:a},{mode:"enter"});let K;A==="auto"?(K=M.transitions.getAutoHeightDuration(Z.clientHeight),C.current=K):K=Y,Z.style.transition=[M.transitions.create("opacity",{duration:K,delay:X}),M.transitions.create("transform",{duration:mI?K:K*.666,delay:X,easing:ne})].join(","),l&&l(Z,H)}),I=B(c),F=B(v),U=B(Z=>{const{duration:H,delay:Y,easing:X}=Oh({style:b,timeout:A,easing:a},{mode:"exit"});let ne;A==="auto"?(ne=M.transitions.getAutoHeightDuration(Z.clientHeight),C.current=ne):ne=H,Z.style.transition=[M.transitions.create("opacity",{duration:ne,delay:Y}),M.transitions.create("transform",{duration:mI?ne:ne*.666,delay:mI?Y:Y||ne*.333,easing:X})].join(","),Z.style.opacity=0,Z.style.transform=cP(.75),h&&h(Z)}),j=B(m),q=Z=>{A==="auto"&&T.start(C.current||0,Z),i&&i(O.current,Z)};return W.jsx(_,{appear:r,in:o,nodeRef:O,onEnter:P,onEntered:I,onEntering:N,onExit:U,onExited:j,onExiting:F,addEndListener:q,timeout:A==="auto"?null:A,...x,children:(Z,{ownerState:H,...Y})=>G.cloneElement(s,{style:{opacity:0,transform:cP(.75),visibility:Z==="exited"&&!o?"hidden":void 0,...Joe[Z],...b,...s.props.style},ref:R,...Y})})});uP&&(uP.muiSupportAuto=!0);const Qoe=n=>{const{classes:e,disableUnderline:t}=n,r=Jt({root:["root",!t&&"underline"],input:["input"]},tae,e);return{...e,...r}},Zoe=lt(Nw,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ow(n,e),!t.disableUnderline&&e.underline]}})(Tn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dh.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dh.disabled}, .${dh.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${dh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Bo()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),ele=lt(Bw,{name:"MuiInput",slot:"Input",overridesResolver:Pw})({}),BB=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:l="input",multiline:c=!1,slotProps:d,slots:h={},type:m="text",...v}=i,b=Qoe(i),_={root:{ownerState:{disableUnderline:r}}},x=d??a?ua(d??a,_):_,T=h.root??s.Root??Zoe,C=h.input??s.Input??ele;return W.jsx(OB,{slots:{root:T,input:C},slotProps:x,fullWidth:o,inputComponent:l,multiline:c,ref:t,type:m,...v,classes:b})});BB.muiName="Input";function tle(n){return en("MuiInputLabel",n)}Xt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const nle=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:a,required:o}=n,l={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${bt(i)}`,a],asterisk:[o&&"asterisk"]},c=Jt(l,tle,e);return{...e,...c}},ile=lt(Koe,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ux.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Tn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),rle=G.forwardRef(function(e,t){const i=Rn({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:a,variant:o,className:l,...c}=i,d=I0();let h=a;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const m=D0({props:i,muiFormControl:d,states:["size","variant","required","focused"]}),v={...i,disableAnimation:r,formControl:d,shrink:h,size:m.size,variant:m.variant,required:m.required,focused:m.focused},b=nle(v);return W.jsx(ile,{"data-shrink":h,ref:t,className:Nt(b.root,l),...c,ownerState:v,classes:b})}),Td=G.createContext({});function sle(n){return en("MuiList",n)}Xt("MuiList",["root","padding","dense","subheader"]);const ale=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return Jt({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},sle,e)},ole=lt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),V1=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:c,...d}=i,h=G.useMemo(()=>({dense:o}),[o]),m={...i,component:a,dense:o,disablePadding:l},v=ale(m);return W.jsx(Td.Provider,{value:h,children:W.jsxs(ole,{as:a,className:Nt(v.root,s),ref:t,ownerState:m,...d,children:[c,r]})})});function lle(n){return en("MuiListItem",n)}Xt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function cle(n){return en("MuiListItemButton",n)}const cv=Xt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),ule=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters]},dle=n=>{const{alignItems:e,classes:t,dense:i,disabled:r,disableGutters:s,divider:a,selected:o}=n,c=Jt({root:["root",i&&"dense",!s&&"gutters",a&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},cle,t);return{...t,...c}},fle=lt(Wx,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:ule})(Tn(({theme:n})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${cv.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${cv.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}},[`&.${cv.selected}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity)}},[`&.${cv.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${cv.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),gI=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:c=!1,divider:d=!1,focusVisibleClassName:h,selected:m=!1,className:v,...b}=i,A=G.useContext(Td),_=G.useMemo(()=>({dense:l||A.dense||!1,alignItems:r,disableGutters:c}),[r,A.dense,l,c]),x=G.useRef(null);rr(()=>{s&&x.current&&x.current.focus()},[s]);const T={...i,alignItems:r,dense:_.dense,disableGutters:c,divider:d,selected:m},C=dle(T),M=hr(x,t);return W.jsx(Td.Provider,{value:_,children:W.jsx(fle,{ref:M,href:b.href||b.to,component:(b.href||b.to)&&a==="div"?"button":a,focusVisibleClassName:Nt(C.focusVisible,h),ownerState:T,className:Nt(C.root,v),...b,classes:C,children:o})})});function hle(n){return en("MuiListItemSecondaryAction",n)}Xt("MuiListItemSecondaryAction",["root","disableGutters"]);const ple=n=>{const{disableGutters:e,classes:t}=n;return Jt({root:["root",e&&"disableGutters"]},hle,t)},mle=lt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),D9=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,a=G.useContext(Td),o={...i,disableGutters:a.disableGutters},l=ple(o);return W.jsx(mle,{className:Nt(l.root,r),ownerState:o,ref:t,...s})});D9.muiName="ListItemSecondaryAction";const gle=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},yle=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:s,divider:a,hasSecondaryAction:o}=n;return Jt({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"]},lle,t)},vle=lt("div",{name:"MuiListItem",slot:"Root",overridesResolver:gle})(Tn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${cv.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),ble=lt("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),yI=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:l={},componentsProps:c={},ContainerComponent:d="li",ContainerProps:{className:h,...m}={},dense:v=!1,disableGutters:b=!1,disablePadding:A=!1,divider:_=!1,secondaryAction:x,slotProps:T={},slots:C={},...M}=i,O=G.useContext(Td),R=G.useMemo(()=>({dense:v||O.dense||!1,alignItems:r,disableGutters:b}),[r,O.dense,v,b]),B=G.useRef(null),N=G.Children.toArray(s),P=N.length&&z1(N[N.length-1],["ListItemSecondaryAction"]),I={...i,alignItems:r,dense:R.dense,disableGutters:b,disablePadding:A,divider:_,hasSecondaryAction:P},F=yle(I),U=hr(B,t),j=C.root||l.Root||vle,q=T.root||c.root||{},Z={className:Nt(F.root,q.className,a),...M};let H=o||"li";return P?(H=!Z.component&&!o?"div":H,d==="li"&&(H==="li"?H="div":Z.component==="li"&&(Z.component="div")),W.jsx(Td.Provider,{value:R,children:W.jsxs(ble,{as:d,className:Nt(F.container,h),ref:U,ownerState:I,...m,children:[W.jsx(j,{...q,...!zv(j)&&{as:H,ownerState:{...I,...q.ownerState}},...Z,children:N}),N.pop()]})})):W.jsx(Td.Provider,{value:R,children:W.jsxs(j,{...q,as:H,ref:U,...!zv(j)&&{ownerState:{...I,...q.ownerState}},...Z,children:[N,x&&W.jsx(D9,{children:x})]})})});function _le(n){return en("MuiListItemIcon",n)}Xt("MuiListItemIcon",["root","alignItemsFlexStart"]);const xle=n=>{const{alignItems:e,classes:t}=n;return Jt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},_le,t)},Sle=lt("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Tn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),vI=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,a=G.useContext(Td),o={...i,alignItems:a.alignItems},l=xle(o);return W.jsx(Sle,{className:Nt(l.root,r),ownerState:o,ref:t,...s})});function Ale(n){return en("MuiListItemText",n)}const pC=Xt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ele=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return Jt({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},Ale,e)},Cle=lt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pC.primary}`]:e.primary},{[`& .${pC.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${qF.root}:where(& .${pC.primary})`]:{display:"block"},[`.${qF.root}:where(& .${pC.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),bI=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:h,slots:m={},slotProps:v={},...b}=i,{dense:A}=G.useContext(Td);let _=l??r,x=d;const T={...i,disableTypography:a,inset:o,primary:!!_,secondary:!!x,dense:A},C=Ele(T),M={slots:m,slotProps:{primary:c,secondary:h,...v}},[O,R]=Qn("root",{className:Nt(C.root,s),elementType:Cle,externalForwardedProps:{...M,...b},ownerState:T,ref:t}),[B,N]=Qn("primary",{className:C.primary,elementType:qr,externalForwardedProps:M,ownerState:T}),[P,I]=Qn("secondary",{className:C.secondary,elementType:qr,externalForwardedProps:M,ownerState:T});return _!=null&&_.type!==qr&&!a&&(_=W.jsx(B,{variant:A?"body2":"body1",component:N!=null&&N.variant?void 0:"span",...N,children:_})),x!=null&&x.type!==qr&&!a&&(x=W.jsx(P,{variant:"body2",color:"textSecondary",...I,children:x})),W.jsxs(O,{...R,children:[_,x]})});function _I(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function xH(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function I9(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function A_(n,e,t,i,r,s){let a=!1,o=r(n,e,e?t:!1);for(;o;){if(o===n.firstChild){if(a)return!1;a=!0}const l=i?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!I9(o,s)||l)o=r(n,o,t);else return o.focus(),!0}return!1}const Tle=G.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu",...m}=e,v=G.useRef(null),b=G.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});rr(()=>{r&&v.current.focus()},[r]),G.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(C,{direction:M})=>{const O=!v.current.style.width;if(C.clientHeight<v.current.clientHeight&&O){const R=`${T9(Rl(C))}px`;v.current.style[M==="rtl"?"paddingLeft":"paddingRight"]=R,v.current.style.width=`calc(100% + ${R})`}return v.current}}),[]);const A=C=>{const M=v.current,O=C.key;if(C.ctrlKey||C.metaKey||C.altKey){d&&d(C);return}const B=zo(M).activeElement;if(O==="ArrowDown")C.preventDefault(),A_(M,B,c,l,_I);else if(O==="ArrowUp")C.preventDefault(),A_(M,B,c,l,xH);else if(O==="Home")C.preventDefault(),A_(M,null,c,l,_I);else if(O==="End")C.preventDefault(),A_(M,null,c,l,xH);else if(O.length===1){const N=b.current,P=O.toLowerCase(),I=performance.now();N.keys.length>0&&(I-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&P!==N.keys[0]&&(N.repeating=!1)),N.lastTime=I,N.keys.push(P);const F=B&&!N.repeating&&I9(B,N);N.previousKeyMatched&&(F||A_(M,B,!1,l,_I,N))?C.preventDefault():N.previousKeyMatched=!1}d&&d(C)},_=hr(v,t);let x=-1;G.Children.forEach(a,(C,M)=>{if(!G.isValidElement(C)){x===M&&(x+=1,x>=a.length&&(x=-1));return}C.props.disabled||(h==="selectedMenu"&&C.props.selected||x===-1)&&(x=M),x===M&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const T=G.Children.map(a,(C,M)=>{if(M===x){const O={};return s&&(O.autoFocus=!0),C.props.tabIndex===void 0&&h==="selectedMenu"&&(O.tabIndex=0),G.cloneElement(C,O)}return C});return W.jsx(V1,{role:"menu",ref:_,className:o,onKeyDown:A,tabIndex:r?0:-1,...m,children:T})});function Mle(n){return en("MuiPopover",n)}Xt("MuiPopover",["root","paper"]);function SH(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function AH(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function EH(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function mC(n){return typeof n=="function"?n():n}const wle=n=>{const{classes:e}=n;return Jt({root:["root"],paper:["paper"]},Mle,e)},Rle=lt(PB,{name:"MuiPopover",slot:"Root"})({}),O9=lt(Jd,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dle=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:c,className:d,container:h,elevation:m=8,marginThreshold:v=16,open:b,PaperProps:A={},slots:_={},slotProps:x={},transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:M="auto",TransitionProps:O={},disableScrollLock:R=!1,...B}=i,N=G.useRef(),P={...i,anchorOrigin:a,anchorReference:l,elevation:m,marginThreshold:v,transformOrigin:T,TransitionComponent:C,transitionDuration:M,TransitionProps:O},I=wle(P),F=G.useCallback(()=>{if(l==="anchorPosition")return o;const ee=mC(s),ue=(ee&&ee.nodeType===1?ee:zo(N.current).body).getBoundingClientRect();return{top:ue.top+SH(ue,a.vertical),left:ue.left+AH(ue,a.horizontal)}},[s,a.horizontal,a.vertical,o,l]),U=G.useCallback(ee=>({vertical:SH(ee,T.vertical),horizontal:AH(ee,T.horizontal)}),[T.horizontal,T.vertical]),j=G.useCallback(ee=>{const oe={width:ee.offsetWidth,height:ee.offsetHeight},ue=U(oe);if(l==="none")return{top:null,left:null,transformOrigin:EH(ue)};const _e=F();let Q=_e.top-ue.vertical,Oe=_e.left-ue.horizontal;const we=Q+oe.height,ke=Oe+oe.width,Ce=Rl(mC(s)),ut=Ce.innerHeight-v,De=Ce.innerWidth-v;if(v!==null&&Q<v){const ie=Q-v;Q-=ie,ue.vertical+=ie}else if(v!==null&&we>ut){const ie=we-ut;Q-=ie,ue.vertical+=ie}if(v!==null&&Oe<v){const ie=Oe-v;Oe-=ie,ue.horizontal+=ie}else if(ke>De){const ie=ke-De;Oe-=ie,ue.horizontal+=ie}return{top:`${Math.round(Q)}px`,left:`${Math.round(Oe)}px`,transformOrigin:EH(ue)}},[s,l,F,U,v]),[q,Z]=G.useState(b),H=G.useCallback(()=>{const ee=N.current;if(!ee)return;const oe=j(ee);oe.top!==null&&ee.style.setProperty("top",oe.top),oe.left!==null&&(ee.style.left=oe.left),ee.style.transformOrigin=oe.transformOrigin,Z(!0)},[j]);G.useEffect(()=>(R&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[s,R,H]);const Y=()=>{H()},X=()=>{Z(!1)};G.useEffect(()=>{b&&H()}),G.useImperativeHandle(r,()=>b?{updatePosition:()=>{H()}}:null,[b,H]),G.useEffect(()=>{if(!b)return;const ee=yB(()=>{H()}),oe=Rl(mC(s));return oe.addEventListener("resize",ee),()=>{ee.clear(),oe.removeEventListener("resize",ee)}},[s,b,H]);let ne=M;const K={slots:{transition:C,..._},slotProps:{transition:O,paper:A,...x}},[ae,ye]=Qn("transition",{elementType:uP,externalForwardedProps:K,ownerState:P,getSlotProps:ee=>({...ee,onEntering:(oe,ue)=>{var _e;(_e=ee.onEntering)==null||_e.call(ee,oe,ue),Y()},onExited:oe=>{var ue;(ue=ee.onExited)==null||ue.call(ee,oe),X()}}),additionalProps:{appear:!0,in:b}});M==="auto"&&!ae.muiSupportAuto&&(ne=void 0);const Se=h||(s?zo(mC(s)).body:void 0),[de,{slots:xe,slotProps:pe,...He}]=Qn("root",{ref:t,elementType:Rle,externalForwardedProps:{...K,...B},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:_.backdrop},slotProps:{backdrop:a9(typeof x.backdrop=="function"?x.backdrop(P):x.backdrop,{invisible:!0})},container:Se,open:b},ownerState:P,className:Nt(I.root,d)}),[ve,V]=Qn("paper",{ref:N,className:I.paper,elementType:O9,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:q?void 0:{opacity:0}},ownerState:P});return W.jsx(de,{...He,...!zv(de)&&{slots:xe,slotProps:pe,disableScrollLock:R},children:W.jsx(ae,{...ye,timeout:ne,children:W.jsx(ve,{...V,children:c})})})});function Ile(n){return en("MuiMenu",n)}Xt("MuiMenu",["root","paper","list"]);const Ole={vertical:"top",horizontal:"right"},Ple={vertical:"top",horizontal:"left"},Nle=n=>{const{classes:e}=n;return Jt({root:["root"],paper:["paper"],list:["list"]},Ile,e)},Ble=lt(Dle,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),Lle=lt(O9,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ule=lt(Tle,{name:"MuiMenu",slot:"List"})({outline:0}),kle=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:c,open:d,PaperProps:h={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:b,...A}={},variant:_="selectedMenu",slots:x={},slotProps:T={},...C}=i,M=fg(),O={...i,autoFocus:r,disableAutoFocusItem:o,MenuListProps:l,onEntering:b,PaperProps:h,transitionDuration:v,TransitionProps:A,variant:_},R=Nle(O),B=r&&!o&&d,N=G.useRef(null),P=(ne,K)=>{N.current&&N.current.adjustStyleForScrollbar(ne,{direction:M?"rtl":"ltr"}),b&&b(ne,K)},I=ne=>{ne.key==="Tab"&&(ne.preventDefault(),c&&c(ne,"tabKeyDown"))};let F=-1;G.Children.map(s,(ne,K)=>{G.isValidElement(ne)&&(ne.props.disabled||(_==="selectedMenu"&&ne.props.selected||F===-1)&&(F=K))});const U={slots:x,slotProps:{list:l,transition:A,paper:h,...T}},j=Iu({elementType:x.root,externalSlotProps:T.root,ownerState:O,className:[R.root,a]}),[q,Z]=Qn("paper",{className:R.paper,elementType:Lle,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:O}),[H,Y]=Qn("list",{className:Nt(R.list,l.className),elementType:Ule,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:ne=>({...ne,onKeyDown:K=>{var ae;I(K),(ae=ne.onKeyDown)==null||ae.call(ne,K)}}),ownerState:O}),X=typeof U.slotProps.transition=="function"?U.slotProps.transition(O):U.slotProps.transition;return W.jsx(Ble,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Ole:Ple,slots:{root:x.root,paper:q,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:j,paper:Z,backdrop:typeof T.backdrop=="function"?T.backdrop(O):T.backdrop,transition:{...X,onEntering:(...ne)=>{var K;P(...ne),(K=X==null?void 0:X.onEntering)==null||K.call(X,...ne)}}},open:d,ref:t,transitionDuration:v,ownerState:O,...C,classes:m,children:W.jsx(H,{actions:N,autoFocus:r&&(F===-1||o),autoFocusItem:B,variant:_,...Y,children:s})})});function Fle(n){return en("MuiNativeSelect",n)}const LB=Xt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Hle=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${bt(t)}`,s&&"iconOpen",i&&"disabled"]};return Jt(o,Fle,e)},P9=lt("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${LB.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),zle=lt(P9,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:po,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${LB.multiple}`]:e.multiple}]}})({}),N9=lt("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${LB.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Gle=lt(N9,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${bt(t.variant)}`],t.open&&e.iconOpen]}})({}),Vle=G.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:a,inputRef:o,variant:l="standard",...c}=e,d={...e,disabled:r,variant:l,error:s},h=Hle(d);return W.jsxs(G.Fragment,{children:[W.jsx(zle,{ownerState:d,className:Nt(h.select,i),disabled:r,ref:o||t,...c}),e.multiple?null:W.jsx(Gle,{as:a,ownerState:d,className:h.icon})]})});function jle(n){const{children:e,defer:t=!1,fallback:i=null}=n,[r,s]=G.useState(!1);return rr(()=>{t||s(!0)},[t]),G.useEffect(()=>{t&&s(!0)},[t]),r?e:i}var CH;const Wle=lt("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:po})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Yle=lt("legend",{name:"MuiNotchedOutlined",shouldForwardProp:po})(Tn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function Xle(n){const{children:e,classes:t,className:i,label:r,notched:s,...a}=n,o=r!=null&&r!=="",l={...n,notched:s,withLabel:o};return W.jsx(Wle,{"aria-hidden":!0,className:i,ownerState:l,...a,children:W.jsx(Yle,{ownerState:l,children:o?W.jsx("span",{children:r}):CH||(CH=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const qle=n=>{const{classes:e}=n,i=Jt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},nae,e);return{...e,...i}},$le=lt(Nw,{shouldForwardProp:n=>po(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ow})(Tn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${vl.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${vl.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${vl.focused} .${vl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{[`&.${vl.focused} .${vl.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${vl.error} .${vl.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${vl.disabled} .${vl.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),Kle=lt(Xle,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Tn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),Jle=lt(Bw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Pw})(Tn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),UB=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:l=!1,notched:c,slots:d={},slotProps:h={},type:m="text",...v}=i,b=qle(i),A=I0(),_=D0({props:i,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:A,fullWidth:s,hiddenLabel:_.hiddenLabel,multiline:l,size:_.size,type:m},T=d.root??r.Root??$le,C=d.input??r.Input??Jle,[M,O]=Qn("notchedOutline",{elementType:Kle,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:d,slotProps:h},additionalProps:{label:o!=null&&o!==""&&_.required?W.jsxs(G.Fragment,{children:[o,"","*"]}):o}});return W.jsx(OB,{slots:{root:T,input:C},slotProps:h,renderSuffix:R=>W.jsx(M,{...O,notched:typeof c<"u"?c:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:s,inputComponent:a,multiline:l,ref:t,type:m,...v,classes:{...b,notchedOutline:null}})});UB.muiName="Input";function B9(n){return en("MuiSelect",n)}const E_=Xt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var TH;const Qle=lt(P9,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${E_.select}`]:e.select},{[`&.${E_.select}`]:e[t.variant]},{[`&.${E_.error}`]:e.error},{[`&.${E_.multiple}`]:e.multiple}]}})({[`&.${E_.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Zle=lt(N9,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${bt(t.variant)}`],t.open&&e.iconOpen]}})({}),ece=lt("input",{shouldForwardProp:n=>s9(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function MH(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function tce(n){return n==null||typeof n=="string"&&!n.trim()}const nce=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${bt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Jt(o,B9,e)},ice=G.forwardRef(function(e,t){var yt,ge,Xe,gt;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:o,className:l,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:m,error:v=!1,IconComponent:b,inputRef:A,labelId:_,MenuProps:x={},multiple:T,name:C,onBlur:M,onChange:O,onClose:R,onFocus:B,onOpen:N,open:P,readOnly:I,renderValue:F,required:U,SelectDisplayProps:j={},tabIndex:q,type:Z,value:H,variant:Y="standard",...X}=e,[ne,K]=ax({controlled:H,default:d,name:"Select"}),[ae,ye]=ax({controlled:P,default:c,name:"Select"}),Se=G.useRef(null),de=G.useRef(null),[xe,pe]=G.useState(null),{current:He}=G.useRef(P!=null),[ve,V]=G.useState(),ee=hr(t,A),oe=G.useCallback(ce=>{de.current=ce,ce&&pe(ce)},[]),ue=xe==null?void 0:xe.parentNode;G.useImperativeHandle(ee,()=>({focus:()=>{de.current.focus()},node:Se.current,value:ne}),[ne]),G.useEffect(()=>{c&&ae&&xe&&!He&&(V(a?null:ue.clientWidth),de.current.focus())},[xe,a]),G.useEffect(()=>{s&&de.current.focus()},[s]),G.useEffect(()=>{if(!_)return;const ce=zo(de.current).getElementById(_);if(ce){const et=()=>{getSelection().isCollapsed&&de.current.focus()};return ce.addEventListener("click",et),()=>{ce.removeEventListener("click",et)}}},[_]);const _e=(ce,et)=>{ce?N&&N(et):R&&R(et),He||(V(a?null:ue.clientWidth),ye(ce))},Q=ce=>{ce.button===0&&(ce.preventDefault(),de.current.focus(),_e(!0,ce))},Oe=ce=>{_e(!1,ce)},we=G.Children.toArray(o),ke=ce=>{const et=we.find(Pe=>Pe.props.value===ce.target.value);et!==void 0&&(K(et.props.value),O&&O(ce,et))},Ce=ce=>et=>{let Pe;if(et.currentTarget.hasAttribute("tabindex")){if(T){Pe=Array.isArray(ne)?ne.slice():[];const $e=ne.indexOf(ce.props.value);$e===-1?Pe.push(ce.props.value):Pe.splice($e,1)}else Pe=ce.props.value;if(ce.props.onClick&&ce.props.onClick(et),ne!==Pe&&(K(Pe),O)){const $e=et.nativeEvent||et,vt=new $e.constructor($e.type,$e);Object.defineProperty(vt,"target",{writable:!0,value:{value:Pe,name:C}}),O(vt,ce)}T||_e(!1,et)}},ut=ce=>{I||[" ","ArrowUp","ArrowDown","Enter"].includes(ce.key)&&(ce.preventDefault(),_e(!0,ce))},De=xe!==null&&ae,ie=ce=>{!De&&M&&(Object.defineProperty(ce,"target",{writable:!0,value:{value:ne,name:C}}),M(ce))};delete X["aria-invalid"];let $,Ae;const Le=[];let Qe=!1;(vT({value:ne})||m)&&(F?$=F(ne):Qe=!0);const ze=we.map(ce=>{if(!G.isValidElement(ce))return null;let et;if(T){if(!Array.isArray(ne))throw new Error(Nd(2));et=ne.some(Pe=>MH(Pe,ce.props.value)),et&&Qe&&Le.push(ce.props.children)}else et=MH(ne,ce.props.value),et&&Qe&&(Ae=ce.props.children);return G.cloneElement(ce,{"aria-selected":et?"true":"false",onClick:Ce(ce),onKeyUp:Pe=>{Pe.key===" "&&Pe.preventDefault(),ce.props.onKeyUp&&ce.props.onKeyUp(Pe)},role:"option",selected:et,value:void 0,"data-value":ce.props.value})});Qe&&(T?Le.length===0?$=null:$=Le.reduce((ce,et,Pe)=>(ce.push(et),Pe<Le.length-1&&ce.push(", "),ce),[]):$=Ae);let ft=ve;!a&&He&&xe&&(ft=ue.clientWidth);let ct;typeof q<"u"?ct=q:ct=h?null:0;const Et=j.id||(C?`mui-component-select-${C}`:void 0),Ct={...e,variant:Y,value:ne,open:De,error:v},je=nce(Ct),ht={...x.PaperProps,...typeof((yt=x.slotProps)==null?void 0:yt.paper)=="function"?x.slotProps.paper(Ct):(ge=x.slotProps)==null?void 0:ge.paper},Dt={...x.MenuListProps,...typeof((Xe=x.slotProps)==null?void 0:Xe.list)=="function"?x.slotProps.list(Ct):(gt=x.slotProps)==null?void 0:gt.list},wt=Wh();return W.jsxs(G.Fragment,{children:[W.jsx(Qle,{as:"div",ref:oe,tabIndex:ct,role:"combobox","aria-controls":De?wt:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":De?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[_,Et].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":U?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ut,onMouseDown:h||I?null:Q,onBlur:ie,onFocus:B,...j,ownerState:Ct,className:Nt(j.className,je.select,l),id:Et,children:tce($)?TH||(TH=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):$}),W.jsx(ece,{"aria-invalid":v,value:Array.isArray(ne)?ne.join(","):ne,name:C,ref:Se,"aria-hidden":!0,onChange:ke,tabIndex:-1,disabled:h,className:je.nativeInput,autoFocus:s,required:U,...X,ownerState:Ct}),W.jsx(Zle,{as:b,className:je.icon,ownerState:Ct}),W.jsx(kle,{id:`menu-${C||""}`,anchorEl:ue,open:De,onClose:Oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":_,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:wt,...Dt},paper:{...ht,style:{minWidth:ft,...ht!=null?ht.style:null}}},children:ze})]})}),rce=n=>{const{classes:e}=n,i=Jt({root:["root"]},B9,e);return{...e,...i}},kB={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>po(n)&&n!=="variant"},sce=lt(BB,kB)(""),ace=lt(UB,kB)(""),oce=lt(NB,kB)(""),L9=G.forwardRef(function(e,t){const i=Rn({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=A9,id:h,input:m,inputProps:v,label:b,labelId:A,MenuProps:_,multiple:x=!1,native:T=!1,onClose:C,onOpen:M,open:O,renderValue:R,SelectDisplayProps:B,variant:N="outlined",...P}=i,I=T?Vle:ice,F=I0(),U=D0({props:i,muiFormControl:F,states:["variant","error"]}),j=U.variant||N,q={...i,variant:j,classes:a},Z=rce(q),{root:H,...Y}=Z,X=m||{standard:W.jsx(sce,{ownerState:q}),outlined:W.jsx(ace,{label:b,ownerState:q}),filled:W.jsx(oce,{ownerState:q})}[j],ne=hr(t,R0(X));return W.jsx(G.Fragment,{children:G.cloneElement(X,{inputComponent:I,inputProps:{children:s,error:U.error,IconComponent:d,variant:j,type:void 0,multiple:x,...T?{id:h}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:A,MenuProps:_,onClose:C,onOpen:M,open:O,renderValue:R,SelectDisplayProps:{id:h,...B}},...v,classes:v?ua(Y,v.classes):Y,...m?m.props.inputProps:{}},...(x&&T||c)&&j==="outlined"?{notched:!0}:{},ref:ne,className:Nt(X.props.className,o,Z.root),...!m&&{variant:j},...P})})});L9.muiName="Select";function lce(n){return en("MuiTextField",n)}Xt("MuiTextField",["root"]);const cce={standard:BB,filled:NB,outlined:UB},uce=n=>{const{classes:e}=n;return Jt({root:["root"]},lce,e)},dce=lt(zoe,{name:"MuiTextField",slot:"Root"})({}),xu=G.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:c,disabled:d=!1,error:h=!1,FormHelperTextProps:m,fullWidth:v=!1,helperText:b,id:A,InputLabelProps:_,inputProps:x,InputProps:T,inputRef:C,label:M,maxRows:O,minRows:R,multiline:B=!1,name:N,onBlur:P,onChange:I,onFocus:F,placeholder:U,required:j=!1,rows:q,select:Z=!1,SelectProps:H,slots:Y={},slotProps:X={},type:ne,value:K,variant:ae="outlined",...ye}=i,Se={...i,autoFocus:s,color:l,disabled:d,error:h,fullWidth:v,multiline:B,required:j,select:Z,variant:ae},de=uce(Se),xe=Wh(A),pe=b&&xe?`${xe}-helper-text`:void 0,He=M&&xe?`${xe}-label`:void 0,ve=cce[ae],V={slots:Y,slotProps:{input:T,inputLabel:_,htmlInput:x,formHelperText:m,select:H,...X}},ee={},oe=V.slotProps.inputLabel;ae==="outlined"&&(oe&&typeof oe.shrink<"u"&&(ee.notched=oe.shrink),ee.label=M),Z&&((!H||!H.native)&&(ee.id=void 0),ee["aria-describedby"]=void 0);const[ue,_e]=Qn("root",{elementType:dce,shouldForwardComponentProp:!0,externalForwardedProps:{...V,...ye},ownerState:Se,className:Nt(de.root,o),ref:t,additionalProps:{disabled:d,error:h,fullWidth:v,required:j,color:l,variant:ae}}),[Q,Oe]=Qn("input",{elementType:ve,externalForwardedProps:V,additionalProps:ee,ownerState:Se}),[we,ke]=Qn("inputLabel",{elementType:rle,externalForwardedProps:V,ownerState:Se}),[Ce,ut]=Qn("htmlInput",{elementType:"input",externalForwardedProps:V,ownerState:Se}),[De,ie]=Qn("formHelperText",{elementType:Woe,externalForwardedProps:V,ownerState:Se}),[$,Ae]=Qn("select",{elementType:L9,externalForwardedProps:V,ownerState:Se}),Le=W.jsx(Q,{"aria-describedby":pe,autoComplete:r,autoFocus:s,defaultValue:c,fullWidth:v,multiline:B,name:N,rows:q,maxRows:O,minRows:R,type:ne,value:K,id:xe,inputRef:C,onBlur:P,onChange:I,onFocus:F,placeholder:U,inputProps:ut,slots:{input:Y.htmlInput?Ce:void 0},...Oe});return W.jsxs(ue,{..._e,children:[M!=null&&M!==""&&W.jsx(we,{htmlFor:xe,id:He,...ke,children:M}),Z?W.jsx($,{"aria-describedby":pe,id:xe,labelId:He,value:K,input:Le,...Ae,children:a}):Le,b&&W.jsx(De,{id:pe,...ie,children:b})]})}),U9=K8({themeId:M0}),fce=()=>{};var wH={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=function(n,e){if(!n)throw O0(e)},O0=function(n){return new Error("Firebase Database ("+k9.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},hce=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},FB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,d=s>>2,h=(s&3)<<4|o>>4;let m=(o&15)<<2|c>>6,v=c&63;l||(v=64,a||(m=64)),i.push(t[d],t[h],t[m],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(F9(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hce(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||c==null||h==null)throw new pce;const m=s<<2|o>>4;if(i.push(m),c!==64){const v=o<<4&240|c>>2;if(i.push(v),h!==64){const b=c<<6&192|h;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H9=function(n){const e=F9(n);return FB.encodeByteArray(e,!0)},bT=function(n){return H9(n).replace(/\./g,"")},_T=function(n){try{return FB.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(n){return z9(void 0,n)}function z9(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!gce(t)||(n[t]=z9(n[t],e[t]));return n}function gce(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vce=()=>yce().__FIREBASE_DEFAULTS__,bce=()=>{if(typeof process>"u"||typeof wH>"u")return;const n=wH.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_ce=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_T(n[1]);return e&&JSON.parse(e)},HB=()=>{try{return fce()||vce()||bce()||_ce()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},G9=n=>{var e,t;return(t=(e=HB())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xce=n=>{const e=G9(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},V9=()=>{var n;return(n=HB())===null||n===void 0?void 0:n.config},j9=n=>{var e;return(e=HB())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n){return n.endsWith(".cloudworkstations.dev")}async function W9(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bT(JSON.stringify(t)),bT(JSON.stringify(a)),""].join(".")}const dx={};function Ace(){const n={prod:[],emulator:[]};for(const e of Object.keys(dx))dx[e]?n.emulator.push(e):n.prod.push(e);return n}function Ece(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let RH=!1;function Y9(n,e){if(typeof window>"u"||typeof document>"u"||!P0(window.location.host)||dx[n]===e||dx[n]||RH)return;dx[n]=e;function t(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=Ace().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{RH=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=Ece(i),v=t("text"),b=document.getElementById(v)||document.createElement("span"),A=t("learnmore"),_=document.getElementById(A)||document.createElement("a"),x=t("preprendIcon"),T=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const C=m.element;o(C),d(_,A);const M=c();l(T,x),C.append(T,b,_,M),document.body.appendChild(C)}s?(b.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(La())}function Cce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tce(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function X9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mce(){const n=La();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wce(){return k9.NODE_ADMIN===!0}function Rce(){try{return typeof indexedDB=="object"}catch{return!1}}function Dce(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice="FirebaseError";class Xh extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Ice,Object.setPrototypeOf(this,Xh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jS.prototype.create)}}class jS{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?Oce(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Xh(r,o,i)}}function Oce(n,e){return n.replace(Pce,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Pce=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){return JSON.parse(n)}function as(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=$x(_T(s[0])||""),t=$x(_T(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}},Nce=function(n){const e=q9(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Bce=function(n){const e=q9(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qv(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function dP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xT(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Km(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(DH(s)&&DH(a)){if(!Km(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function DH(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)i[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const m=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=o^s&(a^o),d=1518500249):(c=s^a^o,d=1859775393):h<60?(c=s&a|o&(s|a),d=2400959708):(c=s^a^o,d=3395469782);const m=(r<<5|r>>>27)+c+l+d+i[h]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let a=this.inbuf_;for(;r<t;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(s[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}else for(;r<t;)if(s[a]=e[r],++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function Uce(n,e){const t=new kce(n,e);return t.subscribe.bind(t)}class kce{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Fce(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=xI),r.error===void 0&&(r.error=xI),r.complete===void 0&&(r.complete=xI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fce(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xI(){}function GB(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,At(i<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(i)-56320;r=65536+(s<<10)+a}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Uw=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){return n&&n._delegate?n._delegate:n}class Jm{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zce=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Lw;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vce(e))try{this.getOrInitializeService({instanceIdentifier:fm})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fm){return this.instances.has(e)}getOptions(e=fm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Gce(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fm){return this.component?this.component.multipleInstances?e:fm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Gce(n){return n===fm?void 0:n}function Vce(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ni||(Ni={}));const Wce={debug:Ni.DEBUG,verbose:Ni.VERBOSE,info:Ni.INFO,warn:Ni.WARN,error:Ni.ERROR,silent:Ni.SILENT},Yce=Ni.INFO,Xce={[Ni.DEBUG]:"log",[Ni.VERBOSE]:"log",[Ni.INFO]:"info",[Ni.WARN]:"warn",[Ni.ERROR]:"error"},qce=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Xce[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class VB{constructor(e){this.name=e,this._logLevel=Yce,this._logHandler=qce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ni))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ni.DEBUG,...e),this._logHandler(this,Ni.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ni.VERBOSE,...e),this._logHandler(this,Ni.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ni.INFO,...e),this._logHandler(this,Ni.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ni.WARN,...e),this._logHandler(this,Ni.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ni.ERROR,...e),this._logHandler(this,Ni.ERROR,...e)}}const $ce=(n,e)=>e.some(t=>n instanceof t);let IH,OH;function Kce(){return IH||(IH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jce(){return OH||(OH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $9=new WeakMap,fP=new WeakMap,K9=new WeakMap,SI=new WeakMap,jB=new WeakMap;function Qce(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ah(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&$9.set(t,n)}).catch(()=>{}),jB.set(e,n),e}function Zce(n){if(fP.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});fP.set(n,e)}let hP={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fP.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K9.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ah(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eue(n){hP=n(hP)}function tue(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(AI(this),e,...t);return K9.set(i,e.sort?e.sort():[e]),Ah(i)}:Jce().includes(n)?function(...e){return n.apply(AI(this),e),Ah($9.get(this))}:function(...e){return Ah(n.apply(AI(this),e))}}function nue(n){return typeof n=="function"?tue(n):(n instanceof IDBTransaction&&Zce(n),$ce(n,Kce())?new Proxy(n,hP):n)}function Ah(n){if(n instanceof IDBRequest)return Qce(n);if(SI.has(n))return SI.get(n);const e=nue(n);return e!==n&&(SI.set(n,e),jB.set(e,n)),e}const AI=n=>jB.get(n);function iue(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Ah(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Ah(a.result),l.oldVersion,l.newVersion,Ah(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const rue=["get","getKey","getAll","getAllKeys","count"],sue=["put","add","delete","clear"],EI=new Map;function PH(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(EI.get(e))return EI.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=sue.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rue.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),r&&l.done]))[0]};return EI.set(e,s),s}eue(n=>({...n,get:(e,t,i)=>PH(e,t)||n.get(e,t,i),has:(e,t)=>!!PH(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oue(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function oue(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pP="@firebase/app",NH="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new VB("@firebase/app"),lue="@firebase/app-compat",cue="@firebase/analytics-compat",uue="@firebase/analytics",due="@firebase/app-check-compat",fue="@firebase/app-check",hue="@firebase/auth",pue="@firebase/auth-compat",mue="@firebase/database",gue="@firebase/data-connect",yue="@firebase/database-compat",vue="@firebase/functions",bue="@firebase/functions-compat",_ue="@firebase/installations",xue="@firebase/installations-compat",Sue="@firebase/messaging",Aue="@firebase/messaging-compat",Eue="@firebase/performance",Cue="@firebase/performance-compat",Tue="@firebase/remote-config",Mue="@firebase/remote-config-compat",wue="@firebase/storage",Rue="@firebase/storage-compat",Due="@firebase/firestore",Iue="@firebase/ai",Oue="@firebase/firestore-compat",Pue="firebase",Nue="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="[DEFAULT]",Bue={[pP]:"fire-core",[lue]:"fire-core-compat",[uue]:"fire-analytics",[cue]:"fire-analytics-compat",[fue]:"fire-app-check",[due]:"fire-app-check-compat",[hue]:"fire-auth",[pue]:"fire-auth-compat",[mue]:"fire-rtdb",[gue]:"fire-data-connect",[yue]:"fire-rtdb-compat",[vue]:"fire-fn",[bue]:"fire-fn-compat",[_ue]:"fire-iid",[xue]:"fire-iid-compat",[Sue]:"fire-fcm",[Aue]:"fire-fcm-compat",[Eue]:"fire-perf",[Cue]:"fire-perf-compat",[Tue]:"fire-rc",[Mue]:"fire-rc-compat",[wue]:"fire-gcs",[Rue]:"fire-gcs-compat",[Due]:"fire-fst",[Oue]:"fire-fst-compat",[Iue]:"fire-vertex","fire-js":"fire-js",[Pue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map,Lue=new Map,gP=new Map;function BH(n,e){try{n.container.addComponent(e)}catch(t){Ud.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $v(n){const e=n.name;if(gP.has(e))return Ud.debug(`There were multiple attempts to register component ${e}.`),!1;gP.set(e,n);for(const t of ST.values())BH(t,n);for(const t of Lue.values())BH(t,n);return!0}function WB(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yc(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eh=new jS("app","Firebase",Uue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Jm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=Nue;function J9(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mP,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Eh.create("bad-app-name",{appName:String(r)});if(t||(t=V9()),!t)throw Eh.create("no-options");const s=ST.get(r);if(s){if(Km(t,s.options)&&Km(i,s.config))return s;throw Eh.create("duplicate-app",{appName:r})}const a=new jce(r);for(const l of gP.values())a.addComponent(l);const o=new kue(t,i,a);return ST.set(r,o),o}function Q9(n=mP){const e=ST.get(n);if(!e&&n===mP&&V9())return J9();if(!e)throw Eh.create("no-app",{appName:n});return e}function Ch(n,e,t){var i;let r=(i=Bue[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ud.warn(o.join(" "));return}$v(new Jm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fue="firebase-heartbeat-database",Hue=1,Kx="firebase-heartbeat-store";let CI=null;function Z9(){return CI||(CI=iue(Fue,Hue,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kx)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eh.create("idb-open",{originalErrorMessage:n.message})})),CI}async function zue(n){try{const t=(await Z9()).transaction(Kx),i=await t.objectStore(Kx).get(ej(n));return await t.done,i}catch(e){if(e instanceof Xh)Ud.warn(e.message);else{const t=Eh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ud.warn(t.message)}}}async function LH(n,e){try{const i=(await Z9()).transaction(Kx,"readwrite");await i.objectStore(Kx).put(e,ej(n)),await i.done}catch(t){if(t instanceof Xh)Ud.warn(t.message);else{const i=Eh.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ud.warn(i.message)}}}function ej(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue=1024,Vue=30;class jue{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yue(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UH();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Vue){const a=Xue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ud.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UH(),{heartbeatsToSend:i,unsentEntries:r}=Wue(this._heartbeatsCache.heartbeats),s=bT(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ud.warn(t),""}}}function UH(){return new Date().toISOString().substring(0,10)}function Wue(n,e=Gue){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),kH(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),kH(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Yue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rce()?Dce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zue(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return LH(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return LH(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kH(n){return bT(JSON.stringify({version:2,heartbeats:n})).length}function Xue(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function que(n){$v(new Jm("platform-logger",e=>new aue(e),"PRIVATE")),$v(new Jm("heartbeat",e=>new jue(e),"PRIVATE")),Ch(pP,NH,n),Ch(pP,NH,"esm2017"),Ch("fire-js","")}que("");var $ue="firebase",Kue="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ch($ue,Kue,"app");function YB(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function tj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jue=tj,nj=new jS("auth","Firebase",tj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new VB("@firebase/auth");function Que(n,...e){AT.logLevel<=Ni.WARN&&AT.warn(`Auth (${B0}): ${n}`,...e)}function j1(n,...e){AT.logLevel<=Ni.ERROR&&AT.error(`Auth (${B0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n,...e){throw XB(n,...e)}function Su(n,...e){return XB(n,...e)}function ij(n,e,t){const i=Object.assign(Object.assign({},Jue()),{[e]:t});return new jS("auth","Firebase",i).create(e,{appName:n.name})}function Th(n){return ij(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XB(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return nj.create(n,...e)}function fn(n,e,...t){if(!n)throw XB(e,...t)}function bd(n){const e="INTERNAL ASSERTION FAILED: "+n;throw j1(e),new Error(e)}function Fd(n,e){n||bd(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Zue(){return FH()==="http:"||FH()==="https:"}function FH(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ede(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zue()||Tce()||"connection"in navigator)?navigator.onLine:!0}function tde(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fd(t>e,"Short delay should be less than long delay!"),this.isMobile=zB()||X9()}get(){return ede()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(n,e){Fd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rde=new WS(3e4,6e4);function kw(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function L0(n,e,t,i,r={}){return sj(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=N0(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Cce()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&P0(n.emulatorConfig.host)&&(c.credentials="include"),rj.fetch()(await oj(n,n.config.apiHost,t,o),c)})}async function sj(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},nde),e);try{const r=new sde(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gC(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gC(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw gC(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw gC(n,"user-disabled",a);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ij(n,d,c);kd(n,d)}}catch(r){if(r instanceof Xh)throw r;kd(n,"network-request-failed",{message:String(r)})}}async function aj(n,e,t,i,r={}){const s=await L0(n,e,t,i,r);return"mfaPendingCredential"in s&&kd(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function oj(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?qB(n.config,r):`${n.config.apiScheme}://${r}`;return ide.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class sde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Su(this.auth,"network-request-failed")),rde.get())})}}function gC(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Su(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ade(n,e){return L0(n,"POST","/v1/accounts:delete",e)}async function ET(n,e){return L0(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ode(n,e=!1){const t=Yo(n),i=await t.getIdToken(e),r=$B(i);fn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fx(TI(r.auth_time)),issuedAtTime:fx(TI(r.iat)),expirationTime:fx(TI(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function TI(n){return Number(n)*1e3}function $B(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return j1("JWT malformed, contained fewer than 3 sections"),null;try{const r=_T(t);return r?JSON.parse(r):(j1("Failed to decode base64 JWT payload"),null)}catch(r){return j1("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function HH(n){const e=$B(n);return fn(e,"internal-error"),fn(typeof e.exp<"u","internal-error"),fn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xh&&lde(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function lde({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fx(this.lastLoginAt),this.creationTime=fx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Jx(n,ET(t,{idToken:i}));fn(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lj(s.providerUserInfo):[],o=dde(n.providerData,a),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vP(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function ude(n){const e=Yo(n);await CT(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dde(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function lj(n){return n.map(e=>{var{providerId:t}=e,i=YB(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fde(n,e){const t=await sj(n,{},async()=>{const i=N0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await oj(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return n.emulatorConfig&&P0(n.emulatorConfig.host)&&(l.credentials="include"),rj.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hde(n,e){return L0(n,"POST","/v2/accounts:revokeToken",kw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fn(e.idToken,"internal-error"),fn(typeof e.idToken<"u","internal-error"),fn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fn(e.length!==0,"internal-error");const t=HH(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await fde(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new Tv;return i&&(fn(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(fn(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(fn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tv,this.toJSON())}_performRefresh(){return bd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n,e){fn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xc{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=YB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Jx(this,this.stsTokenManager.getToken(this.auth,e));return fn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ode(this,e)}reload(){return ude(this)}_assign(e){this!==e&&(fn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await CT(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yc(this.auth.app))return Promise.reject(Th(this.auth));const e=await this.getIdToken();return await Jx(this,ade(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,l,c,d;const h=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=t.photoURL)!==null&&a!==void 0?a:void 0,A=(o=t.tenantId)!==null&&o!==void 0?o:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=t.createdAt)!==null&&c!==void 0?c:void 0,T=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:M,isAnonymous:O,providerData:R,stsTokenManager:B}=t;fn(C&&B,e,"internal-error");const N=Tv.fromJSON(this.name,B);fn(typeof C=="string",e,"internal-error"),Zf(h,e.name),Zf(m,e.name),fn(typeof M=="boolean",e,"internal-error"),fn(typeof O=="boolean",e,"internal-error"),Zf(v,e.name),Zf(b,e.name),Zf(A,e.name),Zf(_,e.name),Zf(x,e.name),Zf(T,e.name);const P=new xc({uid:C,auth:e,email:m,emailVerified:M,displayName:h,isAnonymous:O,photoURL:b,phoneNumber:v,tenantId:A,stsTokenManager:N,createdAt:x,lastLoginAt:T});return R&&Array.isArray(R)&&(P.providerData=R.map(I=>Object.assign({},I))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new Tv;r.updateFromServerResponse(t);const s=new xc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await CT(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];fn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?lj(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new Tv;o.updateFromIdToken(i);const l=new xc({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vP(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new Map;function _d(n){Fd(n instanceof Function,"Expected a class definition");let e=zH.get(n);return e?(Fd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zH.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cj.type="NONE";const GH=cj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n,e,t){return`firebase:${n}:${e}:${t}`}class Mv{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=W1(this.userKey,r.apiKey,s),this.fullPersistenceKey=W1("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ET(this.auth,{idToken:e}).catch(()=>{});return t?xc._fromGetAccountInfoResponse(this.auth,t,e):null}return xc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mv(_d(GH),e,i);const r=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||_d(GH);const a=W1(i,e.config.apiKey,e.name);let o=null;for(const c of t)try{const d=await c._get(a);if(d){let h;if(typeof d=="string"){const m=await ET(e,{idToken:d}).catch(()=>{});if(!m)break;h=await xc._fromGetAccountInfoResponse(e,m,d)}else h=xc._fromJSON(e,d);c!==s&&(o=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mv(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Mv(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mj(e))return"Blackberry";if(gj(e))return"Webos";if(dj(e))return"Safari";if((e.includes("chrome/")||fj(e))&&!e.includes("edge/"))return"Chrome";if(pj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function uj(n=La()){return/firefox\//i.test(n)}function dj(n=La()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fj(n=La()){return/crios\//i.test(n)}function hj(n=La()){return/iemobile/i.test(n)}function pj(n=La()){return/android/i.test(n)}function mj(n=La()){return/blackberry/i.test(n)}function gj(n=La()){return/webos/i.test(n)}function KB(n=La()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pde(n=La()){var e;return KB(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mde(){return Mce()&&document.documentMode===10}function yj(n=La()){return KB(n)||pj(n)||gj(n)||mj(n)||/windows phone/i.test(n)||hj(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(n,e=[]){let t;switch(n){case"Browser":t=VH(La());break;case"Worker":t=`${VH(La())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${B0}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yde(n,e={}){return L0(n,"GET","/v2/passwordPolicy",kw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde=6;class bde{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:vde,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jH(this),this.idTokenSubscription=new jH(this),this.beforeStateQueue=new gde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_d(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Mv.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ET(this,{idToken:e}),i=await xc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await CT(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tde()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yc(this.app))return Promise.reject(Th(this));const t=e?Yo(e):null;return t&&fn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yc(this.app)?Promise.reject(Th(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yc(this.app)?Promise.reject(Th(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_d(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yde(this),t=new bde(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jS("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hde(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_d(e)||this._popupRedirectResolver;fn(t,this,"argument-error"),this.redirectPersistenceManager=await Mv.create(this,[_d(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(fn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(yc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Que(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fw(n){return Yo(n)}class jH{constructor(e){this.auth=e,this.observer=null,this.addObserver=Uce(t=>this.observer=t)}get next(){return fn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JB={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xde(n){JB=n}function Sde(n){return JB.loadJS(n)}function Ade(){return JB.gapiScript}function Ede(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cde(n,e){const t=WB(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Km(s,e??{}))return r;kd(r,"already-initialized")}return t.initialize({options:e})}function Tde(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(_d);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Mde(n,e,t){const i=Fw(n);fn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=bj(e),{host:a,port:o}=wde(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){fn(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),fn(Km(c,i.config.emulator)&&Km(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,P0(a)?(W9(`${s}//${a}${l}`),Y9("Auth",!0)):Rde()}function bj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wde(n){const e=bj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:WH(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:WH(a)}}}function WH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Rde(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bd("not implemented")}_getIdTokenResponse(e){return bd("not implemented")}_linkToIdToken(e,t){return bd("not implemented")}_getReauthenticationResolver(e){return bd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(n,e){return aj(n,"POST","/v1/accounts:signInWithIdp",kw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde="http://localhost";class Qm extends _j{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kd("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=YB(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Qm(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return wv(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wv(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wv(e,t)}buildRequest(){const e={requestUri:Dde,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=N0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends xj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends YS{constructor(){super("facebook.com")}static credential(e){return Qm._fromParams({providerId:fh.PROVIDER_ID,signInMethod:fh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fh.credentialFromTaggedObject(e)}static credentialFromError(e){return fh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fh.credential(e.oauthAccessToken)}catch{return null}}}fh.FACEBOOK_SIGN_IN_METHOD="facebook.com";fh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends YS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qm._fromParams({providerId:hh.PROVIDER_ID,signInMethod:hh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hh.credentialFromTaggedObject(e)}static credentialFromError(e){return hh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return hh.credential(t,i)}catch{return null}}}hh.GOOGLE_SIGN_IN_METHOD="google.com";hh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends YS{constructor(){super("github.com")}static credential(e){return Qm._fromParams({providerId:ph.PROVIDER_ID,signInMethod:ph.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ph.credentialFromTaggedObject(e)}static credentialFromError(e){return ph.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ph.credential(e.oauthAccessToken)}catch{return null}}}ph.GITHUB_SIGN_IN_METHOD="github.com";ph.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends YS{constructor(){super("twitter.com")}static credential(e,t){return Qm._fromParams({providerId:mh.PROVIDER_ID,signInMethod:mh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mh.credentialFromTaggedObject(e)}static credentialFromError(e){return mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return mh.credential(t,i)}catch{return null}}}mh.TWITTER_SIGN_IN_METHOD="twitter.com";mh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ide(n,e){return aj(n,"POST","/v1/accounts:signUp",kw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await xc._fromIdTokenResponse(e,i,r),a=YH(i);return new Ph({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=YH(i);return new Ph({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function YH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ode(n){var e;if(yc(n.app))return Promise.reject(Th(n));const t=Fw(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ph({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Ide(t,{returnSecureToken:!0}),r=await Ph._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Xh{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,TT.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new TT(e,t,i,r)}}function Sj(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?TT._fromErrorAndOperation(n,s,e,i):s})}async function Pde(n,e,t=!1){const i=await Jx(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ph._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nde(n,e,t=!1){const{auth:i}=n;if(yc(i.app))return Promise.reject(Th(i));const r="reauthenticate";try{const s=await Jx(n,Sj(i,r,e,n),t);fn(s.idToken,i,"internal-error");const a=$B(s.idToken);fn(a,i,"internal-error");const{sub:o}=a;return fn(n.uid===o,i,"user-mismatch"),Ph._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kd(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bde(n,e,t=!1){if(yc(n.app))return Promise.reject(Th(n));const i="signIn",r=await Sj(n,i,e),s=await Ph._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function Lde(n,e,t,i){return Yo(n).onIdTokenChanged(e,t,i)}function Ude(n,e,t){return Yo(n).beforeAuthStateChanged(e,t)}function kde(n){return Yo(n).signOut()}const MT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(MT,"1"),this.storage.removeItem(MT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fde=1e3,Hde=10;class Ej extends Aj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);mde()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Hde):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Fde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ej.type="LOCAL";const zde=Ej;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj extends Aj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Cj.type="SESSION";const Tj=Cj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gde(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Hw(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async c=>c(t.origin,s)),l=await Gde(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=QB("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(){return window}function jde(n){Au().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof Au().WorkerGlobalScope<"u"&&typeof Au().importScripts=="function"}async function Wde(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yde(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xde(){return Mj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="firebaseLocalStorageDb",qde=1,wT="firebaseLocalStorage",Rj="fbase_key";class XS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zw(n,e){return n.transaction([wT],e?"readwrite":"readonly").objectStore(wT)}function $de(){const n=indexedDB.deleteDatabase(wj);return new XS(n).toPromise()}function bP(){const n=indexedDB.open(wj,qde);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wT,{keyPath:Rj})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wT)?e(i):(i.close(),await $de(),e(await bP()))})})}async function XH(n,e,t){const i=zw(n,!0).put({[Rj]:e,value:t});return new XS(i).toPromise()}async function Kde(n,e){const t=zw(n,!1).get(e),i=await new XS(t).toPromise();return i===void 0?null:i.value}function qH(n,e){const t=zw(n,!0).delete(e);return new XS(t).toPromise()}const Jde=800,Qde=3;class Dj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bP(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Qde)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hw._getInstance(Xde()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Wde(),!this.activeServiceWorker)return;this.sender=new Vde(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bP();return await XH(e,MT,"1"),await qH(e,MT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>XH(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Kde(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qH(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=zw(r,!1).getAll();return new XS(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dj.type="LOCAL";const Zde=Dj;new WS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function efe(n,e){return e?_d(e):(fn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB extends _j{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tfe(n){return Bde(n.auth,new ZB(n),n.bypassAuthState)}function nfe(n){const{auth:e,user:t}=n;return fn(t,e,"internal-error"),Nde(t,new ZB(n),n.bypassAuthState)}async function ife(n){const{auth:e,user:t}=n;return fn(t,e,"internal-error"),Pde(t,new ZB(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tfe;case"linkViaPopup":case"linkViaRedirect":return ife;case"reauthViaPopup":case"reauthViaRedirect":return nfe;default:kd(this.auth,"internal-error")}}resolve(e){Fd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rfe=new WS(2e3,1e4);class fv extends Ij{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,fv.currentPopupAction&&fv.currentPopupAction.cancel(),fv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fn(e,this.auth,"internal-error"),e}async onExecution(){Fd(this.filter.length===1,"Popup operations only handle one event");const e=QB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Su(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Su(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Su(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rfe.get())};e()}}fv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sfe="pendingRedirect",Y1=new Map;class afe extends Ij{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Y1.get(this.auth._key());if(!e){try{const i=await ofe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Y1.set(this.auth._key(),e)}return this.bypassAuthState||Y1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ofe(n,e){const t=ufe(e),i=cfe(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function lfe(n,e){Y1.set(n._key(),e)}function cfe(n){return _d(n._redirectPersistence)}function ufe(n){return W1(sfe,n.config.apiKey,n.name)}async function dfe(n,e,t=!1){if(yc(n.app))return Promise.reject(Th(n));const i=Fw(n),r=efe(i,e),a=await new afe(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe=10*60*1e3;class hfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pfe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Oj(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Su(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ffe&&this.cachedEventUids.clear(),this.cachedEventUids.has($H(e))}saveEventToCache(e){this.cachedEventUids.add($H(e)),this.lastProcessedEventTime=Date.now()}}function $H(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Oj({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pfe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oj(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mfe(n,e={}){return L0(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yfe=/^https?/;async function vfe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mfe(n);for(const t of e)try{if(bfe(t))return}catch{}kd(n,"unauthorized-domain")}function bfe(n){const e=yP(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!yfe.test(t))return!1;if(gfe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe=new WS(3e4,6e4);function KH(){const n=Au().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xfe(n){return new Promise((e,t)=>{var i,r,s;function a(){KH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KH(),t(Su(n,"network-request-failed"))},timeout:_fe.get()})}if(!((r=(i=Au().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Au().gapi)===null||s===void 0)&&s.load)a();else{const o=Ede("iframefcb");return Au()[o]=()=>{gapi.load?a():t(Su(n,"network-request-failed"))},Sde(`${Ade()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw X1=null,e})}let X1=null;function Sfe(n){return X1=X1||xfe(n),X1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=new WS(5e3,15e3),Efe="__/auth/iframe",Cfe="emulator/auth/iframe",Tfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wfe(n){const e=n.config;fn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qB(e,Cfe):`https://${n.config.authDomain}/${Efe}`,i={apiKey:e.apiKey,appName:n.name,v:B0},r=Mfe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${N0(i).slice(1)}`}async function Rfe(n){const e=await Sfe(n),t=Au().gapi;return fn(t,n,"internal-error"),e.open({where:document.body,url:wfe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tfe,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Su(n,"network-request-failed"),o=Au().setTimeout(()=>{s(a)},Afe.get());function l(){Au().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ife=500,Ofe=600,Pfe="_blank",Nfe="http://localhost";class JH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bfe(n,e,t,i=Ife,r=Ofe){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Dfe),{width:i.toString(),height:r.toString(),top:s,left:a}),c=La().toLowerCase();t&&(o=fj(c)?Pfe:t),uj(c)&&(e=e||Nfe,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[v,b])=>`${m}${v}=${b},`,"");if(pde(c)&&o!=="_self")return Lfe(e||"",o),new JH(null);const h=window.open(e||"",o,d);fn(h,n,"popup-blocked");try{h.focus()}catch{}return new JH(h)}function Lfe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe="__/auth/handler",kfe="emulator/auth/handler",Ffe=encodeURIComponent("fac");async function QH(n,e,t,i,r,s){fn(n.config.authDomain,n,"auth-domain-config-required"),fn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:B0,eventId:r};if(e instanceof xj){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",dP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof YS){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await n._getAppCheckToken(),c=l?`#${Ffe}=${encodeURIComponent(l)}`:"";return`${Hfe(n)}?${N0(o).slice(1)}${c}`}function Hfe({config:n}){return n.emulator?qB(n,kfe):`https://${n.authDomain}/${Ufe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="webStorageSupport";class zfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tj,this._completeRedirectFn=dfe,this._overrideRedirectResult=lfe}async _openPopup(e,t,i,r){var s;Fd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await QH(e,t,i,yP(),r);return Bfe(e,a,QB())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await QH(e,t,i,yP(),r);return jde(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Fd(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Rfe(e),i=new hfe(e);return t.register("authEvent",r=>(fn(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MI,{type:MI},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[MI];a!==void 0&&t(!!a),kd(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vfe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yj()||dj()||KB()}}const Gfe=zfe;var ZH="@firebase/auth",ez="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jfe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wfe(n){$v(new Jm("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;fn(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vj(n)},c=new _de(i,r,s,l);return Tde(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$v(new Jm("auth-internal",e=>{const t=Fw(e.getProvider("auth").getImmediate());return(i=>new Vfe(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ch(ZH,ez,jfe(n)),Ch(ZH,ez,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=5*60,Xfe=j9("authIdTokenMaxAge")||Yfe;let tz=null;const qfe=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Xfe)return;const r=t==null?void 0:t.token;tz!==r&&(tz=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $fe(n=Q9()){const e=WB(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Cde(n,{popupRedirectResolver:Gfe,persistence:[Zde,zde,Tj]}),i=j9("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=qfe(s.toString());Ude(t,a,()=>a(t.currentUser)),Lde(t,o=>a(o))}}const r=G9("auth");return r&&Mde(t,`http://${r}`),t}function Kfe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xde({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Su("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Kfe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wfe("Browser");var nz={};const iz="@firebase/database",rz="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pj="";function Jfe(n){Pj=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),as(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:$x(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Qd(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qfe(e)}}catch{}return new Zfe},Cm=Nj("localStorage"),ehe=Nj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new VB("@firebase/database"),the=function(){let n=1;return function(){return n++}}(),Bj=function(n){const e=Hce(n),t=new Lce;t.update(e);const i=t.digest();return FB.encodeByteArray(i)},qS=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=qS.apply(null,i):typeof i=="object"?e+=as(i):e+=i,e+=" "}return e};let hx=null,sz=!0;const nhe=function(n,e){At(!0,"Can't turn on custom loggers persistently."),Rv.logLevel=Ni.VERBOSE,hx=Rv.log.bind(Rv)},aa=function(...n){if(sz===!0&&(sz=!1,hx===null&&ehe.get("logging_enabled")===!0&&nhe()),hx){const e=qS.apply(null,n);hx(e)}},$S=function(n){return function(...e){aa(n,...e)}},_P=function(...n){const e="FIREBASE INTERNAL ERROR: "+qS(...n);Rv.error(e)},Hd=function(...n){const e=`FIREBASE FATAL ERROR: ${qS(...n)}`;throw Rv.error(e),new Error(e)},co=function(...n){const e="FIREBASE WARNING: "+qS(...n);Rv.warn(e)},ihe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lj=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},rhe=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Kv="[MIN_NAME]",Zm="[MAX_NAME]",U0=function(n,e){if(n===e)return 0;if(n===Kv||e===Zm)return-1;if(e===Kv||n===Zm)return 1;{const t=az(n),i=az(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},she=function(n,e){return n===e?0:n<e?-1:1},C_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+as(e))},eL=function(n){if(typeof n!="object"||n===null)return as(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=as(e[i]),t+=":",t+=eL(n[e[i]]);return t+="}",t},Uj=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function fo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const kj=function(n){At(!Lj(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let r,s,a,o,l;n===0?(s=0,a=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=o+i,a=Math.round(n*Math.pow(2,t-o)-Math.pow(2,t))):(s=0,a=Math.round(n/Math.pow(2,1-i-t))));const c=[];for(l=t;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),h=h+m}return h.toLowerCase()},ahe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ohe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lhe(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const che=new RegExp("^-?(0*)\\d{1,10}$"),uhe=-2147483648,dhe=2147483647,az=function(n){if(che.test(n)){const e=Number(n);if(e>=uhe&&e<=dhe)return e}return null},k0=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw co("Exception was thrown by user callback.",t),e},Math.floor(0))}},fhe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},px=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,yc(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){co(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(aa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',co(e)}}class q1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}q1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="5",Fj="v",Hj="s",zj="r",Gj="f",Vj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jj="ls",Wj="p",xP="ac",Yj="websocket",Xj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,t,i,r,s=!1,a="",o=!1,l=!1,c=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cm.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function mhe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function $j(n,e,t){At(typeof e=="string","typeof type must == string"),At(typeof t=="object","typeof params must == object");let i;if(e===Yj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Xj)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mhe(n)&&(t.ns=n.namespace);const r=[];return fo(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(){this.counters_={}}incrementCounter(e,t=1){Qd(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return mce(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={},RI={};function nL(n){const e=n.toString();return wI[e]||(wI[e]=new ghe),wI[e]}function yhe(n,e){const t=n.toString();return RI[t]||(RI[t]=e()),RI[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&k0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="start",bhe="close",_he="pLPCommand",xhe="pRTLPCB",Kj="id",Jj="pw",Qj="ser",She="cb",Ahe="seg",Ehe="ts",Che="d",The="dframe",Zj=1870,eW=30,Mhe=Zj-eW,whe=25e3,Rhe=3e4;class hv{constructor(e,t,i,r,s,a,o){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$S(e),this.stats_=nL(t),this.urlFn=l=>(this.appCheckToken&&(l[xP]=this.appCheckToken),$j(t,Xj,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vhe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rhe)),rhe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iL((...s)=>{const[a,o,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===oz)this.id=o,this.password=l;else if(a===bhe)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[oz]="t",i[Qj]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[She]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Fj]=tL,this.transportSessionId&&(i[Hj]=this.transportSessionId),this.lastSessionId&&(i[jj]=this.lastSessionId),this.applicationId&&(i[Wj]=this.applicationId),this.appCheckToken&&(i[xP]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vj.test(location.hostname)&&(i[zj]=Gj);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hv.forceAllow_=!0}static forceDisallow(){hv.forceDisallow_=!0}static isAvailable(){return hv.forceAllow_?!0:!hv.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ahe()&&!ohe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=as(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=H9(t),r=Uj(i,Mhe);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[The]="t",i[Kj]=e,i[Jj]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=as(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class iL{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=the(),window[_he+this.uniqueCallbackIdentifier]=e,window[xhe+this.uniqueCallbackIdentifier]=t,this.myIFrame=iL.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){aa("frame writing exception"),o.stack&&aa(o.stack),aa(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||aa("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Kj]=this.myID,e[Jj]=this.myPW,e[Qj]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eW+i.length<=Zj;){const a=this.pendingSegs.shift();i=i+"&"+Ahe+r+"="+a.seg+"&"+Ehe+r+"="+a.ts+"&"+Che+r+"="+a.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(whe)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{aa("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe=16384,Ihe=45e3;let RT=null;typeof MozWebSocket<"u"?RT=MozWebSocket:typeof WebSocket<"u"&&(RT=WebSocket);class vc{constructor(e,t,i,r,s,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$S(this.connId),this.stats_=nL(t),this.connURL=vc.connectionURL_(t,a,o,r,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,r,s){const a={};return a[Fj]=tL,typeof location<"u"&&location.hostname&&Vj.test(location.hostname)&&(a[zj]=Gj),t&&(a[Hj]=t),i&&(a[jj]=i),r&&(a[xP]=r),s&&(a[Wj]=s),$j(e,Yj,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cm.set("previous_websocket_failure",!0);try{let i;wce(),this.mySock=new RT(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){vc.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&RT!==null&&!vc.forceDisallow_}static previouslyFailed(){return Cm.isInMemoryStorage||Cm.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=$x(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(At(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=as(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Uj(t,Dhe);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ihe))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vc.responsesRequiredToBeHealthy=2;vc.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{static get ALL_TRANSPORTS(){return[hv,vc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=vc&&vc.isAvailable();let i=t&&!vc.previouslyFailed();if(e.webSocketOnly&&(t||co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[vc];else{const r=this.transports_=[];for(const s of Qx.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Qx.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qx.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=6e4,Phe=5e3,Nhe=10*1024,Bhe=100*1024,DI="t",lz="d",Lhe="s",cz="r",Uhe="e",uz="o",dz="a",fz="n",hz="p",khe="h";class Fhe{constructor(e,t,i,r,s,a,o,l,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$S("c:"+this.id+":"),this.transportManager_=new Qx(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=px(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Bhe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Nhe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(DI in e){const t=e[DI];t===dz?this.upgradeIfSecondaryHealthy_():t===cz?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===uz&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=C_("t",e),i=C_("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hz,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dz,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fz,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=C_("t",e),i=C_("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=C_(DI,e);if(lz in e){const i=e[lz];if(t===khe){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===fz){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Lhe?this.onConnectionShutdown_(i):t===cz?this.onReset_(i):t===Uhe?_P("Server Error: "+i):t===uz?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_P("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),tL!==i&&co("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),px(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ohe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):px(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Phe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hz,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.allowedEvents_=e,this.listeners_={},At(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){At(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends nW{static getInstance(){return new DT}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zB()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return At(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=32,mz=768;let Fi=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function oi(){return new Fi("")}function Vn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Nh(n){return n.pieces_.length-n.pieceNum_}function Vi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Fi(n.pieces_,e)}function iW(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Hhe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function rW(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function sW(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Fi(e,0)}function os(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Fi)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Fi(t,0)}function kn(n){return n.pieceNum_>=n.pieces_.length}function Pa(n,e){const t=Vn(n),i=Vn(e);if(t===null)return e;if(t===i)return Pa(Vi(n),Vi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function aW(n,e){if(Nh(n)!==Nh(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Sc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Nh(n)>Nh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class zhe{constructor(e,t){this.errorPrefix_=t,this.parts_=rW(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Uw(this.parts_[i]);oW(this)}}function Ghe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Uw(e),oW(n)}function Vhe(n){const e=n.parts_.pop();n.byteLength_-=Uw(e),n.parts_.length>0&&(n.byteLength_-=1)}function oW(n){if(n.byteLength_>mz)throw new Error(n.errorPrefix_+"has a key path longer than "+mz+" bytes ("+n.byteLength_+").");if(n.parts_.length>pz)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pz+") or object contains a cycle "+hm(n))}function hm(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL extends nW{static getInstance(){return new rL}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return At(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=1e3,jhe=60*5*1e3,gz=30*1e3,Whe=1.3,Yhe=3e4,Xhe="server_kill",yz=3;class Md extends tW{constructor(e,t,i,r,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Md.nextPersistentConnectionId_++,this.log_=$S("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=T_,this.maxReconnectDelay_=jhe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rL.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&DT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const r=++this.requestNumber_,s={r,a:e,b:t};this.log_(as(s)),At(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const t=new Lw,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?t.resolve(o):t.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,i,r){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),At(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),At(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:i};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},a="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;Md.warnOnListenWarnings_(l,t),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Qd(e,"w")){const i=qv(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();co(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Bce(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gz)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Nce(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,r=>{const s=r.s,a=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),At(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,t)}sendUnlisten_(e,t,i,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e},a="n";r&&(s.q=i,s.t=r),this.sendRequest(a,s)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,r){const s={p:t,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,t,i,r){this.putInternal("p",e,t,i,r)}merge(e,t,i,r){this.putInternal("m",e,t,i,r)}putInternal(e,t,i,r,s){this.initConnection_();const a={p:t,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+as(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):_P("Unrecognized action received from server: "+as(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){At(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Yhe&&(this.reconnectDelay_=T_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Whe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Md.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},c=function(h){At(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,m]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?aa("getToken() completed but was canceled"):(aa("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=m&&m.token,o=new Fhe(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,v=>{co(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Xhe)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&co(h),l())}}}interrupt(e){aa("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){aa("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dP(this.interruptReasons_)&&(this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(s=>eL(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const i=new Fi(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(t),s.delete(t),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,t){aa("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yz&&(this.reconnectDelay_=gz,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){aa("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yz&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Pj.replace(/\./g,"-")]=1,zB()?e["framework.cordova"]=1:X9()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=DT.getInstance().currentlyOnline();return dP(this.interruptReasons_)&&e}}Md.nextPersistentConnectionId_=0;Md.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Bn(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Bn(Kv,e),r=new Bn(Kv,t);return this.compare(i,r)!==0}minPost(){return Bn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC;class lW extends Gw{static get __EMPTY_NODE(){return yC}static set __EMPTY_NODE(e){yC=e}compare(e,t){return U0(e.name,t.name)}isDefinedOn(e){throw O0("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Bn.MIN}maxPost(){return new Bn(Zm,yC)}makePost(e,t){return At(typeof e=="string","KeyIndex indexValue must always be a string."),new Bn(e,yC)}toString(){return".key"}}const Dv=new lW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _s{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??_s.RED,this.left=r??no.EMPTY_NODE,this.right=s??no.EMPTY_NODE}copy(e,t,i,r,s){return new _s(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r=r.copy(null,t,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return no.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,r;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return no.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_s.RED=!0;_s.BLACK=!1;class qhe{copy(e,t,i,r,s){return this}insert(e,t,i){return new _s(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class no{constructor(e,t=no.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new no(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,_s.BLACK,null,null))}remove(e){return new no(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_s.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vC(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new vC(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new vC(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new vC(this.root_,null,this.comparator_,!0,e)}}no.EMPTY_NODE=new qhe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(n,e){return U0(n.name,e.name)}function sL(n,e){return U0(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SP;function Khe(n){SP=n}const cW=function(n){return typeof n=="number"?"number:"+kj(n):"string:"+n},uW=function(n){if(n.isLeafNode()){const e=n.val();At(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qd(e,".sv"),"Priority must be a string or number.")}else At(n===SP||n.isEmpty(),"priority of unexpected type.");At(n===SP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vz;class bs{static set __childrenNodeConstructor(e){vz=e}static get __childrenNodeConstructor(){return vz}constructor(e,t=bs.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,At(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uW(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new bs(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:bs.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kn(e)?this:Vn(e)===".priority"?this.priorityNode_:bs.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:bs.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Vn(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(At(i!==".priority"||Nh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,bs.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vi(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cW(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=kj(this.value_):e+=this.value_,this.lazyHash_=Bj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===bs.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof bs.__childrenNodeConstructor?-1:(At(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,r=bs.VALUE_TYPE_ORDER.indexOf(t),s=bs.VALUE_TYPE_ORDER.indexOf(i);return At(r>=0,"Unknown leaf type: "+t),At(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}bs.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dW,fW;function Jhe(n){dW=n}function Qhe(n){fW=n}class Zhe extends Gw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?U0(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Bn.MIN}maxPost(){return new Bn(Zm,new bs("[PRIORITY-POST]",fW))}makePost(e,t){const i=dW(e);return new Bn(t,new bs("[PRIORITY-POST]",i))}toString(){return".priority"}}const Mr=new Zhe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const epe=Math.log(2);class tpe{constructor(e){const t=s=>parseInt(Math.log(s)/epe,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const IT=function(n,e,t,i){n.sort(e);const r=function(l,c){const d=c-l;let h,m;if(d===0)return null;if(d===1)return h=n[l],m=t?t(h):h,new _s(m,h.node,_s.BLACK,null,null);{const v=parseInt(d/2,10)+l,b=r(l,v),A=r(v+1,c);return h=n[v],m=t?t(h):h,new _s(m,h.node,_s.BLACK,b,A)}},s=function(l){let c=null,d=null,h=n.length;const m=function(b,A){const _=h-b,x=h;h-=b;const T=r(_+1,x),C=n[_],M=t?t(C):C;v(new _s(M,C.node,A,null,T))},v=function(b){c?(c.left=b,c=b):(d=b,c=b)};for(let b=0;b<l.count;++b){const A=l.nextBitIsOne(),_=Math.pow(2,l.count-(b+1));A?m(_,_s.BLACK):(m(_,_s.BLACK),m(_,_s.RED))}return d},a=new tpe(n.length),o=s(a);return new no(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II;const Ny={};class xd{static get Default(){return At(Ny&&Mr,"ChildrenNode.ts has not been loaded"),II=II||new xd({".priority":Ny},{".priority":Mr}),II}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=qv(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof no?t:null}hasIndex(e){return Qd(this.indexSet_,e.toString())}addIndex(e,t){At(e!==Dv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Bn.Wrap);let a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();let o;r?o=IT(i,e.getCompare()):o=Ny;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=o,new xd(d,c)}addToIndexes(e,t){const i=xT(this.indexes_,(r,s)=>{const a=qv(this.indexSet_,s);if(At(a,"Missing index implementation for "+s),r===Ny)if(a.isDefinedOn(e.node)){const o=[],l=t.getIterator(Bn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),IT(o,a.getCompare())}else return Ny;else{const o=t.get(e.name);let l=r;return o&&(l=l.remove(new Bn(e.name,o))),l.insert(e,e.node)}});return new xd(i,this.indexSet_)}removeFromIndexes(e,t){const i=xT(this.indexes_,r=>{if(r===Ny)return r;{const s=t.get(e.name);return s?r.remove(new Bn(e.name,s)):r}});return new xd(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_;class cn{static get EMPTY_NODE(){return M_||(M_=new cn(new no(sL),null,xd.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&uW(this.priorityNode_),this.children_.isEmpty()&&At(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||M_}updatePriority(e){return this.children_.isEmpty()?this:new cn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?M_:t}}getChild(e){const t=Vn(e);return t===null?this:this.getImmediateChild(t).getChild(Vi(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(At(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Bn(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?M_:this.priorityNode_;return new cn(r,a,s)}}updateChild(e,t){const i=Vn(e);if(i===null)return t;{At(Vn(e)!==".priority"||Nh(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Vi(e),t);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,r=0,s=!0;if(this.forEachChild(Mr,(a,o)=>{t[a]=o.val(e),i++,s&&cn.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):s=!1}),!e&&s&&r<2*i){const a=[];for(const o in t)a[o]=t[o];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cW(this.getPriority().val())+":"),this.forEachChild(Mr,(t,i)=>{const r=i.hash();r!==""&&(e+=":"+t+":"+r)}),this.lazyHash_=e===""?"":Bj(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Bn(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Bn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Bn(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>t(r.name,r.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Bn.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Bn.Wrap);let s=r.peek();for(;s!=null&&t.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===KS?-1:0}withIndex(e){if(e===Dv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new cn(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Dv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Mr),r=t.getIterator(Mr);let s=i.getNext(),a=r.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=r.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Dv?null:this.indexMap_.get(e.toString())}}cn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class npe extends cn{constructor(){super(new no(sL),cn.EMPTY_NODE,xd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return cn.EMPTY_NODE}isEmpty(){return!1}}const KS=new npe;Object.defineProperties(Bn,{MIN:{value:new Bn(Kv,cn.EMPTY_NODE)},MAX:{value:new Bn(Zm,KS)}});lW.__EMPTY_NODE=cn.EMPTY_NODE;bs.__childrenNodeConstructor=cn;Khe(KS);Qhe(KS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe=!0;function xs(n,e=null){if(n===null)return cn.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),At(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new bs(t,xs(e))}if(!(n instanceof Array)&&ipe){const t=[];let i=!1;if(fo(n,(a,o)=>{if(a.substring(0,1)!=="."){const l=xs(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Bn(a,l)))}}),t.length===0)return cn.EMPTY_NODE;const s=IT(t,$he,a=>a.name,sL);if(i){const a=IT(t,Mr.getCompare());return new cn(s,xs(e),new xd({".priority":a},{".priority":Mr}))}else return new cn(s,xs(e),xd.Default)}else{let t=cn.EMPTY_NODE;return fo(n,(i,r)=>{if(Qd(n,i)&&i.substring(0,1)!=="."){const s=xs(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(xs(e))}}Jhe(xs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe extends Gw{constructor(e){super(),this.indexPath_=e,At(!kn(e)&&Vn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?U0(e.name,t.name):s}makePost(e,t){const i=xs(e),r=cn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Bn(t,r)}maxPost(){const e=cn.EMPTY_NODE.updateChild(this.indexPath_,KS);return new Bn(Zm,e)}toString(){return rW(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class spe extends Gw{compare(e,t){const i=e.node.compareTo(t.node);return i===0?U0(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Bn.MIN}maxPost(){return Bn.MAX}makePost(e,t){const i=xs(e);return new Bn(t,i)}toString(){return".value"}}const ape=new spe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(n){return{type:"value",snapshotNode:n}}function Jv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Zx(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function eS(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function ope(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,a){At(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(i.getChild(r))&&o.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(Zx(t,o)):At(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Jv(t,i)):a.trackChildChange(eS(t,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Mr,(r,s)=>{t.hasChild(r)||i.trackChildChange(Zx(r,s))}),t.isLeafNode()||t.forEachChild(Mr,(r,s)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(s)||i.trackChildChange(eS(r,s,a))}else i.trackChildChange(Jv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?cn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.indexedFilter_=new aL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tS.getStartPost_(e),this.endPost_=tS.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,a){return this.matches(new Bn(t,i))||(i=cn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=cn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(cn.EMPTY_NODE);const s=this;return t.forEachChild(Mr,(a,o)=>{s.matches(new Bn(a,o))||(r=r.updateImmediateChild(a,cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new tS(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,a){return this.rangedFilter_.matches(new Bn(t,i))||(i=cn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,a):this.fullLimitUpdateChild_(e,t,i,s,a)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=cn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=cn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(cn.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:r=r.updateImmediateChild(o.name,cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let a;if(this.reverse_){const h=this.index_.getCompare();a=(m,v)=>h(v,m)}else a=this.index_.getCompare();const o=e;At(o.numChildren()===this.limit_,"");const l=new Bn(t,i),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(t)){const h=o.getImmediateChild(t);let m=r.getChildAfterChild(this.index_,c,this.reverse_);for(;m!=null&&(m.name===t||o.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const v=m==null?1:a(m,l);if(d&&!i.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(eS(t,i,h)),o.updateImmediateChild(t,i);{s!=null&&s.trackChildChange(Zx(t,h));const A=o.updateImmediateChild(t,cn.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(Jv(m.name,m.node)),A.updateImmediateChild(m.name,m.node)):A}}else return i.isEmpty()?e:d&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Zx(c.name,c.node)),s.trackChildChange(Jv(t,i))),o.updateImmediateChild(t,i).updateImmediateChild(c.name,cn.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return At(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return At(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kv}hasEnd(){return this.endSet_}getIndexEndValue(){return At(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return At(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return At(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mr}copy(){const e=new oL;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cpe(n){return n.loadsAllData()?new aL(n.getIndex()):n.hasLimit()?new lpe(n):new tS(n)}function bz(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Mr?t="$priority":n.index_===ape?t="$value":n.index_===Dv?t="$key":(At(n.index_ instanceof rpe,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=as(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=as(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+as(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=as(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+as(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function _z(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Mr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends tW{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(At(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$S("p:rest:"),this.listens_={}}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=OT.getListenId_(e,i),o={};this.listens_[a]=o;const l=bz(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,i),qv(this.listens_,a)===o){let m;c?c===401?m="permission_denied":m="rest_error:"+c:m="ok",r(m,null)}})}unlisten(e,t){const i=OT.getListenId_(e,t);delete this.listens_[i]}get(e){const t=bz(e._queryParams),i=e._path.toString(),r=new Lw;return this.restRequest_(i+".json",t,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+N0(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=$x(o.responseText)}catch{co("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&co("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return{value:null,children:new Map}}function pW(n,e,t){if(kn(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Vn(e);n.children.has(i)||n.children.set(i,PT());const r=n.children.get(i);e=Vi(e),pW(r,e,t)}}function AP(n,e,t){n.value!==null?t(e,n.value):dpe(n,(i,r)=>{const s=new Fi(e.toString()+"/"+i);AP(r,s,t)})}function dpe(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fo(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=10*1e3,hpe=30*1e3,ppe=5*60*1e3;class mpe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new fpe(e);const i=xz+(hpe-xz)*Math.random();px(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;fo(e,(r,s)=>{s>0&&Qd(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),px(this.reportStats_.bind(this),Math.floor(Math.random()*2*ppe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ac||(Ac={}));function mW(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lL(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ac.ACK_USER_WRITE,this.source=mW()}operationForChild(e){if(kn(this.path)){if(this.affectedTree.value!=null)return At(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Fi(e));return new NT(oi(),t,this.revert)}}else return At(Vn(this.path)===e,"operationForChild called for unrelated child."),new NT(Vi(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t){this.source=e,this.path=t,this.type=Ac.LISTEN_COMPLETE}operationForChild(e){return kn(this.path)?new nS(this.source,oi()):new nS(this.source,Vi(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ac.OVERWRITE}operationForChild(e){return kn(this.path)?new eg(this.source,oi(),this.snap.getImmediateChild(e)):new eg(this.source,Vi(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ac.MERGE}operationForChild(e){if(kn(this.path)){const t=this.children.subtree(new Fi(e));return t.isEmpty()?null:t.value?new eg(this.source,oi(),t.value):new iS(this.source,oi(),t)}else return At(Vn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new iS(this.source,Vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(kn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ype(n,e,t,i){const r=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(ope(a.childName,a.snapshotNode))}),w_(n,r,"child_removed",e,i,t),w_(n,r,"child_added",e,i,t),w_(n,r,"child_moved",s,i,t),w_(n,r,"child_changed",e,i,t),w_(n,r,"value",e,i,t),r}function w_(n,e,t,i,r,s){const a=i.filter(o=>o.type===t);a.sort((o,l)=>bpe(n,o,l)),a.forEach(o=>{const l=vpe(n,o,s);r.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,n.query_))})})}function vpe(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function bpe(n,e,t){if(e.childName==null||t.childName==null)throw O0("Should only compare child_ events.");const i=new Bn(e.childName,e.snapshotNode),r=new Bn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e){return{eventCache:n,serverCache:e}}function mx(n,e,t,i){return Vw(new Bh(e,t,i),n.serverCache)}function gW(n,e,t,i){return Vw(n.eventCache,new Bh(e,t,i))}function BT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function tg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OI;const _pe=()=>(OI||(OI=new no(she)),OI);class Xi{static fromObject(e){let t=new Xi(null);return fo(e,(i,r)=>{t=t.set(new Fi(i),r)}),t}constructor(e,t=_pe()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:oi(),value:this.value};if(kn(e))return null;{const i=Vn(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Vi(e),t);return s!=null?{path:os(new Fi(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(kn(e))return this;{const t=Vn(e),i=this.children.get(t);return i!==null?i.subtree(Vi(e)):new Xi(null)}}set(e,t){if(kn(e))return new Xi(t,this.children);{const i=Vn(e),s=(this.children.get(i)||new Xi(null)).set(Vi(e),t),a=this.children.insert(i,s);return new Xi(this.value,a)}}remove(e){if(kn(e))return this.children.isEmpty()?new Xi(null):new Xi(null,this.children);{const t=Vn(e),i=this.children.get(t);if(i){const r=i.remove(Vi(e));let s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new Xi(null):new Xi(this.value,s)}else return this}}get(e){if(kn(e))return this.value;{const t=Vn(e),i=this.children.get(t);return i?i.get(Vi(e)):null}}setTree(e,t){if(kn(e))return t;{const i=Vn(e),s=(this.children.get(i)||new Xi(null)).setTree(Vi(e),t);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new Xi(this.value,a)}}fold(e){return this.fold_(oi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(os(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,oi(),t)}findOnPath_(e,t,i){const r=this.value?i(t,this.value):!1;if(r)return r;if(kn(e))return null;{const s=Vn(e),a=this.children.get(s);return a?a.findOnPath_(Vi(e),os(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,oi(),t)}foreachOnPath_(e,t,i){if(kn(e))return this;{this.value&&i(t,this.value);const r=Vn(e),s=this.children.get(r);return s?s.foreachOnPath_(Vi(e),os(t,r),i):new Xi(null)}}foreach(e){this.foreach_(oi(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(os(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.writeTree_=e}static empty(){return new Cc(new Xi(null))}}function gx(n,e,t){if(kn(e))return new Cc(new Xi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const a=Pa(r,e);return s=s.updateChild(a,t),new Cc(n.writeTree_.set(r,s))}else{const r=new Xi(t),s=n.writeTree_.setTree(e,r);return new Cc(s)}}}function Sz(n,e,t){let i=n;return fo(t,(r,s)=>{i=gx(i,os(e,r),s)}),i}function Az(n,e){if(kn(e))return Cc.empty();{const t=n.writeTree_.setTree(e,new Xi(null));return new Cc(t)}}function EP(n,e){return hg(n,e)!=null}function hg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Pa(t.path,e)):null}function Ez(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Mr,(i,r)=>{e.push(new Bn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Bn(i,r.value))}),e}function Mh(n,e){if(kn(e))return n;{const t=hg(n,e);return t!=null?new Cc(new Xi(t)):new Cc(n.writeTree_.subtree(e))}}function CP(n){return n.writeTree_.isEmpty()}function Qv(n,e){return yW(oi(),n.writeTree_,e)}function yW(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(At(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=yW(os(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(os(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e){return xW(e,n)}function xpe(n,e,t,i,r){At(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=gx(n.visibleWrites,e,t)),n.lastWriteId=i}function Spe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function Ape(n,e){const t=n.allWrites.findIndex(o=>o.writeId===e);At(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const o=n.allWrites[a];o.visible&&(a>=t&&Epe(o,i.path)?r=!1:Sc(i.path,o.path)&&(s=!0)),a--}if(r){if(s)return Cpe(n),!0;if(i.snap)n.visibleWrites=Az(n.visibleWrites,i.path);else{const o=i.children;fo(o,l=>{n.visibleWrites=Az(n.visibleWrites,os(i.path,l))})}return!0}else return!1}function Epe(n,e){if(n.snap)return Sc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Sc(os(n.path,t),e))return!0;return!1}function Cpe(n){n.visibleWrites=vW(n.allWrites,Tpe,oi()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Tpe(n){return n.visible}function vW(n,e,t){let i=Cc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let o;if(s.snap)Sc(t,a)?(o=Pa(t,a),i=gx(i,o,s.snap)):Sc(a,t)&&(o=Pa(a,t),i=gx(i,oi(),s.snap.getChild(o)));else if(s.children){if(Sc(t,a))o=Pa(t,a),i=Sz(i,o,s.children);else if(Sc(a,t))if(o=Pa(a,t),kn(o))i=Sz(i,oi(),s.children);else{const l=qv(s.children,Vn(o));if(l){const c=l.getChild(Vi(o));i=gx(i,oi(),c)}}}else throw O0("WriteRecord should have .snap or .children")}}return i}function bW(n,e,t,i,r){if(!i&&!r){const s=hg(n.visibleWrites,e);if(s!=null)return s;{const a=Mh(n.visibleWrites,e);if(CP(a))return t;if(t==null&&!EP(a,oi()))return null;{const o=t||cn.EMPTY_NODE;return Qv(a,o)}}}else{const s=Mh(n.visibleWrites,e);if(!r&&CP(s))return t;if(!r&&t==null&&!EP(s,oi()))return null;{const a=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Sc(c.path,e)||Sc(e,c.path))},o=vW(n.allWrites,a,e),l=t||cn.EMPTY_NODE;return Qv(o,l)}}}function Mpe(n,e,t){let i=cn.EMPTY_NODE;const r=hg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Mr,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=Mh(n.visibleWrites,e);return t.forEachChild(Mr,(a,o)=>{const l=Qv(Mh(s,new Fi(a)),o);i=i.updateImmediateChild(a,l)}),Ez(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=Mh(n.visibleWrites,e);return Ez(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function wpe(n,e,t,i,r){At(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=os(e,t);if(EP(n.visibleWrites,s))return null;{const a=Mh(n.visibleWrites,s);return CP(a)?r.getChild(t):Qv(a,r.getChild(t))}}function Rpe(n,e,t,i){const r=os(e,t),s=hg(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){const a=Mh(n.visibleWrites,r);return Qv(a,i.getNode().getImmediateChild(t))}else return null}function Dpe(n,e){return hg(n.visibleWrites,e)}function Ipe(n,e,t,i,r,s,a){let o;const l=Mh(n.visibleWrites,e),c=hg(l,oi());if(c!=null)o=c;else if(t!=null)o=Qv(l,t);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],h=a.getCompare(),m=s?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let v=m.getNext();for(;v&&d.length<r;)h(v,i)!==0&&d.push(v),v=m.getNext();return d}else return[]}function Ope(){return{visibleWrites:Cc.empty(),allWrites:[],lastWriteId:-1}}function LT(n,e,t,i){return bW(n.writeTree,n.treePath,e,t,i)}function uL(n,e){return Mpe(n.writeTree,n.treePath,e)}function Cz(n,e,t,i){return wpe(n.writeTree,n.treePath,e,t,i)}function UT(n,e){return Dpe(n.writeTree,os(n.treePath,e))}function Ppe(n,e,t,i,r,s){return Ipe(n.writeTree,n.treePath,e,t,i,r,s)}function dL(n,e,t){return Rpe(n.writeTree,n.treePath,e,t)}function _W(n,e){return xW(os(n.treePath,e),n.writeTree)}function xW(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;At(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),At(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,eS(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,Zx(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,Jv(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,eS(i,e.snapshotNode,r.oldSnap));else throw O0("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const SW=new Bpe;class fL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Bh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tg(this.viewCache_),s=Ppe(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lpe(n){return{filter:n}}function Upe(n,e){At(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),At(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function kpe(n,e,t,i,r){const s=new Npe;let a,o;if(t.type===Ac.OVERWRITE){const c=t;c.source.fromUser?a=TP(n,e,c.path,c.snap,i,r,s):(At(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!kn(c.path),a=kT(n,e,c.path,c.snap,i,r,o,s))}else if(t.type===Ac.MERGE){const c=t;c.source.fromUser?a=Hpe(n,e,c.path,c.children,i,r,s):(At(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=MP(n,e,c.path,c.children,i,r,o,s))}else if(t.type===Ac.ACK_USER_WRITE){const c=t;c.revert?a=Vpe(n,e,c.path,i,r,s):a=zpe(n,e,c.path,c.affectedTree,i,r,s)}else if(t.type===Ac.LISTEN_COMPLETE)a=Gpe(n,e,t.path,i,s);else throw O0("Unknown operation type: "+t.type);const l=s.getChanges();return Fpe(e,a,l),{viewCache:a,changes:l}}function Fpe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=BT(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(hW(BT(e)))}}function AW(n,e,t,i,r,s){const a=e.eventCache;if(UT(i,t)!=null)return e;{let o,l;if(kn(t))if(At(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=tg(e),d=c instanceof cn?c:cn.EMPTY_NODE,h=uL(i,d);o=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=LT(i,tg(e));o=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Vn(t);if(c===".priority"){At(Nh(t)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const h=Cz(i,t,d,l);h!=null?o=n.filter.updatePriority(d,h):o=a.getNode()}else{const d=Vi(t);let h;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const m=Cz(i,t,a.getNode(),l);m!=null?h=a.getNode().getImmediateChild(c).updateChild(d,m):h=a.getNode().getImmediateChild(c)}else h=dL(i,c,e.serverCache);h!=null?o=n.filter.updateChild(a.getNode(),c,h,d,r,s):o=a.getNode()}}return mx(e,o,a.isFullyInitialized()||kn(t),n.filter.filtersNodes())}}function kT(n,e,t,i,r,s,a,o){const l=e.serverCache;let c;const d=a?n.filter:n.filter.getIndexedFilter();if(kn(t))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(t,i);c=d.updateFullNode(l.getNode(),v,null)}else{const v=Vn(t);if(!l.isCompleteForPath(t)&&Nh(t)>1)return e;const b=Vi(t),_=l.getNode().getImmediateChild(v).updateChild(b,i);v===".priority"?c=d.updatePriority(l.getNode(),_):c=d.updateChild(l.getNode(),v,_,b,SW,null)}const h=gW(e,c,l.isFullyInitialized()||kn(t),d.filtersNodes()),m=new fL(r,h,s);return AW(n,h,t,r,m,o)}function TP(n,e,t,i,r,s,a){const o=e.eventCache;let l,c;const d=new fL(r,e,s);if(kn(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,a),l=mx(e,c,!0,n.filter.filtersNodes());else{const h=Vn(t);if(h===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),i),l=mx(e,c,o.isFullyInitialized(),o.isFiltered());else{const m=Vi(t),v=o.getNode().getImmediateChild(h);let b;if(kn(m))b=i;else{const A=d.getCompleteChild(h);A!=null?iW(m)===".priority"&&A.getChild(sW(m)).isEmpty()?b=A:b=A.updateChild(m,i):b=cn.EMPTY_NODE}if(v.equals(b))l=e;else{const A=n.filter.updateChild(o.getNode(),h,b,m,d,a);l=mx(e,A,o.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function Tz(n,e){return n.eventCache.isCompleteForChild(e)}function Hpe(n,e,t,i,r,s,a){let o=e;return i.foreach((l,c)=>{const d=os(t,l);Tz(e,Vn(d))&&(o=TP(n,o,d,c,r,s,a))}),i.foreach((l,c)=>{const d=os(t,l);Tz(e,Vn(d))||(o=TP(n,o,d,c,r,s,a))}),o}function Mz(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function MP(n,e,t,i,r,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;kn(t)?c=i:c=new Xi(null).setTree(t,i);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,m)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),b=Mz(n,v,m);l=kT(n,l,new Fi(h),b,r,s,a,o)}}),c.children.inorderTraversal((h,m)=>{const v=!e.serverCache.isCompleteForChild(h)&&m.value===null;if(!d.hasChild(h)&&!v){const b=e.serverCache.getNode().getImmediateChild(h),A=Mz(n,b,m);l=kT(n,l,new Fi(h),A,r,s,a,o)}}),l}function zpe(n,e,t,i,r,s,a){if(UT(r,t)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(kn(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return kT(n,e,t,l.getNode().getChild(t),r,s,o,a);if(kn(t)){let c=new Xi(null);return l.getNode().forEachChild(Dv,(d,h)=>{c=c.set(new Fi(d),h)}),MP(n,e,t,c,r,s,o,a)}else return e}else{let c=new Xi(null);return i.foreach((d,h)=>{const m=os(t,d);l.isCompleteForPath(m)&&(c=c.set(d,l.getNode().getChild(m)))}),MP(n,e,t,c,r,s,o,a)}}function Gpe(n,e,t,i,r){const s=e.serverCache,a=gW(e,s.getNode(),s.isFullyInitialized()||kn(t),s.isFiltered());return AW(n,a,t,i,SW,r)}function Vpe(n,e,t,i,r,s){let a;if(UT(i,t)!=null)return e;{const o=new fL(i,e,r),l=e.eventCache.getNode();let c;if(kn(t)||Vn(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=LT(i,tg(e));else{const h=e.serverCache.getNode();At(h instanceof cn,"serverChildren would be complete if leaf node"),d=uL(i,h)}d=d,c=n.filter.updateFullNode(l,d,s)}else{const d=Vn(t);let h=dL(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=n.filter.updateChild(l,d,h,Vi(t),o,s):e.eventCache.getNode().hasChild(d)?c=n.filter.updateChild(l,d,cn.EMPTY_NODE,Vi(t),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=LT(i,tg(e)),a.isLeafNode()&&(c=n.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||UT(i,oi())!=null,mx(e,c,a,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new aL(i.getIndex()),s=cpe(i);this.processor_=Lpe(s);const a=t.serverCache,o=t.eventCache,l=r.updateFullNode(cn.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(cn.EMPTY_NODE,o.getNode(),null),d=new Bh(l,a.isFullyInitialized(),r.filtersNodes()),h=new Bh(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vw(h,d),this.eventGenerator_=new gpe(this.query_)}get query(){return this.query_}}function Wpe(n){return n.viewCache_.serverCache.getNode()}function Ype(n){return BT(n.viewCache_)}function Xpe(n,e){const t=tg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!kn(e)&&!t.getImmediateChild(Vn(e)).isEmpty())?t.getChild(e):null}function wz(n){return n.eventRegistrations_.length===0}function qpe(n,e){n.eventRegistrations_.push(e)}function Rz(n,e,t){const i=[];if(t){At(e==null,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(t,r);a&&i.push(a)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Dz(n,e,t,i){e.type===Ac.MERGE&&e.source.queryId!==null&&(At(tg(n.viewCache_),"We should always have a full cache before handling merges"),At(BT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=kpe(n.processor_,r,e,t,i);return Upe(n.processor_,s.viewCache),At(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,EW(n,s.changes,s.viewCache.eventCache.getNode(),null)}function $pe(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Mr,(s,a)=>{i.push(Jv(s,a))}),t.isFullyInitialized()&&i.push(hW(t.getNode())),EW(n,i,t.getNode(),e)}function EW(n,e,t,i){const r=i?[i]:n.eventRegistrations_;return ype(n.eventGenerator_,e,t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FT;class CW{constructor(){this.views=new Map}}function Kpe(n){At(!FT,"__referenceConstructor has already been defined"),FT=n}function Jpe(){return At(FT,"Reference.ts has not been loaded"),FT}function Qpe(n){return n.views.size===0}function hL(n,e,t,i){const r=e.source.queryId;if(r!==null){const s=n.views.get(r);return At(s!=null,"SyncTree gave us an op for an invalid query."),Dz(s,e,t,i)}else{let s=[];for(const a of n.views.values())s=s.concat(Dz(a,e,t,i));return s}}function TW(n,e,t,i,r){const s=e._queryIdentifier,a=n.views.get(s);if(!a){let o=LT(t,r?i:null),l=!1;o?l=!0:i instanceof cn?(o=uL(t,i),l=!1):(o=cn.EMPTY_NODE,l=!1);const c=Vw(new Bh(o,l,!1),new Bh(i,r,!1));return new jpe(e,c)}return a}function Zpe(n,e,t,i,r,s){const a=TW(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),qpe(a,t),$pe(a,t)}function eme(n,e,t,i){const r=e._queryIdentifier,s=[];let a=[];const o=Lh(n);if(r==="default")for(const[l,c]of n.views.entries())a=a.concat(Rz(c,t,i)),wz(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(r);l&&(a=a.concat(Rz(l,t,i)),wz(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Lh(n)&&s.push(new(Jpe())(e._repo,e._path)),{removed:s,events:a}}function MW(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function wh(n,e){let t=null;for(const i of n.views.values())t=t||Xpe(i,e);return t}function wW(n,e){if(e._queryParams.loadsAllData())return Ww(n);{const i=e._queryIdentifier;return n.views.get(i)}}function RW(n,e){return wW(n,e)!=null}function Lh(n){return Ww(n)!=null}function Ww(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT;function tme(n){At(!HT,"__referenceConstructor has already been defined"),HT=n}function nme(){return At(HT,"Reference.ts has not been loaded"),HT}let ime=1;class Iz{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xi(null),this.pendingWriteTree_=Ope(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DW(n,e,t,i,r){return xpe(n.pendingWriteTree_,e,t,i,r),r?QS(n,new eg(mW(),e,t)):[]}function Tm(n,e,t=!1){const i=Spe(n.pendingWriteTree_,e);if(Ape(n.pendingWriteTree_,e)){let s=new Xi(null);return i.snap!=null?s=s.set(oi(),!0):fo(i.children,a=>{s=s.set(new Fi(a),!0)}),QS(n,new NT(i.path,s,t))}else return[]}function JS(n,e,t){return QS(n,new eg(lL(),e,t))}function rme(n,e,t){const i=Xi.fromObject(t);return QS(n,new iS(lL(),e,i))}function sme(n,e){return QS(n,new nS(lL(),e))}function ame(n,e,t){const i=mL(n,t);if(i){const r=gL(i),s=r.path,a=r.queryId,o=Pa(s,e),l=new nS(cL(a),o);return yL(n,s,l)}else return[]}function IW(n,e,t,i,r=!1){const s=e._path,a=n.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||RW(a,e))){const l=eme(a,e,t,i);Qpe(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!r){const d=c.findIndex(m=>m._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(m,v)=>Lh(v));if(d&&!h){const m=n.syncPointTree_.subtree(s);if(!m.isEmpty()){const v=ume(m);for(let b=0;b<v.length;++b){const A=v[b],_=A.query,x=BW(n,A);n.listenProvider_.startListening(yx(_),rS(n,_),x.hashFn,x.onComplete)}}}!h&&c.length>0&&!i&&(d?n.listenProvider_.stopListening(yx(e),null):c.forEach(m=>{const v=n.queryToTagMap.get(Yw(m));n.listenProvider_.stopListening(yx(m),v)}))}dme(n,c)}return o}function OW(n,e,t,i){const r=mL(n,i);if(r!=null){const s=gL(r),a=s.path,o=s.queryId,l=Pa(a,e),c=new eg(cL(o),l,t);return yL(n,a,c)}else return[]}function ome(n,e,t,i){const r=mL(n,i);if(r){const s=gL(r),a=s.path,o=s.queryId,l=Pa(a,e),c=Xi.fromObject(t),d=new iS(cL(o),l,c);return yL(n,a,d)}else return[]}function lme(n,e,t,i=!1){const r=e._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(m,v)=>{const b=Pa(m,r);s=s||wh(v,b),a=a||Lh(v)});let o=n.syncPointTree_.get(r);o?(a=a||Lh(o),s=s||wh(o,oi())):(o=new CW,n.syncPointTree_=n.syncPointTree_.set(r,o));let l;s!=null?l=!0:(l=!1,s=cn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((v,b)=>{const A=wh(b,oi());A&&(s=s.updateImmediateChild(v,A))}));const c=RW(o,e);if(!c&&!e._queryParams.loadsAllData()){const m=Yw(e);At(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=fme();n.queryToTagMap.set(m,v),n.tagToQueryMap.set(v,m)}const d=jw(n.pendingWriteTree_,r);let h=Zpe(o,e,t,d,s,l);if(!c&&!a&&!i){const m=wW(o,e);h=h.concat(hme(n,e,m))}return h}function pL(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,o)=>{const l=Pa(a,e),c=wh(o,l);if(c)return c});return bW(r,e,s,t,!0)}function cme(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(c,d)=>{const h=Pa(c,t);i=i||wh(d,h)});let r=n.syncPointTree_.get(t);r?i=i||wh(r,oi()):(r=new CW,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=i!=null,a=s?new Bh(i,!0,!1):null,o=jw(n.pendingWriteTree_,e._path),l=TW(r,e,o,s?a.getNode():cn.EMPTY_NODE,s);return Ype(l)}function QS(n,e){return PW(e,n.syncPointTree_,null,jw(n.pendingWriteTree_,oi()))}function PW(n,e,t,i){if(kn(n.path))return NW(n,e,t,i);{const r=e.get(oi());t==null&&r!=null&&(t=wh(r,oi()));let s=[];const a=Vn(n.path),o=n.operationForChild(a),l=e.children.get(a);if(l&&o){const c=t?t.getImmediateChild(a):null,d=_W(i,a);s=s.concat(PW(o,l,c,d))}return r&&(s=s.concat(hL(r,n,i,t))),s}}function NW(n,e,t,i){const r=e.get(oi());t==null&&r!=null&&(t=wh(r,oi()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=t?t.getImmediateChild(a):null,c=_W(i,a),d=n.operationForChild(a);d&&(s=s.concat(NW(d,o,l,c)))}),r&&(s=s.concat(hL(r,n,i,t))),s}function BW(n,e){const t=e.query,i=rS(n,t);return{hashFn:()=>(Wpe(e)||cn.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?ame(n,t._path,i):sme(n,t._path);{const s=lhe(r,t);return IW(n,t,null,s)}}}}function rS(n,e){const t=Yw(e);return n.queryToTagMap.get(t)}function Yw(n){return n._path.toString()+"$"+n._queryIdentifier}function mL(n,e){return n.tagToQueryMap.get(e)}function gL(n){const e=n.indexOf("$");return At(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Fi(n.substr(0,e))}}function yL(n,e,t){const i=n.syncPointTree_.get(e);At(i,"Missing sync point for query tag that we're tracking");const r=jw(n.pendingWriteTree_,e);return hL(i,t,r,null)}function ume(n){return n.fold((e,t,i)=>{if(t&&Lh(t))return[Ww(t)];{let r=[];return t&&(r=MW(t)),fo(i,(s,a)=>{r=r.concat(a)}),r}})}function yx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(nme())(n._repo,n._path):n}function dme(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=Yw(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function fme(){return ime++}function hme(n,e,t){const i=e._path,r=rS(n,e),s=BW(n,t),a=n.listenProvider_.startListening(yx(e),r,s.hashFn,s.onComplete),o=n.syncPointTree_.subtree(i);if(r)At(!Lh(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,d,h)=>{if(!kn(c)&&d&&Lh(d))return[Ww(d).query];{let m=[];return d&&(m=m.concat(MW(d).map(v=>v.query))),fo(h,(v,b)=>{m=m.concat(b)}),m}});for(let c=0;c<l.length;++c){const d=l[c];n.listenProvider_.stopListening(yx(d),rS(n,d))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vL(t)}node(){return this.node_}}class bL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=os(this.path_,e);return new bL(this.syncTree_,t)}node(){return pL(this.syncTree_,this.path_)}}const pme=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Oz=function(n,e,t){if(!n||typeof n!="object")return n;if(At(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return mme(n[".sv"],e,t);if(typeof n[".sv"]=="object")return gme(n[".sv"],e);At(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},mme=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:At(!1,"Unexpected server value: "+n)}},gme=function(n,e,t){n.hasOwnProperty("increment")||At(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&At(!1,"Unexpected increment value: "+i);const r=e.node();if(At(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},yme=function(n,e,t,i){return _L(e,new bL(t,n),i)},LW=function(n,e,t){return _L(n,new vL(e),t)};function _L(n,e,t){const i=n.getPriority().val(),r=Oz(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,o=Oz(a.getValue(),e,t);return o!==a.getValue()||r!==a.getPriority().val()?new bs(o,xs(r)):n}else{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new bs(r))),a.forEachChild(Mr,(o,l)=>{const c=_L(l,e.getImmediateChild(o),t);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function SL(n,e){let t=e instanceof Fi?e:new Fi(e),i=n,r=Vn(t);for(;r!==null;){const s=qv(i.node.children,r)||{children:{},childCount:0};i=new xL(r,i,s),t=Vi(t),r=Vn(t)}return i}function F0(n){return n.node.value}function UW(n,e){n.node.value=e,wP(n)}function kW(n){return n.node.childCount>0}function vme(n){return F0(n)===void 0&&!kW(n)}function Xw(n,e){fo(n.node.children,(t,i)=>{e(new xL(t,n,i))})}function FW(n,e,t,i){t&&e(n),Xw(n,r=>{FW(r,e,!0)})}function bme(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ZS(n){return new Fi(n.parent===null?n.name:ZS(n.parent)+"/"+n.name)}function wP(n){n.parent!==null&&_me(n.parent,n.name,n)}function _me(n,e,t){const i=vme(t),r=Qd(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,wP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,wP(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xme=/[\[\].#$\/\u0000-\u001F\u007F]/,Sme=/[\[\].#$\u0000-\u001F\u007F]/,PI=10*1024*1024,HW=function(n){return typeof n=="string"&&n.length!==0&&!xme.test(n)},zW=function(n){return typeof n=="string"&&n.length!==0&&!Sme.test(n)},Ame=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zW(n)},Eme=function(n,e,t,i){AL(GB(n,"value"),e,t)},AL=function(n,e,t){const i=t instanceof Fi?new zhe(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+hm(i));if(typeof e=="function")throw new Error(n+"contains a function "+hm(i)+" with contents = "+e.toString());if(Lj(e))throw new Error(n+"contains "+e.toString()+" "+hm(i));if(typeof e=="string"&&e.length>PI/3&&Uw(e)>PI)throw new Error(n+"contains a string greater than "+PI+" utf8 bytes "+hm(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(fo(e,(a,o)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!HW(a)))throw new Error(n+" contains an invalid key ("+a+") "+hm(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ghe(i,a),AL(n,o,i),Vhe(i)}),r&&s)throw new Error(n+' contains ".value" child '+hm(i)+" in addition to actual children.")}},GW=function(n,e,t,i){if(!zW(t))throw new Error(GB(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cme=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GW(n,e,t)},VW=function(n,e){if(Vn(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Tme=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!HW(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Ame(t))throw new Error(GB(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jW(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();t!==null&&!aW(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Ou(n,e,t){jW(n,t),wme(n,i=>Sc(i,e)||Sc(e,i))}function wme(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];if(r){const s=r.path;e(s)?(Rme(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Rme(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();hx&&aa("event: "+t.toString()),k0(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dme="repo_interrupt",Ime=25;class Ome{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mme,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=PT(),this.transactionQueueTree_=new xL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pme(n,e,t){if(n.stats_=nL(n.repoInfo_),n.forceRestClient_||fhe())n.server_=new OT(n.repoInfo_,(i,r,s,a)=>{Pz(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Nz(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{as(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Md(n.repoInfo_,e,(i,r,s,a)=>{Pz(n,i,r,s,a)},i=>{Nz(n,i)},i=>{Bme(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=yhe(n.repoInfo_,()=>new mpe(n.stats_,n.server_)),n.infoData_=new upe,n.infoSyncTree_=new Iz({startListening:(i,r,s,a)=>{let o=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(o=JS(n.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),CL(n,"connected",!1),n.serverSyncTree_=new Iz({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(o,l)=>{const c=a(o,l);Ou(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function Nme(n){const t=n.infoData_.getNode(new Fi(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function EL(n){return pme({timestamp:Nme(n)})}function Pz(n,e,t,i,r){n.dataUpdateCount++;const s=new Fi(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const l=xT(t,c=>xs(c));a=ome(n.serverSyncTree_,s,l,r)}else{const l=xs(t);a=OW(n.serverSyncTree_,s,l,r)}else if(i){const l=xT(t,c=>xs(c));a=rme(n.serverSyncTree_,s,l)}else{const l=xs(t);a=JS(n.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=$w(n,s)),Ou(n.eventQueue_,o,a)}function Nz(n,e){CL(n,"connected",e),e===!1&&kme(n)}function Bme(n,e){fo(e,(t,i)=>{CL(n,t,i)})}function CL(n,e,t){const i=new Fi("/.info/"+e),r=xs(t);n.infoData_.updateSnapshot(i,r);const s=JS(n.infoSyncTree_,i,r);Ou(n.eventQueue_,i,s)}function WW(n){return n.nextWriteId_++}function Lme(n,e,t){const i=cme(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{const s=xs(r).withIndex(e._queryParams.getIndex());lme(n.serverSyncTree_,e,t,!0);let a;if(e._queryParams.loadsAllData())a=JS(n.serverSyncTree_,e._path,s);else{const o=rS(n.serverSyncTree_,e);a=OW(n.serverSyncTree_,e._path,s,o)}return Ou(n.eventQueue_,e._path,a),IW(n.serverSyncTree_,e,t,null,!0),s},r=>(qw(n,"get for query "+as(e)+" failed: "+r),Promise.reject(new Error(r))))}function Ume(n,e,t,i,r){qw(n,"set",{path:e.toString(),value:t,priority:i});const s=EL(n),a=xs(t,i),o=pL(n.serverSyncTree_,e),l=LW(a,o,s),c=WW(n),d=DW(n.serverSyncTree_,e,l,c,!0);jW(n.eventQueue_,d),n.server_.put(e.toString(),a.val(!0),(m,v)=>{const b=m==="ok";b||co("set at "+e+" failed: "+m);const A=Tm(n.serverSyncTree_,c,!b);Ou(n.eventQueue_,e,A),Hme(n,r,m,v)});const h=KW(n,e);$w(n,h),Ou(n.eventQueue_,h,[])}function kme(n){qw(n,"onDisconnectEvents");const e=EL(n),t=PT();AP(n.onDisconnect_,oi(),(r,s)=>{const a=yme(r,s,n.serverSyncTree_,e);pW(t,r,a)});let i=[];AP(t,oi(),(r,s)=>{i=i.concat(JS(n.serverSyncTree_,r,s));const a=KW(n,r);$w(n,a)}),n.onDisconnect_=PT(),Ou(n.eventQueue_,oi(),i)}function Fme(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Dme)}function qw(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),aa(t,...e)}function Hme(n,e,t,i){e&&k0(()=>{if(t==="ok")e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,e(a)}})}function YW(n,e,t){return pL(n.serverSyncTree_,e,t)||cn.EMPTY_NODE}function TL(n,e=n.transactionQueueTree_){if(e||Kw(n,e),F0(e)){const t=qW(n,e);At(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&zme(n,ZS(e),t)}else kW(e)&&Xw(e,t=>{TL(n,t)})}function zme(n,e,t){const i=t.map(c=>c.currentWriteId),r=YW(n,e,i);let s=r;const a=r.hash();for(let c=0;c<t.length;c++){const d=t[c];At(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Pa(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;n.server_.put(l.toString(),o,c=>{qw(n,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let m=0;m<t.length;m++)t[m].status=2,d=d.concat(Tm(n.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&h.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();Kw(n,SL(n.transactionQueueTree_,e)),TL(n,n.transactionQueueTree_),Ou(n.eventQueue_,e,d);for(let m=0;m<h.length;m++)k0(h[m])}else{if(c==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{co("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}$w(n,e)}},a)}function $w(n,e){const t=XW(n,e),i=ZS(t),r=qW(n,t);return Gme(n,r,i),i}function Gme(n,e,t){if(e.length===0)return;const i=[];let r=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Pa(t,l.path);let d=!1,h;if(At(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,r=r.concat(Tm(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ime)d=!0,h="maxretry",r=r.concat(Tm(n.serverSyncTree_,l.currentWriteId,!0));else{const m=YW(n,l.path,a);l.currentInputSnapshot=m;const v=e[o].update(m.val());if(v!==void 0){AL("transaction failed: Data returned ",v,l.path);let b=xs(v);typeof v=="object"&&v!=null&&Qd(v,".priority")||(b=b.updatePriority(m.getPriority()));const _=l.currentWriteId,x=EL(n),T=LW(b,m,x);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=T,l.currentWriteId=WW(n),a.splice(a.indexOf(_),1),r=r.concat(DW(n.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),r=r.concat(Tm(n.serverSyncTree_,_,!0))}else d=!0,h="nodata",r=r.concat(Tm(n.serverSyncTree_,l.currentWriteId,!0))}Ou(n.eventQueue_,t,r),r=[],d&&(e[o].status=2,function(m){setTimeout(m,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(h==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(h),!1,null))))}Kw(n,n.transactionQueueTree_);for(let o=0;o<i.length;o++)k0(i[o]);TL(n,n.transactionQueueTree_)}function XW(n,e){let t,i=n.transactionQueueTree_;for(t=Vn(e);t!==null&&F0(i)===void 0;)i=SL(i,t),e=Vi(e),t=Vn(e);return i}function qW(n,e){const t=[];return $W(n,e,t),t.sort((i,r)=>i.order-r.order),t}function $W(n,e,t){const i=F0(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Xw(e,r=>{$W(n,r,t)})}function Kw(n,e){const t=F0(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,UW(e,t.length>0?t:void 0)}Xw(e,i=>{Kw(n,i)})}function KW(n,e){const t=ZS(XW(n,e)),i=SL(n.transactionQueueTree_,e);return bme(i,r=>{NI(n,r)}),NI(n,i),FW(i,r=>{NI(n,r)}),t}function NI(n,e){const t=F0(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(At(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(At(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(Tm(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?UW(e,void 0):t.length=s+1,Ou(n.eventQueue_,ZS(e),r);for(let a=0;a<i.length;a++)k0(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vme(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function jme(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):co(`Invalid query segment '${t}' in query '${n}'`)}return e}const Bz=function(n,e){const t=Wme(n),i=t.namespace;t.domain==="firebase.com"&&Hd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Hd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||ihe();const r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new qj(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Fi(t.pathString)}},Wme=function(n){let e="",t="",i="",r="",s="",a=!0,o="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(o=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");d===-1&&(d=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(r=Vme(n.substring(d,h)));const m=jme(n.substring(Math.min(n.length,h)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")t="localhost";else if(v.split(".").length<=2)t=v;else{const b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),t=e.substring(b+1),s=i}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:a,scheme:o,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yme{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+as(this.snapshot.exportVal())}}class Xme{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qme{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return At(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return kn(this._path)?null:iW(this._path)}get ref(){return new Zd(this._repo,this._path)}get _queryIdentifier(){const e=_z(this._queryParams),t=eL(e);return t==="{}"?"default":t}get _queryObject(){return _z(this._queryParams)}isEqual(e){if(e=Yo(e),!(e instanceof ML))return!1;const t=this._repo===e._repo,i=aW(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hhe(this._path)}}class Zd extends ML{constructor(e,t){super(e,t,new oL,!1)}get parent(){const e=sW(this._path);return e===null?null:new Zd(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class sS{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Fi(e),i=RP(this.ref,e);return new sS(this._node.getChild(t),i,Mr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new sS(r,RP(this.ref,i),Mr)))}hasChild(e){const t=new Fi(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function H0(n,e){return n=Yo(n),n._checkNotDeleted("ref"),e!==void 0?RP(n._root,e):n._root}function RP(n,e){return n=Yo(n),Vn(n._path)===null?Cme("child","path",e):GW("child","path",e),new Zd(n._repo,os(n._path,e))}function $me(n){return VW("remove",n._path),eA(n,null)}function eA(n,e){n=Yo(n),VW("set",n._path),Eme("set",e,n._path);const t=new Lw;return Ume(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Kme(n){n=Yo(n);const e=new qme(()=>{}),t=new wL(e);return Lme(n._repo,n,t).then(i=>new sS(i,new Zd(n._repo,n._path),n._queryParams.getIndex()))}class wL{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new Yme("value",this,new sS(e.snapshotNode,new Zd(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Xme(this,e,t):null}matches(e){return e instanceof wL?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Kpe(Zd);tme(Zd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme="FIREBASE_DATABASE_EMULATOR_HOST",DP={};let Qme=!1;function Zme(n,e,t,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),a=P0(s);n.repoInfo_=new qj(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function ege(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||Hd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),aa("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=Bz(s,r),o=a.repoInfo,l;typeof process<"u"&&nz&&(l=nz[Jme]),l?(s=`http://${l}?ns=${o.namespace}`,a=Bz(s,r),o=a.repoInfo):a.repoInfo.secure;const c=new phe(n.name,n.options,e);Tme("Invalid Firebase Database URL",a),kn(a.path)||Hd("Database URL must point to the root of a Firebase Database (not including a child path).");const d=nge(o,n,c,new hhe(n,t));return new ige(d,n)}function tge(n,e){const t=DP[e];(!t||t[n.key]!==n)&&Hd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Fme(n),delete t[n.key]}function nge(n,e,t,i){let r=DP[e.name];r||(r={},DP[e.name]=r);let s=r[n.toURLString()];return s&&Hd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ome(n,Qme,t,i),r[n.toURLString()]=s,s}class ige{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pme(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zd(this._repo,oi())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tge(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hd("Cannot call "+e+" on a deleted database.")}}function rge(n=Q9(),e){const t=WB(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=xce("database");i&&sge(t,...i)}return t}function sge(n,e,t,i={}){n=Yo(n),n._checkNotDeleted("useEmulator");const r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Km(i,s.repoInfo_.emulatorOptions))return;Hd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Hd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new q1(q1.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Sce(i.mockUserToken,n.app.options.projectId);a=new q1(o)}P0(e)&&(W9(e),Y9("Database",!0)),Zme(s,r,i,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function age(n){Jfe(B0),$v(new Jm("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ege(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),Ch(iz,rz,n),Ch(iz,rz,"esm2017")}Md.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Md.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};age();const oge={apiKey:"AIzaSyC8DVkhgW9fGALQTXrcIsTGgr4qQZA4FI4",authDomain:"ti-stats-c491d.firebaseapp.com",databaseURL:"https://ti-stats-c491d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ti-stats-c491d",storageBucket:"ti-stats-c491d.firebasestorage.app",messagingSenderId:"848081025843",appId:"1:848081025843:web:6bdc91ad175de6e12d9c46",measurementId:"G-MY89MT8BZV"},JW=J9(oge),z0=rge(JW),QW=$fe(JW);function bC(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BI={exports:{}},Lz;function lge(){return Lz||(Lz=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,s){function a(c,d){if(!r[c]){if(!i[c]){var h=typeof bC=="function"&&bC;if(!d&&h)return h(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+c+"'")}d=r[c]={exports:{}},i[c][0].call(d.exports,function(m){var v=i[c][1][m];return a(v||m)},d,d.exports,t,i,r,s)}return r[c].exports}for(var o=typeof bC=="function"&&bC,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){var b=t("crypto");function A(R,B){B=T(R,B);var N;return(N=B.algorithm!=="passthrough"?b.createHash(B.algorithm):new O).write===void 0&&(N.write=N.update,N.end=N.update),M(B,N).dispatch(R),N.update||N.end(""),N.digest?N.digest(B.encoding==="buffer"?void 0:B.encoding):(R=N.read(),B.encoding!=="buffer"?R.toString(B.encoding):R)}(r=i.exports=A).sha1=function(R){return A(R)},r.keys=function(R){return A(R,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(R){return A(R,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(R){return A(R,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var _=b.getHashes?b.getHashes().slice():["sha1","md5"],x=(_.push("passthrough"),["buffer","hex","binary","base64"]);function T(R,B){var N={};if(N.algorithm=(B=B||{}).algorithm||"sha1",N.encoding=B.encoding||"hex",N.excludeValues=!!B.excludeValues,N.algorithm=N.algorithm.toLowerCase(),N.encoding=N.encoding.toLowerCase(),N.ignoreUnknown=B.ignoreUnknown===!0,N.respectType=B.respectType!==!1,N.respectFunctionNames=B.respectFunctionNames!==!1,N.respectFunctionProperties=B.respectFunctionProperties!==!1,N.unorderedArrays=B.unorderedArrays===!0,N.unorderedSets=B.unorderedSets!==!1,N.unorderedObjects=B.unorderedObjects!==!1,N.replacer=B.replacer||void 0,N.excludeKeys=B.excludeKeys||void 0,R===void 0)throw new Error("Object argument required.");for(var P=0;P<_.length;++P)_[P].toLowerCase()===N.algorithm.toLowerCase()&&(N.algorithm=_[P]);if(_.indexOf(N.algorithm)===-1)throw new Error('Algorithm "'+N.algorithm+'"  not supported. supported values: '+_.join(", "));if(x.indexOf(N.encoding)===-1&&N.algorithm!=="passthrough")throw new Error('Encoding "'+N.encoding+'"  not supported. supported values: '+x.join(", "));return N}function C(R){if(typeof R=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(R))!=null}function M(R,B,N){N=N||[];function P(I){return B.update?B.update(I,"utf8"):B.write(I,"utf8")}return{dispatch:function(I){return this["_"+((I=R.replacer?R.replacer(I):I)===null?"null":typeof I)](I)},_object:function(I){var F,U=Object.prototype.toString.call(I),j=/\[object (.*)\]/i.exec(U);if(j=(j=j?j[1]:"unknown:["+U+"]").toLowerCase(),0<=(U=N.indexOf(I)))return this.dispatch("[CIRCULAR:"+U+"]");if(N.push(I),o!==void 0&&o.isBuffer&&o.isBuffer(I))return P("buffer:"),P(I);if(j==="object"||j==="function"||j==="asyncfunction")return U=Object.keys(I),R.unorderedObjects&&(U=U.sort()),R.respectType===!1||C(I)||U.splice(0,0,"prototype","__proto__","constructor"),R.excludeKeys&&(U=U.filter(function(q){return!R.excludeKeys(q)})),P("object:"+U.length+":"),F=this,U.forEach(function(q){F.dispatch(q),P(":"),R.excludeValues||F.dispatch(I[q]),P(",")});if(!this["_"+j]){if(R.ignoreUnknown)return P("["+j+"]");throw new Error('Unknown object type "'+j+'"')}this["_"+j](I)},_array:function(I,q){q=q!==void 0?q:R.unorderedArrays!==!1;var U=this;if(P("array:"+I.length+":"),!q||I.length<=1)return I.forEach(function(Z){return U.dispatch(Z)});var j=[],q=I.map(function(Z){var H=new O,Y=N.slice();return M(R,H,Y).dispatch(Z),j=j.concat(Y.slice(N.length)),H.read().toString()});return N=N.concat(j),q.sort(),this._array(q,!1)},_date:function(I){return P("date:"+I.toJSON())},_symbol:function(I){return P("symbol:"+I.toString())},_error:function(I){return P("error:"+I.toString())},_boolean:function(I){return P("bool:"+I.toString())},_string:function(I){P("string:"+I.length+":"),P(I.toString())},_function:function(I){P("fn:"),C(I)?this.dispatch("[native]"):this.dispatch(I.toString()),R.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(I.name)),R.respectFunctionProperties&&this._object(I)},_number:function(I){return P("number:"+I.toString())},_xml:function(I){return P("xml:"+I.toString())},_null:function(){return P("Null")},_undefined:function(){return P("Undefined")},_regexp:function(I){return P("regex:"+I.toString())},_uint8array:function(I){return P("uint8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint8clampedarray:function(I){return P("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(I))},_int8array:function(I){return P("int8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint16array:function(I){return P("uint16array:"),this.dispatch(Array.prototype.slice.call(I))},_int16array:function(I){return P("int16array:"),this.dispatch(Array.prototype.slice.call(I))},_uint32array:function(I){return P("uint32array:"),this.dispatch(Array.prototype.slice.call(I))},_int32array:function(I){return P("int32array:"),this.dispatch(Array.prototype.slice.call(I))},_float32array:function(I){return P("float32array:"),this.dispatch(Array.prototype.slice.call(I))},_float64array:function(I){return P("float64array:"),this.dispatch(Array.prototype.slice.call(I))},_arraybuffer:function(I){return P("arraybuffer:"),this.dispatch(new Uint8Array(I))},_url:function(I){return P("url:"+I.toString())},_map:function(I){return P("map:"),I=Array.from(I),this._array(I,R.unorderedSets!==!1)},_set:function(I){return P("set:"),I=Array.from(I),this._array(I,R.unorderedSets!==!1)},_file:function(I){return P("file:"),this.dispatch([I.name,I.size,I.type,I.lastModfied])},_blob:function(){if(R.ignoreUnknown)return P("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return P("domwindow")},_bigint:function(I){return P("bigint:"+I.toString())},_process:function(){return P("process")},_timer:function(){return P("timer")},_pipe:function(){return P("pipe")},_tcp:function(){return P("tcp")},_udp:function(){return P("udp")},_tty:function(){return P("tty")},_statwatcher:function(){return P("statwatcher")},_securecontext:function(){return P("securecontext")},_connection:function(){return P("connection")},_zlib:function(){return P("zlib")},_context:function(){return P("context")},_nodescript:function(){return P("nodescript")},_httpparser:function(){return P("httpparser")},_dataview:function(){return P("dataview")},_signal:function(){return P("signal")},_fsevent:function(){return P("fsevent")},_tlswrap:function(){return P("tlswrap")}}}function O(){return{buf:"",write:function(R){this.buf+=R},end:function(R){this.buf+=R},read:function(){return this.buf}}}r.writeToStream=function(R,B,N){return N===void 0&&(N=B,B={}),M(B=T(R,B),N).dispatch(R)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){(function(b){var A=typeof Uint8Array<"u"?Uint8Array:Array,_=43,x=47,T=48,C=97,M=65,O=45,R=95;function B(N){return N=N.charCodeAt(0),N===_||N===O?62:N===x||N===R?63:N<T?-1:N<T+10?N-T+26+26:N<M+26?N-M:N<C+26?N-C+26:void 0}b.toByteArray=function(N){var P,I;if(0<N.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var F=N.length,F=N.charAt(F-2)==="="?2:N.charAt(F-1)==="="?1:0,U=new A(3*N.length/4-F),j=0<F?N.length-4:N.length,q=0;function Z(H){U[q++]=H}for(P=0;P<j;P+=4,0)Z((16711680&(I=B(N.charAt(P))<<18|B(N.charAt(P+1))<<12|B(N.charAt(P+2))<<6|B(N.charAt(P+3))))>>16),Z((65280&I)>>8),Z(255&I);return F==2?Z(255&(I=B(N.charAt(P))<<2|B(N.charAt(P+1))>>4)):F==1&&(Z((I=B(N.charAt(P))<<10|B(N.charAt(P+1))<<4|B(N.charAt(P+2))>>2)>>8&255),Z(255&I)),U},b.fromByteArray=function(N){var P,I,F,U,j=N.length%3,q="";function Z(H){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H)}for(P=0,F=N.length-j;P<F;P+=3)I=(N[P]<<16)+(N[P+1]<<8)+N[P+2],q+=Z((U=I)>>18&63)+Z(U>>12&63)+Z(U>>6&63)+Z(63&U);switch(j){case 1:q=(q+=Z((I=N[N.length-1])>>2))+Z(I<<4&63)+"==";break;case 2:q=(q=(q+=Z((I=(N[N.length-2]<<8)+N[N.length-1])>>10))+Z(I>>4&63))+Z(I<<2&63)+"="}return q}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,i,r){(function(s,a,_,l,c,d,h,m,v){var b=t("base64-js"),A=t("ieee754");function _(V,ee,oe){if(!(this instanceof _))return new _(V,ee,oe);var ue,_e,Q,Oe,we=typeof V;if(ee==="base64"&&we=="string")for(V=(Oe=V).trim?Oe.trim():Oe.replace(/^\s+|\s+$/g,"");V.length%4!=0;)V+="=";if(we=="number")ue=X(V);else if(we=="string")ue=_.byteLength(V,ee);else{if(we!="object")throw new Error("First argument needs to be a number, array or string.");ue=X(V.length)}if(_._useTypedArrays?_e=_._augment(new Uint8Array(ue)):((_e=this).length=ue,_e._isBuffer=!0),_._useTypedArrays&&typeof V.byteLength=="number")_e._set(V);else if(ne(Oe=V)||_.isBuffer(Oe)||Oe&&typeof Oe=="object"&&typeof Oe.length=="number")for(Q=0;Q<ue;Q++)_.isBuffer(V)?_e[Q]=V.readUInt8(Q):_e[Q]=V[Q];else if(we=="string")_e.write(V,0,ee);else if(we=="number"&&!_._useTypedArrays&&!oe)for(Q=0;Q<ue;Q++)_e[Q]=0;return _e}function x(V,ee,oe,ue){return _._charsWritten=Se(function(_e){for(var Q=[],Oe=0;Oe<_e.length;Oe++)Q.push(255&_e.charCodeAt(Oe));return Q}(ee),V,oe,ue)}function T(V,ee,oe,ue){return _._charsWritten=Se(function(_e){for(var Q,Oe,we=[],ke=0;ke<_e.length;ke++)Oe=_e.charCodeAt(ke),Q=Oe>>8,Oe=Oe%256,we.push(Oe),we.push(Q);return we}(ee),V,oe,ue)}function C(V,ee,oe){var ue="";oe=Math.min(V.length,oe);for(var _e=ee;_e<oe;_e++)ue+=String.fromCharCode(V[_e]);return ue}function M(V,ee,oe,Q){Q||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee!=null,"missing offset"),ve(ee+1<V.length,"Trying to read beyond buffer length"));var _e,Q=V.length;if(!(Q<=ee))return oe?(_e=V[ee],ee+1<Q&&(_e|=V[ee+1]<<8)):(_e=V[ee]<<8,ee+1<Q&&(_e|=V[ee+1])),_e}function O(V,ee,oe,Q){Q||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee!=null,"missing offset"),ve(ee+3<V.length,"Trying to read beyond buffer length"));var _e,Q=V.length;if(!(Q<=ee))return oe?(ee+2<Q&&(_e=V[ee+2]<<16),ee+1<Q&&(_e|=V[ee+1]<<8),_e|=V[ee],ee+3<Q&&(_e+=V[ee+3]<<24>>>0)):(ee+1<Q&&(_e=V[ee+1]<<16),ee+2<Q&&(_e|=V[ee+2]<<8),ee+3<Q&&(_e|=V[ee+3]),_e+=V[ee]<<24>>>0),_e}function R(V,ee,oe,ue){if(ue||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee!=null,"missing offset"),ve(ee+1<V.length,"Trying to read beyond buffer length")),!(V.length<=ee))return ue=M(V,ee,oe,!0),32768&ue?-1*(65535-ue+1):ue}function B(V,ee,oe,ue){if(ue||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee!=null,"missing offset"),ve(ee+3<V.length,"Trying to read beyond buffer length")),!(V.length<=ee))return ue=O(V,ee,oe,!0),2147483648&ue?-1*(4294967295-ue+1):ue}function N(V,ee,oe,ue){return ue||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee+3<V.length,"Trying to read beyond buffer length")),A.read(V,ee,oe,23,4)}function P(V,ee,oe,ue){return ue||(ve(typeof oe=="boolean","missing or invalid endian"),ve(ee+7<V.length,"Trying to read beyond buffer length")),A.read(V,ee,oe,52,8)}function I(V,ee,oe,ue,_e){if(_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+1<V.length,"trying to write beyond buffer length"),xe(ee,65535)),_e=V.length,!(_e<=oe))for(var Q=0,Oe=Math.min(_e-oe,2);Q<Oe;Q++)V[oe+Q]=(ee&255<<8*(ue?Q:1-Q))>>>8*(ue?Q:1-Q)}function F(V,ee,oe,ue,_e){if(_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+3<V.length,"trying to write beyond buffer length"),xe(ee,4294967295)),_e=V.length,!(_e<=oe))for(var Q=0,Oe=Math.min(_e-oe,4);Q<Oe;Q++)V[oe+Q]=ee>>>8*(ue?Q:3-Q)&255}function U(V,ee,oe,ue,_e){_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+1<V.length,"Trying to write beyond buffer length"),pe(ee,32767,-32768)),V.length<=oe||I(V,0<=ee?ee:65535+ee+1,oe,ue,_e)}function j(V,ee,oe,ue,_e){_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+3<V.length,"Trying to write beyond buffer length"),pe(ee,2147483647,-2147483648)),V.length<=oe||F(V,0<=ee?ee:4294967295+ee+1,oe,ue,_e)}function q(V,ee,oe,ue,_e){_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+3<V.length,"Trying to write beyond buffer length"),He(ee,34028234663852886e22,-34028234663852886e22)),V.length<=oe||A.write(V,ee,oe,ue,23,4)}function Z(V,ee,oe,ue,_e){_e||(ve(ee!=null,"missing value"),ve(typeof ue=="boolean","missing or invalid endian"),ve(oe!=null,"missing offset"),ve(oe+7<V.length,"Trying to write beyond buffer length"),He(ee,17976931348623157e292,-17976931348623157e292)),V.length<=oe||A.write(V,ee,oe,ue,52,8)}r.Buffer=_,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50,_.poolSize=8192,_._useTypedArrays=function(){try{var V=new ArrayBuffer(0),ee=new Uint8Array(V);return ee.foo=function(){return 42},ee.foo()===42&&typeof ee.subarray=="function"}catch{return!1}}(),_.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.isBuffer=function(V){return!(V==null||!V._isBuffer)},_.byteLength=function(V,ee){var oe;switch(V+="",ee||"utf8"){case"hex":oe=V.length/2;break;case"utf8":case"utf-8":oe=ae(V).length;break;case"ascii":case"binary":case"raw":oe=V.length;break;case"base64":oe=ye(V).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":oe=2*V.length;break;default:throw new Error("Unknown encoding")}return oe},_.concat=function(V,ee){if(ve(ne(V),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),V.length===0)return new _(0);if(V.length===1)return V[0];if(typeof ee!="number")for(_e=ee=0;_e<V.length;_e++)ee+=V[_e].length;for(var oe=new _(ee),ue=0,_e=0;_e<V.length;_e++){var Q=V[_e];Q.copy(oe,ue),ue+=Q.length}return oe},_.prototype.write=function(V,ee,oe,ue){isFinite(ee)?isFinite(oe)||(ue=oe,oe=void 0):(ke=ue,ue=ee,ee=oe,oe=ke),ee=Number(ee)||0;var _e,Q,Oe,we,ke=this.length-ee;switch((!oe||ke<(oe=Number(oe)))&&(oe=ke),ue=String(ue||"utf8").toLowerCase()){case"hex":_e=function(Ce,ut,De,ie){De=Number(De)||0;var $=Ce.length-De;(!ie||$<(ie=Number(ie)))&&(ie=$),ve(($=ut.length)%2==0,"Invalid hex string"),$/2<ie&&(ie=$/2);for(var Ae=0;Ae<ie;Ae++){var Le=parseInt(ut.substr(2*Ae,2),16);ve(!isNaN(Le),"Invalid hex string"),Ce[De+Ae]=Le}return _._charsWritten=2*Ae,Ae}(this,V,ee,oe);break;case"utf8":case"utf-8":Q=this,Oe=ee,we=oe,_e=_._charsWritten=Se(ae(V),Q,Oe,we);break;case"ascii":case"binary":_e=x(this,V,ee,oe);break;case"base64":Q=this,Oe=ee,we=oe,_e=_._charsWritten=Se(ye(V),Q,Oe,we);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":_e=T(this,V,ee,oe);break;default:throw new Error("Unknown encoding")}return _e},_.prototype.toString=function(V,ee,oe){var ue,_e,Q,Oe,we=this;if(V=String(V||"utf8").toLowerCase(),ee=Number(ee)||0,(oe=oe!==void 0?Number(oe):we.length)===ee)return"";switch(V){case"hex":ue=function(ke,Ce,ut){var De=ke.length;(!Ce||Ce<0)&&(Ce=0),(!ut||ut<0||De<ut)&&(ut=De);for(var ie="",$=Ce;$<ut;$++)ie+=K(ke[$]);return ie}(we,ee,oe);break;case"utf8":case"utf-8":ue=function(ke,Ce,ut){var De="",ie="";ut=Math.min(ke.length,ut);for(var $=Ce;$<ut;$++)ke[$]<=127?(De+=de(ie)+String.fromCharCode(ke[$]),ie=""):ie+="%"+ke[$].toString(16);return De+de(ie)}(we,ee,oe);break;case"ascii":case"binary":ue=C(we,ee,oe);break;case"base64":_e=we,Oe=oe,ue=(Q=ee)===0&&Oe===_e.length?b.fromByteArray(_e):b.fromByteArray(_e.slice(Q,Oe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ue=function(ke,Ce,ut){for(var De=ke.slice(Ce,ut),ie="",$=0;$<De.length;$+=2)ie+=String.fromCharCode(De[$]+256*De[$+1]);return ie}(we,ee,oe);break;default:throw new Error("Unknown encoding")}return ue},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},_.prototype.copy=function(V,ee,oe,ue){if(ee=ee||0,(ue=ue||ue===0?ue:this.length)!==(oe=oe||0)&&V.length!==0&&this.length!==0){ve(oe<=ue,"sourceEnd < sourceStart"),ve(0<=ee&&ee<V.length,"targetStart out of bounds"),ve(0<=oe&&oe<this.length,"sourceStart out of bounds"),ve(0<=ue&&ue<=this.length,"sourceEnd out of bounds"),ue>this.length&&(ue=this.length);var _e=(ue=V.length-ee<ue-oe?V.length-ee+oe:ue)-oe;if(_e<100||!_._useTypedArrays)for(var Q=0;Q<_e;Q++)V[Q+ee]=this[Q+oe];else V._set(this.subarray(oe,oe+_e),ee)}},_.prototype.slice=function(V,ee){var oe=this.length;if(V=Y(V,oe,0),ee=Y(ee,oe,oe),_._useTypedArrays)return _._augment(this.subarray(V,ee));for(var ue=ee-V,_e=new _(ue,void 0,!0),Q=0;Q<ue;Q++)_e[Q]=this[Q+V];return _e},_.prototype.get=function(V){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(V)},_.prototype.set=function(V,ee){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(V,ee)},_.prototype.readUInt8=function(V,ee){if(ee||(ve(V!=null,"missing offset"),ve(V<this.length,"Trying to read beyond buffer length")),!(V>=this.length))return this[V]},_.prototype.readUInt16LE=function(V,ee){return M(this,V,!0,ee)},_.prototype.readUInt16BE=function(V,ee){return M(this,V,!1,ee)},_.prototype.readUInt32LE=function(V,ee){return O(this,V,!0,ee)},_.prototype.readUInt32BE=function(V,ee){return O(this,V,!1,ee)},_.prototype.readInt8=function(V,ee){if(ee||(ve(V!=null,"missing offset"),ve(V<this.length,"Trying to read beyond buffer length")),!(V>=this.length))return 128&this[V]?-1*(255-this[V]+1):this[V]},_.prototype.readInt16LE=function(V,ee){return R(this,V,!0,ee)},_.prototype.readInt16BE=function(V,ee){return R(this,V,!1,ee)},_.prototype.readInt32LE=function(V,ee){return B(this,V,!0,ee)},_.prototype.readInt32BE=function(V,ee){return B(this,V,!1,ee)},_.prototype.readFloatLE=function(V,ee){return N(this,V,!0,ee)},_.prototype.readFloatBE=function(V,ee){return N(this,V,!1,ee)},_.prototype.readDoubleLE=function(V,ee){return P(this,V,!0,ee)},_.prototype.readDoubleBE=function(V,ee){return P(this,V,!1,ee)},_.prototype.writeUInt8=function(V,ee,oe){oe||(ve(V!=null,"missing value"),ve(ee!=null,"missing offset"),ve(ee<this.length,"trying to write beyond buffer length"),xe(V,255)),ee>=this.length||(this[ee]=V)},_.prototype.writeUInt16LE=function(V,ee,oe){I(this,V,ee,!0,oe)},_.prototype.writeUInt16BE=function(V,ee,oe){I(this,V,ee,!1,oe)},_.prototype.writeUInt32LE=function(V,ee,oe){F(this,V,ee,!0,oe)},_.prototype.writeUInt32BE=function(V,ee,oe){F(this,V,ee,!1,oe)},_.prototype.writeInt8=function(V,ee,oe){oe||(ve(V!=null,"missing value"),ve(ee!=null,"missing offset"),ve(ee<this.length,"Trying to write beyond buffer length"),pe(V,127,-128)),ee>=this.length||(0<=V?this.writeUInt8(V,ee,oe):this.writeUInt8(255+V+1,ee,oe))},_.prototype.writeInt16LE=function(V,ee,oe){U(this,V,ee,!0,oe)},_.prototype.writeInt16BE=function(V,ee,oe){U(this,V,ee,!1,oe)},_.prototype.writeInt32LE=function(V,ee,oe){j(this,V,ee,!0,oe)},_.prototype.writeInt32BE=function(V,ee,oe){j(this,V,ee,!1,oe)},_.prototype.writeFloatLE=function(V,ee,oe){q(this,V,ee,!0,oe)},_.prototype.writeFloatBE=function(V,ee,oe){q(this,V,ee,!1,oe)},_.prototype.writeDoubleLE=function(V,ee,oe){Z(this,V,ee,!0,oe)},_.prototype.writeDoubleBE=function(V,ee,oe){Z(this,V,ee,!1,oe)},_.prototype.fill=function(V,ee,oe){if(ee=ee||0,oe=oe||this.length,ve(typeof(V=typeof(V=V||0)=="string"?V.charCodeAt(0):V)=="number"&&!isNaN(V),"value is not a number"),ve(ee<=oe,"end < start"),oe!==ee&&this.length!==0){ve(0<=ee&&ee<this.length,"start out of bounds"),ve(0<=oe&&oe<=this.length,"end out of bounds");for(var ue=ee;ue<oe;ue++)this[ue]=V}},_.prototype.inspect=function(){for(var V=[],ee=this.length,oe=0;oe<ee;oe++)if(V[oe]=K(this[oe]),oe===r.INSPECT_MAX_BYTES){V[oe+1]="...";break}return"<Buffer "+V.join(" ")+">"},_.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(_._useTypedArrays)return new _(this).buffer;for(var V=new Uint8Array(this.length),ee=0,oe=V.length;ee<oe;ee+=1)V[ee]=this[ee];return V.buffer};var H=_.prototype;function Y(V,ee,oe){return typeof V!="number"?oe:ee<=(V=~~V)?ee:0<=V||0<=(V+=ee)?V:0}function X(V){return(V=~~Math.ceil(+V))<0?0:V}function ne(V){return(Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"})(V)}function K(V){return V<16?"0"+V.toString(16):V.toString(16)}function ae(V){for(var ee=[],oe=0;oe<V.length;oe++){var ue=V.charCodeAt(oe);if(ue<=127)ee.push(V.charCodeAt(oe));else for(var _e=oe,Q=(55296<=ue&&ue<=57343&&oe++,encodeURIComponent(V.slice(_e,oe+1)).substr(1).split("%")),Oe=0;Oe<Q.length;Oe++)ee.push(parseInt(Q[Oe],16))}return ee}function ye(V){return b.toByteArray(V)}function Se(V,ee,oe,ue){for(var _e=0;_e<ue&&!(_e+oe>=ee.length||_e>=V.length);_e++)ee[_e+oe]=V[_e];return _e}function de(V){try{return decodeURIComponent(V)}catch{return""}}function xe(V,ee){ve(typeof V=="number","cannot write a non-number as a number"),ve(0<=V,"specified a negative value for writing an unsigned value"),ve(V<=ee,"value is larger than maximum value for type"),ve(Math.floor(V)===V,"value has a fractional component")}function pe(V,ee,oe){ve(typeof V=="number","cannot write a non-number as a number"),ve(V<=ee,"value larger than maximum allowed value"),ve(oe<=V,"value smaller than minimum allowed value"),ve(Math.floor(V)===V,"value has a fractional component")}function He(V,ee,oe){ve(typeof V=="number","cannot write a non-number as a number"),ve(V<=ee,"value larger than maximum allowed value"),ve(oe<=V,"value smaller than minimum allowed value")}function ve(V,ee){if(!V)throw new Error(ee||"Failed assertion")}_._augment=function(V){return V._isBuffer=!0,V._get=V.get,V._set=V.set,V.get=H.get,V.set=H.set,V.write=H.write,V.toString=H.toString,V.toLocaleString=H.toString,V.toJSON=H.toJSON,V.copy=H.copy,V.slice=H.slice,V.readUInt8=H.readUInt8,V.readUInt16LE=H.readUInt16LE,V.readUInt16BE=H.readUInt16BE,V.readUInt32LE=H.readUInt32LE,V.readUInt32BE=H.readUInt32BE,V.readInt8=H.readInt8,V.readInt16LE=H.readInt16LE,V.readInt16BE=H.readInt16BE,V.readInt32LE=H.readInt32LE,V.readInt32BE=H.readInt32BE,V.readFloatLE=H.readFloatLE,V.readFloatBE=H.readFloatBE,V.readDoubleLE=H.readDoubleLE,V.readDoubleBE=H.readDoubleBE,V.writeUInt8=H.writeUInt8,V.writeUInt16LE=H.writeUInt16LE,V.writeUInt16BE=H.writeUInt16BE,V.writeUInt32LE=H.writeUInt32LE,V.writeUInt32BE=H.writeUInt32BE,V.writeInt8=H.writeInt8,V.writeInt16LE=H.writeInt16LE,V.writeInt16BE=H.writeInt16BE,V.writeInt32LE=H.writeInt32LE,V.writeInt32BE=H.writeInt32BE,V.writeFloatLE=H.writeFloatLE,V.writeFloatBE=H.writeFloatBE,V.writeDoubleLE=H.writeDoubleLE,V.writeDoubleBE=H.writeDoubleBE,V.fill=H.fill,V.inspect=H.inspect,V.toArrayBuffer=H.toArrayBuffer,V}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,i,r){(function(s,a,b,l,c,d,h,m,v){var b=t("buffer").Buffer,A=4,_=new b(A);_.fill(0),i.exports={hash:function(x,T,C,M){for(var O=T(function(I,F){I.length%A!=0&&(U=I.length+(A-I.length%A),I=b.concat([I,_],U));for(var U,j=[],q=F?I.readInt32BE:I.readInt32LE,Z=0;Z<I.length;Z+=A)j.push(q.call(I,Z));return j}(x=b.isBuffer(x)?x:new b(x),M),8*x.length),T=M,R=new b(C),B=T?R.writeInt32BE:R.writeInt32LE,N=0;N<O.length;N++)B.call(R,O[N],4*N,!0);return R}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,i,r){(function(s,a,b,l,c,d,h,m,v){var b=t("buffer").Buffer,A=t("./sha"),_=t("./sha256"),x=t("./rng"),T={sha1:A,sha256:_,md5:t("./md5")},C=64,M=new b(C);function O(I,F){var U=T[I=I||"sha1"],j=[];return U||R("algorithm:",I,"is not yet supported"),{update:function(q){return b.isBuffer(q)||(q=new b(q)),j.push(q),q.length,this},digest:function(q){var Z=b.concat(j),Z=F?function(H,Y,X){b.isBuffer(Y)||(Y=new b(Y)),b.isBuffer(X)||(X=new b(X)),Y.length>C?Y=H(Y):Y.length<C&&(Y=b.concat([Y,M],C));for(var ne=new b(C),K=new b(C),ae=0;ae<C;ae++)ne[ae]=54^Y[ae],K[ae]=92^Y[ae];return X=H(b.concat([ne,X])),H(b.concat([K,X]))}(U,F,Z):U(Z);return j=null,q?Z.toString(q):Z}}}function R(){var I=[].slice.call(arguments).join(" ");throw new Error([I,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}M.fill(0),r.createHash=function(I){return O(I)},r.createHmac=O,r.randomBytes=function(I,F){if(!F||!F.call)return new b(x(I));try{F.call(this,void 0,new b(x(I)))}catch(U){F(U)}};var B,N=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],P=function(I){r[I]=function(){R("sorry,",I,"is not implemented yet")}};for(B in N)P(N[B])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){var b=t("./helpers");function A(R,B){R[B>>5]|=128<<B%32,R[14+(B+64>>>9<<4)]=B;for(var N=1732584193,P=-271733879,I=-1732584194,F=271733878,U=0;U<R.length;U+=16){var j=N,q=P,Z=I,H=F,N=x(N,P,I,F,R[U+0],7,-680876936),F=x(F,N,P,I,R[U+1],12,-389564586),I=x(I,F,N,P,R[U+2],17,606105819),P=x(P,I,F,N,R[U+3],22,-1044525330);N=x(N,P,I,F,R[U+4],7,-176418897),F=x(F,N,P,I,R[U+5],12,1200080426),I=x(I,F,N,P,R[U+6],17,-1473231341),P=x(P,I,F,N,R[U+7],22,-45705983),N=x(N,P,I,F,R[U+8],7,1770035416),F=x(F,N,P,I,R[U+9],12,-1958414417),I=x(I,F,N,P,R[U+10],17,-42063),P=x(P,I,F,N,R[U+11],22,-1990404162),N=x(N,P,I,F,R[U+12],7,1804603682),F=x(F,N,P,I,R[U+13],12,-40341101),I=x(I,F,N,P,R[U+14],17,-1502002290),N=T(N,P=x(P,I,F,N,R[U+15],22,1236535329),I,F,R[U+1],5,-165796510),F=T(F,N,P,I,R[U+6],9,-1069501632),I=T(I,F,N,P,R[U+11],14,643717713),P=T(P,I,F,N,R[U+0],20,-373897302),N=T(N,P,I,F,R[U+5],5,-701558691),F=T(F,N,P,I,R[U+10],9,38016083),I=T(I,F,N,P,R[U+15],14,-660478335),P=T(P,I,F,N,R[U+4],20,-405537848),N=T(N,P,I,F,R[U+9],5,568446438),F=T(F,N,P,I,R[U+14],9,-1019803690),I=T(I,F,N,P,R[U+3],14,-187363961),P=T(P,I,F,N,R[U+8],20,1163531501),N=T(N,P,I,F,R[U+13],5,-1444681467),F=T(F,N,P,I,R[U+2],9,-51403784),I=T(I,F,N,P,R[U+7],14,1735328473),N=C(N,P=T(P,I,F,N,R[U+12],20,-1926607734),I,F,R[U+5],4,-378558),F=C(F,N,P,I,R[U+8],11,-2022574463),I=C(I,F,N,P,R[U+11],16,1839030562),P=C(P,I,F,N,R[U+14],23,-35309556),N=C(N,P,I,F,R[U+1],4,-1530992060),F=C(F,N,P,I,R[U+4],11,1272893353),I=C(I,F,N,P,R[U+7],16,-155497632),P=C(P,I,F,N,R[U+10],23,-1094730640),N=C(N,P,I,F,R[U+13],4,681279174),F=C(F,N,P,I,R[U+0],11,-358537222),I=C(I,F,N,P,R[U+3],16,-722521979),P=C(P,I,F,N,R[U+6],23,76029189),N=C(N,P,I,F,R[U+9],4,-640364487),F=C(F,N,P,I,R[U+12],11,-421815835),I=C(I,F,N,P,R[U+15],16,530742520),N=M(N,P=C(P,I,F,N,R[U+2],23,-995338651),I,F,R[U+0],6,-198630844),F=M(F,N,P,I,R[U+7],10,1126891415),I=M(I,F,N,P,R[U+14],15,-1416354905),P=M(P,I,F,N,R[U+5],21,-57434055),N=M(N,P,I,F,R[U+12],6,1700485571),F=M(F,N,P,I,R[U+3],10,-1894986606),I=M(I,F,N,P,R[U+10],15,-1051523),P=M(P,I,F,N,R[U+1],21,-2054922799),N=M(N,P,I,F,R[U+8],6,1873313359),F=M(F,N,P,I,R[U+15],10,-30611744),I=M(I,F,N,P,R[U+6],15,-1560198380),P=M(P,I,F,N,R[U+13],21,1309151649),N=M(N,P,I,F,R[U+4],6,-145523070),F=M(F,N,P,I,R[U+11],10,-1120210379),I=M(I,F,N,P,R[U+2],15,718787259),P=M(P,I,F,N,R[U+9],21,-343485551),N=O(N,j),P=O(P,q),I=O(I,Z),F=O(F,H)}return Array(N,P,I,F)}function _(R,B,N,P,I,F){return O((B=O(O(B,R),O(P,F)))<<I|B>>>32-I,N)}function x(R,B,N,P,I,F,U){return _(B&N|~B&P,R,B,I,F,U)}function T(R,B,N,P,I,F,U){return _(B&P|N&~P,R,B,I,F,U)}function C(R,B,N,P,I,F,U){return _(B^N^P,R,B,I,F,U)}function M(R,B,N,P,I,F,U){return _(N^(B|~P),R,B,I,F,U)}function O(R,B){var N=(65535&R)+(65535&B);return(R>>16)+(B>>16)+(N>>16)<<16|65535&N}i.exports=function(R){return b.hash(R,A,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){i.exports=function(b){for(var A,_=new Array(b),x=0;x<b;x++)(3&x)==0&&(A=4294967296*Math.random()),_[x]=A>>>((3&x)<<3)&255;return _}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){var b=t("./helpers");function A(T,C){T[C>>5]|=128<<24-C%32,T[15+(C+64>>9<<4)]=C;for(var M,O,R,B=Array(80),N=1732584193,P=-271733879,I=-1732584194,F=271733878,U=-1009589776,j=0;j<T.length;j+=16){for(var q=N,Z=P,H=I,Y=F,X=U,ne=0;ne<80;ne++){B[ne]=ne<16?T[j+ne]:x(B[ne-3]^B[ne-8]^B[ne-14]^B[ne-16],1);var K=_(_(x(N,5),(K=P,O=I,R=F,(M=ne)<20?K&O|~K&R:!(M<40)&&M<60?K&O|K&R|O&R:K^O^R)),_(_(U,B[ne]),(M=ne)<20?1518500249:M<40?1859775393:M<60?-1894007588:-899497514)),U=F,F=I,I=x(P,30),P=N,N=K}N=_(N,q),P=_(P,Z),I=_(I,H),F=_(F,Y),U=_(U,X)}return Array(N,P,I,F,U)}function _(T,C){var M=(65535&T)+(65535&C);return(T>>16)+(C>>16)+(M>>16)<<16|65535&M}function x(T,C){return T<<C|T>>>32-C}i.exports=function(T){return b.hash(T,A,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){function b(C,M){var O=(65535&C)+(65535&M);return(C>>16)+(M>>16)+(O>>16)<<16|65535&O}function A(C,M){var O,R=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),B=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),N=new Array(64);C[M>>5]|=128<<24-M%32,C[15+(M+64>>9<<4)]=M;for(var P,I,F=0;F<C.length;F+=16){for(var U=B[0],j=B[1],q=B[2],Z=B[3],H=B[4],Y=B[5],X=B[6],ne=B[7],K=0;K<64;K++)N[K]=K<16?C[K+F]:b(b(b((I=N[K-2],x(I,17)^x(I,19)^T(I,10)),N[K-7]),(I=N[K-15],x(I,7)^x(I,18)^T(I,3))),N[K-16]),O=b(b(b(b(ne,x(I=H,6)^x(I,11)^x(I,25)),H&Y^~H&X),R[K]),N[K]),P=b(x(P=U,2)^x(P,13)^x(P,22),U&j^U&q^j&q),ne=X,X=Y,Y=H,H=b(Z,O),Z=q,q=j,j=U,U=b(O,P);B[0]=b(U,B[0]),B[1]=b(j,B[1]),B[2]=b(q,B[2]),B[3]=b(Z,B[3]),B[4]=b(H,B[4]),B[5]=b(Y,B[5]),B[6]=b(X,B[6]),B[7]=b(ne,B[7])}return B}var _=t("./helpers"),x=function(C,M){return C>>>M|C<<32-M},T=function(C,M){return C>>>M};i.exports=function(C){return _.hash(C,A,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){r.read=function(b,A,_,x,F){var C,M,O=8*F-x-1,R=(1<<O)-1,B=R>>1,N=-7,P=_?F-1:0,I=_?-1:1,F=b[A+P];for(P+=I,C=F&(1<<-N)-1,F>>=-N,N+=O;0<N;C=256*C+b[A+P],P+=I,N-=8);for(M=C&(1<<-N)-1,C>>=-N,N+=x;0<N;M=256*M+b[A+P],P+=I,N-=8);if(C===0)C=1-B;else{if(C===R)return M?NaN:1/0*(F?-1:1);M+=Math.pow(2,x),C-=B}return(F?-1:1)*M*Math.pow(2,C-x)},r.write=function(b,A,_,x,T,U){var M,O,R=8*U-T-1,B=(1<<R)-1,N=B>>1,P=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=x?0:U-1,F=x?1:-1,U=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(O=isNaN(A)?1:0,M=B):(M=Math.floor(Math.log(A)/Math.LN2),A*(x=Math.pow(2,-M))<1&&(M--,x*=2),2<=(A+=1<=M+N?P/x:P*Math.pow(2,1-N))*x&&(M++,x/=2),B<=M+N?(O=0,M=B):1<=M+N?(O=(A*x-1)*Math.pow(2,T),M+=N):(O=A*Math.pow(2,N-1)*Math.pow(2,T),M=0));8<=T;b[_+I]=255&O,I+=F,O/=256,T-=8);for(M=M<<T|O,R+=T;0<R;b[_+I]=255&M,I+=F,M/=256,R-=8);b[_+I-F]|=128*U}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,i,r){(function(s,a,o,l,c,d,h,m,v){var b,A,_;function x(){}(s=i.exports={}).nextTick=(A=typeof window<"u"&&window.setImmediate,_=typeof window<"u"&&window.postMessage&&window.addEventListener,A?function(T){return window.setImmediate(T)}:_?(b=[],window.addEventListener("message",function(T){var C=T.source;C!==window&&C!==null||T.data!=="process-tick"||(T.stopPropagation(),0<b.length&&b.shift()())},!0),function(T){b.push(T),window.postMessage("process-tick","*")}):function(T){setTimeout(T,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.binding=function(T){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(T){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(BI)),BI.exports}var cge=lge();const ZW=C0(cge),zT=()=>"/TI-Stats/",IP=n=>(console.log(n),ZW({date:n.date,players:n.playedFactions.map(e=>e.player).sort(),factions:n.playedFactions.map(e=>e.faction).sort()}));async function uge(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map(r=>r.toString(16).padStart(2,"0")).join("")}function e7(n){return ZW(n)}function Uz(n){let e=0;for(let i=0;i<n.length;i++)e=n.charCodeAt(i)+((e<<5)-e);return`hsl(${e%360}, 70%, 30%)`}function dge(n){switch(console.log(n),n){case"The Emirates of Hacan":return"#ffb31f";case"The Federation of Sol":return"#66a6e6";case"The Barony of Letnev":return"#cc0000";case"Sardakk N'orr":return"#3a3a3a";case"The Universities of Jol-Nar":return"#8040bf";case"The Yssaril Tribes":return"#a3b33d";case"The Nekro Virus":return"#ff0000";case"The Naalu Collective":return"#006400";case"The Mentak Coalition":return"#804000";case"The Xxcha Kingdom":return"#409a80";case"The Ghosts of Creuss":return"#0a0a90";case"The Arborec":return"#2ab86a";case"The Clan of Saar":return"#a9b837";case"The Yin Brotherhood":return"#a31fd9";case"The Argent Flight":return"#cc7722";case"The Empyrean":return"#800080";case"The Mahact Gene-Sorcerers":return"#ffff29";case"The Naaz-Rokha Alliance":return"#006400";case"The Nomad":return"#8040bf";case"The Titans of Ul":return"#ff00ff";case"The Vuil'raith Cabal":return"#800000";case"The Embers of Muaat":return"#ff4c00";case"The Winnu":return"#ffcb26";case"The L1Z1X Mindnet":return"#3366cc";default:return"black"}}async function fge(n,e){await eA(H0(z0,`campaigns/${n}/players/${e.name}`),e)}async function vx(n){const e=await Jw(`campaigns/${n}/players`,[]);return e?Object.values(e):[]}async function hge(n,e){await eA(H0(z0,`campaigns/${n}/games/${IP(e)}`),e)}async function bx(n){const e=await Jw(`campaigns/${n}/games`,[]);return e?Object.values(e):[]}async function pge(n){await eA(H0(z0,`campaignInfos/${n.id}`),n)}async function mge(n){return await Jw(`campaignInfos/${n}`,null)}async function gge(n,e,t,i){await eA(H0(z0,`campaigns/${n}/calendar/${e}/${t}/${e7(i)}`),i)}async function yge(n,e,t,i){await $me(H0(z0,`campaigns/${n}/calendar/${e}/${t}/${e7(i)}`))}async function kz(n,e,t){const i=await Jw(`campaigns/${n}/calendar/${e}/${t}`,[]);return i?Object.values(i):[]}async function Jw(n,e){const t=await Kme(H0(z0,n));return t.exists()?t.val():e}const tA=gB({breakpoints:{values:{xs:0,sm:410,md:600,lg:900,xl:1200}},components:{MuiTextField:{styleOverrides:{root:({theme:n})=>({[n.breakpoints.down("md")]:{"& .MuiInputBase-root":{fontSize:"0.8rem",padding:"4px 8px"},"& .MuiInputLabel-root":{fontSize:"0.8rem"}}})}},MuiAutocomplete:{styleOverrides:{root:({theme:n})=>({[n.breakpoints.down("md")]:{"& .MuiInputBase-root":{fontSize:"0.8rem"}}})}}},typography:{fontFamily:'"TI Main Font", "TI Title Font", "Roboto", "Arial", sans-serif'},palette:{custom:{leader:{main:"#bd2932"},diplomacy:{main:"#d78d31"},politics:{main:"#eadd0b"},construction:{main:"#5e9e36"},trade:{main:"#1c9790"},warfare:{main:"#1378a4"},technology:{main:"#373a7b"},empire:{main:"#66376d"}}}}),t7=({playerOrder:n,availablePlayers:e,availableFactions:t,chosenPlayer:i,setPlayer:r,chosenFaction:s,setFaction:a,disabled:o=!1})=>W.jsxs(Ss,{sx:{display:"flex",marginBottom:"10px",[tA.breakpoints.down("md")]:{flexDirection:"column",gap:"8px",padding:"3px",border:"1px dashed #106a9aff"}},children:[W.jsx(Yv,{options:e,value:i,onChange:(l,c)=>r(c||""),renderInput:l=>W.jsx(xu,{...l,label:"Player "+n,variant:"outlined",size:"small"}),disabled:o,sx:{width:"100%"}}),W.jsx(Yv,{options:t,value:s,onChange:(l,c)=>a(c||""),renderInput:l=>W.jsx(xu,{...l,label:"Faction "+n,variant:"outlined",size:"small"}),disabled:o,sx:{width:"100%"}})]}),vge=mo(W.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"})),bge=mo(W.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"})),OP=({title:n,isOpen:e,optionName:t,openCloseCallback:i,children:r})=>W.jsxs("div",{children:[W.jsxs("div",{onClick:()=>i(e?null:t),style:{borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",backgroundColor:"#1e668aff",opacity:"0.5",marginBottom:"8px"},children:[W.jsx(qr,{children:n}),e?W.jsx(bge,{}):W.jsx(vge,{})]}),W.jsx(mT,{id:"player-faction-collapse",in:e,children:W.jsx("div",{style:{display:"flex",flexDirection:"column",flexShrink:1,marginTop:8},children:r})})]}),_ge=({game:n})=>{const[e,t]=G.useState(null);return W.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[W.jsx(OP,{title:"Players & Factions",isOpen:e==="player-faction",optionName:"player-faction",openCloseCallback:t,children:n.playedFactions.map((i,r)=>W.jsx(t7,{playerOrder:(r+1).toString(),availablePlayers:[i.player],availableFactions:[i.faction],chosenPlayer:i.player,setPlayer:()=>{},chosenFaction:i.faction,setFaction:()=>{},disabled:!0},r))}),W.jsx(OP,{title:"Winner",isOpen:e==="winner",optionName:"winner",openCloseCallback:t,children:W.jsx(Yv,{options:[],value:n.winnersName,renderInput:i=>W.jsx(xu,{...i,label:"Winner",variant:"outlined",size:"small"}),disabled:!0,sx:{width:"100%"}})})]})},xge=mo(W.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Sge=mo(W.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-10 7H8v3H6v-3H3v-2h3V8h2v3h3zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),n7=({title:n,listContent:e,emptyContentText:t,itemKey:i,itemCallback:r,children:s})=>W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s&&W.jsx("div",{onClick:()=>r?r(null):null,style:{cursor:"pointer"},children:W.jsx(xge,{})}),W.jsx("div",{style:{flexGrow:1},children:W.jsx(qr,{variant:"h6",gutterBottom:!0,children:n})}),s&&W.jsx(Sge,{})]}),e.length===0&&W.jsx(qr,{variant:"body1",gutterBottom:!0,children:t}),!s&&e.map((a,o)=>W.jsx("div",{onClick:()=>r?r(a):null,style:{cursor:r?"pointer":"default",marginBottom:"2px"},children:W.jsxs(qr,{variant:"body1",children:[" ",i?a[i]:a]},o)},o)),s]}),Age=({campaignId:n,availableFactions:e,gameAddedCallback:t})=>{const[i,r]=G.useState([]),[s,a]=G.useState([]),[o,l]=G.useState(null),[c,d]=G.useState(""),[h,m]=G.useState(""),[v,b]=G.useState(3),[A,_]=G.useState([{player:"",faction:""},{player:"",faction:""},{player:"",faction:""}]),x=(O,R,B)=>{const N=[...A];N[O][R]=B,_(N)};G.useEffect(()=>{bx(n).then(O=>r(O.sort((R,B)=>new Date(R.date).getTime()-new Date(B.date).getTime()))),vx(n).then(O=>a(O))},[n]);const T=async()=>{r(await bx(n));const O=IP({date:c,playedFactions:[],winnersName:h});if(i!=null&&i.map(B=>IP(B)).includes(O))return;d(""),m(""),b(3),_([{player:"",faction:""},{player:"",faction:""},{player:"",faction:""}]),await hge(n,{date:c,playedFactions:A,winnersName:h}),bx(n).then(B=>r(B.sort((N,P)=>new Date(N.date).getTime()-new Date(P.date).getTime()))),t()},C=O=>{_(R=>{const B=O-R.length;if(B<=0)return R.slice(0,Math.max(3,O));const N=Array.from({length:B},()=>({player:"",faction:""}));return[...R,...N]}),b(O)},M=()=>c&&h&&A.every(O=>O.player&&O.faction);return W.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:4,margin:10},children:[W.jsx("div",{children:W.jsx(mT,{in:o===null,timeout:600,children:W.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:4},children:[W.jsx(xu,{label:"Game Date",type:"date",variant:"outlined",value:c,onChange:O=>d(O.target.value),size:"small",slotProps:{inputLabel:{shrink:!0}}}),W.jsx(Yv,{options:s.map(O=>O.name),value:h,onChange:(O,R)=>m(R||""),renderInput:O=>W.jsx(xu,{...O,label:"Winner",variant:"outlined",size:"small"})}),W.jsx(Yv,{options:["3","4","5","6","7","8"],value:v.toString(),onChange:(O,R)=>C(R?parseInt(R):3),renderInput:O=>W.jsx(xu,{...O,label:"Number of players",variant:"outlined",size:"small"})}),W.jsx(qx,{}),W.jsx(Ss,{children:Array.from({length:v}).map((O,R)=>W.jsx(t7,{playerOrder:(R+1).toString(),availablePlayers:s.map(B=>B.name).filter(B=>!A.map(N=>N.player).includes(B)),availableFactions:e.filter(B=>!A.map(N=>N.faction).includes(B)),chosenPlayer:A[R].player,setPlayer:B=>x(R,"player",B),chosenFaction:A[R].faction,setFaction:B=>x(R,"faction",B)},R))}),W.jsx(Xv,{variant:"contained",onClick:T,disabled:!M(),children:"Add Game"})]})})}),W.jsx(Jd,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"5px",display:"flex",flexDirection:"column"},children:W.jsx(n7,{title:o?o.date:"Games",listContent:i,emptyContentText:"No games recorded yet.",itemKey:"date",itemCallback:l,children:o&&W.jsx(_ge,{game:o})})})]})},Ege=({campaignId:n})=>{const[e,t]=G.useState(""),[i,r]=G.useState([]);G.useEffect(()=>{vx(n).then(a=>r(a)),console.log("Fetched players")},[n]);const s=async()=>{r(await vx(n));const a=e.trim(),o={name:a};!a||i!=null&&i.map(l=>l.name).includes(a)||(await fge(n,o),t(""),vx(n).then(l=>r(l)))};return W.jsxs(Ss,{sx:{display:"flex",gap:4,padding:2,[tA.breakpoints.down("md")]:{flexDirection:"column"}},children:[W.jsxs(Ss,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[W.jsx(xu,{label:"Player Name",variant:"outlined",value:e,onChange:a=>t(a.target.value),size:"small",sx:{minWidth:"200px",width:"30%",maxWidth:"500px"}}),W.jsx(Xv,{variant:"contained",onClick:s,disabled:!e.trim(),children:"Add Player"})]}),W.jsx(Jd,{elevation:3,sx:{padding:2,backgroundColor:"rgba(0,0,0,0.1)",minWidth:"150px",overflowY:"auto",height:"min-content"},children:W.jsx(n7,{title:"Players",listContent:i,emptyContentText:"No players added yet.",itemKey:"name"})})]})},i7=G.createContext({});function Cge(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const RL=typeof window<"u",Tge=RL?G.useLayoutEffect:G.useEffect,DL=G.createContext(null);function IL(n,e){n.indexOf(e)===-1&&n.push(e)}function OL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zd=(n,e,t)=>t>e?e:t<n?n:t;let PL=()=>{};const Gd={},r7=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function s7(n){return typeof n=="object"&&n!==null}const a7=n=>/^0[^.\s]+$/u.test(n);function NL(n){let e;return()=>(e===void 0&&(e=n()),e)}const wl=n=>n,Mge=(n,e)=>t=>e(n(t)),nA=(...n)=>n.reduce(Mge),aS=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class BL{constructor(){this.subscriptions=[]}add(e){return IL(this.subscriptions,e),()=>OL(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Eu=n=>n*1e3,Cu=n=>n/1e3;function o7(n,e){return e?n*(1e3/e):0}const l7=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wge=1e-7,Rge=12;function Dge(n,e,t,i,r){let s,a,o=0;do a=e+(t-e)/2,s=l7(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>wge&&++o<Rge);return a}function iA(n,e,t,i){if(n===e&&t===i)return wl;const r=s=>Dge(s,0,1,n,t);return s=>s===0||s===1?s:l7(r(s),e,i)}const c7=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,u7=n=>e=>1-n(1-e),d7=iA(.33,1.53,.69,.99),LL=u7(d7),f7=c7(LL),h7=n=>(n*=2)<1?.5*LL(n):.5*(2-Math.pow(2,-10*(n-1))),UL=n=>1-Math.sin(Math.acos(n)),p7=u7(UL),m7=c7(UL),Ige=iA(.42,0,1,1),Oge=iA(0,0,.58,1),g7=iA(.42,0,.58,1),Pge=n=>Array.isArray(n)&&typeof n[0]!="number",y7=n=>Array.isArray(n)&&typeof n[0]=="number",Nge={linear:wl,easeIn:Ige,easeInOut:g7,easeOut:Oge,circIn:UL,circInOut:m7,circOut:p7,backIn:LL,backInOut:f7,backOut:d7,anticipate:h7},Bge=n=>typeof n=="string",Fz=n=>{if(y7(n)){PL(n.length===4);const[e,t,i,r]=n;return iA(e,t,i,r)}else if(Bge(n))return Nge[n];return n},_C=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hz={value:null};function Lge(n,e){let t=new Set,i=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){a.has(h)&&(d.schedule(h),n()),l++,h(o)}const d={schedule:(h,m=!1,v=!1)=>{const A=v&&r?t:i;return m&&a.add(h),A.has(h)||A.add(h),h},cancel:h=>{i.delete(h),a.delete(h)},process:h=>{if(o=h,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(c),e&&Hz.value&&Hz.value.frameloop[e].push(l),l=0,t.clear(),r=!1,s&&(s=!1,d.process(h))}};return d}const Uge=40;function v7(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=_C.reduce((C,M)=>(C[M]=Lge(s,e?M:void 0),C),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:m,render:v,postRender:b}=a,A=()=>{const C=Gd.useManualTiming?r.timestamp:performance.now();t=!1,Gd.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,Uge),1)),r.timestamp=C,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),h.process(r),m.process(r),v.process(r),b.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},_=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:_C.reduce((C,M)=>{const O=a[M];return C[M]=(R,B=!1,N=!1)=>(t||_(),O.schedule(R,B,N)),C},{}),cancel:C=>{for(let M=0;M<_C.length;M++)a[_C[M]].cancel(C)},state:r,steps:a}}const{schedule:fr,cancel:Uh,state:zs,steps:LI}=v7(typeof requestAnimationFrame<"u"?requestAnimationFrame:wl,!0);let $1;function kge(){$1=void 0}const io={now:()=>($1===void 0&&io.set(zs.isProcessing||Gd.useManualTiming?zs.timestamp:performance.now()),$1),set:n=>{$1=n,queueMicrotask(kge)}},b7=n=>e=>typeof e=="string"&&e.startsWith(n),kL=b7("--"),Fge=b7("var(--"),FL=n=>Fge(n)?Hge.test(n.split("/*")[0].trim()):!1,Hge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,G0={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},oS={...G0,transform:n=>zd(0,1,n)},xC={...G0,default:1},_x=n=>Math.round(n*1e5)/1e5,HL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zge(n){return n==null}const Gge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zL=(n,e)=>t=>!!(typeof t=="string"&&Gge.test(t)&&t.startsWith(n)||e&&!zge(t)&&Object.prototype.hasOwnProperty.call(t,e)),_7=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(HL);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Vge=n=>zd(0,255,n),UI={...G0,transform:n=>Math.round(Vge(n))},Mm={test:zL("rgb","red"),parse:_7("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+UI.transform(n)+", "+UI.transform(e)+", "+UI.transform(t)+", "+_x(oS.transform(i))+")"};function jge(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const PP={test:zL("#"),parse:jge,transform:Mm.transform},rA=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),uh=rA("deg"),Tu=rA("%"),dn=rA("px"),Wge=rA("vh"),Yge=rA("vw"),zz={...Tu,parse:n=>Tu.parse(n)/100,transform:n=>Tu.transform(n*100)},pv={test:zL("hsl","hue"),parse:_7("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Tu.transform(_x(e))+", "+Tu.transform(_x(t))+", "+_x(oS.transform(i))+")"},ra={test:n=>Mm.test(n)||PP.test(n)||pv.test(n),parse:n=>Mm.test(n)?Mm.parse(n):pv.test(n)?pv.parse(n):PP.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Mm.transform(n):pv.transform(n)},Xge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qge(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(HL))==null?void 0:e.length)||0)+(((t=n.match(Xge))==null?void 0:t.length)||0)>0}const x7="number",S7="color",$ge="var",Kge="var(",Gz="${}",Jge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lS(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(Jge,l=>(ra.test(l)?(i.color.push(s),r.push(S7),t.push(ra.parse(l))):l.startsWith(Kge)?(i.var.push(s),r.push($ge),t.push(l)):(i.number.push(s),r.push(x7),t.push(parseFloat(l))),++s,Gz)).split(Gz);return{values:t,split:o,indexes:i,types:r}}function A7(n){return lS(n).values}function E7(n){const{split:e,types:t}=lS(n),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=t[a];o===x7?s+=_x(r[a]):o===S7?s+=ra.transform(r[a]):s+=r[a]}return s}}const Qge=n=>typeof n=="number"?0:n;function Zge(n){const e=A7(n);return E7(n)(e.map(Qge))}const kh={test:qge,parse:A7,createTransformer:E7,getAnimatableNone:Zge};function kI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function eye({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;r=kI(l,o,n+1/3),s=kI(l,o,n),a=kI(l,o,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function GT(n,e){return t=>t>0?e:n}const ur=(n,e,t)=>n+(e-n)*t,FI=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},tye=[PP,Mm,pv],nye=n=>tye.find(e=>e.test(n));function Vz(n){const e=nye(n);if(!e)return!1;let t=e.parse(n);return e===pv&&(t=eye(t)),t}const jz=(n,e)=>{const t=Vz(n),i=Vz(e);if(!t||!i)return GT(n,e);const r={...t};return s=>(r.red=FI(t.red,i.red,s),r.green=FI(t.green,i.green,s),r.blue=FI(t.blue,i.blue,s),r.alpha=ur(t.alpha,i.alpha,s),Mm.transform(r))},NP=new Set(["none","hidden"]);function iye(n,e){return NP.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function rye(n,e){return t=>ur(n,e,t)}function GL(n){return typeof n=="number"?rye:typeof n=="string"?FL(n)?GT:ra.test(n)?jz:oye:Array.isArray(n)?C7:typeof n=="object"?ra.test(n)?jz:sye:GT}function C7(n,e){const t=[...n],i=t.length,r=n.map((s,a)=>GL(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)t[a]=r[a](s);return t}}function sye(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=GL(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function aye(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],a=n.indexes[s][i[s]],o=n.values[a]??0;t[r]=o,i[s]++}return t}const oye=(n,e)=>{const t=kh.createTransformer(e),i=lS(n),r=lS(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?NP.has(n)&&!r.values.length||NP.has(e)&&!i.values.length?iye(n,e):nA(C7(aye(i,r),r.values),t):GT(n,e)};function T7(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ur(n,e,t):GL(n)(n,e)}const lye=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>fr.update(e,t),stop:()=>Uh(e),now:()=>zs.isProcessing?zs.timestamp:io.now()}},M7=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(s/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},VT=2e4;function VL(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<VT;)e+=t,i=n.next(e);return e>=VT?1/0:e}function cye(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(VL(i),VT);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Cu(r)}}const uye=5;function w7(n,e,t){const i=Math.max(e-uye,0);return o7(t-n(i),e-i)}const Ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wz=.001;function dye({duration:n=Ar.duration,bounce:e=Ar.bounce,velocity:t=Ar.velocity,mass:i=Ar.mass}){let r,s,a=1-e;a=zd(Ar.minDamping,Ar.maxDamping,a),n=zd(Ar.minDuration,Ar.maxDuration,Cu(n)),a<1?(r=c=>{const d=c*a,h=d*n,m=d-t,v=BP(c,a),b=Math.exp(-h);return Wz-m/v*b},s=c=>{const h=c*a*n,m=h*t+t,v=Math.pow(a,2)*Math.pow(c,2)*n,b=Math.exp(-h),A=BP(Math.pow(c,2),a);return(-r(c)+Wz>0?-1:1)*((m-v)*b)/A}):(r=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const o=5/n,l=hye(r,s,o);if(n=Eu(n),isNaN(l))return{stiffness:Ar.stiffness,damping:Ar.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:n}}}const fye=12;function hye(n,e,t){let i=t;for(let r=1;r<fye;r++)i=i-n(i)/e(i);return i}function BP(n,e){return n*Math.sqrt(1-e*e)}const pye=["duration","bounce"],mye=["stiffness","damping","mass"];function Yz(n,e){return e.some(t=>n[t]!==void 0)}function gye(n){let e={velocity:Ar.velocity,stiffness:Ar.stiffness,damping:Ar.damping,mass:Ar.mass,isResolvedFromDuration:!1,...n};if(!Yz(n,mye)&&Yz(n,pye))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*zd(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Ar.mass,stiffness:r,damping:s}}else{const t=dye(n);e={...e,...t,mass:Ar.mass},e.isResolvedFromDuration=!0}return e}function jT(n=Ar.visualDuration,e=Ar.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:v}=gye({...t,velocity:-Cu(t.velocity||0)}),b=m||0,A=c/(2*Math.sqrt(l*d)),_=a-s,x=Cu(Math.sqrt(l/d)),T=Math.abs(_)<5;i||(i=T?Ar.restSpeed.granular:Ar.restSpeed.default),r||(r=T?Ar.restDelta.granular:Ar.restDelta.default);let C;if(A<1){const O=BP(x,A);C=R=>{const B=Math.exp(-A*x*R);return a-B*((b+A*x*_)/O*Math.sin(O*R)+_*Math.cos(O*R))}}else if(A===1)C=O=>a-Math.exp(-x*O)*(_+(b+x*_)*O);else{const O=x*Math.sqrt(A*A-1);C=R=>{const B=Math.exp(-A*x*R),N=Math.min(O*R,300);return a-B*((b+A*x*_)*Math.sinh(N)+O*_*Math.cosh(N))/O}}const M={calculatedDuration:v&&h||null,next:O=>{const R=C(O);if(v)o.done=O>=h;else{let B=O===0?b:0;A<1&&(B=O===0?Eu(b):w7(C,O,R));const N=Math.abs(B)<=i,P=Math.abs(a-R)<=r;o.done=N&&P}return o.value=o.done?a:R,o},toString:()=>{const O=Math.min(VL(M),VT),R=M7(B=>M.next(O*B).value,O,30);return O+"ms "+R},toTransition:()=>{}};return M}jT.applyToOptions=n=>{const e=cye(n,100,jT);return n.ease=e.ease,n.duration=Eu(e.duration),n.type="keyframes",n};function LP({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],m={done:!1,value:h},v=N=>o!==void 0&&N<o||l!==void 0&&N>l,b=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let A=t*e;const _=h+A,x=a===void 0?_:a(_);x!==_&&(A=x-h);const T=N=>-A*Math.exp(-N/i),C=N=>x+T(N),M=N=>{const P=T(N),I=C(N);m.done=Math.abs(P)<=c,m.value=m.done?x:I};let O,R;const B=N=>{v(m.value)&&(O=N,R=jT({keyframes:[m.value,b(m.value)],velocity:w7(C,N,m.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return B(0),{calculatedDuration:null,next:N=>{let P=!1;return!R&&O===void 0&&(P=!0,M(N),B(N)),O!==void 0&&N>=O?R.next(N-O):(!P&&M(N),m)}}}function yye(n,e,t){const i=[],r=t||Gd.mix||T7,s=n.length-1;for(let a=0;a<s;a++){let o=r(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||wl:e;o=nA(l,o)}i.push(o)}return i}function vye(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(PL(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=yye(e,i,r),l=o.length,c=d=>{if(a&&d<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const m=aS(n[h],n[h+1],d);return o[h](m)};return t?d=>c(zd(n[0],n[s-1],d)):c}function bye(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=aS(0,e,i);n.push(ur(t,1,r))}}function _ye(n){const e=[0];return bye(e,n.length-1),e}function xye(n,e){return n.map(t=>t*e)}function Sye(n,e){return n.map(()=>e||g7).splice(0,n.length-1)}function xx({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=Pge(i)?i.map(Fz):Fz(i),s={done:!1,value:e[0]},a=xye(t&&t.length===e.length?t:_ye(e),n),o=vye(a,e,{ease:Array.isArray(r)?r:Sye(e,r)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const Aye=n=>n!==null;function jL(n,{repeat:e,repeatType:t="loop"},i,r=1){const s=n.filter(Aye),o=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const Eye={decay:LP,inertia:LP,tween:xx,keyframes:xx,spring:jT};function R7(n){typeof n.type=="string"&&(n.type=Eye[n.type])}class WL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Cye=n=>n/100;class YL extends WL{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var i,r;if(t){const{motionValue:s}=this.options;s&&s.updatedAt!==io.now()&&this.tick(io.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;R7(e);const{type:t=xx,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=t||xx;l!==xx&&typeof o[0]!="number"&&(this.mixKeyframes=nA(Cye,T7(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=VL(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:v,type:b,onUpdate:A,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,M=i;if(h){const N=Math.min(this.currentTime,r)/o;let P=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(I=1-I,v&&(I-=v/o)):m==="mirror"&&(M=a)),C=zd(0,1,I)*o}const O=T?{done:!1,value:d[0]}:M.next(C);s&&(O.value=s(O.value));let{done:R}=O;!T&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return B&&b!==LP&&(O.value=jL(d,this.options,_,this.speed)),A&&A(O.value),B&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return Cu(this.calculatedDuration)}get time(){return Cu(this.currentTime)}set time(e){var t;e=Eu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(io.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cu(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=lye,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(io.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Tye(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const wm=n=>n*180/Math.PI,UP=n=>{const e=wm(Math.atan2(n[1],n[0]));return kP(e)},Mye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:UP,rotateZ:UP,skewX:n=>wm(Math.atan(n[1])),skewY:n=>wm(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},kP=n=>(n=n%360,n<0&&(n+=360),n),Xz=UP,qz=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),$z=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),wye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qz,scaleY:$z,scale:n=>(qz(n)+$z(n))/2,rotateX:n=>kP(wm(Math.atan2(n[6],n[5]))),rotateY:n=>kP(wm(Math.atan2(-n[2],n[0]))),rotateZ:Xz,rotate:Xz,skewX:n=>wm(Math.atan(n[4])),skewY:n=>wm(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function FP(n){return n.includes("scale")?1:0}function HP(n,e){if(!n||n==="none")return FP(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=wye,r=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Mye,r=o}if(!r)return FP(e);const s=i[e],a=r[1].split(",").map(Dye);return typeof s=="function"?s(a):a[s]}const Rye=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return HP(t,e)};function Dye(n){return parseFloat(n.trim())}const V0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],j0=new Set(V0),Kz=n=>n===G0||n===dn,Iye=new Set(["x","y","z"]),Oye=V0.filter(n=>!Iye.has(n));function Pye(n){const e=[];return Oye.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Hm={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>HP(e,"x"),y:(n,{transform:e})=>HP(e,"y")};Hm.translateX=Hm.x;Hm.translateY=Hm.y;const zm=new Set;let zP=!1,GP=!1,VP=!1;function D7(){if(GP){const n=Array.from(zm).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=Pye(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))==null||o.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}GP=!1,zP=!1,zm.forEach(n=>n.complete(VP)),zm.clear()}function I7(){zm.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(GP=!0)})}function Nye(){VP=!0,I7(),D7(),VP=!1}class XL{constructor(e,t,i,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(zm.add(this),zP||(zP=!0,fr.read(I7),fr.resolveKeyframes(D7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const o=i.readValue(t,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),r&&s===void 0&&r.set(e[0])}Tye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zm.delete(this)}cancel(){this.state==="scheduled"&&(zm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bye=n=>n.startsWith("--");function Lye(n,e,t){Bye(e)?n.style.setProperty(e,t):n.style[e]=t}const Uye=NL(()=>window.ScrollTimeline!==void 0),kye={};function Fye(n,e){const t=NL(n);return()=>kye[e]??t()}const O7=Fye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Q_=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Jz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Q_([0,.65,.55,1]),circOut:Q_([.55,0,1,.45]),backIn:Q_([.31,.01,.66,-.59]),backOut:Q_([.33,1.53,.69,.99])};function P7(n,e){if(n)return typeof n=="function"?O7()?M7(n,e):"ease-out":y7(n)?Q_(n):Array.isArray(n)?n.map(t=>P7(t,e)||Jz.easeOut):Jz[n]}function Hye(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:t};l&&(d.offset=l);const h=P7(o,r);Array.isArray(h)&&(d.easing=h);const m={delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),n.animate(d,m)}function N7(n){return typeof n=="function"&&"applyToOptions"in n}function zye({type:n,...e}){return N7(n)&&O7()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Gye extends WL{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,PL(typeof e.type!="string");const c=zye(e);this.animation=Hye(t,i,r,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=jL(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Lye(t,i,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Cu(Number(e))}get time(){return Cu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Eu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Uye()?(this.animation.timeline=e,wl):t(this)}}const B7={anticipate:h7,backInOut:f7,circInOut:m7};function Vye(n){return n in B7}function jye(n){typeof n.ease=="string"&&Vye(n.ease)&&(n.ease=B7[n.ease])}const Qz=10;class Wye extends Gye{constructor(e){jye(e),R7(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new YL({...a,autoplay:!1}),l=Eu(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-Qz).value,o.sample(l).value,Qz),o.stop()}}const Zz=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(kh.test(n)||n==="0")&&!n.startsWith("url("));function Yye(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Xye(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=Zz(r,e),o=Zz(s,e);return!a||!o?!1:Yye(n)||(t==="spring"||N7(t))&&i}function L7(n){return s7(n)&&"offsetHeight"in n}const qye=new Set(["opacity","clipPath","filter","transform"]),$ye=NL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kye(n){var c;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:s,type:a}=n;if(!L7((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return $ye()&&t&&qye.has(t)&&(t!=="transform"||!l)&&!o&&!i&&r!=="mirror"&&s!==0&&a!=="inertia"}const Jye=40;class Qye extends WL{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var A,_;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=io.now();const m={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:d,...h},v=(d==null?void 0:d.KeyframeResolver)||XL;this.keyframeResolver=new v(o,(A,_,x)=>this.onKeyframesResolved(A,_,m,!x),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=i;this.resolvedAt=io.now(),Xye(e,s,a,o)||((Gd.instantAnimations||!l)&&(d==null||d(jL(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Jye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},v=!c&&Kye(m)?new Wye({...m,element:m.motionValue.owner.current}):new YL(m);v.finished.then(()=>this.notifyFinished()).catch(wl),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Nye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Zye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eve(n){const e=Zye.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function U7(n,e,t=1){const[i,r]=eve(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return r7(a)?parseFloat(a):a}return FL(r)?U7(r,e,t+1):r}function qL(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const k7=new Set(["width","height","top","left","right","bottom",...V0]),tve={test:n=>n==="auto",parse:n=>n},F7=n=>e=>e.test(n),H7=[G0,dn,Tu,uh,Yge,Wge,tve],e4=n=>H7.find(F7(n));function nve(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||a7(n):!0}const ive=new Set(["brightness","contrast","saturate","opacity"]);function rve(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(HL)||[];if(!i)return n;const r=t.replace(i,"");let s=ive.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const sve=/\b([a-z-]*)\(.*?\)/gu,jP={...kh,getAnimatableNone:n=>{const e=n.match(sve);return e?e.map(rve).join(" "):n}},t4={...G0,transform:Math.round},ave={rotate:uh,rotateX:uh,rotateY:uh,rotateZ:uh,scale:xC,scaleX:xC,scaleY:xC,scaleZ:xC,skew:uh,skewX:uh,skewY:uh,distance:dn,translateX:dn,translateY:dn,translateZ:dn,x:dn,y:dn,z:dn,perspective:dn,transformPerspective:dn,opacity:oS,originX:zz,originY:zz,originZ:dn},$L={borderWidth:dn,borderTopWidth:dn,borderRightWidth:dn,borderBottomWidth:dn,borderLeftWidth:dn,borderRadius:dn,radius:dn,borderTopLeftRadius:dn,borderTopRightRadius:dn,borderBottomRightRadius:dn,borderBottomLeftRadius:dn,width:dn,maxWidth:dn,height:dn,maxHeight:dn,top:dn,right:dn,bottom:dn,left:dn,padding:dn,paddingTop:dn,paddingRight:dn,paddingBottom:dn,paddingLeft:dn,margin:dn,marginTop:dn,marginRight:dn,marginBottom:dn,marginLeft:dn,backgroundPositionX:dn,backgroundPositionY:dn,...ave,zIndex:t4,fillOpacity:oS,strokeOpacity:oS,numOctaves:t4},ove={...$L,color:ra,backgroundColor:ra,outlineColor:ra,fill:ra,stroke:ra,borderColor:ra,borderTopColor:ra,borderRightColor:ra,borderBottomColor:ra,borderLeftColor:ra,filter:jP,WebkitFilter:jP},z7=n=>ove[n];function G7(n,e){let t=z7(n);return t!==jP&&(t=kh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const lve=new Set(["auto","none","0"]);function cve(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!lve.has(s)&&lS(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=G7(t,r)}class uve extends XL{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),FL(c))){const d=U7(c,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!k7.has(i)||e.length!==2)return;const[r,s]=e,a=e4(r),o=e4(s);if(a!==o)if(Kz(a)&&Kz(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Hm[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||nve(e[r]))&&i.push(r);i.length&&cve(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hm[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Hm[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function dve(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const n4=30,fve=n=>!isNaN(parseFloat(n));class hve{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var a,o;const s=io.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=io.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new BL);const i=this.events[e].add(t);return e==="change"?()=>{i(),fr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=io.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>n4)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,n4);return o7(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zv(n,e){return new hve(n,e)}const V7=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:KL}=v7(queueMicrotask,!1),hc={x:!1,y:!1};function j7(){return hc.x||hc.y}function pve(n){return n==="x"||n==="y"?hc[n]?null:(hc[n]=!0,()=>{hc[n]=!1}):hc.x||hc.y?null:(hc.x=hc.y=!0,()=>{hc.x=hc.y=!1})}function W7(n,e){const t=dve(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function i4(n){return!(n.pointerType==="touch"||j7())}function mve(n,e,t={}){const[i,r,s]=W7(n,t),a=o=>{if(!i4(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=h=>{i4(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const Y7=(n,e)=>e?n===e?!0:Y7(n,e.parentElement):!1,JL=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,gve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yve(n){return gve.has(n.tagName)||n.tabIndex!==-1}const K1=new WeakSet;function r4(n){return e=>{e.key==="Enter"&&n(e)}}function HI(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vve=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=r4(()=>{if(K1.has(t))return;HI(t,"down");const r=r4(()=>{HI(t,"up")}),s=()=>HI(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function s4(n){return JL(n)&&!j7()}function bve(n,e,t={}){const[i,r,s]=W7(n,t),a=o=>{const l=o.currentTarget;if(!s4(o))return;K1.add(l);const c=e(l,o),d=(v,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),K1.has(l)&&K1.delete(l),s4(v)&&typeof c=="function"&&c(v,{success:b})},h=v=>{d(v,l===window||l===document||t.useGlobalTarget||Y7(l,v.target))},m=v=>{d(v,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return i.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),L7(o)&&(o.addEventListener("focus",c=>vve(c,r)),!yve(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function X7(n){return s7(n)&&"ownerSVGElement"in n}function _ve(n){return X7(n)&&n.tagName==="svg"}const la=n=>!!(n&&n.getVelocity),xve=[...H7,ra,kh],Sve=n=>xve.find(F7(n)),q7=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Ave(n=!0){const e=G.useContext(DL);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=G.useId();G.useEffect(()=>{if(n)return r(s)},[n]);const a=G.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,a]:[!0]}const $7=G.createContext({strict:!1}),a4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},e0={};for(const n in a4)e0[n]={isEnabled:e=>a4[n].some(t=>!!e[t])};function Eve(n){for(const e in n)e0[e]={...e0[e],...n[e]}}const Cve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function WT(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Cve.has(n)}let K7=n=>!WT(n);function Tve(n){n&&(K7=e=>e.startsWith("on")?!WT(e):n(e))}try{Tve(require("@emotion/is-prop-valid").default)}catch{}function Mve(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(K7(r)||t===!0&&WT(r)||!e&&!WT(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function wve(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Qw=G.createContext({});function Zw(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function cS(n){return typeof n=="string"||Array.isArray(n)}const QL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZL=["initial",...QL];function eR(n){return Zw(n.animate)||ZL.some(e=>cS(n[e]))}function J7(n){return!!(eR(n)||n.variants)}function Rve(n,e){if(eR(n)){const{initial:t,animate:i}=n;return{initial:t===!1||cS(t)?t:void 0,animate:cS(i)?i:void 0}}return n.inherit!==!1?e:{}}function Dve(n){const{initial:e,animate:t}=Rve(n,G.useContext(Qw));return G.useMemo(()=>({initial:e,animate:t}),[o4(e),o4(t)])}function o4(n){return Array.isArray(n)?n.join(" "):n}const Ive=Symbol.for("motionComponentSymbol");function mv(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Ove(n,e,t){return G.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):mv(t)&&(t.current=i))},[e])}const e3=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pve="framerAppearId",Q7="data-"+e3(Pve),Z7=G.createContext({});function Nve(n,e,t,i,r){var A,_;const{visualElement:s}=G.useContext(Qw),a=G.useContext($7),o=G.useContext(DL),l=G.useContext(q7).reducedMotion,c=G.useRef(null);i=i||a.renderer,!c.current&&i&&(c.current=i(n,{visualState:e,parent:s,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=G.useContext(Z7);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&Bve(c.current,t,r,h);const m=G.useRef(!1);G.useInsertionEffect(()=>{d&&m.current&&d.update(t,o)});const v=t[Q7],b=G.useRef(!!v&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,v))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,v)));return Tge(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),KL.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),G.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,v)}),b.current=!1))}),d}function Bve(n,e,t,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:eY(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&mv(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:c})}function eY(n){if(n)return n.options.allowProjection!==!1?n.projection:eY(n.parent)}function Lve({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&Eve(n);function s(o,l){let c;const d={...G.useContext(q7),...o,layoutId:Uve(o)},{isStatic:h}=d,m=Dve(o),v=i(o,h);if(!h&&RL){kve();const b=Fve(d);c=b.MeasureLayout,m.visualElement=Nve(r,v,d,e,b.ProjectionNode)}return W.jsxs(Qw.Provider,{value:m,children:[c&&m.visualElement?W.jsx(c,{visualElement:m.visualElement,...d}):null,t(r,o,Ove(v,m.visualElement,l),v,h,m.visualElement)]})}s.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=G.forwardRef(s);return a[Ive]=r,a}function Uve({layoutId:n}){const e=G.useContext(i7).id;return e&&n!==void 0?e+"-"+n:n}function kve(n,e){G.useContext($7).strict}function Fve(n){const{drag:e,layout:t}=e0;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const uS={};function Hve(n){for(const e in n)uS[e]=n[e],kL(e)&&(uS[e].isCSSVariable=!0)}function tY(n,{layout:e,layoutId:t}){return j0.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!uS[n]||n==="opacity")}const zve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gve=V0.length;function Vve(n,e,t){let i="",r=!0;for(let s=0;s<Gve;s++){const a=V0[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=V7(o,$L[a]);if(!l){r=!1;const d=zve[a]||a;i+=`${d}(${c}) `}t&&(e[a]=c)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function t3(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(j0.has(l)){a=!0;continue}else if(kL(l)){r[l]=c;continue}else{const d=V7(c,$L[l]);l.startsWith("origin")?(o=!0,s[l]=d):i[l]=d}}if(e.transform||(a||t?i.transform=Vve(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const n3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nY(n,e,t){for(const i in e)!la(e[i])&&!tY(i,t)&&(n[i]=e[i])}function jve({transformTemplate:n},e){return G.useMemo(()=>{const t=n3();return t3(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Wve(n,e){const t=n.style||{},i={};return nY(i,t,n),Object.assign(i,jve(n,e)),i}function Yve(n,e){const t={},i=Wve(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const Xve={offset:"stroke-dashoffset",array:"stroke-dasharray"},qve={offset:"strokeDashoffset",array:"strokeDasharray"};function $ve(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?Xve:qve;n[s.offset]=dn.transform(-i);const a=dn.transform(e),o=dn.transform(t);n[s.array]=`${a} ${o}`}function iY(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(t3(n,o,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:m}=n;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),i!==void 0&&(h.scale=i),r!==void 0&&$ve(h,r,s,a,!1)}const rY=()=>({...n3(),attrs:{}}),sY=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Kve(n,e,t,i){const r=G.useMemo(()=>{const s=rY();return iY(s,e,sY(i),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};nY(s,n.style,n),r.style={...s,...r.style}}return r}const Jve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i3(n){return typeof n!="string"||n.includes("-")?!1:!!(Jve.indexOf(n)>-1||/[A-Z]/u.test(n))}function Qve(n=!1){return(t,i,r,{latestValues:s},a)=>{const l=(i3(t)?Kve:Yve)(i,s,a,t),c=Mve(i,typeof t=="string",n),d=t!==G.Fragment?{...c,...l,ref:r}:{},{children:h}=i,m=G.useMemo(()=>la(h)?h.get():h,[h]);return G.createElement(t,{...d,children:m})}}function l4(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function r3(n,e,t,i){if(typeof e=="function"){const[r,s]=l4(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=l4(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function J1(n){return la(n)?n.get():n}function Zve({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:e0e(t,i,r,n),renderState:e()}}const aY=n=>(e,t)=>{const i=G.useContext(Qw),r=G.useContext(DL),s=()=>Zve(n,e,i,r);return t?s():Cge(s)};function e0e(n,e,t,i){const r={},s=i(n,{});for(const m in s)r[m]=J1(s[m]);let{initial:a,animate:o}=n;const l=eR(n),c=J7(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Zw(h)){const m=Array.isArray(h)?h:[h];for(let v=0;v<m.length;v++){const b=r3(n,m[v]);if(b){const{transitionEnd:A,transition:_,...x}=b;for(const T in x){let C=x[T];if(Array.isArray(C)){const M=d?C.length-1:0;C=C[M]}C!==null&&(r[T]=C)}for(const T in A)r[T]=A[T]}}}return r}function s3(n,e,t){var s;const{style:i}=n,r={};for(const a in i)(la(i[a])||e.style&&la(e.style[a])||tY(a,n)||((s=t==null?void 0:t.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}const t0e={useVisualState:aY({scrapeMotionValuesFromProps:s3,createRenderState:n3})};function oY(n,e,t){const i=s3(n,e,t);for(const r in n)if(la(n[r])||la(e[r])){const s=V0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const n0e={useVisualState:aY({scrapeMotionValuesFromProps:oY,createRenderState:rY})};function i0e(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...i3(i)?n0e:t0e,preloadedFeatures:n,useRender:Qve(r),createVisualElement:e,Component:i};return Lve(a)}}function dS(n,e,t){const i=n.getProps();return r3(i,e,t!==void 0?t:i.custom,n)}const WP=n=>Array.isArray(n);function r0e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Zv(t))}function s0e(n){return WP(n)?n[n.length-1]||0:n}function a0e(n,e){const t=dS(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const a in s){const o=s0e(s[a]);r0e(n,a,o)}}function o0e(n){return!!(la(n)&&n.add)}function YP(n,e){const t=n.getValue("willChange");if(o0e(t))return t.add(e);if(!t&&Gd.WillChange){const i=new Gd.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function lY(n){return n.props[Q7]}const l0e=n=>n!==null;function c0e(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(l0e),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}const u0e={type:"spring",stiffness:500,damping:25,restSpeed:10},d0e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),f0e={type:"keyframes",duration:.8},h0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p0e=(n,{keyframes:e})=>e.length>2?f0e:j0.has(n)?n.startsWith("scale")?d0e(e[1]):u0e:h0e;function m0e({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const a3=(n,e,t,i={},r,s)=>a=>{const o=qL(i,n)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Eu(l);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:r};m0e(o)||Object.assign(d,p0e(n,d)),d.duration&&(d.duration=Eu(d.duration)),d.repeatDelay&&(d.repeatDelay=Eu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Gd.instantAnimations||Gd.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const m=c0e(d.keyframes,o);if(m!==void 0){fr.update(()=>{d.onUpdate(m),d.onComplete()});return}}return o.isSync?new YL(d):new Qye(d)};function g0e({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function cY(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...o}=e;i&&(s=i);const l=[],c=r&&n.animationState&&n.animationState.getState()[r];for(const d in o){const h=n.getValue(d,n.latestValues[d]??null),m=o[d];if(m===void 0||c&&g0e(c,d))continue;const v={delay:t,...qL(s||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===b&&!v.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const x=lY(n);if(x){const T=window.MotionHandoffAnimation(x,d,fr);T!==null&&(v.startTime=T,A=!0)}}YP(n,d),h.start(a3(d,h,m,n.shouldReduceMotion&&k7.has(d)?{type:!1}:v,n,A));const _=h.animation;_&&l.push(_)}return a&&Promise.all(l).then(()=>{fr.update(()=>{a&&a0e(n,a)})}),l}function XP(n,e,t={}){var l;const i=dS(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(cY(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=r;return y0e(n,e,d+c,h,m,t)}:()=>Promise.resolve(),{when:o}=r;if(o){const[c,d]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(t.delay)])}function y0e(n,e,t=0,i=0,r=1,s){const a=[],o=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(n.variantChildren).sort(v0e).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(XP(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function v0e(n,e){return n.sortNodePosition(e)}function b0e(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>XP(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=XP(n,e,t);else{const r=typeof e=="function"?dS(n,e,t.custom):e;i=Promise.all(cY(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function uY(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const _0e=ZL.length;function dY(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dY(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_0e;t++){const i=ZL[t],r=n.props[i];(cS(r)||r===!1)&&(e[i]=r)}return e}const x0e=[...QL].reverse(),S0e=QL.length;function A0e(n){return e=>Promise.all(e.map(({animation:t,options:i})=>b0e(n,t,i)))}function E0e(n){let e=A0e(n),t=c4(),i=!0;const r=l=>(c,d)=>{var m;const h=dS(n,d,l==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:v,transitionEnd:b,...A}=h;c={...c,...A,...b}}return c};function s(l){e=l(n)}function a(l){const{props:c}=n,d=dY(n.parent)||{},h=[],m=new Set;let v={},b=1/0;for(let _=0;_<S0e;_++){const x=x0e[_],T=t[x],C=c[x]!==void 0?c[x]:d[x],M=cS(C),O=x===l?T.isActive:null;O===!1&&(b=_);let R=C===d[x]&&C!==c[x]&&M;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),T.protectedKeys={...v},!T.isActive&&O===null||!C&&!T.prevProp||Zw(C)||typeof C=="boolean")continue;const B=C0e(T.prevProp,C);let N=B||x===l&&T.isActive&&!R&&M||_>b&&M,P=!1;const I=Array.isArray(C)?C:[C];let F=I.reduce(r(x),{});O===!1&&(F={});const{prevResolvedValues:U={}}=T,j={...U,...F},q=Y=>{N=!0,m.has(Y)&&(P=!0,m.delete(Y)),T.needsAnimating[Y]=!0;const X=n.getValue(Y);X&&(X.liveStyle=!1)};for(const Y in j){const X=F[Y],ne=U[Y];if(v.hasOwnProperty(Y))continue;let K=!1;WP(X)&&WP(ne)?K=!uY(X,ne):K=X!==ne,K?X!=null?q(Y):m.add(Y):X!==void 0&&m.has(Y)?q(Y):T.protectedKeys[Y]=!0}T.prevProp=C,T.prevResolvedValues=F,T.isActive&&(v={...v,...F}),i&&n.blockInitialAnimation&&(N=!1),N&&(!(R&&B)||P)&&h.push(...I.map(Y=>({animation:Y,options:{type:x}})))}if(m.size){const _={};if(typeof c.initial!="boolean"){const x=dS(n,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(_.transition=x.transition)}m.forEach(x=>{const T=n.getBaseTarget(x),C=n.getValue(x);C&&(C.liveStyle=!0),_[x]=T??null}),h.push({animation:_})}let A=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(h):Promise.resolve()}function o(l,c){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(l,c)}),t[l].isActive=c;const d=a(l);for(const m in t)t[m].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=c4(),i=!0}}}function C0e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!uY(e,n):!1}function $p(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c4(){return{animate:$p(!0),whileInView:$p(),whileHover:$p(),whileTap:$p(),whileDrag:$p(),whileFocus:$p(),exit:$p()}}class qh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class T0e extends qh{constructor(e){super(e),e.animationState||(e.animationState=E0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let M0e=0;class w0e extends qh{constructor(){super(...arguments),this.id=M0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const R0e={animation:{Feature:T0e},exit:{Feature:w0e}};function fS(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function sA(n){return{point:{x:n.pageX,y:n.pageY}}}const D0e=n=>e=>JL(e)&&n(e,sA(e));function Sx(n,e,t,i){return fS(n,e,D0e(t),i)}function fY({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function I0e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function O0e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const hY=1e-4,P0e=1-hY,N0e=1+hY,pY=.01,B0e=0-pY,L0e=0+pY;function Na(n){return n.max-n.min}function U0e(n,e,t){return Math.abs(n-e)<=t}function u4(n,e,t,i=.5){n.origin=i,n.originPoint=ur(e.min,e.max,n.origin),n.scale=Na(t)/Na(e),n.translate=ur(t.min,t.max,n.origin)-n.originPoint,(n.scale>=P0e&&n.scale<=N0e||isNaN(n.scale))&&(n.scale=1),(n.translate>=B0e&&n.translate<=L0e||isNaN(n.translate))&&(n.translate=0)}function Ax(n,e,t,i){u4(n.x,e.x,t.x,i?i.originX:void 0),u4(n.y,e.y,t.y,i?i.originY:void 0)}function d4(n,e,t){n.min=t.min+e.min,n.max=n.min+Na(e)}function k0e(n,e,t){d4(n.x,e.x,t.x),d4(n.y,e.y,t.y)}function f4(n,e,t){n.min=e.min-t.min,n.max=n.min+Na(e)}function Ex(n,e,t){f4(n.x,e.x,t.x),f4(n.y,e.y,t.y)}const h4=()=>({translate:0,scale:1,origin:0,originPoint:0}),gv=()=>({x:h4(),y:h4()}),p4=()=>({min:0,max:0}),Nr=()=>({x:p4(),y:p4()});function bl(n){return[n("x"),n("y")]}function zI(n){return n===void 0||n===1}function qP({scale:n,scaleX:e,scaleY:t}){return!zI(n)||!zI(e)||!zI(t)}function pm(n){return qP(n)||mY(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mY(n){return m4(n.x)||m4(n.y)}function m4(n){return n&&n!=="0%"}function YT(n,e,t){const i=n-t,r=e*i;return t+r}function g4(n,e,t,i,r){return r!==void 0&&(n=YT(n,r,i)),YT(n,t,i)+e}function $P(n,e=0,t=1,i,r){n.min=g4(n.min,e,t,i,r),n.max=g4(n.max,e,t,i,r)}function gY(n,{x:e,y:t}){$P(n.x,e.translate,e.scale,e.originPoint),$P(n.y,t.translate,t.scale,t.originPoint)}const y4=.999999999999,v4=1.0000000000001;function F0e(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vv(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,gY(n,a)),i&&pm(s.latestValues)&&vv(n,s.latestValues))}e.x<v4&&e.x>y4&&(e.x=1),e.y<v4&&e.y>y4&&(e.y=1)}function yv(n,e){n.min=n.min+e,n.max=n.max+e}function b4(n,e,t,i,r=.5){const s=ur(n.min,n.max,r);$P(n,e,t,s,i)}function vv(n,e){b4(n.x,e.x,e.scaleX,e.scale,e.originX),b4(n.y,e.y,e.scaleY,e.scale,e.originY)}function yY(n,e){return fY(O0e(n.getBoundingClientRect(),e))}function H0e(n,e,t){const i=yY(n,t),{scroll:r}=e;return r&&(yv(i.x,r.offset.x),yv(i.y,r.offset.y)),i}const vY=({current:n})=>n?n.ownerDocument.defaultView:null,_4=(n,e)=>Math.abs(n-e);function z0e(n,e){const t=_4(n.x,e.x),i=_4(n.y,e.y);return Math.sqrt(t**2+i**2)}class bY{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=VI(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=z0e(h.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:b}=h,{timestamp:A}=zs;this.history.push({...b,timestamp:A});const{onStart:_,onMove:x}=this.handlers;m||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=GI(m,this.transformPagePoint),fr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=VI(h.type==="pointercancel"?this.lastMoveEventInfo:GI(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,_),b&&b(h,_)},!JL(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const a=sA(e),o=GI(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=zs;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,VI(o,this.history)),this.removeListeners=nA(Sx(this.contextWindow,"pointermove",this.handlePointerMove),Sx(this.contextWindow,"pointerup",this.handlePointerUp),Sx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uh(this.updatePoint)}}function GI(n,e){return e?{point:e(n.point)}:n}function x4(n,e){return{x:n.x-e.x,y:n.y-e.y}}function VI({point:n},e){return{point:n,delta:x4(n,_Y(e)),offset:x4(n,G0e(e)),velocity:V0e(e,.1)}}function G0e(n){return n[0]}function _Y(n){return n[n.length-1]}function V0e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=_Y(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Eu(e)));)t--;if(!i)return{x:0,y:0};const s=Cu(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function j0e(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ur(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ur(t,n,i.max):Math.min(n,t)),n}function S4(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function W0e(n,{top:e,left:t,bottom:i,right:r}){return{x:S4(n.x,t,r),y:S4(n.y,e,i)}}function A4(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Y0e(n,e){return{x:A4(n.x,e.x),y:A4(n.y,e.y)}}function X0e(n,e){let t=.5;const i=Na(n),r=Na(e);return r>i?t=aS(e.min,e.max-i,n.min):i>r&&(t=aS(n.min,n.max-r,e.min)),zd(0,1,t)}function q0e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const KP=.35;function $0e(n=KP){return n===!1?n=0:n===!0&&(n=KP),{x:E4(n,"left","right"),y:E4(n,"top","bottom")}}function E4(n,e,t){return{min:C4(n,e),max:C4(n,t)}}function C4(n,e){return typeof n=="number"?n:n[e]||0}const K0e=new WeakMap;class J0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(sA(d).point)},s=(d,h)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pve(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bl(_=>{let x=this.getAxisMotionValue(_).get()||0;if(Tu.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[_];C&&(x=Na(C)*(parseFloat(x)/100))}}this.originPoint[_]=x}),b&&fr.postRender(()=>b(d,h)),YP(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:A}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=h;if(v&&this.currentDirection===null){this.currentDirection=Q0e(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),A&&A(d,h)},o=(d,h)=>this.stop(d,h),l=()=>bl(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bY(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vY(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&fr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!SC(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=j0e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&mv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=W0e(i.layoutBox,e):this.constraints=!1,this.elastic=$0e(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=q0e(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mv(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=H0e(i,r.root,this.visualElement.getTransformPagePoint());let a=Y0e(r.layout.layoutBox,s);if(t){const o=t(I0e(a));this.hasMutatedConstraints=!!o,o&&(a=fY(o))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=bl(d=>{if(!SC(d,t,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,v=r?40:1e7,b={type:"inertia",velocity:i?e[d]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return YP(this.visualElement,e),i.start(a3(e,i,0,t,this.visualElement,!1))}stopAnimation(){bl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bl(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){bl(t=>{const{drag:i}=this.getProps();if(!SC(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[t];s.set(e[t]-ur(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!mv(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};bl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=X0e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),bl(a=>{if(!SC(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ur(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;K0e.set(this.visualElement,this);const e=this.visualElement.current,t=Sx(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();mv(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),fr.read(i);const a=fS(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bl(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=KP,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function SC(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Q0e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Z0e extends qh{constructor(e){super(e),this.removeGroupControls=wl,this.removeListeners=wl,this.controls=new J0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wl}unmount(){this.removeGroupControls(),this.removeListeners()}}const T4=n=>(e,t)=>{n&&fr.postRender(()=>n(e,t))};let ebe=class extends qh{constructor(){super(...arguments),this.removePointerDownListener=wl}onPointerDown(e){this.session=new bY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:T4(e),onStart:T4(t),onMove:i,onEnd:(s,a)=>{delete this.session,r&&fr.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=Sx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Q1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function M4(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const R_={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(dn.test(n))n=parseFloat(n);else return n;const t=M4(n,e.target.x),i=M4(n,e.target.y);return`${t}% ${i}%`}},tbe={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=kh.parse(n);if(r.length>5)return i;const s=kh.createTransformer(n),a=typeof r[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const c=ur(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),s(r)}};class nbe extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Hve(ibe),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Q1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:a}=i;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||fr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KL.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xY(n){const[e,t]=Ave(),i=G.useContext(i7);return W.jsx(nbe,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(Z7),isPresent:e,safeToRemove:t})}const ibe={borderRadius:{...R_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:R_,borderTopRightRadius:R_,borderBottomLeftRadius:R_,borderBottomRightRadius:R_,boxShadow:tbe};function rbe(n,e,t){const i=la(n)?n:Zv(n);return i.start(a3("",i,e,t)),i.animation}const sbe=(n,e)=>n.depth-e.depth;class abe{constructor(){this.children=[],this.isDirty=!1}add(e){IL(this.children,e),this.isDirty=!0}remove(e){OL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sbe),this.isDirty=!1,this.children.forEach(e)}}function obe(n,e){const t=io.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Uh(i),n(s-e))};return fr.setup(i,!0),()=>Uh(i)}const SY=["TopLeft","TopRight","BottomLeft","BottomRight"],lbe=SY.length,w4=n=>typeof n=="string"?parseFloat(n):n,R4=n=>typeof n=="number"||dn.test(n);function cbe(n,e,t,i,r,s){r?(n.opacity=ur(0,t.opacity??1,ube(i)),n.opacityExit=ur(e.opacity??1,0,dbe(i))):s&&(n.opacity=ur(e.opacity??1,t.opacity??1,i));for(let a=0;a<lbe;a++){const o=`border${SY[a]}Radius`;let l=D4(e,o),c=D4(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||R4(l)===R4(c)?(n[o]=Math.max(ur(w4(l),w4(c),i),0),(Tu.test(c)||Tu.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=ur(e.rotate||0,t.rotate||0,i))}function D4(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ube=AY(0,.5,p7),dbe=AY(.5,.95,wl);function AY(n,e,t){return i=>i<n?0:i>e?1:t(aS(n,e,i))}function I4(n,e){n.min=e.min,n.max=e.max}function gl(n,e){I4(n.x,e.x),I4(n.y,e.y)}function O4(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function P4(n,e,t,i,r){return n-=e,n=YT(n,1/t,i),r!==void 0&&(n=YT(n,1/r,i)),n}function fbe(n,e=0,t=1,i=.5,r,s=n,a=n){if(Tu.test(e)&&(e=parseFloat(e),e=ur(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ur(s.min,s.max,i);n===s&&(o-=e),n.min=P4(n.min,e,t,o,r),n.max=P4(n.max,e,t,o,r)}function N4(n,e,[t,i,r],s,a){fbe(n,e[t],e[i],e[r],e.scale,s,a)}const hbe=["x","scaleX","originX"],pbe=["y","scaleY","originY"];function B4(n,e,t,i){N4(n.x,e,hbe,t?t.x:void 0,i?i.x:void 0),N4(n.y,e,pbe,t?t.y:void 0,i?i.y:void 0)}function L4(n){return n.translate===0&&n.scale===1}function EY(n){return L4(n.x)&&L4(n.y)}function U4(n,e){return n.min===e.min&&n.max===e.max}function mbe(n,e){return U4(n.x,e.x)&&U4(n.y,e.y)}function k4(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function CY(n,e){return k4(n.x,e.x)&&k4(n.y,e.y)}function F4(n){return Na(n.x)/Na(n.y)}function H4(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gbe{constructor(){this.members=[]}add(e){IL(this.members,e),e.scheduleRender()}remove(e){if(OL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ybe(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:v,skewY:b}=t;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),m&&(i+=`rotateY(${m}deg) `),v&&(i+=`skewX(${v}deg) `),b&&(i+=`skewY(${b}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const jI=["","X","Y","Z"],vbe={visibility:"hidden"},bbe=1e3;let _be=0;function WI(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function TY(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lY(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",fr,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&TY(i)}function MY({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=_be++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Abe),this.nodes.forEach(wbe),this.nodes.forEach(Rbe),this.nodes.forEach(Ebe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new abe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new BL),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=X7(a)&&!_ve(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let d;const h=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=obe(h,250),Q1.hasAnimatedSinceResize&&(Q1.hasAnimatedSinceResize=!1,this.nodes.forEach(G4))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Nbe,{onLayoutAnimationStart:A,onLayoutAnimationComplete:_}=c.getProps(),x=!this.targetLayout||!CY(this.targetLayout,v),T=!h&&m;if(this.options.layoutRoot||this.resumeFrom||T||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,T);const C={...qL(b,"layout"),onPlay:A,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||G4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dbe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z4);return}this.isUpdating||this.nodes.forEach(Tbe),this.isUpdating=!1,this.nodes.forEach(Mbe),this.nodes.forEach(xbe),this.nodes.forEach(Sbe),this.clearAllSnapshots();const o=io.now();zs.delta=zd(0,1e3/60,o-zs.timestamp),zs.timestamp=o,zs.isProcessing=!0,LI.update.process(zs),LI.preRender.process(zs),LI.render.process(zs),zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cbe),this.sharedNodes.forEach(Ibe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Na(this.snapshot.measuredBox.x)&&!Na(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!EY(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||pm(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Bbe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Nr();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Lbe))){const{scroll:d}=this.root;d&&(yv(o.x,d.offset.x),yv(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=Nr();if(gl(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&gl(o,a),yv(o.x,h.offset.x),yv(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=Nr();gl(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pm(d.latestValues)&&vv(l,d.latestValues)}return pm(this.latestValues)&&vv(l,this.latestValues),l}removeTransform(a){const o=Nr();gl(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!pm(c.latestValues))continue;qP(c.latestValues)&&c.updateSnapshot();const d=Nr(),h=c.measurePageBox();gl(d,h),B4(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return pm(this.latestValues)&&B4(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=zs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),Ex(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nr(),this.targetWithTransforms=Nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gl(this.target,this.layout.layoutBox),gY(this.target,this.targetDelta)):gl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),Ex(this.relativeTargetOrigin,this.target,v.target),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qP(this.parent.latestValues)||mY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===zs.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;gl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;F0e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O4(this.prevProjectionDelta.x,this.projectionDelta.x),O4(this.prevProjectionDelta.y,this.projectionDelta.y)),Ax(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!H4(this.projectionDelta.x,this.prevProjectionDelta.x)||!H4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gv(),this.projectionDelta=gv(),this.projectionDeltaWithTransform=gv()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=gv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Nr(),v=l?l.source:void 0,b=this.layout?this.layout.source:void 0,A=v!==b,_=this.getStack(),x=!_||_.members.length<=1,T=!!(A&&!x&&this.options.crossfade===!0&&!this.path.some(Pbe));this.animationProgress=0;let C;this.mixTargetDelta=M=>{const O=M/1e3;V4(h.x,a.x,O),V4(h.y,a.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ex(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Obe(this.relativeTarget,this.relativeTargetOrigin,m,O),C&&mbe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Nr()),gl(C,this.relativeTarget)),A&&(this.animationValues=d,cbe(d,c,this.latestValues,O,T,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Uh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fr.update(()=>{Q1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zv(0)),this.currentAnimation=rbe(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bbe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&wY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nr();const h=Na(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const m=Na(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}gl(o,l),vv(o,d),Ax(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new gbe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&WI("z",a,c,this.animationValues);for(let d=0;d<jI.length;d++)WI(`rotate${jI[d]}`,a,c,this.animationValues),WI(`skew${jI[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return vbe;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=J1(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=J1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pm(this.latestValues)&&(v.transform=l?l({},""):"none",this.hasProjected=!1),v}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=ybe(this.projectionDeltaWithTransform,this.treeScale,d),l&&(o.transform=l(d,o.transform));const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in uS){if(d[v]===void 0)continue;const{correct:b,applyTo:A,isCSSVariable:_}=uS[v],x=o.transform==="none"?d[v]:b(d[v],c);if(A){const T=A.length;for(let C=0;C<T;C++)o[A[C]]=x}else _?this.options.visualElement.renderState.vars[v]=x:o[v]=x}return this.options.layoutId&&(o.pointerEvents=c===this?J1(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(z4),this.root.sharedNodes.clear()}}}function xbe(n){n.updateLayout()}function Sbe(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?bl(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],v=Na(m);m.min=i[h].min,m.max=m.min+v}):wY(s,e.layoutBox,i)&&bl(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],v=Na(i[h]);m.max=m.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+v)});const o=gv();Ax(o,i,e.layoutBox);const l=gv();a?Ax(l,n.applyTransform(r,!0),e.measuredBox):Ax(l,i,e.layoutBox);const c=!EY(o);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const b=Nr();Ex(b,e.layoutBox,m.layoutBox);const A=Nr();Ex(A,i,v.layoutBox),CY(b,A)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=b,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Abe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Ebe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Cbe(n){n.clearSnapshot()}function z4(n){n.clearMeasurements()}function Tbe(n){n.isLayoutDirty=!1}function Mbe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function G4(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function wbe(n){n.resolveTargetDelta()}function Rbe(n){n.calcProjection()}function Dbe(n){n.resetSkewAndRotation()}function Ibe(n){n.removeLeadSnapshot()}function V4(n,e,t){n.translate=ur(e.translate,0,t),n.scale=ur(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function j4(n,e,t,i){n.min=ur(e.min,t.min,i),n.max=ur(e.max,t.max,i)}function Obe(n,e,t,i){j4(n.x,e.x,t.x,i),j4(n.y,e.y,t.y,i)}function Pbe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Nbe={duration:.45,ease:[.4,0,.1,1]},W4=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Y4=W4("applewebkit/")&&!W4("chrome/")?Math.round:wl;function X4(n){n.min=Y4(n.min),n.max=Y4(n.max)}function Bbe(n){X4(n.x),X4(n.y)}function wY(n,e,t){return n==="position"||n==="preserve-aspect"&&!U0e(F4(e),F4(t),.2)}function Lbe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Ube=MY({attachResizeListener:(n,e)=>fS(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YI={current:void 0},RY=MY({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!YI.current){const n=new Ube({});n.mount(window),n.setOptions({layoutScroll:!0}),YI.current=n}return YI.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),kbe={pan:{Feature:ebe},drag:{Feature:Z0e,ProjectionNode:RY,MeasureLayout:xY}};function q4(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&fr.postRender(()=>s(e,sA(e)))}class Fbe extends qh{mount(){const{current:e}=this.node;e&&(this.unmount=mve(e,(t,i)=>(q4(this.node,i,"Start"),r=>q4(this.node,r,"End"))))}unmount(){}}class Hbe extends qh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nA(fS(this.node.current,"focus",()=>this.onFocus()),fS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $4(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&fr.postRender(()=>s(e,sA(e)))}let zbe=class extends qh{mount(){const{current:e}=this.node;e&&(this.unmount=bve(e,(t,i)=>($4(this.node,i,"Start"),(r,{success:s})=>$4(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const JP=new WeakMap,XI=new WeakMap,Gbe=n=>{const e=JP.get(n.target);e&&e(n)},Vbe=n=>{n.forEach(Gbe)};function jbe({root:n,...e}){const t=n||document;XI.has(t)||XI.set(t,{});const i=XI.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Vbe,{root:n,...e})),i[r]}function Wbe(n,e,t){const i=jbe(e);return JP.set(n,t),i.observe(n),()=>{JP.delete(n),i.unobserve(n)}}const Ybe={some:0,all:1};class Xbe extends qh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Ybe[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return Wbe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(qbe(e,t))&&this.startObserver()}unmount(){}}function qbe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $be={inView:{Feature:Xbe},tap:{Feature:zbe},focus:{Feature:Hbe},hover:{Feature:Fbe}},Kbe={layout:{ProjectionNode:RY,MeasureLayout:xY}},QP={current:null},DY={current:!1};function Jbe(){if(DY.current=!0,!!RL)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>QP.current=n.matches;n.addListener(e),e()}else QP.current=!1}const Qbe=new WeakMap;function Zbe(n,e,t){for(const i in e){const r=e[i],s=t[i];if(la(r))n.addValue(i,r);else if(la(s))n.addValue(i,Zv(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(i);n.addValue(i,Zv(a!==void 0?a:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const K4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e_e{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=io.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,fr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=eR(t),this.isVariantNode=J7(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&la(v)&&v.set(l[m],!1)}}mount(e){this.current=e,Qbe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),DY.current||Jbe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uh(this.notifyUpdate),Uh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=j0.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in e0){const t=e0[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<K4.length;i++){const r=K4[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Zbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Zv(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(r7(i)||a7(i))?i=parseFloat(i):!Sve(i)&&kh.test(t)&&(i=G7(e,t)),this.setBaseTarget(e,la(i)?i.get():i)),la(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=r3(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!la(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new BL),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class IY extends e_e{constructor(){super(...arguments),this.KeyframeResolver=uve}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;la(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function OY(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}function t_e(n){return window.getComputedStyle(n)}class n_e extends IY{constructor(){super(...arguments),this.type="html",this.renderInstance=OY}readValueFromInstance(e,t){var i;if(j0.has(t))return(i=this.projection)!=null&&i.isProjecting?FP(t):Rye(e,t);{const r=t_e(e),s=(kL(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yY(e,t)}build(e,t,i){t3(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return s3(e,t,i)}}const PY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i_e(n,e,t,i){OY(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(PY.has(r)?r:e3(r),e.attrs[r])}class r_e extends IY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(j0.has(t)){const i=z7(t);return i&&i.default||0}return t=PY.has(t)?t:e3(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return oY(e,t,i)}build(e,t,i){iY(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){i_e(e,t,i,r)}mount(e){this.isSVGTag=sY(e.tagName),super.mount(e)}}const s_e=(n,e)=>i3(n)?new r_e(e):new n_e(e,{allowProjection:n!==G.Fragment}),a_e=i0e({...R0e,...$be,...kbe,...Kbe},s_e),o3=wve(a_e);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const aA="176",mm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NY=0,ZP=1,BY=2,o_e=3,LY=0,tR=1,Cx=2,pc=3,Pu=0,Ba=1,bc=2,wd=0,Gm=1,eN=2,tN=3,nN=4,UY=5,gh=100,kY=101,FY=102,HY=103,zY=104,GY=200,VY=201,jY=202,WY=203,XT=204,qT=205,YY=206,XY=207,qY=208,$Y=209,KY=210,JY=211,QY=212,ZY=213,eX=214,$T=0,KT=1,JT=2,ng=3,QT=4,ZT=5,eM=6,tM=7,oA=0,tX=1,nX=2,Mu=0,iX=1,rX=2,sX=3,l3=4,aX=5,oX=6,lX=7,iN="attached",cX="detached",nR=300,Vd=301,Fh=302,hS=303,pS=304,W0=306,Hh=1e3,Lo=1001,t0=1002,Es=1003,iR=1004,l_e=1004,Rm=1005,c_e=1005,Br=1006,Iv=1007,u_e=1007,Al=1008,d_e=1008,Ol=1009,c3=1010,u3=1011,n0=1012,rR=1013,jd=1014,ro=1015,Y0=1016,sR=1017,aR=1018,i0=1020,d3=35902,f3=1021,h3=1022,ca=1023,r0=1026,s0=1027,oR=1028,lA=1029,p3=1030,lR=1031,f_e=1032,cR=1033,Tx=33776,Mx=33777,wx=33778,Rx=33779,nM=35840,iM=35841,rM=35842,sM=35843,aM=36196,oM=37492,lM=37496,cM=37808,uM=37809,dM=37810,fM=37811,hM=37812,pM=37813,mM=37814,gM=37815,yM=37816,vM=37817,bM=37818,_M=37819,xM=37820,SM=37821,Dx=36492,AM=36494,EM=36495,m3=36283,CM=36284,TM=36285,MM=36286,uX=2200,dX=2201,fX=2202,a0=2300,o0=2301,Z1=2302,Dm=2400,Im=2401,mS=2402,uR=2500,g3=2501,hX=0,y3=1,wM=2,pX=3200,mX=3201,h_e=3202,p_e=3203,$h=0,gX=1,yd="",sa="srgb",zh="srgb-linear",gS="linear",Ti="srgb",m_e=0,ym=7680,g_e=7681,y_e=7682,v_e=7683,b_e=34055,__e=34056,x_e=5386,S_e=512,A_e=513,E_e=514,C_e=515,T_e=516,M_e=517,w_e=518,rN=519,yX=512,vX=513,bX=514,v3=515,_X=516,xX=517,SX=518,AX=519,yS=35044,R_e=35048,D_e=35040,I_e=35045,O_e=35049,P_e=35041,N_e=35046,B_e=35050,L_e=35042,U_e="100",sN="300 es",El=2e3,vS=2001,k_e={COMPUTE:"compute",RENDER:"render"},F_e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},H_e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Lu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const Zs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let J4=1234567;const Vm=Math.PI/180,l0=180/Math.PI;function Fo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Zs[n&255]+Zs[n>>8&255]+Zs[n>>16&255]+Zs[n>>24&255]+"-"+Zs[e&255]+Zs[e>>8&255]+"-"+Zs[e>>16&15|64]+Zs[e>>24&255]+"-"+Zs[t&63|128]+Zs[t>>8&255]+"-"+Zs[t>>16&255]+Zs[t>>24&255]+Zs[i&255]+Zs[i>>8&255]+Zs[i>>16&255]+Zs[i>>24&255]).toLowerCase()}function vn(n,e,t){return Math.max(e,Math.min(t,n))}function b3(n,e){return(n%e+e)%e}function z_e(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function G_e(n,e,t){return n!==e?(t-n)/(e-n):0}function Ix(n,e,t){return(1-t)*n+t*e}function V_e(n,e,t,i){return Ix(n,e,1-Math.exp(-t*i))}function j_e(n,e=1){return e-Math.abs(b3(n,e*2)-e)}function W_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Y_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function X_e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function q_e(n,e){return n+Math.random()*(e-n)}function $_e(n){return n*(.5-Math.random())}function K_e(n){n!==void 0&&(J4=n);let e=J4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function J_e(n){return n*Vm}function Q_e(n){return n*l0}function Z_e(n){return(n&n-1)===0&&n!==0}function exe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function txe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nxe(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+i)/2),d=a((e+i)/2),h=s((e-i)/2),m=a((e-i)/2),v=s((i-e)/2),b=a((i-e)/2);switch(r){case"XYX":n.set(o*d,l*h,l*m,o*c);break;case"YZY":n.set(l*m,o*d,l*h,o*c);break;case"ZXZ":n.set(l*h,l*m,o*d,o*c);break;case"XZX":n.set(o*d,l*b,l*v,o*c);break;case"YXY":n.set(l*v,o*d,l*b,o*c);break;case"ZYZ":n.set(l*b,l*v,o*d,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Oa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function An(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const EX={DEG2RAD:Vm,RAD2DEG:l0,generateUUID:Fo,clamp:vn,euclideanModulo:b3,mapLinear:z_e,inverseLerp:G_e,lerp:Ix,damp:V_e,pingpong:j_e,smoothstep:W_e,smootherstep:Y_e,randInt:X_e,randFloat:q_e,randFloatSpread:$_e,seededRandom:K_e,degToRad:J_e,radToDeg:Q_e,isPowerOfTwo:Z_e,ceilPowerOfTwo:exe,floorPowerOfTwo:txe,setQuaternionFromProperEuler:nxe,normalize:An,denormalize:Oa};class rt{constructor(e=0,t=0){rt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xn{constructor(e,t,i,r,s,a,o,l,c){xn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c)}set(e,t,i,r,s,a,o,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],d=i[4],h=i[7],m=i[2],v=i[5],b=i[8],A=r[0],_=r[3],x=r[6],T=r[1],C=r[4],M=r[7],O=r[2],R=r[5],B=r[8];return s[0]=a*A+o*T+l*O,s[3]=a*_+o*C+l*R,s[6]=a*x+o*M+l*B,s[1]=c*A+d*T+h*O,s[4]=c*_+d*C+h*R,s[7]=c*x+d*M+h*B,s[2]=m*A+v*T+b*O,s[5]=m*_+v*C+b*R,s[8]=m*x+v*M+b*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8];return t*a*d-t*o*c-i*s*d+i*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],h=d*a-o*c,m=o*l-d*s,v=c*s-a*l,b=t*h+i*m+r*v;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/b;return e[0]=h*A,e[1]=(r*c-d*i)*A,e[2]=(o*i-r*a)*A,e[3]=m*A,e[4]=(d*t-r*l)*A,e[5]=(r*s-o*t)*A,e[6]=v*A,e[7]=(i*l-c*t)*A,e[8]=(a*t-i*s)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(qI.makeScale(e,t)),this}rotate(e){return this.premultiply(qI.makeRotation(-e)),this}translate(e,t){return this.premultiply(qI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qI=new xn;function CX(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ixe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function bv(n,e){return new ixe[n](e)}function bS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function TX(){const n=bS("canvas");return n.style.display="block",n}const Q4={};function eT(n){n in Q4||(Q4[n]=!0,console.warn(n))}function rxe(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function sxe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function axe(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Z4=new xn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),e5=new xn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function oxe(){const n={enabled:!0,workingColorSpace:zh,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Ti&&(r.r=Rd(r.r),r.g=Rd(r.g),r.b=Rd(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Ti&&(r.r=Ov(r.r),r.g=Ov(r.g),r.b=Ov(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===yd?gS:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[zh]:{primaries:e,whitePoint:i,transfer:gS,toXYZ:Z4,fromXYZ:e5,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:sa},outputColorSpaceConfig:{drawingBufferColorSpace:sa}},[sa]:{primaries:e,whitePoint:i,transfer:Ti,toXYZ:Z4,fromXYZ:e5,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:sa}}}),n}const Xn=oxe();function Rd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ov(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let By;class MX{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{By===void 0&&(By=bS("canvas")),By.width=e.width,By.height=e.height;const r=By.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=By}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=bS("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Rd(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Rd(t[i]/255)*255):t[i]=Rd(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lxe=0;class vh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lxe++}),this.uuid=Fo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push($I(r[a].image)):s.push($I(r[a]))}else s=$I(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function $I(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?MX.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let cxe=0;class ir extends Lu{constructor(e=ir.DEFAULT_IMAGE,t=ir.DEFAULT_MAPPING,i=Lo,r=Lo,s=Br,a=Al,o=ca,l=Ol,c=ir.DEFAULT_ANISOTROPY,d=yd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:cxe++}),this.uuid=Fo(),this.name="",this.source=new vh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==nR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hh:e.x=e.x-Math.floor(e.x);break;case Lo:e.x=e.x<0?0:1;break;case t0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hh:e.y=e.y-Math.floor(e.y);break;case Lo:e.y=e.y<0?0:1;break;case t0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ir.DEFAULT_IMAGE=null;ir.DEFAULT_MAPPING=nR;ir.DEFAULT_ANISOTROPY=1;class Zn{constructor(e=0,t=0,i=0,r=1){Zn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],m=l[1],v=l[5],b=l[9],A=l[2],_=l[6],x=l[10];if(Math.abs(d-m)<.01&&Math.abs(h-A)<.01&&Math.abs(b-_)<.01){if(Math.abs(d+m)<.1&&Math.abs(h+A)<.1&&Math.abs(b+_)<.1&&Math.abs(c+v+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,M=(v+1)/2,O=(x+1)/2,R=(d+m)/4,B=(h+A)/4,N=(b+_)/4;return C>M&&C>O?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=R/i,s=B/i):M>O?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=R/r,s=N/r):O<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(O),i=B/s,r=N/s),this.set(i,r,s,t),this}let T=Math.sqrt((_-b)*(_-b)+(h-A)*(h-A)+(m-d)*(m-d));return Math.abs(T)<.001&&(T=1),this.x=(_-b)/T,this.y=(h-A)/T,this.z=(m-d)/T,this.w=Math.acos((c+v+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this.z=vn(this.z,e.z,t.z),this.w=vn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this.z=vn(this.z,e,t),this.w=vn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class dR extends Lu{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new Zn(0,0,e,t),this.scissorTest=!1,this.viewport=new Zn(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Br,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new ir(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new vh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nu extends dR{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class cA extends ir{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Es,this.minFilter=Es,this.wrapR=Lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uxe extends Nu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new cA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class fR extends ir{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Es,this.minFilter=Es,this.wrapR=Lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dxe extends Nu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new fR(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Cs{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const m=s[a+0],v=s[a+1],b=s[a+2],A=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(o===1){e[t+0]=m,e[t+1]=v,e[t+2]=b,e[t+3]=A;return}if(h!==A||l!==m||c!==v||d!==b){let _=1-o;const x=l*m+c*v+d*b+h*A,T=x>=0?1:-1,C=1-x*x;if(C>Number.EPSILON){const O=Math.sqrt(C),R=Math.atan2(O,x*T);_=Math.sin(_*R)/O,o=Math.sin(o*R)/O}const M=o*T;if(l=l*_+m*M,c=c*_+v*M,d=d*_+b*M,h=h*_+A*M,_===1-o){const O=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=O,c*=O,d*=O,h*=O}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[a],m=s[a+1],v=s[a+2],b=s[a+3];return e[t]=o*b+d*h+l*v-c*m,e[t+1]=l*b+d*m+c*h-o*v,e[t+2]=c*b+d*v+o*m-l*h,e[t+3]=d*b-o*h-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),d=o(r/2),h=o(s/2),m=l(i/2),v=l(r/2),b=l(s/2);switch(a){case"XYZ":this._x=m*d*h+c*v*b,this._y=c*v*h-m*d*b,this._z=c*d*b+m*v*h,this._w=c*d*h-m*v*b;break;case"YXZ":this._x=m*d*h+c*v*b,this._y=c*v*h-m*d*b,this._z=c*d*b-m*v*h,this._w=c*d*h+m*v*b;break;case"ZXY":this._x=m*d*h-c*v*b,this._y=c*v*h+m*d*b,this._z=c*d*b+m*v*h,this._w=c*d*h-m*v*b;break;case"ZYX":this._x=m*d*h-c*v*b,this._y=c*v*h+m*d*b,this._z=c*d*b-m*v*h,this._w=c*d*h+m*v*b;break;case"YZX":this._x=m*d*h+c*v*b,this._y=c*v*h+m*d*b,this._z=c*d*b-m*v*h,this._w=c*d*h-m*v*b;break;case"XZY":this._x=m*d*h-c*v*b,this._y=c*v*h-m*d*b,this._z=c*d*b+m*v*h,this._w=c*d*h+m*v*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],d=t[6],h=t[10],m=i+o+h;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(d-l)*v,this._y=(s-c)*v,this._z=(a-r)*v}else if(i>o&&i>h){const v=2*Math.sqrt(1+i-o-h);this._w=(d-l)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+c)/v}else if(o>h){const v=2*Math.sqrt(1+o-i-h);this._w=(s-c)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+h-i-o);this._w=(a-r)/v,this._x=(s+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+a*o+r*c-s*l,this._y=r*d+a*l+s*o-i*c,this._z=s*d+a*c+i*l-r*o,this._w=a*d-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,o),h=Math.sin((1-t)*d)/c,m=Math.sin(t*d)/c;return this._w=a*h+this._w*m,this._x=i*h+this._x*m,this._y=r*h+this._y*m,this._z=s*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,t=0,i=0){le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(t5.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(t5.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),d=2*(o*t-s*r),h=2*(s*i-a*t);return this.x=t+l*c+a*h-o*d,this.y=i+l*d+o*c-s*h,this.z=r+l*h+s*d-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this.z=vn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this.z=vn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return KI.copy(this).projectOnVector(e),this.sub(KI)}reflect(e){return this.sub(KI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const KI=new le,t5=new Cs;class Vs{constructor(e=new le(1/0,1/0,1/0),t=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(uc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(uc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,uc):uc.fromBufferAttribute(s,a),uc.applyMatrix4(e.matrixWorld),this.expandByPoint(uc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),AC.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),AC.copy(i.boundingBox)),AC.applyMatrix4(e.matrixWorld),this.union(AC)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,uc),uc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(D_),EC.subVectors(this.max,D_),Ly.subVectors(e.a,D_),Uy.subVectors(e.b,D_),ky.subVectors(e.c,D_),eh.subVectors(Uy,Ly),th.subVectors(ky,Uy),Kp.subVectors(Ly,ky);let t=[0,-eh.z,eh.y,0,-th.z,th.y,0,-Kp.z,Kp.y,eh.z,0,-eh.x,th.z,0,-th.x,Kp.z,0,-Kp.x,-eh.y,eh.x,0,-th.y,th.x,0,-Kp.y,Kp.x,0];return!JI(t,Ly,Uy,ky,EC)||(t=[1,0,0,0,1,0,0,0,1],!JI(t,Ly,Uy,ky,EC))?!1:(CC.crossVectors(eh,th),t=[CC.x,CC.y,CC.z],JI(t,Ly,Uy,ky,EC))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(uc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ld[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ld[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ld[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ld[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ld[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ld[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ld[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ld[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ld),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ld=[new le,new le,new le,new le,new le,new le,new le,new le],uc=new le,AC=new Vs,Ly=new le,Uy=new le,ky=new le,eh=new le,th=new le,Kp=new le,D_=new le,EC=new le,CC=new le,Jp=new le;function JI(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Jp.fromArray(n,s);const o=r.x*Math.abs(Jp.x)+r.y*Math.abs(Jp.y)+r.z*Math.abs(Jp.z),l=e.dot(Jp),c=t.dot(Jp),d=i.dot(Jp);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const fxe=new Vs,I_=new le,QI=new le;class Ts{constructor(e=new le,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):fxe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;I_.subVectors(e,this.center);const t=I_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(I_,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(QI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(I_.copy(e.center).add(QI)),this.expandByPoint(I_.copy(e.center).sub(QI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const cd=new le,ZI=new le,TC=new le,nh=new le,e2=new le,MC=new le,t2=new le;class pg{constructor(e=new le,t=new le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,cd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=cd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(cd.copy(this.origin).addScaledVector(this.direction,t),cd.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){ZI.copy(e).add(t).multiplyScalar(.5),TC.copy(t).sub(e).normalize(),nh.copy(this.origin).sub(ZI);const s=e.distanceTo(t)*.5,a=-this.direction.dot(TC),o=nh.dot(this.direction),l=-nh.dot(TC),c=nh.lengthSq(),d=Math.abs(1-a*a);let h,m,v,b;if(d>0)if(h=a*l-o,m=a*o-l,b=s*d,h>=0)if(m>=-b)if(m<=b){const A=1/d;h*=A,m*=A,v=h*(h+a*m+2*o)+m*(a*h+m+2*l)+c}else m=s,h=Math.max(0,-(a*m+o)),v=-h*h+m*(m+2*l)+c;else m=-s,h=Math.max(0,-(a*m+o)),v=-h*h+m*(m+2*l)+c;else m<=-b?(h=Math.max(0,-(-a*s+o)),m=h>0?-s:Math.min(Math.max(-s,-l),s),v=-h*h+m*(m+2*l)+c):m<=b?(h=0,m=Math.min(Math.max(-s,-l),s),v=m*(m+2*l)+c):(h=Math.max(0,-(a*s+o)),m=h>0?s:Math.min(Math.max(-s,-l),s),v=-h*h+m*(m+2*l)+c);else m=a>0?-s:s,h=Math.max(0,-(a*m+o)),v=-h*h+m*(m+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(ZI).addScaledVector(TC,m),v}intersectSphere(e,t){cd.subVectors(e.center,this.origin);const i=cd.dot(this.direction),r=cd.dot(cd)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,m=this.origin;return c>=0?(i=(e.min.x-m.x)*c,r=(e.max.x-m.x)*c):(i=(e.max.x-m.x)*c,r=(e.min.x-m.x)*c),d>=0?(s=(e.min.y-m.y)*d,a=(e.max.y-m.y)*d):(s=(e.max.y-m.y)*d,a=(e.min.y-m.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),h>=0?(o=(e.min.z-m.z)*h,l=(e.max.z-m.z)*h):(o=(e.max.z-m.z)*h,l=(e.min.z-m.z)*h),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,cd)!==null}intersectTriangle(e,t,i,r,s){e2.subVectors(t,e),MC.subVectors(i,e),t2.crossVectors(e2,MC);let a=this.direction.dot(t2),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;nh.subVectors(this.origin,e);const l=o*this.direction.dot(MC.crossVectors(nh,MC));if(l<0)return null;const c=o*this.direction.dot(e2.cross(nh));if(c<0||l+c>a)return null;const d=-o*nh.dot(t2);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(e,t,i,r,s,a,o,l,c,d,h,m,v,b,A,_){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c,d,h,m,v,b,A,_)}set(e,t,i,r,s,a,o,l,c,d,h,m,v,b,A,_){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=s,x[5]=a,x[9]=o,x[13]=l,x[2]=c,x[6]=d,x[10]=h,x[14]=m,x[3]=v,x[7]=b,x[11]=A,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Fy.setFromMatrixColumn(e,0).length(),s=1/Fy.setFromMatrixColumn(e,1).length(),a=1/Fy.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const m=a*d,v=a*h,b=o*d,A=o*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=v+b*c,t[5]=m-A*c,t[9]=-o*l,t[2]=A-m*c,t[6]=b+v*c,t[10]=a*l}else if(e.order==="YXZ"){const m=l*d,v=l*h,b=c*d,A=c*h;t[0]=m+A*o,t[4]=b*o-v,t[8]=a*c,t[1]=a*h,t[5]=a*d,t[9]=-o,t[2]=v*o-b,t[6]=A+m*o,t[10]=a*l}else if(e.order==="ZXY"){const m=l*d,v=l*h,b=c*d,A=c*h;t[0]=m-A*o,t[4]=-a*h,t[8]=b+v*o,t[1]=v+b*o,t[5]=a*d,t[9]=A-m*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const m=a*d,v=a*h,b=o*d,A=o*h;t[0]=l*d,t[4]=b*c-v,t[8]=m*c+A,t[1]=l*h,t[5]=A*c+m,t[9]=v*c-b,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const m=a*l,v=a*c,b=o*l,A=o*c;t[0]=l*d,t[4]=A-m*h,t[8]=b*h+v,t[1]=h,t[5]=a*d,t[9]=-o*d,t[2]=-c*d,t[6]=v*h+b,t[10]=m-A*h}else if(e.order==="XZY"){const m=a*l,v=a*c,b=o*l,A=o*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=m*h+A,t[5]=a*d,t[9]=v*h-b,t[2]=b*h-v,t[6]=o*d,t[10]=A*h+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hxe,e,pxe)}lookAt(e,t,i){const r=this.elements;return Do.subVectors(e,t),Do.lengthSq()===0&&(Do.z=1),Do.normalize(),ih.crossVectors(i,Do),ih.lengthSq()===0&&(Math.abs(i.z)===1?Do.x+=1e-4:Do.z+=1e-4,Do.normalize(),ih.crossVectors(i,Do)),ih.normalize(),wC.crossVectors(Do,ih),r[0]=ih.x,r[4]=wC.x,r[8]=Do.x,r[1]=ih.y,r[5]=wC.y,r[9]=Do.y,r[2]=ih.z,r[6]=wC.z,r[10]=Do.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],d=i[1],h=i[5],m=i[9],v=i[13],b=i[2],A=i[6],_=i[10],x=i[14],T=i[3],C=i[7],M=i[11],O=i[15],R=r[0],B=r[4],N=r[8],P=r[12],I=r[1],F=r[5],U=r[9],j=r[13],q=r[2],Z=r[6],H=r[10],Y=r[14],X=r[3],ne=r[7],K=r[11],ae=r[15];return s[0]=a*R+o*I+l*q+c*X,s[4]=a*B+o*F+l*Z+c*ne,s[8]=a*N+o*U+l*H+c*K,s[12]=a*P+o*j+l*Y+c*ae,s[1]=d*R+h*I+m*q+v*X,s[5]=d*B+h*F+m*Z+v*ne,s[9]=d*N+h*U+m*H+v*K,s[13]=d*P+h*j+m*Y+v*ae,s[2]=b*R+A*I+_*q+x*X,s[6]=b*B+A*F+_*Z+x*ne,s[10]=b*N+A*U+_*H+x*K,s[14]=b*P+A*j+_*Y+x*ae,s[3]=T*R+C*I+M*q+O*X,s[7]=T*B+C*F+M*Z+O*ne,s[11]=T*N+C*U+M*H+O*K,s[15]=T*P+C*j+M*Y+O*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],d=e[2],h=e[6],m=e[10],v=e[14],b=e[3],A=e[7],_=e[11],x=e[15];return b*(+s*l*h-r*c*h-s*o*m+i*c*m+r*o*v-i*l*v)+A*(+t*l*v-t*c*m+s*a*m-r*a*v+r*c*d-s*l*d)+_*(+t*c*h-t*o*v-s*a*h+i*a*v+s*o*d-i*c*d)+x*(-r*o*d-t*l*h+t*o*m+r*a*h-i*a*m+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],d=e[8],h=e[9],m=e[10],v=e[11],b=e[12],A=e[13],_=e[14],x=e[15],T=h*_*c-A*m*c+A*l*v-o*_*v-h*l*x+o*m*x,C=b*m*c-d*_*c-b*l*v+a*_*v+d*l*x-a*m*x,M=d*A*c-b*h*c+b*o*v-a*A*v-d*o*x+a*h*x,O=b*h*l-d*A*l-b*o*m+a*A*m+d*o*_-a*h*_,R=t*T+i*C+r*M+s*O;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/R;return e[0]=T*B,e[1]=(A*m*s-h*_*s-A*r*v+i*_*v+h*r*x-i*m*x)*B,e[2]=(o*_*s-A*l*s+A*r*c-i*_*c-o*r*x+i*l*x)*B,e[3]=(h*l*s-o*m*s-h*r*c+i*m*c+o*r*v-i*l*v)*B,e[4]=C*B,e[5]=(d*_*s-b*m*s+b*r*v-t*_*v-d*r*x+t*m*x)*B,e[6]=(b*l*s-a*_*s-b*r*c+t*_*c+a*r*x-t*l*x)*B,e[7]=(a*m*s-d*l*s+d*r*c-t*m*c-a*r*v+t*l*v)*B,e[8]=M*B,e[9]=(b*h*s-d*A*s-b*i*v+t*A*v+d*i*x-t*h*x)*B,e[10]=(a*A*s-b*o*s+b*i*c-t*A*c-a*i*x+t*o*x)*B,e[11]=(d*o*s-a*h*s-d*i*c+t*h*c+a*i*v-t*o*v)*B,e[12]=O*B,e[13]=(d*A*r-b*h*r+b*i*m-t*A*m-d*i*_+t*h*_)*B,e[14]=(b*o*r-a*A*r-b*i*l+t*A*l+a*i*_-t*o*_)*B,e[15]=(a*h*r-d*o*r+d*i*l-t*h*l-a*i*m+t*o*m)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,d=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,d*o+i,d*l-r*a,0,c*l-r*o,d*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,d=a+a,h=o+o,m=s*c,v=s*d,b=s*h,A=a*d,_=a*h,x=o*h,T=l*c,C=l*d,M=l*h,O=i.x,R=i.y,B=i.z;return r[0]=(1-(A+x))*O,r[1]=(v+M)*O,r[2]=(b-C)*O,r[3]=0,r[4]=(v-M)*R,r[5]=(1-(m+x))*R,r[6]=(_+T)*R,r[7]=0,r[8]=(b+C)*B,r[9]=(_-T)*B,r[10]=(1-(m+A))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Fy.set(r[0],r[1],r[2]).length();const a=Fy.set(r[4],r[5],r[6]).length(),o=Fy.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],dc.copy(this);const c=1/s,d=1/a,h=1/o;return dc.elements[0]*=c,dc.elements[1]*=c,dc.elements[2]*=c,dc.elements[4]*=d,dc.elements[5]*=d,dc.elements[6]*=d,dc.elements[8]*=h,dc.elements[9]*=h,dc.elements[10]*=h,t.setFromRotationMatrix(dc),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=El){const l=this.elements,c=2*s/(t-e),d=2*s/(i-r),h=(t+e)/(t-e),m=(i+r)/(i-r);let v,b;if(o===El)v=-(a+s)/(a-s),b=-2*a*s/(a-s);else if(o===vS)v=-a/(a-s),b=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=b,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=El){const l=this.elements,c=1/(t-e),d=1/(i-r),h=1/(a-s),m=(t+e)*c,v=(i+r)*d;let b,A;if(o===El)b=(a+s)*h,A=-2*h;else if(o===vS)b=s*h,A=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=A,l[14]=-b,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Fy=new le,dc=new Yt,hxe=new le(0,0,0),pxe=new le(1,1,1),ih=new le,wC=new le,Do=new le,n5=new Yt,i5=new Cs;class Vo{constructor(e=0,t=0,i=0,r=Vo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],d=r[9],h=r[2],m=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-vn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(vn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-vn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return n5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(n5,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return i5.setFromEuler(this),this.setFromQuaternion(i5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vo.DEFAULT_ORDER="XYZ";class c0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let mxe=0;const r5=new le,Hy=new Cs,ud=new Yt,RC=new le,O_=new le,gxe=new le,yxe=new Cs,s5=new le(1,0,0),a5=new le(0,1,0),o5=new le(0,0,1),l5={type:"added"},vxe={type:"removed"},zy={type:"childadded",child:null},n2={type:"childremoved",child:null};class qn extends Lu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mxe++}),this.uuid=Fo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qn.DEFAULT_UP.clone();const e=new le,t=new Vo,i=new Cs,r=new le(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Yt},normalMatrix:{value:new xn}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new c0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Hy.setFromAxisAngle(e,t),this.quaternion.multiply(Hy),this}rotateOnWorldAxis(e,t){return Hy.setFromAxisAngle(e,t),this.quaternion.premultiply(Hy),this}rotateX(e){return this.rotateOnAxis(s5,e)}rotateY(e){return this.rotateOnAxis(a5,e)}rotateZ(e){return this.rotateOnAxis(o5,e)}translateOnAxis(e,t){return r5.copy(e).applyQuaternion(this.quaternion),this.position.add(r5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(s5,e)}translateY(e){return this.translateOnAxis(a5,e)}translateZ(e){return this.translateOnAxis(o5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ud.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?RC.copy(e):RC.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),O_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ud.lookAt(O_,RC,this.up):ud.lookAt(RC,O_,this.up),this.quaternion.setFromRotationMatrix(ud),r&&(ud.extractRotation(r.matrixWorld),Hy.setFromRotationMatrix(ud),this.quaternion.premultiply(Hy.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(l5),zy.child=e,this.dispatchEvent(zy),zy.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vxe),n2.child=e,this.dispatchEvent(n2),n2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ud.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ud.multiply(e.parent.matrixWorld)),e.applyMatrix4(ud),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(l5),zy.child=e,this.dispatchEvent(zy),zy.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O_,e,gxe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(O_,yxe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?{min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}:void 0,boundingSphere:o.boundingSphere?{radius:o.boundingSphere.radius,center:o.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),d=a(e.images),h=a(e.shapes),m=a(e.skeletons),v=a(e.animations),b=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),m.length>0&&(i.skeletons=m),v.length>0&&(i.animations=v),b.length>0&&(i.nodes=b)}return i.object=r,i;function a(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}qn.DEFAULT_UP=new le(0,1,0);qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fc=new le,dd=new le,i2=new le,fd=new le,Gy=new le,Vy=new le,c5=new le,r2=new le,s2=new le,a2=new le,o2=new Zn,l2=new Zn,c2=new Zn;class eo{constructor(e=new le,t=new le,i=new le){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),fc.subVectors(e,t),r.cross(fc);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){fc.subVectors(r,t),dd.subVectors(i,t),i2.subVectors(e,t);const a=fc.dot(fc),o=fc.dot(dd),l=fc.dot(i2),c=dd.dot(dd),d=dd.dot(i2),h=a*c-o*o;if(h===0)return s.set(0,0,0),null;const m=1/h,v=(c*l-o*d)*m,b=(a*d-o*l)*m;return s.set(1-v-b,b,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,fd)===null?!1:fd.x>=0&&fd.y>=0&&fd.x+fd.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,fd)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,fd.x),l.addScaledVector(a,fd.y),l.addScaledVector(o,fd.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return o2.setScalar(0),l2.setScalar(0),c2.setScalar(0),o2.fromBufferAttribute(e,t),l2.fromBufferAttribute(e,i),c2.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(o2,s.x),a.addScaledVector(l2,s.y),a.addScaledVector(c2,s.z),a}static isFrontFacing(e,t,i,r){return fc.subVectors(i,t),dd.subVectors(e,t),fc.cross(dd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fc.subVectors(this.c,this.b),dd.subVectors(this.a,this.b),fc.cross(dd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return eo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return eo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return eo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return eo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return eo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Gy.subVectors(r,i),Vy.subVectors(s,i),r2.subVectors(e,i);const l=Gy.dot(r2),c=Vy.dot(r2);if(l<=0&&c<=0)return t.copy(i);s2.subVectors(e,r);const d=Gy.dot(s2),h=Vy.dot(s2);if(d>=0&&h<=d)return t.copy(r);const m=l*h-d*c;if(m<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(i).addScaledVector(Gy,a);a2.subVectors(e,s);const v=Gy.dot(a2),b=Vy.dot(a2);if(b>=0&&v<=b)return t.copy(s);const A=v*c-l*b;if(A<=0&&c>=0&&b<=0)return o=c/(c-b),t.copy(i).addScaledVector(Vy,o);const _=d*b-v*h;if(_<=0&&h-d>=0&&v-b>=0)return c5.subVectors(s,r),o=(h-d)/(h-d+(v-b)),t.copy(r).addScaledVector(c5,o);const x=1/(_+A+m);return a=A*x,o=m*x,t.copy(i).addScaledVector(Gy,a).addScaledVector(Vy,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const wX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rh={h:0,s:0,l:0},DC={h:0,s:0,l:0};function u2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Rt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=sa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Xn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Xn.workingColorSpace){if(e=b3(e,1),t=vn(t,0,1),i=vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=u2(a,s,e+1/3),this.g=u2(a,s,e),this.b=u2(a,s,e-1/3)}return Xn.toWorkingColorSpace(this,r),this}setStyle(e,t=sa){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=sa){const i=wX[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rd(e.r),this.g=Rd(e.g),this.b=Rd(e.b),this}copyLinearToSRGB(e){return this.r=Ov(e.r),this.g=Ov(e.g),this.b=Ov(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=sa){return Xn.fromWorkingColorSpace(ea.copy(this),e),Math.round(vn(ea.r*255,0,255))*65536+Math.round(vn(ea.g*255,0,255))*256+Math.round(vn(ea.b*255,0,255))}getHexString(e=sa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xn.workingColorSpace){Xn.fromWorkingColorSpace(ea.copy(this),t);const i=ea.r,r=ea.g,s=ea.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,c;const d=(o+a)/2;if(o===a)l=0,c=0;else{const h=a-o;switch(c=d<=.5?h/(a+o):h/(2-a-o),a){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Xn.workingColorSpace){return Xn.fromWorkingColorSpace(ea.copy(this),t),e.r=ea.r,e.g=ea.g,e.b=ea.b,e}getStyle(e=sa){Xn.fromWorkingColorSpace(ea.copy(this),e);const t=ea.r,i=ea.g,r=ea.b;return e!==sa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(rh),this.setHSL(rh.h+e,rh.s+t,rh.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(rh),e.getHSL(DC);const i=Ix(rh.h,DC.h,t),r=Ix(rh.s,DC.s,t),s=Ix(rh.l,DC.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ea=new Rt;Rt.NAMES=wX;let bxe=0;class cs extends Lu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bxe++}),this.uuid=Fo(),this.name="",this.type="Material",this.blending=Gm,this.side=Pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=XT,this.blendDst=qT,this.blendEquation=gh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=ng,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=rN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ym,this.stencilZFail=ym,this.stencilZPass=ym,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Gm&&(i.blending=this.blending),this.side!==Pu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==XT&&(i.blendSrc=this.blendSrc),this.blendDst!==qT&&(i.blendDst=this.blendDst),this.blendEquation!==gh&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ng&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==rN&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ym&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ym&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ym&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Uo extends cs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vo,this.combine=oA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vd=_xe();function _xe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Za(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=vn(n,-65504,65504),vd.floatView[0]=n;const e=vd.uint32View[0],t=e>>23&511;return vd.baseTable[t]+((e&8388607)>>vd.shiftTable[t])}function Z_(n){const e=n>>10;return vd.uint32View[0]=vd.mantissaTable[vd.offsetTable[e]+(n&1023)]+vd.exponentTable[e],vd.floatView[0]}class xxe{static toHalfFloat(e){return Za(e)}static fromHalfFloat(e){return Z_(e)}}const Yr=new le,IC=new rt;let Sxe=0;class ei{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Sxe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=yS,this.updateRanges=[],this.gpuType=ro,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)IC.fromBufferAttribute(this,t),IC.applyMatrix3(e),this.setXY(t,IC.x,IC.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Yr.fromBufferAttribute(this,t),Yr.applyMatrix3(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Yr.fromBufferAttribute(this,t),Yr.applyMatrix4(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Yr.fromBufferAttribute(this,t),Yr.applyNormalMatrix(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Yr.fromBufferAttribute(this,t),Yr.transformDirection(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Oa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=An(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Oa(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Oa(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Oa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Oa(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),s=An(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yS&&(e.usage=this.usage),e}}class Axe extends ei{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Exe extends ei{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Cxe extends ei{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Txe extends ei{constructor(e,t,i){super(new Int16Array(e),t,i)}}class _3 extends ei{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Mxe extends ei{constructor(e,t,i){super(new Int32Array(e),t,i)}}class x3 extends ei{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class wxe extends ei{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Z_(this.array[e*this.itemSize]);return this.normalized&&(t=Oa(t,this.array)),t}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize]=Za(t),this}getY(e){let t=Z_(this.array[e*this.itemSize+1]);return this.normalized&&(t=Oa(t,this.array)),t}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+1]=Za(t),this}getZ(e){let t=Z_(this.array[e*this.itemSize+2]);return this.normalized&&(t=Oa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+2]=Za(t),this}getW(e){let t=Z_(this.array[e*this.itemSize+3]);return this.normalized&&(t=Oa(t,this.array)),t}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.array[e*this.itemSize+3]=Za(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.array[e+0]=Za(t),this.array[e+1]=Za(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.array[e+0]=Za(t),this.array[e+1]=Za(i),this.array[e+2]=Za(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),s=An(s,this.array)),this.array[e+0]=Za(t),this.array[e+1]=Za(i),this.array[e+2]=Za(r),this.array[e+3]=Za(s),this}}class Ht extends ei{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Rxe=0;const yl=new Yt,d2=new qn,jy=new le,Io=new Vs,P_=new Vs,vs=new le;class bn extends Lu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Rxe++}),this.uuid=Fo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(CX(e)?x3:_3)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new xn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yl.makeRotationFromQuaternion(e),this.applyMatrix4(yl),this}rotateX(e){return yl.makeRotationX(e),this.applyMatrix4(yl),this}rotateY(e){return yl.makeRotationY(e),this.applyMatrix4(yl),this}rotateZ(e){return yl.makeRotationZ(e),this.applyMatrix4(yl),this}translate(e,t,i){return yl.makeTranslation(e,t,i),this.applyMatrix4(yl),this}scale(e,t,i){return yl.makeScale(e,t,i),this.applyMatrix4(yl),this}lookAt(e){return d2.lookAt(e),d2.updateMatrix(),this.applyMatrix4(d2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jy).negate(),this.translate(jy.x,jy.y,jy.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Io.setFromBufferAttribute(s),this.morphTargetsRelative?(vs.addVectors(this.boundingBox.min,Io.min),this.boundingBox.expandByPoint(vs),vs.addVectors(this.boundingBox.max,Io.max),this.boundingBox.expandByPoint(vs)):(this.boundingBox.expandByPoint(Io.min),this.boundingBox.expandByPoint(Io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ts);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const i=this.boundingSphere.center;if(Io.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];P_.setFromBufferAttribute(o),this.morphTargetsRelative?(vs.addVectors(Io.min,P_.min),Io.expandByPoint(vs),vs.addVectors(Io.max,P_.max),Io.expandByPoint(vs)):(Io.expandByPoint(P_.min),Io.expandByPoint(P_.max))}Io.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)vs.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(vs));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,d=o.count;c<d;c++)vs.fromBufferAttribute(o,c),l&&(jy.fromBufferAttribute(e,c),vs.add(jy)),r=Math.max(r,i.distanceToSquared(vs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let N=0;N<i.count;N++)o[N]=new le,l[N]=new le;const c=new le,d=new le,h=new le,m=new rt,v=new rt,b=new rt,A=new le,_=new le;function x(N,P,I){c.fromBufferAttribute(i,N),d.fromBufferAttribute(i,P),h.fromBufferAttribute(i,I),m.fromBufferAttribute(s,N),v.fromBufferAttribute(s,P),b.fromBufferAttribute(s,I),d.sub(c),h.sub(c),v.sub(m),b.sub(m);const F=1/(v.x*b.y-b.x*v.y);isFinite(F)&&(A.copy(d).multiplyScalar(b.y).addScaledVector(h,-v.y).multiplyScalar(F),_.copy(h).multiplyScalar(v.x).addScaledVector(d,-b.x).multiplyScalar(F),o[N].add(A),o[P].add(A),o[I].add(A),l[N].add(_),l[P].add(_),l[I].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let N=0,P=T.length;N<P;++N){const I=T[N],F=I.start,U=I.count;for(let j=F,q=F+U;j<q;j+=3)x(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const C=new le,M=new le,O=new le,R=new le;function B(N){O.fromBufferAttribute(r,N),R.copy(O);const P=o[N];C.copy(P),C.sub(O.multiplyScalar(O.dot(P))).normalize(),M.crossVectors(R,P);const F=M.dot(l[N])<0?-1:1;a.setXYZW(N,C.x,C.y,C.z,F)}for(let N=0,P=T.length;N<P;++N){const I=T[N],F=I.start,U=I.count;for(let j=F,q=F+U;j<q;j+=3)B(e.getX(j+0)),B(e.getX(j+1)),B(e.getX(j+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ei(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let m=0,v=i.count;m<v;m++)i.setXYZ(m,0,0,0);const r=new le,s=new le,a=new le,o=new le,l=new le,c=new le,d=new le,h=new le;if(e)for(let m=0,v=e.count;m<v;m+=3){const b=e.getX(m+0),A=e.getX(m+1),_=e.getX(m+2);r.fromBufferAttribute(t,b),s.fromBufferAttribute(t,A),a.fromBufferAttribute(t,_),d.subVectors(a,s),h.subVectors(r,s),d.cross(h),o.fromBufferAttribute(i,b),l.fromBufferAttribute(i,A),c.fromBufferAttribute(i,_),o.add(d),l.add(d),c.add(d),i.setXYZ(b,o.x,o.y,o.z),i.setXYZ(A,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let m=0,v=t.count;m<v;m+=3)r.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),a.fromBufferAttribute(t,m+2),d.subVectors(a,s),h.subVectors(r,s),d.cross(h),i.setXYZ(m+0,d.x,d.y,d.z),i.setXYZ(m+1,d.x,d.y,d.z),i.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)vs.fromBufferAttribute(e,t),vs.normalize(),e.setXYZ(t,vs.x,vs.y,vs.z)}toNonIndexed(){function e(o,l){const c=o.array,d=o.itemSize,h=o.normalized,m=new c.constructor(l.length*d);let v=0,b=0;for(let A=0,_=l.length;A<_;A++){o.isInterleavedBufferAttribute?v=l[A]*o.data.stride+o.offset:v=l[A]*d;for(let x=0;x<d;x++)m[b++]=c[v++]}return new ei(m,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new bn,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let d=0,h=c.length;d<h;d++){const m=c[d],v=e(m,i);l.push(v)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,m=c.length;h<m;h++){const v=c[h];d.push(v.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let m=0,v=h.length;m<v;m++)d.push(h[m].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,d=a.length;c<d;c++){const h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const u5=new Yt,Qp=new pg,OC=new Ts,d5=new le,PC=new le,NC=new le,BC=new le,f2=new le,LC=new le,f5=new le,UC=new le;class Lr extends qn{constructor(e=new bn,t=new Uo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){LC.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=o[l],h=s[l];d!==0&&(f2.fromBufferAttribute(h,e),a?LC.addScaledVector(f2,d):LC.addScaledVector(f2.sub(t),d))}t.add(LC)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),OC.copy(i.boundingSphere),OC.applyMatrix4(s),Qp.copy(e.ray).recast(e.near),!(OC.containsPoint(Qp.origin)===!1&&(Qp.intersectSphere(OC,d5)===null||Qp.origin.distanceToSquared(d5)>(e.far-e.near)**2))&&(u5.copy(s).invert(),Qp.copy(e.ray).applyMatrix4(u5),!(i.boundingBox!==null&&Qp.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Qp)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,m=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let b=0,A=m.length;b<A;b++){const _=m[b],x=a[_.materialIndex],T=Math.max(_.start,v.start),C=Math.min(o.count,Math.min(_.start+_.count,v.start+v.count));for(let M=T,O=C;M<O;M+=3){const R=o.getX(M),B=o.getX(M+1),N=o.getX(M+2);r=kC(this,x,e,i,c,d,h,R,B,N),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const b=Math.max(0,v.start),A=Math.min(o.count,v.start+v.count);for(let _=b,x=A;_<x;_+=3){const T=o.getX(_),C=o.getX(_+1),M=o.getX(_+2);r=kC(this,a,e,i,c,d,h,T,C,M),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let b=0,A=m.length;b<A;b++){const _=m[b],x=a[_.materialIndex],T=Math.max(_.start,v.start),C=Math.min(l.count,Math.min(_.start+_.count,v.start+v.count));for(let M=T,O=C;M<O;M+=3){const R=M,B=M+1,N=M+2;r=kC(this,x,e,i,c,d,h,R,B,N),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const b=Math.max(0,v.start),A=Math.min(l.count,v.start+v.count);for(let _=b,x=A;_<x;_+=3){const T=_,C=_+1,M=_+2;r=kC(this,a,e,i,c,d,h,T,C,M),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function Dxe(n,e,t,i,r,s,a,o){let l;if(e.side===Ba?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Pu,o),l===null)return null;UC.copy(o),UC.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(UC);return c<t.near||c>t.far?null:{distance:c,point:UC.clone(),object:n}}function kC(n,e,t,i,r,s,a,o,l,c){n.getVertexPosition(o,PC),n.getVertexPosition(l,NC),n.getVertexPosition(c,BC);const d=Dxe(n,e,t,i,PC,NC,BC,f5);if(d){const h=new le;eo.getBarycoord(f5,PC,NC,BC,h),r&&(d.uv=eo.getInterpolatedAttribute(r,o,l,c,h,new rt)),s&&(d.uv1=eo.getInterpolatedAttribute(s,o,l,c,h,new rt)),a&&(d.normal=eo.getInterpolatedAttribute(a,o,l,c,h,new le),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const m={a:o,b:l,c,normal:new le,materialIndex:0};eo.getNormal(PC,NC,BC,m.normal),d.face=m,d.barycoord=h}return d}class mg extends bn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],d=[],h=[];let m=0,v=0;b("z","y","x",-1,-1,i,t,e,a,s,0),b("z","y","x",1,-1,i,t,-e,a,s,1),b("x","z","y",1,1,e,i,t,r,a,2),b("x","z","y",1,-1,e,i,-t,r,a,3),b("x","y","z",1,-1,e,t,i,r,s,4),b("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(d,3)),this.setAttribute("uv",new Ht(h,2));function b(A,_,x,T,C,M,O,R,B,N,P){const I=M/B,F=O/N,U=M/2,j=O/2,q=R/2,Z=B+1,H=N+1;let Y=0,X=0;const ne=new le;for(let K=0;K<H;K++){const ae=K*F-j;for(let ye=0;ye<Z;ye++){const Se=ye*I-U;ne[A]=Se*T,ne[_]=ae*C,ne[x]=q,c.push(ne.x,ne.y,ne.z),ne[A]=0,ne[_]=0,ne[x]=R>0?1:-1,d.push(ne.x,ne.y,ne.z),h.push(ye/B),h.push(1-K/N),Y+=1}}for(let K=0;K<N;K++)for(let ae=0;ae<B;ae++){const ye=m+ae+Z*K,Se=m+ae+Z*(K+1),de=m+(ae+1)+Z*(K+1),xe=m+(ae+1)+Z*K;l.push(ye,Se,xe),l.push(Se,de,xe),X+=6}o.addGroup(v,X,P),v+=X,m+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function u0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Da(n){const e={};for(let t=0;t<n.length;t++){const i=u0(n[t]);for(const r in i)e[r]=i[r]}return e}function Ixe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function RX(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const DX={clone:u0,merge:Da};var Oxe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Pxe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mc extends cs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Oxe,this.fragmentShader=Pxe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=u0(e.uniforms),this.uniformsGroups=Ixe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class hR extends qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt,this.coordinateSystem=El}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sh=new le,h5=new rt,p5=new rt;class Er extends hR{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=l0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return l0*2*Math.atan(Math.tan(Vm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){sh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(sh.x,sh.y).multiplyScalar(-e/sh.z),sh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(sh.x,sh.y).multiplyScalar(-e/sh.z)}getViewSize(e,t){return this.getViewBounds(e,h5,p5),t.subVectors(p5,h5)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Vm*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wy=-90,Yy=1;class IX extends qn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Er(Wy,Yy,e,t);r.layers=this.layers,this.add(r);const s=new Er(Wy,Yy,e,t);s.layers=this.layers,this.add(s);const a=new Er(Wy,Yy,e,t);a.layers=this.layers,this.add(a);const o=new Er(Wy,Yy,e,t);o.layers=this.layers,this.add(o);const l=new Er(Wy,Yy,e,t);l.layers=this.layers,this.add(l);const c=new Er(Wy,Yy,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===El)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===vS)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,d]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(h,m,v),e.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class uA extends ir{constructor(e=[],t=Vd,i,r,s,a,o,l,c,d){super(e,t,i,r,s,a,o,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OX extends Nu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new uA(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Br}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new mg(5,5,5),s=new Mc({name:"CubemapFromEquirect",uniforms:u0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ba,blending:wd});s.uniforms.tEquirect.value=t;const a=new Lr(r,s),o=t.minFilter;return t.minFilter===Al&&(t.minFilter=Br),new IX(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class Sd extends qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Nxe={type:"move"};class tT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Sd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Sd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Sd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const A of e.hand.values()){const _=t.getJointPose(A,i),x=this._getHandJoint(c,A);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=_.radius),x.visible=_!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],m=d.position.distanceTo(h.position),v=.02,b=.005;c.inputState.pinching&&m>v+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Nxe)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Sd;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class pR{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=t}clone(){return new pR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mR{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=t,this.far=i}clone(){return new mR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class S3 extends qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Vo,this.environmentIntensity=1,this.environmentRotation=new Vo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class dA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yS,this.updateRanges=[],this.version=0,this.uuid=Fo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wa=new le;class Gh{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.applyMatrix4(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.applyNormalMatrix(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)wa.fromBufferAttribute(this,t),wa.transformDirection(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Oa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=An(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=An(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Oa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Oa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Oa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Oa(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=An(t,this.array),i=An(i,this.array),r=An(r,this.array),s=An(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new ei(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class A3 extends cs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xy;const N_=new le,qy=new le,$y=new le,Ky=new rt,B_=new rt,PX=new Yt,FC=new le,L_=new le,HC=new le,m5=new rt,h2=new rt,g5=new rt;class NX extends qn{constructor(e=new A3){if(super(),this.isSprite=!0,this.type="Sprite",Xy===void 0){Xy=new bn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new dA(t,5);Xy.setIndex([0,1,2,0,2,3]),Xy.setAttribute("position",new Gh(i,3,0,!1)),Xy.setAttribute("uv",new Gh(i,2,3,!1))}this.geometry=Xy,this.material=e,this.center=new rt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qy.setFromMatrixScale(this.matrixWorld),PX.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$y.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qy.multiplyScalar(-$y.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;zC(FC.set(-.5,-.5,0),$y,a,qy,r,s),zC(L_.set(.5,-.5,0),$y,a,qy,r,s),zC(HC.set(.5,.5,0),$y,a,qy,r,s),m5.set(0,0),h2.set(1,0),g5.set(1,1);let o=e.ray.intersectTriangle(FC,L_,HC,!1,N_);if(o===null&&(zC(L_.set(-.5,.5,0),$y,a,qy,r,s),h2.set(0,1),o=e.ray.intersectTriangle(FC,HC,L_,!1,N_),o===null))return;const l=e.ray.origin.distanceTo(N_);l<e.near||l>e.far||t.push({distance:l,point:N_.clone(),uv:eo.getInterpolation(N_,FC,L_,HC,m5,h2,g5,new rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function zC(n,e,t,i,r,s){Ky.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(B_.x=s*Ky.x-r*Ky.y,B_.y=r*Ky.x+s*Ky.y):B_.copy(Ky),n.copy(e),n.x+=B_.x,n.y+=B_.y,n.applyMatrix4(PX)}const GC=new le,y5=new le;class BX extends qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){GC.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(GC);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){GC.setFromMatrixPosition(e.matrixWorld),y5.setFromMatrixPosition(this.matrixWorld);const i=GC.distanceTo(y5)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const v5=new le,b5=new Zn,_5=new Zn,Bxe=new le,x5=new Yt,VC=new le,p2=new Ts,S5=new Yt,m2=new pg;class E3 extends Lr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=iN,this.bindMatrix=new Yt,this.bindMatrixInverse=new Yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Vs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,VC),this.boundingBox.expandByPoint(VC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ts),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,VC),this.boundingSphere.expandByPoint(VC)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),p2.copy(this.boundingSphere),p2.applyMatrix4(r),e.ray.intersectsSphere(p2)!==!1&&(S5.copy(r).invert(),m2.copy(e.ray).applyMatrix4(S5),!(this.boundingBox!==null&&m2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,m2)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Zn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===iN?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===cX?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;b5.fromBufferAttribute(r.attributes.skinIndex,e),_5.fromBufferAttribute(r.attributes.skinWeight,e),v5.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=_5.getComponent(s);if(a!==0){const o=b5.getComponent(s);x5.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(Bxe.copy(v5).applyMatrix4(x5),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class gR extends qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class wu extends ir{constructor(e=null,t=1,i=1,r,s,a,o,l,c=Es,d=Es,h,m){super(null,a,o,l,c,d,r,s,h,m),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const A5=new Yt,Lxe=new Yt;class fA{constructor(e=[],t=[]){this.uuid=Fo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Yt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Lxe;A5.multiplyMatrices(o,t[s]),A5.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new fA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new wu(t,e,e,ca,ro);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new gR),this.bones.push(a),this.boneInverses.push(new Yt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class ig extends ei{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Jy=new Yt,E5=new Yt,jC=[],C5=new Vs,Uxe=new Yt,U_=new Lr,k_=new Ts;class C3 extends Lr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ig(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Uxe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Vs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Jy),C5.copy(e.boundingBox).applyMatrix4(Jy),this.boundingBox.union(C5)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ts),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Jy),k_.copy(e.boundingSphere).applyMatrix4(Jy),this.boundingSphere.union(k_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(U_.geometry=this.geometry,U_.material=this.material,U_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),k_.copy(this.boundingSphere),k_.applyMatrix4(i),e.ray.intersectsSphere(k_)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Jy),E5.multiplyMatrices(i,Jy),U_.matrixWorld=E5,U_.raycast(e,jC);for(let a=0,o=jC.length;a<o;a++){const l=jC[a];l.instanceId=s,l.object=this,t.push(l)}jC.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ig(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new wu(new Float32Array(r*this.count),r,this.count,oR,ro));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const g2=new le,kxe=new le,Fxe=new xn;class gd{constructor(e=new le(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=g2.subVectors(i,t).cross(kxe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(g2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Fxe.getNormalMatrix(e),r=this.coplanarPoint(g2).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zp=new Ts,WC=new le;class X0{constructor(e=new gd,t=new gd,i=new gd,r=new gd,s=new gd,a=new gd){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=El){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],d=r[5],h=r[6],m=r[7],v=r[8],b=r[9],A=r[10],_=r[11],x=r[12],T=r[13],C=r[14],M=r[15];if(i[0].setComponents(l-s,m-c,_-v,M-x).normalize(),i[1].setComponents(l+s,m+c,_+v,M+x).normalize(),i[2].setComponents(l+a,m+d,_+b,M+T).normalize(),i[3].setComponents(l-a,m-d,_-b,M-T).normalize(),i[4].setComponents(l-o,m-h,_-A,M-C).normalize(),t===El)i[5].setComponents(l+o,m+h,_+A,M+C).normalize();else if(t===vS)i[5].setComponents(o,h,A,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Zp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zp)}intersectsSprite(e){return Zp.center.set(0,0,0),Zp.radius=.7071067811865476,Zp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zp)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(WC.x=r.normal.x>0?e.max.x:e.min.x,WC.y=r.normal.y>0?e.max.y:e.min.y,WC.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(WC)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const hu=new Yt,pu=new X0;class yR{constructor(){this.coordinateSystem=El}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),pu.setFromProjectionMatrix(hu,this.coordinateSystem),pu.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),pu.setFromProjectionMatrix(hu,this.coordinateSystem),pu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),pu.setFromProjectionMatrix(hu,this.coordinateSystem),pu.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),pu.setFromProjectionMatrix(hu,this.coordinateSystem),pu.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(hu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),pu.setFromProjectionMatrix(hu,this.coordinateSystem),pu.containsPoint(e))return!0}return!1}clone(){return new yR}}function y2(n,e){return n-e}function Hxe(n,e){return n.z-e.z}function zxe(n,e){return e.z-n.z}class Gxe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Qa=new Yt,Vxe=new Rt(1,1,1),T5=new X0,jxe=new yR,YC=new Vs,em=new Ts,F_=new le,M5=new le,Wxe=new le,v2=new Gxe,ta=new Lr,XC=[];function Yxe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function tm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class LX extends Lr{constructor(e,t,i=t*2,r){super(new bn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new wu(t,e,e,ca,ro);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new wu(t,e,e,lA,jd);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new wu(t,e,e,ca,ro);i.colorSpace=Xn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,d=new o.constructor(i*l),h=new ei(d,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ei(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Qa),this.getBoundingBoxAt(s,YC).applyMatrix4(Qa),e.union(YC)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ts);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Qa),this.getBoundingSphereAt(s,em).applyMatrix4(Qa),e.union(em)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(y2),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Qa.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Vxe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(y2),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const h=t.getAttribute(d),m=i.getAttribute(d);Yxe(h,m,l);const v=h.itemSize;for(let b=h.count,A=c;b<A;b++){const _=l+b;for(let x=0;x<v;x++)m.setComponent(_,x,0)}m.needsUpdate=!0,m.addUpdateRange(l*v,c*v)}if(r){const d=o.indexStart,h=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let m=0;m<a.count;m++)s.setX(d+m,l+a.getX(m));for(let m=a.count,v=h;m<v;m++)s.setX(d+m,l);s.needsUpdate=!0,s.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],c=i[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:d,vertexStart:h,reservedIndexCount:m}=c,v=s.index,b=v.array,A=e-h;for(let _=d;_<d+m;_++)b[_]=b[_]+A;v.array.copyWithin(t,d,d+m),v.addUpdateRange(t,m),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:h}=c,m=s.attributes;for(const v in m){const b=m[v],{array:A,itemSize:_}=b;A.copyWithin(e*_,d*_,(d+h)*_),b.addUpdateRange(e*_,h*_)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Vs,a=i.index,o=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let d=l;a&&(d=a.getX(d)),s.expandByPoint(F_.fromBufferAttribute(o,d))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Ts;this.getBoundingBoxAt(e,YC),YC.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let c=r.start,d=r.start+r.count;c<d;c++){let h=c;a&&(h=a.getX(h)),F_.fromBufferAttribute(o,h),l=Math.max(l,s.center.distanceToSquared(F_))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(y2);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);tm(this._multiDrawCounts,r),tm(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),tm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),tm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),tm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new bn,this._initializeGeometry(s));const a=this.geometry;s.index&&tm(s.index.array,a.index.array);for(const o in s.attributes)tm(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;ta.material=this.material,ta.geometry.index=a.index,ta.geometry.attributes=a.attributes,ta.geometry.boundingBox===null&&(ta.geometry.boundingBox=new Vs),ta.geometry.boundingSphere===null&&(ta.geometry.boundingSphere=new Ts);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,d=r[c];ta.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,ta.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ta.geometry.boundingBox),this.getBoundingSphereAt(c,ta.geometry.boundingSphere),ta.raycast(e,XC);for(let h=0,m=XC.length;h<m;h++){const v=XC[h];v.object=this,v.batchId=o,t.push(v)}XC.length=0}ta.material=null,ta.geometry.index=null,ta.geometry.attributes={},ta.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,h=this._geometryInfo,m=this.perObjectFrustumCulled,v=this._indirectTexture,b=v.image.data,A=i.isArrayCamera?jxe:T5;m&&!i.isArrayCamera&&(Qa.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),T5.setFromProjectionMatrix(Qa,e.coordinateSystem));let _=0;if(this.sortObjects){Qa.copy(this.matrixWorld).invert(),F_.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Qa),M5.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Qa);for(let C=0,M=l.length;C<M;C++)if(l[C].visible&&l[C].active){const O=l[C].geometryIndex;this.getMatrixAt(C,Qa),this.getBoundingSphereAt(O,em).applyMatrix4(Qa);let R=!1;if(m&&(R=!A.intersectsSphere(em,i)),!R){const B=h[O],N=Wxe.subVectors(em.center,F_).dot(M5);v2.push(B.start,B.count,N,C)}}const x=v2.list,T=this.customSort;T===null?x.sort(s.transparent?zxe:Hxe):T.call(this,x,i);for(let C=0,M=x.length;C<M;C++){const O=x[C];c[_]=O.start*o,d[_]=O.count,b[_]=O.index,_++}v2.reset()}else for(let x=0,T=l.length;x<T;x++)if(l[x].visible&&l[x].active){const C=l[x].geometryIndex;let M=!1;if(m&&(this.getMatrixAt(x,Qa),this.getBoundingSphereAt(C,em).applyMatrix4(Qa),M=!A.intersectsSphere(em,i)),!M){const O=h[C];c[_]=O.start*o,d[_]=O.count,b[_]=x,_++}}v.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class da extends cs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RM=new le,DM=new le,w5=new Yt,H_=new pg,qC=new Ts,b2=new le,R5=new le;class Wd extends qn{constructor(e=new bn,t=new da){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)RM.fromBufferAttribute(t,r-1),DM.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=RM.distanceTo(DM);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qC.copy(i.boundingSphere),qC.applyMatrix4(r),qC.radius+=s,e.ray.intersectsSphere(qC)===!1)return;w5.copy(r).invert(),H_.copy(e.ray).applyMatrix4(w5);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,d=i.index,m=i.attributes.position;if(d!==null){const v=Math.max(0,a.start),b=Math.min(d.count,a.start+a.count);for(let A=v,_=b-1;A<_;A+=c){const x=d.getX(A),T=d.getX(A+1),C=$C(this,e,H_,l,x,T,A);C&&t.push(C)}if(this.isLineLoop){const A=d.getX(b-1),_=d.getX(v),x=$C(this,e,H_,l,A,_,b-1);x&&t.push(x)}}else{const v=Math.max(0,a.start),b=Math.min(m.count,a.start+a.count);for(let A=v,_=b-1;A<_;A+=c){const x=$C(this,e,H_,l,A,A+1,A);x&&t.push(x)}if(this.isLineLoop){const A=$C(this,e,H_,l,b-1,v,b-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function $C(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(RM.fromBufferAttribute(o,r),DM.fromBufferAttribute(o,s),t.distanceSqToSegment(RM,DM,b2,R5)>i)return;b2.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(b2);if(!(c<e.near||c>e.far))return{distance:c,point:R5.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const D5=new le,I5=new le;class Dc extends Wd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)D5.fromBufferAttribute(t,r),I5.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+D5.distanceTo(I5);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class T3 extends Wd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vR extends cs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const O5=new Yt,aN=new pg,KC=new Ts,JC=new le;class M3 extends qn{constructor(e=new bn,t=new vR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),KC.copy(i.boundingSphere),KC.applyMatrix4(r),KC.radius+=s,e.ray.intersectsSphere(KC)===!1)return;O5.copy(r).invert(),aN.copy(e.ray).applyMatrix4(O5);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,h=i.attributes.position;if(c!==null){const m=Math.max(0,a.start),v=Math.min(c.count,a.start+a.count);for(let b=m,A=v;b<A;b++){const _=c.getX(b);JC.fromBufferAttribute(h,_),P5(JC,_,l,r,e,t,this)}}else{const m=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count);for(let b=m,A=v;b<A;b++)JC.fromBufferAttribute(h,b),P5(JC,b,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function P5(n,e,t,i,r,s,a){const o=aN.distanceSqToPoint(n);if(o<t){const l=new le;aN.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class UX extends ir{constructor(e,t,i,r,s=Br,a=Br,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Xxe extends UX{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class qxe extends ir{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Es,this.minFilter=Es,this.generateMipmaps=!1,this.needsUpdate=!0}}class bR extends ir{constructor(e,t,i,r,s,a,o,l,c,d,h,m){super(null,a,o,l,c,d,r,s,h,m),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class $xe extends bR{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Lo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kxe extends bR{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Vd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Jxe extends ir{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _R extends ir{constructor(e,t,i=jd,r,s,a,o=Es,l=Es,c,d=r0){if(d!==r0&&d!==s0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,a,o,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new vh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Qxe extends _R{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class xR extends bn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],d=t/2,h=Math.PI/2*e,m=t,v=2*h+m,b=i*2+s,A=r+1,_=new le,x=new le;for(let T=0;T<=b;T++){let C=0,M=0,O=0,R=0;if(T<=i){const P=T/i,I=P*Math.PI/2;M=-d-e*Math.cos(I),O=e*Math.sin(I),R=-e*Math.cos(I),C=P*h}else if(T<=i+s){const P=(T-i)/s;M=-d+P*t,O=e,R=0,C=h+P*m}else{const P=(T-i-s)/i,I=P*Math.PI/2;M=d+e*Math.sin(I),O=e*Math.cos(I),R=e*Math.sin(I),C=h+m+P*h}const B=Math.max(0,Math.min(1,C/v));let N=0;T===0?N=.5/r:T===b&&(N=-.5/r);for(let P=0;P<=r;P++){const I=P/r,F=I*Math.PI*2,U=Math.sin(F),j=Math.cos(F);x.x=-O*j,x.y=M,x.z=O*U,o.push(x.x,x.y,x.z),_.set(-O*j,R,O*U),_.normalize(),l.push(_.x,_.y,_.z),c.push(I+N,B)}if(T>0){const P=(T-1)*A;for(let I=0;I<r;I++){const F=P+I,U=P+I+1,j=T*A+I,q=T*A+I+1;a.push(F,U,j),a.push(U,q,j)}}}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xR(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class SR extends bn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new le,d=new rt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let h=0,m=3;h<=t;h++,m+=3){const v=i+h/t*r;c.x=e*Math.cos(v),c.y=e*Math.sin(v),a.push(c.x,c.y,c.z),o.push(0,0,1),d.x=(a[m]/e+1)/2,d.y=(a[m+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hA extends bn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],m=[],v=[];let b=0;const A=[],_=i/2;let x=0;T(),a===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(d),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(m,3)),this.setAttribute("uv",new Ht(v,2));function T(){const M=new le,O=new le;let R=0;const B=(t-e)/i;for(let N=0;N<=s;N++){const P=[],I=N/s,F=I*(t-e)+e;for(let U=0;U<=r;U++){const j=U/r,q=j*l+o,Z=Math.sin(q),H=Math.cos(q);O.x=F*Z,O.y=-I*i+_,O.z=F*H,h.push(O.x,O.y,O.z),M.set(Z,B,H).normalize(),m.push(M.x,M.y,M.z),v.push(j,1-I),P.push(b++)}A.push(P)}for(let N=0;N<r;N++)for(let P=0;P<s;P++){const I=A[P][N],F=A[P+1][N],U=A[P+1][N+1],j=A[P][N+1];(e>0||P!==0)&&(d.push(I,F,j),R+=3),(t>0||P!==s-1)&&(d.push(F,U,j),R+=3)}c.addGroup(x,R,0),x+=R}function C(M){const O=b,R=new rt,B=new le;let N=0;const P=M===!0?e:t,I=M===!0?1:-1;for(let U=1;U<=r;U++)h.push(0,_*I,0),m.push(0,I,0),v.push(.5,.5),b++;const F=b;for(let U=0;U<=r;U++){const q=U/r*l+o,Z=Math.cos(q),H=Math.sin(q);B.x=P*H,B.y=_*I,B.z=P*Z,h.push(B.x,B.y,B.z),m.push(0,I,0),R.x=Z*.5+.5,R.y=H*.5*I+.5,v.push(R.x,R.y),b++}for(let U=0;U<r;U++){const j=O+U,q=F+U;M===!0?d.push(q,q+1,j):d.push(q+1,q,j),N+=3}c.addGroup(x,N,M===!0?1:2),x+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hA(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pA extends hA{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new pA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kh extends bn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),c(i),d(),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(s.slice(),3)),this.setAttribute("uv",new Ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(T){const C=new le,M=new le,O=new le;for(let R=0;R<t.length;R+=3)v(t[R+0],C),v(t[R+1],M),v(t[R+2],O),l(C,M,O,T)}function l(T,C,M,O){const R=O+1,B=[];for(let N=0;N<=R;N++){B[N]=[];const P=T.clone().lerp(M,N/R),I=C.clone().lerp(M,N/R),F=R-N;for(let U=0;U<=F;U++)U===0&&N===R?B[N][U]=P:B[N][U]=P.clone().lerp(I,U/F)}for(let N=0;N<R;N++)for(let P=0;P<2*(R-N)-1;P++){const I=Math.floor(P/2);P%2===0?(m(B[N][I+1]),m(B[N+1][I]),m(B[N][I])):(m(B[N][I+1]),m(B[N+1][I+1]),m(B[N+1][I]))}}function c(T){const C=new le;for(let M=0;M<s.length;M+=3)C.x=s[M+0],C.y=s[M+1],C.z=s[M+2],C.normalize().multiplyScalar(T),s[M+0]=C.x,s[M+1]=C.y,s[M+2]=C.z}function d(){const T=new le;for(let C=0;C<s.length;C+=3){T.x=s[C+0],T.y=s[C+1],T.z=s[C+2];const M=_(T)/2/Math.PI+.5,O=x(T)/Math.PI+.5;a.push(M,1-O)}b(),h()}function h(){for(let T=0;T<a.length;T+=6){const C=a[T+0],M=a[T+2],O=a[T+4],R=Math.max(C,M,O),B=Math.min(C,M,O);R>.9&&B<.1&&(C<.2&&(a[T+0]+=1),M<.2&&(a[T+2]+=1),O<.2&&(a[T+4]+=1))}}function m(T){s.push(T.x,T.y,T.z)}function v(T,C){const M=T*3;C.x=e[M+0],C.y=e[M+1],C.z=e[M+2]}function b(){const T=new le,C=new le,M=new le,O=new le,R=new rt,B=new rt,N=new rt;for(let P=0,I=0;P<s.length;P+=9,I+=6){T.set(s[P+0],s[P+1],s[P+2]),C.set(s[P+3],s[P+4],s[P+5]),M.set(s[P+6],s[P+7],s[P+8]),R.set(a[I+0],a[I+1]),B.set(a[I+2],a[I+3]),N.set(a[I+4],a[I+5]),O.copy(T).add(C).add(M).divideScalar(3);const F=_(O);A(R,I+0,T,F),A(B,I+2,C,F),A(N,I+4,M,F)}}function A(T,C,M,O){O<0&&T.x===1&&(a[C]=T.x-1),M.x===0&&M.z===0&&(a[C]=O/2/Math.PI+.5)}function _(T){return Math.atan2(T.z,-T.x)}function x(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kh(e.vertices,e.indices,e.radius,e.details)}}class AR extends Kh{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new AR(e.radius,e.detail)}}const QC=new le,ZC=new le,_2=new le,e1=new eo;class kX extends bn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Vm*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),m={},v=[];for(let b=0;b<l;b+=3){a?(c[0]=a.getX(b),c[1]=a.getX(b+1),c[2]=a.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:A,b:_,c:x}=e1;if(A.fromBufferAttribute(o,c[0]),_.fromBufferAttribute(o,c[1]),x.fromBufferAttribute(o,c[2]),e1.getNormal(_2),h[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let T=0;T<3;T++){const C=(T+1)%3,M=h[T],O=h[C],R=e1[d[T]],B=e1[d[C]],N=`${M}_${O}`,P=`${O}_${M}`;P in m&&m[P]?(_2.dot(m[P].normal)<=s&&(v.push(R.x,R.y,R.z),v.push(B.x,B.y,B.z)),m[P]=null):N in m||(m[N]={index0:c[T],index1:c[C],normal:_2.clone()})}}for(const b in m)if(m[b]){const{index0:A,index1:_}=m[b];QC.fromBufferAttribute(o,A),ZC.fromBufferAttribute(o,_),v.push(QC.x,QC.y,QC.z),v.push(ZC.x,ZC.y,ZC.z)}this.setAttribute("position",new Ht(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ic{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-a,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const d=i[r],m=i[r+1]-d,v=(a-d)/m;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new rt:new le);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new le,r=[],s=[],a=[],o=new le,l=new Yt;for(let v=0;v<=e;v++){const b=v/e;r[v]=this.getTangentAt(b,new le)}s[0]=new le,a[0]=new le;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),m=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),m<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const b=Math.acos(vn(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(o,b))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(vn(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let b=1;b<=e;b++)s[b].applyMatrix4(l.makeRotationAxis(r[b],v*b)),a[b].crossVectors(r[b],s[b])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ER extends Ic{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new rt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*d-v*h+this.aX,c=m*h+v*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class FX extends ER{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function w3(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){r(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,d,h){let m=(a-s)/c-(o-s)/(c+d)+(o-a)/d,v=(o-a)/d-(l-a)/(d+h)+(l-o)/h;m*=d,v*=d,r(a,o,m,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const t1=new le,x2=new w3,S2=new w3,A2=new w3;class HX extends Ic{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new le){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,d;this.closed||o>0?c=r[(o-1)%s]:(t1.subVectors(r[0],r[1]).add(r[0]),c=t1);const h=r[o%s],m=r[(o+1)%s];if(this.closed||o+2<s?d=r[(o+2)%s]:(t1.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=t1),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(h),v),A=Math.pow(h.distanceToSquared(m),v),_=Math.pow(m.distanceToSquared(d),v);A<1e-4&&(A=1),b<1e-4&&(b=A),_<1e-4&&(_=A),x2.initNonuniformCatmullRom(c.x,h.x,m.x,d.x,b,A,_),S2.initNonuniformCatmullRom(c.y,h.y,m.y,d.y,b,A,_),A2.initNonuniformCatmullRom(c.z,h.z,m.z,d.z,b,A,_)}else this.curveType==="catmullrom"&&(x2.initCatmullRom(c.x,h.x,m.x,d.x,this.tension),S2.initCatmullRom(c.y,h.y,m.y,d.y,this.tension),A2.initCatmullRom(c.z,h.z,m.z,d.z,this.tension));return i.set(x2.calc(l),S2.calc(l),A2.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function N5(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function Zxe(n,e){const t=1-n;return t*t*e}function eSe(n,e){return 2*(1-n)*n*e}function tSe(n,e){return n*n*e}function Ox(n,e,t,i){return Zxe(n,e)+eSe(n,t)+tSe(n,i)}function nSe(n,e){const t=1-n;return t*t*t*e}function iSe(n,e){const t=1-n;return 3*t*t*n*e}function rSe(n,e){return 3*(1-n)*n*n*e}function sSe(n,e){return n*n*n*e}function Px(n,e,t,i,r){return nSe(n,e)+iSe(n,t)+rSe(n,i)+sSe(n,r)}class R3 extends Ic{constructor(e=new rt,t=new rt,i=new rt,r=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new rt){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Px(e,r.x,s.x,a.x,o.x),Px(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zX extends Ic{constructor(e=new le,t=new le,i=new le,r=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Px(e,r.x,s.x,a.x,o.x),Px(e,r.y,s.y,a.y,o.y),Px(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class D3 extends Ic{constructor(e=new rt,t=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new rt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GX extends Ic{constructor(e=new le,t=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I3 extends Ic{constructor(e=new rt,t=new rt,i=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new rt){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Ox(e,r.x,s.x,a.x),Ox(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O3 extends Ic{constructor(e=new le,t=new le,i=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(Ox(e,r.x,s.x,a.x),Ox(e,r.y,s.y,a.y),Ox(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class P3 extends Ic{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rt){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],c=r[a],d=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(N5(o,l.x,c.x,d.x,h.x),N5(o,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new rt().fromArray(r))}return this}}var IM=Object.freeze({__proto__:null,ArcCurve:FX,CatmullRomCurve3:HX,CubicBezierCurve:R3,CubicBezierCurve3:zX,EllipseCurve:ER,LineCurve:D3,LineCurve3:GX,QuadraticBezierCurve:I3,QuadraticBezierCurve3:O3,SplineCurve:P3});class VX extends Ic{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new IM[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new IM[r.type]().fromJSON(r))}return this}}let OM=class extends VX{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new D3(this.currentPoint.clone(),new rt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new I3(this.currentPoint.clone(),new rt(e,t),new rt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new R3(this.currentPoint.clone(),new rt(e,t),new rt(i,r),new rt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new P3(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const c=new ER(e,t,i,r,s,a,o,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class jm extends OM{constructor(e){super(e),this.uuid=Fo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new OM().fromJSON(r))}return this}}function aSe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=jX(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(i&&(s=dSe(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let d=-1/0,h=-1/0;for(let m=t;m<r;m+=t){const v=n[m],b=n[m+1];v<o&&(o=v),b<l&&(l=b),v>d&&(d=v),b>h&&(h=b)}c=Math.max(d-o,h-l),c=c!==0?32767/c:0}return _S(s,a,t,o,l,c,0),a}function jX(n,e,t,i,r){let s;if(r===SSe(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=B5(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=B5(a/i|0,n[a],n[a+1],s);return s&&d0(s,s.next)&&(SS(s),s=s.next),s}function rg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(d0(t,t.next)||dr(t.prev,t,t.next)===0)){if(SS(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function _S(n,e,t,i,r,s,a){if(!n)return;!a&&s&&gSe(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?lSe(n,i,r,s):oSe(n)){e.push(l.i,n.i,c.i),SS(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=cSe(rg(n),e),_S(n,e,t,i,r,s,2)):a===2&&uSe(n,e,t,i,r,s):_S(rg(n),e,t,i,r,s,1);break}}}function oSe(n){const e=n.prev,t=n,i=n.next;if(dr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,c=i.y,d=Math.min(r,s,a),h=Math.min(o,l,c),m=Math.max(r,s,a),v=Math.max(o,l,c);let b=i.next;for(;b!==e;){if(b.x>=d&&b.x<=m&&b.y>=h&&b.y<=v&&ex(r,o,s,l,a,c,b.x,b.y)&&dr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function lSe(n,e,t,i){const r=n.prev,s=n,a=n.next;if(dr(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,d=r.y,h=s.y,m=a.y,v=Math.min(o,l,c),b=Math.min(d,h,m),A=Math.max(o,l,c),_=Math.max(d,h,m),x=oN(v,b,e,t,i),T=oN(A,_,e,t,i);let C=n.prevZ,M=n.nextZ;for(;C&&C.z>=x&&M&&M.z<=T;){if(C.x>=v&&C.x<=A&&C.y>=b&&C.y<=_&&C!==r&&C!==a&&ex(o,d,l,h,c,m,C.x,C.y)&&dr(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=v&&M.x<=A&&M.y>=b&&M.y<=_&&M!==r&&M!==a&&ex(o,d,l,h,c,m,M.x,M.y)&&dr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=x;){if(C.x>=v&&C.x<=A&&C.y>=b&&C.y<=_&&C!==r&&C!==a&&ex(o,d,l,h,c,m,C.x,C.y)&&dr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=T;){if(M.x>=v&&M.x<=A&&M.y>=b&&M.y<=_&&M!==r&&M!==a&&ex(o,d,l,h,c,m,M.x,M.y)&&dr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function cSe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!d0(i,r)&&YX(i,t,t.next,r)&&xS(i,r)&&xS(r,i)&&(e.push(i.i,t.i,r.i),SS(t),SS(t.next),t=n=r),t=t.next}while(t!==n);return rg(t)}function uSe(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&bSe(a,o)){let l=XX(a,o);a=rg(a,a.next),l=rg(l,l.next),_S(a,e,t,i,r,s,0),_S(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function dSe(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,c=jX(n,o,l,i,!1);c===c.next&&(c.steiner=!0),r.push(vSe(c))}r.sort(fSe);for(let s=0;s<r.length;s++)t=hSe(r[s],t);return t}function fSe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function hSe(n,e){const t=pSe(n,e);if(!t)return e;const i=XX(t,n);return rg(i,i.next),rg(t,t.next)}function pSe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(d0(n,t))return t;do{if(d0(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=i&&h>s&&(s=h,a=t.x<t.next.x?t:t.next,h===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let d=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&WX(r<c?i:s,r,l,c,r<c?s:i,r,t.x,t.y)){const h=Math.abs(r-t.y)/(i-t.x);xS(t,n)&&(h<d||h===d&&(t.x>a.x||t.x===a.x&&mSe(a,t)))&&(a=t,d=h)}t=t.next}while(t!==o);return a}function mSe(n,e){return dr(n.prev,n,e.prev)<0&&dr(e.next,n,n.next)<0}function gSe(n,e,t,i){let r=n;do r.z===0&&(r.z=oN(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,ySe(r)}function ySe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let c=0;c<t&&(o++,a=a.nextZ,!!a);c++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function oN(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function vSe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function WX(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function ex(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&WX(n,e,t,i,r,s,a,o)}function bSe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!_Se(n,e)&&(xS(n,e)&&xS(e,n)&&xSe(n,e)&&(dr(n.prev,n,e.prev)||dr(n,e.prev,e))||d0(n,e)&&dr(n.prev,n,n.next)>0&&dr(e.prev,e,e.next)>0)}function dr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function d0(n,e){return n.x===e.x&&n.y===e.y}function YX(n,e,t,i){const r=i1(dr(n,e,t)),s=i1(dr(n,e,i)),a=i1(dr(t,i,n)),o=i1(dr(t,i,e));return!!(r!==s&&a!==o||r===0&&n1(n,t,e)||s===0&&n1(n,i,e)||a===0&&n1(t,n,i)||o===0&&n1(t,e,i))}function n1(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function i1(n){return n>0?1:n<0?-1:0}function _Se(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&YX(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function xS(n,e){return dr(n.prev,n,n.next)<0?dr(n,e,n.next)>=0&&dr(n,n.prev,e)>=0:dr(n,e,n.prev)<0||dr(n,n.next,e)<0}function xSe(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function XX(n,e){const t=lN(n.i,n.x,n.y),i=lN(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function B5(n,e,t,i){const r=lN(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function SS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function lN(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function SSe(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class ASe{static triangulate(e,t,i=2){return aSe(e,t,i)}}class Ec{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ec.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];L5(e),U5(i,e);let a=e.length;t.forEach(L5);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,U5(i,t[l]);const o=ASe.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function L5(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function U5(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class CR extends bn{constructor(e=new jm([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Ht(r,3)),this.setAttribute("uv",new Ht(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:v-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,T=t.UVGenerator!==void 0?t.UVGenerator:ESe;let C,M=!1,O,R,B,N;x&&(C=x.getSpacedPoints(d),M=!0,m=!1,O=x.computeFrenetFrames(d,!1),R=new le,B=new le,N=new le),m||(_=0,v=0,b=0,A=0);const P=o.extractPoints(c);let I=P.shape;const F=P.holes;if(!Ec.isClockWise(I)){I=I.reverse();for(let Q=0,Oe=F.length;Q<Oe;Q++){const we=F[Q];Ec.isClockWise(we)&&(F[Q]=we.reverse())}}function j(Q){const we=10000000000000001e-36;let ke=Q[0];for(let Ce=1;Ce<=Q.length;Ce++){const ut=Ce%Q.length,De=Q[ut],ie=De.x-ke.x,$=De.y-ke.y,Ae=ie*ie+$*$,Le=Math.max(Math.abs(De.x),Math.abs(De.y),Math.abs(ke.x),Math.abs(ke.y)),Qe=we*Le*Le;if(Ae<=Qe){Q.splice(ut,1),Ce--;continue}ke=De}}j(I),F.forEach(j);const q=F.length,Z=I;for(let Q=0;Q<q;Q++){const Oe=F[Q];I=I.concat(Oe)}function H(Q,Oe,we){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(Oe,we)}const Y=I.length;function X(Q,Oe,we){let ke,Ce,ut;const De=Q.x-Oe.x,ie=Q.y-Oe.y,$=we.x-Q.x,Ae=we.y-Q.y,Le=De*De+ie*ie,Qe=De*Ae-ie*$;if(Math.abs(Qe)>Number.EPSILON){const ze=Math.sqrt(Le),ft=Math.sqrt($*$+Ae*Ae),ct=Oe.x-ie/ze,Et=Oe.y+De/ze,Ct=we.x-Ae/ft,je=we.y+$/ft,ht=((Ct-ct)*Ae-(je-Et)*$)/(De*Ae-ie*$);ke=ct+De*ht-Q.x,Ce=Et+ie*ht-Q.y;const Dt=ke*ke+Ce*Ce;if(Dt<=2)return new rt(ke,Ce);ut=Math.sqrt(Dt/2)}else{let ze=!1;De>Number.EPSILON?$>Number.EPSILON&&(ze=!0):De<-Number.EPSILON?$<-Number.EPSILON&&(ze=!0):Math.sign(ie)===Math.sign(Ae)&&(ze=!0),ze?(ke=-ie,Ce=De,ut=Math.sqrt(Le)):(ke=De,Ce=ie,ut=Math.sqrt(Le/2))}return new rt(ke/ut,Ce/ut)}const ne=[];for(let Q=0,Oe=Z.length,we=Oe-1,ke=Q+1;Q<Oe;Q++,we++,ke++)we===Oe&&(we=0),ke===Oe&&(ke=0),ne[Q]=X(Z[Q],Z[we],Z[ke]);const K=[];let ae,ye=ne.concat();for(let Q=0,Oe=q;Q<Oe;Q++){const we=F[Q];ae=[];for(let ke=0,Ce=we.length,ut=Ce-1,De=ke+1;ke<Ce;ke++,ut++,De++)ut===Ce&&(ut=0),De===Ce&&(De=0),ae[ke]=X(we[ke],we[ut],we[De]);K.push(ae),ye=ye.concat(ae)}let Se;if(_===0)Se=Ec.triangulateShape(Z,F);else{const Q=[],Oe=[];for(let we=0;we<_;we++){const ke=we/_,Ce=v*Math.cos(ke*Math.PI/2),ut=b*Math.sin(ke*Math.PI/2)+A;for(let De=0,ie=Z.length;De<ie;De++){const $=H(Z[De],ne[De],ut);V($.x,$.y,-Ce),ke===0&&Q.push($)}for(let De=0,ie=q;De<ie;De++){const $=F[De];ae=K[De];const Ae=[];for(let Le=0,Qe=$.length;Le<Qe;Le++){const ze=H($[Le],ae[Le],ut);V(ze.x,ze.y,-Ce),ke===0&&Ae.push(ze)}ke===0&&Oe.push(Ae)}}Se=Ec.triangulateShape(Q,Oe)}const de=Se.length,xe=b+A;for(let Q=0;Q<Y;Q++){const Oe=m?H(I[Q],ye[Q],xe):I[Q];M?(B.copy(O.normals[0]).multiplyScalar(Oe.x),R.copy(O.binormals[0]).multiplyScalar(Oe.y),N.copy(C[0]).add(B).add(R),V(N.x,N.y,N.z)):V(Oe.x,Oe.y,0)}for(let Q=1;Q<=d;Q++)for(let Oe=0;Oe<Y;Oe++){const we=m?H(I[Oe],ye[Oe],xe):I[Oe];M?(B.copy(O.normals[Q]).multiplyScalar(we.x),R.copy(O.binormals[Q]).multiplyScalar(we.y),N.copy(C[Q]).add(B).add(R),V(N.x,N.y,N.z)):V(we.x,we.y,h/d*Q)}for(let Q=_-1;Q>=0;Q--){const Oe=Q/_,we=v*Math.cos(Oe*Math.PI/2),ke=b*Math.sin(Oe*Math.PI/2)+A;for(let Ce=0,ut=Z.length;Ce<ut;Ce++){const De=H(Z[Ce],ne[Ce],ke);V(De.x,De.y,h+we)}for(let Ce=0,ut=F.length;Ce<ut;Ce++){const De=F[Ce];ae=K[Ce];for(let ie=0,$=De.length;ie<$;ie++){const Ae=H(De[ie],ae[ie],ke);M?V(Ae.x,Ae.y+C[d-1].y,C[d-1].x+we):V(Ae.x,Ae.y,h+we)}}}pe(),He();function pe(){const Q=r.length/3;if(m){let Oe=0,we=Y*Oe;for(let ke=0;ke<de;ke++){const Ce=Se[ke];ee(Ce[2]+we,Ce[1]+we,Ce[0]+we)}Oe=d+_*2,we=Y*Oe;for(let ke=0;ke<de;ke++){const Ce=Se[ke];ee(Ce[0]+we,Ce[1]+we,Ce[2]+we)}}else{for(let Oe=0;Oe<de;Oe++){const we=Se[Oe];ee(we[2],we[1],we[0])}for(let Oe=0;Oe<de;Oe++){const we=Se[Oe];ee(we[0]+Y*d,we[1]+Y*d,we[2]+Y*d)}}i.addGroup(Q,r.length/3-Q,0)}function He(){const Q=r.length/3;let Oe=0;ve(Z,Oe),Oe+=Z.length;for(let we=0,ke=F.length;we<ke;we++){const Ce=F[we];ve(Ce,Oe),Oe+=Ce.length}i.addGroup(Q,r.length/3-Q,1)}function ve(Q,Oe){let we=Q.length;for(;--we>=0;){const ke=we;let Ce=we-1;Ce<0&&(Ce=Q.length-1);for(let ut=0,De=d+_*2;ut<De;ut++){const ie=Y*ut,$=Y*(ut+1),Ae=Oe+ke+ie,Le=Oe+Ce+ie,Qe=Oe+Ce+$,ze=Oe+ke+$;oe(Ae,Le,Qe,ze)}}}function V(Q,Oe,we){l.push(Q),l.push(Oe),l.push(we)}function ee(Q,Oe,we){ue(Q),ue(Oe),ue(we);const ke=r.length/3,Ce=T.generateTopUV(i,r,ke-3,ke-2,ke-1);_e(Ce[0]),_e(Ce[1]),_e(Ce[2])}function oe(Q,Oe,we,ke){ue(Q),ue(Oe),ue(ke),ue(Oe),ue(we),ue(ke);const Ce=r.length/3,ut=T.generateSideWallUV(i,r,Ce-6,Ce-3,Ce-2,Ce-1);_e(ut[0]),_e(ut[1]),_e(ut[3]),_e(ut[1]),_e(ut[2]),_e(ut[3])}function ue(Q){r.push(l[Q*3+0]),r.push(l[Q*3+1]),r.push(l[Q*3+2])}function _e(Q){s.push(Q.x),s.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return CSe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new IM[r.type]().fromJSON(r)),new CR(i,e.options)}}const ESe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new rt(s,a),new rt(o,l),new rt(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],m=e[r*3],v=e[r*3+1],b=e[r*3+2],A=e[s*3],_=e[s*3+1],x=e[s*3+2];return Math.abs(o-d)<Math.abs(a-c)?[new rt(a,1-l),new rt(c,1-h),new rt(m,1-b),new rt(A,1-x)]:[new rt(o,1-l),new rt(d,1-h),new rt(v,1-b),new rt(_,1-x)]}};function CSe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class TR extends Kh{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new TR(e.radius,e.detail)}}class MR extends bn{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=vn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],d=1/t,h=new le,m=new rt,v=new le,b=new le,A=new le;let _=0,x=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:_=e[T+1].x-e[T].x,x=e[T+1].y-e[T].y,v.x=x*1,v.y=-_,v.z=x*0,A.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(A.x,A.y,A.z);break;default:_=e[T+1].x-e[T].x,x=e[T+1].y-e[T].y,v.x=x*1,v.y=-_,v.z=x*0,b.copy(v),v.x+=A.x,v.y+=A.y,v.z+=A.z,v.normalize(),l.push(v.x,v.y,v.z),A.copy(b)}for(let T=0;T<=t;T++){const C=i+T*d*r,M=Math.sin(C),O=Math.cos(C);for(let R=0;R<=e.length-1;R++){h.x=e[R].x*M,h.y=e[R].y,h.z=e[R].x*O,a.push(h.x,h.y,h.z),m.x=T/t,m.y=R/(e.length-1),o.push(m.x,m.y);const B=l[3*R+0]*M,N=l[3*R+1],P=l[3*R+0]*O;c.push(B,N,P)}}for(let T=0;T<t;T++)for(let C=0;C<e.length-1;C++){const M=C+T*e.length,O=M,R=M+e.length,B=M+e.length+1,N=M+1;s.push(O,R,N),s.push(B,N,R)}this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(o,2)),this.setAttribute("normal",new Ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MR(e.points,e.segments,e.phiStart,e.phiLength)}}class mA extends Kh{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mA(e.radius,e.detail)}}class q0 extends bn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),c=o+1,d=l+1,h=e/o,m=t/l,v=[],b=[],A=[],_=[];for(let x=0;x<d;x++){const T=x*m-a;for(let C=0;C<c;C++){const M=C*h-s;b.push(M,-T,0),A.push(0,0,1),_.push(C/o),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let T=0;T<o;T++){const C=T+c*x,M=T+c*(x+1),O=T+1+c*(x+1),R=T+1+c*x;v.push(C,M,R),v.push(M,O,R)}this.setIndex(v),this.setAttribute("position",new Ht(b,3)),this.setAttribute("normal",new Ht(A,3)),this.setAttribute("uv",new Ht(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q0(e.width,e.height,e.widthSegments,e.heightSegments)}}class wR extends bn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],d=[];let h=e;const m=(t-e)/r,v=new le,b=new rt;for(let A=0;A<=r;A++){for(let _=0;_<=i;_++){const x=s+_/i*a;v.x=h*Math.cos(x),v.y=h*Math.sin(x),l.push(v.x,v.y,v.z),c.push(0,0,1),b.x=(v.x/t+1)/2,b.y=(v.y/t+1)/2,d.push(b.x,b.y)}h+=m}for(let A=0;A<r;A++){const _=A*(i+1);for(let x=0;x<i;x++){const T=x+_,C=T,M=T+i+1,O=T+i+2,R=T+1;o.push(C,M,R),o.push(M,O,R)}}this.setIndex(o),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class RR extends bn{constructor(e=new jm([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(s,3)),this.setAttribute("uv",new Ht(a,2));function c(d){const h=r.length/3,m=d.extractPoints(t);let v=m.shape;const b=m.holes;Ec.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,x=b.length;_<x;_++){const T=b[_];Ec.isClockWise(T)===!0&&(b[_]=T.reverse())}const A=Ec.triangulateShape(v,b);for(let _=0,x=b.length;_<x;_++){const T=b[_];v=v.concat(T)}for(let _=0,x=v.length;_<x;_++){const T=v[_];r.push(T.x,T.y,0),s.push(0,0,1),a.push(T.x,T.y)}for(let _=0,x=A.length;_<x;_++){const T=A[_],C=T[0]+h,M=T[1]+h,O=T[2]+h;i.push(C,M,O),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return TSe(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new RR(i,e.curveSegments)}}function TSe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class gA extends bn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let c=0;const d=[],h=new le,m=new le,v=[],b=[],A=[],_=[];for(let x=0;x<=i;x++){const T=[],C=x/i;let M=0;x===0&&a===0?M=.5/t:x===i&&l===Math.PI&&(M=-.5/t);for(let O=0;O<=t;O++){const R=O/t;h.x=-e*Math.cos(r+R*s)*Math.sin(a+C*o),h.y=e*Math.cos(a+C*o),h.z=e*Math.sin(r+R*s)*Math.sin(a+C*o),b.push(h.x,h.y,h.z),m.copy(h).normalize(),A.push(m.x,m.y,m.z),_.push(R+M,1-C),T.push(c++)}d.push(T)}for(let x=0;x<i;x++)for(let T=0;T<t;T++){const C=d[x][T+1],M=d[x][T],O=d[x+1][T],R=d[x+1][T+1];(x!==0||a>0)&&v.push(C,M,R),(x!==i-1||l<Math.PI)&&v.push(M,O,R)}this.setIndex(v),this.setAttribute("position",new Ht(b,3)),this.setAttribute("normal",new Ht(A,3)),this.setAttribute("uv",new Ht(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class DR extends Kh{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DR(e.radius,e.detail)}}class IR extends bn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],c=[],d=new le,h=new le,m=new le;for(let v=0;v<=i;v++)for(let b=0;b<=r;b++){const A=b/r*s,_=v/i*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(A),h.y=(e+t*Math.cos(_))*Math.sin(A),h.z=t*Math.sin(_),o.push(h.x,h.y,h.z),d.x=e*Math.cos(A),d.y=e*Math.sin(A),m.subVectors(h,d).normalize(),l.push(m.x,m.y,m.z),c.push(b/r),c.push(v/i)}for(let v=1;v<=i;v++)for(let b=1;b<=r;b++){const A=(r+1)*v+b-1,_=(r+1)*(v-1)+b-1,x=(r+1)*(v-1)+b,T=(r+1)*v+b;a.push(A,_,T),a.push(_,x,T)}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class OR extends bn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],d=[],h=new le,m=new le,v=new le,b=new le,A=new le,_=new le,x=new le;for(let C=0;C<=i;++C){const M=C/i*s*Math.PI*2;T(M,s,a,e,v),T(M+.01,s,a,e,b),_.subVectors(b,v),x.addVectors(b,v),A.crossVectors(_,x),x.crossVectors(A,_),A.normalize(),x.normalize();for(let O=0;O<=r;++O){const R=O/r*Math.PI*2,B=-t*Math.cos(R),N=t*Math.sin(R);h.x=v.x+(B*x.x+N*A.x),h.y=v.y+(B*x.y+N*A.y),h.z=v.z+(B*x.z+N*A.z),l.push(h.x,h.y,h.z),m.subVectors(h,v).normalize(),c.push(m.x,m.y,m.z),d.push(C/i),d.push(O/r)}}for(let C=1;C<=i;C++)for(let M=1;M<=r;M++){const O=(r+1)*(C-1)+(M-1),R=(r+1)*C+(M-1),B=(r+1)*C+M,N=(r+1)*(C-1)+M;o.push(O,R,N),o.push(R,B,N)}this.setIndex(o),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(d,2));function T(C,M,O,R,B){const N=Math.cos(C),P=Math.sin(C),I=O/M*C,F=Math.cos(I);B.x=R*(2+F)*.5*N,B.y=R*(2+F)*P*.5,B.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class PR extends bn{constructor(e=new O3(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new le,l=new le,c=new rt;let d=new le;const h=[],m=[],v=[],b=[];A(),this.setIndex(b),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(m,3)),this.setAttribute("uv",new Ht(v,2));function A(){for(let C=0;C<t;C++)_(C);_(s===!1?t:0),T(),x()}function _(C){d=e.getPointAt(C/t,d);const M=a.normals[C],O=a.binormals[C];for(let R=0;R<=r;R++){const B=R/r*Math.PI*2,N=Math.sin(B),P=-Math.cos(B);l.x=P*M.x+N*O.x,l.y=P*M.y+N*O.y,l.z=P*M.z+N*O.z,l.normalize(),m.push(l.x,l.y,l.z),o.x=d.x+i*l.x,o.y=d.y+i*l.y,o.z=d.z+i*l.z,h.push(o.x,o.y,o.z)}}function x(){for(let C=1;C<=t;C++)for(let M=1;M<=r;M++){const O=(r+1)*(C-1)+(M-1),R=(r+1)*C+(M-1),B=(r+1)*C+M,N=(r+1)*(C-1)+M;b.push(O,R,N),b.push(R,B,N)}}function T(){for(let C=0;C<=t;C++)for(let M=0;M<=r;M++)c.x=C/t,c.y=M/r,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new PR(new IM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class qX extends bn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new le,s=new le;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],m=h.start,v=h.count;for(let b=m,A=m+v;b<A;b+=3)for(let _=0;_<3;_++){const x=o.getX(b+_),T=o.getX(b+(_+1)%3);r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,T),k5(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const d=3*o+c,h=3*o+(c+1)%3;r.fromBufferAttribute(a,d),s.fromBufferAttribute(a,h),k5(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function k5(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var F5=Object.freeze({__proto__:null,BoxGeometry:mg,CapsuleGeometry:xR,CircleGeometry:SR,ConeGeometry:pA,CylinderGeometry:hA,DodecahedronGeometry:AR,EdgesGeometry:kX,ExtrudeGeometry:CR,IcosahedronGeometry:TR,LatheGeometry:MR,OctahedronGeometry:mA,PlaneGeometry:q0,PolyhedronGeometry:Kh,RingGeometry:wR,ShapeGeometry:RR,SphereGeometry:gA,TetrahedronGeometry:DR,TorusGeometry:IR,TorusKnotGeometry:OR,TubeGeometry:PR,WireframeGeometry:qX});class $X extends cs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class KX extends Mc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yA extends cs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bl extends yA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class JX extends cs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vo,this.combine=oA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QX extends cs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ZX extends cs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eq extends cs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vo,this.combine=oA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class N3 extends cs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pX,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class B3 extends cs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class tq extends cs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nq extends da{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Om(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function iq(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rq(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function cN(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function L3(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function MSe(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],m=[];for(let v=0;v<c.times.length;++v){const b=c.times[v]*r;if(!(b<t||b>=i)){h.push(c.times[v]);for(let A=0;A<d;++A)m.push(c.values[v*d+A])}}h.length!==0&&(c.times=Om(h,c.times.constructor),c.values=Om(m,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function wSe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const b=o.times.length-1;let A;if(s<=o.times[0]){const x=d,T=h-d;A=o.values.slice(x,T)}else if(s>=o.times[b]){const x=b*h+d,T=x+h-d;A=o.values.slice(x,T)}else{const x=o.createInterpolant(),T=d,C=h-d;x.evaluate(s),A=x.resultBuffer.slice(T,C)}l==="quaternion"&&new Cs().fromArray(A).normalize().conjugate().toArray(A);const _=c.times.length;for(let x=0;x<_;++x){const T=x*v+m;if(l==="quaternion")Cs.multiplyQuaternionsFlat(c.values,T,A,0,c.values,T);else{const C=v-m*2;for(let M=0;M<C;++M)c.values[T+M]-=A[M]}}}return n.blendMode=g3,n}class RSe{static convertArray(e,t){return Om(e,t)}static isTypedArray(e){return iq(e)}static getKeyframeOrder(e){return rq(e)}static sortedArray(e,t,i){return cN(e,t,i)}static flattenJSON(e,t,i,r){L3(e,t,i,r)}static subclip(e,t,i,r,s=30){return MSe(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return wSe(e,t,i,r)}}class $0{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sq extends $0{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Dm,endingEnd:Dm}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Im:s=e,o=2*t-i;break;case mS:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Im:a=e,l=2*i-t;break;case mS:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=this._offsetPrev,h=this._offsetNext,m=this._weightPrev,v=this._weightNext,b=(i-t)/(r-t),A=b*b,_=A*b,x=-m*_+2*m*A-m*b,T=(1+m)*_+(-1.5-2*m)*A+(-.5+m)*b+1,C=(-1-v)*_+(1.5+v)*A+.5*b,M=v*_-v*A;for(let O=0;O!==o;++O)s[O]=x*a[d+O]+T*a[c+O]+C*a[l+O]+M*a[h+O];return s}}class U3 extends $0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,d=(i-t)/(r-t),h=1-d;for(let m=0;m!==o;++m)s[m]=a[c+m]*h+a[l+m]*d;return s}}class aq extends $0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ll{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Om(t,this.TimeBufferType),this.values=Om(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Om(e.times,Array),values:Om(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new aq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new U3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case a0:t=this.InterpolantFactoryMethodDiscrete;break;case o0:t=this.InterpolantFactoryMethodLinear;break;case Z1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return a0;case this.InterpolantFactoryMethodLinear:return o0;case this.InterpolantFactoryMethodSmooth:return Z1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&iq(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Z1,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],d=e[o+1];if(c!==d&&(o!==1||c!==e[0]))if(r)l=!0;else{const h=o*i,m=h-i,v=h+i;for(let b=0;b!==i;++b){const A=t[h+b];if(A!==t[m+b]||A!==t[v+b]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const h=o*i,m=a*i;for(let v=0;v!==i;++v)t[m+v]=t[h+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ll.prototype.ValueTypeName="";Ll.prototype.TimeBufferType=Float32Array;Ll.prototype.ValueBufferType=Float32Array;Ll.prototype.DefaultInterpolation=o0;class gg extends Ll{constructor(e,t,i){super(e,t,i)}}gg.prototype.ValueTypeName="bool";gg.prototype.ValueBufferType=Array;gg.prototype.DefaultInterpolation=a0;gg.prototype.InterpolantFactoryMethodLinear=void 0;gg.prototype.InterpolantFactoryMethodSmooth=void 0;class k3 extends Ll{constructor(e,t,i,r){super(e,t,i,r)}}k3.prototype.ValueTypeName="color";class sg extends Ll{constructor(e,t,i,r){super(e,t,i,r)}}sg.prototype.ValueTypeName="number";class oq extends $0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let c=e*o;for(let d=c+o;c!==d;c+=4)Cs.slerpFlat(s,0,a,c-o,a,c,l);return s}}class ag extends Ll{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new oq(this.times,this.values,this.getValueSize(),e)}}ag.prototype.ValueTypeName="quaternion";ag.prototype.InterpolantFactoryMethodSmooth=void 0;class yg extends Ll{constructor(e,t,i){super(e,t,i)}}yg.prototype.ValueTypeName="string";yg.prototype.ValueBufferType=Array;yg.prototype.DefaultInterpolation=a0;yg.prototype.InterpolantFactoryMethodLinear=void 0;yg.prototype.InterpolantFactoryMethodSmooth=void 0;class og extends Ll{constructor(e,t,i,r){super(e,t,i,r)}}og.prototype.ValueTypeName="vector";class f0{constructor(e="",t=-1,i=[],r=uR){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Fo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(ISe(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Ll.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const d=rq(l);l=cN(l,1,d),c=cN(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new sg(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let m=r[h];m||(r[h]=m=[]),m.push(c)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,m,v,b,A){if(v.length!==0){const _=[],x=[];L3(v,_,x,b),_.length!==0&&A.push(new h(m,_,x))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const m=c[h].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let b;for(b=0;b<m.length;b++)if(m[b].morphTargets)for(let A=0;A<m[b].morphTargets.length;A++)v[m[b].morphTargets[A]]=-1;for(const A in v){const _=[],x=[];for(let T=0;T!==m[b].morphTargets.length;++T){const C=m[b];_.push(C.time),x.push(C.morphTarget===A?1:0)}r.push(new sg(".morphTargetInfluence["+A+"]",_,x))}l=v.length*a}else{const v=".bones["+t[h].name+"]";i(og,v+".position",m,"pos",r),i(ag,v+".quaternion",m,"rot",r),i(og,v+".scale",m,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function DSe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sg;case"vector":case"vector2":case"vector3":case"vector4":return og;case"color":return k3;case"quaternion":return ag;case"bool":case"boolean":return gg;case"string":return yg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function ISe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=DSe(n.type);if(n.times===void 0){const t=[],i=[];L3(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ad={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class F3{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){o++,s===!1&&r.onStart!==void 0&&r.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,r.onProgress!==void 0&&r.onProgress(d,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,m=c.length;h<m;h+=2){const v=c[h],b=c[h+1];if(v.global&&(v.lastIndex=0),v.test(d))return b}return null}}}const lq=new F3;class fa{constructor(e){this.manager=e!==void 0?e:lq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}fa.DEFAULT_MATERIAL_NAME="__DEFAULT";const hd={};class OSe extends Error{constructor(e,t){super(e),this.response=t}}class jo extends fa{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ad.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(hd[e]!==void 0){hd[e].push({onLoad:t,onProgress:i,onError:r});return}hd[e]=[],hd[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=hd[e],h=c.body.getReader(),m=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=m?parseInt(m):0,b=v!==0;let A=0;const _=new ReadableStream({start(x){T();function T(){h.read().then(({done:C,value:M})=>{if(C)x.close();else{A+=M.byteLength;const O=new ProgressEvent("progress",{lengthComputable:b,loaded:A,total:v});for(let R=0,B=d.length;R<B;R++){const N=d[R];N.onProgress&&N.onProgress(O)}x.enqueue(M),T()}},C=>{x.error(C)})}}});return new Response(_)}else throw new OSe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return c.json();default:if(o==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),m=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(b=>v.decode(b))}}}).then(c=>{Ad.add(e,c);const d=hd[e];delete hd[e];for(let h=0,m=d.length;h<m;h++){const v=d[h];v.onLoad&&v.onLoad(c)}}).catch(c=>{const d=hd[e];if(d===void 0)throw this.manager.itemError(e),c;delete hd[e];for(let h=0,m=d.length;h<m;h++){const v=d[h];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class PSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new jo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=f0.parse(e[i]);t.push(r)}return t}}class NSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new bR,l=new jo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(m){const v=s.parse(m,!0);a[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(o.minFilter=Br),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let h=0,m=e.length;h<m;++h)d(h);else l.load(e,function(h){const m=s.parse(h,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let b=0;b<v;b++){a[b]={mipmaps:[]};for(let A=0;A<m.mipmapCount;A++)a[b].mipmaps.push(m.mipmaps[b*m.mipmapCount+A]),a[b].format=m.format,a[b].width=m.width,a[b].height=m.height}o.image=a}else o.image.width=m.width,o.image.height=m.height,o.mipmaps=m.mipmaps;m.mipmapCount===1&&(o.minFilter=Br),o.format=m.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class AS extends fa{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ad.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=bS("img");function l(){d(),Ad.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class BSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=new uA;s.colorSpace=sa;const a=new AS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(d){s.images[c]=d,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class LSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new wu,o=new jo(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Lo,a.wrapT=c.wrapT!==void 0?c.wrapT:Lo,a.magFilter=c.magFilter!==void 0?c.magFilter:Br,a.minFilter=c.minFilter!==void 0?c.minFilter:Br,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Al),c.mipmapCount===1&&(a.minFilter=Br),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},i,r),a}}class cq extends fa{constructor(e){super(e)}load(e,t,i,r){const s=new ir,a=new AS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Jh extends qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class uq extends Jh{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const E2=new Yt,H5=new le,z5=new le;class H3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.mapType=Ol,this.map=null,this.mapPass=null,this.matrix=new Yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new X0,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new Zn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;H5.setFromMatrixPosition(e.matrixWorld),t.position.copy(H5),z5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(z5),t.updateMatrixWorld(),E2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(E2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(E2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class USe extends H3{constructor(){super(new Er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=l0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class z3 extends Jh{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new USe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const G5=new Yt,z_=new le,C2=new le;class kSe extends H3{constructor(){super(new Er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new Zn(2,1,1,1),new Zn(0,1,1,1),new Zn(3,1,1,1),new Zn(1,1,1,1),new Zn(3,0,1,1),new Zn(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),z_.setFromMatrixPosition(e.matrixWorld),i.position.copy(z_),C2.copy(i.position),C2.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(C2),i.updateMatrixWorld(),r.makeTranslation(-z_.x,-z_.y,-z_.z),G5.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G5)}}class G3 extends Jh{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new kSe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Dd extends hR{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class FSe extends H3{constructor(){super(new Dd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class V3 extends Jh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.shadow=new FSe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dq extends Jh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class fq extends Jh{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class hq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class pq extends Jh{constructor(e=new hq,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class NR extends fa{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new jo(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Rt().setHex(a.value);break;case"v2":r.uniforms[s].value=new rt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new le().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Zn().fromArray(a.value);break;case"m3":r.uniforms[s].value=new xn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Yt().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new rt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return NR.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:$X,SpriteMaterial:A3,RawShaderMaterial:KX,ShaderMaterial:Mc,PointsMaterial:vR,MeshPhysicalMaterial:Bl,MeshStandardMaterial:yA,MeshPhongMaterial:JX,MeshToonMaterial:QX,MeshNormalMaterial:ZX,MeshLambertMaterial:eq,MeshDepthMaterial:N3,MeshDistanceMaterial:B3,MeshBasicMaterial:Uo,MeshMatcapMaterial:tq,LineDashedMaterial:nq,LineBasicMaterial:da,Material:cs};return new t[e]}}class Rh{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class mq extends bn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gq extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new jo(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,b){if(t[b]!==void 0)return t[b];const _=v.interleavedBuffers[b],x=s(v,_.buffer),T=bv(_.type,x),C=new dA(T,_.stride);return C.uuid=_.uuid,t[b]=C,C}function s(v,b){if(i[b]!==void 0)return i[b];const _=v.arrayBuffers[b],x=new Uint32Array(_).buffer;return i[b]=x,x}const a=e.isInstancedBufferGeometry?new mq:new bn,o=e.data.index;if(o!==void 0){const v=bv(o.type,o.array);a.setIndex(new ei(v,1))}const l=e.data.attributes;for(const v in l){const b=l[v];let A;if(b.isInterleavedBufferAttribute){const _=r(e.data,b.data);A=new Gh(_,b.itemSize,b.offset,b.normalized)}else{const _=bv(b.type,b.array),x=b.isInstancedBufferAttribute?ig:ei;A=new x(_,b.itemSize,b.normalized)}b.name!==void 0&&(A.name=b.name),b.usage!==void 0&&A.setUsage(b.usage),a.setAttribute(v,A)}const c=e.data.morphAttributes;if(c)for(const v in c){const b=c[v],A=[];for(let _=0,x=b.length;_<x;_++){const T=b[_];let C;if(T.isInterleavedBufferAttribute){const M=r(e.data,T.data);C=new Gh(M,T.itemSize,T.offset,T.normalized)}else{const M=bv(T.type,T.array);C=new ei(M,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),A.push(C)}a.morphAttributes[v]=A}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,b=h.length;v!==b;++v){const A=h[v];a.addGroup(A.start,A.count,A.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new le;m.center!==void 0&&v.fromArray(m.center),a.boundingSphere=new Ts(v,m.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class HSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?Rh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new jo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Rh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new jo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),t!==void 0){let h=!1;for(const m in a)if(a[m].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new jm().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new fA().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new gq;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in F5?o=F5[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new NR;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=f0.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(d)}else return l.data?{data:bv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new F3(t);s=new AS(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],m=h.url;if(Array.isArray(m)){const v=[];for(let b=0,A=m.length;b<A;b++){const _=m[b],x=o(_);x!==null&&(x instanceof HTMLImageElement?v.push(x):v.push(new wu(x.data,x.width,x.height)))}r[h.uuid]=new vh(v)}else{const v=o(h.url);r[h.uuid]=new vh(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:bv(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new AS(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,m=c.length;h<m;h++){const v=c[h],b=await s(v);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new wu(b.data,b.width,b.height)))}i[l.uuid]=new vh(d)}else{const d=await s(l.url);i[l.uuid]=new vh(d)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let d;Array.isArray(c)?(d=new uA,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new wu:d=new ir,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,zSe)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],V5),d.wrapT=i(o.wrap[1],V5)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,j5)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,j5)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,t,i,r,s){let a;function o(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let b=0,A=m.length;b<A;b++){const _=m[b];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(i[_])}return v}return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),i[m]}}function c(m){return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),r[m]}let d,h;switch(e.type){case"Scene":a=new S3,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Rt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new mR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new pR(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Er(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Dd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new dq(e.color,e.intensity);break;case"DirectionalLight":a=new V3(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new G3(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new fq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new z3(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new uq(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new pq().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),h=l(e.material),a=new E3(d,h),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),h=l(e.material),a=new Lr(d,h);break;case"InstancedMesh":d=o(e.geometry),h=l(e.material);const m=e.count,v=e.instanceMatrix,b=e.instanceColor;a=new C3(d,h,m),a.instanceMatrix=new ig(new Float32Array(v.array),16),b!==void 0&&(a.instanceColor=new ig(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":d=o(e.geometry),h=l(e.material),a=new LX(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(A=>{let _=null,x=null;return A.boundingBox!==void 0&&(_=new Vs,_.min.fromArray(A.boundingBox.min),_.max.fromArray(A.boundingBox.max)),A.boundingSphere!==void 0&&(x=new Ts,x.radius=A.boundingSphere.radius,x.center.fromArray(A.boundingSphere.center)),{...A,boundingBox:_,boundingSphere:x}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Ts,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new Vs,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new BX;break;case"Line":a=new Wd(o(e.geometry),l(e.material));break;case"LineLoop":a=new T3(o(e.geometry),l(e.material));break;case"LineSegments":a=new Dc(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new M3(o(e.geometry),l(e.material));break;case"Sprite":a=new NX(l(e.material));break;case"Group":a=new Sd;break;case"Bone":a=new gR;break;default:a=new qn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)a.add(this.parseObject(m[v],t,i,r,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const b=m[v];a.animations.push(s[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const b=m[v],A=a.getObjectByProperty("uuid",b.object);A!==void 0&&a.addLevel(A,b.distance,b.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new qn}})}}const zSe={UVMapping:nR,CubeReflectionMapping:Vd,CubeRefractionMapping:Fh,EquirectangularReflectionMapping:hS,EquirectangularRefractionMapping:pS,CubeUVReflectionMapping:W0},V5={RepeatWrapping:Hh,ClampToEdgeWrapping:Lo,MirroredRepeatWrapping:t0},j5={NearestFilter:Es,NearestMipmapNearestFilter:iR,NearestMipmapLinearFilter:Rm,LinearFilter:Br,LinearMipmapNearestFilter:Iv,LinearMipmapLinearFilter:Al};class yq extends fa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ad.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ad.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Ad.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ad.add(e,l),s.manager.itemStart(e)}}let r1;class j3{static getContext(){return r1===void 0&&(r1=new(window.AudioContext||window.webkitAudioContext)),r1}static setContext(e){r1=e}}class GSe extends fa{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new jo(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);j3.getContext().decodeAudioData(c,function(h){t(h)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const W5=new Yt,Y5=new Yt,nm=new Yt;class VSe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nm.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Vm*t.fov*.5)/t.zoom;let o,l;Y5.elements[12]=-r,W5.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,nm.elements[0]=2*t.near/(l-o),nm.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(nm),o=-a*t.aspect-s,l=a*t.aspect-s,nm.elements[0]=2*t.near/(l-o),nm.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(nm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Y5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(W5)}}class vq extends Er{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class W3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=X5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=X5();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function X5(){return performance.now()}const im=new le,q5=new Cs,jSe=new le,rm=new le;class WSe extends qn{constructor(){super(),this.type="AudioListener",this.context=j3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new W3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(im,q5,jSe),rm.set(0,0,-1).applyQuaternion(q5),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(im.x,r),t.positionY.linearRampToValueAtTime(im.y,r),t.positionZ.linearRampToValueAtTime(im.z,r),t.forwardX.linearRampToValueAtTime(rm.x,r),t.forwardY.linearRampToValueAtTime(rm.y,r),t.forwardZ.linearRampToValueAtTime(rm.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(im.x,im.y,im.z),t.setOrientation(rm.x,rm.y,rm.z,i.x,i.y,i.z)}}class bq extends qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const sm=new le,$5=new Cs,YSe=new le,am=new le;class XSe extends bq{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(sm,$5,YSe),am.set(0,0,1).applyQuaternion($5);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sm.x,i),t.positionY.linearRampToValueAtTime(sm.y,i),t.positionZ.linearRampToValueAtTime(sm.z,i),t.orientationX.linearRampToValueAtTime(am.x,i),t.orientationY.linearRampToValueAtTime(am.y,i),t.orientationZ.linearRampToValueAtTime(am.z,i)}else t.setPosition(sm.x,sm.y,sm.z),t.setOrientation(am.x,am.y,am.z)}}class qSe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class _q{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Cs.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Cs.multiplyQuaternionsFlat(e,a,e,t,e,i),Cs.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const Y3="\\[\\]\\.:\\/",$Se=new RegExp("["+Y3+"]","g"),X3="[^"+Y3+"]",KSe="[^"+Y3.replace("\\.","")+"]",JSe=/((?:WC+[\/:])*)/.source.replace("WC",X3),QSe=/(WCOD+)?/.source.replace("WCOD",KSe),ZSe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",X3),eAe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",X3),tAe=new RegExp("^"+JSe+QSe+ZSe+eAe+"$"),nAe=["material","materials","bones","map"];class iAe{constructor(e,t,i){const r=i||Jn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Jn{constructor(e,t,i){this.path=t,this.parsedPath=i||Jn.parseTrackName(t),this.node=Jn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Jn.Composite(e,t,i):new Jn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($Se,"")}static parseTrackName(e){const t=tAe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);nAe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Jn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jn.Composite=iAe;Jn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Jn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Jn.prototype.GetterByBindingType=[Jn.prototype._getValue_direct,Jn.prototype._getValue_array,Jn.prototype._getValue_arrayElement,Jn.prototype._getValue_toArray];Jn.prototype.SetterByBindingTypeAndVersioning=[[Jn.prototype._setValue_direct,Jn.prototype._setValue_direct_setNeedsUpdate,Jn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_array,Jn.prototype._setValue_array_setNeedsUpdate,Jn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_arrayElement,Jn.prototype._setValue_arrayElement_setNeedsUpdate,Jn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jn.prototype._setValue_fromArray,Jn.prototype._setValue_fromArray_setNeedsUpdate,Jn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class rAe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const m=arguments[d],v=m.uuid;let b=t[v];if(b===void 0){b=l++,t[v]=b,e.push(m);for(let A=0,_=a;A!==_;++A)s[A].push(new Jn(m,i[A],r[A]))}else if(b<c){o=e[b];const A=--c,_=e[A];t[_.uuid]=b,e[b]=_,t[v]=A,e[A]=m;for(let x=0,T=a;x!==T;++x){const C=s[x],M=C[A];let O=C[b];C[b]=M,O===void 0&&(O=new Jn(m,i[x],r[x])),C[A]=O}}else e[b]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,m=e[h];t[m.uuid]=d,e[d]=m,t[c]=h,e[h]=l;for(let v=0,b=r;v!==b;++v){const A=i[v],_=A[h],x=A[d];A[d]=_,A[h]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const m=--s,v=e[m],b=--a,A=e[b];t[v.uuid]=h,e[h]=v,t[A.uuid]=m,e[m]=A,e.pop();for(let _=0,x=r;_!==x;++_){const T=i[_],C=T[m],M=T[b];T[h]=C,T[m]=M,T.pop()}}else{const m=--a,v=e[m];m>0&&(t[v.uuid]=h),e[h]=v,e.pop();for(let b=0,A=r;b!==A;++b){const _=i[b];_[h]=_[m],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(h);for(let m=d,v=l.length;m!==v;++m){const b=l[m];h[m]=new Jn(b,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class xq{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Dm,endingEnd:Dm};for(let c=0;c!==a;++c){const d=s[c].createInterpolant(null);o[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dX,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case g3:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(a),c[d].accumulateAdditive(o);break;case uR:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(a),c[d].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===fX;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===uX){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Im,r.endingEnd=Im):(e?r.endingStart=this.zeroSlopeAtStart?Im:Dm:r.endingStart=mS,t?r.endingEnd=this.zeroSlopeAtEnd?Im:Dm:r.endingEnd=mS)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const sAe=new Float32Array(1);class aAe extends Lu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const m=r[h],v=m.name;let b=d[v];if(b!==void 0)++b.referenceCount,a[h]=b;else{if(b=a[h],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,l,v));continue}const A=t&&t._propertyBindings[h].binding.parsedPath;b=new _q(Jn.create(i,v,A),m.ValueTypeName,m.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,l,v),a[h]=b}o[h].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,m=(e._localRoot||this._root).uuid;delete h[m],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new U3(new Float32Array(2),new Float32Array(2),1,sAe),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?f0.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=uR),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const d=new xq(this,a,t,i);return this._bindAction(d,c),this._addInactiveAction(d,o,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?f0.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class oAe extends dR{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new fR(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class lAe extends dR{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new cA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class q3{constructor(e){this.value=e}clone(){return new q3(this.value.clone===void 0?this.value:this.value.clone())}}let cAe=0;class uAe extends Lu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:cAe++}),this.name="",this.usage=yS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class dAe extends dA{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class fAe{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const K5=new Yt;class Sq{constructor(e,t,i=0,r=1/0){this.ray=new pg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new c0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return K5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(K5),this}intersectObject(e,t=!0,i=[]){return uN(e,this,i,t),i.sort(J5),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)uN(e[r],this,i,t);return i.sort(J5),i}}function J5(n,e){return n.distance-e.distance}function uN(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)uN(s[a],e,t,!0)}}class dN{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=vn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hAe{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class $3{constructor(e,t,i,r){$3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const Q5=new rt;class pAe{constructor(e=new rt(1/0,1/0),t=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Q5.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Q5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Z5=new le,s1=new le;class mAe{constructor(e=new le,t=new le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Z5.subVectors(e,this.start),s1.subVectors(this.end,this.start);const i=s1.dot(s1);let s=s1.dot(Z5)/i;return t&&(s=vn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const eG=new le;class gAe extends qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new bn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,d=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ht(r,3));const s=new da({fog:!1,toneMapped:!1});this.cone=new Dc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),eG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ah=new le,a1=new Yt,T2=new Yt;class yAe extends Dc{constructor(e){const t=Aq(e),i=new bn,r=[],s=[],a=new Rt(0,0,1),o=new Rt(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Ht(r,3)),i.setAttribute("color",new Ht(s,3));const l=new da({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");T2.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(a1.multiplyMatrices(T2,o.matrixWorld),ah.setFromMatrixPosition(a1),r.setXYZ(a,ah.x,ah.y,ah.z),a1.multiplyMatrices(T2,o.parent.matrixWorld),ah.setFromMatrixPosition(a1),r.setXYZ(a+1,ah.x,ah.y,ah.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Aq(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Aq(n.children[t]));return e}class vAe extends Lr{constructor(e,t,i){const r=new gA(t,4,2),s=new Uo({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bAe=new le,tG=new Rt,nG=new Rt;class _Ae extends qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new mA(t);r.rotateY(Math.PI*.5),this.material=new Uo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new ei(a,3)),this.add(new Lr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");tG.copy(this.light.color),nG.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?tG:nG;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bAe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class xAe extends Dc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Rt(i),r=new Rt(r);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let m=0,v=0,b=-o;m<=t;m++,b+=a){l.push(-o,0,b,o,0,b),l.push(b,0,-o,b,0,o);const A=m===s?i:r;A.toArray(c,v),v+=3,A.toArray(c,v),v+=3,A.toArray(c,v),v+=3,A.toArray(c,v),v+=3}const d=new bn;d.setAttribute("position",new Ht(l,3)),d.setAttribute("color",new Ht(c,3));const h=new da({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class SAe extends Dc{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Rt(s),a=new Rt(a);const o=[],l=[];if(t>1)for(let h=0;h<t;h++){const m=h/t*(Math.PI*2),v=Math.sin(m)*e,b=Math.cos(m)*e;o.push(0,0,0),o.push(v,0,b);const A=h&1?s:a;l.push(A.r,A.g,A.b),l.push(A.r,A.g,A.b)}for(let h=0;h<i;h++){const m=h&1?s:a,v=e-e/i*h;for(let b=0;b<r;b++){let A=b/r*(Math.PI*2),_=Math.sin(A)*v,x=Math.cos(A)*v;o.push(_,0,x),l.push(m.r,m.g,m.b),A=(b+1)/r*(Math.PI*2),_=Math.sin(A)*v,x=Math.cos(A)*v,o.push(_,0,x),l.push(m.r,m.g,m.b)}}const c=new bn;c.setAttribute("position",new Ht(o,3)),c.setAttribute("color",new Ht(l,3));const d=new da({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iG=new le,o1=new le,rG=new le;class AAe extends qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new bn;r.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new da({fog:!1,toneMapped:!1});this.lightPlane=new Wd(r,s),this.add(this.lightPlane),r=new bn,r.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new Wd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iG.setFromMatrixPosition(this.light.matrixWorld),o1.setFromMatrixPosition(this.light.target.matrixWorld),rG.subVectors(o1,iG),this.lightPlane.lookAt(o1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(o1),this.targetLine.scale.z=rG.length()}}const l1=new le,_r=new hR;class EAe extends Dc{constructor(e){const t=new bn,i=new da({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(b,A){l(b),l(A)}function l(b){r.push(0,0,0),s.push(0,0,0),a[b]===void 0&&(a[b]=[]),a[b].push(r.length/3-1)}t.setAttribute("position",new Ht(r,3)),t.setAttribute("color",new Ht(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Rt(16755200),d=new Rt(16711680),h=new Rt(43775),m=new Rt(16777215),v=new Rt(3355443);this.setColors(c,d,h,m,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;_r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===El?-1:0;Pr("c",t,e,_r,0,0,s),Pr("t",t,e,_r,0,0,1),Pr("n1",t,e,_r,-1,-1,s),Pr("n2",t,e,_r,i,-1,s),Pr("n3",t,e,_r,-1,r,s),Pr("n4",t,e,_r,i,r,s),Pr("f1",t,e,_r,-1,-1,1),Pr("f2",t,e,_r,i,-1,1),Pr("f3",t,e,_r,-1,r,1),Pr("f4",t,e,_r,i,r,1),Pr("u1",t,e,_r,i*.7,r*1.1,s),Pr("u2",t,e,_r,-1*.7,r*1.1,s),Pr("u3",t,e,_r,0,r*2,s),Pr("cf1",t,e,_r,-1,0,1),Pr("cf2",t,e,_r,i,0,1),Pr("cf3",t,e,_r,0,-1,1),Pr("cf4",t,e,_r,0,r,1),Pr("cn1",t,e,_r,-1,0,s),Pr("cn2",t,e,_r,i,0,s),Pr("cn3",t,e,_r,0,-1,s),Pr("cn4",t,e,_r,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pr(n,e,t,i,r,s,a){l1.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,d=o.length;c<d;c++)l.setXYZ(o[c],l1.x,l1.y,l1.z)}}const c1=new Vs;class CAe extends Dc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new bn;s.setIndex(new ei(i,1)),s.setAttribute("position",new ei(r,3)),super(s,new da({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&c1.setFromObject(this.object),c1.isEmpty())return;const e=c1.min,t=c1.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class TAe extends Dc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new bn;s.setIndex(new ei(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new da({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class MAe extends Wd{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new bn;a.setAttribute("position",new Ht(s,3)),a.computeBoundingSphere(),super(a,new da({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new bn;l.setAttribute("position",new Ht(o,3)),l.computeBoundingSphere(),this.add(new Lr(l,new Uo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sG=new le;let u1,M2;class wAe extends qn{constructor(e=new le(0,0,1),t=new le(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",u1===void 0&&(u1=new bn,u1.setAttribute("position",new Ht([0,0,0,0,1,0],3)),M2=new pA(.5,1,5,1),M2.translate(0,-.5,0)),this.position.copy(t),this.line=new Wd(u1,new da({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(M2,new Uo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sG.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sG,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class RAe extends Dc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new bn;r.setAttribute("position",new Ht(t,3)),r.setAttribute("color",new Ht(i,3));const s=new da({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Rt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DAe{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new OM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const T=[];for(let C=0,M=x.length;C<M;C++){const O=x[C],R=new jm;R.curves=O.curves,T.push(R)}return T}function i(x,T){const C=T.length;let M=!1;for(let O=C-1,R=0;R<C;O=R++){let B=T[O],N=T[R],P=N.x-B.x,I=N.y-B.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(B=T[R],P=-P,N=T[O],I=-I),x.y<B.y||x.y>N.y)continue;if(x.y===B.y){if(x.x===B.x)return!0}else{const F=I*(x.x-B.x)-P*(x.y-B.y);if(F===0)return!0;if(F<0)continue;M=!M}}else{if(x.y!==B.y)continue;if(N.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=N.x)return!0}}return M}const r=Ec.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new jm,l.curves=o.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],m=[];let v=[],b=0,A;m[b]=void 0,v[b]=[];for(let x=0,T=s.length;x<T;x++)o=s[x],A=o.getPoints(),a=r(A),a=e?!a:a,a?(!d&&m[b]&&b++,m[b]={s:new jm,p:A},m[b].s.curves=o.curves,d&&b++,v[b]=[]):v[b].push({h:o,p:A[0]});if(!m[0])return t(s);if(m.length>1){let x=!1,T=0;for(let C=0,M=m.length;C<M;C++)h[C]=[];for(let C=0,M=m.length;C<M;C++){const O=v[C];for(let R=0;R<O.length;R++){const B=O[R];let N=!0;for(let P=0;P<m.length;P++)i(B.p,m[P].p)&&(C!==P&&T++,N?(N=!1,h[P].push(B)):x=!0);N&&h[C].push(B)}}T>0&&x===!1&&(v=h)}let _;for(let x=0,T=m.length;x<T;x++){l=m[x].s,c.push(l),_=v[x];for(let C=0,M=_.length;C<M;C++)l.holes.push(_[C].h)}return c}}class IAe extends Lu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function OAe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function PAe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function NAe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function fN(n,e,t,i){const r=BAe(i);switch(t){case f3:return n*e;case oR:return n*e/r.components*r.byteLength;case lA:return n*e/r.components*r.byteLength;case p3:return n*e*2/r.components*r.byteLength;case lR:return n*e*2/r.components*r.byteLength;case h3:return n*e*3/r.components*r.byteLength;case ca:return n*e*4/r.components*r.byteLength;case cR:return n*e*4/r.components*r.byteLength;case Tx:case Mx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case wx:case Rx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case iM:case sM:return Math.max(n,16)*Math.max(e,8)/4;case nM:case rM:return Math.max(n,8)*Math.max(e,8)/2;case aM:case oM:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case lM:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case cM:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case uM:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case dM:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case fM:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case hM:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case pM:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case mM:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case gM:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case yM:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case vM:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case bM:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case _M:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case xM:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case SM:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Dx:case AM:case EM:return Math.ceil(n/4)*Math.ceil(e/4)*16;case m3:case CM:return Math.ceil(n/4)*Math.ceil(e/4)*8;case TM:case MM:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function BAe(n){switch(n){case Ol:case c3:return{byteLength:1,components:1};case n0:case u3:case Y0:return{byteLength:2,components:1};case sR:case aR:return{byteLength:2,components:4};case jd:case rR:case ro:return{byteLength:4,components:1};case d3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class LAe{static contain(e,t){return OAe(e,t)}static cover(e,t){return PAe(e,t)}static fill(e){return NAe(e)}static getByteLength(e,t,i,r){return fN(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:aA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=aA);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Eq(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function UAe(n){const e=new WeakMap;function t(o,l){const c=o.array,d=o.usage,h=c.byteLength,m=n.createBuffer();n.bindBuffer(l,m),n.bufferData(l,c,d),o.onUploadCallback();let v;if(c instanceof Float32Array)v=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=n.SHORT;else if(c instanceof Uint32Array)v=n.UNSIGNED_INT;else if(c instanceof Int32Array)v=n.INT;else if(c instanceof Int8Array)v=n.BYTE;else if(c instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:m,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:h}}function i(o,l,c){const d=l.array,h=l.updateRanges;if(n.bindBuffer(c,o),h.length===0)n.bufferSubData(c,0,d);else{h.sort((v,b)=>v.start-b.start);let m=0;for(let v=1;v<h.length;v++){const b=h[m],A=h[v];A.start<=b.start+b.count+1?b.count=Math.max(b.count,A.start+A.count-b.start):(++m,h[m]=A)}h.length=m+1;for(let v=0,b=h.length;v<b;v++){const A=h[v];n.bufferSubData(c,A.start*d.BYTES_PER_ELEMENT,d,A.start,A.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var kAe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,FAe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,HAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GAe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,VAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,jAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,WAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YAe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,XAe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,qAe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$Ae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,KAe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,JAe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ZAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,eEe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,tEe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,nEe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iEe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rEe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sEe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,aEe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,oEe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,lEe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cEe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uEe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dEe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,fEe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,hEe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,pEe="gl_FragColor = linearToOutputTexel( gl_FragColor );",mEe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,gEe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yEe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vEe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bEe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_Ee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xEe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,SEe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,AEe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,EEe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CEe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,TEe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,MEe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wEe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,REe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,DEe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,IEe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,OEe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,PEe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NEe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BEe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,LEe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UEe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kEe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,FEe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,HEe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zEe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,GEe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VEe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,jEe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,WEe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,YEe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,XEe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qEe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$Ee=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,KEe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,JEe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,QEe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ZEe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,eCe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tCe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,nCe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iCe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rCe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sCe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aCe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,oCe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,lCe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cCe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uCe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dCe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,fCe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hCe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pCe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mCe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gCe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yCe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vCe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bCe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,_Ce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xCe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,SCe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ACe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ECe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,CCe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TCe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,MCe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wCe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,RCe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DCe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ICe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,OCe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,PCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,LCe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const UCe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,kCe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FCe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HCe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zCe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GCe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VCe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,jCe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,WCe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YCe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XCe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qCe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$Ce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KCe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JCe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QCe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZCe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,e1e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t1e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,n1e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,i1e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,r1e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,s1e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,a1e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o1e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,l1e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c1e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u1e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d1e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,f1e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,h1e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p1e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,m1e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,g1e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cn={alphahash_fragment:kAe,alphahash_pars_fragment:FAe,alphamap_fragment:HAe,alphamap_pars_fragment:zAe,alphatest_fragment:GAe,alphatest_pars_fragment:VAe,aomap_fragment:jAe,aomap_pars_fragment:WAe,batching_pars_vertex:YAe,batching_vertex:XAe,begin_vertex:qAe,beginnormal_vertex:$Ae,bsdfs:KAe,iridescence_fragment:JAe,bumpmap_pars_fragment:QAe,clipping_planes_fragment:ZAe,clipping_planes_pars_fragment:eEe,clipping_planes_pars_vertex:tEe,clipping_planes_vertex:nEe,color_fragment:iEe,color_pars_fragment:rEe,color_pars_vertex:sEe,color_vertex:aEe,common:oEe,cube_uv_reflection_fragment:lEe,defaultnormal_vertex:cEe,displacementmap_pars_vertex:uEe,displacementmap_vertex:dEe,emissivemap_fragment:fEe,emissivemap_pars_fragment:hEe,colorspace_fragment:pEe,colorspace_pars_fragment:mEe,envmap_fragment:gEe,envmap_common_pars_fragment:yEe,envmap_pars_fragment:vEe,envmap_pars_vertex:bEe,envmap_physical_pars_fragment:DEe,envmap_vertex:_Ee,fog_vertex:xEe,fog_pars_vertex:SEe,fog_fragment:AEe,fog_pars_fragment:EEe,gradientmap_pars_fragment:CEe,lightmap_pars_fragment:TEe,lights_lambert_fragment:MEe,lights_lambert_pars_fragment:wEe,lights_pars_begin:REe,lights_toon_fragment:IEe,lights_toon_pars_fragment:OEe,lights_phong_fragment:PEe,lights_phong_pars_fragment:NEe,lights_physical_fragment:BEe,lights_physical_pars_fragment:LEe,lights_fragment_begin:UEe,lights_fragment_maps:kEe,lights_fragment_end:FEe,logdepthbuf_fragment:HEe,logdepthbuf_pars_fragment:zEe,logdepthbuf_pars_vertex:GEe,logdepthbuf_vertex:VEe,map_fragment:jEe,map_pars_fragment:WEe,map_particle_fragment:YEe,map_particle_pars_fragment:XEe,metalnessmap_fragment:qEe,metalnessmap_pars_fragment:$Ee,morphinstance_vertex:KEe,morphcolor_vertex:JEe,morphnormal_vertex:QEe,morphtarget_pars_vertex:ZEe,morphtarget_vertex:eCe,normal_fragment_begin:tCe,normal_fragment_maps:nCe,normal_pars_fragment:iCe,normal_pars_vertex:rCe,normal_vertex:sCe,normalmap_pars_fragment:aCe,clearcoat_normal_fragment_begin:oCe,clearcoat_normal_fragment_maps:lCe,clearcoat_pars_fragment:cCe,iridescence_pars_fragment:uCe,opaque_fragment:dCe,packing:fCe,premultiplied_alpha_fragment:hCe,project_vertex:pCe,dithering_fragment:mCe,dithering_pars_fragment:gCe,roughnessmap_fragment:yCe,roughnessmap_pars_fragment:vCe,shadowmap_pars_fragment:bCe,shadowmap_pars_vertex:_Ce,shadowmap_vertex:xCe,shadowmask_pars_fragment:SCe,skinbase_vertex:ACe,skinning_pars_vertex:ECe,skinning_vertex:CCe,skinnormal_vertex:TCe,specularmap_fragment:MCe,specularmap_pars_fragment:wCe,tonemapping_fragment:RCe,tonemapping_pars_fragment:DCe,transmission_fragment:ICe,transmission_pars_fragment:OCe,uv_pars_fragment:PCe,uv_pars_vertex:NCe,uv_vertex:BCe,worldpos_vertex:LCe,background_vert:UCe,background_frag:kCe,backgroundCube_vert:FCe,backgroundCube_frag:HCe,cube_vert:zCe,cube_frag:GCe,depth_vert:VCe,depth_frag:jCe,distanceRGBA_vert:WCe,distanceRGBA_frag:YCe,equirect_vert:XCe,equirect_frag:qCe,linedashed_vert:$Ce,linedashed_frag:KCe,meshbasic_vert:JCe,meshbasic_frag:QCe,meshlambert_vert:ZCe,meshlambert_frag:e1e,meshmatcap_vert:t1e,meshmatcap_frag:n1e,meshnormal_vert:i1e,meshnormal_frag:r1e,meshphong_vert:s1e,meshphong_frag:a1e,meshphysical_vert:o1e,meshphysical_frag:l1e,meshtoon_vert:c1e,meshtoon_frag:u1e,points_vert:d1e,points_frag:f1e,shadow_vert:h1e,shadow_frag:p1e,sprite_vert:m1e,sprite_frag:g1e},Pt={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new xn},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new xn}},envmap:{envMap:{value:null},envMapRotation:{value:new xn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new xn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new xn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new xn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new xn},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new xn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new xn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new xn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new xn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0},uvTransform:{value:new xn}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new xn},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0}}},gc={basic:{uniforms:Da([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:Da([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:Da([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:Da([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:Da([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:Da([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:Da([Pt.points,Pt.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:Da([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:Da([Pt.common,Pt.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:Da([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:Da([Pt.sprite,Pt.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new xn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new xn}},vertexShader:Cn.backgroundCube_vert,fragmentShader:Cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:Da([Pt.common,Pt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:Da([Pt.lights,Pt.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};gc.physical={uniforms:Da([gc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new xn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new xn},clearcoatNormalScale:{value:new rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new xn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new xn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new xn},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new xn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new xn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new xn},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new xn},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new xn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new xn},anisotropyVector:{value:new rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new xn}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};const d1={r:0,b:0,g:0},om=new Vo,y1e=new Yt;function v1e(n,e,t,i,r,s,a){const o=new Rt(0);let l=s===!0?0:1,c,d,h=null,m=0,v=null;function b(C){let M=C.isScene===!0?C.background:null;return M&&M.isTexture&&(M=(C.backgroundBlurriness>0?t:e).get(M)),M}function A(C){let M=!1;const O=b(C);O===null?x(o,l):O&&O.isColor&&(x(O,1),M=!0);const R=n.xr.getEnvironmentBlendMode();R==="additive"?i.buffers.color.setClear(0,0,0,1,a):R==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||M)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function _(C,M){const O=b(M);O&&(O.isCubeTexture||O.mapping===W0)?(d===void 0&&(d=new Lr(new mg(1,1,1),new Mc({name:"BackgroundCubeMaterial",uniforms:u0(gc.backgroundCube.uniforms),vertexShader:gc.backgroundCube.vertexShader,fragmentShader:gc.backgroundCube.fragmentShader,side:Ba,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,B,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),om.copy(M.backgroundRotation),om.x*=-1,om.y*=-1,om.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(om.y*=-1,om.z*=-1),d.material.uniforms.envMap.value=O,d.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(y1e.makeRotationFromEuler(om)),d.material.toneMapped=Xn.getTransfer(O.colorSpace)!==Ti,(h!==O||m!==O.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,h=O,m=O.version,v=n.toneMapping),d.layers.enableAll(),C.unshift(d,d.geometry,d.material,0,0,null)):O&&O.isTexture&&(c===void 0&&(c=new Lr(new q0(2,2),new Mc({name:"BackgroundMaterial",uniforms:u0(gc.background.uniforms),vertexShader:gc.background.vertexShader,fragmentShader:gc.background.fragmentShader,side:Pu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=O,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=Xn.getTransfer(O.colorSpace)!==Ti,O.matrixAutoUpdate===!0&&O.updateMatrix(),c.material.uniforms.uvTransform.value.copy(O.matrix),(h!==O||m!==O.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,h=O,m=O.version,v=n.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function x(C,M){C.getRGB(d1,RX(n)),i.buffers.color.setClear(d1.r,d1.g,d1.b,M,a)}function T(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(C,M=1){o.set(C),l=M,x(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,x(o,l)},render:A,addToRenderList:_,dispose:T}}function b1e(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=m(null);let s=r,a=!1;function o(I,F,U,j,q){let Z=!1;const H=h(j,U,F);s!==H&&(s=H,c(s.object)),Z=v(I,j,U,q),Z&&b(I,j,U,q),q!==null&&e.update(q,n.ELEMENT_ARRAY_BUFFER),(Z||a)&&(a=!1,M(I,F,U,j),q!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return n.createVertexArray()}function c(I){return n.bindVertexArray(I)}function d(I){return n.deleteVertexArray(I)}function h(I,F,U){const j=U.wireframe===!0;let q=i[I.id];q===void 0&&(q={},i[I.id]=q);let Z=q[F.id];Z===void 0&&(Z={},q[F.id]=Z);let H=Z[j];return H===void 0&&(H=m(l()),Z[j]=H),H}function m(I){const F=[],U=[],j=[];for(let q=0;q<t;q++)F[q]=0,U[q]=0,j[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:U,attributeDivisors:j,object:I,attributes:{},index:null}}function v(I,F,U,j){const q=s.attributes,Z=F.attributes;let H=0;const Y=U.getAttributes();for(const X in Y)if(Y[X].location>=0){const K=q[X];let ae=Z[X];if(ae===void 0&&(X==="instanceMatrix"&&I.instanceMatrix&&(ae=I.instanceMatrix),X==="instanceColor"&&I.instanceColor&&(ae=I.instanceColor)),K===void 0||K.attribute!==ae||ae&&K.data!==ae.data)return!0;H++}return s.attributesNum!==H||s.index!==j}function b(I,F,U,j){const q={},Z=F.attributes;let H=0;const Y=U.getAttributes();for(const X in Y)if(Y[X].location>=0){let K=Z[X];K===void 0&&(X==="instanceMatrix"&&I.instanceMatrix&&(K=I.instanceMatrix),X==="instanceColor"&&I.instanceColor&&(K=I.instanceColor));const ae={};ae.attribute=K,K&&K.data&&(ae.data=K.data),q[X]=ae,H++}s.attributes=q,s.attributesNum=H,s.index=j}function A(){const I=s.newAttributes;for(let F=0,U=I.length;F<U;F++)I[F]=0}function _(I){x(I,0)}function x(I,F){const U=s.newAttributes,j=s.enabledAttributes,q=s.attributeDivisors;U[I]=1,j[I]===0&&(n.enableVertexAttribArray(I),j[I]=1),q[I]!==F&&(n.vertexAttribDivisor(I,F),q[I]=F)}function T(){const I=s.newAttributes,F=s.enabledAttributes;for(let U=0,j=F.length;U<j;U++)F[U]!==I[U]&&(n.disableVertexAttribArray(U),F[U]=0)}function C(I,F,U,j,q,Z,H){H===!0?n.vertexAttribIPointer(I,F,U,q,Z):n.vertexAttribPointer(I,F,U,j,q,Z)}function M(I,F,U,j){A();const q=j.attributes,Z=U.getAttributes(),H=F.defaultAttributeValues;for(const Y in Z){const X=Z[Y];if(X.location>=0){let ne=q[Y];if(ne===void 0&&(Y==="instanceMatrix"&&I.instanceMatrix&&(ne=I.instanceMatrix),Y==="instanceColor"&&I.instanceColor&&(ne=I.instanceColor)),ne!==void 0){const K=ne.normalized,ae=ne.itemSize,ye=e.get(ne);if(ye===void 0)continue;const Se=ye.buffer,de=ye.type,xe=ye.bytesPerElement,pe=de===n.INT||de===n.UNSIGNED_INT||ne.gpuType===rR;if(ne.isInterleavedBufferAttribute){const He=ne.data,ve=He.stride,V=ne.offset;if(He.isInstancedInterleavedBuffer){for(let ee=0;ee<X.locationSize;ee++)x(X.location+ee,He.meshPerAttribute);I.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let ee=0;ee<X.locationSize;ee++)_(X.location+ee);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let ee=0;ee<X.locationSize;ee++)C(X.location+ee,ae/X.locationSize,de,K,ve*xe,(V+ae/X.locationSize*ee)*xe,pe)}else{if(ne.isInstancedBufferAttribute){for(let He=0;He<X.locationSize;He++)x(X.location+He,ne.meshPerAttribute);I.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let He=0;He<X.locationSize;He++)_(X.location+He);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let He=0;He<X.locationSize;He++)C(X.location+He,ae/X.locationSize,de,K,ae*xe,ae/X.locationSize*He*xe,pe)}}else if(H!==void 0){const K=H[Y];if(K!==void 0)switch(K.length){case 2:n.vertexAttrib2fv(X.location,K);break;case 3:n.vertexAttrib3fv(X.location,K);break;case 4:n.vertexAttrib4fv(X.location,K);break;default:n.vertexAttrib1fv(X.location,K)}}}}T()}function O(){N();for(const I in i){const F=i[I];for(const U in F){const j=F[U];for(const q in j)d(j[q].object),delete j[q];delete F[U]}delete i[I]}}function R(I){if(i[I.id]===void 0)return;const F=i[I.id];for(const U in F){const j=F[U];for(const q in j)d(j[q].object),delete j[q];delete F[U]}delete i[I.id]}function B(I){for(const F in i){const U=i[F];if(U[I.id]===void 0)continue;const j=U[I.id];for(const q in j)d(j[q].object),delete j[q];delete U[I.id]}}function N(){P(),a=!0,s!==r&&(s=r,c(s.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:N,resetDefaultState:P,dispose:O,releaseStatesOfGeometry:R,releaseStatesOfProgram:B,initAttributes:A,enableAttribute:_,disableUnusedAttributes:T}}function _1e(n,e,t){let i;function r(c){i=c}function s(c,d){n.drawArrays(i,c,d),t.update(d,i,1)}function a(c,d,h){h!==0&&(n.drawArraysInstanced(i,c,d,h),t.update(d,i,h))}function o(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,h);let v=0;for(let b=0;b<h;b++)v+=d[b];t.update(v,i,1)}function l(c,d,h,m){if(h===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let b=0;b<c.length;b++)a(c[b],d[b],m[b]);else{v.multiDrawArraysInstancedWEBGL(i,c,0,d,0,m,0,h);let b=0;for(let A=0;A<h;A++)b+=d[A]*m[A];t.update(b,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function x1e(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(B){return!(B!==ca&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const N=B===Y0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Ol&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==ro&&!N)}function l(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=t.logarithmicDepthBuffer===!0,m=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),_=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),T=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=b>0,R=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:m,maxTextures:v,maxVertexTextures:b,maxTextureSize:A,maxCubemapSize:_,maxAttributes:x,maxVertexUniforms:T,maxVaryings:C,maxFragmentUniforms:M,vertexTextures:O,maxSamples:R}}function S1e(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new gd,o=new xn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const v=h.length!==0||m||i!==0||r;return r=m,i=h.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,m){t=d(h,m,0)},this.setState=function(h,m,v){const b=h.clippingPlanes,A=h.clipIntersection,_=h.clipShadows,x=n.get(h);if(!r||b===null||b.length===0||s&&!_)s?d(null):c();else{const T=s?0:i,C=T*4;let M=x.clippingState||null;l.value=M,M=d(b,m,C,v);for(let O=0;O!==C;++O)M[O]=t[O];x.clippingState=M,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=T}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,m,v,b){const A=h!==null?h.length:0;let _=null;if(A!==0){if(_=l.value,b!==!0||_===null){const x=v+A*4,T=m.matrixWorldInverse;o.getNormalMatrix(T),(_===null||_.length<x)&&(_=new Float32Array(x));for(let C=0,M=v;C!==A;++C,M+=4)a.copy(h[C]).applyMatrix4(T,o),a.normal.toArray(_,M),_[M+3]=a.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,_}}function A1e(n){let e=new WeakMap;function t(a,o){return o===hS?a.mapping=Vd:o===pS&&(a.mapping=Fh),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===hS||o===pS)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new OX(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const _v=4,aG=[.125,.215,.35,.446,.526,.582],xm=20,w2=new Dd,oG=new Rt;let R2=null,D2=0,I2=0,O2=!1;const vm=(1+Math.sqrt(5))/2,Qy=1/vm,lG=[new le(-vm,Qy,0),new le(vm,Qy,0),new le(-Qy,0,vm),new le(Qy,0,vm),new le(0,vm,-Qy),new le(0,vm,Qy),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],E1e=new le;class hN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=E1e}=s;R2=this._renderer.getRenderTarget(),D2=this._renderer.getActiveCubeFace(),I2=this._renderer.getActiveMipmapLevel(),O2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dG(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(R2,D2,I2),this._renderer.xr.enabled=O2,e.scissorTest=!1,f1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Vd||e.mapping===Fh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R2=this._renderer.getRenderTarget(),D2=this._renderer.getActiveCubeFace(),I2=this._renderer.getActiveMipmapLevel(),O2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Br,minFilter:Br,generateMipmaps:!1,type:Y0,format:ca,colorSpace:zh,depthBuffer:!1},r=cG(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cG(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=C1e(s)),this._blurMaterial=T1e(s,e,t)}return r}_compileMaterial(e){const t=new Lr(this._lodPlanes[0],e);this._renderer.compile(t,w2)}_sceneToCubeUV(e,t,i,r,s){const l=new Er(90,1,t,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,m=h.autoClear,v=h.toneMapping;h.getClearColor(oG),h.toneMapping=Mu,h.autoClear=!1;const b=new Uo({name:"PMREM.Background",side:Ba,depthWrite:!1,depthTest:!1}),A=new Lr(new mg,b);let _=!1;const x=e.background;x?x.isColor&&(b.color.copy(x),e.background=null,_=!0):(b.color.copy(oG),_=!0);for(let T=0;T<6;T++){const C=T%3;C===0?(l.up.set(0,c[T],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[T],s.y,s.z)):C===1?(l.up.set(0,0,c[T]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[T],s.z)):(l.up.set(0,c[T],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[T]));const M=this._cubeSize;f1(r,C*M,T>2?M:0,M,M),h.setRenderTarget(r),_&&h.render(A,l),h.render(e,l)}A.geometry.dispose(),A.material.dispose(),h.toneMapping=v,h.autoClear=m,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Vd||e.mapping===Fh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=dG()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uG());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Lr(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;f1(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,w2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=lG[(r-s-1)%lG.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Lr(this._lodPlanes[r],c),m=c.uniforms,v=this._sizeLods[i]-1,b=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xm-1),A=s/b,_=isFinite(s)?1+Math.floor(d*A):xm;_>xm&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${xm}`);const x=[];let T=0;for(let B=0;B<xm;++B){const N=B/A,P=Math.exp(-N*N/2);x.push(P),B===0?T+=P:B<_&&(T+=2*P)}for(let B=0;B<x.length;B++)x[B]=x[B]/T;m.envMap.value=e.texture,m.samples.value=_,m.weights.value=x,m.latitudinal.value=a==="latitudinal",o&&(m.poleAxis.value=o);const{_lodMax:C}=this;m.dTheta.value=b,m.mipInt.value=C-i;const M=this._sizeLods[r],O=3*M*(r>C-_v?r-C+_v:0),R=4*(this._cubeSize-M);f1(t,O,R,3*M,2*M),l.setRenderTarget(t),l.render(h,w2)}}function C1e(n){const e=[],t=[],i=[];let r=n;const s=n-_v+1+aG.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-_v?l=aG[a-n+_v-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),d=-c,h=1+c,m=[d,d,h,d,h,h,d,d,h,h,d,h],v=6,b=6,A=3,_=2,x=1,T=new Float32Array(A*b*v),C=new Float32Array(_*b*v),M=new Float32Array(x*b*v);for(let R=0;R<v;R++){const B=R%3*2/3-1,N=R>2?0:-1,P=[B,N,0,B+2/3,N,0,B+2/3,N+1,0,B,N,0,B+2/3,N+1,0,B,N+1,0];T.set(P,A*b*R),C.set(m,_*b*R);const I=[R,R,R,R,R,R];M.set(I,x*b*R)}const O=new bn;O.setAttribute("position",new ei(T,A)),O.setAttribute("uv",new ei(C,_)),O.setAttribute("faceIndex",new ei(M,x)),e.push(O),r>_v&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function cG(n,e,t){const i=new Nu(n,e,t);return i.texture.mapping=W0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function f1(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function T1e(n,e,t){const i=new Float32Array(xm),r=new le(0,1,0);return new Mc({name:"SphericalGaussianBlur",defines:{n:xm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:K3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:wd,depthTest:!1,depthWrite:!1})}function uG(){return new Mc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:K3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:wd,depthTest:!1,depthWrite:!1})}function dG(){return new Mc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:K3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:wd,depthTest:!1,depthWrite:!1})}function K3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function M1e(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===hS||l===pS,d=l===Vd||l===Fh;if(c||d){let h=e.get(o);const m=h!==void 0?h.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==m)return t===null&&(t=new hN(n)),h=c?t.fromEquirectangular(o,h):t.fromCubemap(o,h),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),h.texture;if(h!==void 0)return h.texture;{const v=o.image;return c&&v&&v.height>0||d&&v&&r(v)?(t===null&&(t=new hN(n)),h=c?t.fromEquirectangular(o):t.fromCubemap(o),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),o.addEventListener("dispose",s),h.texture):null}}}return o}function r(o){let l=0;const c=6;for(let d=0;d<c;d++)o[d]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function w1e(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&eT("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function R1e(n,e,t,i){const r={},s=new WeakMap;function a(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const b in m.attributes)e.remove(m.attributes[b]);m.removeEventListener("dispose",a),delete r[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),i.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function o(h,m){return r[m.id]===!0||(m.addEventListener("dispose",a),r[m.id]=!0,t.memory.geometries++),m}function l(h){const m=h.attributes;for(const v in m)e.update(m[v],n.ARRAY_BUFFER)}function c(h){const m=[],v=h.index,b=h.attributes.position;let A=0;if(v!==null){const T=v.array;A=v.version;for(let C=0,M=T.length;C<M;C+=3){const O=T[C+0],R=T[C+1],B=T[C+2];m.push(O,R,R,B,B,O)}}else if(b!==void 0){const T=b.array;A=b.version;for(let C=0,M=T.length/3-1;C<M;C+=3){const O=C+0,R=C+1,B=C+2;m.push(O,R,R,B,B,O)}}else return;const _=new(CX(m)?x3:_3)(m,1);_.version=A;const x=s.get(h);x&&e.remove(x),s.set(h,_)}function d(h){const m=s.get(h);if(m){const v=h.index;v!==null&&m.version<v.version&&c(h)}else c(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:d}}function D1e(n,e,t){let i;function r(m){i=m}let s,a;function o(m){s=m.type,a=m.bytesPerElement}function l(m,v){n.drawElements(i,v,s,m*a),t.update(v,i,1)}function c(m,v,b){b!==0&&(n.drawElementsInstanced(i,v,s,m*a,b),t.update(v,i,b))}function d(m,v,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,m,0,b);let _=0;for(let x=0;x<b;x++)_+=v[x];t.update(_,i,1)}function h(m,v,b,A){if(b===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<m.length;x++)c(m[x]/a,v[x],A[x]);else{_.multiDrawElementsInstancedWEBGL(i,v,0,s,m,0,A,0,b);let x=0;for(let T=0;T<b;T++)x+=v[T]*A[T];t.update(x,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function I1e(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function O1e(n,e,t){const i=new WeakMap,r=new Zn;function s(a,o,l){const c=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,h=d!==void 0?d.length:0;let m=i.get(o);if(m===void 0||m.count!==h){let I=function(){N.dispose(),i.delete(o),o.removeEventListener("dispose",I)};var v=I;m!==void 0&&m.texture.dispose();const b=o.morphAttributes.position!==void 0,A=o.morphAttributes.normal!==void 0,_=o.morphAttributes.color!==void 0,x=o.morphAttributes.position||[],T=o.morphAttributes.normal||[],C=o.morphAttributes.color||[];let M=0;b===!0&&(M=1),A===!0&&(M=2),_===!0&&(M=3);let O=o.attributes.position.count*M,R=1;O>e.maxTextureSize&&(R=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const B=new Float32Array(O*R*4*h),N=new cA(B,O,R,h);N.type=ro,N.needsUpdate=!0;const P=M*4;for(let F=0;F<h;F++){const U=x[F],j=T[F],q=C[F],Z=O*R*4*F;for(let H=0;H<U.count;H++){const Y=H*P;b===!0&&(r.fromBufferAttribute(U,H),B[Z+Y+0]=r.x,B[Z+Y+1]=r.y,B[Z+Y+2]=r.z,B[Z+Y+3]=0),A===!0&&(r.fromBufferAttribute(j,H),B[Z+Y+4]=r.x,B[Z+Y+5]=r.y,B[Z+Y+6]=r.z,B[Z+Y+7]=0),_===!0&&(r.fromBufferAttribute(q,H),B[Z+Y+8]=r.x,B[Z+Y+9]=r.y,B[Z+Y+10]=r.z,B[Z+Y+11]=q.itemSize===4?r.w:1)}}m={count:h,texture:N,size:new rt(O,R)},i.set(o,m),o.addEventListener("dispose",I)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let b=0;for(let _=0;_<c.length;_++)b+=c[_];const A=o.morphTargetsRelative?1:1-b;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:s}}function P1e(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;r.get(m)!==c&&(m.update(),r.set(m,c))}return h}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const Cq=new ir,fG=new _R(1,1),Tq=new cA,Mq=new fR,wq=new uA,hG=[],pG=[],mG=new Float32Array(16),gG=new Float32Array(9),yG=new Float32Array(4);function K0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=hG[r];if(s===void 0&&(s=new Float32Array(r),hG[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function us(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ds(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function BR(n,e){let t=pG[e];t===void 0&&(t=new Int32Array(e),pG[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function N1e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function B1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2fv(this.addr,e),ds(t,e)}}function L1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(us(t,e))return;n.uniform3fv(this.addr,e),ds(t,e)}}function U1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4fv(this.addr,e),ds(t,e)}}function k1e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ds(t,e)}else{if(us(t,i))return;yG.set(i),n.uniformMatrix2fv(this.addr,!1,yG),ds(t,i)}}function F1e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ds(t,e)}else{if(us(t,i))return;gG.set(i),n.uniformMatrix3fv(this.addr,!1,gG),ds(t,i)}}function H1e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(us(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ds(t,e)}else{if(us(t,i))return;mG.set(i),n.uniformMatrix4fv(this.addr,!1,mG),ds(t,i)}}function z1e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function G1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2iv(this.addr,e),ds(t,e)}}function V1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(us(t,e))return;n.uniform3iv(this.addr,e),ds(t,e)}}function j1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4iv(this.addr,e),ds(t,e)}}function W1e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Y1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(us(t,e))return;n.uniform2uiv(this.addr,e),ds(t,e)}}function X1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(us(t,e))return;n.uniform3uiv(this.addr,e),ds(t,e)}}function q1e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(us(t,e))return;n.uniform4uiv(this.addr,e),ds(t,e)}}function $1e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(fG.compareFunction=v3,s=fG):s=Cq,t.setTexture2D(e||s,r)}function K1e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Mq,r)}function J1e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||wq,r)}function Q1e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Tq,r)}function Z1e(n){switch(n){case 5126:return N1e;case 35664:return B1e;case 35665:return L1e;case 35666:return U1e;case 35674:return k1e;case 35675:return F1e;case 35676:return H1e;case 5124:case 35670:return z1e;case 35667:case 35671:return G1e;case 35668:case 35672:return V1e;case 35669:case 35673:return j1e;case 5125:return W1e;case 36294:return Y1e;case 36295:return X1e;case 36296:return q1e;case 35678:case 36198:case 36298:case 36306:case 35682:return $1e;case 35679:case 36299:case 36307:return K1e;case 35680:case 36300:case 36308:case 36293:return J1e;case 36289:case 36303:case 36311:case 36292:return Q1e}}function eTe(n,e){n.uniform1fv(this.addr,e)}function tTe(n,e){const t=K0(e,this.size,2);n.uniform2fv(this.addr,t)}function nTe(n,e){const t=K0(e,this.size,3);n.uniform3fv(this.addr,t)}function iTe(n,e){const t=K0(e,this.size,4);n.uniform4fv(this.addr,t)}function rTe(n,e){const t=K0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function sTe(n,e){const t=K0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function aTe(n,e){const t=K0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function oTe(n,e){n.uniform1iv(this.addr,e)}function lTe(n,e){n.uniform2iv(this.addr,e)}function cTe(n,e){n.uniform3iv(this.addr,e)}function uTe(n,e){n.uniform4iv(this.addr,e)}function dTe(n,e){n.uniform1uiv(this.addr,e)}function fTe(n,e){n.uniform2uiv(this.addr,e)}function hTe(n,e){n.uniform3uiv(this.addr,e)}function pTe(n,e){n.uniform4uiv(this.addr,e)}function mTe(n,e,t){const i=this.cache,r=e.length,s=BR(t,r);us(i,s)||(n.uniform1iv(this.addr,s),ds(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||Cq,s[a])}function gTe(n,e,t){const i=this.cache,r=e.length,s=BR(t,r);us(i,s)||(n.uniform1iv(this.addr,s),ds(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||Mq,s[a])}function yTe(n,e,t){const i=this.cache,r=e.length,s=BR(t,r);us(i,s)||(n.uniform1iv(this.addr,s),ds(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||wq,s[a])}function vTe(n,e,t){const i=this.cache,r=e.length,s=BR(t,r);us(i,s)||(n.uniform1iv(this.addr,s),ds(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||Tq,s[a])}function bTe(n){switch(n){case 5126:return eTe;case 35664:return tTe;case 35665:return nTe;case 35666:return iTe;case 35674:return rTe;case 35675:return sTe;case 35676:return aTe;case 5124:case 35670:return oTe;case 35667:case 35671:return lTe;case 35668:case 35672:return cTe;case 35669:case 35673:return uTe;case 5125:return dTe;case 36294:return fTe;case 36295:return hTe;case 36296:return pTe;case 35678:case 36198:case 36298:case 36306:case 35682:return mTe;case 35679:case 36299:case 36307:return gTe;case 35680:case 36300:case 36308:case 36293:return yTe;case 36289:case 36303:case 36311:case 36292:return vTe}}class _Te{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Z1e(t.type)}}class xTe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=bTe(t.type)}}class STe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const P2=/(\w+)(\])?(\[|\.)?/g;function vG(n,e){n.seq.push(e),n.map[e.id]=e}function ATe(n,e,t){const i=n.name,r=i.length;for(P2.lastIndex=0;;){const s=P2.exec(i),a=P2.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){vG(t,c===void 0?new _Te(o,n,e):new xTe(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new STe(o),vG(t,h)),t=h}}}class nT{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);ATe(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function bG(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const ETe=37297;let CTe=0;function TTe(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const _G=new xn;function MTe(n){Xn._getMatrix(_G,Xn.workingColorSpace,n);const e=`mat3( ${_G.elements.map(t=>t.toFixed(4))} )`;switch(Xn.getTransfer(n)){case gS:return[e,"LinearTransferOETF"];case Ti:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function xG(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+TTe(n.getShaderSource(e),a)}else return r}function wTe(n,e){const t=MTe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function RTe(n,e){let t;switch(e){case iX:t="Linear";break;case rX:t="Reinhard";break;case sX:t="Cineon";break;case l3:t="ACESFilmic";break;case oX:t="AgX";break;case lX:t="Neutral";break;case aX:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const h1=new le;function DTe(){Xn.getLuminanceCoefficients(h1);const n=h1.x.toFixed(4),e=h1.y.toFixed(4),t=h1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ITe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(tx).join(`
`)}function OTe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function PTe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function tx(n){return n!==""}function SG(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function AG(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const NTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function pN(n){return n.replace(NTe,LTe)}const BTe=new Map;function LTe(n,e){let t=Cn[e];if(t===void 0){const i=BTe.get(e);if(i!==void 0)t=Cn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return pN(t)}const UTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EG(n){return n.replace(UTe,kTe)}function kTe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function CG(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function FTe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===tR?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Cx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===pc&&(e="SHADOWMAP_TYPE_VSM"),e}function HTe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Vd:case Fh:e="ENVMAP_TYPE_CUBE";break;case W0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function zTe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fh:e="ENVMAP_MODE_REFRACTION";break}return e}function GTe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case oA:e="ENVMAP_BLENDING_MULTIPLY";break;case tX:e="ENVMAP_BLENDING_MIX";break;case nX:e="ENVMAP_BLENDING_ADD";break}return e}function VTe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function jTe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=FTe(t),c=HTe(t),d=zTe(t),h=GTe(t),m=VTe(t),v=ITe(t),b=OTe(s),A=r.createProgram();let _,x,T=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(tx).join(`
`),_.length>0&&(_+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(tx).join(`
`),x.length>0&&(x+=`
`)):(_=[CG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(tx).join(`
`),x=[CG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mu?"#define TONE_MAPPING":"",t.toneMapping!==Mu?Cn.tonemapping_pars_fragment:"",t.toneMapping!==Mu?RTe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Cn.colorspace_pars_fragment,wTe("linearToOutputTexel",t.outputColorSpace),DTe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(tx).join(`
`)),a=pN(a),a=SG(a,t),a=AG(a,t),o=pN(o),o=SG(o,t),o=AG(o,t),a=EG(a),o=EG(o),t.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,_=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",t.glslVersion===sN?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===sN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const C=T+_+a,M=T+x+o,O=bG(r,r.VERTEX_SHADER,C),R=bG(r,r.FRAGMENT_SHADER,M);r.attachShader(A,O),r.attachShader(A,R),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function B(F){if(n.debug.checkShaderErrors){const U=r.getProgramInfoLog(A).trim(),j=r.getShaderInfoLog(O).trim(),q=r.getShaderInfoLog(R).trim();let Z=!0,H=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(Z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,O,R);else{const Y=xG(r,O,"vertex"),X=xG(r,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+U+`
`+Y+`
`+X)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(j===""||q==="")&&(H=!1);H&&(F.diagnostics={runnable:Z,programLog:U,vertexShader:{log:j,prefix:_},fragmentShader:{log:q,prefix:x}})}r.deleteShader(O),r.deleteShader(R),N=new nT(r,A),P=PTe(r,A)}let N;this.getUniforms=function(){return N===void 0&&B(this),N};let P;this.getAttributes=function(){return P===void 0&&B(this),P};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=r.getProgramParameter(A,ETe)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=CTe++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=O,this.fragmentShader=R,this}let WTe=0;class YTe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new XTe(e),t.set(e,i)),i}}class XTe{constructor(e){this.id=WTe++,this.code=e,this.usedTimes=0}}function qTe(n,e,t,i,r,s,a){const o=new c0,l=new YTe,c=new Set,d=[],h=r.logarithmicDepthBuffer,m=r.vertexTextures;let v=r.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(P){return c.add(P),P===0?"uv":`uv${P}`}function _(P,I,F,U,j){const q=U.fog,Z=j.geometry,H=P.isMeshStandardMaterial?U.environment:null,Y=(P.isMeshStandardMaterial?t:e).get(P.envMap||H),X=Y&&Y.mapping===W0?Y.image.height:null,ne=b[P.type];P.precision!==null&&(v=r.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const K=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,ae=K!==void 0?K.length:0;let ye=0;Z.morphAttributes.position!==void 0&&(ye=1),Z.morphAttributes.normal!==void 0&&(ye=2),Z.morphAttributes.color!==void 0&&(ye=3);let Se,de,xe,pe;if(ne){const Qt=gc[ne];Se=Qt.vertexShader,de=Qt.fragmentShader}else Se=P.vertexShader,de=P.fragmentShader,l.update(P),xe=l.getVertexShaderID(P),pe=l.getFragmentShaderID(P);const He=n.getRenderTarget(),ve=n.state.buffers.depth.getReversed(),V=j.isInstancedMesh===!0,ee=j.isBatchedMesh===!0,oe=!!P.map,ue=!!P.matcap,_e=!!Y,Q=!!P.aoMap,Oe=!!P.lightMap,we=!!P.bumpMap,ke=!!P.normalMap,Ce=!!P.displacementMap,ut=!!P.emissiveMap,De=!!P.metalnessMap,ie=!!P.roughnessMap,$=P.anisotropy>0,Ae=P.clearcoat>0,Le=P.dispersion>0,Qe=P.iridescence>0,ze=P.sheen>0,ft=P.transmission>0,ct=$&&!!P.anisotropyMap,Et=Ae&&!!P.clearcoatMap,Ct=Ae&&!!P.clearcoatNormalMap,je=Ae&&!!P.clearcoatRoughnessMap,ht=Qe&&!!P.iridescenceMap,Dt=Qe&&!!P.iridescenceThicknessMap,wt=ze&&!!P.sheenColorMap,yt=ze&&!!P.sheenRoughnessMap,ge=!!P.specularMap,Xe=!!P.specularColorMap,gt=!!P.specularIntensityMap,ce=ft&&!!P.transmissionMap,et=ft&&!!P.thicknessMap,Pe=!!P.gradientMap,$e=!!P.alphaMap,vt=P.alphaTest>0,mt=!!P.alphaHash,Ut=!!P.extensions;let tn=Mu;P.toneMapped&&(He===null||He.isXRRenderTarget===!0)&&(tn=n.toneMapping);const Hn={shaderID:ne,shaderType:P.type,shaderName:P.name,vertexShader:Se,fragmentShader:de,defines:P.defines,customVertexShaderID:xe,customFragmentShaderID:pe,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,batching:ee,batchingColor:ee&&j._colorsTexture!==null,instancing:V,instancingColor:V&&j.instanceColor!==null,instancingMorph:V&&j.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:He===null?n.outputColorSpace:He.isXRRenderTarget===!0?He.texture.colorSpace:zh,alphaToCoverage:!!P.alphaToCoverage,map:oe,matcap:ue,envMap:_e,envMapMode:_e&&Y.mapping,envMapCubeUVHeight:X,aoMap:Q,lightMap:Oe,bumpMap:we,normalMap:ke,displacementMap:m&&Ce,emissiveMap:ut,normalMapObjectSpace:ke&&P.normalMapType===gX,normalMapTangentSpace:ke&&P.normalMapType===$h,metalnessMap:De,roughnessMap:ie,anisotropy:$,anisotropyMap:ct,clearcoat:Ae,clearcoatMap:Et,clearcoatNormalMap:Ct,clearcoatRoughnessMap:je,dispersion:Le,iridescence:Qe,iridescenceMap:ht,iridescenceThicknessMap:Dt,sheen:ze,sheenColorMap:wt,sheenRoughnessMap:yt,specularMap:ge,specularColorMap:Xe,specularIntensityMap:gt,transmission:ft,transmissionMap:ce,thicknessMap:et,gradientMap:Pe,opaque:P.transparent===!1&&P.blending===Gm&&P.alphaToCoverage===!1,alphaMap:$e,alphaTest:vt,alphaHash:mt,combine:P.combine,mapUv:oe&&A(P.map.channel),aoMapUv:Q&&A(P.aoMap.channel),lightMapUv:Oe&&A(P.lightMap.channel),bumpMapUv:we&&A(P.bumpMap.channel),normalMapUv:ke&&A(P.normalMap.channel),displacementMapUv:Ce&&A(P.displacementMap.channel),emissiveMapUv:ut&&A(P.emissiveMap.channel),metalnessMapUv:De&&A(P.metalnessMap.channel),roughnessMapUv:ie&&A(P.roughnessMap.channel),anisotropyMapUv:ct&&A(P.anisotropyMap.channel),clearcoatMapUv:Et&&A(P.clearcoatMap.channel),clearcoatNormalMapUv:Ct&&A(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:je&&A(P.clearcoatRoughnessMap.channel),iridescenceMapUv:ht&&A(P.iridescenceMap.channel),iridescenceThicknessMapUv:Dt&&A(P.iridescenceThicknessMap.channel),sheenColorMapUv:wt&&A(P.sheenColorMap.channel),sheenRoughnessMapUv:yt&&A(P.sheenRoughnessMap.channel),specularMapUv:ge&&A(P.specularMap.channel),specularColorMapUv:Xe&&A(P.specularColorMap.channel),specularIntensityMapUv:gt&&A(P.specularIntensityMap.channel),transmissionMapUv:ce&&A(P.transmissionMap.channel),thicknessMapUv:et&&A(P.thicknessMap.channel),alphaMapUv:$e&&A(P.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(ke||$),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!Z.attributes.uv&&(oe||$e),fog:!!q,useFog:P.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:ve,skinning:j.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:ye,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:tn,decodeVideoTexture:oe&&P.map.isVideoTexture===!0&&Xn.getTransfer(P.map.colorSpace)===Ti,decodeVideoTextureEmissive:ut&&P.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(P.emissiveMap.colorSpace)===Ti,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===bc,flipSided:P.side===Ba,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Ut&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ut&&P.extensions.multiDraw===!0||ee)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Hn.vertexUv1s=c.has(1),Hn.vertexUv2s=c.has(2),Hn.vertexUv3s=c.has(3),c.clear(),Hn}function x(P){const I=[];if(P.shaderID?I.push(P.shaderID):(I.push(P.customVertexShaderID),I.push(P.customFragmentShaderID)),P.defines!==void 0)for(const F in P.defines)I.push(F),I.push(P.defines[F]);return P.isRawShaderMaterial===!1&&(T(I,P),C(I,P),I.push(n.outputColorSpace)),I.push(P.customProgramCacheKey),I.join()}function T(P,I){P.push(I.precision),P.push(I.outputColorSpace),P.push(I.envMapMode),P.push(I.envMapCubeUVHeight),P.push(I.mapUv),P.push(I.alphaMapUv),P.push(I.lightMapUv),P.push(I.aoMapUv),P.push(I.bumpMapUv),P.push(I.normalMapUv),P.push(I.displacementMapUv),P.push(I.emissiveMapUv),P.push(I.metalnessMapUv),P.push(I.roughnessMapUv),P.push(I.anisotropyMapUv),P.push(I.clearcoatMapUv),P.push(I.clearcoatNormalMapUv),P.push(I.clearcoatRoughnessMapUv),P.push(I.iridescenceMapUv),P.push(I.iridescenceThicknessMapUv),P.push(I.sheenColorMapUv),P.push(I.sheenRoughnessMapUv),P.push(I.specularMapUv),P.push(I.specularColorMapUv),P.push(I.specularIntensityMapUv),P.push(I.transmissionMapUv),P.push(I.thicknessMapUv),P.push(I.combine),P.push(I.fogExp2),P.push(I.sizeAttenuation),P.push(I.morphTargetsCount),P.push(I.morphAttributeCount),P.push(I.numDirLights),P.push(I.numPointLights),P.push(I.numSpotLights),P.push(I.numSpotLightMaps),P.push(I.numHemiLights),P.push(I.numRectAreaLights),P.push(I.numDirLightShadows),P.push(I.numPointLightShadows),P.push(I.numSpotLightShadows),P.push(I.numSpotLightShadowsWithMaps),P.push(I.numLightProbes),P.push(I.shadowMapType),P.push(I.toneMapping),P.push(I.numClippingPlanes),P.push(I.numClipIntersection),P.push(I.depthPacking)}function C(P,I){o.disableAll(),I.supportsVertexTextures&&o.enable(0),I.instancing&&o.enable(1),I.instancingColor&&o.enable(2),I.instancingMorph&&o.enable(3),I.matcap&&o.enable(4),I.envMap&&o.enable(5),I.normalMapObjectSpace&&o.enable(6),I.normalMapTangentSpace&&o.enable(7),I.clearcoat&&o.enable(8),I.iridescence&&o.enable(9),I.alphaTest&&o.enable(10),I.vertexColors&&o.enable(11),I.vertexAlphas&&o.enable(12),I.vertexUv1s&&o.enable(13),I.vertexUv2s&&o.enable(14),I.vertexUv3s&&o.enable(15),I.vertexTangents&&o.enable(16),I.anisotropy&&o.enable(17),I.alphaHash&&o.enable(18),I.batching&&o.enable(19),I.dispersion&&o.enable(20),I.batchingColor&&o.enable(21),P.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.reverseDepthBuffer&&o.enable(4),I.skinning&&o.enable(5),I.morphTargets&&o.enable(6),I.morphNormals&&o.enable(7),I.morphColors&&o.enable(8),I.premultipliedAlpha&&o.enable(9),I.shadowMapEnabled&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.transmission&&o.enable(15),I.sheen&&o.enable(16),I.opaque&&o.enable(17),I.pointsUvs&&o.enable(18),I.decodeVideoTexture&&o.enable(19),I.decodeVideoTextureEmissive&&o.enable(20),I.alphaToCoverage&&o.enable(21),P.push(o.mask)}function M(P){const I=b[P.type];let F;if(I){const U=gc[I];F=DX.clone(U.uniforms)}else F=P.uniforms;return F}function O(P,I){let F;for(let U=0,j=d.length;U<j;U++){const q=d[U];if(q.cacheKey===I){F=q,++F.usedTimes;break}}return F===void 0&&(F=new jTe(n,I,P,s),d.push(F)),F}function R(P){if(--P.usedTimes===0){const I=d.indexOf(P);d[I]=d[d.length-1],d.pop(),P.destroy()}}function B(P){l.remove(P)}function N(){l.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:M,acquireProgram:O,releaseProgram:R,releaseShaderCache:B,programs:d,dispose:N}}function $Te(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function KTe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function TG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function MG(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(h,m,v,b,A,_){let x=n[e];return x===void 0?(x={id:h.id,object:h,geometry:m,material:v,groupOrder:b,renderOrder:h.renderOrder,z:A,group:_},n[e]=x):(x.id=h.id,x.object=h,x.geometry=m,x.material=v,x.groupOrder=b,x.renderOrder=h.renderOrder,x.z=A,x.group=_),e++,x}function o(h,m,v,b,A,_){const x=a(h,m,v,b,A,_);v.transmission>0?i.push(x):v.transparent===!0?r.push(x):t.push(x)}function l(h,m,v,b,A,_){const x=a(h,m,v,b,A,_);v.transmission>0?i.unshift(x):v.transparent===!0?r.unshift(x):t.unshift(x)}function c(h,m){t.length>1&&t.sort(h||KTe),i.length>1&&i.sort(m||TG),r.length>1&&r.sort(m||TG)}function d(){for(let h=e,m=n.length;h<m;h++){const v=n[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:d,sort:c}}function JTe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new MG,n.set(i,[a])):r>=s.length?(a=new MG,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function QTe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new le,color:new Rt};break;case"SpotLight":t={position:new le,direction:new le,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new le,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new le,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":t={color:new Rt,position:new le,halfWidth:new le,halfHeight:new le};break}return n[e.id]=t,t}}}function ZTe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let eMe=0;function tMe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function nMe(n){const e=new QTe,t=ZTe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new le);const r=new le,s=new Yt,a=new Yt;function o(c){let d=0,h=0,m=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let v=0,b=0,A=0,_=0,x=0,T=0,C=0,M=0,O=0,R=0,B=0;c.sort(tMe);for(let P=0,I=c.length;P<I;P++){const F=c[P],U=F.color,j=F.intensity,q=F.distance,Z=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=U.r*j,h+=U.g*j,m+=U.b*j;else if(F.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(F.sh.coefficients[H],j);B++}else if(F.isDirectionalLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const Y=F.shadow,X=t.get(F);X.shadowIntensity=Y.intensity,X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,i.directionalShadow[v]=X,i.directionalShadowMap[v]=Z,i.directionalShadowMatrix[v]=F.shadow.matrix,T++}i.directional[v]=H,v++}else if(F.isSpotLight){const H=e.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(U).multiplyScalar(j),H.distance=q,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,i.spot[A]=H;const Y=F.shadow;if(F.map&&(i.spotLightMap[O]=F.map,O++,Y.updateMatrices(F),F.castShadow&&R++),i.spotLightMatrix[A]=Y.matrix,F.castShadow){const X=t.get(F);X.shadowIntensity=Y.intensity,X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,i.spotShadow[A]=X,i.spotShadowMap[A]=Z,M++}A++}else if(F.isRectAreaLight){const H=e.get(F);H.color.copy(U).multiplyScalar(j),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=H,_++}else if(F.isPointLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),H.distance=F.distance,H.decay=F.decay,F.castShadow){const Y=F.shadow,X=t.get(F);X.shadowIntensity=Y.intensity,X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,X.shadowCameraNear=Y.camera.near,X.shadowCameraFar=Y.camera.far,i.pointShadow[b]=X,i.pointShadowMap[b]=Z,i.pointShadowMatrix[b]=F.shadow.matrix,C++}i.point[b]=H,b++}else if(F.isHemisphereLight){const H=e.get(F);H.skyColor.copy(F.color).multiplyScalar(j),H.groundColor.copy(F.groundColor).multiplyScalar(j),i.hemi[x]=H,x++}}_>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=m;const N=i.hash;(N.directionalLength!==v||N.pointLength!==b||N.spotLength!==A||N.rectAreaLength!==_||N.hemiLength!==x||N.numDirectionalShadows!==T||N.numPointShadows!==C||N.numSpotShadows!==M||N.numSpotMaps!==O||N.numLightProbes!==B)&&(i.directional.length=v,i.spot.length=A,i.rectArea.length=_,i.point.length=b,i.hemi.length=x,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=M+O-R,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=R,i.numLightProbes=B,N.directionalLength=v,N.pointLength=b,N.spotLength=A,N.rectAreaLength=_,N.hemiLength=x,N.numDirectionalShadows=T,N.numPointShadows=C,N.numSpotShadows=M,N.numSpotMaps=O,N.numLightProbes=B,i.version=eMe++)}function l(c,d){let h=0,m=0,v=0,b=0,A=0;const _=d.matrixWorldInverse;for(let x=0,T=c.length;x<T;x++){const C=c[x];if(C.isDirectionalLight){const M=i.directional[h];M.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(_),h++}else if(C.isSpotLight){const M=i.spot[v];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),M.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(_),v++}else if(C.isRectAreaLight){const M=i.rectArea[b];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),a.identity(),s.copy(C.matrixWorld),s.premultiply(_),a.extractRotation(s),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),b++}else if(C.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(_),m++}else if(C.isHemisphereLight){const M=i.hemi[A];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(_),A++}}}return{setup:o,setupView:l,state:i}}function wG(n){const e=new nMe(n),t=[],i=[];function r(d){c.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function a(d){i.push(d)}function o(){e.setup(t)}function l(d){e.setupView(t,d)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function iMe(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new wG(n),e.set(r,[o])):s>=a.length?(o=new wG(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const rMe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sMe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function aMe(n,e,t){let i=new X0;const r=new rt,s=new rt,a=new Zn,o=new N3({depthPacking:mX}),l=new B3,c={},d=t.maxTextureSize,h={[Pu]:Ba,[Ba]:Pu,[bc]:bc},m=new Mc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:rMe,fragmentShader:sMe}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const b=new bn;b.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Lr(b,m),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tR;let x=this.type;this.render=function(R,B,N){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||R.length===0)return;const P=n.getRenderTarget(),I=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),U=n.state;U.setBlending(wd),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const j=x!==pc&&this.type===pc,q=x===pc&&this.type!==pc;for(let Z=0,H=R.length;Z<H;Z++){const Y=R[Z],X=Y.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;r.copy(X.mapSize);const ne=X.getFrameExtents();if(r.multiply(ne),s.copy(X.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/ne.x),r.x=s.x*ne.x,X.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/ne.y),r.y=s.y*ne.y,X.mapSize.y=s.y)),X.map===null||j===!0||q===!0){const ae=this.type!==pc?{minFilter:Es,magFilter:Es}:{};X.map!==null&&X.map.dispose(),X.map=new Nu(r.x,r.y,ae),X.map.texture.name=Y.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const K=X.getViewportCount();for(let ae=0;ae<K;ae++){const ye=X.getViewport(ae);a.set(s.x*ye.x,s.y*ye.y,s.x*ye.z,s.y*ye.w),U.viewport(a),X.updateMatrices(Y,ae),i=X.getFrustum(),M(B,N,X.camera,Y,this.type)}X.isPointLightShadow!==!0&&this.type===pc&&T(X,N),X.needsUpdate=!1}x=this.type,_.needsUpdate=!1,n.setRenderTarget(P,I,F)};function T(R,B){const N=e.update(A);m.defines.VSM_SAMPLES!==R.blurSamples&&(m.defines.VSM_SAMPLES=R.blurSamples,v.defines.VSM_SAMPLES=R.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Nu(r.x,r.y)),m.uniforms.shadow_pass.value=R.map.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(B,null,N,m,A,null),v.uniforms.shadow_pass.value=R.mapPass.texture,v.uniforms.resolution.value=R.mapSize,v.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(B,null,N,v,A,null)}function C(R,B,N,P){let I=null;const F=N.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(F!==void 0)I=F;else if(I=N.isPointLight===!0?l:o,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const U=I.uuid,j=B.uuid;let q=c[U];q===void 0&&(q={},c[U]=q);let Z=q[j];Z===void 0&&(Z=I.clone(),q[j]=Z,B.addEventListener("dispose",O)),I=Z}if(I.visible=B.visible,I.wireframe=B.wireframe,P===pc?I.side=B.shadowSide!==null?B.shadowSide:B.side:I.side=B.shadowSide!==null?B.shadowSide:h[B.side],I.alphaMap=B.alphaMap,I.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,I.map=B.map,I.clipShadows=B.clipShadows,I.clippingPlanes=B.clippingPlanes,I.clipIntersection=B.clipIntersection,I.displacementMap=B.displacementMap,I.displacementScale=B.displacementScale,I.displacementBias=B.displacementBias,I.wireframeLinewidth=B.wireframeLinewidth,I.linewidth=B.linewidth,N.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const U=n.properties.get(I);U.light=N}return I}function M(R,B,N,P,I){if(R.visible===!1)return;if(R.layers.test(B.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===pc)&&(!R.frustumCulled||i.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,R.matrixWorld);const j=e.update(R),q=R.material;if(Array.isArray(q)){const Z=j.groups;for(let H=0,Y=Z.length;H<Y;H++){const X=Z[H],ne=q[X.materialIndex];if(ne&&ne.visible){const K=C(R,ne,P,I);R.onBeforeShadow(n,R,B,N,j,K,X),n.renderBufferDirect(N,null,j,K,R,X),R.onAfterShadow(n,R,B,N,j,K,X)}}}else if(q.visible){const Z=C(R,q,P,I);R.onBeforeShadow(n,R,B,N,j,Z,null),n.renderBufferDirect(N,null,j,Z,R,null),R.onAfterShadow(n,R,B,N,j,Z,null)}}const U=R.children;for(let j=0,q=U.length;j<q;j++)M(U[j],B,N,P,I)}function O(R){R.target.removeEventListener("dispose",O);for(const N in c){const P=c[N],I=R.target.uuid;I in P&&(P[I].dispose(),delete P[I])}}}const oMe={[$T]:KT,[JT]:eM,[QT]:tM,[ng]:ZT,[KT]:$T,[eM]:JT,[tM]:QT,[ZT]:ng};function lMe(n,e){function t(){let ce=!1;const et=new Zn;let Pe=null;const $e=new Zn(0,0,0,0);return{setMask:function(vt){Pe!==vt&&!ce&&(n.colorMask(vt,vt,vt,vt),Pe=vt)},setLocked:function(vt){ce=vt},setClear:function(vt,mt,Ut,tn,Hn){Hn===!0&&(vt*=tn,mt*=tn,Ut*=tn),et.set(vt,mt,Ut,tn),$e.equals(et)===!1&&(n.clearColor(vt,mt,Ut,tn),$e.copy(et))},reset:function(){ce=!1,Pe=null,$e.set(-1,0,0,0)}}}function i(){let ce=!1,et=!1,Pe=null,$e=null,vt=null;return{setReversed:function(mt){if(et!==mt){const Ut=e.get("EXT_clip_control");mt?Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.ZERO_TO_ONE_EXT):Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.NEGATIVE_ONE_TO_ONE_EXT),et=mt;const tn=vt;vt=null,this.setClear(tn)}},getReversed:function(){return et},setTest:function(mt){mt?He(n.DEPTH_TEST):ve(n.DEPTH_TEST)},setMask:function(mt){Pe!==mt&&!ce&&(n.depthMask(mt),Pe=mt)},setFunc:function(mt){if(et&&(mt=oMe[mt]),$e!==mt){switch(mt){case $T:n.depthFunc(n.NEVER);break;case KT:n.depthFunc(n.ALWAYS);break;case JT:n.depthFunc(n.LESS);break;case ng:n.depthFunc(n.LEQUAL);break;case QT:n.depthFunc(n.EQUAL);break;case ZT:n.depthFunc(n.GEQUAL);break;case eM:n.depthFunc(n.GREATER);break;case tM:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}$e=mt}},setLocked:function(mt){ce=mt},setClear:function(mt){vt!==mt&&(et&&(mt=1-mt),n.clearDepth(mt),vt=mt)},reset:function(){ce=!1,Pe=null,$e=null,vt=null,et=!1}}}function r(){let ce=!1,et=null,Pe=null,$e=null,vt=null,mt=null,Ut=null,tn=null,Hn=null;return{setTest:function(Qt){ce||(Qt?He(n.STENCIL_TEST):ve(n.STENCIL_TEST))},setMask:function(Qt){et!==Qt&&!ce&&(n.stencilMask(Qt),et=Qt)},setFunc:function(Qt,Bi,pi){(Pe!==Qt||$e!==Bi||vt!==pi)&&(n.stencilFunc(Qt,Bi,pi),Pe=Qt,$e=Bi,vt=pi)},setOp:function(Qt,Bi,pi){(mt!==Qt||Ut!==Bi||tn!==pi)&&(n.stencilOp(Qt,Bi,pi),mt=Qt,Ut=Bi,tn=pi)},setLocked:function(Qt){ce=Qt},setClear:function(Qt){Hn!==Qt&&(n.clearStencil(Qt),Hn=Qt)},reset:function(){ce=!1,et=null,Pe=null,$e=null,vt=null,mt=null,Ut=null,tn=null,Hn=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,c=new WeakMap;let d={},h={},m=new WeakMap,v=[],b=null,A=!1,_=null,x=null,T=null,C=null,M=null,O=null,R=null,B=new Rt(0,0,0),N=0,P=!1,I=null,F=null,U=null,j=null,q=null;const Z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Y=0;const X=n.getParameter(n.VERSION);X.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(X)[1]),H=Y>=1):X.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),H=Y>=2);let ne=null,K={};const ae=n.getParameter(n.SCISSOR_BOX),ye=n.getParameter(n.VIEWPORT),Se=new Zn().fromArray(ae),de=new Zn().fromArray(ye);function xe(ce,et,Pe,$e){const vt=new Uint8Array(4),mt=n.createTexture();n.bindTexture(ce,mt),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<Pe;Ut++)ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?n.texImage3D(et,0,n.RGBA,1,1,$e,0,n.RGBA,n.UNSIGNED_BYTE,vt):n.texImage2D(et+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,vt);return mt}const pe={};pe[n.TEXTURE_2D]=xe(n.TEXTURE_2D,n.TEXTURE_2D,1),pe[n.TEXTURE_CUBE_MAP]=xe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[n.TEXTURE_2D_ARRAY]=xe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),pe[n.TEXTURE_3D]=xe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),He(n.DEPTH_TEST),a.setFunc(ng),we(!1),ke(ZP),He(n.CULL_FACE),Q(wd);function He(ce){d[ce]!==!0&&(n.enable(ce),d[ce]=!0)}function ve(ce){d[ce]!==!1&&(n.disable(ce),d[ce]=!1)}function V(ce,et){return h[ce]!==et?(n.bindFramebuffer(ce,et),h[ce]=et,ce===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=et),ce===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=et),!0):!1}function ee(ce,et){let Pe=v,$e=!1;if(ce){Pe=m.get(et),Pe===void 0&&(Pe=[],m.set(et,Pe));const vt=ce.textures;if(Pe.length!==vt.length||Pe[0]!==n.COLOR_ATTACHMENT0){for(let mt=0,Ut=vt.length;mt<Ut;mt++)Pe[mt]=n.COLOR_ATTACHMENT0+mt;Pe.length=vt.length,$e=!0}}else Pe[0]!==n.BACK&&(Pe[0]=n.BACK,$e=!0);$e&&n.drawBuffers(Pe)}function oe(ce){return b!==ce?(n.useProgram(ce),b=ce,!0):!1}const ue={[gh]:n.FUNC_ADD,[kY]:n.FUNC_SUBTRACT,[FY]:n.FUNC_REVERSE_SUBTRACT};ue[HY]=n.MIN,ue[zY]=n.MAX;const _e={[GY]:n.ZERO,[VY]:n.ONE,[jY]:n.SRC_COLOR,[XT]:n.SRC_ALPHA,[KY]:n.SRC_ALPHA_SATURATE,[qY]:n.DST_COLOR,[YY]:n.DST_ALPHA,[WY]:n.ONE_MINUS_SRC_COLOR,[qT]:n.ONE_MINUS_SRC_ALPHA,[$Y]:n.ONE_MINUS_DST_COLOR,[XY]:n.ONE_MINUS_DST_ALPHA,[JY]:n.CONSTANT_COLOR,[QY]:n.ONE_MINUS_CONSTANT_COLOR,[ZY]:n.CONSTANT_ALPHA,[eX]:n.ONE_MINUS_CONSTANT_ALPHA};function Q(ce,et,Pe,$e,vt,mt,Ut,tn,Hn,Qt){if(ce===wd){A===!0&&(ve(n.BLEND),A=!1);return}if(A===!1&&(He(n.BLEND),A=!0),ce!==UY){if(ce!==_||Qt!==P){if((x!==gh||M!==gh)&&(n.blendEquation(n.FUNC_ADD),x=gh,M=gh),Qt)switch(ce){case Gm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case eN:n.blendFunc(n.ONE,n.ONE);break;case tN:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case nN:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case Gm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case eN:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case tN:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case nN:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}T=null,C=null,O=null,R=null,B.set(0,0,0),N=0,_=ce,P=Qt}return}vt=vt||et,mt=mt||Pe,Ut=Ut||$e,(et!==x||vt!==M)&&(n.blendEquationSeparate(ue[et],ue[vt]),x=et,M=vt),(Pe!==T||$e!==C||mt!==O||Ut!==R)&&(n.blendFuncSeparate(_e[Pe],_e[$e],_e[mt],_e[Ut]),T=Pe,C=$e,O=mt,R=Ut),(tn.equals(B)===!1||Hn!==N)&&(n.blendColor(tn.r,tn.g,tn.b,Hn),B.copy(tn),N=Hn),_=ce,P=!1}function Oe(ce,et){ce.side===bc?ve(n.CULL_FACE):He(n.CULL_FACE);let Pe=ce.side===Ba;et&&(Pe=!Pe),we(Pe),ce.blending===Gm&&ce.transparent===!1?Q(wd):Q(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),a.setFunc(ce.depthFunc),a.setTest(ce.depthTest),a.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const $e=ce.stencilWrite;o.setTest($e),$e&&(o.setMask(ce.stencilWriteMask),o.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),o.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),ut(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?He(n.SAMPLE_ALPHA_TO_COVERAGE):ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function we(ce){I!==ce&&(ce?n.frontFace(n.CW):n.frontFace(n.CCW),I=ce)}function ke(ce){ce!==NY?(He(n.CULL_FACE),ce!==F&&(ce===ZP?n.cullFace(n.BACK):ce===BY?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ve(n.CULL_FACE),F=ce}function Ce(ce){ce!==U&&(H&&n.lineWidth(ce),U=ce)}function ut(ce,et,Pe){ce?(He(n.POLYGON_OFFSET_FILL),(j!==et||q!==Pe)&&(n.polygonOffset(et,Pe),j=et,q=Pe)):ve(n.POLYGON_OFFSET_FILL)}function De(ce){ce?He(n.SCISSOR_TEST):ve(n.SCISSOR_TEST)}function ie(ce){ce===void 0&&(ce=n.TEXTURE0+Z-1),ne!==ce&&(n.activeTexture(ce),ne=ce)}function $(ce,et,Pe){Pe===void 0&&(ne===null?Pe=n.TEXTURE0+Z-1:Pe=ne);let $e=K[Pe];$e===void 0&&($e={type:void 0,texture:void 0},K[Pe]=$e),($e.type!==ce||$e.texture!==et)&&(ne!==Pe&&(n.activeTexture(Pe),ne=Pe),n.bindTexture(ce,et||pe[ce]),$e.type=ce,$e.texture=et)}function Ae(){const ce=K[ne];ce!==void 0&&ce.type!==void 0&&(n.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Le(){try{n.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Qe(){try{n.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ze(){try{n.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ft(){try{n.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ct(){try{n.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Et(){try{n.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ct(){try{n.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function je(){try{n.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ht(){try{n.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Dt(){try{n.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function wt(ce){Se.equals(ce)===!1&&(n.scissor(ce.x,ce.y,ce.z,ce.w),Se.copy(ce))}function yt(ce){de.equals(ce)===!1&&(n.viewport(ce.x,ce.y,ce.z,ce.w),de.copy(ce))}function ge(ce,et){let Pe=c.get(et);Pe===void 0&&(Pe=new WeakMap,c.set(et,Pe));let $e=Pe.get(ce);$e===void 0&&($e=n.getUniformBlockIndex(et,ce.name),Pe.set(ce,$e))}function Xe(ce,et){const $e=c.get(et).get(ce);l.get(et)!==$e&&(n.uniformBlockBinding(et,$e,ce.__bindingPointIndex),l.set(et,$e))}function gt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},ne=null,K={},h={},m=new WeakMap,v=[],b=null,A=!1,_=null,x=null,T=null,C=null,M=null,O=null,R=null,B=new Rt(0,0,0),N=0,P=!1,I=null,F=null,U=null,j=null,q=null,Se.set(0,0,n.canvas.width,n.canvas.height),de.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:He,disable:ve,bindFramebuffer:V,drawBuffers:ee,useProgram:oe,setBlending:Q,setMaterial:Oe,setFlipSided:we,setCullFace:ke,setLineWidth:Ce,setPolygonOffset:ut,setScissorTest:De,activeTexture:ie,bindTexture:$,unbindTexture:Ae,compressedTexImage2D:Le,compressedTexImage3D:Qe,texImage2D:ht,texImage3D:Dt,updateUBOMapping:ge,uniformBlockBinding:Xe,texStorage2D:Ct,texStorage3D:je,texSubImage2D:ze,texSubImage3D:ft,compressedTexSubImage2D:ct,compressedTexSubImage3D:Et,scissor:wt,viewport:yt,reset:gt}}function cMe(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new rt,d=new WeakMap;let h;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(ie,$){return v?new OffscreenCanvas(ie,$):bS("canvas")}function A(ie,$,Ae){let Le=1;const Qe=De(ie);if((Qe.width>Ae||Qe.height>Ae)&&(Le=Ae/Math.max(Qe.width,Qe.height)),Le<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const ze=Math.floor(Le*Qe.width),ft=Math.floor(Le*Qe.height);h===void 0&&(h=b(ze,ft));const ct=$?b(ze,ft):h;return ct.width=ze,ct.height=ft,ct.getContext("2d").drawImage(ie,0,0,ze,ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+ze+"x"+ft+")."),ct}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ie;return ie}function _(ie){return ie.generateMipmaps}function x(ie){n.generateMipmap(ie)}function T(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(ie,$,Ae,Le,Qe=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let ze=$;if($===n.RED&&(Ae===n.FLOAT&&(ze=n.R32F),Ae===n.HALF_FLOAT&&(ze=n.R16F),Ae===n.UNSIGNED_BYTE&&(ze=n.R8)),$===n.RED_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(ze=n.R8UI),Ae===n.UNSIGNED_SHORT&&(ze=n.R16UI),Ae===n.UNSIGNED_INT&&(ze=n.R32UI),Ae===n.BYTE&&(ze=n.R8I),Ae===n.SHORT&&(ze=n.R16I),Ae===n.INT&&(ze=n.R32I)),$===n.RG&&(Ae===n.FLOAT&&(ze=n.RG32F),Ae===n.HALF_FLOAT&&(ze=n.RG16F),Ae===n.UNSIGNED_BYTE&&(ze=n.RG8)),$===n.RG_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(ze=n.RG8UI),Ae===n.UNSIGNED_SHORT&&(ze=n.RG16UI),Ae===n.UNSIGNED_INT&&(ze=n.RG32UI),Ae===n.BYTE&&(ze=n.RG8I),Ae===n.SHORT&&(ze=n.RG16I),Ae===n.INT&&(ze=n.RG32I)),$===n.RGB_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(ze=n.RGB8UI),Ae===n.UNSIGNED_SHORT&&(ze=n.RGB16UI),Ae===n.UNSIGNED_INT&&(ze=n.RGB32UI),Ae===n.BYTE&&(ze=n.RGB8I),Ae===n.SHORT&&(ze=n.RGB16I),Ae===n.INT&&(ze=n.RGB32I)),$===n.RGBA_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(ze=n.RGBA8UI),Ae===n.UNSIGNED_SHORT&&(ze=n.RGBA16UI),Ae===n.UNSIGNED_INT&&(ze=n.RGBA32UI),Ae===n.BYTE&&(ze=n.RGBA8I),Ae===n.SHORT&&(ze=n.RGBA16I),Ae===n.INT&&(ze=n.RGBA32I)),$===n.RGB&&Ae===n.UNSIGNED_INT_5_9_9_9_REV&&(ze=n.RGB9_E5),$===n.RGBA){const ft=Qe?gS:Xn.getTransfer(Le);Ae===n.FLOAT&&(ze=n.RGBA32F),Ae===n.HALF_FLOAT&&(ze=n.RGBA16F),Ae===n.UNSIGNED_BYTE&&(ze=ft===Ti?n.SRGB8_ALPHA8:n.RGBA8),Ae===n.UNSIGNED_SHORT_4_4_4_4&&(ze=n.RGBA4),Ae===n.UNSIGNED_SHORT_5_5_5_1&&(ze=n.RGB5_A1)}return(ze===n.R16F||ze===n.R32F||ze===n.RG16F||ze===n.RG32F||ze===n.RGBA16F||ze===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function M(ie,$){let Ae;return ie?$===null||$===jd||$===i0?Ae=n.DEPTH24_STENCIL8:$===ro?Ae=n.DEPTH32F_STENCIL8:$===n0&&(Ae=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===jd||$===i0?Ae=n.DEPTH_COMPONENT24:$===ro?Ae=n.DEPTH_COMPONENT32F:$===n0&&(Ae=n.DEPTH_COMPONENT16),Ae}function O(ie,$){return _(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Es&&ie.minFilter!==Br?Math.log2(Math.max($.width,$.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?$.mipmaps.length:1}function R(ie){const $=ie.target;$.removeEventListener("dispose",R),N($),$.isVideoTexture&&d.delete($)}function B(ie){const $=ie.target;$.removeEventListener("dispose",B),I($)}function N(ie){const $=i.get(ie);if($.__webglInit===void 0)return;const Ae=ie.source,Le=m.get(Ae);if(Le){const Qe=Le[$.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&P(ie),Object.keys(Le).length===0&&m.delete(Ae)}i.remove(ie)}function P(ie){const $=i.get(ie);n.deleteTexture($.__webglTexture);const Ae=ie.source,Le=m.get(Ae);delete Le[$.__cacheKey],a.memory.textures--}function I(ie){const $=i.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),i.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray($.__webglFramebuffer[Le]))for(let Qe=0;Qe<$.__webglFramebuffer[Le].length;Qe++)n.deleteFramebuffer($.__webglFramebuffer[Le][Qe]);else n.deleteFramebuffer($.__webglFramebuffer[Le]);$.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer[Le])}else{if(Array.isArray($.__webglFramebuffer))for(let Le=0;Le<$.__webglFramebuffer.length;Le++)n.deleteFramebuffer($.__webglFramebuffer[Le]);else n.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&n.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let Le=0;Le<$.__webglColorRenderbuffer.length;Le++)$.__webglColorRenderbuffer[Le]&&n.deleteRenderbuffer($.__webglColorRenderbuffer[Le]);$.__webglDepthRenderbuffer&&n.deleteRenderbuffer($.__webglDepthRenderbuffer)}const Ae=ie.textures;for(let Le=0,Qe=Ae.length;Le<Qe;Le++){const ze=i.get(Ae[Le]);ze.__webglTexture&&(n.deleteTexture(ze.__webglTexture),a.memory.textures--),i.remove(Ae[Le])}i.remove(ie)}let F=0;function U(){F=0}function j(){const ie=F;return ie>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+r.maxTextures),F+=1,ie}function q(ie){const $=[];return $.push(ie.wrapS),$.push(ie.wrapT),$.push(ie.wrapR||0),$.push(ie.magFilter),$.push(ie.minFilter),$.push(ie.anisotropy),$.push(ie.internalFormat),$.push(ie.format),$.push(ie.type),$.push(ie.generateMipmaps),$.push(ie.premultiplyAlpha),$.push(ie.flipY),$.push(ie.unpackAlignment),$.push(ie.colorSpace),$.join()}function Z(ie,$){const Ae=i.get(ie);if(ie.isVideoTexture&&Ce(ie),ie.isRenderTargetTexture===!1&&ie.version>0&&Ae.__version!==ie.version){const Le=ie.image;if(Le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(Ae,ie,$);return}}t.bindTexture(n.TEXTURE_2D,Ae.__webglTexture,n.TEXTURE0+$)}function H(ie,$){const Ae=i.get(ie);if(ie.version>0&&Ae.__version!==ie.version){de(Ae,ie,$);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ae.__webglTexture,n.TEXTURE0+$)}function Y(ie,$){const Ae=i.get(ie);if(ie.version>0&&Ae.__version!==ie.version){de(Ae,ie,$);return}t.bindTexture(n.TEXTURE_3D,Ae.__webglTexture,n.TEXTURE0+$)}function X(ie,$){const Ae=i.get(ie);if(ie.version>0&&Ae.__version!==ie.version){xe(Ae,ie,$);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture,n.TEXTURE0+$)}const ne={[Hh]:n.REPEAT,[Lo]:n.CLAMP_TO_EDGE,[t0]:n.MIRRORED_REPEAT},K={[Es]:n.NEAREST,[iR]:n.NEAREST_MIPMAP_NEAREST,[Rm]:n.NEAREST_MIPMAP_LINEAR,[Br]:n.LINEAR,[Iv]:n.LINEAR_MIPMAP_NEAREST,[Al]:n.LINEAR_MIPMAP_LINEAR},ae={[yX]:n.NEVER,[AX]:n.ALWAYS,[vX]:n.LESS,[v3]:n.LEQUAL,[bX]:n.EQUAL,[SX]:n.GEQUAL,[_X]:n.GREATER,[xX]:n.NOTEQUAL};function ye(ie,$){if($.type===ro&&e.has("OES_texture_float_linear")===!1&&($.magFilter===Br||$.magFilter===Iv||$.magFilter===Rm||$.magFilter===Al||$.minFilter===Br||$.minFilter===Iv||$.minFilter===Rm||$.minFilter===Al)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,ne[$.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,ne[$.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,ne[$.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,K[$.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,K[$.minFilter]),$.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,ae[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Es||$.minFilter!==Rm&&$.minFilter!==Al||$.type===ro&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||i.get($).__currentAnisotropy){const Ae=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,r.getMaxAnisotropy())),i.get($).__currentAnisotropy=$.anisotropy}}}function Se(ie,$){let Ae=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,$.addEventListener("dispose",R));const Le=$.source;let Qe=m.get(Le);Qe===void 0&&(Qe={},m.set(Le,Qe));const ze=q($);if(ze!==ie.__cacheKey){Qe[ze]===void 0&&(Qe[ze]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ae=!0),Qe[ze].usedTimes++;const ft=Qe[ie.__cacheKey];ft!==void 0&&(Qe[ie.__cacheKey].usedTimes--,ft.usedTimes===0&&P($)),ie.__cacheKey=ze,ie.__webglTexture=Qe[ze].texture}return Ae}function de(ie,$,Ae){let Le=n.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Le=n.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Le=n.TEXTURE_3D);const Qe=Se(ie,$),ze=$.source;t.bindTexture(Le,ie.__webglTexture,n.TEXTURE0+Ae);const ft=i.get(ze);if(ze.version!==ft.__version||Qe===!0){t.activeTexture(n.TEXTURE0+Ae);const ct=Xn.getPrimaries(Xn.workingColorSpace),Et=$.colorSpace===yd?null:Xn.getPrimaries($.colorSpace),Ct=$.colorSpace===yd||ct===Et?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);let je=A($.image,!1,r.maxTextureSize);je=ut($,je);const ht=s.convert($.format,$.colorSpace),Dt=s.convert($.type);let wt=C($.internalFormat,ht,Dt,$.colorSpace,$.isVideoTexture);ye(Le,$);let yt;const ge=$.mipmaps,Xe=$.isVideoTexture!==!0,gt=ft.__version===void 0||Qe===!0,ce=ze.dataReady,et=O($,je);if($.isDepthTexture)wt=M($.format===s0,$.type),gt&&(Xe?t.texStorage2D(n.TEXTURE_2D,1,wt,je.width,je.height):t.texImage2D(n.TEXTURE_2D,0,wt,je.width,je.height,0,ht,Dt,null));else if($.isDataTexture)if(ge.length>0){Xe&&gt&&t.texStorage2D(n.TEXTURE_2D,et,wt,ge[0].width,ge[0].height);for(let Pe=0,$e=ge.length;Pe<$e;Pe++)yt=ge[Pe],Xe?ce&&t.texSubImage2D(n.TEXTURE_2D,Pe,0,0,yt.width,yt.height,ht,Dt,yt.data):t.texImage2D(n.TEXTURE_2D,Pe,wt,yt.width,yt.height,0,ht,Dt,yt.data);$.generateMipmaps=!1}else Xe?(gt&&t.texStorage2D(n.TEXTURE_2D,et,wt,je.width,je.height),ce&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,je.width,je.height,ht,Dt,je.data)):t.texImage2D(n.TEXTURE_2D,0,wt,je.width,je.height,0,ht,Dt,je.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Xe&&gt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,et,wt,ge[0].width,ge[0].height,je.depth);for(let Pe=0,$e=ge.length;Pe<$e;Pe++)if(yt=ge[Pe],$.format!==ca)if(ht!==null)if(Xe){if(ce)if($.layerUpdates.size>0){const vt=fN(yt.width,yt.height,$.format,$.type);for(const mt of $.layerUpdates){const Ut=yt.data.subarray(mt*vt/yt.data.BYTES_PER_ELEMENT,(mt+1)*vt/yt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Pe,0,0,mt,yt.width,yt.height,1,ht,Ut)}$.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Pe,0,0,0,yt.width,yt.height,je.depth,ht,yt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Pe,wt,yt.width,yt.height,je.depth,0,yt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Xe?ce&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Pe,0,0,0,yt.width,yt.height,je.depth,ht,Dt,yt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Pe,wt,yt.width,yt.height,je.depth,0,ht,Dt,yt.data)}else{Xe&&gt&&t.texStorage2D(n.TEXTURE_2D,et,wt,ge[0].width,ge[0].height);for(let Pe=0,$e=ge.length;Pe<$e;Pe++)yt=ge[Pe],$.format!==ca?ht!==null?Xe?ce&&t.compressedTexSubImage2D(n.TEXTURE_2D,Pe,0,0,yt.width,yt.height,ht,yt.data):t.compressedTexImage2D(n.TEXTURE_2D,Pe,wt,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xe?ce&&t.texSubImage2D(n.TEXTURE_2D,Pe,0,0,yt.width,yt.height,ht,Dt,yt.data):t.texImage2D(n.TEXTURE_2D,Pe,wt,yt.width,yt.height,0,ht,Dt,yt.data)}else if($.isDataArrayTexture)if(Xe){if(gt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,et,wt,je.width,je.height,je.depth),ce)if($.layerUpdates.size>0){const Pe=fN(je.width,je.height,$.format,$.type);for(const $e of $.layerUpdates){const vt=je.data.subarray($e*Pe/je.data.BYTES_PER_ELEMENT,($e+1)*Pe/je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,$e,je.width,je.height,1,ht,Dt,vt)}$.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,ht,Dt,je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,wt,je.width,je.height,je.depth,0,ht,Dt,je.data);else if($.isData3DTexture)Xe?(gt&&t.texStorage3D(n.TEXTURE_3D,et,wt,je.width,je.height,je.depth),ce&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,ht,Dt,je.data)):t.texImage3D(n.TEXTURE_3D,0,wt,je.width,je.height,je.depth,0,ht,Dt,je.data);else if($.isFramebufferTexture){if(gt)if(Xe)t.texStorage2D(n.TEXTURE_2D,et,wt,je.width,je.height);else{let Pe=je.width,$e=je.height;for(let vt=0;vt<et;vt++)t.texImage2D(n.TEXTURE_2D,vt,wt,Pe,$e,0,ht,Dt,null),Pe>>=1,$e>>=1}}else if(ge.length>0){if(Xe&&gt){const Pe=De(ge[0]);t.texStorage2D(n.TEXTURE_2D,et,wt,Pe.width,Pe.height)}for(let Pe=0,$e=ge.length;Pe<$e;Pe++)yt=ge[Pe],Xe?ce&&t.texSubImage2D(n.TEXTURE_2D,Pe,0,0,ht,Dt,yt):t.texImage2D(n.TEXTURE_2D,Pe,wt,ht,Dt,yt);$.generateMipmaps=!1}else if(Xe){if(gt){const Pe=De(je);t.texStorage2D(n.TEXTURE_2D,et,wt,Pe.width,Pe.height)}ce&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ht,Dt,je)}else t.texImage2D(n.TEXTURE_2D,0,wt,ht,Dt,je);_($)&&x(Le),ft.__version=ze.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function xe(ie,$,Ae){if($.image.length!==6)return;const Le=Se(ie,$),Qe=$.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+Ae);const ze=i.get(Qe);if(Qe.version!==ze.__version||Le===!0){t.activeTexture(n.TEXTURE0+Ae);const ft=Xn.getPrimaries(Xn.workingColorSpace),ct=$.colorSpace===yd?null:Xn.getPrimaries($.colorSpace),Et=$.colorSpace===yd||ft===ct?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Et);const Ct=$.isCompressedTexture||$.image[0].isCompressedTexture,je=$.image[0]&&$.image[0].isDataTexture,ht=[];for(let $e=0;$e<6;$e++)!Ct&&!je?ht[$e]=A($.image[$e],!0,r.maxCubemapSize):ht[$e]=je?$.image[$e].image:$.image[$e],ht[$e]=ut($,ht[$e]);const Dt=ht[0],wt=s.convert($.format,$.colorSpace),yt=s.convert($.type),ge=C($.internalFormat,wt,yt,$.colorSpace),Xe=$.isVideoTexture!==!0,gt=ze.__version===void 0||Le===!0,ce=Qe.dataReady;let et=O($,Dt);ye(n.TEXTURE_CUBE_MAP,$);let Pe;if(Ct){Xe&&gt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,et,ge,Dt.width,Dt.height);for(let $e=0;$e<6;$e++){Pe=ht[$e].mipmaps;for(let vt=0;vt<Pe.length;vt++){const mt=Pe[vt];$.format!==ca?wt!==null?Xe?ce&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt,0,0,mt.width,mt.height,wt,mt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt,ge,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xe?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt,0,0,mt.width,mt.height,wt,yt,mt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt,ge,mt.width,mt.height,0,wt,yt,mt.data)}}}else{if(Pe=$.mipmaps,Xe&&gt){Pe.length>0&&et++;const $e=De(ht[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,et,ge,$e.width,$e.height)}for(let $e=0;$e<6;$e++)if(je){Xe?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,ht[$e].width,ht[$e].height,wt,yt,ht[$e].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,ge,ht[$e].width,ht[$e].height,0,wt,yt,ht[$e].data);for(let vt=0;vt<Pe.length;vt++){const Ut=Pe[vt].image[$e].image;Xe?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt+1,0,0,Ut.width,Ut.height,wt,yt,Ut.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt+1,ge,Ut.width,Ut.height,0,wt,yt,Ut.data)}}else{Xe?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,wt,yt,ht[$e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,ge,wt,yt,ht[$e]);for(let vt=0;vt<Pe.length;vt++){const mt=Pe[vt];Xe?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt+1,0,0,wt,yt,mt.image[$e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,vt+1,ge,wt,yt,mt.image[$e])}}}_($)&&x(n.TEXTURE_CUBE_MAP),ze.__version=Qe.version,$.onUpdate&&$.onUpdate($)}ie.__version=$.version}function pe(ie,$,Ae,Le,Qe,ze){const ft=s.convert(Ae.format,Ae.colorSpace),ct=s.convert(Ae.type),Et=C(Ae.internalFormat,ft,ct,Ae.colorSpace),Ct=i.get($),je=i.get(Ae);if(je.__renderTarget=$,!Ct.__hasExternalTextures){const ht=Math.max(1,$.width>>ze),Dt=Math.max(1,$.height>>ze);Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?t.texImage3D(Qe,ze,Et,ht,Dt,$.depth,0,ft,ct,null):t.texImage2D(Qe,ze,Et,ht,Dt,0,ft,ct,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),ke($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Le,Qe,je.__webglTexture,0,we($)):(Qe===n.TEXTURE_2D||Qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Le,Qe,je.__webglTexture,ze),t.bindFramebuffer(n.FRAMEBUFFER,null)}function He(ie,$,Ae){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),$.depthBuffer){const Le=$.depthTexture,Qe=Le&&Le.isDepthTexture?Le.type:null,ze=M($.stencilBuffer,Qe),ft=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=we($);ke($)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,ze,$.width,$.height):Ae?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,ze,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,ze,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ft,n.RENDERBUFFER,ie)}else{const Le=$.textures;for(let Qe=0;Qe<Le.length;Qe++){const ze=Le[Qe],ft=s.convert(ze.format,ze.colorSpace),ct=s.convert(ze.type),Et=C(ze.internalFormat,ft,ct,ze.colorSpace),Ct=we($);Ae&&ke($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,Et,$.width,$.height):ke($)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ct,Et,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,Et,$.width,$.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ve(ie,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Le=i.get($.depthTexture);Le.__renderTarget=$,(!Le.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),Z($.depthTexture,0);const Qe=Le.__webglTexture,ze=we($);if($.depthTexture.format===r0)ke($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0);else if($.depthTexture.format===s0)ke($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function V(ie){const $=i.get(ie),Ae=ie.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==ie.depthTexture){const Le=ie.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),Le){const Qe=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,Le.removeEventListener("dispose",Qe)};Le.addEventListener("dispose",Qe),$.__depthDisposeCallback=Qe}$.__boundDepthTexture=Le}if(ie.depthTexture&&!$.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");const Le=ie.texture.mipmaps;Le&&Le.length>0?ve($.__webglFramebuffer[0],ie):ve($.__webglFramebuffer,ie)}else if(Ae){$.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)if(t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[Le]),$.__webglDepthbuffer[Le]===void 0)$.__webglDepthbuffer[Le]=n.createRenderbuffer(),He($.__webglDepthbuffer[Le],ie,!1);else{const Qe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=$.__webglDepthbuffer[Le];n.bindRenderbuffer(n.RENDERBUFFER,ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,ze)}}else{const Le=ie.texture.mipmaps;if(Le&&Le.length>0?t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=n.createRenderbuffer(),He($.__webglDepthbuffer,ie,!1);else{const Qe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=$.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,ze)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ee(ie,$,Ae){const Le=i.get(ie);$!==void 0&&pe(Le.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ae!==void 0&&V(ie)}function oe(ie){const $=ie.texture,Ae=i.get(ie),Le=i.get($);ie.addEventListener("dispose",B);const Qe=ie.textures,ze=ie.isWebGLCubeRenderTarget===!0,ft=Qe.length>1;if(ft||(Le.__webglTexture===void 0&&(Le.__webglTexture=n.createTexture()),Le.__version=$.version,a.memory.textures++),ze){Ae.__webglFramebuffer=[];for(let ct=0;ct<6;ct++)if($.mipmaps&&$.mipmaps.length>0){Ae.__webglFramebuffer[ct]=[];for(let Et=0;Et<$.mipmaps.length;Et++)Ae.__webglFramebuffer[ct][Et]=n.createFramebuffer()}else Ae.__webglFramebuffer[ct]=n.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){Ae.__webglFramebuffer=[];for(let ct=0;ct<$.mipmaps.length;ct++)Ae.__webglFramebuffer[ct]=n.createFramebuffer()}else Ae.__webglFramebuffer=n.createFramebuffer();if(ft)for(let ct=0,Et=Qe.length;ct<Et;ct++){const Ct=i.get(Qe[ct]);Ct.__webglTexture===void 0&&(Ct.__webglTexture=n.createTexture(),a.memory.textures++)}if(ie.samples>0&&ke(ie)===!1){Ae.__webglMultisampledFramebuffer=n.createFramebuffer(),Ae.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let ct=0;ct<Qe.length;ct++){const Et=Qe[ct];Ae.__webglColorRenderbuffer[ct]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ae.__webglColorRenderbuffer[ct]);const Ct=s.convert(Et.format,Et.colorSpace),je=s.convert(Et.type),ht=C(Et.internalFormat,Ct,je,Et.colorSpace,ie.isXRRenderTarget===!0),Dt=we(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,ht,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,Ae.__webglColorRenderbuffer[ct])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(Ae.__webglDepthRenderbuffer=n.createRenderbuffer(),He(Ae.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ze){t.bindTexture(n.TEXTURE_CUBE_MAP,Le.__webglTexture),ye(n.TEXTURE_CUBE_MAP,$);for(let ct=0;ct<6;ct++)if($.mipmaps&&$.mipmaps.length>0)for(let Et=0;Et<$.mipmaps.length;Et++)pe(Ae.__webglFramebuffer[ct][Et],ie,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ct,Et);else pe(Ae.__webglFramebuffer[ct],ie,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ct,0);_($)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ft){for(let ct=0,Et=Qe.length;ct<Et;ct++){const Ct=Qe[ct],je=i.get(Ct);t.bindTexture(n.TEXTURE_2D,je.__webglTexture),ye(n.TEXTURE_2D,Ct),pe(Ae.__webglFramebuffer,ie,Ct,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,0),_(Ct)&&x(n.TEXTURE_2D)}t.unbindTexture()}else{let ct=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(ct=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ct,Le.__webglTexture),ye(ct,$),$.mipmaps&&$.mipmaps.length>0)for(let Et=0;Et<$.mipmaps.length;Et++)pe(Ae.__webglFramebuffer[Et],ie,$,n.COLOR_ATTACHMENT0,ct,Et);else pe(Ae.__webglFramebuffer,ie,$,n.COLOR_ATTACHMENT0,ct,0);_($)&&x(ct),t.unbindTexture()}ie.depthBuffer&&V(ie)}function ue(ie){const $=ie.textures;for(let Ae=0,Le=$.length;Ae<Le;Ae++){const Qe=$[Ae];if(_(Qe)){const ze=T(ie),ft=i.get(Qe).__webglTexture;t.bindTexture(ze,ft),x(ze),t.unbindTexture()}}}const _e=[],Q=[];function Oe(ie){if(ie.samples>0){if(ke(ie)===!1){const $=ie.textures,Ae=ie.width,Le=ie.height;let Qe=n.COLOR_BUFFER_BIT;const ze=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ft=i.get(ie),ct=$.length>1;if(ct)for(let Ct=0;Ct<$.length;Ct++)t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const Et=ie.texture.mipmaps;Et&&Et.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let Ct=0;Ct<$.length;Ct++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Qe|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Qe|=n.STENCIL_BUFFER_BIT)),ct){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Ct]);const je=i.get($[Ct]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,je,0)}n.blitFramebuffer(0,0,Ae,Le,0,0,Ae,Le,Qe,n.NEAREST),l===!0&&(_e.length=0,Q.length=0,_e.push(n.COLOR_ATTACHMENT0+Ct),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(_e.push(ze),Q.push(ze),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Q)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,_e))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ct)for(let Ct=0;Ct<$.length;Ct++){t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Ct]);const je=i.get($[Ct]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ct,n.TEXTURE_2D,je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const $=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[$])}}}function we(ie){return Math.min(r.maxSamples,ie.samples)}function ke(ie){const $=i.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Ce(ie){const $=a.render.frame;d.get(ie)!==$&&(d.set(ie,$),ie.update())}function ut(ie,$){const Ae=ie.colorSpace,Le=ie.format,Qe=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||Ae!==zh&&Ae!==yd&&(Xn.getTransfer(Ae)===Ti?(Le!==ca||Qe!==Ol)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ae)),$}function De(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=U,this.setTexture2D=Z,this.setTexture2DArray=H,this.setTexture3D=Y,this.setTextureCube=X,this.rebindTextures=ee,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=ue,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=ke}function Rq(n,e){function t(i,r=yd){let s;const a=Xn.getTransfer(r);if(i===Ol)return n.UNSIGNED_BYTE;if(i===sR)return n.UNSIGNED_SHORT_4_4_4_4;if(i===aR)return n.UNSIGNED_SHORT_5_5_5_1;if(i===d3)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===c3)return n.BYTE;if(i===u3)return n.SHORT;if(i===n0)return n.UNSIGNED_SHORT;if(i===rR)return n.INT;if(i===jd)return n.UNSIGNED_INT;if(i===ro)return n.FLOAT;if(i===Y0)return n.HALF_FLOAT;if(i===f3)return n.ALPHA;if(i===h3)return n.RGB;if(i===ca)return n.RGBA;if(i===r0)return n.DEPTH_COMPONENT;if(i===s0)return n.DEPTH_STENCIL;if(i===oR)return n.RED;if(i===lA)return n.RED_INTEGER;if(i===p3)return n.RG;if(i===lR)return n.RG_INTEGER;if(i===cR)return n.RGBA_INTEGER;if(i===Tx||i===Mx||i===wx||i===Rx)if(a===Ti)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Tx)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Mx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===wx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Rx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Tx)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Mx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===wx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Rx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===nM||i===iM||i===rM||i===sM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===nM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===iM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===rM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===sM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===aM||i===oM||i===lM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===aM||i===oM)return a===Ti?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===lM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===cM||i===uM||i===dM||i===fM||i===hM||i===pM||i===mM||i===gM||i===yM||i===vM||i===bM||i===_M||i===xM||i===SM)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===cM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===uM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===dM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===fM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===hM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===pM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===mM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===gM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===yM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===vM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===bM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===_M)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===xM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===SM)return a===Ti?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Dx||i===AM||i===EM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Dx)return a===Ti?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===AM)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===EM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===m3||i===CM||i===TM||i===MM)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Dx)return s.COMPRESSED_RED_RGTC1_EXT;if(i===CM)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===TM)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===MM)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===i0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const uMe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,dMe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class fMe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ir,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Mc({vertexShader:uMe,fragmentShader:dMe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Lr(new q0(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class hMe extends Lu{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,d=null,h=null,m=null,v=null,b=null;const A=new fMe,_=t.getContextAttributes();let x=null,T=null;const C=[],M=[],O=new rt;let R=null;const B=new Er;B.viewport=new Zn;const N=new Er;N.viewport=new Zn;const P=[B,N],I=new vq;let F=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let xe=C[de];return xe===void 0&&(xe=new tT,C[de]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(de){let xe=C[de];return xe===void 0&&(xe=new tT,C[de]=xe),xe.getGripSpace()},this.getHand=function(de){let xe=C[de];return xe===void 0&&(xe=new tT,C[de]=xe),xe.getHandSpace()};function j(de){const xe=M.indexOf(de.inputSource);if(xe===-1)return;const pe=C[xe];pe!==void 0&&(pe.update(de.inputSource,de.frame,c||a),pe.dispatchEvent({type:de.type,data:de.inputSource}))}function q(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",Z);for(let de=0;de<C.length;de++){const xe=M[de];xe!==null&&(M[de]=null,C[de].disconnect(xe))}F=null,U=null,A.reset(),e.setRenderTarget(x),v=null,m=null,h=null,r=null,T=null,Se.stop(),i.isPresenting=!1,e.setPixelRatio(R),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){s=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){o=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(de){c=de},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return h},this.getFrame=function(){return b},this.getSession=function(){return r},this.setSession=async function(de){if(r=de,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",q),r.addEventListener("inputsourceschange",Z),_.xrCompatible!==!0&&await t.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let pe=null,He=null,ve=null;_.depth&&(ve=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,pe=_.stencil?s0:r0,He=_.stencil?i0:jd);const V={colorFormat:t.RGBA8,depthFormat:ve,scaleFactor:s};h=new XRWebGLBinding(r,t),m=h.createProjectionLayer(V),r.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),T=new Nu(m.textureWidth,m.textureHeight,{format:ca,type:Ol,depthTexture:new _R(m.textureWidth,m.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const pe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,pe),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),T=new Nu(v.framebufferWidth,v.framebufferHeight,{format:ca,type:Ol,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}T.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),Se.setContext(r),Se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function Z(de){for(let xe=0;xe<de.removed.length;xe++){const pe=de.removed[xe],He=M.indexOf(pe);He>=0&&(M[He]=null,C[He].disconnect(pe))}for(let xe=0;xe<de.added.length;xe++){const pe=de.added[xe];let He=M.indexOf(pe);if(He===-1){for(let V=0;V<C.length;V++)if(V>=M.length){M.push(pe),He=V;break}else if(M[V]===null){M[V]=pe,He=V;break}if(He===-1)break}const ve=C[He];ve&&ve.connect(pe)}}const H=new le,Y=new le;function X(de,xe,pe){H.setFromMatrixPosition(xe.matrixWorld),Y.setFromMatrixPosition(pe.matrixWorld);const He=H.distanceTo(Y),ve=xe.projectionMatrix.elements,V=pe.projectionMatrix.elements,ee=ve[14]/(ve[10]-1),oe=ve[14]/(ve[10]+1),ue=(ve[9]+1)/ve[5],_e=(ve[9]-1)/ve[5],Q=(ve[8]-1)/ve[0],Oe=(V[8]+1)/V[0],we=ee*Q,ke=ee*Oe,Ce=He/(-Q+Oe),ut=Ce*-Q;if(xe.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(ut),de.translateZ(Ce),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert(),ve[10]===-1)de.projectionMatrix.copy(xe.projectionMatrix),de.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const De=ee+Ce,ie=oe+Ce,$=we-ut,Ae=ke+(He-ut),Le=ue*oe/ie*De,Qe=_e*oe/ie*De;de.projectionMatrix.makePerspective($,Ae,Le,Qe,De,ie),de.projectionMatrixInverse.copy(de.projectionMatrix).invert()}}function ne(de,xe){xe===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(xe.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(r===null)return;let xe=de.near,pe=de.far;A.texture!==null&&(A.depthNear>0&&(xe=A.depthNear),A.depthFar>0&&(pe=A.depthFar)),I.near=N.near=B.near=xe,I.far=N.far=B.far=pe,(F!==I.near||U!==I.far)&&(r.updateRenderState({depthNear:I.near,depthFar:I.far}),F=I.near,U=I.far),B.layers.mask=de.layers.mask|2,N.layers.mask=de.layers.mask|4,I.layers.mask=B.layers.mask|N.layers.mask;const He=de.parent,ve=I.cameras;ne(I,He);for(let V=0;V<ve.length;V++)ne(ve[V],He);ve.length===2?X(I,B,N):I.projectionMatrix.copy(B.projectionMatrix),K(de,I,He)};function K(de,xe,pe){pe===null?de.matrix.copy(xe.matrixWorld):(de.matrix.copy(pe.matrixWorld),de.matrix.invert(),de.matrix.multiply(xe.matrixWorld)),de.matrix.decompose(de.position,de.quaternion,de.scale),de.updateMatrixWorld(!0),de.projectionMatrix.copy(xe.projectionMatrix),de.projectionMatrixInverse.copy(xe.projectionMatrixInverse),de.isPerspectiveCamera&&(de.fov=l0*2*Math.atan(1/de.projectionMatrix.elements[5]),de.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(de){l=de,m!==null&&(m.fixedFoveation=de),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=de)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(I)};let ae=null;function ye(de,xe){if(d=xe.getViewerPose(c||a),b=xe,d!==null){const pe=d.views;v!==null&&(e.setRenderTargetFramebuffer(T,v.framebuffer),e.setRenderTarget(T));let He=!1;pe.length!==I.cameras.length&&(I.cameras.length=0,He=!0);for(let ee=0;ee<pe.length;ee++){const oe=pe[ee];let ue=null;if(v!==null)ue=v.getViewport(oe);else{const Q=h.getViewSubImage(m,oe);ue=Q.viewport,ee===0&&(e.setRenderTargetTextures(T,Q.colorTexture,Q.depthStencilTexture),e.setRenderTarget(T))}let _e=P[ee];_e===void 0&&(_e=new Er,_e.layers.enable(ee),_e.viewport=new Zn,P[ee]=_e),_e.matrix.fromArray(oe.transform.matrix),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.projectionMatrix.fromArray(oe.projectionMatrix),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert(),_e.viewport.set(ue.x,ue.y,ue.width,ue.height),ee===0&&(I.matrix.copy(_e.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),He===!0&&I.cameras.push(_e)}const ve=r.enabledFeatures;if(ve&&ve.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&h){const ee=h.getDepthInformation(pe[0]);ee&&ee.isValid&&ee.texture&&A.init(e,ee,r.renderState)}}for(let pe=0;pe<C.length;pe++){const He=M[pe],ve=C[pe];He!==null&&ve!==void 0&&ve.update(He,xe,c||a)}ae&&ae(de,xe),xe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:xe}),b=null}const Se=new Eq;Se.setAnimationLoop(ye),this.setAnimationLoop=function(de){ae=de},this.dispose=function(){}}}const lm=new Vo,pMe=new Yt;function mMe(n,e){function t(_,x){_.matrixAutoUpdate===!0&&_.updateMatrix(),x.value.copy(_.matrix)}function i(_,x){x.color.getRGB(_.fogColor.value,RX(n)),x.isFog?(_.fogNear.value=x.near,_.fogFar.value=x.far):x.isFogExp2&&(_.fogDensity.value=x.density)}function r(_,x,T,C,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(_,x):x.isMeshToonMaterial?(s(_,x),h(_,x)):x.isMeshPhongMaterial?(s(_,x),d(_,x)):x.isMeshStandardMaterial?(s(_,x),m(_,x),x.isMeshPhysicalMaterial&&v(_,x,M)):x.isMeshMatcapMaterial?(s(_,x),b(_,x)):x.isMeshDepthMaterial?s(_,x):x.isMeshDistanceMaterial?(s(_,x),A(_,x)):x.isMeshNormalMaterial?s(_,x):x.isLineBasicMaterial?(a(_,x),x.isLineDashedMaterial&&o(_,x)):x.isPointsMaterial?l(_,x,T,C):x.isSpriteMaterial?c(_,x):x.isShadowMaterial?(_.color.value.copy(x.color),_.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(_,x){_.opacity.value=x.opacity,x.color&&_.diffuse.value.copy(x.color),x.emissive&&_.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(_.map.value=x.map,t(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.bumpMap&&(_.bumpMap.value=x.bumpMap,t(x.bumpMap,_.bumpMapTransform),_.bumpScale.value=x.bumpScale,x.side===Ba&&(_.bumpScale.value*=-1)),x.normalMap&&(_.normalMap.value=x.normalMap,t(x.normalMap,_.normalMapTransform),_.normalScale.value.copy(x.normalScale),x.side===Ba&&_.normalScale.value.negate()),x.displacementMap&&(_.displacementMap.value=x.displacementMap,t(x.displacementMap,_.displacementMapTransform),_.displacementScale.value=x.displacementScale,_.displacementBias.value=x.displacementBias),x.emissiveMap&&(_.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,_.emissiveMapTransform)),x.specularMap&&(_.specularMap.value=x.specularMap,t(x.specularMap,_.specularMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);const T=e.get(x),C=T.envMap,M=T.envMapRotation;C&&(_.envMap.value=C,lm.copy(M),lm.x*=-1,lm.y*=-1,lm.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(lm.y*=-1,lm.z*=-1),_.envMapRotation.value.setFromMatrix4(pMe.makeRotationFromEuler(lm)),_.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=x.reflectivity,_.ior.value=x.ior,_.refractionRatio.value=x.refractionRatio),x.lightMap&&(_.lightMap.value=x.lightMap,_.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,_.lightMapTransform)),x.aoMap&&(_.aoMap.value=x.aoMap,_.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,_.aoMapTransform))}function a(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,x.map&&(_.map.value=x.map,t(x.map,_.mapTransform))}function o(_,x){_.dashSize.value=x.dashSize,_.totalSize.value=x.dashSize+x.gapSize,_.scale.value=x.scale}function l(_,x,T,C){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.size.value=x.size*T,_.scale.value=C*.5,x.map&&(_.map.value=x.map,t(x.map,_.uvTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function c(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.rotation.value=x.rotation,x.map&&(_.map.value=x.map,t(x.map,_.mapTransform)),x.alphaMap&&(_.alphaMap.value=x.alphaMap,t(x.alphaMap,_.alphaMapTransform)),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest)}function d(_,x){_.specular.value.copy(x.specular),_.shininess.value=Math.max(x.shininess,1e-4)}function h(_,x){x.gradientMap&&(_.gradientMap.value=x.gradientMap)}function m(_,x){_.metalness.value=x.metalness,x.metalnessMap&&(_.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,_.metalnessMapTransform)),_.roughness.value=x.roughness,x.roughnessMap&&(_.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,_.roughnessMapTransform)),x.envMap&&(_.envMapIntensity.value=x.envMapIntensity)}function v(_,x,T){_.ior.value=x.ior,x.sheen>0&&(_.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),_.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(_.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,_.sheenColorMapTransform)),x.sheenRoughnessMap&&(_.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,_.sheenRoughnessMapTransform))),x.clearcoat>0&&(_.clearcoat.value=x.clearcoat,_.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(_.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,_.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(_.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Ba&&_.clearcoatNormalScale.value.negate())),x.dispersion>0&&(_.dispersion.value=x.dispersion),x.iridescence>0&&(_.iridescence.value=x.iridescence,_.iridescenceIOR.value=x.iridescenceIOR,_.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(_.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,_.iridescenceMapTransform)),x.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),x.transmission>0&&(_.transmission.value=x.transmission,_.transmissionSamplerMap.value=T.texture,_.transmissionSamplerSize.value.set(T.width,T.height),x.transmissionMap&&(_.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,_.transmissionMapTransform)),_.thickness.value=x.thickness,x.thicknessMap&&(_.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=x.attenuationDistance,_.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(_.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(_.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=x.specularIntensity,_.specularColor.value.copy(x.specularColor),x.specularColorMap&&(_.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,_.specularColorMapTransform)),x.specularIntensityMap&&(_.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,_.specularIntensityMapTransform))}function b(_,x){x.matcap&&(_.matcap.value=x.matcap)}function A(_,x){const T=e.get(x).light;_.referencePosition.value.setFromMatrixPosition(T.matrixWorld),_.nearDistance.value=T.shadow.camera.near,_.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function gMe(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(T,C){const M=C.program;i.uniformBlockBinding(T,M)}function c(T,C){let M=r[T.id];M===void 0&&(b(T),M=d(T),r[T.id]=M,T.addEventListener("dispose",_));const O=C.program;i.updateUBOMapping(T,O);const R=e.render.frame;s[T.id]!==R&&(m(T),s[T.id]=R)}function d(T){const C=h();T.__bindingPointIndex=C;const M=n.createBuffer(),O=T.__size,R=T.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,O,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,M),M}function h(){for(let T=0;T<o;T++)if(a.indexOf(T)===-1)return a.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(T){const C=r[T.id],M=T.uniforms,O=T.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let R=0,B=M.length;R<B;R++){const N=Array.isArray(M[R])?M[R]:[M[R]];for(let P=0,I=N.length;P<I;P++){const F=N[P];if(v(F,R,P,O)===!0){const U=F.__offset,j=Array.isArray(F.value)?F.value:[F.value];let q=0;for(let Z=0;Z<j.length;Z++){const H=j[Z],Y=A(H);typeof H=="number"||typeof H=="boolean"?(F.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,U+q,F.__data)):H.isMatrix3?(F.__data[0]=H.elements[0],F.__data[1]=H.elements[1],F.__data[2]=H.elements[2],F.__data[3]=0,F.__data[4]=H.elements[3],F.__data[5]=H.elements[4],F.__data[6]=H.elements[5],F.__data[7]=0,F.__data[8]=H.elements[6],F.__data[9]=H.elements[7],F.__data[10]=H.elements[8],F.__data[11]=0):(H.toArray(F.__data,q),q+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,U,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(T,C,M,O){const R=T.value,B=C+"_"+M;if(O[B]===void 0)return typeof R=="number"||typeof R=="boolean"?O[B]=R:O[B]=R.clone(),!0;{const N=O[B];if(typeof R=="number"||typeof R=="boolean"){if(N!==R)return O[B]=R,!0}else if(N.equals(R)===!1)return N.copy(R),!0}return!1}function b(T){const C=T.uniforms;let M=0;const O=16;for(let B=0,N=C.length;B<N;B++){const P=Array.isArray(C[B])?C[B]:[C[B]];for(let I=0,F=P.length;I<F;I++){const U=P[I],j=Array.isArray(U.value)?U.value:[U.value];for(let q=0,Z=j.length;q<Z;q++){const H=j[q],Y=A(H),X=M%O,ne=X%Y.boundary,K=X+ne;M+=ne,K!==0&&O-K<Y.storage&&(M+=O-K),U.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=M,M+=Y.storage}}}const R=M%O;return R>0&&(M+=O-R),T.__size=M,T.__cache={},this}function A(T){const C={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(C.boundary=4,C.storage=4):T.isVector2?(C.boundary=8,C.storage=8):T.isVector3||T.isColor?(C.boundary=16,C.storage=12):T.isVector4?(C.boundary=16,C.storage=16):T.isMatrix3?(C.boundary=48,C.storage=48):T.isMatrix4?(C.boundary=64,C.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),C}function _(T){const C=T.target;C.removeEventListener("dispose",_);const M=a.indexOf(C.__bindingPointIndex);a.splice(M,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function x(){for(const T in r)n.deleteBuffer(r[T]);a=[],r={},s={}}return{bind:l,update:c,dispose:x}}class Dq{constructor(e={}){const{canvas:t=TX(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const b=new Uint32Array(4),A=new Int32Array(4);let _=null,x=null;const T=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Mu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let O=!1;this._outputColorSpace=sa;let R=0,B=0,N=null,P=-1,I=null;const F=new Zn,U=new Zn;let j=null;const q=new Rt(0);let Z=0,H=t.width,Y=t.height,X=1,ne=null,K=null;const ae=new Zn(0,0,H,Y),ye=new Zn(0,0,H,Y);let Se=!1;const de=new X0;let xe=!1,pe=!1;const He=new Yt,ve=new Yt,V=new le,ee=new Zn,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ue=!1;function _e(){return N===null?X:1}let Q=i;function Oe(te,fe){return t.getContext(te,fe)}try{const te={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${aA}`),t.addEventListener("webglcontextlost",$e,!1),t.addEventListener("webglcontextrestored",vt,!1),t.addEventListener("webglcontextcreationerror",mt,!1),Q===null){const fe="webgl2";if(Q=Oe(fe,te),Q===null)throw Oe(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let we,ke,Ce,ut,De,ie,$,Ae,Le,Qe,ze,ft,ct,Et,Ct,je,ht,Dt,wt,yt,ge,Xe,gt,ce;function et(){we=new w1e(Q),we.init(),Xe=new Rq(Q,we),ke=new x1e(Q,we,e,Xe),Ce=new lMe(Q,we),ke.reverseDepthBuffer&&m&&Ce.buffers.depth.setReversed(!0),ut=new I1e(Q),De=new $Te,ie=new cMe(Q,we,Ce,De,ke,Xe,ut),$=new A1e(M),Ae=new M1e(M),Le=new UAe(Q),gt=new b1e(Q,Le),Qe=new R1e(Q,Le,ut,gt),ze=new P1e(Q,Qe,Le,ut),wt=new O1e(Q,ke,ie),je=new S1e(De),ft=new qTe(M,$,Ae,we,ke,gt,je),ct=new mMe(M,De),Et=new JTe,Ct=new iMe(we),Dt=new v1e(M,$,Ae,Ce,ze,v,l),ht=new aMe(M,ze,ke),ce=new gMe(Q,ut,ke,Ce),yt=new _1e(Q,we,ut),ge=new D1e(Q,we,ut),ut.programs=ft.programs,M.capabilities=ke,M.extensions=we,M.properties=De,M.renderLists=Et,M.shadowMap=ht,M.state=Ce,M.info=ut}et();const Pe=new hMe(M,Q);this.xr=Pe,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const te=we.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=we.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(te){te!==void 0&&(X=te,this.setSize(H,Y,!1))},this.getSize=function(te){return te.set(H,Y)},this.setSize=function(te,fe,Ne=!0){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=te,Y=fe,t.width=Math.floor(te*X),t.height=Math.floor(fe*X),Ne===!0&&(t.style.width=te+"px",t.style.height=fe+"px"),this.setViewport(0,0,te,fe)},this.getDrawingBufferSize=function(te){return te.set(H*X,Y*X).floor()},this.setDrawingBufferSize=function(te,fe,Ne){H=te,Y=fe,X=Ne,t.width=Math.floor(te*Ne),t.height=Math.floor(fe*Ne),this.setViewport(0,0,te,fe)},this.getCurrentViewport=function(te){return te.copy(F)},this.getViewport=function(te){return te.copy(ae)},this.setViewport=function(te,fe,Ne,Be){te.isVector4?ae.set(te.x,te.y,te.z,te.w):ae.set(te,fe,Ne,Be),Ce.viewport(F.copy(ae).multiplyScalar(X).round())},this.getScissor=function(te){return te.copy(ye)},this.setScissor=function(te,fe,Ne,Be){te.isVector4?ye.set(te.x,te.y,te.z,te.w):ye.set(te,fe,Ne,Be),Ce.scissor(U.copy(ye).multiplyScalar(X).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(te){Ce.setScissorTest(Se=te)},this.setOpaqueSort=function(te){ne=te},this.setTransparentSort=function(te){K=te},this.getClearColor=function(te){return te.copy(Dt.getClearColor())},this.setClearColor=function(){Dt.setClearColor(...arguments)},this.getClearAlpha=function(){return Dt.getClearAlpha()},this.setClearAlpha=function(){Dt.setClearAlpha(...arguments)},this.clear=function(te=!0,fe=!0,Ne=!0){let Be=0;if(te){let Me=!1;if(N!==null){const ot=N.texture.format;Me=ot===cR||ot===lR||ot===lA}if(Me){const ot=N.texture.type,_t=ot===Ol||ot===jd||ot===n0||ot===i0||ot===sR||ot===aR,xt=Dt.getClearColor(),It=Dt.getClearAlpha(),St=xt.r,kt=xt.g,Lt=xt.b;_t?(b[0]=St,b[1]=kt,b[2]=Lt,b[3]=It,Q.clearBufferuiv(Q.COLOR,0,b)):(A[0]=St,A[1]=kt,A[2]=Lt,A[3]=It,Q.clearBufferiv(Q.COLOR,0,A))}else Be|=Q.COLOR_BUFFER_BIT}fe&&(Be|=Q.DEPTH_BUFFER_BIT),Ne&&(Be|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",$e,!1),t.removeEventListener("webglcontextrestored",vt,!1),t.removeEventListener("webglcontextcreationerror",mt,!1),Dt.dispose(),Et.dispose(),Ct.dispose(),De.dispose(),$.dispose(),Ae.dispose(),ze.dispose(),gt.dispose(),ce.dispose(),ft.dispose(),Pe.dispose(),Pe.removeEventListener("sessionstart",vi),Pe.removeEventListener("sessionend",Mi),qi.stop()};function $e(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function vt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const te=ut.autoReset,fe=ht.enabled,Ne=ht.autoUpdate,Be=ht.needsUpdate,Me=ht.type;et(),ut.autoReset=te,ht.enabled=fe,ht.autoUpdate=Ne,ht.needsUpdate=Be,ht.type=Me}function mt(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Ut(te){const fe=te.target;fe.removeEventListener("dispose",Ut),tn(fe)}function tn(te){Hn(te),De.remove(te)}function Hn(te){const fe=De.get(te).programs;fe!==void 0&&(fe.forEach(function(Ne){ft.releaseProgram(Ne)}),te.isShaderMaterial&&ft.releaseShaderCache(te))}this.renderBufferDirect=function(te,fe,Ne,Be,Me,ot){fe===null&&(fe=oe);const _t=Me.isMesh&&Me.matrixWorld.determinant()<0,xt=ka(te,fe,Ne,Be,Me);Ce.setMaterial(Be,_t);let It=Ne.index,St=1;if(Be.wireframe===!0){if(It=Qe.getWireframeAttribute(Ne),It===void 0)return;St=2}const kt=Ne.drawRange,Lt=Ne.attributes.position;let hn=kt.start*St,jn=(kt.start+kt.count)*St;ot!==null&&(hn=Math.max(hn,ot.start*St),jn=Math.min(jn,(ot.start+ot.count)*St)),It!==null?(hn=Math.max(hn,0),jn=Math.min(jn,It.count)):Lt!=null&&(hn=Math.max(hn,0),jn=Math.min(jn,Lt.count));const zi=jn-hn;if(zi<0||zi===1/0)return;gt.setup(Me,Be,xt,Ne,It);let Dn,On=yt;if(It!==null&&(Dn=Le.get(It),On=ge,On.setIndex(Dn)),Me.isMesh)Be.wireframe===!0?(Ce.setLineWidth(Be.wireframeLinewidth*_e()),On.setMode(Q.LINES)):On.setMode(Q.TRIANGLES);else if(Me.isLine){let Vt=Be.linewidth;Vt===void 0&&(Vt=1),Ce.setLineWidth(Vt*_e()),Me.isLineSegments?On.setMode(Q.LINES):Me.isLineLoop?On.setMode(Q.LINE_LOOP):On.setMode(Q.LINE_STRIP)}else Me.isPoints?On.setMode(Q.POINTS):Me.isSprite&&On.setMode(Q.TRIANGLES);if(Me.isBatchedMesh)if(Me._multiDrawInstances!==null)eT("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),On.renderMultiDrawInstances(Me._multiDrawStarts,Me._multiDrawCounts,Me._multiDrawCount,Me._multiDrawInstances);else if(we.get("WEBGL_multi_draw"))On.renderMultiDraw(Me._multiDrawStarts,Me._multiDrawCounts,Me._multiDrawCount);else{const Vt=Me._multiDrawStarts,ji=Me._multiDrawCounts,zn=Me._multiDrawCount,Kr=It?Le.get(It).bytesPerElement:1,$o=De.get(Be).currentProgram.getUniforms();for(let bi=0;bi<zn;bi++)$o.setValue(Q,"_gl_DrawID",bi),On.render(Vt[bi]/Kr,ji[bi])}else if(Me.isInstancedMesh)On.renderInstances(hn,zi,Me.count);else if(Ne.isInstancedBufferGeometry){const Vt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,ji=Math.min(Ne.instanceCount,Vt);On.renderInstances(hn,zi,ji)}else On.render(hn,zi)};function Qt(te,fe,Ne){te.transparent===!0&&te.side===bc&&te.forceSinglePass===!1?(te.side=Ba,te.needsUpdate=!0,nn(te,fe,Ne),te.side=Pu,te.needsUpdate=!0,nn(te,fe,Ne),te.side=bc):nn(te,fe,Ne)}this.compile=function(te,fe,Ne=null){Ne===null&&(Ne=te),x=Ct.get(Ne),x.init(fe),C.push(x),Ne.traverseVisible(function(Me){Me.isLight&&Me.layers.test(fe.layers)&&(x.pushLight(Me),Me.castShadow&&x.pushShadow(Me))}),te!==Ne&&te.traverseVisible(function(Me){Me.isLight&&Me.layers.test(fe.layers)&&(x.pushLight(Me),Me.castShadow&&x.pushShadow(Me))}),x.setupLights();const Be=new Set;return te.traverse(function(Me){if(!(Me.isMesh||Me.isPoints||Me.isLine||Me.isSprite))return;const ot=Me.material;if(ot)if(Array.isArray(ot))for(let _t=0;_t<ot.length;_t++){const xt=ot[_t];Qt(xt,Ne,Me),Be.add(xt)}else Qt(ot,Ne,Me),Be.add(ot)}),x=C.pop(),Be},this.compileAsync=function(te,fe,Ne=null){const Be=this.compile(te,fe,Ne);return new Promise(Me=>{function ot(){if(Be.forEach(function(_t){De.get(_t).currentProgram.isReady()&&Be.delete(_t)}),Be.size===0){Me(te);return}setTimeout(ot,10)}we.get("KHR_parallel_shader_compile")!==null?ot():setTimeout(ot,10)})};let Bi=null;function pi(te){Bi&&Bi(te)}function vi(){qi.stop()}function Mi(){qi.start()}const qi=new Eq;qi.setAnimationLoop(pi),typeof self<"u"&&qi.setContext(self),this.setAnimationLoop=function(te){Bi=te,Pe.setAnimationLoop(te),te===null?qi.stop():qi.start()},Pe.addEventListener("sessionstart",vi),Pe.addEventListener("sessionend",Mi),this.render=function(te,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(Pe.cameraAutoUpdate===!0&&Pe.updateCamera(fe),fe=Pe.getCamera()),te.isScene===!0&&te.onBeforeRender(M,te,fe,N),x=Ct.get(te,C.length),x.init(fe),C.push(x),ve.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),de.setFromProjectionMatrix(ve),pe=this.localClippingEnabled,xe=je.init(this.clippingPlanes,pe),_=Et.get(te,T.length),_.init(),T.push(_),Pe.enabled===!0&&Pe.isPresenting===!0){const ot=M.xr.getDepthSensingMesh();ot!==null&&kr(ot,fe,-1/0,M.sortObjects)}kr(te,fe,0,M.sortObjects),_.finish(),M.sortObjects===!0&&_.sort(ne,K),ue=Pe.enabled===!1||Pe.isPresenting===!1||Pe.hasDepthSensing()===!1,ue&&Dt.addToRenderList(_,te),this.info.render.frame++,xe===!0&&je.beginShadows();const Ne=x.state.shadowsArray;ht.render(Ne,te,fe),xe===!0&&je.endShadows(),this.info.autoReset===!0&&this.info.reset();const Be=_.opaque,Me=_.transmissive;if(x.setupLights(),fe.isArrayCamera){const ot=fe.cameras;if(Me.length>0)for(let _t=0,xt=ot.length;_t<xt;_t++){const It=ot[_t];Rs(Be,Me,te,It)}ue&&Dt.render(te);for(let _t=0,xt=ot.length;_t<xt;_t++){const It=ot[_t];kl(_,te,It,It.viewport)}}else Me.length>0&&Rs(Be,Me,te,fe),ue&&Dt.render(te),kl(_,te,fe);N!==null&&B===0&&(ie.updateMultisampleRenderTarget(N),ie.updateRenderTargetMipmap(N)),te.isScene===!0&&te.onAfterRender(M,te,fe),gt.resetDefaultState(),P=-1,I=null,C.pop(),C.length>0?(x=C[C.length-1],xe===!0&&je.setGlobalState(M.clippingPlanes,x.state.camera)):x=null,T.pop(),T.length>0?_=T[T.length-1]:_=null};function kr(te,fe,Ne,Be){if(te.visible===!1)return;if(te.layers.test(fe.layers)){if(te.isGroup)Ne=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(fe);else if(te.isLight)x.pushLight(te),te.castShadow&&x.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||de.intersectsSprite(te)){Be&&ee.setFromMatrixPosition(te.matrixWorld).applyMatrix4(ve);const _t=ze.update(te),xt=te.material;xt.visible&&_.push(te,_t,xt,Ne,ee.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||de.intersectsObject(te))){const _t=ze.update(te),xt=te.material;if(Be&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),ee.copy(te.boundingSphere.center)):(_t.boundingSphere===null&&_t.computeBoundingSphere(),ee.copy(_t.boundingSphere.center)),ee.applyMatrix4(te.matrixWorld).applyMatrix4(ve)),Array.isArray(xt)){const It=_t.groups;for(let St=0,kt=It.length;St<kt;St++){const Lt=It[St],hn=xt[Lt.materialIndex];hn&&hn.visible&&_.push(te,_t,hn,Ne,ee.z,Lt)}}else xt.visible&&_.push(te,_t,xt,Ne,ee.z,null)}}const ot=te.children;for(let _t=0,xt=ot.length;_t<xt;_t++)kr(ot[_t],fe,Ne,Be)}function kl(te,fe,Ne,Be){const Me=te.opaque,ot=te.transmissive,_t=te.transparent;x.setupLightsView(Ne),xe===!0&&je.setGlobalState(M.clippingPlanes,Ne),Be&&Ce.viewport(F.copy(Be)),Me.length>0&&wr(Me,fe,Ne),ot.length>0&&wr(ot,fe,Ne),_t.length>0&&wr(_t,fe,Ne),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function Rs(te,fe,Ne,Be){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[Be.id]===void 0&&(x.state.transmissionRenderTarget[Be.id]=new Nu(1,1,{generateMipmaps:!0,type:we.has("EXT_color_buffer_half_float")||we.has("EXT_color_buffer_float")?Y0:Ol,minFilter:Al,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace}));const ot=x.state.transmissionRenderTarget[Be.id],_t=Be.viewport||F;ot.setSize(_t.z*M.transmissionResolutionScale,_t.w*M.transmissionResolutionScale);const xt=M.getRenderTarget();M.setRenderTarget(ot),M.getClearColor(q),Z=M.getClearAlpha(),Z<1&&M.setClearColor(16777215,.5),M.clear(),ue&&Dt.render(Ne);const It=M.toneMapping;M.toneMapping=Mu;const St=Be.viewport;if(Be.viewport!==void 0&&(Be.viewport=void 0),x.setupLightsView(Be),xe===!0&&je.setGlobalState(M.clippingPlanes,Be),wr(te,Ne,Be),ie.updateMultisampleRenderTarget(ot),ie.updateRenderTargetMipmap(ot),we.has("WEBGL_multisampled_render_to_texture")===!1){let kt=!1;for(let Lt=0,hn=fe.length;Lt<hn;Lt++){const jn=fe[Lt],zi=jn.object,Dn=jn.geometry,On=jn.material,Vt=jn.group;if(On.side===bc&&zi.layers.test(Be.layers)){const ji=On.side;On.side=Ba,On.needsUpdate=!0,$r(zi,Ne,Be,Dn,On,Vt),On.side=ji,On.needsUpdate=!0,kt=!0}}kt===!0&&(ie.updateMultisampleRenderTarget(ot),ie.updateRenderTargetMipmap(ot))}M.setRenderTarget(xt),M.setClearColor(q,Z),St!==void 0&&(Be.viewport=St),M.toneMapping=It}function wr(te,fe,Ne){const Be=fe.isScene===!0?fe.overrideMaterial:null;for(let Me=0,ot=te.length;Me<ot;Me++){const _t=te[Me],xt=_t.object,It=_t.geometry,St=_t.group;let kt=_t.material;kt.allowOverride===!0&&Be!==null&&(kt=Be),xt.layers.test(Ne.layers)&&$r(xt,fe,Ne,It,kt,St)}}function $r(te,fe,Ne,Be,Me,ot){te.onBeforeRender(M,fe,Ne,Be,Me,ot),te.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Me.onBeforeRender(M,fe,Ne,Be,te,ot),Me.transparent===!0&&Me.side===bc&&Me.forceSinglePass===!1?(Me.side=Ba,Me.needsUpdate=!0,M.renderBufferDirect(Ne,fe,Be,Me,te,ot),Me.side=Pu,Me.needsUpdate=!0,M.renderBufferDirect(Ne,fe,Be,Me,te,ot),Me.side=bc):M.renderBufferDirect(Ne,fe,Be,Me,te,ot),te.onAfterRender(M,fe,Ne,Be,Me,ot)}function nn(te,fe,Ne){fe.isScene!==!0&&(fe=oe);const Be=De.get(te),Me=x.state.lights,ot=x.state.shadowsArray,_t=Me.state.version,xt=ft.getParameters(te,Me.state,ot,fe,Ne),It=ft.getProgramCacheKey(xt);let St=Be.programs;Be.environment=te.isMeshStandardMaterial?fe.environment:null,Be.fog=fe.fog,Be.envMap=(te.isMeshStandardMaterial?Ae:$).get(te.envMap||Be.environment),Be.envMapRotation=Be.environment!==null&&te.envMap===null?fe.environmentRotation:te.envMapRotation,St===void 0&&(te.addEventListener("dispose",Ut),St=new Map,Be.programs=St);let kt=St.get(It);if(kt!==void 0){if(Be.currentProgram===kt&&Be.lightsStateVersion===_t)return mr(te,xt),kt}else xt.uniforms=ft.getUniforms(te),te.onBeforeCompile(xt,M),kt=ft.acquireProgram(xt,It),St.set(It,kt),Be.uniforms=xt.uniforms;const Lt=Be.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(Lt.clippingPlanes=je.uniform),mr(te,xt),Be.needsLights=Li(te),Be.lightsStateVersion=_t,Be.needsLights&&(Lt.ambientLightColor.value=Me.state.ambient,Lt.lightProbe.value=Me.state.probe,Lt.directionalLights.value=Me.state.directional,Lt.directionalLightShadows.value=Me.state.directionalShadow,Lt.spotLights.value=Me.state.spot,Lt.spotLightShadows.value=Me.state.spotShadow,Lt.rectAreaLights.value=Me.state.rectArea,Lt.ltc_1.value=Me.state.rectAreaLTC1,Lt.ltc_2.value=Me.state.rectAreaLTC2,Lt.pointLights.value=Me.state.point,Lt.pointLightShadows.value=Me.state.pointShadow,Lt.hemisphereLights.value=Me.state.hemi,Lt.directionalShadowMap.value=Me.state.directionalShadowMap,Lt.directionalShadowMatrix.value=Me.state.directionalShadowMatrix,Lt.spotShadowMap.value=Me.state.spotShadowMap,Lt.spotLightMatrix.value=Me.state.spotLightMatrix,Lt.spotLightMap.value=Me.state.spotLightMap,Lt.pointShadowMap.value=Me.state.pointShadowMap,Lt.pointShadowMatrix.value=Me.state.pointShadowMatrix),Be.currentProgram=kt,Be.uniformsList=null,kt}function ti(te){if(te.uniformsList===null){const fe=te.currentProgram.getUniforms();te.uniformsList=nT.seqWithValue(fe.seq,te.uniforms)}return te.uniformsList}function mr(te,fe){const Ne=De.get(te);Ne.outputColorSpace=fe.outputColorSpace,Ne.batching=fe.batching,Ne.batchingColor=fe.batchingColor,Ne.instancing=fe.instancing,Ne.instancingColor=fe.instancingColor,Ne.instancingMorph=fe.instancingMorph,Ne.skinning=fe.skinning,Ne.morphTargets=fe.morphTargets,Ne.morphNormals=fe.morphNormals,Ne.morphColors=fe.morphColors,Ne.morphTargetsCount=fe.morphTargetsCount,Ne.numClippingPlanes=fe.numClippingPlanes,Ne.numIntersection=fe.numClipIntersection,Ne.vertexAlphas=fe.vertexAlphas,Ne.vertexTangents=fe.vertexTangents,Ne.toneMapping=fe.toneMapping}function ka(te,fe,Ne,Be,Me){fe.isScene!==!0&&(fe=oe),ie.resetTextureUnits();const ot=fe.fog,_t=Be.isMeshStandardMaterial?fe.environment:null,xt=N===null?M.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:zh,It=(Be.isMeshStandardMaterial?Ae:$).get(Be.envMap||_t),St=Be.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,kt=!!Ne.attributes.tangent&&(!!Be.normalMap||Be.anisotropy>0),Lt=!!Ne.morphAttributes.position,hn=!!Ne.morphAttributes.normal,jn=!!Ne.morphAttributes.color;let zi=Mu;Be.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(zi=M.toneMapping);const Dn=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,On=Dn!==void 0?Dn.length:0,Vt=De.get(Be),ji=x.state.lights;if(xe===!0&&(pe===!0||te!==I)){const Fr=te===I&&Be.id===P;je.setState(Be,te,Fr)}let zn=!1;Be.version===Vt.__version?(Vt.needsLights&&Vt.lightsStateVersion!==ji.state.version||Vt.outputColorSpace!==xt||Me.isBatchedMesh&&Vt.batching===!1||!Me.isBatchedMesh&&Vt.batching===!0||Me.isBatchedMesh&&Vt.batchingColor===!0&&Me.colorTexture===null||Me.isBatchedMesh&&Vt.batchingColor===!1&&Me.colorTexture!==null||Me.isInstancedMesh&&Vt.instancing===!1||!Me.isInstancedMesh&&Vt.instancing===!0||Me.isSkinnedMesh&&Vt.skinning===!1||!Me.isSkinnedMesh&&Vt.skinning===!0||Me.isInstancedMesh&&Vt.instancingColor===!0&&Me.instanceColor===null||Me.isInstancedMesh&&Vt.instancingColor===!1&&Me.instanceColor!==null||Me.isInstancedMesh&&Vt.instancingMorph===!0&&Me.morphTexture===null||Me.isInstancedMesh&&Vt.instancingMorph===!1&&Me.morphTexture!==null||Vt.envMap!==It||Be.fog===!0&&Vt.fog!==ot||Vt.numClippingPlanes!==void 0&&(Vt.numClippingPlanes!==je.numPlanes||Vt.numIntersection!==je.numIntersection)||Vt.vertexAlphas!==St||Vt.vertexTangents!==kt||Vt.morphTargets!==Lt||Vt.morphNormals!==hn||Vt.morphColors!==jn||Vt.toneMapping!==zi||Vt.morphTargetsCount!==On)&&(zn=!0):(zn=!0,Vt.__version=Be.version);let Kr=Vt.currentProgram;zn===!0&&(Kr=nn(Be,fe,Me));let $o=!1,bi=!1,Ko=!1;const mi=Kr.getUniforms(),Jr=Vt.uniforms;if(Ce.useProgram(Kr.program)&&($o=!0,bi=!0,Ko=!0),Be.id!==P&&(P=Be.id,bi=!0),$o||I!==te){Ce.buffers.depth.getReversed()?(He.copy(te.projectionMatrix),sxe(He),axe(He),mi.setValue(Q,"projectionMatrix",He)):mi.setValue(Q,"projectionMatrix",te.projectionMatrix),mi.setValue(Q,"viewMatrix",te.matrixWorldInverse);const Hr=mi.map.cameraPosition;Hr!==void 0&&Hr.setValue(Q,V.setFromMatrixPosition(te.matrixWorld)),ke.logarithmicDepthBuffer&&mi.setValue(Q,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshLambertMaterial||Be.isMeshBasicMaterial||Be.isMeshStandardMaterial||Be.isShaderMaterial)&&mi.setValue(Q,"isOrthographic",te.isOrthographicCamera===!0),I!==te&&(I=te,bi=!0,Ko=!0)}if(Me.isSkinnedMesh){mi.setOptional(Q,Me,"bindMatrix"),mi.setOptional(Q,Me,"bindMatrixInverse");const Fr=Me.skeleton;Fr&&(Fr.boneTexture===null&&Fr.computeBoneTexture(),mi.setValue(Q,"boneTexture",Fr.boneTexture,ie))}Me.isBatchedMesh&&(mi.setOptional(Q,Me,"batchingTexture"),mi.setValue(Q,"batchingTexture",Me._matricesTexture,ie),mi.setOptional(Q,Me,"batchingIdTexture"),mi.setValue(Q,"batchingIdTexture",Me._indirectTexture,ie),mi.setOptional(Q,Me,"batchingColorTexture"),Me._colorsTexture!==null&&mi.setValue(Q,"batchingColorTexture",Me._colorsTexture,ie));const gr=Ne.morphAttributes;if((gr.position!==void 0||gr.normal!==void 0||gr.color!==void 0)&&wt.update(Me,Ne,Kr),(bi||Vt.receiveShadow!==Me.receiveShadow)&&(Vt.receiveShadow=Me.receiveShadow,mi.setValue(Q,"receiveShadow",Me.receiveShadow)),Be.isMeshGouraudMaterial&&Be.envMap!==null&&(Jr.envMap.value=It,Jr.flipEnvMap.value=It.isCubeTexture&&It.isRenderTargetTexture===!1?-1:1),Be.isMeshStandardMaterial&&Be.envMap===null&&fe.environment!==null&&(Jr.envMapIntensity.value=fe.environmentIntensity),bi&&(mi.setValue(Q,"toneMappingExposure",M.toneMappingExposure),Vt.needsLights&&Ds(Jr,Ko),ot&&Be.fog===!0&&ct.refreshFogUniforms(Jr,ot),ct.refreshMaterialUniforms(Jr,Be,X,Y,x.state.transmissionRenderTarget[te.id]),nT.upload(Q,ti(Vt),Jr,ie)),Be.isShaderMaterial&&Be.uniformsNeedUpdate===!0&&(nT.upload(Q,ti(Vt),Jr,ie),Be.uniformsNeedUpdate=!1),Be.isSpriteMaterial&&mi.setValue(Q,"center",Me.center),mi.setValue(Q,"modelViewMatrix",Me.modelViewMatrix),mi.setValue(Q,"normalMatrix",Me.normalMatrix),mi.setValue(Q,"modelMatrix",Me.matrixWorld),Be.isShaderMaterial||Be.isRawShaderMaterial){const Fr=Be.uniformsGroups;for(let Hr=0,Is=Fr.length;Hr<Is;Hr++){const Jo=Fr[Hr];ce.update(Jo,Kr),ce.bind(Jo,Kr)}}return Kr}function Ds(te,fe){te.ambientLightColor.needsUpdate=fe,te.lightProbe.needsUpdate=fe,te.directionalLights.needsUpdate=fe,te.directionalLightShadows.needsUpdate=fe,te.pointLights.needsUpdate=fe,te.pointLightShadows.needsUpdate=fe,te.spotLights.needsUpdate=fe,te.spotLightShadows.needsUpdate=fe,te.rectAreaLights.needsUpdate=fe,te.hemisphereLights.needsUpdate=fe}function Li(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(te,fe,Ne){const Be=De.get(te);Be.__autoAllocateDepthBuffer=te.resolveDepthBuffer===!1,Be.__autoAllocateDepthBuffer===!1&&(Be.__useRenderToTexture=!1),De.get(te.texture).__webglTexture=fe,De.get(te.depthTexture).__webglTexture=Be.__autoAllocateDepthBuffer?void 0:Ne,Be.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(te,fe){const Ne=De.get(te);Ne.__webglFramebuffer=fe,Ne.__useDefaultFramebuffer=fe===void 0};const Ze=Q.createFramebuffer();this.setRenderTarget=function(te,fe=0,Ne=0){N=te,R=fe,B=Ne;let Be=!0,Me=null,ot=!1,_t=!1;if(te){const It=De.get(te);if(It.__useDefaultFramebuffer!==void 0)Ce.bindFramebuffer(Q.FRAMEBUFFER,null),Be=!1;else if(It.__webglFramebuffer===void 0)ie.setupRenderTarget(te);else if(It.__hasExternalTextures)ie.rebindTextures(te,De.get(te.texture).__webglTexture,De.get(te.depthTexture).__webglTexture);else if(te.depthBuffer){const Lt=te.depthTexture;if(It.__boundDepthTexture!==Lt){if(Lt!==null&&De.has(Lt)&&(te.width!==Lt.image.width||te.height!==Lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ie.setupDepthRenderbuffer(te)}}const St=te.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(_t=!0);const kt=De.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(kt[fe])?Me=kt[fe][Ne]:Me=kt[fe],ot=!0):te.samples>0&&ie.useMultisampledRTT(te)===!1?Me=De.get(te).__webglMultisampledFramebuffer:Array.isArray(kt)?Me=kt[Ne]:Me=kt,F.copy(te.viewport),U.copy(te.scissor),j=te.scissorTest}else F.copy(ae).multiplyScalar(X).floor(),U.copy(ye).multiplyScalar(X).floor(),j=Se;if(Ne!==0&&(Me=Ze),Ce.bindFramebuffer(Q.FRAMEBUFFER,Me)&&Be&&Ce.drawBuffers(te,Me),Ce.viewport(F),Ce.scissor(U),Ce.setScissorTest(j),ot){const It=De.get(te.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+fe,It.__webglTexture,Ne)}else if(_t){const It=De.get(te.texture),St=fe;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,It.__webglTexture,Ne,St)}else if(te!==null&&Ne!==0){const It=De.get(te.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,It.__webglTexture,Ne)}P=-1},this.readRenderTargetPixels=function(te,fe,Ne,Be,Me,ot,_t){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=De.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&_t!==void 0&&(xt=xt[_t]),xt){Ce.bindFramebuffer(Q.FRAMEBUFFER,xt);try{const It=te.texture,St=It.format,kt=It.type;if(!ke.textureFormatReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ke.textureTypeReadable(kt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=te.width-Be&&Ne>=0&&Ne<=te.height-Me&&Q.readPixels(fe,Ne,Be,Me,Xe.convert(St),Xe.convert(kt),ot)}finally{const It=N!==null?De.get(N).__webglFramebuffer:null;Ce.bindFramebuffer(Q.FRAMEBUFFER,It)}}},this.readRenderTargetPixelsAsync=async function(te,fe,Ne,Be,Me,ot,_t){if(!(te&&te.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=De.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&_t!==void 0&&(xt=xt[_t]),xt)if(fe>=0&&fe<=te.width-Be&&Ne>=0&&Ne<=te.height-Me){Ce.bindFramebuffer(Q.FRAMEBUFFER,xt);const It=te.texture,St=It.format,kt=It.type;if(!ke.textureFormatReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ke.textureTypeReadable(kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Lt=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Lt),Q.bufferData(Q.PIXEL_PACK_BUFFER,ot.byteLength,Q.STREAM_READ),Q.readPixels(fe,Ne,Be,Me,Xe.convert(St),Xe.convert(kt),0);const hn=N!==null?De.get(N).__webglFramebuffer:null;Ce.bindFramebuffer(Q.FRAMEBUFFER,hn);const jn=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await rxe(Q,jn,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,Lt),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,ot),Q.deleteBuffer(Lt),Q.deleteSync(jn),ot}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(te,fe=null,Ne=0){const Be=Math.pow(2,-Ne),Me=Math.floor(te.image.width*Be),ot=Math.floor(te.image.height*Be),_t=fe!==null?fe.x:0,xt=fe!==null?fe.y:0;ie.setTexture2D(te,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Ne,0,0,_t,xt,Me,ot),Ce.unbindTexture()};const Je=Q.createFramebuffer(),Mt=Q.createFramebuffer();this.copyTextureToTexture=function(te,fe,Ne=null,Be=null,Me=0,ot=null){ot===null&&(Me!==0?(eT("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ot=Me,Me=0):ot=0);let _t,xt,It,St,kt,Lt,hn,jn,zi;const Dn=te.isCompressedTexture?te.mipmaps[ot]:te.image;if(Ne!==null)_t=Ne.max.x-Ne.min.x,xt=Ne.max.y-Ne.min.y,It=Ne.isBox3?Ne.max.z-Ne.min.z:1,St=Ne.min.x,kt=Ne.min.y,Lt=Ne.isBox3?Ne.min.z:0;else{const gr=Math.pow(2,-Me);_t=Math.floor(Dn.width*gr),xt=Math.floor(Dn.height*gr),te.isDataArrayTexture?It=Dn.depth:te.isData3DTexture?It=Math.floor(Dn.depth*gr):It=1,St=0,kt=0,Lt=0}Be!==null?(hn=Be.x,jn=Be.y,zi=Be.z):(hn=0,jn=0,zi=0);const On=Xe.convert(fe.format),Vt=Xe.convert(fe.type);let ji;fe.isData3DTexture?(ie.setTexture3D(fe,0),ji=Q.TEXTURE_3D):fe.isDataArrayTexture||fe.isCompressedArrayTexture?(ie.setTexture2DArray(fe,0),ji=Q.TEXTURE_2D_ARRAY):(ie.setTexture2D(fe,0),ji=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,fe.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,fe.unpackAlignment);const zn=Q.getParameter(Q.UNPACK_ROW_LENGTH),Kr=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),$o=Q.getParameter(Q.UNPACK_SKIP_PIXELS),bi=Q.getParameter(Q.UNPACK_SKIP_ROWS),Ko=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Dn.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Dn.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,St),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,kt),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Lt);const mi=te.isDataArrayTexture||te.isData3DTexture,Jr=fe.isDataArrayTexture||fe.isData3DTexture;if(te.isDepthTexture){const gr=De.get(te),Fr=De.get(fe),Hr=De.get(gr.__renderTarget),Is=De.get(Fr.__renderTarget);Ce.bindFramebuffer(Q.READ_FRAMEBUFFER,Hr.__webglFramebuffer),Ce.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Is.__webglFramebuffer);for(let Jo=0;Jo<It;Jo++)mi&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,De.get(te).__webglTexture,Me,Lt+Jo),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,De.get(fe).__webglTexture,ot,zi+Jo)),Q.blitFramebuffer(St,kt,_t,xt,hn,jn,_t,xt,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Ce.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(Me!==0||te.isRenderTargetTexture||De.has(te)){const gr=De.get(te),Fr=De.get(fe);Ce.bindFramebuffer(Q.READ_FRAMEBUFFER,Je),Ce.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Mt);for(let Hr=0;Hr<It;Hr++)mi?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,gr.__webglTexture,Me,Lt+Hr):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,gr.__webglTexture,Me),Jr?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Fr.__webglTexture,ot,zi+Hr):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Fr.__webglTexture,ot),Me!==0?Q.blitFramebuffer(St,kt,_t,xt,hn,jn,_t,xt,Q.COLOR_BUFFER_BIT,Q.NEAREST):Jr?Q.copyTexSubImage3D(ji,ot,hn,jn,zi+Hr,St,kt,_t,xt):Q.copyTexSubImage2D(ji,ot,hn,jn,St,kt,_t,xt);Ce.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Jr?te.isDataTexture||te.isData3DTexture?Q.texSubImage3D(ji,ot,hn,jn,zi,_t,xt,It,On,Vt,Dn.data):fe.isCompressedArrayTexture?Q.compressedTexSubImage3D(ji,ot,hn,jn,zi,_t,xt,It,On,Dn.data):Q.texSubImage3D(ji,ot,hn,jn,zi,_t,xt,It,On,Vt,Dn):te.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,ot,hn,jn,_t,xt,On,Vt,Dn.data):te.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,ot,hn,jn,Dn.width,Dn.height,On,Dn.data):Q.texSubImage2D(Q.TEXTURE_2D,ot,hn,jn,_t,xt,On,Vt,Dn);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,zn),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,Kr),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,$o),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,bi),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Ko),ot===0&&fe.generateMipmaps&&Q.generateMipmap(ji),Ce.unbindTexture()},this.copyTextureToTexture3D=function(te,fe,Ne=null,Be=null,Me=0){return eT('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(te,fe,Ne,Be,Me)},this.initRenderTarget=function(te){De.get(te).__webglFramebuffer===void 0&&ie.setupRenderTarget(te)},this.initTexture=function(te){te.isCubeTexture?ie.setTextureCube(te,0):te.isData3DTexture?ie.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?ie.setTexture2DArray(te,0):ie.setTexture2D(te,0),Ce.unbindTexture()},this.resetState=function(){R=0,B=0,N=null,Ce.reset(),gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return El}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xn._getUnpackColorSpace()}}const yMe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:l3,AddEquation:gh,AddOperation:nX,AdditiveAnimationBlendMode:g3,AdditiveBlending:eN,AgXToneMapping:oX,AlphaFormat:f3,AlwaysCompare:AX,AlwaysDepth:KT,AlwaysStencilFunc:rN,AmbientLight:dq,AnimationAction:xq,AnimationClip:f0,AnimationLoader:PSe,AnimationMixer:aAe,AnimationObjectGroup:rAe,AnimationUtils:RSe,ArcCurve:FX,ArrayCamera:vq,ArrowHelper:wAe,AttachedBindMode:iN,Audio:bq,AudioAnalyser:qSe,AudioContext:j3,AudioListener:WSe,AudioLoader:GSe,AxesHelper:RAe,BackSide:Ba,BasicDepthPacking:pX,BasicShadowMap:LY,BatchedMesh:LX,Bone:gR,BooleanKeyframeTrack:gg,Box2:pAe,Box3:Vs,Box3Helper:TAe,BoxGeometry:mg,BoxHelper:CAe,BufferAttribute:ei,BufferGeometry:bn,BufferGeometryLoader:gq,ByteType:c3,Cache:Ad,Camera:hR,CameraHelper:EAe,CanvasTexture:Jxe,CapsuleGeometry:xR,CatmullRomCurve3:HX,CineonToneMapping:sX,CircleGeometry:SR,ClampToEdgeWrapping:Lo,Clock:W3,Color:Rt,ColorKeyframeTrack:k3,ColorManagement:Xn,CompressedArrayTexture:$xe,CompressedCubeTexture:Kxe,CompressedTexture:bR,CompressedTextureLoader:NSe,ConeGeometry:pA,ConstantAlphaFactor:ZY,ConstantColorFactor:JY,Controls:IAe,CubeCamera:IX,CubeReflectionMapping:Vd,CubeRefractionMapping:Fh,CubeTexture:uA,CubeTextureLoader:BSe,CubeUVReflectionMapping:W0,CubicBezierCurve:R3,CubicBezierCurve3:zX,CubicInterpolant:sq,CullFaceBack:ZP,CullFaceFront:BY,CullFaceFrontBack:o_e,CullFaceNone:NY,Curve:Ic,CurvePath:VX,CustomBlending:UY,CustomToneMapping:aX,CylinderGeometry:hA,Cylindrical:hAe,Data3DTexture:fR,DataArrayTexture:cA,DataTexture:wu,DataTextureLoader:LSe,DataUtils:xxe,DecrementStencilOp:v_e,DecrementWrapStencilOp:__e,DefaultLoadingManager:lq,DepthArrayTexture:Qxe,DepthFormat:r0,DepthStencilFormat:s0,DepthTexture:_R,DetachedBindMode:cX,DirectionalLight:V3,DirectionalLightHelper:AAe,DiscreteInterpolant:aq,DodecahedronGeometry:AR,DoubleSide:bc,DstAlphaFactor:YY,DstColorFactor:qY,DynamicCopyUsage:B_e,DynamicDrawUsage:R_e,DynamicReadUsage:O_e,EdgesGeometry:kX,EllipseCurve:ER,EqualCompare:bX,EqualDepth:QT,EqualStencilFunc:E_e,EquirectangularReflectionMapping:hS,EquirectangularRefractionMapping:pS,Euler:Vo,EventDispatcher:Lu,ExtrudeGeometry:CR,FileLoader:jo,Float16BufferAttribute:wxe,Float32BufferAttribute:Ht,FloatType:ro,Fog:mR,FogExp2:pR,FramebufferTexture:qxe,FrontSide:Pu,Frustum:X0,FrustumArray:yR,GLBufferAttribute:fAe,GLSL1:U_e,GLSL3:sN,GreaterCompare:_X,GreaterDepth:eM,GreaterEqualCompare:SX,GreaterEqualDepth:ZT,GreaterEqualStencilFunc:w_e,GreaterStencilFunc:T_e,GridHelper:xAe,Group:Sd,HalfFloatType:Y0,HemisphereLight:uq,HemisphereLightHelper:_Ae,IcosahedronGeometry:TR,ImageBitmapLoader:yq,ImageLoader:AS,ImageUtils:MX,IncrementStencilOp:y_e,IncrementWrapStencilOp:b_e,InstancedBufferAttribute:ig,InstancedBufferGeometry:mq,InstancedInterleavedBuffer:dAe,InstancedMesh:C3,Int16BufferAttribute:Txe,Int32BufferAttribute:Mxe,Int8BufferAttribute:Axe,IntType:rR,InterleavedBuffer:dA,InterleavedBufferAttribute:Gh,Interpolant:$0,InterpolateDiscrete:a0,InterpolateLinear:o0,InterpolateSmooth:Z1,InterpolationSamplingMode:H_e,InterpolationSamplingType:F_e,InvertStencilOp:x_e,KeepStencilOp:ym,KeyframeTrack:Ll,LOD:BX,LatheGeometry:MR,Layers:c0,LessCompare:vX,LessDepth:JT,LessEqualCompare:v3,LessEqualDepth:ng,LessEqualStencilFunc:C_e,LessStencilFunc:A_e,Light:Jh,LightProbe:pq,Line:Wd,Line3:mAe,LineBasicMaterial:da,LineCurve:D3,LineCurve3:GX,LineDashedMaterial:nq,LineLoop:T3,LineSegments:Dc,LinearFilter:Br,LinearInterpolant:U3,LinearMipMapLinearFilter:d_e,LinearMipMapNearestFilter:u_e,LinearMipmapLinearFilter:Al,LinearMipmapNearestFilter:Iv,LinearSRGBColorSpace:zh,LinearToneMapping:iX,LinearTransfer:gS,Loader:fa,LoaderUtils:Rh,LoadingManager:F3,LoopOnce:uX,LoopPingPong:fX,LoopRepeat:dX,MOUSE:mm,Material:cs,MaterialLoader:NR,MathUtils:EX,Matrix2:$3,Matrix3:xn,Matrix4:Yt,MaxEquation:zY,Mesh:Lr,MeshBasicMaterial:Uo,MeshDepthMaterial:N3,MeshDistanceMaterial:B3,MeshLambertMaterial:eq,MeshMatcapMaterial:tq,MeshNormalMaterial:ZX,MeshPhongMaterial:JX,MeshPhysicalMaterial:Bl,MeshStandardMaterial:yA,MeshToonMaterial:QX,MinEquation:HY,MirroredRepeatWrapping:t0,MixOperation:tX,MultiplyBlending:nN,MultiplyOperation:oA,NearestFilter:Es,NearestMipMapLinearFilter:c_e,NearestMipMapNearestFilter:l_e,NearestMipmapLinearFilter:Rm,NearestMipmapNearestFilter:iR,NeutralToneMapping:lX,NeverCompare:yX,NeverDepth:$T,NeverStencilFunc:S_e,NoBlending:wd,NoColorSpace:yd,NoToneMapping:Mu,NormalAnimationBlendMode:uR,NormalBlending:Gm,NotEqualCompare:xX,NotEqualDepth:tM,NotEqualStencilFunc:M_e,NumberKeyframeTrack:sg,Object3D:qn,ObjectLoader:HSe,ObjectSpaceNormalMap:gX,OctahedronGeometry:mA,OneFactor:VY,OneMinusConstantAlphaFactor:eX,OneMinusConstantColorFactor:QY,OneMinusDstAlphaFactor:XY,OneMinusDstColorFactor:$Y,OneMinusSrcAlphaFactor:qT,OneMinusSrcColorFactor:WY,OrthographicCamera:Dd,PCFShadowMap:tR,PCFSoftShadowMap:Cx,PMREMGenerator:hN,Path:OM,PerspectiveCamera:Er,Plane:gd,PlaneGeometry:q0,PlaneHelper:MAe,PointLight:G3,PointLightHelper:vAe,Points:M3,PointsMaterial:vR,PolarGridHelper:SAe,PolyhedronGeometry:Kh,PositionalAudio:XSe,PropertyBinding:Jn,PropertyMixer:_q,QuadraticBezierCurve:I3,QuadraticBezierCurve3:O3,Quaternion:Cs,QuaternionKeyframeTrack:ag,QuaternionLinearInterpolant:oq,RED_GREEN_RGTC2_Format:TM,RED_RGTC1_Format:m3,REVISION:aA,RGBADepthPacking:mX,RGBAFormat:ca,RGBAIntegerFormat:cR,RGBA_ASTC_10x10_Format:_M,RGBA_ASTC_10x5_Format:yM,RGBA_ASTC_10x6_Format:vM,RGBA_ASTC_10x8_Format:bM,RGBA_ASTC_12x10_Format:xM,RGBA_ASTC_12x12_Format:SM,RGBA_ASTC_4x4_Format:cM,RGBA_ASTC_5x4_Format:uM,RGBA_ASTC_5x5_Format:dM,RGBA_ASTC_6x5_Format:fM,RGBA_ASTC_6x6_Format:hM,RGBA_ASTC_8x5_Format:pM,RGBA_ASTC_8x6_Format:mM,RGBA_ASTC_8x8_Format:gM,RGBA_BPTC_Format:Dx,RGBA_ETC2_EAC_Format:lM,RGBA_PVRTC_2BPPV1_Format:sM,RGBA_PVRTC_4BPPV1_Format:rM,RGBA_S3TC_DXT1_Format:Mx,RGBA_S3TC_DXT3_Format:wx,RGBA_S3TC_DXT5_Format:Rx,RGBDepthPacking:h_e,RGBFormat:h3,RGBIntegerFormat:f_e,RGB_BPTC_SIGNED_Format:AM,RGB_BPTC_UNSIGNED_Format:EM,RGB_ETC1_Format:aM,RGB_ETC2_Format:oM,RGB_PVRTC_2BPPV1_Format:iM,RGB_PVRTC_4BPPV1_Format:nM,RGB_S3TC_DXT1_Format:Tx,RGDepthPacking:p_e,RGFormat:p3,RGIntegerFormat:lR,RawShaderMaterial:KX,Ray:pg,Raycaster:Sq,RectAreaLight:fq,RedFormat:oR,RedIntegerFormat:lA,ReinhardToneMapping:rX,RenderTarget:dR,RenderTarget3D:oAe,RenderTargetArray:lAe,RepeatWrapping:Hh,ReplaceStencilOp:g_e,ReverseSubtractEquation:FY,RingGeometry:wR,SIGNED_RED_GREEN_RGTC2_Format:MM,SIGNED_RED_RGTC1_Format:CM,SRGBColorSpace:sa,SRGBTransfer:Ti,Scene:S3,ShaderChunk:Cn,ShaderLib:gc,ShaderMaterial:Mc,ShadowMaterial:$X,Shape:jm,ShapeGeometry:RR,ShapePath:DAe,ShapeUtils:Ec,ShortType:u3,Skeleton:fA,SkeletonHelper:yAe,SkinnedMesh:E3,Source:vh,Sphere:Ts,SphereGeometry:gA,Spherical:dN,SphericalHarmonics3:hq,SplineCurve:P3,SpotLight:z3,SpotLightHelper:gAe,Sprite:NX,SpriteMaterial:A3,SrcAlphaFactor:XT,SrcAlphaSaturateFactor:KY,SrcColorFactor:jY,StaticCopyUsage:N_e,StaticDrawUsage:yS,StaticReadUsage:I_e,StereoCamera:VSe,StreamCopyUsage:L_e,StreamDrawUsage:D_e,StreamReadUsage:P_e,StringKeyframeTrack:yg,SubtractEquation:kY,SubtractiveBlending:tN,TOUCH:gm,TangentSpaceNormalMap:$h,TetrahedronGeometry:DR,Texture:ir,TextureLoader:cq,TextureUtils:LAe,TimestampQuery:k_e,TorusGeometry:IR,TorusKnotGeometry:OR,Triangle:eo,TriangleFanDrawMode:wM,TriangleStripDrawMode:y3,TrianglesDrawMode:hX,TubeGeometry:PR,UVMapping:nR,Uint16BufferAttribute:_3,Uint32BufferAttribute:x3,Uint8BufferAttribute:Exe,Uint8ClampedBufferAttribute:Cxe,Uniform:q3,UniformsGroup:uAe,UniformsLib:Pt,UniformsUtils:DX,UnsignedByteType:Ol,UnsignedInt248Type:i0,UnsignedInt5999Type:d3,UnsignedIntType:jd,UnsignedShort4444Type:sR,UnsignedShort5551Type:aR,UnsignedShortType:n0,VSMShadowMap:pc,Vector2:rt,Vector3:le,Vector4:Zn,VectorKeyframeTrack:og,VideoFrameTexture:Xxe,VideoTexture:UX,WebGL3DRenderTarget:dxe,WebGLArrayRenderTarget:uxe,WebGLCoordinateSystem:El,WebGLCubeRenderTarget:OX,WebGLRenderTarget:Nu,WebGLRenderer:Dq,WebGLUtils:Rq,WebGPUCoordinateSystem:vS,WebXRController:tT,WireframeGeometry:qX,WrapAroundEnding:mS,ZeroCurvatureEnding:Dm,ZeroFactor:GY,ZeroSlopeEnding:Im,ZeroStencilOp:m_e,createCanvasElement:TX},Symbol.toStringTag,{value:"Module"}));var N2={exports:{}},pd={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RG;function vMe(){return RG||(RG=1,pd.ConcurrentRoot=1,pd.ContinuousEventPriority=8,pd.DefaultEventPriority=32,pd.DiscreteEventPriority=2,pd.IdleEventPriority=268435456,pd.LegacyRoot=0,pd.NoEventPriority=0),pd}var DG;function bMe(){return DG||(DG=1,N2.exports=vMe()),N2.exports}var iT=bMe(),B2={exports:{}},L2={},U2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IG;function _Me(){if(IG)return k2;IG=1;var n=T0();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,m){var v=m(),b=i({inst:{value:v,getSnapshot:m}}),A=b[0].inst,_=b[1];return s(function(){A.value=v,A.getSnapshot=m,l(A)&&_({inst:A})},[h,v,m]),r(function(){return l(A)&&_({inst:A}),h(function(){l(A)&&_({inst:A})})},[h]),a(v),v}function l(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!t(h,v)}catch{return!0}}function c(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return k2.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,k2}var OG;function xMe(){return OG||(OG=1,U2.exports=_Me()),U2.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PG;function SMe(){if(PG)return L2;PG=1;var n=T0(),e=xMe();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return L2.useSyncExternalStoreWithSelector=function(c,d,h,m,v){var b=s(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=o(function(){function x(R){if(!T){if(T=!0,C=R,R=m(R),v!==void 0&&A.hasValue){var B=A.value;if(v(B,R))return M=B}return M=R}if(B=M,i(C,R))return B;var N=m(R);return v!==void 0&&v(B,N)?(C=R,B):(C=R,M=N)}var T=!1,C,M,O=h===void 0?null:h;return[function(){return x(d())},O===null?void 0:function(){return x(O())}]},[d,h,m,v]);var _=r(c,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=_},[_]),l(_),_},L2}var NG;function AMe(){return NG||(NG=1,B2.exports=SMe()),B2.exports}var Iq=AMe();const EMe=C0(Iq),BG=n=>{let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const m=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(v=>v(e,m))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,o);return o},CMe=n=>n?BG(n):BG,{useSyncExternalStoreWithSelector:TMe}=EMe,MMe=n=>n;function wMe(n,e=MMe,t){const i=TMe(n.subscribe,n.getState,n.getInitialState,e,t);return to.useDebugValue(i),i}const LG=(n,e)=>{const t=CMe(n),i=(r,s=e)=>wMe(t,r,s);return Object.assign(i,t),i},RMe=(n,e)=>n?LG(n,e):LG;var F2={exports:{}},H2={exports:{}},z2={exports:{}},G2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UG;function DMe(){return UG||(UG=1,function(n){function e(H,Y){var X=H.length;H.push(Y);e:for(;0<X;){var ne=X-1>>>1,K=H[ne];if(0<r(K,Y))H[ne]=Y,H[X]=K,X=ne;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],X=H.pop();if(X!==Y){H[0]=X;e:for(var ne=0,K=H.length,ae=K>>>1;ne<ae;){var ye=2*(ne+1)-1,Se=H[ye],de=ye+1,xe=H[de];if(0>r(Se,X))de<K&&0>r(xe,Se)?(H[ne]=xe,H[de]=X,ne=de):(H[ne]=Se,H[ye]=X,ne=ye);else if(de<K&&0>r(xe,X))H[ne]=xe,H[de]=X,ne=de;else break e}}return Y}function r(H,Y){var X=H.sortIndex-Y.sortIndex;return X!==0?X:H.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,m=3,v=!1,b=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=H)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function M(H){if(A=!1,C(H),!b)if(t(l)!==null)b=!0,q();else{var Y=t(c);Y!==null&&Z(M,Y.startTime-H)}}var O=!1,R=-1,B=5,N=-1;function P(){return!(n.unstable_now()-N<B)}function I(){if(O){var H=n.unstable_now();N=H;var Y=!0;try{e:{b=!1,A&&(A=!1,x(R),R=-1),v=!0;var X=m;try{t:{for(C(H),h=t(l);h!==null&&!(h.expirationTime>H&&P());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,m=h.priorityLevel;var K=ne(h.expirationTime<=H);if(H=n.unstable_now(),typeof K=="function"){h.callback=K,C(H),Y=!0;break t}h===t(l)&&i(l),C(H)}else i(l);h=t(l)}if(h!==null)Y=!0;else{var ae=t(c);ae!==null&&Z(M,ae.startTime-H),Y=!1}}break e}finally{h=null,m=X,v=!1}Y=void 0}}finally{Y?F():O=!1}}}var F;if(typeof T=="function")F=function(){T(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=I,F=function(){j.postMessage(null)}}else F=function(){_(I,0)};function q(){O||(O=!0,F())}function Z(H,Y){R=_(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){b||v||(b=!0,q())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var X=m;m=Y;try{return H()}finally{m=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return Y()}finally{m=X}},n.unstable_scheduleCallback=function(H,Y,X){var ne=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,H={id:d++,callback:Y,priorityLevel:H,startTime:X,expirationTime:K,sortIndex:-1},X>ne?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(A?(x(R),R=-1):A=!0,Z(M,X-ne))):(H.sortIndex=K,e(l,H),b||v||(b=!0,q())),H},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(H){var Y=m;return function(){var X=m;m=Y;try{return H.apply(this,arguments)}finally{m=X}}}}(G2)),G2}var kG;function IMe(){return kG||(kG=1,z2.exports=DMe()),z2.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FG;function OMe(){return FG||(FG=1,function(n){n.exports=function(e){function t(p,g,E,D){return new Pb(p,g,E,D)}function i(){}function r(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(p){return p===null||typeof p!="object"?null:(p=Jl&&p[Jl]||p["@@iterator"],typeof p=="function"?p:null)}function a(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===Ub?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case Xc:return"Fragment";case Ga:return"Portal";case Kg:return"Profiler";case Rp:return"StrictMode";case Jg:return"Suspense";case Mf:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case _o:return(p.displayName||"Context")+".Provider";case Bb:return(p._context.displayName||"Context")+".Consumer";case Ip:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case Qg:return g=p.displayName||null,g!==null?g:a(p.type)||"Memo";case Va:g=p._payload,p=p._init;try{return a(p(g))}catch{}}return null}function o(p){if(nl===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);nl=g&&g[1]||"",Ql=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+p+Ql}function l(p,g){if(!p||zu)return"";zu=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(g){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(mn){var Bt=mn}Reflect.construct(p,[],Ot)}else{try{Ot.call()}catch(mn){Bt=mn}p.call(Ot.prototype)}}else{try{throw Error()}catch(mn){Bt=mn}(Ot=p())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(mn){if(mn&&Bt&&typeof mn.stack=="string")return[mn.stack,Bt.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=D.DetermineComponentFrameRoot(),se=z[0],me=z[1];if(se&&me){var Ie=se.split(`
`),nt=me.split(`
`);for(k=D=0;D<Ie.length&&!Ie[D].includes("DetermineComponentFrameRoot");)D++;for(;k<nt.length&&!nt[k].includes("DetermineComponentFrameRoot");)k++;if(D===Ie.length||k===nt.length)for(D=Ie.length-1,k=nt.length-1;1<=D&&0<=k&&Ie[D]!==nt[k];)k--;for(;1<=D&&0<=k;D--,k--)if(Ie[D]!==nt[k]){if(D!==1||k!==1)do if(D--,k--,0>k||Ie[D]!==nt[k]){var pt=`
`+Ie[D].replace(" at new "," at ");return p.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",p.displayName)),pt}while(1<=D&&0<=k);break}}}finally{zu=!1,Error.prepareStackTrace=E}return(E=p?p.displayName||p.name:"")?o(E):""}function c(p){switch(p.tag){case 26:case 27:case 5:return o(p.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return p=l(p.type,!1),p;case 11:return p=l(p.type.render,!1),p;case 1:return p=l(p.type,!0),p;default:return""}}function d(p){try{var g="";do g+=c(p),p=p.return;while(p);return g}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function h(p){var g=p,E=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(E=g.return),p=g.return;while(p)}return g.tag===3?E:null}function m(p){if(h(p)!==p)throw Error(r(188))}function v(p){var g=p.alternate;if(!g){if(g=h(p),g===null)throw Error(r(188));return g!==p?null:p}for(var E=p,D=g;;){var k=E.return;if(k===null)break;var z=k.alternate;if(z===null){if(D=k.return,D!==null){E=D;continue}break}if(k.child===z.child){for(z=k.child;z;){if(z===E)return m(k),p;if(z===D)return m(k),g;z=z.sibling}throw Error(r(188))}if(E.return!==D.return)E=k,D=z;else{for(var se=!1,me=k.child;me;){if(me===E){se=!0,E=k,D=z;break}if(me===D){se=!0,D=k,E=z;break}me=me.sibling}if(!se){for(me=z.child;me;){if(me===E){se=!0,E=z,D=k;break}if(me===D){se=!0,D=z,E=k;break}me=me.sibling}if(!se)throw Error(r(189))}}if(E.alternate!==D)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?p:g}function b(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(g=b(p),g!==null)return g;p=p.sibling}return null}function A(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(g=A(p),g!==null))return g;p=p.sibling}return null}function _(p){return{current:p}}function x(p){0>nc||(p.current=or[nc],or[nc]=null,nc--)}function T(p,g){nc++,or[nc]=p.current,p.current=g}function C(p){return p>>>=0,p===0?32:31-(kE(p)/FE|0)|0}function M(p){var g=p&42;if(g!==0)return g;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function O(p,g){var E=p.pendingLanes;if(E===0)return 0;var D=0,k=p.suspendedLanes,z=p.pingedLanes,se=p.warmLanes;p=p.finishedLanes!==0;var me=E&134217727;return me!==0?(E=me&~k,E!==0?D=M(E):(z&=me,z!==0?D=M(z):p||(se=me&~se,se!==0&&(D=M(se))))):(me=E&~k,me!==0?D=M(me):z!==0?D=M(z):p||(se=E&~se,se!==0&&(D=M(se)))),D===0?0:g!==0&&g!==D&&(g&k)===0&&(k=D&-D,se=g&-g,k>=se||k===32&&(se&4194176)!==0)?g:D}function R(p,g){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&g)===0}function B(p,g){switch(p){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var p=rl;return rl<<=1,(rl&4194176)===0&&(rl=128),p}function P(){var p=ju;return ju<<=1,(ju&62914560)===0&&(ju=4194304),p}function I(p){for(var g=[],E=0;31>E;E++)g.push(p);return g}function F(p,g){p.pendingLanes|=g,g!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function U(p,g,E,D,k,z){var se=p.pendingLanes;p.pendingLanes=E,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=E,p.entangledLanes&=E,p.errorRecoveryDisabledLanes&=E,p.shellSuspendCounter=0;var me=p.entanglements,Ie=p.expirationTimes,nt=p.hiddenUpdates;for(E=se&~E;0<E;){var pt=31-Us(E),Ot=1<<pt;me[pt]=0,Ie[pt]=-1;var Bt=nt[pt];if(Bt!==null)for(nt[pt]=null,pt=0;pt<Bt.length;pt++){var mn=Bt[pt];mn!==null&&(mn.lane&=-536870913)}E&=~Ot}D!==0&&j(p,D,0),z!==0&&k===0&&p.tag!==0&&(p.suspendedLanes|=z&~(se&~g))}function j(p,g,E){p.pendingLanes|=g,p.suspendedLanes&=~g;var D=31-Us(g);p.entangledLanes|=g,p.entanglements[D]=p.entanglements[D]|1073741824|E&4194218}function q(p,g){var E=p.entangledLanes|=g;for(p=p.entanglements;E;){var D=31-Us(E),k=1<<D;k&g|p[D]&g&&(p[D]|=g),E&=~k}}function Z(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function H(p){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(lr,p,void 0,(p.current.flags&128)===128)}catch{}}function Y(p){if(typeof GE=="function"&&Vr(p),Ks&&typeof Ks.setStrictMode=="function")try{Ks.setStrictMode(lr,p)}catch{}}function X(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}function ne(p,g){if(typeof p=="object"&&p!==null){var E=n_.get(p);return E!==void 0?E:(g={value:p,source:g,stack:d(g)},n_.set(p,g),g)}return{value:p,source:g,stack:d(g)}}function K(p,g){Wu[Yu++]=Lf,Wu[Yu++]=Xu,Xu=p,Lf=g}function ae(p,g,E){ya[va++]=Ao,ya[va++]=Eo,ya[va++]=eu,eu=p;var D=Ao;p=Eo;var k=32-Us(D)-1;D&=~(1<<k),E+=1;var z=32-Us(g)+k;if(30<z){var se=k-k%5;z=(D&(1<<se)-1).toString(32),D>>=se,k-=se,Ao=1<<32-Us(g)+k|E<<k|D,Eo=z+p}else Ao=1<<z|E<<k|D,Eo=p}function ye(p){p.return!==null&&(K(p,1),ae(p,1,0))}function Se(p){for(;p===Xu;)Xu=Wu[--Yu],Wu[Yu]=null,Lf=Wu[--Yu],Wu[Yu]=null;for(;p===eu;)eu=ya[--va],ya[va]=null,Eo=ya[--va],ya[va]=null,Ao=ya[--va],ya[va]=null}function de(p,g){T(sl,g),T(Uf,p),T(Dr,null),p=iE(g),x(Dr),T(Dr,p)}function xe(){x(Dr),x(Uf),x(sl)}function pe(p){p.memoizedState!==null&&T(qu,p);var g=Dr.current,E=If(g,p.type);g!==E&&(T(Uf,p),T(Dr,E))}function He(p){Uf.current===p&&(x(Dr),x(Uf)),qu.current===p&&(x(qu),Bs?xo._currentValue=$c:xo._currentValue2=$c)}function ve(p){var g=Error(r(418,""));throw _e(ne(g,p)),Hp}function V(p,g){if(!is)throw Error(r(175));wE(p.stateNode,p.type,p.memoizedProps,g,p)||ve(p)}function ee(p){for(rs=p.return;rs;)switch(rs.tag){case 3:case 27:jr=!0;return;case 5:case 13:jr=!1;return;default:rs=rs.return}}function oe(p){if(!is||p!==rs)return!1;if(!Gn)return ee(p),Gn=!0,!1;var g=!1;if(_i?p.tag!==3&&p.tag!==27&&(p.tag!==5||oy(p.type)&&!yn(p.type,p.memoizedProps))&&(g=!0):p.tag!==3&&(p.tag!==5||oy(p.type)&&!yn(p.type,p.memoizedProps))&&(g=!0),g&&ss&&ve(p),ee(p),p.tag===13){if(!is)throw Error(r(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));ss=DE(p)}else ss=rs?Qb(p.stateNode):null;return!0}function ue(){is&&(ss=rs=null,Gn=!1)}function _e(p){Ya===null?Ya=[p]:Ya.push(p)}function Q(){for(var p=$u,g=Co=$u=0;g<p;){var E=Xa[g];Xa[g++]=null;var D=Xa[g];Xa[g++]=null;var k=Xa[g];Xa[g++]=null;var z=Xa[g];if(Xa[g++]=null,D!==null&&k!==null){var se=D.pending;se===null?k.next=k:(k.next=se.next,se.next=k),D.pending=k}z!==0&&Ce(E,k,z)}}function Oe(p,g,E,D){Xa[$u++]=p,Xa[$u++]=g,Xa[$u++]=E,Xa[$u++]=D,Co|=D,p.lanes|=D,p=p.alternate,p!==null&&(p.lanes|=D)}function we(p,g,E,D){return Oe(p,g,E,D),ut(p)}function ke(p,g){return Oe(p,null,null,g),ut(p)}function Ce(p,g,E){p.lanes|=E;var D=p.alternate;D!==null&&(D.lanes|=E);for(var k=!1,z=p.return;z!==null;)z.childLanes|=E,D=z.alternate,D!==null&&(D.childLanes|=E),z.tag===22&&(p=z.stateNode,p===null||p._visibility&1||(k=!0)),p=z,z=z.return;k&&g!==null&&p.tag===3&&(z=p.stateNode,k=31-Us(E),z=z.hiddenUpdates,p=z[k],p===null?z[k]=[g]:p.push(g),g.lane=E|536870912)}function ut(p){if(50<Yf)throw Yf=0,Sy=null,Error(r(185));for(var g=p.return;g!==null;)p=g,g=p.return;return p.tag===3?p.stateNode:null}function De(p){p!==ic&&p.next===null&&(ic===null?zp=ic=p:ic=ic.next=p),wi=!0,Ku||(Ku=!0,ze($))}function ie(p,g){if(!i_&&wi){i_=!0;do for(var E=!1,D=zp;D!==null;){if(p!==0){var k=D.pendingLanes;if(k===0)var z=0;else{var se=D.suspendedLanes,me=D.pingedLanes;z=(1<<31-Us(42|p)+1)-1,z&=k&~(se&~me),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(E=!0,Qe(D,z))}else z=Pn,z=O(D,D===ri?z:0),(z&3)===0||R(D,z)||(E=!0,Qe(D,z));D=D.next}while(E);i_=!1}}function $(){wi=Ku=!1;var p=0;kf!==0&&(oE()&&(p=kf),kf=0);for(var g=Wa(),E=null,D=zp;D!==null;){var k=D.next,z=Ae(D,g);z===0?(D.next=null,E===null?zp=k:E.next=k,k===null&&(ic=E)):(E=D,(p!==0||(z&3)!==0)&&(wi=!0)),D=k}ie(p)}function Ae(p,g){for(var E=p.suspendedLanes,D=p.pingedLanes,k=p.expirationTimes,z=p.pendingLanes&-62914561;0<z;){var se=31-Us(z),me=1<<se,Ie=k[se];Ie===-1?((me&E)===0||(me&D)!==0)&&(k[se]=B(me,g)):Ie<=g&&(p.expiredLanes|=me),z&=~me}if(g=ri,E=Pn,E=O(p,p===g?E:0),D=p.callbackNode,E===0||p===g&&gi===2||p.cancelPendingCommit!==null)return D!==null&&D!==null&&dy(D),p.callbackNode=null,p.callbackPriority=0;if((E&3)===0||R(p,E)){if(g=E&-E,g===p.callbackPriority)return g;switch(D!==null&&dy(D),Z(E)){case 2:case 8:E=zE;break;case 32:E=py;break;case 268435456:E=RD;break;default:E=py}return D=Le.bind(null,p),E=Fp(E,D),p.callbackPriority=g,p.callbackNode=E,g}return D!==null&&D!==null&&dy(D),p.callbackPriority=2,p.callbackNode=null,2}function Le(p,g){var E=p.callbackNode;if(bo()&&p.callbackNode!==E)return null;var D=Pn;return D=O(p,p===ri?D:0),D===0?null:(Gc(p,D,g),Ae(p,Wa()),p.callbackNode!=null&&p.callbackNode===E?Le.bind(null,p):null)}function Qe(p,g){if(bo())return null;Gc(p,g,!0)}function ze(p){Gb?tc(function(){(Yn&6)!==0?Fp(hy,p):p()}):Fp(hy,p)}function ft(){return kf===0&&(kf=N()),kf}function ct(p,g){if(Ff===null){var E=Ff=[];Ju=0,ba=ft(),Qu={status:"pending",value:void 0,then:function(D){E.push(D)}}}return Ju++,g.then(Et,Et),g}function Et(){if(--Ju===0&&Ff!==null){Qu!==null&&(Qu.status="fulfilled");var p=Ff;Ff=null,ba=0,Qu=null;for(var g=0;g<p.length;g++)(0,p[g])()}}function Ct(p,g){var E=[],D={status:"pending",value:null,reason:null,then:function(k){E.push(k)}};return p.then(function(){D.status="fulfilled",D.value=g;for(var k=0;k<E.length;k++)(0,E[k])(g)},function(k){for(D.status="rejected",D.reason=k,k=0;k<E.length;k++)(0,E[k])(void 0)}),D}function je(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ht(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function Dt(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function wt(p,g,E){var D=p.updateQueue;if(D===null)return null;if(D=D.shared,(Yn&2)!==0){var k=D.pending;return k===null?g.next=g:(g.next=k.next,k.next=g),D.pending=g,g=ut(p),Ce(p,null,E),g}return Oe(p,D,g,E),ut(p)}function yt(p,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194176)!==0)){var D=g.lanes;D&=p.pendingLanes,E|=D,g.lanes=E,q(p,E)}}function ge(p,g){var E=p.updateQueue,D=p.alternate;if(D!==null&&(D=D.updateQueue,E===D)){var k=null,z=null;if(E=E.firstBaseUpdate,E!==null){do{var se={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};z===null?k=z=se:z=z.next=se,E=E.next}while(E!==null);z===null?k=z=g:z=z.next=g}else k=z=g;E={baseState:D.baseState,firstBaseUpdate:k,lastBaseUpdate:z,shared:D.shared,callbacks:D.callbacks},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=g:p.next=g,E.lastBaseUpdate=g}function Xe(){if(Zu){var p=Qu;if(p!==null)throw p}}function gt(p,g,E,D){Zu=!1;var k=p.updateQueue;rc=!1;var z=k.firstBaseUpdate,se=k.lastBaseUpdate,me=k.shared.pending;if(me!==null){k.shared.pending=null;var Ie=me,nt=Ie.next;Ie.next=null,se===null?z=nt:se.next=nt,se=Ie;var pt=p.alternate;pt!==null&&(pt=pt.updateQueue,me=pt.lastBaseUpdate,me!==se&&(me===null?pt.firstBaseUpdate=nt:me.next=nt,pt.lastBaseUpdate=Ie))}if(z!==null){var Ot=k.baseState;se=0,pt=nt=Ie=null,me=z;do{var Bt=me.lane&-536870913,mn=Bt!==me.lane;if(mn?(Pn&Bt)===Bt:(D&Bt)===Bt){Bt!==0&&Bt===ba&&(Zu=!0),pt!==null&&(pt=pt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Ma=p,cu=me;Bt=g;var uu=E;switch(cu.tag){case 1:if(Ma=cu.payload,typeof Ma=="function"){Ot=Ma.call(uu,Ot,Bt);break e}Ot=Ma;break e;case 3:Ma.flags=Ma.flags&-65537|128;case 0:if(Ma=cu.payload,Bt=typeof Ma=="function"?Ma.call(uu,Ot,Bt):Ma,Bt==null)break e;Ot=$g({},Ot,Bt);break e;case 2:rc=!0}}Bt=me.callback,Bt!==null&&(p.flags|=64,mn&&(p.flags|=8192),mn=k.callbacks,mn===null?k.callbacks=[Bt]:mn.push(Bt))}else mn={lane:Bt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},pt===null?(nt=pt=mn,Ie=Ot):pt=pt.next=mn,se|=Bt;if(me=me.next,me===null){if(me=k.shared.pending,me===null)break;mn=me,me=mn.next,mn.next=null,k.lastBaseUpdate=mn,k.shared.pending=null}}while(!0);pt===null&&(Ie=Ot),k.baseState=Ie,k.firstBaseUpdate=nt,k.lastBaseUpdate=pt,z===null&&(k.shared.lanes=0),Ca|=se,p.lanes=se,p.memoizedState=Ot}}function ce(p,g){if(typeof p!="function")throw Error(r(191,p));p.call(g)}function et(p,g){var E=p.callbacks;if(E!==null)for(p.callbacks=null,p=0;p<E.length;p++)ce(E[p],g)}function Pe(p,g){if(Js(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var E=Object.keys(p),D=Object.keys(g);if(E.length!==D.length)return!1;for(D=0;D<E.length;D++){var k=E[D];if(!al.call(g,k)||!Js(p[k],g[k]))return!1}return!0}function $e(p){return p=p.status,p==="fulfilled"||p==="rejected"}function vt(){}function mt(p,g,E){switch(E=p[E],E===void 0?p.push(g):E!==g&&(g.then(vt,vt),g=E),g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===Hf?Error(r(483)):p;default:if(typeof g.status=="string")g.then(vt,vt);else{if(p=ri,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=g,p.status="pending",p.then(function(D){if(g.status==="pending"){var k=g;k.status="fulfilled",k.value=D}},function(D){if(g.status==="pending"){var k=g;k.status="rejected",k.reason=D}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===Hf?Error(r(483)):p}throw tu=g,Hf}}function Ut(){if(tu===null)throw Error(r(459));var p=tu;return tu=null,p}function tn(p){var g=iu;return iu+=1,nu===null&&(nu=[]),mt(nu,p,g)}function Hn(p,g){g=g.props.ref,p.ref=g!==void 0?g:null}function Qt(p,g){throw g.$$typeof===SD?Error(r(525)):(p=Object.prototype.toString.call(g),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p)))}function Bi(p){var g=p._init;return g(p._payload)}function pi(p){function g(Ge,Ee){if(p){var Ye=Ge.deletions;Ye===null?(Ge.deletions=[Ee],Ge.flags|=16):Ye.push(Ee)}}function E(Ge,Ee){if(!p)return null;for(;Ee!==null;)g(Ge,Ee),Ee=Ee.sibling;return null}function D(Ge){for(var Ee=new Map;Ge!==null;)Ge.key!==null?Ee.set(Ge.key,Ge):Ee.set(Ge.index,Ge),Ge=Ge.sibling;return Ee}function k(Ge,Ee){return Ge=za(Ge,Ee),Ge.index=0,Ge.sibling=null,Ge}function z(Ge,Ee,Ye){return Ge.index=Ye,p?(Ye=Ge.alternate,Ye!==null?(Ye=Ye.index,Ye<Ee?(Ge.flags|=33554434,Ee):Ye):(Ge.flags|=33554434,Ee)):(Ge.flags|=1048576,Ee)}function se(Ge){return p&&Ge.alternate===null&&(Ge.flags|=33554434),Ge}function me(Ge,Ee,Ye,dt){return Ee===null||Ee.tag!==6?(Ee=Xg(Ye,Ge.mode,dt),Ee.return=Ge,Ee):(Ee=k(Ee,Ye),Ee.return=Ge,Ee)}function Ie(Ge,Ee,Ye,dt){var zt=Ye.type;return zt===Xc?pt(Ge,Ee,Ye.props.children,dt,Ye.key):Ee!==null&&(Ee.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Va&&Bi(zt)===Ee.type)?(Ee=k(Ee,Ye.props),Hn(Ee,Ye),Ee.return=Ge,Ee):(Ee=tl(Ye.type,Ye.key,Ye.props,null,Ge.mode,dt),Hn(Ee,Ye),Ee.return=Ge,Ee)}function nt(Ge,Ee,Ye,dt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Ye.containerInfo||Ee.stateNode.implementation!==Ye.implementation?(Ee=Nb(Ye,Ge.mode,dt),Ee.return=Ge,Ee):(Ee=k(Ee,Ye.children||[]),Ee.return=Ge,Ee)}function pt(Ge,Ee,Ye,dt,zt){return Ee===null||Ee.tag!==7?(Ee=$i(Ye,Ge.mode,dt,zt),Ee.return=Ge,Ee):(Ee=k(Ee,Ye),Ee.return=Ge,Ee)}function Ot(Ge,Ee,Ye){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=Xg(""+Ee,Ge.mode,Ye),Ee.return=Ge,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case wp:return Ye=tl(Ee.type,Ee.key,Ee.props,null,Ge.mode,Ye),Hn(Ye,Ee),Ye.return=Ge,Ye;case Ga:return Ee=Nb(Ee,Ge.mode,Ye),Ee.return=Ge,Ee;case Va:var dt=Ee._init;return Ee=dt(Ee._payload),Ot(Ge,Ee,Ye)}if(wf(Ee)||s(Ee))return Ee=$i(Ee,Ge.mode,Ye,null),Ee.return=Ge,Ee;if(typeof Ee.then=="function")return Ot(Ge,tn(Ee),Ye);if(Ee.$$typeof===_o)return Ot(Ge,hp(Ge,Ee),Ye);Qt(Ge,Ee)}return null}function Bt(Ge,Ee,Ye,dt){var zt=Ee!==null?Ee.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return zt!==null?null:me(Ge,Ee,""+Ye,dt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case wp:return Ye.key===zt?Ie(Ge,Ee,Ye,dt):null;case Ga:return Ye.key===zt?nt(Ge,Ee,Ye,dt):null;case Va:return zt=Ye._init,Ye=zt(Ye._payload),Bt(Ge,Ee,Ye,dt)}if(wf(Ye)||s(Ye))return zt!==null?null:pt(Ge,Ee,Ye,dt,null);if(typeof Ye.then=="function")return Bt(Ge,Ee,tn(Ye),dt);if(Ye.$$typeof===_o)return Bt(Ge,Ee,hp(Ge,Ye),dt);Qt(Ge,Ye)}return null}function mn(Ge,Ee,Ye,dt,zt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Ge=Ge.get(Ye)||null,me(Ee,Ge,""+dt,zt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case wp:return Ge=Ge.get(dt.key===null?Ye:dt.key)||null,Ie(Ee,Ge,dt,zt);case Ga:return Ge=Ge.get(dt.key===null?Ye:dt.key)||null,nt(Ee,Ge,dt,zt);case Va:var ki=dt._init;return dt=ki(dt._payload),mn(Ge,Ee,Ye,dt,zt)}if(wf(dt)||s(dt))return Ge=Ge.get(Ye)||null,pt(Ee,Ge,dt,zt,null);if(typeof dt.then=="function")return mn(Ge,Ee,Ye,tn(dt),zt);if(dt.$$typeof===_o)return mn(Ge,Ee,Ye,hp(Ee,dt),zt);Qt(Ee,dt)}return null}function Ma(Ge,Ee,Ye,dt){for(var zt=null,ki=null,ln=Ee,Kn=Ee=0,cr=null;ln!==null&&Kn<Ye.length;Kn++){ln.index>Kn?(cr=ln,ln=null):cr=ln.sibling;var In=Bt(Ge,ln,Ye[Kn],dt);if(In===null){ln===null&&(ln=cr);break}p&&ln&&In.alternate===null&&g(Ge,ln),Ee=z(In,Ee,Kn),ki===null?zt=In:ki.sibling=In,ki=In,ln=cr}if(Kn===Ye.length)return E(Ge,ln),Gn&&K(Ge,Kn),zt;if(ln===null){for(;Kn<Ye.length;Kn++)ln=Ot(Ge,Ye[Kn],dt),ln!==null&&(Ee=z(ln,Ee,Kn),ki===null?zt=ln:ki.sibling=ln,ki=ln);return Gn&&K(Ge,Kn),zt}for(ln=D(ln);Kn<Ye.length;Kn++)cr=mn(ln,Ge,Kn,Ye[Kn],dt),cr!==null&&(p&&cr.alternate!==null&&ln.delete(cr.key===null?Kn:cr.key),Ee=z(cr,Ee,Kn),ki===null?zt=cr:ki.sibling=cr,ki=cr);return p&&ln.forEach(function(pl){return g(Ge,pl)}),Gn&&K(Ge,Kn),zt}function cu(Ge,Ee,Ye,dt){if(Ye==null)throw Error(r(151));for(var zt=null,ki=null,ln=Ee,Kn=Ee=0,cr=null,In=Ye.next();ln!==null&&!In.done;Kn++,In=Ye.next()){ln.index>Kn?(cr=ln,ln=null):cr=ln.sibling;var pl=Bt(Ge,ln,In.value,dt);if(pl===null){ln===null&&(ln=cr);break}p&&ln&&pl.alternate===null&&g(Ge,ln),Ee=z(pl,Ee,Kn),ki===null?zt=pl:ki.sibling=pl,ki=pl,ln=cr}if(In.done)return E(Ge,ln),Gn&&K(Ge,Kn),zt;if(ln===null){for(;!In.done;Kn++,In=Ye.next())In=Ot(Ge,In.value,dt),In!==null&&(Ee=z(In,Ee,Kn),ki===null?zt=In:ki.sibling=In,ki=In);return Gn&&K(Ge,Kn),zt}for(ln=D(ln);!In.done;Kn++,In=Ye.next())In=mn(ln,Ge,Kn,In.value,dt),In!==null&&(p&&In.alternate!==null&&ln.delete(In.key===null?Kn:In.key),Ee=z(In,Ee,Kn),ki===null?zt=In:ki.sibling=In,ki=In);return p&&ln.forEach(function(Ay){return g(Ge,Ay)}),Gn&&K(Ge,Kn),zt}function uu(Ge,Ee,Ye,dt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===Xc&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case wp:e:{for(var zt=Ye.key;Ee!==null;){if(Ee.key===zt){if(zt=Ye.type,zt===Xc){if(Ee.tag===7){E(Ge,Ee.sibling),dt=k(Ee,Ye.props.children),dt.return=Ge,Ge=dt;break e}}else if(Ee.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Va&&Bi(zt)===Ee.type){E(Ge,Ee.sibling),dt=k(Ee,Ye.props),Hn(dt,Ye),dt.return=Ge,Ge=dt;break e}E(Ge,Ee);break}else g(Ge,Ee);Ee=Ee.sibling}Ye.type===Xc?(dt=$i(Ye.props.children,Ge.mode,dt,Ye.key),dt.return=Ge,Ge=dt):(dt=tl(Ye.type,Ye.key,Ye.props,null,Ge.mode,dt),Hn(dt,Ye),dt.return=Ge,Ge=dt)}return se(Ge);case Ga:e:{for(zt=Ye.key;Ee!==null;){if(Ee.key===zt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Ye.containerInfo&&Ee.stateNode.implementation===Ye.implementation){E(Ge,Ee.sibling),dt=k(Ee,Ye.children||[]),dt.return=Ge,Ge=dt;break e}else{E(Ge,Ee);break}else g(Ge,Ee);Ee=Ee.sibling}dt=Nb(Ye,Ge.mode,dt),dt.return=Ge,Ge=dt}return se(Ge);case Va:return zt=Ye._init,Ye=zt(Ye._payload),uu(Ge,Ee,Ye,dt)}if(wf(Ye))return Ma(Ge,Ee,Ye,dt);if(s(Ye)){if(zt=s(Ye),typeof zt!="function")throw Error(r(150));return Ye=zt.call(Ye),cu(Ge,Ee,Ye,dt)}if(typeof Ye.then=="function")return uu(Ge,Ee,tn(Ye),dt);if(Ye.$$typeof===_o)return uu(Ge,Ee,hp(Ge,Ye),dt);Qt(Ge,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Ee!==null&&Ee.tag===6?(E(Ge,Ee.sibling),dt=k(Ee,Ye),dt.return=Ge,Ge=dt):(E(Ge,Ee),dt=Xg(Ye,Ge.mode,dt),dt.return=Ge,Ge=dt),se(Ge)):E(Ge,Ee)}return function(Ge,Ee,Ye,dt){try{iu=0;var zt=uu(Ge,Ee,Ye,dt);return nu=null,zt}catch(ln){if(ln===Hf)throw ln;var ki=t(29,ln,null,Ge.mode);return ki.lanes=dt,ki.return=Ge,ki}finally{}}}function vi(p,g){p=gs,T(zf,p),T(Ri,g),gs=p|g.baseLanes}function Mi(){T(zf,gs),T(Ri,Ri.current)}function qi(){gs=zf.current,x(Ri),x(zf)}function kr(p){var g=p.alternate;T(Ir,Ir.current&1),T(_a,p),xi===null&&(g===null||Ri.current!==null||g.memoizedState!==null)&&(xi=p)}function kl(p){if(p.tag===22){if(T(Ir,Ir.current),T(_a,p),xi===null){var g=p.alternate;g!==null&&g.memoizedState!==null&&(xi=p)}}else Rs()}function Rs(){T(Ir,Ir.current),T(_a,_a.current)}function wr(p){x(_a),xi===p&&(xi=null),x(Ir)}function $r(p){for(var g=p;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||ry(E)||sy(E)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function nn(){throw Error(r(321))}function ti(p,g){if(g===null)return!1;for(var E=0;E<g.length&&E<p.length;E++)if(!Js(p[E],g[E]))return!1;return!0}function mr(p,g,E,D,k,z){return sc=z,Sn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,on.H=p===null||p.memoizedState===null?au:ks,su=!1,z=E(D,k),su=!1,ed&&(z=Ds(g,E,D,k)),ka(p),z}function ka(p){on.H=Ki;var g=Wt!==null&&Wt.next!==null;if(sc=0,Wn=Wt=Sn=null,qa=!1,td=0,Wr=null,g)throw Error(r(300));p===null||Si||(p=p.dependencies,p!==null&&fp(p)&&(Si=!0))}function Ds(p,g,E,D){Sn=p;var k=0;do{if(ed&&(Wr=null),td=0,ed=!1,25<=k)throw Error(r(301));if(k+=1,Wn=Wt=null,p.updateQueue!=null){var z=p.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}on.H=xa,z=g(E,D)}while(ed);return z}function Li(){var p=on.H,g=p.useState()[0];return g=typeof g.then=="function"?Ne(g):g,p=p.useState()[0],(Wt!==null?Wt.memoizedState:null)!==p&&(Sn.flags|=1024),g}function Ze(){var p=my!==0;return my=0,p}function Je(p,g,E){g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~E}function Mt(p){if(qa){for(p=p.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}qa=!1}sc=0,Wn=Wt=Sn=null,ed=!1,td=my=0,Wr=null}function te(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Sn.memoizedState=Wn=p:Wn=Wn.next=p,Wn}function fe(){if(Wt===null){var p=Sn.alternate;p=p!==null?p.memoizedState:null}else p=Wt.next;var g=Wn===null?Sn.memoizedState:Wn.next;if(g!==null)Wn=g,Wt=p;else{if(p===null)throw Sn.alternate===null?Error(r(467)):Error(r(310));Wt=p,p={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Wn===null?Sn.memoizedState=Wn=p:Wn=Wn.next=p}return Wn}function Ne(p){var g=td;return td+=1,Wr===null&&(Wr=[]),p=mt(Wr,p,g),g=Sn,(Wn===null?g.memoizedState:Wn.next)===null&&(g=g.alternate,on.H=g===null||g.memoizedState===null?au:ks),p}function Be(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Ne(p);if(p.$$typeof===_o)return Zr(p)}throw Error(r(438,String(p)))}function Me(p){var g=null,E=Sn.updateQueue;if(E!==null&&(g=E.memoCache),g==null){var D=Sn.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(g={data:D.data.map(function(k){return k.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),E===null&&(E=gy(),Sn.updateQueue=E),E.memoCache=g,E=g.data[g.index],E===void 0)for(E=g.data[g.index]=Array(p),D=0;D<p;D++)E[D]=nE;return g.index++,E}function ot(p,g){return typeof g=="function"?g(p):g}function _t(p){var g=fe();return xt(g,Wt,p)}function xt(p,g,E){var D=p.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=E;var k=p.baseQueue,z=D.pending;if(z!==null){if(k!==null){var se=k.next;k.next=z.next,z.next=se}g.baseQueue=k=z,D.pending=null}if(z=p.baseState,k===null)p.memoizedState=z;else{g=k.next;var me=se=null,Ie=null,nt=g,pt=!1;do{var Ot=nt.lane&-536870913;if(Ot!==nt.lane?(Pn&Ot)===Ot:(sc&Ot)===Ot){var Bt=nt.revertLane;if(Bt===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),Ot===ba&&(pt=!0);else if((sc&Bt)===Bt){nt=nt.next,Bt===ba&&(pt=!0);continue}else Ot={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Ie===null?(me=Ie=Ot,se=z):Ie=Ie.next=Ot,Sn.lanes|=Bt,Ca|=Bt;Ot=nt.action,su&&E(z,Ot),z=nt.hasEagerState?nt.eagerState:E(z,Ot)}else Bt={lane:Ot,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Ie===null?(me=Ie=Bt,se=z):Ie=Ie.next=Bt,Sn.lanes|=Ot,Ca|=Ot;nt=nt.next}while(nt!==null&&nt!==g);if(Ie===null?se=z:Ie.next=me,!Js(z,p.memoizedState)&&(Si=!0,pt&&(E=Qu,E!==null)))throw E;p.memoizedState=z,p.baseState=se,p.baseQueue=Ie,D.lastRenderedState=z}return k===null&&(D.lanes=0),[p.memoizedState,D.dispatch]}function It(p){var g=fe(),E=g.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=p;var D=E.dispatch,k=E.pending,z=g.memoizedState;if(k!==null){E.pending=null;var se=k=k.next;do z=p(z,se.action),se=se.next;while(se!==k);Js(z,g.memoizedState)||(Si=!0),g.memoizedState=z,g.baseQueue===null&&(g.baseState=z),E.lastRenderedState=z}return[z,D]}function St(p,g,E){var D=Sn,k=fe(),z=Gn;if(z){if(E===void 0)throw Error(r(407));E=E()}else E=g();var se=!Js((Wt||k).memoizedState,E);if(se&&(k.memoizedState=E,Si=!0),k=k.queue,sb(hn.bind(null,D,k,p),[p]),k.getSnapshot!==g||se||Wn!==null&&Wn.memoizedState.tag&1){if(D.flags|=2048,Is(9,Lt.bind(null,D,k,E,g),{destroy:void 0},null),ri===null)throw Error(r(349));z||(sc&60)!==0||kt(D,g,E)}return E}function kt(p,g,E){p.flags|=16384,p={getSnapshot:g,value:E},g=Sn.updateQueue,g===null?(g=gy(),Sn.updateQueue=g,g.stores=[p]):(E=g.stores,E===null?g.stores=[p]:E.push(p))}function Lt(p,g,E,D){g.value=E,g.getSnapshot=D,jn(g)&&zi(p)}function hn(p,g,E){return E(function(){jn(g)&&zi(p)})}function jn(p){var g=p.getSnapshot;p=p.value;try{var E=g();return!Js(p,E)}catch{return!0}}function zi(p){var g=ke(p,2);g!==null&&Gr(g,p,2)}function Dn(p){var g=te();if(typeof p=="function"){var E=p;if(p=E(),su){Y(!0);try{E()}finally{Y(!1)}}}return g.memoizedState=g.baseState=p,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ot,lastRenderedState:p},g}function On(p,g,E,D){return p.baseState=E,xt(p,Wt,typeof D=="function"?D:ot)}function Vt(p,g,E,D,k){if(op(p))throw Error(r(485));if(p=g.action,p!==null){var z={payload:k,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){z.listeners.push(se)}};on.T!==null?E(!0):z.isTransition=!1,D(z),E=g.pending,E===null?(z.next=g.pending=z,ji(g,z)):(z.next=E.next,g.pending=E.next=z)}}function ji(p,g){var E=g.action,D=g.payload,k=p.state;if(g.isTransition){var z=on.T,se={};on.T=se;try{var me=E(k,D),Ie=on.S;Ie!==null&&Ie(se,me),zn(p,g,me)}catch(nt){$o(p,g,nt)}finally{on.T=z}}else try{z=E(k,D),zn(p,g,z)}catch(nt){$o(p,g,nt)}}function zn(p,g,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(D){Kr(p,g,D)},function(D){return $o(p,g,D)}):Kr(p,g,E)}function Kr(p,g,E){g.status="fulfilled",g.value=E,bi(g),p.state=E,g=p.pending,g!==null&&(E=g.next,E===g?p.pending=null:(E=E.next,g.next=E,ji(p,E)))}function $o(p,g,E){var D=p.pending;if(p.pending=null,D!==null){D=D.next;do g.status="rejected",g.reason=E,bi(g),g=g.next;while(g!==D)}p.action=null}function bi(p){p=p.listeners;for(var g=0;g<p.length;g++)(0,p[g])()}function Ko(p,g){return g}function mi(p,g){if(Gn){var E=ri.formState;if(E!==null){e:{var D=Sn;if(Gn){if(ss){var k=Jb(ss,jr);if(k){ss=Qb(k),D=EE(k);break e}}ve(D)}D=!1}D&&(g=E[0])}}E=te(),E.memoizedState=E.baseState=g,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:g},E.queue=D,E=cb.bind(null,Sn,D),D.dispatch=E,D=Dn(!1);var z=uf.bind(null,Sn,!1,D.queue);return D=te(),k={state:g,dispatch:null,action:p,pending:null},D.queue=k,E=Vt.bind(null,Sn,k,z,E),k.dispatch=E,D.memoizedState=p,[g,E,!1]}function Jr(p){var g=fe();return gr(g,Wt,p)}function gr(p,g,E){g=xt(p,g,Ko)[0],p=_t(ot)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?Ne(g):g;var D=fe(),k=D.queue,z=k.dispatch;return E!==D.memoizedState&&(Sn.flags|=2048,Is(9,Fr.bind(null,k,E),{destroy:void 0},null)),[g,z,p]}function Fr(p,g){p.action=g}function Hr(p){var g=fe(),E=Wt;if(E!==null)return gr(g,E,p);fe(),g=g.memoizedState,E=fe();var D=E.queue.dispatch;return E.memoizedState=p,[g,D,!1]}function Is(p,g,E,D){return p={tag:p,create:g,inst:E,deps:D,next:null},g=Sn.updateQueue,g===null&&(g=gy(),Sn.updateQueue=g),E=g.lastEffect,E===null?g.lastEffect=p.next=p:(D=E.next,E.next=p,p.next=D,g.lastEffect=p),p}function Jo(){return fe().memoizedState}function np(p,g,E,D){var k=te();Sn.flags|=p,k.memoizedState=Is(1|g,E,{destroy:void 0},D===void 0?null:D)}function ip(p,g,E,D){var k=fe();D=D===void 0?null:D;var z=k.memoizedState.inst;Wt!==null&&D!==null&&ti(D,Wt.memoizedState.deps)?k.memoizedState=Is(g,E,z,D):(Sn.flags|=p,k.memoizedState=Is(1|g,E,z,D))}function Mg(p,g){np(8390656,8,p,g)}function sb(p,g){ip(2048,8,p,g)}function NA(p,g){return ip(4,2,p,g)}function rp(p,g){return ip(4,4,p,g)}function wg(p,g){if(typeof g=="function"){p=p();var E=g(p);return function(){typeof E=="function"?E():g(null)}}if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Rg(p,g,E){E=E!=null?E.concat([p]):null,ip(4,4,wg.bind(null,g,p),E)}function Oc(){}function Uu(p,g){var E=fe();g=g===void 0?null:g;var D=E.memoizedState;return g!==null&&ti(g,D[1])?D[0]:(E.memoizedState=[p,g],p)}function ab(p,g){var E=fe();g=g===void 0?null:g;var D=E.memoizedState;if(g!==null&&ti(g,D[1]))return D[0];if(D=p(),su){Y(!0);try{p()}finally{Y(!1)}}return E.memoizedState=[D,g],D}function sp(p,g,E){return E===void 0||(sc&1073741824)!==0?p.memoizedState=g:(p.memoizedState=E,p=wb(),Sn.lanes|=p,Ca|=p,E)}function ob(p,g,E,D){return Js(E,g)?E:Ri.current!==null?(p=sp(p,E,D),Js(p,g)||(Si=!0),p):(sc&42)===0?(Si=!0,p.memoizedState=E):(p=wb(),Sn.lanes|=p,Ca|=p,g)}function lf(p,g,E,D,k){var z=ec();ps(z!==0&&8>z?z:8);var se=on.T,me={};on.T=me,uf(p,!1,g,E);try{var Ie=k(),nt=on.S;if(nt!==null&&nt(me,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var pt=Ct(Ie,D);Pc(p,g,pt,sr(p))}else Pc(p,g,D,sr(p))}catch(Ot){Pc(p,g,{then:function(){},status:"rejected",reason:Ot},sr())}finally{ps(z),on.T=se}}function Qo(p){var g=p.memoizedState;if(g!==null)return g;g={memoizedState:$c,baseState:$c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ot,lastRenderedState:$c},next:null};var E={};return g.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ot,lastRenderedState:E},next:null},p.memoizedState=g,p=p.alternate,p!==null&&(p.memoizedState=g),g}function ap(){return Zr(xo)}function cf(){return fe().memoizedState}function Fl(){return fe().memoizedState}function lb(p){for(var g=p.return;g!==null;){switch(g.tag){case 24:case 3:var E=sr();p=Dt(E);var D=wt(g,p,E);D!==null&&(Gr(D,g,E),yt(D,g,E)),g={cache:Uc()},p.payload=g;return}g=g.return}}function Dg(p,g,E){var D=sr();E={lane:D,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},op(p)?Os(g,E):(E=we(p,g,E,D),E!==null&&(Gr(E,p,D),Nc(E,g,D)))}function cb(p,g,E){var D=sr();Pc(p,g,E,D)}function Pc(p,g,E,D){var k={lane:D,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(op(p))Os(g,k);else{var z=p.alternate;if(p.lanes===0&&(z===null||z.lanes===0)&&(z=g.lastRenderedReducer,z!==null))try{var se=g.lastRenderedState,me=z(se,E);if(k.hasEagerState=!0,k.eagerState=me,Js(me,se))return Oe(p,g,k,0),ri===null&&Q(),!1}catch{}finally{}if(E=we(p,g,k,D),E!==null)return Gr(E,p,D),Nc(E,g,D),!0}return!1}function uf(p,g,E,D){if(D={lane:2,revertLane:ft(),action:D,hasEagerState:!1,eagerState:null,next:null},op(p)){if(g)throw Error(r(479))}else g=we(p,E,D,2),g!==null&&Gr(g,p,2)}function op(p){var g=p.alternate;return p===Sn||g!==null&&g===Sn}function Os(p,g){ed=qa=!0;var E=p.pending;E===null?g.next=g:(g.next=E.next,E.next=g),p.pending=g}function Nc(p,g,E){if((E&4194176)!==0){var D=g.lanes;D&=p.pendingLanes,E|=D,g.lanes=E,q(p,E)}}function df(p,g,E,D){g=p.memoizedState,E=E(D,g),E=E==null?g:$g({},g,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}function ff(p,g,E,D,k,z,se){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(D,z,se):g.prototype&&g.prototype.isPureReactComponent?!Pe(E,D)||!Pe(k,z):!0}function BA(p,g,E,D){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,D),g.state!==p&&ll.enqueueReplaceState(g,g.state,null)}function Hl(p,g){var E=g;if("ref"in g){E={};for(var D in g)D!=="ref"&&(E[D]=g[D])}if(p=p.defaultProps){E===g&&(E=$g({},E));for(var k in p)E[k]===void 0&&(E[k]=p[k])}return E}function hf(p,g){try{var E=p.onUncaughtError;E(g.value,{componentStack:g.stack})}catch(D){setTimeout(function(){throw D})}}function pf(p,g,E){try{var D=p.onCaughtError;D(E.value,{componentStack:E.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function mf(p,g,E){return E=Dt(E),E.tag=3,E.payload={element:null},E.callback=function(){hf(p,g)},E}function ub(p){return p=Dt(p),p.tag=3,p}function LA(p,g,E,D){var k=E.type.getDerivedStateFromError;if(typeof k=="function"){var z=D.value;p.payload=function(){return k(z)},p.callback=function(){pf(g,E,D)}}var se=E.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(p.callback=function(){pf(g,E,D),typeof k!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var me=D.stack;this.componentDidCatch(D.value,{componentStack:me!==null?me:""})})}function vD(p,g,E,D,k){if(E.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(g=E.alternate,g!==null&&dp(g,E,k,!0),E=_a.current,E!==null){switch(E.tag){case 13:return xi===null?ql():E.alternate===null&&Ai===0&&(Ai=3),E.flags&=-257,E.flags|=65536,E.lanes=k,D===Vp?E.flags|=16384:(g=E.updateQueue,g===null?E.updateQueue=new Set([D]):g.add(D),Hu(p,D,k)),!1;case 22:return E.flags|=65536,D===Vp?E.flags|=16384:(g=E.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([D])},E.updateQueue=g):(E=g.retryQueue,E===null?g.retryQueue=new Set([D]):E.add(D)),Hu(p,D,k)),!1}throw Error(r(435,E.tag))}return Hu(p,D,k),ql(),!1}if(Gn)return g=_a.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=k,D!==Hp&&(p=Error(r(422),{cause:D}),_e(ne(p,E)))):(D!==Hp&&(g=Error(r(423),{cause:D}),_e(ne(g,E))),p=p.current.alternate,p.flags|=65536,k&=-k,p.lanes|=k,D=ne(D,E),k=mf(p.stateNode,D,k),ge(p,k),Ai!==4&&(Ai=2)),!1;var z=Error(r(520),{cause:D});if(z=ne(z,E),id===null?id=[z]:id.push(z),Ai!==4&&(Ai=2),g===null)return!0;D=ne(D,E),E=g;do{switch(E.tag){case 3:return E.flags|=65536,p=k&-k,E.lanes|=p,p=mf(E.stateNode,D,p),ge(E,p),!1;case 1:if(g=E.type,z=E.stateNode,(E.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ou===null||!ou.has(z))))return E.flags|=65536,k&=-k,E.lanes|=k,k=ub(k),LA(k,p,E,D),ge(E,k),!1}E=E.return}while(E!==null);return!1}function Qr(p,g,E,D){g.child=p===null?ol(g,null,E,D):ru(g,p.child,E,D)}function Ig(p,g,E,D,k){E=E.render;var z=g.ref;if("ref"in D){var se={};for(var me in D)me!=="ref"&&(se[me]=D[me])}else se=D;return Lc(g),D=mr(p,g,E,se,z,k),me=Ze(),p!==null&&!Si?(Je(p,g,k),zl(p,g,k)):(Gn&&me&&ye(g),g.flags|=1,Qr(p,g,D,k),g.child)}function UA(p,g,E,D,k){if(p===null){var z=E.type;return typeof z=="function"&&!Ep(z)&&z.defaultProps===void 0&&E.compare===null?(g.tag=15,g.type=z,kA(p,g,z,D,k)):(p=tl(E.type,null,D,g,g.mode,k),p.ref=g.ref,p.return=g,g.child=p)}if(z=p.child,!mb(p,k)){var se=z.memoizedProps;if(E=E.compare,E=E!==null?E:Pe,E(se,D)&&p.ref===g.ref)return zl(p,g,k)}return g.flags|=1,p=za(z,D),p.ref=g.ref,p.return=g,g.child=p}function kA(p,g,E,D,k){if(p!==null){var z=p.memoizedProps;if(Pe(z,D)&&p.ref===g.ref)if(Si=!1,g.pendingProps=D=z,mb(p,k))(p.flags&131072)!==0&&(Si=!0);else return g.lanes=p.lanes,zl(p,g,k)}return Og(p,g,E,D,k)}function FA(p,g,E){var D=g.pendingProps,k=D.children,z=(g.stateNode._pendingVisibility&2)!==0,se=p!==null?p.memoizedState:null;if(lp(p,g),D.mode==="hidden"||z){if((g.flags&128)!==0){if(D=se!==null?se.baseLanes|E:E,p!==null){for(k=g.child=p.child,z=0;k!==null;)z=z|k.lanes|k.childLanes,k=k.sibling;g.childLanes=z&~D}else g.childLanes=0,g.child=null;return HA(p,g,D,E)}if((E&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},p!==null&&Ng(g,se!==null?se.cachePool:null),se!==null?vi(g,se):Mi(),kl(g);else return g.lanes=g.childLanes=536870912,HA(p,g,se!==null?se.baseLanes|E:E,E)}else se!==null?(Ng(g,se.cachePool),vi(g,se),Rs(),g.memoizedState=null):(p!==null&&Ng(g,null),Mi(),Rs());return Qr(p,g,k,E),g.child}function HA(p,g,E,D){var k=yb();return k=k===null?null:{parent:Bs?Di._currentValue:Di._currentValue2,pool:k},g.memoizedState={baseLanes:E,cachePool:k},p!==null&&Ng(g,null),Mi(),kl(g),p!==null&&dp(p,g,D,!0),null}function lp(p,g){var E=g.ref;if(E===null)p!==null&&p.ref!==null&&(g.flags|=2097664);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(p===null||p.ref!==E)&&(g.flags|=2097664)}}function Og(p,g,E,D,k){return Lc(g),E=mr(p,g,E,D,void 0,k),D=Ze(),p!==null&&!Si?(Je(p,g,k),zl(p,g,k)):(Gn&&D&&ye(g),g.flags|=1,Qr(p,g,E,k),g.child)}function zA(p,g,E,D,k,z){return Lc(g),g.updateQueue=null,E=Ds(g,D,E,k),ka(p),D=Ze(),p!==null&&!Si?(Je(p,g,z),zl(p,g,z)):(Gn&&D&&ye(g),g.flags|=1,Qr(p,g,E,z),g.child)}function GA(p,g,E,D,k){if(Lc(g),g.stateNode===null){var z=Zc,se=E.contextType;typeof se=="object"&&se!==null&&(z=Zr(se)),z=new E(D,z),g.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=ll,g.stateNode=z,z._reactInternals=g,z=g.stateNode,z.props=D,z.state=g.memoizedState,z.refs={},je(g),se=E.contextType,z.context=typeof se=="object"&&se!==null?Zr(se):Zc,z.state=g.memoizedState,se=E.getDerivedStateFromProps,typeof se=="function"&&(df(g,E,se,D),z.state=g.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(se=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),se!==z.state&&ll.enqueueReplaceState(z,z.state,null),gt(g,D,z,k),Xe(),z.state=g.memoizedState),typeof z.componentDidMount=="function"&&(g.flags|=4194308),D=!0}else if(p===null){z=g.stateNode;var me=g.memoizedProps,Ie=Hl(E,me);z.props=Ie;var nt=z.context,pt=E.contextType;se=Zc,typeof pt=="object"&&pt!==null&&(se=Zr(pt));var Ot=E.getDerivedStateFromProps;pt=typeof Ot=="function"||typeof z.getSnapshotBeforeUpdate=="function",me=g.pendingProps!==me,pt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(me||nt!==se)&&BA(g,z,D,se),rc=!1;var Bt=g.memoizedState;z.state=Bt,gt(g,D,z,k),Xe(),nt=g.memoizedState,me||Bt!==nt||rc?(typeof Ot=="function"&&(df(g,E,Ot,D),nt=g.memoizedState),(Ie=rc||ff(g,E,Ie,D,Bt,nt,se))?(pt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=nt),z.props=D,z.state=nt,z.context=se,D=Ie):(typeof z.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{z=g.stateNode,ht(p,g),se=g.memoizedProps,pt=Hl(E,se),z.props=pt,Ot=g.pendingProps,Bt=z.context,nt=E.contextType,Ie=Zc,typeof nt=="object"&&nt!==null&&(Ie=Zr(nt)),me=E.getDerivedStateFromProps,(nt=typeof me=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(se!==Ot||Bt!==Ie)&&BA(g,z,D,Ie),rc=!1,Bt=g.memoizedState,z.state=Bt,gt(g,D,z,k),Xe();var mn=g.memoizedState;se!==Ot||Bt!==mn||rc||p!==null&&p.dependencies!==null&&fp(p.dependencies)?(typeof me=="function"&&(df(g,E,me,D),mn=g.memoizedState),(pt=rc||ff(g,E,pt,D,Bt,mn,Ie)||p!==null&&p.dependencies!==null&&fp(p.dependencies))?(nt||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(D,mn,Ie),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(D,mn,Ie)),typeof z.componentDidUpdate=="function"&&(g.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof z.componentDidUpdate!="function"||se===p.memoizedProps&&Bt===p.memoizedState||(g.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===p.memoizedProps&&Bt===p.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=mn),z.props=D,z.state=mn,z.context=Ie,D=pt):(typeof z.componentDidUpdate!="function"||se===p.memoizedProps&&Bt===p.memoizedState||(g.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===p.memoizedProps&&Bt===p.memoizedState||(g.flags|=1024),D=!1)}return z=D,lp(p,g),D=(g.flags&128)!==0,z||D?(z=g.stateNode,E=D&&typeof E.getDerivedStateFromError!="function"?null:z.render(),g.flags|=1,p!==null&&D?(g.child=ru(g,p.child,null,k),g.child=ru(g,null,E,k)):Qr(p,g,E,k),g.memoizedState=z.state,p=g.child):p=zl(p,g,k),p}function VA(p,g,E,D){return ue(),g.flags|=256,Qr(p,g,E,D),g.child}function db(p){return{baseLanes:p,cachePool:vb()}}function cp(p,g,E){return p=p!==null?p.childLanes&~E:0,g&&(p|=Ta),p}function jA(p,g,E){var D=g.pendingProps,k=!1,z=(g.flags&128)!==0,se;if((se=z)||(se=p!==null&&p.memoizedState===null?!1:(Ir.current&2)!==0),se&&(k=!0,g.flags&=-129),se=(g.flags&32)!==0,g.flags&=-33,p===null){if(Gn){if(k?kr(g):Rs(),Gn){var me=ss,Ie;(Ie=me)&&(me=ME(me,jr),me!==null?(g.memoizedState={dehydrated:me,treeContext:eu!==null?{id:Ao,overflow:Eo}:null,retryLane:536870912},Ie=t(18,null,null,0),Ie.stateNode=me,Ie.return=g,g.child=Ie,rs=g,ss=null,Ie=!0):Ie=!1),Ie||ve(g)}if(me=g.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return sy(me)?g.lanes=16:g.lanes=536870912,null;wr(g)}return me=D.children,D=D.fallback,k?(Rs(),k=g.mode,me=hb({mode:"hidden",children:me},k),D=$i(D,k,E,null),me.return=g,D.return=g,me.sibling=D,g.child=me,k=g.child,k.memoizedState=db(E),k.childLanes=cp(p,se,E),g.memoizedState=by,D):(kr(g),fb(g,me))}if(Ie=p.memoizedState,Ie!==null&&(me=Ie.dehydrated,me!==null)){if(z)g.flags&256?(kr(g),g.flags&=-257,g=Pg(p,g,E)):g.memoizedState!==null?(Rs(),g.child=p.child,g.flags|=128,g=null):(Rs(),k=D.fallback,me=g.mode,D=hb({mode:"visible",children:D.children},me),k=$i(k,me,E,null),k.flags|=2,D.return=g,k.return=g,D.sibling=k,g.child=D,ru(g,p.child,null,E),D=g.child,D.memoizedState=db(E),D.childLanes=cp(p,se,E),g.memoizedState=by,g=k);else if(kr(g),sy(me))se=SE(me).digest,D=Error(r(419)),D.stack="",D.digest=se,_e({value:D,source:null,stack:null}),g=Pg(p,g,E);else if(Si||dp(p,g,E,!1),se=(E&p.childLanes)!==0,Si||se){if(se=ri,se!==null){if(D=E&-E,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(se.suspendedLanes|E))!==0?0:D,D!==0&&D!==Ie.retryLane)throw Ie.retryLane=D,ke(p,D),Gr(se,p,D),vy}ry(me)||ql(),g=Pg(p,g,E)}else ry(me)?(g.flags|=128,g.child=p.child,g=$l.bind(null,p),AE(me,g),g=null):(p=Ie.treeContext,is&&(ss=TE(me),rs=g,Gn=!0,Ya=null,jr=!1,p!==null&&(ya[va++]=Ao,ya[va++]=Eo,ya[va++]=eu,Ao=p.id,Eo=p.overflow,eu=g)),g=fb(g,D.children),g.flags|=4096);return g}return k?(Rs(),k=D.fallback,me=g.mode,Ie=p.child,z=Ie.sibling,D=za(Ie,{mode:"hidden",children:D.children}),D.subtreeFlags=Ie.subtreeFlags&31457280,z!==null?k=za(z,k):(k=$i(k,me,E,null),k.flags|=2),k.return=g,D.return=g,D.sibling=k,g.child=D,D=k,k=g.child,me=p.child.memoizedState,me===null?me=db(E):(Ie=me.cachePool,Ie!==null?(z=Bs?Di._currentValue:Di._currentValue2,Ie=Ie.parent!==z?{parent:z,pool:z}:Ie):Ie=vb(),me={baseLanes:me.baseLanes|E,cachePool:Ie}),k.memoizedState=me,k.childLanes=cp(p,se,E),g.memoizedState=by,D):(kr(g),E=p.child,p=E.sibling,E=za(E,{mode:"visible",children:D.children}),E.return=g,E.sibling=null,p!==null&&(se=g.deletions,se===null?(g.deletions=[p],g.flags|=16):se.push(p)),g.child=E,g.memoizedState=null,E)}function fb(p,g){return g=hb({mode:"visible",children:g},p.mode),g.return=p,p.child=g}function hb(p,g){return Tp(p,g,0,null)}function Pg(p,g,E){return ru(g,p.child,null,E),p=fb(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function WA(p,g,E){p.lanes|=g;var D=p.alternate;D!==null&&(D.lanes|=g),up(p.return,g,E)}function pb(p,g,E,D,k){var z=p.memoizedState;z===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:E,tailMode:k}:(z.isBackwards=g,z.rendering=null,z.renderingStartTime=0,z.last=D,z.tail=E,z.tailMode=k)}function YA(p,g,E){var D=g.pendingProps,k=D.revealOrder,z=D.tail;if(Qr(p,g,D.children,E),D=Ir.current,(D&2)!==0)D=D&1|2,g.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&WA(p,E,g);else if(p.tag===19)WA(p,E,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}D&=1}switch(T(Ir,D),k){case"forwards":for(E=g.child,k=null;E!==null;)p=E.alternate,p!==null&&$r(p)===null&&(k=E),E=E.sibling;E=k,E===null?(k=g.child,g.child=null):(k=E.sibling,E.sibling=null),pb(g,!1,k,E,z);break;case"backwards":for(E=null,k=g.child,g.child=null;k!==null;){if(p=k.alternate,p!==null&&$r(p)===null){g.child=k;break}p=k.sibling,k.sibling=E,E=k,k=p}pb(g,!0,E,null,z);break;case"together":pb(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function zl(p,g,E){if(p!==null&&(g.dependencies=p.dependencies),Ca|=g.lanes,(E&g.childLanes)===0)if(p!==null){if(dp(p,g,E,!1),(E&g.childLanes)===0)return null}else return null;if(p!==null&&g.child!==p.child)throw Error(r(153));if(g.child!==null){for(p=g.child,E=za(p,p.pendingProps),g.child=E,E.return=g;p.sibling!==null;)p=p.sibling,E=E.sibling=za(p,p.pendingProps),E.return=g;E.sibling=null}return g.child}function mb(p,g){return(p.lanes&g)!==0?!0:(p=p.dependencies,!!(p!==null&&fp(p)))}function bD(p,g,E){switch(g.tag){case 3:de(g,g.stateNode.containerInfo),Bc(g,Di,p.memoizedState.cache),ue();break;case 27:case 5:pe(g);break;case 4:de(g,g.stateNode.containerInfo);break;case 10:Bc(g,g.type,g.memoizedProps.value);break;case 13:var D=g.memoizedState;if(D!==null)return D.dehydrated!==null?(kr(g),g.flags|=128,null):(E&g.child.childLanes)!==0?jA(p,g,E):(kr(g),p=zl(p,g,E),p!==null?p.sibling:null);kr(g);break;case 19:var k=(p.flags&128)!==0;if(D=(E&g.childLanes)!==0,D||(dp(p,g,E,!1),D=(E&g.childLanes)!==0),k){if(D)return YA(p,g,E);g.flags|=128}if(k=g.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),T(Ir,Ir.current),D)break;return null;case 22:case 23:return g.lanes=0,FA(p,g,E);case 24:Bc(g,Di,p.memoizedState.cache)}return zl(p,g,E)}function XA(p,g,E){if(p!==null)if(p.memoizedProps!==g.pendingProps)Si=!0;else{if(!mb(p,E)&&(g.flags&128)===0)return Si=!1,bD(p,g,E);Si=(p.flags&131072)!==0}else Si=!1,Gn&&(g.flags&1048576)!==0&&ae(g,Lf,g.index);switch(g.lanes=0,g.tag){case 16:e:{p=g.pendingProps;var D=g.elementType,k=D._init;if(D=k(D._payload),g.type=D,typeof D=="function")Ep(D)?(p=Hl(D,p),g.tag=1,g=GA(null,g,D,p,E)):(g.tag=0,g=Og(null,g,D,p,E));else{if(D!=null){if(k=D.$$typeof,k===Ip){g.tag=11,g=Ig(null,g,D,p,E);break e}else if(k===Qg){g.tag=14,g=UA(null,g,D,p,E);break e}}throw g=a(D)||D,Error(r(306,g,""))}}return g;case 0:return Og(p,g,g.type,g.pendingProps,E);case 1:return D=g.type,k=Hl(D,g.pendingProps),GA(p,g,D,k,E);case 3:e:{if(de(g,g.stateNode.containerInfo),p===null)throw Error(r(387));var z=g.pendingProps;k=g.memoizedState,D=k.element,ht(p,g),gt(g,z,null,E);var se=g.memoizedState;if(z=se.cache,Bc(g,Di,z),z!==k.cache&&ku(g,[Di],E,!0),Xe(),z=se.element,is&&k.isDehydrated)if(k={element:z,isDehydrated:!1,cache:se.cache},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){g=VA(p,g,z,E);break e}else if(z!==D){D=ne(Error(r(424)),g),_e(D),g=VA(p,g,z,E);break e}else for(is&&(ss=CE(g.stateNode.containerInfo),rs=g,Gn=!0,Ya=null,jr=!0),E=ol(g,null,z,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(ue(),z===D){g=zl(p,g,E);break e}Qr(p,g,z,E)}g=g.child}return g;case 26:if(ga)return lp(p,g),p===null?(E=t_(g.type,null,g.pendingProps,null))?g.memoizedState=E:Gn||(g.stateNode=uy(g.type,g.pendingProps,sl.current,g)):g.memoizedState=t_(g.type,p.memoizedProps,g.pendingProps,p.memoizedState),null;case 27:if(_i)return pe(g),p===null&&_i&&Gn&&(D=g.stateNode=So(g.type,g.pendingProps,sl.current,Dr.current,!1),rs=g,jr=!0,ss=ay(D)),D=g.pendingProps.children,p!==null||Gn?Qr(p,g,D,E):g.child=ru(g,null,D,E),lp(p,g),g.child;case 5:return p===null&&Gn&&(ly(g.type,g.pendingProps,Dr.current),(k=D=ss)&&(D=TD(D,g.type,g.pendingProps,jr),D!==null?(g.stateNode=D,rs=g,ss=ay(D),jr=!1,k=!0):k=!1),k||ve(g)),pe(g),k=g.type,z=g.pendingProps,se=p!==null?p.memoizedProps:null,D=z.children,yn(k,z)?D=null:se!==null&&yn(k,se)&&(g.flags|=32),g.memoizedState!==null&&(k=mr(p,g,Li,null,null,E),Bs?xo._currentValue=k:xo._currentValue2=k),lp(p,g),Qr(p,g,D,E),g.child;case 6:return p===null&&Gn&&(OE(g.pendingProps,Dr.current),(p=E=ss)&&(E=Zb(E,g.pendingProps,jr),E!==null?(g.stateNode=E,rs=g,ss=null,p=!0):p=!1),p||ve(g)),null;case 13:return jA(p,g,E);case 4:return de(g,g.stateNode.containerInfo),D=g.pendingProps,p===null?g.child=ru(g,null,D,E):Qr(p,g,D,E),g.child;case 11:return Ig(p,g,g.type,g.pendingProps,E);case 7:return Qr(p,g,g.pendingProps,E),g.child;case 8:return Qr(p,g,g.pendingProps.children,E),g.child;case 12:return Qr(p,g,g.pendingProps.children,E),g.child;case 10:return D=g.pendingProps,Bc(g,g.type,D.value),Qr(p,g,D.children,E),g.child;case 9:return k=g.type._context,D=g.pendingProps.children,Lc(g),k=Zr(k),D=D(k),g.flags|=1,Qr(p,g,D,E),g.child;case 14:return UA(p,g,g.type,g.pendingProps,E);case 15:return kA(p,g,g.type,g.pendingProps,E);case 19:return YA(p,g,E);case 22:return FA(p,g,E);case 24:return Lc(g),D=Zr(Di),p===null?(k=yb(),k===null&&(k=ri,z=Uc(),k.pooledCache=z,z.refCount++,z!==null&&(k.pooledCacheLanes|=E),k=z),g.memoizedState={parent:D,cache:k},je(g),Bc(g,Di,k)):((p.lanes&E)!==0&&(ht(p,g),gt(g,null,null,E),Xe()),k=p.memoizedState,z=g.memoizedState,k.parent!==D?(k={parent:D,cache:D},g.memoizedState=k,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=k),Bc(g,Di,D)):(D=z.cache,Bc(g,Di,D),D!==k.cache&&ku(g,[Di],E,!0))),Qr(p,g,g.pendingProps.children,E),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function Bc(p,g,E){Bs?(T(ac,g._currentValue),g._currentValue=E):(T(ac,g._currentValue2),g._currentValue2=E)}function Gl(p){var g=ac.current;Bs?p._currentValue=g:p._currentValue2=g,x(ac)}function up(p,g,E){for(;p!==null;){var D=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),p===E)break;p=p.return}}function ku(p,g,E,D){var k=p.child;for(k!==null&&(k.return=p);k!==null;){var z=k.dependencies;if(z!==null){var se=k.child;z=z.firstContext;e:for(;z!==null;){var me=z;z=k;for(var Ie=0;Ie<g.length;Ie++)if(me.context===g[Ie]){z.lanes|=E,me=z.alternate,me!==null&&(me.lanes|=E),up(z.return,E,p),D||(se=null);break e}z=me.next}}else if(k.tag===18){if(se=k.return,se===null)throw Error(r(341));se.lanes|=E,z=se.alternate,z!==null&&(z.lanes|=E),up(se,E,p),se=null}else se=k.child;if(se!==null)se.return=k;else for(se=k;se!==null;){if(se===p){se=null;break}if(k=se.sibling,k!==null){k.return=se.return,se=k;break}se=se.return}k=se}}function dp(p,g,E,D){p=null;for(var k=g,z=!1;k!==null;){if(!z){if((k.flags&524288)!==0)z=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var se=k.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var me=k.type;Js(k.pendingProps.value,se.value)||(p!==null?p.push(me):p=[me])}}else if(k===qu.current){if(se=k.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(p!==null?p.push(xo):p=[xo])}k=k.return}p!==null&&ku(g,p,E,D),g.flags|=262144}function fp(p){for(p=p.firstContext;p!==null;){var g=p.context;if(!Js(Bs?g._currentValue:g._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function Lc(p){Mo=p,Sa=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function Zr(p){return gb(Mo,p)}function hp(p,g){return Mo===null&&Lc(p),gb(p,g)}function gb(p,g){var E=Bs?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:E,next:null},Sa===null){if(p===null)throw Error(r(308));Sa=g,p.dependencies={lanes:0,firstContext:g},p.flags|=524288}else Sa=Sa.next=g;return E}function Uc(){return{controller:new Gf,data:new Map,refCount:0}}function pp(p){p.refCount--,p.refCount===0&&VE(jE,function(){p.controller.abort()})}function yb(){var p=cl.current;return p!==null?p:ri.pooledCache}function Ng(p,g){g===null?T(cl,cl.current):T(cl,g.pool)}function vb(){var p=yb();return p===null?null:{parent:Bs?Di._currentValue:Di._currentValue2,pool:p}}function js(p){p.flags|=4}function gf(p,g){if(p!==null&&p.child===g.child)return!1;if((g.flags&16)!==0)return!0;for(p=g.child;p!==null;){if((p.flags&13878)!==0||(p.subtreeFlags&13878)!==0)return!0;p=p.sibling}return!1}function Fu(p,g,E,D){if(Rr)for(E=g.child;E!==null;){if(E.tag===5||E.tag===6)Pp(p,E.stateNode);else if(!(E.tag===4||_i&&E.tag===27)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else if(ja)for(var k=g.child;k!==null;){if(k.tag===5){var z=k.stateNode;E&&D&&(z=$b(z,k.type,k.memoizedProps)),Pp(p,z)}else if(k.tag===6)z=k.stateNode,E&&D&&(z=Kb(z,k.memoizedProps)),Pp(p,z);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)z=k.child,z!==null&&(z.return=k),Fu(p,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===g)break;for(;k.sibling===null;){if(k.return===null||k.return===g)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function qA(p,g,E,D){if(ja)for(var k=g.child;k!==null;){if(k.tag===5){var z=k.stateNode;E&&D&&(z=$b(z,k.type,k.memoizedProps)),qb(p,z)}else if(k.tag===6)z=k.stateNode,E&&D&&(z=Kb(z,k.memoizedProps)),qb(p,z);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)z=k.child,z!==null&&(z.return=k),qA(p,k,!(k.memoizedProps!==null&&k.memoizedProps.mode==="manual"),!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===g)break;for(;k.sibling===null;){if(k.return===null||k.return===g)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function mp(p,g){if(ja&&gf(p,g)){p=g.stateNode;var E=p.containerInfo,D=Np();qA(D,g,!1,!1),p.pendingChildren=D,js(g),iy(E,D)}}function Bg(p,g,E,D){if(Rr)p.memoizedProps!==D&&js(g);else if(ja){var k=p.stateNode,z=p.memoizedProps;if((p=gf(p,g))||z!==D){var se=Dr.current;z=Pf(k,E,z,D,!p,null),z===k?g.stateNode=k:(Zl(z,E,D,se)&&js(g),g.stateNode=z,p?Fu(z,g,!1,!1):js(g))}else g.stateNode=k}}function Lg(p,g,E){if(Hb(g,E)){if(p.flags|=16777216,!ty(g,E))if(Vc())p.flags|=8192;else throw tu=Vp,Gp}else p.flags&=-16777217}function Ug(p,g){if(BE(g)){if(p.flags|=16777216,!Vu(g))if(Vc())p.flags|=8192;else throw tu=Vp,Gp}else p.flags&=-16777217}function yf(p,g){g!==null&&(p.flags|=4),p.flags&16384&&(g=p.tag!==22?P():536870912,p.lanes|=g,fl|=g)}function vf(p,g){if(!Gn)switch(p.tailMode){case"hidden":g=p.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var D=null;E!==null;)E.alternate!==null&&(D=E),E=E.sibling;D===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:D.sibling=null}}function Gi(p){var g=p.alternate!==null&&p.alternate.child===p.child,E=0,D=0;if(g)for(var k=p.child;k!==null;)E|=k.lanes|k.childLanes,D|=k.subtreeFlags&31457280,D|=k.flags&31457280,k.return=p,k=k.sibling;else for(k=p.child;k!==null;)E|=k.lanes|k.childLanes,D|=k.subtreeFlags,D|=k.flags,k.return=p,k=k.sibling;return p.subtreeFlags|=D,p.childLanes=E,g}function $A(p,g,E){var D=g.pendingProps;switch(Se(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(g),null;case 1:return Gi(g),null;case 3:return E=g.stateNode,D=null,p!==null&&(D=p.memoizedState.cache),g.memoizedState.cache!==D&&(g.flags|=2048),Gl(Di),xe(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(p===null||p.child===null)&&(oe(g)?js(g):p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ya!==null&&(Sp(Ya),Ya=null))),mp(p,g),Gi(g),null;case 26:if(ga){E=g.type;var k=g.memoizedState;return p===null?(js(g),k!==null?(Gi(g),Ug(g,k)):(Gi(g),Lg(g,E,D))):k?k!==p.memoizedState?(js(g),Gi(g),Ug(g,k)):(Gi(g),g.flags&=-16777217):(Rr?p.memoizedProps!==D&&js(g):Bg(p,g,E,D),Gi(g),Lg(g,E,D)),null}case 27:if(_i){if(He(g),E=sl.current,k=g.type,p!==null&&g.stateNode!=null)Rr?p.memoizedProps!==D&&js(g):Bg(p,g,k,D);else{if(!D){if(g.stateNode===null)throw Error(r(166));return Gi(g),null}p=Dr.current,oe(g)?V(g,p):(p=So(k,D,E,p,!0),g.stateNode=p,js(g))}return Gi(g),null}case 5:if(He(g),E=g.type,p!==null&&g.stateNode!=null)Bg(p,g,E,D);else{if(!D){if(g.stateNode===null)throw Error(r(166));return Gi(g),null}p=Dr.current,oe(g)?V(g,p):(k=Fb(E,D,sl.current,p,g),Fu(k,g,!1,!1),g.stateNode=k,Zl(k,E,D,p)&&js(g))}return Gi(g),Lg(g,g.type,g.pendingProps),null;case 6:if(p&&g.stateNode!=null)E=p.memoizedProps,Rr?E!==D&&js(g):ja&&(E!==D?(g.stateNode=ui(D,sl.current,Dr.current,g),js(g)):g.stateNode=p.stateNode);else{if(typeof D!="string"&&g.stateNode===null)throw Error(r(166));if(p=sl.current,E=Dr.current,oe(g)){if(!is)throw Error(r(176));if(p=g.stateNode,E=g.memoizedProps,D=null,k=rs,k!==null)switch(k.tag){case 27:case 5:D=k.memoizedProps}e_(p,E,g,D)||ve(g)}else g.stateNode=ui(D,p,E,g)}return Gi(g),null;case 13:if(D=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(k=oe(g),D!==null&&D.dehydrated!==null){if(p===null){if(!k)throw Error(r(318));if(!is)throw Error(r(344));if(k=g.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));RE(k,g)}else ue(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Gi(g),k=!1}else Ya!==null&&(Sp(Ya),Ya=null),k=!0;if(!k)return g.flags&256?(wr(g),g):(wr(g),null)}if(wr(g),(g.flags&128)!==0)return g.lanes=E,g;if(E=D!==null,p=p!==null&&p.memoizedState!==null,E){D=g.child,k=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(k=D.alternate.memoizedState.cachePool.pool);var z=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(z=D.memoizedState.cachePool.pool),z!==k&&(D.flags|=2048)}return E!==p&&E&&(g.child.flags|=8192),yf(g,g.updateQueue),Gi(g),null;case 4:return xe(),mp(p,g),p===null&&ar(g.stateNode.containerInfo),Gi(g),null;case 10:return Gl(g.type),Gi(g),null;case 19:if(x(Ir),k=g.memoizedState,k===null)return Gi(g),null;if(D=(g.flags&128)!==0,z=k.rendering,z===null)if(D)vf(k,!1);else{if(Ai!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(z=$r(p),z!==null){for(g.flags|=128,vf(k,!1),p=z.updateQueue,g.updateQueue=p,yf(g,p),g.subtreeFlags=0,p=E,E=g.child;E!==null;)Cp(E,p),E=E.sibling;return T(Ir,Ir.current&1|2),g.child}p=p.sibling}k.tail!==null&&Wa()>Wf&&(g.flags|=128,D=!0,vf(k,!1),g.lanes=4194304)}else{if(!D)if(p=$r(z),p!==null){if(g.flags|=128,D=!0,p=p.updateQueue,g.updateQueue=p,yf(g,p),vf(k,!0),k.tail===null&&k.tailMode==="hidden"&&!z.alternate&&!Gn)return Gi(g),null}else 2*Wa()-k.renderingStartTime>Wf&&E!==536870912&&(g.flags|=128,D=!0,vf(k,!1),g.lanes=4194304);k.isBackwards?(z.sibling=g.child,g.child=z):(p=k.last,p!==null?p.sibling=z:g.child=z,k.last=z)}return k.tail!==null?(g=k.tail,k.rendering=g,k.tail=g.sibling,k.renderingStartTime=Wa(),g.sibling=null,p=Ir.current,T(Ir,D?p&1|2:p&1),g):(Gi(g),null);case 22:case 23:return wr(g),qi(),D=g.memoizedState!==null,p!==null?p.memoizedState!==null!==D&&(g.flags|=8192):D&&(g.flags|=8192),D?(E&536870912)!==0&&(g.flags&128)===0&&(Gi(g),g.subtreeFlags&6&&(g.flags|=8192)):Gi(g),E=g.updateQueue,E!==null&&yf(g,E.retryQueue),E=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==E&&(g.flags|=2048),p!==null&&x(cl),null;case 24:return E=null,p!==null&&(E=p.memoizedState.cache),g.memoizedState.cache!==E&&(g.flags|=2048),Gl(Di),Gi(g),null;case 25:return null}throw Error(r(156,g.tag))}function _D(p,g){switch(Se(g),g.tag){case 1:return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return Gl(Di),xe(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 26:case 27:case 5:return He(g),null;case 13:if(wr(g),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(r(340));ue()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return x(Ir),null;case 4:return xe(),null;case 10:return Gl(g.type),null;case 22:case 23:return wr(g),qi(),p!==null&&x(cl),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 24:return Gl(Di),null;case 25:return null;default:return null}}function KA(p,g){switch(Se(g),g.tag){case 3:Gl(Di),xe();break;case 26:case 27:case 5:He(g);break;case 4:xe();break;case 13:wr(g);break;case 19:x(Ir);break;case 10:Gl(g.type);break;case 22:case 23:wr(g),qi(),p!==null&&x(cl);break;case 24:Gl(Di)}}function gp(p,g){try{var E=g.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var k=D.next;E=k;do{if((E.tag&p)===p){D=void 0;var z=E.create,se=E.inst;D=z(),se.destroy=D}E=E.next}while(E!==k)}}catch(me){ni(g,g.return,me)}}function kc(p,g,E){try{var D=g.updateQueue,k=D!==null?D.lastEffect:null;if(k!==null){var z=k.next;D=z;do{if((D.tag&p)===p){var se=D.inst,me=se.destroy;if(me!==void 0){se.destroy=void 0,k=g;var Ie=E;try{me()}catch(nt){ni(k,Ie,nt)}}}D=D.next}while(D!==z)}}catch(nt){ni(g,g.return,nt)}}function JA(p){var g=p.updateQueue;if(g!==null){var E=p.stateNode;try{et(g,E)}catch(D){ni(p,p.return,D)}}}function Ws(p,g,E){E.props=Hl(p.type,p.memoizedProps),E.state=p.memoizedState;try{E.componentWillUnmount()}catch(D){ni(p,g,D)}}function vo(p,g){try{var E=p.ref;if(E!==null){var D=p.stateNode;switch(p.tag){case 26:case 27:case 5:var k=Df(D);break;default:k=D}typeof E=="function"?p.refCleanup=E(k):E.current=k}}catch(z){ni(p,g,z)}}function Ys(p,g){var E=p.ref,D=p.refCleanup;if(E!==null)if(typeof D=="function")try{D()}catch(k){ni(p,g,k)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(k){ni(p,g,k)}else E.current=null}function bb(p){var g=p.type,E=p.memoizedProps,D=p.stateNode;try{ED(D,g,E,p)}catch(k){ni(p,p.return,k)}}function _b(p,g,E){try{pE(p.stateNode,p.type,E,g,p)}catch(D){ni(p,p.return,D)}}function xb(p){return p.tag===5||p.tag===3||(ga?p.tag===26:!1)||(_i?p.tag===27:!1)||p.tag===4}function yp(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||xb(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&(!_i||p.tag!==27)&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Sb(p,g,E){var D=p.tag;if(D===5||D===6)p=p.stateNode,g?gE(E,p,g):Wb(E,p);else if(!(D===4||_i&&D===27)&&(p=p.child,p!==null))for(Sb(p,g,E),p=p.sibling;p!==null;)Sb(p,g,E),p=p.sibling}function Vl(p,g,E){var D=p.tag;if(D===5||D===6)p=p.stateNode,g?mE(E,p,g):fE(E,p);else if(!(D===4||_i&&D===27)&&(p=p.child,p!==null))for(Vl(p,g,E),p=p.sibling;p!==null;)Vl(p,g,E),p=p.sibling}function kg(p,g,E){p=p.containerInfo;try{Nf(p,E)}catch(D){ni(g,g.return,D)}}function vp(p,g){for(Zg(p.containerInfo),pn=g;pn!==null;)if(p=pn,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,pn=g;else for(;pn!==null;){p=pn;var E=p.alternate;switch(g=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&E!==null){g=void 0;var D=p,k=E.memoizedProps;E=E.memoizedState;var z=D.stateNode;try{var se=Hl(D.type,k,D.elementType===D.type);g=z.getSnapshotBeforeUpdate(se,E),z.__reactInternalSnapshotBeforeUpdate=g}catch(me){ni(D,D.return,me)}}break;case 3:(g&1024)!==0&&Rr&&xE(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(r(163))}if(g=p.sibling,g!==null){g.return=p.return,pn=g;break}pn=p.return}return se=Mn,Mn=!1,se}function Fg(p,g,E){var D=E.flags;switch(E.tag){case 0:case 11:case 15:Wl(p,E),D&4&&gp(5,E);break;case 1:if(Wl(p,E),D&4)if(p=E.stateNode,g===null)try{p.componentDidMount()}catch(me){ni(E,E.return,me)}else{var k=Hl(E.type,g.memoizedProps);g=g.memoizedState;try{p.componentDidUpdate(k,g,p.__reactInternalSnapshotBeforeUpdate)}catch(me){ni(E,E.return,me)}}D&64&&JA(E),D&512&&vo(E,E.return);break;case 3:if(Wl(p,E),D&64&&(D=E.updateQueue,D!==null)){if(p=null,E.child!==null)switch(E.child.tag){case 27:case 5:p=Df(E.child.stateNode);break;case 1:p=E.child.stateNode}try{et(D,p)}catch(me){ni(E,E.return,me)}}break;case 26:if(ga){Wl(p,E),D&512&&vo(E,E.return);break}case 27:case 5:Wl(p,E),g===null&&D&4&&bb(E),D&512&&vo(E,E.return);break;case 12:Wl(p,E);break;case 13:Wl(p,E),D&4&&Hg(p,E);break;case 22:if(k=E.memoizedState!==null||ul,!k){g=g!==null&&g.memoizedState!==null||Ji;var z=ul,se=Ji;ul=k,(Ji=g)&&!se?Yl(p,E,(E.subtreeFlags&8772)!==0):Wl(p,E),ul=z,Ji=se}D&512&&(E.memoizedProps.mode==="manual"?vo(E,E.return):Ys(E,E.return));break;default:Wl(p,E)}}function Ab(p){var g=p.alternate;g!==null&&(p.alternate=null,Ab(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&AD(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function es(p,g,E){for(E=E.child;E!==null;)Fc(p,g,E),E=E.sibling}function Fc(p,g,E){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(lr,E)}catch{}switch(E.tag){case 26:if(ga){Ji||Ys(E,g),es(p,g,E),E.memoizedState?Gu(E.memoizedState):E.stateNode&&Bf(E.stateNode);break}case 27:if(_i){Ji||Ys(E,g);var D=jt,k=_n;jt=E.stateNode,es(p,g,E),Qc(E.stateNode),jt=D,_n=k;break}case 5:Ji||Ys(E,g);case 6:if(Rr){if(D=jt,k=_n,jt=null,es(p,g,E),jt=D,_n=k,jt!==null)if(_n)try{yE(jt,E.stateNode)}catch(z){ni(E,g,z)}else try{Yb(jt,E.stateNode)}catch(z){ni(E,g,z)}}else es(p,g,E);break;case 18:Rr&&jt!==null&&(_n?Bp(jt,E.stateNode):IE(jt,E.stateNode));break;case 4:Rr?(D=jt,k=_n,jt=E.stateNode.containerInfo,_n=!0,es(p,g,E),jt=D,_n=k):(ja&&kg(E.stateNode,E,Np()),es(p,g,E));break;case 0:case 11:case 14:case 15:Ji||kc(2,E,g),Ji||kc(4,E,g),es(p,g,E);break;case 1:Ji||(Ys(E,g),D=E.stateNode,typeof D.componentWillUnmount=="function"&&Ws(E,g,D)),es(p,g,E);break;case 21:es(p,g,E);break;case 22:Ji||Ys(E,g),Ji=(D=Ji)||E.memoizedState!==null,es(p,g,E),Ji=D;break;default:es(p,g,E)}}function Hg(p,g){if(is&&g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{wD(p)}catch(E){ni(g,g.return,E)}}function QA(p){switch(p.tag){case 13:case 19:var g=p.stateNode;return g===null&&(g=p.stateNode=new ii),g;case 22:return p=p.stateNode,g=p._retryCache,g===null&&(g=p._retryCache=new ii),g;default:throw Error(r(435,p.tag))}}function jl(p,g){var E=QA(p);g.forEach(function(D){var k=Yc.bind(null,p,D);E.has(D)||(E.add(D),D.then(k,k))})}function Ps(p,g){var E=g.deletions;if(E!==null)for(var D=0;D<E.length;D++){var k=E[D],z=p,se=g;if(Rr){var me=se;e:for(;me!==null;){switch(me.tag){case 27:case 5:jt=me.stateNode,_n=!1;break e;case 3:jt=me.stateNode.containerInfo,_n=!0;break e;case 4:jt=me.stateNode.containerInfo,_n=!0;break e}me=me.return}if(jt===null)throw Error(r(160));Fc(z,se,k),jt=null,_n=!1}else Fc(z,se,k);z=k.alternate,z!==null&&(z.return=null),k.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)Eb(g,p),g=g.sibling}function Eb(p,g){var E=p.alternate,D=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Ps(g,p),Xs(p),D&4&&(kc(3,p,p.return),gp(3,p),kc(5,p,p.return));break;case 1:Ps(g,p),Xs(p),D&512&&(Ji||E===null||Ys(E,E.return)),D&64&&ul&&(p=p.updateQueue,p!==null&&(D=p.callbacks,D!==null&&(E=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=E===null?D:E.concat(D))));break;case 26:if(ga){var k=Yi;Ps(g,p),Xs(p),D&512&&(Ji||E===null||Ys(E,E.return)),D&4&&(D=E!==null?E.memoizedState:null,g=p.memoizedState,E===null?g===null?p.stateNode===null?p.stateNode=Up(k,p.type,p.memoizedProps,p):kp(k,p.type,p.stateNode):p.stateNode=PE(k,g,p.memoizedProps):D!==g?(D===null?E.stateNode!==null&&Bf(E.stateNode):Gu(D),g===null?kp(k,p.type,p.stateNode):PE(k,g,p.memoizedProps)):g===null&&p.stateNode!==null&&_b(p,p.memoizedProps,E.memoizedProps));break}case 27:if(_i&&D&4&&p.alternate===null){k=p.stateNode;var z=p.memoizedProps;try{Jc(k),UE(p.type,z,k,p)}catch(pt){ni(p,p.return,pt)}}case 5:if(Ps(g,p),Xs(p),D&512&&(Ji||E===null||Ys(E,E.return)),Rr){if(p.flags&32){g=p.stateNode;try{Xb(g)}catch(pt){ni(p,p.return,pt)}}D&4&&p.stateNode!=null&&(g=p.memoizedProps,_b(p,g,E!==null?E.memoizedProps:g)),D&1024&&(s_=!0)}break;case 6:if(Ps(g,p),Xs(p),D&4&&Rr){if(p.stateNode===null)throw Error(r(162));D=p.memoizedProps,E=E!==null?E.memoizedProps:D,g=p.stateNode;try{hE(g,E,D)}catch(pt){ni(p,p.return,pt)}}break;case 3:if(ga?(NE(),k=Yi,Yi=cy(g.containerInfo),Ps(g,p),Yi=k):Ps(g,p),Xs(p),D&4){if(Rr&&is&&E!==null&&E.memoizedState.isDehydrated)try{MD(g.containerInfo)}catch(pt){ni(p,p.return,pt)}if(ja){D=g.containerInfo,E=g.pendingChildren;try{Nf(D,E)}catch(pt){ni(p,p.return,pt)}}}s_&&(s_=!1,ZA(p));break;case 4:ga?(E=Yi,Yi=cy(p.stateNode.containerInfo),Ps(g,p),Xs(p),Yi=E):(Ps(g,p),Xs(p)),D&4&&ja&&kg(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:Ps(g,p),Xs(p);break;case 13:Ps(g,p),Xs(p),p.child.flags&8192&&p.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(Fs=Wa()),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,jl(p,D)));break;case 22:D&512&&(Ji||E===null||Ys(E,E.return)),k=p.memoizedState!==null;var se=E!==null&&E.memoizedState!==null,me=ul,Ie=Ji;if(ul=me||k,Ji=Ie||se,Ps(g,p),Ji=Ie,ul=me,Xs(p),g=p.stateNode,g._current=p,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,D&8192&&(g._visibility=k?g._visibility&-2:g._visibility|1,k&&(g=ul||Ji,E===null||se||g||bf(p)),Rr&&(p.memoizedProps===null||p.memoizedProps.mode!=="manual"))){e:if(E=null,Rr)for(g=p;;){if(g.tag===5||ga&&g.tag===26||_i&&g.tag===27){if(E===null){se=E=g;try{z=se.stateNode,k?vE(z):_E(se.stateNode,se.memoizedProps)}catch(pt){ni(se,se.return,pt)}}}else if(g.tag===6){if(E===null){se=g;try{var nt=se.stateNode;k?bE(nt):CD(nt,se.memoizedProps)}catch(pt){ni(se,se.return,pt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;E===g&&(E=null),g=g.return}E===g&&(E=null),g.sibling.return=g.return,g=g.sibling}}D&4&&(D=p.updateQueue,D!==null&&(E=D.retryQueue,E!==null&&(D.retryQueue=null,jl(p,E))));break;case 19:Ps(g,p),Xs(p),D&4&&(D=p.updateQueue,D!==null&&(p.updateQueue=null,jl(p,D)));break;case 21:break;default:Ps(g,p),Xs(p)}}function Xs(p){var g=p.flags;if(g&2){try{if(Rr&&(!_i||p.tag!==27)){e:{for(var E=p.return;E!==null;){if(xb(E)){var D=E;break e}E=E.return}throw Error(r(160))}switch(D.tag){case 27:if(_i){var k=D.stateNode,z=yp(p);Vl(p,z,k);break}case 5:var se=D.stateNode;D.flags&32&&(Xb(se),D.flags&=-33);var me=yp(p);Vl(p,me,se);break;case 3:case 4:var Ie=D.stateNode.containerInfo,nt=yp(p);Sb(p,nt,Ie);break;default:throw Error(r(161))}}}catch(pt){ni(p,p.return,pt)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function ZA(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var g=p;ZA(g),g.tag===5&&g.flags&1024&&ny(g.stateNode),p=p.sibling}}function Wl(p,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)Fg(p,g.alternate,g),g=g.sibling}function bf(p){for(p=p.child;p!==null;){var g=p;switch(g.tag){case 0:case 11:case 14:case 15:kc(4,g,g.return),bf(g);break;case 1:Ys(g,g.return);var E=g.stateNode;typeof E.componentWillUnmount=="function"&&Ws(g,g.return,E),bf(g);break;case 26:case 27:case 5:Ys(g,g.return),bf(g);break;case 22:Ys(g,g.return),g.memoizedState===null&&bf(g);break;default:bf(g)}p=p.sibling}}function Yl(p,g,E){for(E=E&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var D=g.alternate,k=p,z=g,se=z.flags;switch(z.tag){case 0:case 11:case 15:Yl(k,z,E),gp(4,z);break;case 1:if(Yl(k,z,E),D=z,k=D.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(nt){ni(D,D.return,nt)}if(D=z,k=D.updateQueue,k!==null){var me=D.stateNode;try{var Ie=k.shared.hiddenCallbacks;if(Ie!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Ie.length;k++)ce(Ie[k],me)}catch(nt){ni(D,D.return,nt)}}E&&se&64&&JA(z),vo(z,z.return);break;case 26:case 27:case 5:Yl(k,z,E),E&&D===null&&se&4&&bb(z),vo(z,z.return);break;case 12:Yl(k,z,E);break;case 13:Yl(k,z,E),E&&se&4&&Hg(k,z);break;case 22:z.memoizedState===null&&Yl(k,z,E),vo(z,z.return);break;default:Yl(k,z,E)}g=g.sibling}}function zg(p,g){var E=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),p=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(p=g.memoizedState.cachePool.pool),p!==E&&(p!=null&&p.refCount++,E!=null&&pp(E))}function bp(p,g){p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&pp(p))}function zr(p,g,E,D){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Cb(p,g,E,D),g=g.sibling}function Cb(p,g,E,D){var k=g.flags;switch(g.tag){case 0:case 11:case 15:zr(p,g,E,D),k&2048&&gp(9,g);break;case 3:zr(p,g,E,D),k&2048&&(p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&pp(p)));break;case 12:if(k&2048){zr(p,g,E,D),p=g.stateNode;try{var z=g.memoizedProps,se=z.id,me=z.onPostCommit;typeof me=="function"&&me(se,g.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Ie){ni(g,g.return,Ie)}}else zr(p,g,E,D);break;case 23:break;case 22:z=g.stateNode,g.memoizedState!==null?z._visibility&4?zr(p,g,E,D):hs(p,g):z._visibility&4?zr(p,g,E,D):(z._visibility|=4,ts(p,g,E,D,(g.subtreeFlags&10256)!==0)),k&2048&&zg(g.alternate,g);break;case 24:zr(p,g,E,D),k&2048&&bp(g.alternate,g);break;default:zr(p,g,E,D)}}function ts(p,g,E,D,k){for(k=k&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var z=p,se=g,me=E,Ie=D,nt=se.flags;switch(se.tag){case 0:case 11:case 15:ts(z,se,me,Ie,k),gp(8,se);break;case 23:break;case 22:var pt=se.stateNode;se.memoizedState!==null?pt._visibility&4?ts(z,se,me,Ie,k):hs(z,se):(pt._visibility|=4,ts(z,se,me,Ie,k)),k&&nt&2048&&zg(se.alternate,se);break;case 24:ts(z,se,me,Ie,k),k&&nt&2048&&bp(se.alternate,se);break;default:ts(z,se,me,Ie,k)}g=g.sibling}}function hs(p,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var E=p,D=g,k=D.flags;switch(D.tag){case 22:hs(E,D),k&2048&&zg(D.alternate,D);break;case 24:hs(E,D),k&2048&&bp(D.alternate,D);break;default:hs(E,D)}g=g.sibling}}function Fa(p){if(p.subtreeFlags&Aa)for(p=p.child;p!==null;)Gg(p),p=p.sibling}function Gg(p){switch(p.tag){case 26:Fa(p),p.flags&Aa&&(p.memoizedState!==null?LE(Yi,p.memoizedState,p.memoizedProps):Ls(p.type,p.memoizedProps));break;case 5:Fa(p),p.flags&Aa&&Ls(p.type,p.memoizedProps);break;case 3:case 4:if(ga){var g=Yi;Yi=cy(p.stateNode.containerInfo),Fa(p),Yi=g}else Fa(p);break;case 22:p.memoizedState===null&&(g=p.alternate,g!==null&&g.memoizedState!==null?(g=Aa,Aa=16777216,Fa(p),Aa=g):Fa(p));break;default:Fa(p)}}function _p(p){var g=p.alternate;if(g!==null&&(p=g.child,p!==null)){g.child=null;do g=p.sibling,p.sibling=null,p=g;while(p!==null)}}function Hc(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var E=0;E<g.length;E++){var D=g[E];pn=D,Tb(D,p)}_p(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Vg(p),p=p.sibling}function Vg(p){switch(p.tag){case 0:case 11:case 15:Hc(p),p.flags&2048&&kc(9,p,p.return);break;case 3:Hc(p);break;case 12:Hc(p);break;case 22:var g=p.stateNode;p.memoizedState!==null&&g._visibility&4&&(p.return===null||p.return.tag!==13)?(g._visibility&=-5,Xl(p)):Hc(p);break;default:Hc(p)}}function Xl(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var E=0;E<g.length;E++){var D=g[E];pn=D,Tb(D,p)}_p(p)}for(p=p.child;p!==null;){switch(g=p,g.tag){case 0:case 11:case 15:kc(8,g,g.return),Xl(g);break;case 22:E=g.stateNode,E._visibility&4&&(E._visibility&=-5,Xl(g));break;default:Xl(g)}p=p.sibling}}function Tb(p,g){for(;pn!==null;){var E=pn;switch(E.tag){case 0:case 11:case 15:kc(8,E,g);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var D=E.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:pp(E.memoizedState.cache)}if(D=E.child,D!==null)D.return=E,pn=D;else e:for(E=p;pn!==null;){D=pn;var k=D.sibling,z=D.return;if(Ab(D),D===E){pn=null;break e}if(k!==null){k.return=z,pn=k;break e}pn=z}}}function _f(p){var g=sE(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(r(364));return g}if(p=Vb(p),p===null)throw Error(r(362));return p.stateNode.current}function zc(p,g){var E=p.tag;switch(g.$$typeof){case jf:if(p.type===g.value)return!0;break;case $a:e:{for(g=g.value,p=[p,0],E=0;E<p.length;){var D=p[E++],k=D.tag,z=p[E++],se=g[z];if(k!==5&&k!==26&&k!==27||!Of(D)){for(;se!=null&&zc(D,se);)z++,se=g[z];if(z===g.length){g=!0;break e}else for(D=D.child;D!==null;)p.push(D,z),D=D.sibling}}g=!1}return g;case Ui:if((E===5||E===26||E===27)&&cE(p.stateNode,g.value))return!0;break;case dl:if((E===5||E===6||E===26||E===27)&&(p=lE(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case wo:if((E===5||E===26||E===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Mb(p){switch(p.$$typeof){case jf:return"<"+(a(p.value)||"Unknown")+">";case $a:return":has("+(Mb(p)||"")+")";case Ui:return'[role="'+p.value+'"]';case dl:return'"'+p.value+'"';case wo:return'[data-testname="'+p.value+'"]';default:throw Error(r(365))}}function qs(p,g){var E=[];p=[p,0];for(var D=0;D<p.length;){var k=p[D++],z=k.tag,se=p[D++],me=g[se];if(z!==5&&z!==26&&z!==27||!Of(k)){for(;me!=null&&zc(k,me);)se++,me=g[se];if(se===g.length)E.push(k);else for(k=k.child;k!==null;)p.push(k,se),k=k.sibling}}return E}function xp(p,g){if(!Kc)throw Error(r(363));p=_f(p),p=qs(p,g),g=[],p=Array.from(p);for(var E=0;E<p.length;){var D=p[E++],k=D.tag;if(k===5||k===26||k===27)Of(D)||g.push(D.stateNode);else for(D=D.child;D!==null;)p.push(D),D=D.sibling}return g}function sr(){if((Yn&2)!==0&&Pn!==0)return Pn&-Pn;if(on.T!==null){var p=ba;return p!==0?p:ft()}return aE()}function wb(){Ta===0&&(Ta=(Pn&536870912)===0||Gn?N():536870912);var p=_a.current;return p!==null&&(p.flags|=32),Ta}function Gr(p,g,E){(p===ri&&gi===2||p.cancelPendingCommit!==null)&&(ns(p,0),$s(p,Pn,Ta,!1)),F(p,E),((Yn&2)===0||p!==ri)&&(p===ri&&((Yn&2)===0&&(oc|=E),Ai===4&&$s(p,Pn,Ta,!1)),De(p))}function Gc(p,g,E){if((Yn&6)!==0)throw Error(r(327));var D=!E&&(g&60)===0&&(g&p.expiredLanes)===0||R(p,g),k=D?Db(p,g):Wg(p,g,!0),z=D;do{if(k===0){Ea&&!D&&$s(p,g,0,!1);break}else if(k===6)$s(p,g,0,!Ja);else{if(E=p.current.alternate,z&&!xf(E)){k=Wg(p,g,!1),z=!1;continue}if(k===2){if(z=g,p.errorRecoveryDisabledLanes&z)var se=0;else se=p.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){g=se;e:{var me=p;k=id;var Ie=is&&me.current.memoizedState.isDehydrated;if(Ie&&(ns(me,se).flags|=256),se=Wg(me,se,!1),se!==2){if(Or&&!Ie){me.errorRecoveryDisabledLanes|=z,oc|=z,k=4;break e}z=Qi,Qi=k,z!==null&&Sp(z)}k=se}if(z=!1,k!==2)continue}}if(k===1){ns(p,0),$s(p,g,0,!0);break}e:{switch(D=p,k){case 0:case 1:throw Error(r(345));case 4:if((g&4194176)===g){$s(D,g,Ta,!Ja);break e}break;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(D.finishedWork=E,D.finishedLanes=g,(g&62914560)===g&&(z=Fs+300-Wa(),10<z)){if($s(D,g,Ta,!Ja),O(D,0)!==0)break e;D.timeoutHandle=vr(jg.bind(null,D,E,Qi,Wp,_y,g,Ta,oc,fl,Ja,2,-0,0),z);break e}jg(D,E,Qi,Wp,_y,g,Ta,oc,fl,Ja,0,-0,0)}}break}while(!0);De(p)}function Sp(p){Qi===null?Qi=p:Qi.push.apply(Qi,p)}function jg(p,g,E,D,k,z,se,me,Ie,nt,pt,Ot,Bt){var mn=g.subtreeFlags;if((mn&8192||(mn&16785408)===16785408)&&(zb(),Gg(g),g=br(),g!==null)){p.cancelPendingCommit=g(jc.bind(null,p,E,D,k,se,me,Ie,1,Ot,Bt)),$s(p,z,se,!nt);return}jc(p,E,D,k,se,me,Ie,pt,Ot,Bt)}function xf(p){for(var g=p;;){var E=g.tag;if((E===0||E===11||E===15)&&g.flags&16384&&(E=g.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var D=0;D<E.length;D++){var k=E[D],z=k.getSnapshot;k=k.value;try{if(!Js(z(),k))return!1}catch{return!1}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function $s(p,g,E,D){g&=~jp,g&=~oc,p.suspendedLanes|=g,p.pingedLanes&=~g,D&&(p.warmLanes|=g),D=p.expirationTimes;for(var k=g;0<k;){var z=31-Us(k),se=1<<z;D[z]=-1,k&=~se}E!==0&&j(p,E,g)}function Ap(){return(Yn&6)===0?(ie(0),!1):!0}function Sf(){if(qt!==null){if(gi===0)var p=qt.return;else p=qt,Sa=Mo=null,Mt(p),nu=null,iu=0,p=qt;for(;p!==null;)KA(p.alternate,p),p=p.return;qt=null}}function ns(p,g){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;E!==qc&&(p.timeoutHandle=qc,ey(E)),E=p.cancelPendingCommit,E!==null&&(p.cancelPendingCommit=null,E()),Sf(),ri=p,qt=E=za(p.current,null),Pn=g,gi=0,ms=null,Ja=!1,Ea=R(p,g),Or=!1,fl=Ta=jp=oc=Ca=Ai=0,Qi=id=null,_y=!1,(g&8)!==0&&(g|=g&32);var D=p.entangledLanes;if(D!==0)for(p=p.entanglements,D&=g;0<D;){var k=31-Us(D),z=1<<k;g|=p[k],D&=~z}return gs=g,Q(),E}function ha(p,g){Sn=null,on.H=Ki,g===Hf?(g=Ut(),gi=3):g===Gp?(g=Ut(),gi=4):gi=g===vy?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,ms=g,qt===null&&(Ai=1,hf(p,ne(g,p.current)))}function Vc(){var p=_a.current;return p===null?!0:(Pn&4194176)===Pn?xi===null:(Pn&62914560)===Pn||(Pn&536870912)!==0?p===xi:!1}function Zo(){var p=on.H;return on.H=Ki,p===null?Ki:p}function el(){var p=on.A;return on.A=Vf,p}function ql(){Ai=4,Ja||(Pn&4194176)!==Pn&&_a.current!==null||(Ea=!0),(Ca&134217727)===0&&(oc&134217727)===0||ri===null||$s(ri,Pn,Ta,!1)}function Wg(p,g,E){var D=Yn;Yn|=2;var k=Zo(),z=el();(ri!==p||Pn!==g)&&(Wp=null,ns(p,g)),g=!1;var se=Ai;e:do try{if(gi!==0&&qt!==null){var me=qt,Ie=ms;switch(gi){case 8:Sf(),se=6;break e;case 3:case 2:case 6:_a.current===null&&(g=!0);var nt=gi;if(gi=0,ms=null,Ha(p,me,Ie,nt),E&&Ea){se=0;break e}break;default:nt=gi,gi=0,ms=null,Ha(p,me,Ie,nt)}}Rb(),se=Ai;break}catch(pt){ha(p,pt)}while(!0);return g&&p.shellSuspendCounter++,Sa=Mo=null,Yn=D,on.H=k,on.A=z,qt===null&&(ri=null,Pn=0,Q()),se}function Rb(){for(;qt!==null;)Wi(qt)}function Db(p,g){var E=Yn;Yn|=2;var D=Zo(),k=el();ri!==p||Pn!==g?(Wp=null,Wf=Wa()+500,ns(p,g)):Ea=R(p,g);e:do try{if(gi!==0&&qt!==null){g=qt;var z=ms;t:switch(gi){case 1:gi=0,ms=null,Ha(p,g,z,1);break;case 2:if($e(z)){gi=0,ms=null,$n(g);break}g=function(){gi===2&&ri===p&&(gi=7),De(p)},z.then(g,g);break e;case 3:gi=7;break e;case 4:gi=5;break e;case 7:$e(z)?(gi=0,ms=null,$n(g)):(gi=0,ms=null,Ha(p,g,z,7));break;case 5:var se=null;switch(qt.tag){case 26:se=qt.memoizedState;case 5:case 27:var me=qt,Ie=me.type,nt=me.pendingProps;if(se?Vu(se):ty(Ie,nt)){gi=0,ms=null;var pt=me.sibling;if(pt!==null)qt=pt;else{var Ot=me.return;Ot!==null?(qt=Ot,pa(Ot)):qt=null}break t}}gi=0,ms=null,Ha(p,g,z,5);break;case 6:gi=0,ms=null,Ha(p,g,z,6);break;case 8:Sf(),Ai=6;break e;default:throw Error(r(462))}}Ns();break}catch(Bt){ha(p,Bt)}while(!0);return Sa=Mo=null,on.H=D,on.A=k,Yn=E,qt!==null?0:(ri=null,Pn=0,Q(),Ai)}function Ns(){for(;qt!==null&&!HE();)Wi(qt)}function Wi(p){var g=XA(p.alternate,p,gs);p.memoizedProps=p.pendingProps,g===null?pa(p):qt=g}function $n(p){var g=p,E=g.alternate;switch(g.tag){case 15:case 0:g=zA(E,g,g.pendingProps,g.type,void 0,Pn);break;case 11:g=zA(E,g,g.pendingProps,g.type.render,g.ref,Pn);break;case 5:Mt(g);default:KA(E,g),g=qt=Cp(g,gs),g=XA(E,g,gs)}p.memoizedProps=p.pendingProps,g===null?pa(p):qt=g}function Ha(p,g,E,D){Sa=Mo=null,Mt(g),nu=null,iu=0;var k=g.return;try{if(vD(p,k,g,E,Pn)){Ai=1,hf(p,ne(E,p.current)),qt=null;return}}catch(z){if(k!==null)throw qt=k,z;Ai=1,hf(p,ne(E,p.current)),qt=null;return}g.flags&32768?(Gn||D===1?p=!0:Ea||(Pn&536870912)!==0?p=!1:(Ja=p=!0,(D===2||D===3||D===6)&&(D=_a.current,D!==null&&D.tag===13&&(D.flags|=16384))),Yg(g,p)):pa(g)}function pa(p){var g=p;do{if((g.flags&32768)!==0){Yg(g,Ja);return}p=g.return;var E=$A(g.alternate,g,gs);if(E!==null){qt=E;return}if(g=g.sibling,g!==null){qt=g;return}qt=g=p}while(g!==null);Ai===0&&(Ai=5)}function Yg(p,g){do{var E=_D(p.alternate,p);if(E!==null){E.flags&=32767,qt=E;return}if(E=p.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!g&&(p=p.sibling,p!==null)){qt=p;return}qt=p=E}while(p!==null);Ai=6,qt=null}function jc(p,g,E,D,k,z,se,me,Ie,nt){var pt=on.T,Ot=ec();try{ps(2),on.T=null,eE(p,g,E,D,Ot,k,z,se,me,Ie,nt)}finally{on.T=pt,ps(Ot)}}function eE(p,g,E,D,k,z,se,me){do bo();while(hl!==null);if((Yn&6)!==0)throw Error(r(327));var Ie=p.finishedWork;if(D=p.finishedLanes,Ie===null)return null;if(p.finishedWork=null,p.finishedLanes=0,Ie===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var nt=Ie.lanes|Ie.childLanes;if(nt|=Co,U(p,D,nt,z,se,me),p===ri&&(qt=ri=null,Pn=0),(Ie.subtreeFlags&10256)===0&&(Ie.flags&10256)===0||Ro||(Ro=!0,lu=nt,xy=E,Kl(py,function(){return bo(),null})),E=(Ie.flags&15990)!==0,(Ie.subtreeFlags&15990)!==0||E?(E=on.T,on.T=null,z=ec(),ps(2),se=Yn,Yn|=4,vp(p,Ie),Eb(Ie,p),rE(p.containerInfo),p.current=Ie,Fg(p,Ie.alternate,Ie),fy(),Yn=se,ps(z),on.T=E):p.current=Ie,Ro?(Ro=!1,hl=p,rd=D):Ib(p,nt),nt=p.pendingLanes,nt===0&&(ou=null),H(Ie.stateNode),De(p),g!==null)for(k=p.onRecoverableError,Ie=0;Ie<g.length;Ie++)nt=g[Ie],k(nt.value,{componentStack:nt.stack});return(rd&3)!==0&&bo(),nt=p.pendingLanes,(D&4194218)!==0&&(nt&42)!==0?p===Sy?Yf++:(Yf=0,Sy=p):Yf=0,ie(0),null}function Ib(p,g){(p.pooledCacheLanes&=g)===0&&(g=p.pooledCache,g!=null&&(p.pooledCache=null,pp(g)))}function bo(){if(hl!==null){var p=hl,g=lu;lu=0;var E=Z(rd),D=32>E?32:E;E=on.T;var k=ec();try{if(ps(D),on.T=null,hl===null)var z=!1;else{D=xy,xy=null;var se=hl,me=rd;if(hl=null,rd=0,(Yn&6)!==0)throw Error(r(331));var Ie=Yn;if(Yn|=4,Vg(se.current),Cb(se,se.current,me,D),Yn=Ie,ie(0,!1),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(lr,se)}catch{}z=!0}return z}finally{ps(k),on.T=E,Ib(p,g)}}return!1}function Af(p,g,E){g=ne(E,g),g=mf(p.stateNode,g,2),p=wt(p,g,2),p!==null&&(F(p,2),De(p))}function ni(p,g,E){if(p.tag===3)Af(p,p,E);else for(;g!==null;){if(g.tag===3){Af(g,p,E);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(ou===null||!ou.has(D))){p=ne(E,p),E=ub(2),D=wt(g,E,2),D!==null&&(LA(E,D,g,p),F(D,2),De(D));break}}g=g.return}}function Hu(p,g,E){var D=p.pingCache;if(D===null){D=p.pingCache=new Ka;var k=new Set;D.set(g,k)}else k=D.get(g),k===void 0&&(k=new Set,D.set(g,k));k.has(E)||(Or=!0,k.add(E),p=Ob.bind(null,p,g,E),g.then(p,p))}function Ob(p,g,E){var D=p.pingCache;D!==null&&D.delete(g),p.pingedLanes|=p.suspendedLanes&E,p.warmLanes&=~E,ri===p&&(Pn&E)===E&&(Ai===4||Ai===3&&(Pn&62914560)===Pn&&300>Wa()-Fs?(Yn&2)===0&&ns(p,0):jp|=E,fl===Pn&&(fl=0)),De(p)}function Wc(p,g){g===0&&(g=P()),p=ke(p,g),p!==null&&(F(p,g),De(p))}function $l(p){var g=p.memoizedState,E=0;g!==null&&(E=g.retryLane),Wc(p,E)}function Yc(p,g){var E=0;switch(p.tag){case 13:var D=p.stateNode,k=p.memoizedState;k!==null&&(E=k.retryLane);break;case 19:D=p.stateNode;break;case 22:D=p.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(g),Wc(p,E)}function Kl(p,g){return Fp(p,g)}function Pb(p,g,E,D){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ep(p){return p=p.prototype,!(!p||!p.isReactComponent)}function za(p,g){var E=p.alternate;return E===null?(E=t(p.tag,g,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=g,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&31457280,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,g=p.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E.refCleanup=p.refCleanup,E}function Cp(p,g){p.flags&=31457282;var E=p.alternate;return E===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=E.childLanes,p.lanes=E.lanes,p.child=E.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=E.memoizedProps,p.memoizedState=E.memoizedState,p.updateQueue=E.updateQueue,p.type=E.type,g=E.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p}function tl(p,g,E,D,k,z){var se=0;if(D=p,typeof p=="function")Ep(p)&&(se=1);else if(typeof p=="string")se=ga&&_i?Lp(p,E,Dr.current)?26:il(p)?27:5:ga?Lp(p,E,Dr.current)?26:5:_i&&il(p)?27:5;else e:switch(p){case Xc:return $i(E.children,k,z,g);case Rp:se=8,k|=24;break;case Kg:return p=t(12,E,g,k|2),p.elementType=Kg,p.lanes=z,p;case Jg:return p=t(13,E,g,k),p.elementType=Jg,p.lanes=z,p;case Mf:return p=t(19,E,g,k),p.elementType=Mf,p.lanes=z,p;case Lb:return Tp(E,k,z,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case Dp:case _o:se=10;break e;case Bb:se=9;break e;case Ip:se=11;break e;case Qg:se=14;break e;case Va:se=16,D=null;break e}se=29,E=Error(r(130,p===null?"null":typeof p,"")),D=null}return g=t(se,E,g,k),g.elementType=p,g.type=D,g.lanes=z,g}function $i(p,g,E,D){return p=t(7,p,D,g),p.lanes=E,p}function Tp(p,g,E,D){p=t(22,p,D,g),p.elementType=Lb,p.lanes=E;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=k._current;if(z===null)throw Error(r(456));if((k._pendingVisibility&2)===0){var se=ke(z,2);se!==null&&(k._pendingVisibility|=2,Gr(se,z,2))}},attach:function(){var z=k._current;if(z===null)throw Error(r(456));if((k._pendingVisibility&2)!==0){var se=ke(z,2);se!==null&&(k._pendingVisibility&=-3,Gr(se,z,2))}}};return p.stateNode=k,p}function Xg(p,g,E){return p=t(6,p,null,g),p.lanes=E,p}function Nb(p,g,E){return g=t(4,p.children!==null?p.children:[],p.key,g),g.lanes=E,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function xD(p,g,E,D,k,z,se,me){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=D,this.onUncaughtError=k,this.onCaughtError=z,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function tE(p,g,E,D,k,z,se,me,Ie,nt,pt,Ot){return p=new xD(p,g,E,se,me,Ie,nt,Ot),g=1,z===!0&&(g|=24),z=t(3,null,null,g),p.current=z,z.stateNode=p,g=Uc(),g.refCount++,p.pooledCache=g,g.refCount++,z.memoizedState={element:D,isDehydrated:E,cache:g},je(z),p}function yr(p){return p?(p=Zc,p):Zc}function qg(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=v(g),p=p!==null?b(p):null,p===null?null:Df(p.stateNode)}function Ef(p,g,E,D,k,z){k=yr(k),D.context===null?D.context=k:D.pendingContext=k,D=Dt(g),D.payload={element:E},z=z===void 0?null:z,z!==null&&(D.callback=z),E=wt(p,D,g),E!==null&&(Gr(E,p,g),yt(E,p,g))}function Cf(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<g?E:g}}function Mp(p,g){Cf(p,g),(p=p.alternate)&&Cf(p,g)}var gn={},Tf=T0(),ma=IMe(),$g=Object.assign,SD=Symbol.for("react.element"),wp=Symbol.for("react.transitional.element"),Ga=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),Bb=Symbol.for("react.consumer"),_o=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),Mf=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),Va=Symbol.for("react.lazy"),Lb=Symbol.for("react.offscreen"),nE=Symbol.for("react.memo_cache_sentinel"),Jl=Symbol.iterator,Ub=Symbol.for("react.client.reference"),on=Tf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nl,Ql,zu=!1,wf=Array.isArray,kb=e.rendererVersion,Op=e.rendererPackageName,Rf=e.extraDevToolsConfig,Df=e.getPublicInstance,iE=e.getRootHostContext,If=e.getChildHostContext,Zg=e.prepareForCommit,rE=e.resetAfterCommit,Fb=e.createInstance,Pp=e.appendInitialChild,Zl=e.finalizeInitialChildren,yn=e.shouldSetTextContent,ui=e.createTextInstance,vr=e.scheduleTimeout,ey=e.cancelTimeout,qc=e.noTimeout,Bs=e.isPrimaryRenderer;e.warnsIfNotActing;var Rr=e.supportsMutation,ja=e.supportsPersistence,is=e.supportsHydration,sE=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ar=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ps=e.setCurrentUpdatePriority,ec=e.getCurrentUpdatePriority,aE=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var oE=e.shouldAttemptEagerTransition,AD=e.detachDeletedInstance;e.requestPostPaintCallback;var Hb=e.maySuspendCommit,ty=e.preloadInstance,zb=e.startSuspendingCommit,Ls=e.suspendInstance,br=e.waitForCommitToBeReady,$c=e.NotPendingTransition,xo=e.HostTransitionContext,ny=e.resetFormInstance;e.bindToConsole;var Gb=e.supportsMicrotasks,tc=e.scheduleMicrotask,Kc=e.supportsTestSelectors,Vb=e.findFiberRoot,jb=e.getBoundingRect,lE=e.getTextContent,Of=e.isHiddenSubtree,cE=e.matchAccessibilityRole,uE=e.setFocusIfFocusable,dE=e.setupIntersectionObserver,fE=e.appendChild,Wb=e.appendChildToContainer,hE=e.commitTextUpdate,ED=e.commitMount,pE=e.commitUpdate,mE=e.insertBefore,gE=e.insertInContainerBefore,Yb=e.removeChild,yE=e.removeChildFromContainer,Xb=e.resetTextContent,vE=e.hideInstance,bE=e.hideTextInstance,_E=e.unhideInstance,CD=e.unhideTextInstance,xE=e.clearContainer,Pf=e.cloneInstance,Np=e.createContainerChildSet,qb=e.appendChildToContainerChildSet,iy=e.finalizeContainerChildren,Nf=e.replaceContainerChildren,$b=e.cloneHiddenInstance,Kb=e.cloneHiddenTextInstance,ry=e.isSuspenseInstancePending,sy=e.isSuspenseInstanceFallback,SE=e.getSuspenseInstanceFallbackErrorDetails,AE=e.registerSuspenseInstanceRetry,Jb=e.canHydrateFormStateMarker,EE=e.isFormStateMarkerMatching,Qb=e.getNextHydratableSibling,ay=e.getFirstHydratableChild,CE=e.getFirstHydratableChildWithinContainer,TE=e.getFirstHydratableChildWithinSuspenseInstance,TD=e.canHydrateInstance,Zb=e.canHydrateTextInstance,ME=e.canHydrateSuspenseInstance,wE=e.hydrateInstance,e_=e.hydrateTextInstance,RE=e.hydrateSuspenseInstance,DE=e.getNextHydratableInstanceAfterSuspenseInstance,MD=e.commitHydratedContainer,wD=e.commitHydratedSuspenseInstance,IE=e.clearSuspenseBoundary,Bp=e.clearSuspenseBoundaryFromContainer,oy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ly=e.validateHydratableInstance,OE=e.validateHydratableTextInstance,ga=e.supportsResources,Lp=e.isHostHoistableType,cy=e.getHoistableRoot,t_=e.getResource,PE=e.acquireResource,Gu=e.releaseResource,Up=e.hydrateHoistable,kp=e.mountHoistable,Bf=e.unmountHoistable,uy=e.createHoistableInstance,NE=e.prepareToCommitHoistables,BE=e.mayResourceSuspendCommit,Vu=e.preloadResource,LE=e.suspendResource,_i=e.supportsSingletons,So=e.resolveSingletonInstance,Jc=e.clearSingleton,UE=e.acquireSingletonInstance,Qc=e.releaseSingletonInstance,il=e.isHostSingletonType,or=[],nc=-1,Zc={},Us=Math.clz32?Math.clz32:C,kE=Math.log,FE=Math.LN2,rl=128,ju=4194304,Fp=ma.unstable_scheduleCallback,dy=ma.unstable_cancelCallback,HE=ma.unstable_shouldYield,fy=ma.unstable_requestPaint,Wa=ma.unstable_now,hy=ma.unstable_ImmediatePriority,zE=ma.unstable_UserBlockingPriority,py=ma.unstable_NormalPriority,RD=ma.unstable_IdlePriority,GE=ma.log,Vr=ma.unstable_setDisableYieldValue,lr=null,Ks=null,Js=typeof Object.is=="function"?Object.is:X,n_=new WeakMap,Wu=[],Yu=0,Xu=null,Lf=0,ya=[],va=0,eu=null,Ao=1,Eo="",Dr=_(null),Uf=_(null),sl=_(null),qu=_(null),rs=null,ss=null,Gn=!1,Ya=null,jr=!1,Hp=Error(r(519)),Xa=[],$u=0,Co=0,zp=null,ic=null,Ku=!1,wi=!1,i_=!1,kf=0,Ff=null,Ju=0,ba=0,Qu=null,rc=!1,Zu=!1,al=Object.prototype.hasOwnProperty,Hf=Error(r(460)),Gp=Error(r(474)),Vp={then:function(){}},tu=null,nu=null,iu=0,ru=pi(!0),ol=pi(!1),Ri=_(null),zf=_(0),_a=_(null),xi=null,Ir=_(0),sc=0,Sn=null,Wt=null,Wn=null,qa=!1,ed=!1,su=!1,my=0,td=0,Wr=null,To=0,gy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ki={readContext:Zr,use:Be,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn};Ki.useCacheRefresh=nn,Ki.useMemoCache=nn,Ki.useHostTransitionStatus=nn,Ki.useFormState=nn,Ki.useActionState=nn,Ki.useOptimistic=nn;var au={readContext:Zr,use:Be,useCallback:function(p,g){return te().memoizedState=[p,g===void 0?null:g],p},useContext:Zr,useEffect:Mg,useImperativeHandle:function(p,g,E){E=E!=null?E.concat([p]):null,np(4194308,4,wg.bind(null,g,p),E)},useLayoutEffect:function(p,g){return np(4194308,4,p,g)},useInsertionEffect:function(p,g){np(4,2,p,g)},useMemo:function(p,g){var E=te();g=g===void 0?null:g;var D=p();if(su){Y(!0);try{p()}finally{Y(!1)}}return E.memoizedState=[D,g],D},useReducer:function(p,g,E){var D=te();if(E!==void 0){var k=E(g);if(su){Y(!0);try{E(g)}finally{Y(!1)}}}else k=g;return D.memoizedState=D.baseState=k,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:k},D.queue=p,p=p.dispatch=Dg.bind(null,Sn,p),[D.memoizedState,p]},useRef:function(p){var g=te();return p={current:p},g.memoizedState=p},useState:function(p){p=Dn(p);var g=p.queue,E=cb.bind(null,Sn,g);return g.dispatch=E,[p.memoizedState,E]},useDebugValue:Oc,useDeferredValue:function(p,g){var E=te();return sp(E,p,g)},useTransition:function(){var p=Dn(!1);return p=lf.bind(null,Sn,p.queue,!0,!1),te().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,g,E){var D=Sn,k=te();if(Gn){if(E===void 0)throw Error(r(407));E=E()}else{if(E=g(),ri===null)throw Error(r(349));(Pn&60)!==0||kt(D,g,E)}k.memoizedState=E;var z={value:E,getSnapshot:g};return k.queue=z,Mg(hn.bind(null,D,z,p),[p]),D.flags|=2048,Is(9,Lt.bind(null,D,z,E,g),{destroy:void 0},null),E},useId:function(){var p=te(),g=ri.identifierPrefix;if(Gn){var E=Eo,D=Ao;E=(D&~(1<<32-Us(D)-1)).toString(32)+E,g=":"+g+"R"+E,E=my++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=To++,g=":"+g+"r"+E.toString(32)+":";return p.memoizedState=g},useCacheRefresh:function(){return te().memoizedState=lb.bind(null,Sn)}};au.useMemoCache=Me,au.useHostTransitionStatus=ap,au.useFormState=mi,au.useActionState=mi,au.useOptimistic=function(p){var g=te();g.memoizedState=g.baseState=p;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=E,g=uf.bind(null,Sn,!0,E),E.dispatch=g,[p,g]};var ks={readContext:Zr,use:Be,useCallback:Uu,useContext:Zr,useEffect:sb,useImperativeHandle:Rg,useInsertionEffect:NA,useLayoutEffect:rp,useMemo:ab,useReducer:_t,useRef:Jo,useState:function(){return _t(ot)},useDebugValue:Oc,useDeferredValue:function(p,g){var E=fe();return ob(E,Wt.memoizedState,p,g)},useTransition:function(){var p=_t(ot)[0],g=fe().memoizedState;return[typeof p=="boolean"?p:Ne(p),g]},useSyncExternalStore:St,useId:cf};ks.useCacheRefresh=Fl,ks.useMemoCache=Me,ks.useHostTransitionStatus=ap,ks.useFormState=Jr,ks.useActionState=Jr,ks.useOptimistic=function(p,g){var E=fe();return On(E,Wt,p,g)};var xa={readContext:Zr,use:Be,useCallback:Uu,useContext:Zr,useEffect:sb,useImperativeHandle:Rg,useInsertionEffect:NA,useLayoutEffect:rp,useMemo:ab,useReducer:It,useRef:Jo,useState:function(){return It(ot)},useDebugValue:Oc,useDeferredValue:function(p,g){var E=fe();return Wt===null?sp(E,p,g):ob(E,Wt.memoizedState,p,g)},useTransition:function(){var p=It(ot)[0],g=fe().memoizedState;return[typeof p=="boolean"?p:Ne(p),g]},useSyncExternalStore:St,useId:cf};xa.useCacheRefresh=Fl,xa.useMemoCache=Me,xa.useHostTransitionStatus=ap,xa.useFormState=Hr,xa.useActionState=Hr,xa.useOptimistic=function(p,g){var E=fe();return Wt!==null?On(E,Wt,p,g):(E.baseState=p,[p,E.queue.dispatch])};var ll={isMounted:function(p){return(p=p._reactInternals)?h(p)===p:!1},enqueueSetState:function(p,g,E){p=p._reactInternals;var D=sr(),k=Dt(D);k.payload=g,E!=null&&(k.callback=E),g=wt(p,k,D),g!==null&&(Gr(g,p,D),yt(g,p,D))},enqueueReplaceState:function(p,g,E){p=p._reactInternals;var D=sr(),k=Dt(D);k.tag=1,k.payload=g,E!=null&&(k.callback=E),g=wt(p,k,D),g!==null&&(Gr(g,p,D),yt(g,p,D))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var E=sr(),D=Dt(E);D.tag=2,g!=null&&(D.callback=g),g=wt(p,D,E),g!==null&&(Gr(g,p,E),yt(g,p,E))}},yy=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},vy=Error(r(461)),Si=!1,by={dehydrated:null,treeContext:null,retryLane:0},ac=_(null),Mo=null,Sa=null,Gf=typeof AbortController<"u"?AbortController:function(){var p=[],g=this.signal={aborted:!1,addEventListener:function(E,D){p.push(D)}};this.abort=function(){g.aborted=!0,p.forEach(function(E){return E()})}},VE=ma.unstable_scheduleCallback,jE=ma.unstable_NormalPriority,Di={$$typeof:_o,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},r_=on.S;on.S=function(p,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&ct(p,g),r_!==null&&r_(p,g)};var cl=_(null),ul=!1,Ji=!1,s_=!1,ii=typeof WeakSet=="function"?WeakSet:Set,pn=null,Mn=!1,jt=null,_n=!1,Yi=null,Aa=8192,Vf={getCacheForType:function(p){var g=Zr(Di),E=g.data.get(p);return E===void 0&&(E=p(),g.data.set(p,E)),E}},jf=0,$a=1,Ui=2,wo=3,dl=4;if(typeof Symbol=="function"&&Symbol.for){var nd=Symbol.for;jf=nd("selector.component"),$a=nd("selector.has_pseudo_class"),Ui=nd("selector.role"),wo=nd("selector.test_id"),dl=nd("selector.text")}var Ka=typeof WeakMap=="function"?WeakMap:Map,Yn=0,ri=null,qt=null,Pn=0,gi=0,ms=null,Ja=!1,Ea=!1,Or=!1,gs=0,Ai=0,Ca=0,oc=0,jp=0,Ta=0,fl=0,id=null,Qi=null,_y=!1,Fs=0,Wf=1/0,Wp=null,ou=null,Ro=!1,hl=null,rd=0,lu=0,xy=null,Yf=0,Sy=null;return gn.attemptContinuousHydration=function(p){if(p.tag===13){var g=ke(p,67108864);g!==null&&Gr(g,p,67108864),Mp(p,67108864)}},gn.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=sr(),E=ke(p,g);E!==null&&Gr(E,p,g),Mp(p,g)}},gn.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var g=M(p.pendingLanes);if(g!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var E=1<<31-Us(g);p.entanglements[1]|=E,g&=~E}De(p),(Yn&6)===0&&(Wf=Wa()+500,ie(0))}}break;case 13:g=ke(p,2),g!==null&&Gr(g,p,2),Ap(),Mp(p,2)}},gn.batchedUpdates=function(p,g){return p(g)},gn.createComponentSelector=function(p){return{$$typeof:jf,value:p}},gn.createContainer=function(p,g,E,D,k,z,se,me,Ie,nt){return tE(p,g,!1,null,E,D,z,se,me,Ie,nt,null)},gn.createHasPseudoClassSelector=function(p){return{$$typeof:$a,value:p}},gn.createHydrationContainer=function(p,g,E,D,k,z,se,me,Ie,nt,pt,Ot,Bt){return p=tE(E,D,!0,p,k,z,me,Ie,nt,pt,Ot,Bt),p.context=yr(null),E=p.current,D=sr(),k=Dt(D),k.callback=g??null,wt(E,k,D),p.current.lanes=D,F(p,D),De(p),p},gn.createPortal=function(p,g,E){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:D==null?null:""+D,children:p,containerInfo:g,implementation:E}},gn.createRoleSelector=function(p){return{$$typeof:Ui,value:p}},gn.createTestNameSelector=function(p){return{$$typeof:wo,value:p}},gn.createTextSelector=function(p){return{$$typeof:dl,value:p}},gn.defaultOnCaughtError=function(p){console.error(p)},gn.defaultOnRecoverableError=function(p){yy(p)},gn.defaultOnUncaughtError=function(p){yy(p)},gn.deferredUpdates=function(p){var g=on.T,E=ec();try{return ps(32),on.T=null,p()}finally{ps(E),on.T=g}},gn.discreteUpdates=function(p,g,E,D,k){var z=on.T,se=ec();try{return ps(2),on.T=null,p(g,E,D,k)}finally{ps(se),on.T=z,Yn===0&&(Wf=Wa()+500)}},gn.findAllNodes=xp,gn.findBoundingRects=function(p,g){if(!Kc)throw Error(r(363));g=xp(p,g),p=[];for(var E=0;E<g.length;E++)p.push(jb(g[E]));for(g=p.length-1;0<g;g--){E=p[g];for(var D=E.x,k=D+E.width,z=E.y,se=z+E.height,me=g-1;0<=me;me--)if(g!==me){var Ie=p[me],nt=Ie.x,pt=nt+Ie.width,Ot=Ie.y,Bt=Ot+Ie.height;if(D>=nt&&z>=Ot&&k<=pt&&se<=Bt){p.splice(g,1);break}else if(D!==nt||E.width!==Ie.width||Bt<z||Ot>se){if(!(z!==Ot||E.height!==Ie.height||pt<D||nt>k)){nt>D&&(Ie.width+=nt-D,Ie.x=D),pt<k&&(Ie.width=k-nt),p.splice(g,1);break}}else{Ot>z&&(Ie.height+=Ot-z,Ie.y=z),Bt<se&&(Ie.height=se-Ot),p.splice(g,1);break}}}return p},gn.findHostInstance=qg,gn.findHostInstanceWithNoPortals=function(p){return p=v(p),p=p!==null?A(p):null,p===null?null:Df(p.stateNode)},gn.findHostInstanceWithWarning=function(p){return qg(p)},gn.flushPassiveEffects=bo,gn.flushSyncFromReconciler=function(p){var g=Yn;Yn|=1;var E=on.T,D=ec();try{if(ps(2),on.T=null,p)return p()}finally{ps(D),on.T=E,Yn=g,(Yn&6)===0&&ie(0)}},gn.flushSyncWork=Ap,gn.focusWithin=function(p,g){if(!Kc)throw Error(r(363));for(p=_f(p),g=qs(p,g),g=Array.from(g),p=0;p<g.length;){var E=g[p++],D=E.tag;if(!Of(E)){if((D===5||D===26||D===27)&&uE(E.stateNode))return!0;for(E=E.child;E!==null;)g.push(E),E=E.sibling}}return!1},gn.getFindAllNodesFailureDescription=function(p,g){if(!Kc)throw Error(r(363));var E=0,D=[];p=[_f(p),0];for(var k=0;k<p.length;){var z=p[k++],se=z.tag,me=p[k++],Ie=g[me];if((se!==5&&se!==26&&se!==27||!Of(z))&&(zc(z,Ie)&&(D.push(Mb(Ie)),me++,me>E&&(E=me)),me<g.length))for(z=z.child;z!==null;)p.push(z,me),z=z.sibling}if(E<g.length){for(p=[];E<g.length;E++)p.push(Mb(g[E]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},gn.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return Df(p.child.stateNode);default:return p.child.stateNode}},gn.injectIntoDevTools=function(){var p={bundleType:0,version:kb,rendererPackageName:Op,currentDispatcherRef:on,findFiberByHostInstance:sE,reconcilerVersion:"19.0.0"};if(Rf!==null&&(p.rendererConfig=Rf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{lr=g.inject(p),Ks=g}catch{}p=!!g.checkDCE}}return p},gn.isAlreadyRendering=function(){return!1},gn.observeVisibleRects=function(p,g,E,D){if(!Kc)throw Error(r(363));p=xp(p,g);var k=dE(p,E,D).disconnect;return{disconnect:function(){k()}}},gn.shouldError=function(){return null},gn.shouldSuspend=function(){return!1},gn.startHostTransition=function(p,g,E,D){if(p.tag!==5)throw Error(r(476));var k=Qo(p).queue;lf(p,k,g,$c,E===null?i:function(){var z=Qo(p).next.queue;return Pc(p,z,{},sr()),E(D)})},gn.updateContainer=function(p,g,E,D){var k=g.current,z=sr();return Ef(k,z,p,g,E,D),z},gn.updateContainerSync=function(p,g,E,D){return g.tag===0&&bo(),Ef(g.current,2,p,g,E,D),2},gn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(H2)),H2.exports}var HG;function PMe(){return HG||(HG=1,F2.exports=OMe()),F2.exports}var NMe=PMe();const BMe=C0(NMe);var V2={exports:{}},j2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zG;function LMe(){return zG||(zG=1,function(n){function e(H,Y){var X=H.length;H.push(Y);e:for(;0<X;){var ne=X-1>>>1,K=H[ne];if(0<r(K,Y))H[ne]=Y,H[X]=K,X=ne;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],X=H.pop();if(X!==Y){H[0]=X;e:for(var ne=0,K=H.length,ae=K>>>1;ne<ae;){var ye=2*(ne+1)-1,Se=H[ye],de=ye+1,xe=H[de];if(0>r(Se,X))de<K&&0>r(xe,Se)?(H[ne]=xe,H[de]=X,ne=de):(H[ne]=Se,H[ye]=X,ne=ye);else if(de<K&&0>r(xe,X))H[ne]=xe,H[de]=X,ne=de;else break e}}return Y}function r(H,Y){var X=H.sortIndex-Y.sortIndex;return X!==0?X:H.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,m=3,v=!1,b=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=H)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function M(H){if(A=!1,C(H),!b)if(t(l)!==null)b=!0,q();else{var Y=t(c);Y!==null&&Z(M,Y.startTime-H)}}var O=!1,R=-1,B=5,N=-1;function P(){return!(n.unstable_now()-N<B)}function I(){if(O){var H=n.unstable_now();N=H;var Y=!0;try{e:{b=!1,A&&(A=!1,x(R),R=-1),v=!0;var X=m;try{t:{for(C(H),h=t(l);h!==null&&!(h.expirationTime>H&&P());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,m=h.priorityLevel;var K=ne(h.expirationTime<=H);if(H=n.unstable_now(),typeof K=="function"){h.callback=K,C(H),Y=!0;break t}h===t(l)&&i(l),C(H)}else i(l);h=t(l)}if(h!==null)Y=!0;else{var ae=t(c);ae!==null&&Z(M,ae.startTime-H),Y=!1}}break e}finally{h=null,m=X,v=!1}Y=void 0}}finally{Y?F():O=!1}}}var F;if(typeof T=="function")F=function(){T(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=I,F=function(){j.postMessage(null)}}else F=function(){_(I,0)};function q(){O||(O=!0,F())}function Z(H,Y){R=_(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){b||v||(b=!0,q())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var X=m;m=Y;try{return H()}finally{m=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return Y()}finally{m=X}},n.unstable_scheduleCallback=function(H,Y,X){var ne=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,H={id:d++,callback:Y,priorityLevel:H,startTime:X,expirationTime:K,sortIndex:-1},X>ne?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(A?(x(R),R=-1):A=!0,Z(M,X-ne))):(H.sortIndex=K,e(l,H),b||v||(b=!0,q())),H},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(H){var Y=m;return function(){var X=m;m=Y;try{return H.apply(this,arguments)}finally{m=X}}}}(j2)),j2}var GG;function UMe(){return GG||(GG=1,V2.exports=LMe()),V2.exports}var VG=UMe();const kMe=n=>typeof n=="object"&&typeof n.then=="function",Pm=[];function Oq(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Pq(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Pm)if(Oq(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Pm.indexOf(r);s!==-1&&Pm.splice(s,1)},promise:(kMe(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Pm.push(r),!t)throw r.promise}const FMe=(n,e,t)=>Pq(n,e,!1,t),HMe=(n,e,t)=>void Pq(n,e,!0,t),zMe=n=>{if(n===void 0||n.length===0)Pm.splice(0,Pm.length);else{const e=Pm.find(t=>Oq(n,t.keys,t.equal));e&&e.remove()}};function J3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=J3(i,e,t);if(r)return r;i=e?null:i.sibling}}function Nq(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Q3=Nq(G.createContext(null));let Bq=class extends G.Component{render(){return G.createElement(Q3.Provider,{value:this._reactInternals},this.props.children)}};function Lq(){const n=G.useContext(Q3);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=J3(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const GMe=Symbol.for("react.context"),VMe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===GMe;function jMe(){const n=Lq(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;VMe(i)&&i!==Q3&&!e.has(i)&&e.set(i,G.use(Nq(i))),t=t.return}return e}function WMe(){const n=jMe();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,{...i,value:n.get(t)})),e=>G.createElement(Bq,{...e})),[n])}function Uq(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const kq=n=>n&&n.isOrthographicCamera,YMe=n=>n&&n.hasOwnProperty("current"),XMe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),vA=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?G.useLayoutEffect:G.useEffect;function Fq(n){const e=G.useRef(n);return vA(()=>void(e.current=n),[n]),e}function qMe(){const n=Lq(),e=WMe();return G.useMemo(()=>({children:t})=>{const r=!!J3(n,!0,s=>s.type===G.StrictMode)?G.StrictMode:G.Fragment;return W.jsx(r,{children:W.jsx(e,{children:t})})},[n,e])}function $Me({set:n}){return vA(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const KMe=(n=>(n=class extends G.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Hq(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Zy(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const er={obj:n=>n===Object(n)&&!er.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(er.str(n)||er.num(n)||er.boo(n))return n===e;const s=er.obj(n);if(s&&i==="reference")return n===e;const a=er.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!er.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(er.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function JMe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function QMe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const zq=["children","key","ref"];function ZMe(n){const e={};for(const t in n)zq.includes(t)||(e[t]=n[t]);return e}function PM(n,e,t,i){const r=n;let s=r==null?void 0:r.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:ZMe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function ES(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const jG=/-\d+$/;function NM(n,e){if(er.str(e.props.attach)){if(jG.test(e.props.attach)){const r=e.props.attach.replace(jG,""),{root:s,key:a}=ES(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=ES(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else er.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function BM(n,e){if(er.str(e.props.attach)){const{root:t,key:i}=ES(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const mN=[...zq,"args","dispose","attach","object","onUpdate","dispose"],WG=new Map;function ewe(n){let e=WG.get(n.constructor);try{e||(e=new n.constructor,WG.set(n.constructor,e))}catch{}return e}function twe(n,e){const t={};for(const i in e)if(!mN.includes(i)&&!er.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(mN.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=ES(n.object,i);if(r.constructor&&r.constructor.length===0){const a=ewe(r);er.und(a)||(t[s]=a[s])}else t[s]=0}return t}const nwe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],iwe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function yh(n,e){var t;const i=n.__r3f,r=i&&Uq(i).getState(),s=i==null?void 0:i.eventCount;for(const o in e){let l=e[o];if(mN.includes(o))continue;if(i&&iwe.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:c,key:d,target:h}=ES(n,o);if(h instanceof c0&&l instanceof c0)h.mask=l.mask;else if(h instanceof Rt&&XMe(l))h.set(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&l!=null&&l.constructor&&h.constructor===l.constructor)h.copy(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(l))typeof h.fromArray=="function"?h.fromArray(l):h.set(...l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof l=="number")typeof h.setScalar=="function"?h.setScalar(l):h.set(l);else{var a;c[d]=l,r&&!r.linear&&nwe.includes(d)&&(a=c[d])!=null&&a.isTexture&&c[d].format===ca&&c[d].type===Ol&&(c[d].colorSpace=sa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&J0(i),n}function J0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function rwe(n,e){n.manual||(kq(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ia=n=>n==null?void 0:n.isObject3D;function p1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Gq(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function swe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{Gq(t.capturedMap,e,i,r)})}function awe(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),h=new Set,m=[],v=c?c(d.internal.interaction):d.internal.interaction;for(let x=0;x<v.length;x++){const T=Zy(v[x]);T&&(T.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function b(x){const T=Zy(x);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var C;T.events.compute==null||T.events.compute(l,T,(C=T.previousRoot)==null?void 0:C.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(x,!0):[]}let A=v.flatMap(b).sort((x,T)=>{const C=Zy(x.object),M=Zy(T.object);return!C||!M?x.distance-T.distance:M.events.priority-C.events.priority||x.distance-T.distance}).filter(x=>{const T=p1(x);return h.has(T)?!1:(h.add(T),!0)});d.events.filter&&(A=d.events.filter(A,d));for(const x of A){let T=x.object;for(;T;){var _;(_=T.__r3f)!=null&&_.eventCount&&m.push({...x,eventObject:T}),T=T.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let x of d.internal.capturedMap.get(l.pointerId).values())h.has(p1(x.intersection))||m.push(x.intersection);return m}function r(l,c,d,h){if(l.length){const m={stopped:!1};for(const v of l){let b=Zy(v.object);if(b||v.object.traverseAncestors(A=>{const _=Zy(A);if(_)return b=_,!1}),b){const{raycaster:A,pointer:_,camera:x,internal:T}=b,C=new le(_.x,_.y,0).unproject(x),M=P=>{var I,F;return(I=(F=T.capturedMap.get(P))==null?void 0:F.has(v.eventObject))!=null?I:!1},O=P=>{const I={intersection:v,target:c.target};T.capturedMap.has(P)?T.capturedMap.get(P).set(v.eventObject,I):T.capturedMap.set(P,new Map([[v.eventObject,I]])),c.target.setPointerCapture(P)},R=P=>{const I=T.capturedMap.get(P);I&&Gq(T.capturedMap,v.eventObject,I,P)};let B={};for(let P in c){let I=c[P];typeof I!="function"&&(B[P]=I)}let N={...v,...B,pointer:_,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:C,ray:A.ray,camera:x,stopPropagation(){const P="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!P||P.has(v.eventObject))&&(N.stopped=m.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(I=>I.eventObject===v.eventObject))){const I=l.slice(0,l.indexOf(v));s([...I,v])}},target:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:R},nativeEvent:c};if(h(N),m.stopped===!0)break}}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const m=d.eventObject.__r3f;if(c.hovered.delete(p1(d)),m!=null&&m.eventCount){const v=m.handlers,b={...d,intersections:l};v.onPointerOut==null||v.onPointerOut(b),v.onPointerLeave==null||v.onPointerLeave(b)}}}function a(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:m}=n.getState();m.lastEvent.current=d;const v=l==="onPointerMove",b=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(d,v?t:void 0),x=b?e(d):0;l==="onPointerDown"&&(m.initialClick=[d.offsetX,d.offsetY],m.initialHits=_.map(C=>C.eventObject)),b&&!_.length&&x<=2&&(a(d,m.interaction),h&&h(d)),v&&s(_);function T(C){const M=C.eventObject,O=M.__r3f;if(!(O!=null&&O.eventCount))return;const R=O.handlers;if(v){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const B=p1(C),N=m.hovered.get(B);N?N.stopped&&C.stopPropagation():(m.hovered.set(B,C),R.onPointerOver==null||R.onPointerOver(C),R.onPointerEnter==null||R.onPointerEnter(C))}R.onPointerMove==null||R.onPointerMove(C)}else{const B=R[l];B?(!b||m.initialHits.includes(M))&&(a(d,m.interaction.filter(N=>!m.initialHits.includes(N))),B(C)):b&&m.initialHits.includes(M)&&a(d,m.interaction.filter(N=>!m.initialHits.includes(N)))}}r(_,d,x,T)}}return{handlePointer:o}}const YG=n=>!!(n!=null&&n.render),Vq=G.createContext(null),owe=(n,e)=>{const t=RMe((o,l)=>{const c=new le,d=new le,h=new le;function m(x=l().camera,T=d,C=l().size){const{width:M,height:O,top:R,left:B}=C,N=M/O;T.isVector3?h.copy(T):h.set(...T);const P=x.getWorldPosition(c).distanceTo(h);if(kq(x))return{width:M/x.zoom,height:O/x.zoom,top:R,left:B,factor:1,distance:P,aspect:N};{const I=x.fov*Math.PI/180,F=2*Math.tan(I/2)*P,U=F*(M/O);return{width:U,height:F,top:R,left:B,factor:M/U,distance:P,aspect:N}}}let v;const b=x=>o(T=>({performance:{...T.performance,current:x}})),A=new rt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,T)=>e(x,T,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new W3,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();v&&clearTimeout(v),x.performance.current!==x.performance.min&&b(x.performance.min),v=setTimeout(()=>b(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>o(T=>({...T,events:{...T.events,...x}})),setSize:(x,T,C=0,M=0)=>{const O=l().camera,R={width:x,height:T,top:C,left:M};o(B=>({size:R,viewport:{...B.viewport,...m(O,d,R)}}))},setDpr:x=>o(T=>{const C=Hq(x);return{viewport:{...T.viewport,dpr:C,initialDpr:T.viewport.initialDpr||C}}}),setFrameloop:(x="always")=>{const T=l().clock;T.stop(),T.elapsedTime=0,x!=="never"&&(T.start(),T.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:G.createRef(),active:!1,frames:0,priority:0,subscribe:(x,T,C)=>{const M=l().internal;return M.priority=M.priority+(T>0?1:0),M.subscribers.push({ref:x,priority:T,store:C}),M.subscribers=M.subscribers.sort((O,R)=>O.priority-R.priority),()=>{const O=l().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(T>0?1:0),O.subscribers=O.subscribers.filter(R=>R.ref!==x))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){r=l,s=c.dpr,rwe(o,l),c.dpr>0&&d.setPixelRatio(c.dpr);const m=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}o!==a&&(a=o,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function jq(){const n=G.useContext(Vq);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function oh(n=t=>t,e){return jq()(n,e)}function Wq(n,e=0){const t=jq(),i=t.getState().internal.subscribe,r=Fq(n);return vA(()=>i(r,e,t),[e,i,t]),null}const XG=new WeakMap,lwe=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function Yq(n,e){return function(t,...i){let r;return lwe(t)?(r=XG.get(t),r||(r=new t,XG.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((a,o)=>r.load(s,l=>{Ia(l==null?void 0:l.scene)&&Object.assign(l,JMe(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function bA(n,e,t,i){const r=Array.isArray(e)?e:[e],s=FMe(Yq(t,i),[n,...r],{equal:er.equ});return Array.isArray(e)?s:s[0]}bA.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return HMe(Yq(t),[n,...i])};bA.clear=function(n,e){const t=Array.isArray(e)?e:[e];return zMe([n,...t])};function cwe(n){const e=BMe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version}),e}const Xq=0,h0={},uwe=/^three(?=[A-Z])/,LR=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let dwe=0;const fwe=n=>typeof n=="function";function hwe(n){if(fwe(n)){const e=`${dwe++}`;return h0[e]=n,e}else Object.assign(h0,n)}function qq(n,e){const t=LR(n),i=h0[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function pwe(n,e,t){var i;return n=LR(n)in h0?n:n.replace(uwe,""),qq(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,PM(e.object,t,n,e)}function mwe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?BM(n.parent,n):Ia(n.object)&&(n.object.visible=!1),n.isHidden=!0,J0(n)}}function $q(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?NM(n.parent,n):Ia(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,J0(n)}}function Z3(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=h0[LR(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(yh(e.object,e.props),e.props.attach)NM(n,e);else if(Ia(e.object)&&Ia(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)Z3(e,a);J0(e)}}function W2(n,e){e&&(e.parent=n,n.children.push(e),Z3(n,e))}function qG(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),Z3(n,e,t)}function Kq(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():VG.unstable_scheduleCallback(VG.unstable_IdlePriority,e)}}function gN(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?BM(n,e):Ia(e.object)&&Ia(n.object)&&(n.object.remove(e.object),swe(Uq(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];gN(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Kq(e.object),t===void 0&&J0(e)}function gwe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const rT=[];function ywe(){for(const[t]of rT){const i=t.parent;if(i){t.props.attach?BM(i,t):Ia(t.object)&&Ia(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?BM(t,r):Ia(r.object)&&Ia(t.object)&&t.object.remove(r.object)}t.isHidden&&$q(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Kq(t.object)}for(const[t,i,r]of rT){t.props=i;const s=t.parent;if(s){var n,e;const a=h0[LR(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,gwe(r,t.object),yh(t.object,t.props),t.props.attach?NM(s,t):Ia(t.object)&&Ia(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?NM(t,o):Ia(o.object)&&Ia(t.object)&&t.object.add(o.object);J0(t)}}rT.length=0}const Y2=()=>{},$G={};let m1=Xq;const vwe=0,bwe=4,yN=cwe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:pwe,removeChild:gN,appendChild:W2,appendInitialChild:W2,insertBefore:qG,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||W2(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||gN(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||qG(i,e,t)},getRootHostContext:()=>$G,getChildHostContext:()=>$G,commitUpdate(n,e,t,i,r){var s,a,o;qq(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((d,h)=>{var m;return d!==((m=t.args)==null?void 0:m[h])}))&&(l=!0),l)rT.push([n,{...i},r]);else{const d=twe(n,i);Object.keys(d).length&&(Object.assign(n.props,d),yh(n.object,d))}(r.sibling===null||(r.flags&bwe)===vwe)&&ywe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>PM(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:mwe,unhideInstance:$q,createTextInstance:Y2,hideTextInstance:Y2,unhideTextInstance:Y2,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:G.createContext(null),setCurrentUpdatePriority(n){m1=n},getCurrentUpdatePriority(){return m1},resolveUpdatePriority(){var n;if(m1!==Xq)return m1;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iT.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return iT.ContinuousEventPriority;default:return iT.DefaultEventPriority}},resetFormInstance(){}}),lg=new Map,ev={objects:"shallow",strict:!1};function _we(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function xwe(n){const e=lg.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||owe(_N,JG),a=t||yN.createContainer(s,iT.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||lg.set(n,{fiber:a,store:s});let o,l,c=!1,d=null;return{async configure(h={}){let m;d=new Promise(ae=>m=ae);let{gl:v,size:b,scene:A,events:_,onCreated:x,shadows:T=!1,linear:C=!1,flat:M=!1,legacy:O=!1,orthographic:R=!1,frameloop:B="always",dpr:N=[1,2],performance:P,raycaster:I,camera:F,onPointerMissed:U}=h,j=s.getState(),q=j.gl;if(!j.gl){const ae={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ye=typeof v=="function"?await v(ae):v;YG(ye)?q=ye:q=new Dq({...ae,...v}),j.set({gl:q})}let Z=j.raycaster;Z||j.set({raycaster:Z=new Sq});const{params:H,...Y}=I||{};if(er.equ(Y,Z,ev)||yh(Z,{...Y}),er.equ(H,Z.params,ev)||yh(Z,{params:{...Z.params,...H}}),!j.camera||j.camera===l&&!er.equ(l,F,ev)){l=F;const ae=F==null?void 0:F.isCamera,ye=ae?F:R?new Dd(0,0,0,0,.1,1e3):new Er(75,0,.1,1e3);ae||(ye.position.z=5,F&&(yh(ye,F),ye.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(ye.manual=!0,ye.updateProjectionMatrix())),!j.camera&&!(F!=null&&F.rotation)&&ye.lookAt(0,0,0)),j.set({camera:ye}),Z.camera=ye}if(!j.scene){let ae;A!=null&&A.isScene?(ae=A,PM(ae,s,"",{})):(ae=new S3,PM(ae,s,"",{}),A&&yh(ae,A)),j.set({scene:ae})}_&&!j.events.handlers&&j.set({events:_(s)});const X=_we(n,b);if(er.equ(X,j.size,ev)||j.setSize(X.width,X.height,X.top,X.left),N&&j.viewport.dpr!==Hq(N)&&j.setDpr(N),j.frameloop!==B&&j.setFrameloop(B),j.onPointerMissed||j.set({onPointerMissed:U}),P&&!er.equ(P,j.performance,ev)&&j.set(ae=>({performance:{...ae.performance,...P}})),!j.xr){var ne;const ae=(de,xe)=>{const pe=s.getState();pe.frameloop!=="never"&&JG(de,!0,pe,xe)},ye=()=>{const de=s.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?ae:null),de.gl.xr.isPresenting||_N(de)},Se={connect(){const de=s.getState().gl;de.xr.addEventListener("sessionstart",ye),de.xr.addEventListener("sessionend",ye)},disconnect(){const de=s.getState().gl;de.xr.removeEventListener("sessionstart",ye),de.xr.removeEventListener("sessionend",ye)}};typeof((ne=q.xr)==null?void 0:ne.addEventListener)=="function"&&Se.connect(),j.set({xr:Se})}if(q.shadowMap){const ae=q.shadowMap.enabled,ye=q.shadowMap.type;if(q.shadowMap.enabled=!!T,er.boo(T))q.shadowMap.type=Cx;else if(er.str(T)){var K;const Se={basic:LY,percentage:tR,soft:Cx,variance:pc};q.shadowMap.type=(K=Se[T])!=null?K:Cx}else er.obj(T)&&Object.assign(q.shadowMap,T);(ae!==q.shadowMap.enabled||ye!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}return Xn.enabled=!O,c||(q.outputColorSpace=C?zh:sa,q.toneMapping=M?Mu:l3),j.legacy!==O&&j.set(()=>({legacy:O})),j.linear!==C&&j.set(()=>({linear:C})),j.flat!==M&&j.set(()=>({flat:M})),v&&!er.fun(v)&&!YG(v)&&!er.equ(v,q,ev)&&yh(q,v),o=x,c=!0,m(),this},render(h){return!c&&!d&&this.configure(),d.then(()=>{yN.updateContainer(W.jsx(Swe,{store:s,children:h,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){Jq(n)}}}function Swe({store:n,children:e,onCreated:t,rootElement:i}){return vA(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),W.jsx(Vq.Provider,{value:n,children:e})}function Jq(n,e){const t=lg.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),yN.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),QMe(r.scene),lg.delete(n)}catch{}},500)})}}const Awe=new Set,Ewe=new Set,Cwe=new Set;function X2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Nx(n,e){switch(n){case"before":return X2(Awe,e);case"after":return X2(Ewe,e);case"tail":return X2(Cwe,e)}}let q2,$2;function vN(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),q2=e.internal.subscribers;for(let r=0;r<q2.length;r++)$2=q2[r],$2.ref.current($2.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let LM=!1,bN=!1,K2,KG,tv;function Qq(n){KG=requestAnimationFrame(Qq),LM=!0,K2=0,Nx("before",n),bN=!0;for(const t of lg.values()){var e;tv=t.store.getState(),tv.internal.active&&(tv.frameloop==="always"||tv.internal.frames>0)&&!((e=tv.gl.xr)!=null&&e.isPresenting)&&(K2+=vN(n,tv))}if(bN=!1,Nx("after",n),K2===0)return Nx("tail",n),LM=!1,cancelAnimationFrame(KG)}function _N(n,e=1){var t;if(!n)return lg.forEach(i=>_N(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):bN?n.internal.frames=2:n.internal.frames=1,LM||(LM=!0,requestAnimationFrame(Qq)))}function JG(n,e=!0,t,i){if(e&&Nx("before",n),t)vN(n,t,i);else for(const r of lg.values())vN(n,r.store.getState());e&&Nx("after",n)}const J2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Twe(n){const{handlePointer:e}=awe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(J2).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=J2[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=J2[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function QG(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Mwe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=G.useRef(!1);G.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,v]=G.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:T,top:C,width:M,height:O,bottom:R,right:B,x:N,y:P}=o.current.element.getBoundingClientRect(),I={left:T,top:C,width:M,height:O,bottom:R,right:B,x:N,y:P};o.current.element instanceof HTMLElement&&i&&(I.height=o.current.element.offsetHeight,I.width=o.current.element.offsetWidth),Object.freeze(I),d.current&&!Iwe(o.current.lastBounds,I)&&a(o.current.lastBounds=I)};return[x,c?QG(x,c):x,l?QG(x,l):x]},[a,i,l,c]);function b(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function A(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const _=x=>{!x||x===o.current.element||(b(),o.current.element=x,o.current.scrollContainers=Zq(x),A())};return Rwe(v,!!e),wwe(m),G.useEffect(()=>{b(),A()},[e,v,m]),G.useEffect(()=>b,[]),[_,s,h]}function wwe(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Rwe(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Zq(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Zq(n.parentElement)]}const Dwe=["x","y","top","bottom","left","right","width","height"],Iwe=(n,e)=>Dwe.every(t=>n[t]===e[t]);function Owe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=Twe,eventSource:o,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:m,orthographic:v,frameloop:b,dpr:A,performance:_,raycaster:x,camera:T,scene:C,onPointerMissed:M,onCreated:O,...R}){G.useMemo(()=>hwe(yMe),[]);const B=qMe(),[N,P]=Mwe({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=G.useRef(null),F=G.useRef(null);G.useImperativeHandle(n,()=>I.current);const U=Fq(M),[j,q]=G.useState(!1),[Z,H]=G.useState(!1);if(j)throw j;if(Z)throw Z;const Y=G.useRef(null);vA(()=>{const ne=I.current;if(P.width>0&&P.height>0&&ne){Y.current||(Y.current=xwe(ne));async function K(){await Y.current.configure({gl:s,scene:C,events:a,shadows:c,linear:d,flat:h,legacy:m,orthographic:v,frameloop:b,dpr:A,performance:_,raycaster:x,camera:T,size:P,onPointerMissed:(...ae)=>U.current==null?void 0:U.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(o?YMe(o)?o.current:o:F.current),l&&ae.setEvents({compute:(ye,Se)=>{const de=ye[l+"X"],xe=ye[l+"Y"];Se.pointer.set(de/Se.size.width*2-1,-(xe/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),O==null||O(ae)}}),Y.current.render(W.jsx(B,{children:W.jsx(KMe,{set:H,children:W.jsx(G.Suspense,{fallback:W.jsx($Me,{set:q}),children:e??null})})}))}K()}}),G.useEffect(()=>{const ne=I.current;if(ne)return()=>Jq(ne)},[]);const X=o?"none":"auto";return W.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r},...R,children:W.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:I,style:{display:"block"},children:t})})})}function Pwe(n){return W.jsx(Bq,{children:W.jsx(Owe,{...n})})}const Nwe=parseInt(aA.replace(/\D+/g,""));function ZG(n,e){if(e===hX)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===wM||e===y3){let t=n.getIndex();if(t===null){const a=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===wM)for(let a=1;a<=i;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Bwe=Object.defineProperty,Lwe=(n,e,t)=>e in n?Bwe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Uwe=(n,e,t)=>(Lwe(n,e+"",t),t);class kwe{constructor(){Uwe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var Fwe=Object.defineProperty,Hwe=(n,e,t)=>e in n?Fwe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$t=(n,e,t)=>(Hwe(n,typeof e!="symbol"?e+"":e,t),t);const g1=new pg,eV=new gd,zwe=Math.cos(70*(Math.PI/180)),tV=(n,e)=>(n%e+e)%e;let Gwe=class extends kwe{constructor(e,t){super(),$t(this,"object"),$t(this,"domElement"),$t(this,"enabled",!0),$t(this,"target",new le),$t(this,"minDistance",0),$t(this,"maxDistance",1/0),$t(this,"minZoom",0),$t(this,"maxZoom",1/0),$t(this,"minPolarAngle",0),$t(this,"maxPolarAngle",Math.PI),$t(this,"minAzimuthAngle",-1/0),$t(this,"maxAzimuthAngle",1/0),$t(this,"enableDamping",!1),$t(this,"dampingFactor",.05),$t(this,"enableZoom",!0),$t(this,"zoomSpeed",1),$t(this,"enableRotate",!0),$t(this,"rotateSpeed",1),$t(this,"enablePan",!0),$t(this,"panSpeed",1),$t(this,"screenSpacePanning",!0),$t(this,"keyPanSpeed",7),$t(this,"zoomToCursor",!1),$t(this,"autoRotate",!1),$t(this,"autoRotateSpeed",2),$t(this,"reverseOrbit",!1),$t(this,"reverseHorizontalOrbit",!1),$t(this,"reverseVerticalOrbit",!1),$t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$t(this,"mouseButtons",{LEFT:mm.ROTATE,MIDDLE:mm.DOLLY,RIGHT:mm.PAN}),$t(this,"touches",{ONE:gm.ROTATE,TWO:gm.DOLLY_PAN}),$t(this,"target0"),$t(this,"position0"),$t(this,"zoom0"),$t(this,"_domElementKeyEvents",null),$t(this,"getPolarAngle"),$t(this,"getAzimuthalAngle"),$t(this,"setPolarAngle"),$t(this,"setAzimuthalAngle"),$t(this,"getDistance"),$t(this,"getZoomScale"),$t(this,"listenToKeyEvents"),$t(this,"stopListenToKeyEvents"),$t(this,"saveState"),$t(this,"reset"),$t(this,"update"),$t(this,"connect"),$t(this,"dispose"),$t(this,"dollyIn"),$t(this,"dollyOut"),$t(this,"getScale"),$t(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ge=>{let Xe=tV(ge,2*Math.PI),gt=d.phi;gt<0&&(gt+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let ce=Math.abs(Xe-gt);2*Math.PI-ce<ce&&(Xe<gt?Xe+=2*Math.PI:gt+=2*Math.PI),h.phi=Xe-gt,i.update()},this.setAzimuthalAngle=ge=>{let Xe=tV(ge,2*Math.PI),gt=d.theta;gt<0&&(gt+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let ce=Math.abs(Xe-gt);2*Math.PI-ce<ce&&(Xe<gt?Xe+=2*Math.PI:gt+=2*Math.PI),h.theta=Xe-gt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ge=>{ge.addEventListener("keydown",ct),this._domElementKeyEvents=ge},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ct),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const ge=new le,Xe=new le(0,1,0),gt=new Cs().setFromUnitVectors(e.up,Xe),ce=gt.clone().invert(),et=new le,Pe=new Cs,$e=2*Math.PI;return function(){const mt=i.object.position;gt.setFromUnitVectors(e.up,Xe),ce.copy(gt).invert(),ge.copy(mt).sub(i.target),ge.applyQuaternion(gt),d.setFromVector3(ge),i.autoRotate&&l===o.NONE&&q(U()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let Ut=i.minAzimuthAngle,tn=i.maxAzimuthAngle;isFinite(Ut)&&isFinite(tn)&&(Ut<-Math.PI?Ut+=$e:Ut>Math.PI&&(Ut-=$e),tn<-Math.PI?tn+=$e:tn>Math.PI&&(tn-=$e),Ut<=tn?d.theta=Math.max(Ut,Math.min(tn,d.theta)):d.theta=d.theta>(Ut+tn)/2?Math.max(Ut,d.theta):Math.min(tn,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(v,i.dampingFactor):i.target.add(v),i.zoomToCursor&&P||i.object.isOrthographicCamera?d.radius=Se(d.radius):d.radius=Se(d.radius*m),ge.setFromSpherical(d),ge.applyQuaternion(ce),mt.copy(i.target).add(ge),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,v.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),v.set(0,0,0));let Hn=!1;if(i.zoomToCursor&&P){let Qt=null;if(i.object instanceof Er&&i.object.isPerspectiveCamera){const Bi=ge.length();Qt=Se(Bi*m);const pi=Bi-Qt;i.object.position.addScaledVector(B,pi),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Bi=new le(N.x,N.y,0);Bi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/m)),i.object.updateProjectionMatrix(),Hn=!0;const pi=new le(N.x,N.y,0);pi.unproject(i.object),i.object.position.sub(pi).add(Bi),i.object.updateMatrixWorld(),Qt=ge.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Qt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Qt).add(i.object.position):(g1.origin.copy(i.object.position),g1.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(g1.direction))<zwe?e.lookAt(i.target):(eV.setFromNormalAndCoplanarPoint(i.object.up,i.target),g1.intersectPlane(eV,i.target))))}else i.object instanceof Dd&&i.object.isOrthographicCamera&&(Hn=m!==1,Hn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/m)),i.object.updateProjectionMatrix()));return m=1,P=!1,Hn||et.distanceToSquared(i.object.position)>c||8*(1-Pe.dot(i.object.quaternion))>c?(i.dispatchEvent(r),et.copy(i.object.position),Pe.copy(i.object.quaternion),Hn=!1,!0):!1}})(),this.connect=ge=>{i.domElement=ge,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",je),i.domElement.addEventListener("pointerdown",$),i.domElement.addEventListener("pointercancel",Le),i.domElement.addEventListener("wheel",ft)},this.dispose=()=>{var ge,Xe,gt,ce,et,Pe;i.domElement&&(i.domElement.style.touchAction="auto"),(ge=i.domElement)==null||ge.removeEventListener("contextmenu",je),(Xe=i.domElement)==null||Xe.removeEventListener("pointerdown",$),(gt=i.domElement)==null||gt.removeEventListener("pointercancel",Le),(ce=i.domElement)==null||ce.removeEventListener("wheel",ft),(et=i.domElement)==null||et.ownerDocument.removeEventListener("pointermove",Ae),(Pe=i.domElement)==null||Pe.ownerDocument.removeEventListener("pointerup",Le),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ct)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,d=new dN,h=new dN;let m=1;const v=new le,b=new rt,A=new rt,_=new rt,x=new rt,T=new rt,C=new rt,M=new rt,O=new rt,R=new rt,B=new le,N=new rt;let P=!1;const I=[],F={};function U(){return 2*Math.PI/60/60*i.autoRotateSpeed}function j(){return Math.pow(.95,i.zoomSpeed)}function q(ge){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=ge:h.theta-=ge}function Z(ge){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=ge:h.phi-=ge}const H=(()=>{const ge=new le;return function(gt,ce){ge.setFromMatrixColumn(ce,0),ge.multiplyScalar(-gt),v.add(ge)}})(),Y=(()=>{const ge=new le;return function(gt,ce){i.screenSpacePanning===!0?ge.setFromMatrixColumn(ce,1):(ge.setFromMatrixColumn(ce,0),ge.crossVectors(i.object.up,ge)),ge.multiplyScalar(gt),v.add(ge)}})(),X=(()=>{const ge=new le;return function(gt,ce){const et=i.domElement;if(et&&i.object instanceof Er&&i.object.isPerspectiveCamera){const Pe=i.object.position;ge.copy(Pe).sub(i.target);let $e=ge.length();$e*=Math.tan(i.object.fov/2*Math.PI/180),H(2*gt*$e/et.clientHeight,i.object.matrix),Y(2*ce*$e/et.clientHeight,i.object.matrix)}else et&&i.object instanceof Dd&&i.object.isOrthographicCamera?(H(gt*(i.object.right-i.object.left)/i.object.zoom/et.clientWidth,i.object.matrix),Y(ce*(i.object.top-i.object.bottom)/i.object.zoom/et.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ne(ge){i.object instanceof Er&&i.object.isPerspectiveCamera||i.object instanceof Dd&&i.object.isOrthographicCamera?m=ge:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function K(ge){ne(m/ge)}function ae(ge){ne(m*ge)}function ye(ge){if(!i.zoomToCursor||!i.domElement)return;P=!0;const Xe=i.domElement.getBoundingClientRect(),gt=ge.clientX-Xe.left,ce=ge.clientY-Xe.top,et=Xe.width,Pe=Xe.height;N.x=gt/et*2-1,N.y=-(ce/Pe)*2+1,B.set(N.x,N.y,1).unproject(i.object).sub(i.object.position).normalize()}function Se(ge){return Math.max(i.minDistance,Math.min(i.maxDistance,ge))}function de(ge){b.set(ge.clientX,ge.clientY)}function xe(ge){ye(ge),M.set(ge.clientX,ge.clientY)}function pe(ge){x.set(ge.clientX,ge.clientY)}function He(ge){A.set(ge.clientX,ge.clientY),_.subVectors(A,b).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;Xe&&(q(2*Math.PI*_.x/Xe.clientHeight),Z(2*Math.PI*_.y/Xe.clientHeight)),b.copy(A),i.update()}function ve(ge){O.set(ge.clientX,ge.clientY),R.subVectors(O,M),R.y>0?K(j()):R.y<0&&ae(j()),M.copy(O),i.update()}function V(ge){T.set(ge.clientX,ge.clientY),C.subVectors(T,x).multiplyScalar(i.panSpeed),X(C.x,C.y),x.copy(T),i.update()}function ee(ge){ye(ge),ge.deltaY<0?ae(j()):ge.deltaY>0&&K(j()),i.update()}function oe(ge){let Xe=!1;switch(ge.code){case i.keys.UP:X(0,i.keyPanSpeed),Xe=!0;break;case i.keys.BOTTOM:X(0,-i.keyPanSpeed),Xe=!0;break;case i.keys.LEFT:X(i.keyPanSpeed,0),Xe=!0;break;case i.keys.RIGHT:X(-i.keyPanSpeed,0),Xe=!0;break}Xe&&(ge.preventDefault(),i.update())}function ue(){if(I.length==1)b.set(I[0].pageX,I[0].pageY);else{const ge=.5*(I[0].pageX+I[1].pageX),Xe=.5*(I[0].pageY+I[1].pageY);b.set(ge,Xe)}}function _e(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const ge=.5*(I[0].pageX+I[1].pageX),Xe=.5*(I[0].pageY+I[1].pageY);x.set(ge,Xe)}}function Q(){const ge=I[0].pageX-I[1].pageX,Xe=I[0].pageY-I[1].pageY,gt=Math.sqrt(ge*ge+Xe*Xe);M.set(0,gt)}function Oe(){i.enableZoom&&Q(),i.enablePan&&_e()}function we(){i.enableZoom&&Q(),i.enableRotate&&ue()}function ke(ge){if(I.length==1)A.set(ge.pageX,ge.pageY);else{const gt=yt(ge),ce=.5*(ge.pageX+gt.x),et=.5*(ge.pageY+gt.y);A.set(ce,et)}_.subVectors(A,b).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;Xe&&(q(2*Math.PI*_.x/Xe.clientHeight),Z(2*Math.PI*_.y/Xe.clientHeight)),b.copy(A)}function Ce(ge){if(I.length==1)T.set(ge.pageX,ge.pageY);else{const Xe=yt(ge),gt=.5*(ge.pageX+Xe.x),ce=.5*(ge.pageY+Xe.y);T.set(gt,ce)}C.subVectors(T,x).multiplyScalar(i.panSpeed),X(C.x,C.y),x.copy(T)}function ut(ge){const Xe=yt(ge),gt=ge.pageX-Xe.x,ce=ge.pageY-Xe.y,et=Math.sqrt(gt*gt+ce*ce);O.set(0,et),R.set(0,Math.pow(O.y/M.y,i.zoomSpeed)),K(R.y),M.copy(O)}function De(ge){i.enableZoom&&ut(ge),i.enablePan&&Ce(ge)}function ie(ge){i.enableZoom&&ut(ge),i.enableRotate&&ke(ge)}function $(ge){var Xe,gt;i.enabled!==!1&&(I.length===0&&((Xe=i.domElement)==null||Xe.ownerDocument.addEventListener("pointermove",Ae),(gt=i.domElement)==null||gt.ownerDocument.addEventListener("pointerup",Le)),ht(ge),ge.pointerType==="touch"?Et(ge):Qe(ge))}function Ae(ge){i.enabled!==!1&&(ge.pointerType==="touch"?Ct(ge):ze(ge))}function Le(ge){var Xe,gt,ce;Dt(ge),I.length===0&&((Xe=i.domElement)==null||Xe.releasePointerCapture(ge.pointerId),(gt=i.domElement)==null||gt.ownerDocument.removeEventListener("pointermove",Ae),(ce=i.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",Le)),i.dispatchEvent(a),l=o.NONE}function Qe(ge){let Xe;switch(ge.button){case 0:Xe=i.mouseButtons.LEFT;break;case 1:Xe=i.mouseButtons.MIDDLE;break;case 2:Xe=i.mouseButtons.RIGHT;break;default:Xe=-1}switch(Xe){case mm.DOLLY:if(i.enableZoom===!1)return;xe(ge),l=o.DOLLY;break;case mm.ROTATE:if(ge.ctrlKey||ge.metaKey||ge.shiftKey){if(i.enablePan===!1)return;pe(ge),l=o.PAN}else{if(i.enableRotate===!1)return;de(ge),l=o.ROTATE}break;case mm.PAN:if(ge.ctrlKey||ge.metaKey||ge.shiftKey){if(i.enableRotate===!1)return;de(ge),l=o.ROTATE}else{if(i.enablePan===!1)return;pe(ge),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function ze(ge){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;He(ge);break;case o.DOLLY:if(i.enableZoom===!1)return;ve(ge);break;case o.PAN:if(i.enablePan===!1)return;V(ge);break}}function ft(ge){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ge.preventDefault(),i.dispatchEvent(s),ee(ge),i.dispatchEvent(a))}function ct(ge){i.enabled===!1||i.enablePan===!1||oe(ge)}function Et(ge){switch(wt(ge),I.length){case 1:switch(i.touches.ONE){case gm.ROTATE:if(i.enableRotate===!1)return;ue(),l=o.TOUCH_ROTATE;break;case gm.PAN:if(i.enablePan===!1)return;_e(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case gm.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Oe(),l=o.TOUCH_DOLLY_PAN;break;case gm.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;we(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Ct(ge){switch(wt(ge),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;ke(ge),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;Ce(ge),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;De(ge),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ie(ge),i.update();break;default:l=o.NONE}}function je(ge){i.enabled!==!1&&ge.preventDefault()}function ht(ge){I.push(ge)}function Dt(ge){delete F[ge.pointerId];for(let Xe=0;Xe<I.length;Xe++)if(I[Xe].pointerId==ge.pointerId){I.splice(Xe,1);return}}function wt(ge){let Xe=F[ge.pointerId];Xe===void 0&&(Xe=new rt,F[ge.pointerId]=Xe),Xe.set(ge.pageX,ge.pageY)}function yt(ge){const Xe=ge.pointerId===I[0].pointerId?I[1]:I[0];return F[Xe.pointerId]}this.dollyIn=(ge=j())=>{ae(ge),i.update()},this.dollyOut=(ge=j())=>{K(ge),i.update()},this.getScale=()=>m,this.setScale=ge=>{ne(ge),i.update()},this.getZoomScale=()=>j(),t!==void 0&&this.connect(t),this.update()}};function UM(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Nm="srgb",Id="srgb-linear",nV=3001,Vwe=3e3;class eU extends fa{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new qwe(t)}),this.register(function(t){return new $we(t)}),this.register(function(t){return new rRe(t)}),this.register(function(t){return new sRe(t)}),this.register(function(t){return new aRe(t)}),this.register(function(t){return new Jwe(t)}),this.register(function(t){return new Qwe(t)}),this.register(function(t){return new Zwe(t)}),this.register(function(t){return new eRe(t)}),this.register(function(t){return new Xwe(t)}),this.register(function(t){return new tRe(t)}),this.register(function(t){return new Kwe(t)}),this.register(function(t){return new iRe(t)}),this.register(function(t){return new nRe(t)}),this.register(function(t){return new Wwe(t)}),this.register(function(t){return new oRe(t)}),this.register(function(t){return new lRe(t)})}load(e,t,i,r){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=Rh.extractUrlBase(e);a=Rh.resolveURL(c,this.path)}else a=Rh.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new jo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(d){t(d),s.manager.itemEnd(e)},o)}catch(d){o(d)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const a={},o={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(UM(new Uint8Array(e.slice(0,4)))===e$){try{a[Fn.KHR_BINARY_GLTF]=new cRe(e)}catch(d){r&&r(d);return}s=JSON.parse(a[Fn.KHR_BINARY_GLTF].content)}else s=JSON.parse(UM(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new SRe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[d.name]=d,a[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(d){case Fn.KHR_MATERIALS_UNLIT:a[d]=new Ywe;break;case Fn.KHR_DRACO_MESH_COMPRESSION:a[d]=new uRe(s,this.dracoLoader);break;case Fn.KHR_TEXTURE_TRANSFORM:a[d]=new dRe;break;case Fn.KHR_MESH_QUANTIZATION:a[d]=new fRe;break;default:h.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function jwe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Wwe{constructor(e){this.parser=e,this.name=Fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Rt(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Id);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new V3(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new G3(d),c.distance=h;break;case"spot":c=new z3(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,md(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(t.cache,o,l)})}}class Ywe{constructor(){this.name=Fn.KHR_MATERIALS_UNLIT}getMaterialType(){return Uo}extendParams(e,t,i){const r=[];e.color=new Rt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Id),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Nm))}return Promise.all(r)}}class Xwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class qwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new rt(o,o)}return Promise.all(s)}}class $we{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Kwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class Jwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Rt(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Id)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Nm)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class Qwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class Zwe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=new Rt().setRGB(o[0],o[1],o[2],Id),Promise.all(s)}}class eRe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class tRe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=new Rt().setRGB(o[0],o[1],o[2],Id),a.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,Nm)),Promise.all(s)}}class nRe{constructor(e){this.parser=e,this.name=Fn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class iRe{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class rRe{constructor(e){this.parser=e,this.name=Fn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class sRe{constructor(e){this.parser=e,this.name=Fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class aRe{constructor(e){this.parser=e,this.name=Fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],o=r.images[a.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class oRe{constructor(e){this.name=Fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,h=r.byteStride,m=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(d,h,m,r.mode,r.filter).then(function(v){return v.buffer}):a.ready.then(function(){const v=new ArrayBuffer(d*h);return a.decodeGltfBuffer(new Uint8Array(v),d,h,m,r.mode,r.filter),v})})}else return null}}class lRe{constructor(e){this.name=Fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==_l.TRIANGLES&&c.mode!==_l.TRIANGLE_STRIP&&c.mode!==_l.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=i.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(d=>(l[c]=d,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const d=c.pop(),h=d.isGroup?d.children:[d],m=c[0].count,v=[];for(const b of h){const A=new Yt,_=new le,x=new Cs,T=new le(1,1,1),C=new C3(b.geometry,b.material,m);for(let M=0;M<m;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,M),l.SCALE&&T.fromBufferAttribute(l.SCALE,M),C.setMatrixAt(M,A.compose(_,x,T));for(const M in l)if(M==="_COLOR_0"){const O=l[M];C.instanceColor=new ig(O.array,O.itemSize,O.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&b.geometry.setAttribute(M,l[M]);qn.prototype.copy.call(C,b),this.parser.assignFinalMaterial(C),v.push(C)}return d.isGroup?(d.clear(),d.add(...v),d):v[0]}))}}const e$="glTF",G_=12,iV={JSON:1313821514,BIN:5130562};class cRe{constructor(e){this.name=Fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,G_);if(this.header={magic:UM(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==e$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-G_,r=new DataView(e,G_);let s=0;for(;s<i;){const a=r.getUint32(s,!0);s+=4;const o=r.getUint32(s,!0);if(s+=4,o===iV.JSON){const l=new Uint8Array(e,G_+s,a);this.content=UM(l)}else if(o===iV.BIN){const l=G_+s;this.body=e.slice(l,l+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class uRe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const d in a){const h=xN[d]||d.toLowerCase();o[h]=a[d]}for(const d in e.attributes){const h=xN[d]||d.toLowerCase();if(a[d]!==void 0){const m=i.accessors[e.attributes[d]],v=Pv[m.componentType];c[h]=v.name,l[h]=m.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h,m){r.decodeDracoFile(d,function(v){for(const b in v.attributes){const A=v.attributes[b],_=l[b];_!==void 0&&(A.normalized=_)}h(v)},o,c,Id,m)})})}}class dRe{constructor(){this.name=Fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class fRe{constructor(){this.name=Fn.KHR_MESH_QUANTIZATION}}class t$ extends $0{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=i[s+a];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,d=r-t,h=(i-t)/d,m=h*h,v=m*h,b=e*c,A=b-c,_=-2*v+3*m,x=v-m,T=1-_,C=x-m+h;for(let M=0;M!==o;M++){const O=a[A+M+o],R=a[A+M+l]*d,B=a[b+M+o],N=a[b+M]*d;s[M]=T*O+C*R+_*B+x*N}return s}}const hRe=new Cs;class pRe extends t${interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return hRe.fromArray(s).normalize().toArray(s),s}}const _l={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Pv={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},rV={9728:Es,9729:Br,9984:iR,9985:Iv,9986:Rm,9987:Al},sV={33071:Lo,33648:t0,10497:Hh},Q2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xN={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Nwe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},lh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},mRe={CUBICSPLINE:void 0,LINEAR:o0,STEP:a0},Z2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function gRe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new yA({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Pu})),n.DefaultMaterial}function cm(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function md(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function yRe(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const a=[],o=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const m=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;a.push(m)}if(r){const m=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;o.push(m)}if(s){const m=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(m)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],m=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=m),n.morphTargetsRelative=!0,n})}function vRe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bRe(n){let e;const t=n.extensions&&n.extensions[Fn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+eO(t.attributes):e=n.indices+":"+eO(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+eO(n.targets[i]);return e}function eO(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function SN(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function _Re(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const xRe=new Yt;class SRe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new jwe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new cq(this.options.manager):this.textureLoader=new yq(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new jo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return cm(s,o,r),md(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const a=t[r].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,d]of a.children.entries())s(d,o.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Fn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){i.load(Rh.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=Q2[r.type],o=Pv[r.componentType],l=r.normalized===!0,c=new o(r.count*a);return Promise.resolve(new ei(c,a,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=Q2[r.type],c=Pv[r.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,m=r.byteOffset||0,v=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,b=r.normalized===!0;let A,_;if(v&&v!==h){const x=Math.floor(m/v),T="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+x+":"+r.count;let C=t.cache.get(T);C||(A=new c(o,x*v,r.count*v/d),C=new dA(A,v/d),t.cache.add(T,C)),_=new Gh(C,l,m%v/d,b)}else o===null?A=new c(r.count*l):A=new c(o,m,r.count*l),_=new ei(A,l,b);if(r.sparse!==void 0){const x=Q2.SCALAR,T=Pv[r.sparse.indices.componentType],C=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,O=new T(a[1],C,r.sparse.count*x),R=new c(a[2],M,r.sparse.count*l);o!==null&&(_=new ei(_.array.slice(),_.itemSize,_.normalized));for(let B=0,N=O.length;B<N;B++){const P=O[B];if(_.setX(P,R[B*l]),l>=2&&_.setY(P,R[B*l+1]),l>=3&&_.setZ(P,R[B*l+2]),l>=4&&_.setW(P,R[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,a=t.images[s];let o=this.textureLoader;if(a.uri){const l=i.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,i){const r=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=a.name||o.name||"",d.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(d.name=o.uri);const m=(s.samplers||{})[a.sampler]||{};return d.magFilter=rV[m.magFilter]||Br,d.minFilter=rV[m.minFilter]||Al,d.wrapS=sV[m.wrapS]||Hh,d.wrapT=sV[m.wrapT]||Hh,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const a=r.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(h){c=!0;const m=new Blob([h],{type:a.mimeType});return l=o.createObjectURL(m),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(m,v){let b=m;t.isImageBitmapLoader===!0&&(b=function(A){const _=new ir(A);_.needsUpdate=!0,m(_)}),t.load(Rh.resolveURL(h,s.path),b,void 0,v)})}).then(function(h){return c===!0&&o.revokeObjectURL(l),md(h,a),h.userData.mimeType=a.mimeType||_Re(a.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),s.extensions[Fn.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[Fn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[Fn.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===nV?Nm:Id),"colorSpace"in a?a.colorSpace=r:a.encoding=r===Nm?nV:Vwe),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new vR,cs.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new da,cs.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||s||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return yA}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[Fn.KHR_MATERIALS_UNLIT]){const h=r[Fn.KHR_MATERIALS_UNLIT];a=h.getMaterialType(),c.push(h.extendParams(o,s,t))}else{const h=s.pbrMetallicRoughness||{};if(o.color=new Rt(1,1,1),o.opacity=1,Array.isArray(h.baseColorFactor)){const m=h.baseColorFactor;o.color.setRGB(m[0],m[1],m[2],Id),o.opacity=m[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",h.baseColorTexture,Nm)),o.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,o.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",h.metallicRoughnessTexture))),a=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=bc);const d=s.alphaMode||Z2.OPAQUE;if(d===Z2.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,d===Z2.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Uo&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new rt(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;o.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&a!==Uo&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Uo){const h=s.emissiveFactor;o.emissive=new Rt().setRGB(h[0],h[1],h[2],Id)}return s.emissiveTexture!==void 0&&a!==Uo&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,Nm)),Promise.all(c).then(function(){const h=new a(o);return s.name&&(h.name=s.name),md(h,s),t.associations.set(h,{materials:e}),s.extensions&&cm(r,h,s),h})}createUniqueName(e){const t=Jn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(o){return i[Fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return aV(l,o,t)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],d=bRe(c),h=r[d];if(h)a.push(h.promise);else{let m;c.extensions&&c.extensions[Fn.KHR_DRACO_MESH_COMPRESSION]?m=s(c):m=aV(new bn,c,t),r[d]={primitive:c,promise:m},a.push(m)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const d=a[l].material===void 0?gRe(this.cache):this.getDependency("material",a[l].material);o.push(d)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let v=0,b=d.length;v<b;v++){const A=d[v],_=a[v];let x;const T=c[v];if(_.mode===_l.TRIANGLES||_.mode===_l.TRIANGLE_STRIP||_.mode===_l.TRIANGLE_FAN||_.mode===void 0)x=s.isSkinnedMesh===!0?new E3(A,T):new Lr(A,T),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),_.mode===_l.TRIANGLE_STRIP?x.geometry=ZG(x.geometry,y3):_.mode===_l.TRIANGLE_FAN&&(x.geometry=ZG(x.geometry,wM));else if(_.mode===_l.LINES)x=new Dc(A,T);else if(_.mode===_l.LINE_STRIP)x=new Wd(A,T);else if(_.mode===_l.LINE_LOOP)x=new T3(A,T);else if(_.mode===_l.POINTS)x=new M3(A,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(x.geometry.morphAttributes).length>0&&vRe(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),md(x,s),_.extensions&&cm(r,x,_),t.assignFinalMaterial(x),h.push(x)}for(let v=0,b=h.length;v<b;v++)t.associations.set(h[v],{meshes:e,primitives:v});if(h.length===1)return s.extensions&&cm(r,h[0],s),h[0];const m=new Sd;s.extensions&&cm(r,m,s),t.associations.set(m,{meshes:e});for(let v=0,b=h.length;v<b;v++)m.add(h[v]);return m})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Er(EX.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Dd(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),md(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),a=r,o=[],l=[];for(let c=0,d=a.length;c<d;c++){const h=a[c];if(h){o.push(h);const m=new Yt;s!==null&&m.fromArray(s.array,c*16),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new fA(o,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],o=[],l=[],c=[],d=[];for(let h=0,m=r.channels.length;h<m;h++){const v=r.channels[h],b=r.samplers[v.sampler],A=v.target,_=A.node,x=r.parameters!==void 0?r.parameters[b.input]:b.input,T=r.parameters!==void 0?r.parameters[b.output]:b.output;A.node!==void 0&&(a.push(this.getDependency("node",_)),o.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",T)),c.push(b),d.push(A))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(h){const m=h[0],v=h[1],b=h[2],A=h[3],_=h[4],x=[];for(let T=0,C=m.length;T<C;T++){const M=m[T],O=v[T],R=b[T],B=A[T],N=_[T];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const P=i._createAnimationTracks(M,O,R,B,N);if(P)for(let I=0;I<P.length;I++)x.push(P[I])}return new f0(s,void 0,x)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),a=[],o=r.children||[];for(let c=0,d=o.length;c<d;c++)a.push(i.getDependency("node",o[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const d=c[0],h=c[1],m=c[2];m!==null&&d.traverse(function(v){v.isSkinnedMesh&&v.bind(m,xRe)});for(let v=0,b=h.length;v<b;v++)d.add(h[v]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let d;if(s.isBone===!0?d=new gR:c.length>1?d=new Sd:c.length===1?d=c[0]:d=new qn,d!==c[0])for(let h=0,m=c.length;h<m;h++)d.add(c[h]);if(s.name&&(d.userData.name=s.name,d.name=a),md(d,s),s.extensions&&cm(i,d,s),s.matrix!==void 0){const h=new Yt;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Sd;i.name&&(s.name=r.createUniqueName(i.name)),md(s,i),i.extensions&&cm(t,s,i);const a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(r.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const c=d=>{const h=new Map;for(const[m,v]of r.associations)(m instanceof cs||m instanceof ir)&&h.set(m,v);return d.traverse(m=>{const v=r.associations.get(m);v!=null&&h.set(m,v)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const a=[],o=e.name?e.name:e.uuid,l=[];lh[s.path]===lh.weights?e.traverse(function(m){m.morphTargetInfluences&&l.push(m.name?m.name:m.uuid)}):l.push(o);let c;switch(lh[s.path]){case lh.weights:c=sg;break;case lh.rotation:c=ag;break;case lh.position:case lh.scale:c=og;break;default:switch(i.itemSize){case 1:c=sg;break;case 2:case 3:default:c=og;break}break}const d=r.interpolation!==void 0?mRe[r.interpolation]:o0,h=this._getArrayFromAccessor(i);for(let m=0,v=l.length;m<v;m++){const b=new c(l[m]+"."+lh[s.path],t.array,h,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(b),a.push(b)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=SN(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof ag?pRe:t$;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ARe(n,e,t){const i=e.attributes,r=new Vs;if(i.POSITION!==void 0){const o=t.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new le(l[0],l[1],l[2]),new le(c[0],c[1],c[2])),o.normalized){const d=SN(Pv[o.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new le,l=new le;for(let c=0,d=s.length;c<d;c++){const h=s[c];if(h.POSITION!==void 0){const m=t.json.accessors[h.POSITION],v=m.min,b=m.max;if(v!==void 0&&b!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(b[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(b[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(b[2]))),m.normalized){const A=SN(Pv[m.componentType]);l.multiplyScalar(A)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}n.boundingBox=r;const a=new Ts;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=a}function aV(n,e,t){const i=e.attributes,r=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){n.setAttribute(o,l)})}for(const a in i){const o=xN[a]||a.toLowerCase();o in n.attributes||r.push(s(i[a],o))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});r.push(a)}return md(n,e),ARe(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?yRe(n,e.targets,t):n})}const tO=new WeakMap;class ERe extends fa{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new jo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,o).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(tO.has(e)){const l=tO.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(s,a).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),tO.set(e,{key:i,promise:o}),o}_createGeometry(e){const t=new bn;e.index&&t.setIndex(new ei(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,a=r.array,o=r.itemSize;t.setAttribute(s,new ei(a,o))}return t}_loadLibrary(e,t){const i=new jo(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=CRe.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function CRe(){let n,e;onmessage=function(a){const o=a.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(d=>{const h=d.draco,m=new h.Decoder,v=new h.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const b=t(h,m,v,c),A=b.attributes.map(_=>_.array.buffer);b.index&&A.push(b.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:b},A)}catch(b){console.error(b),self.postMessage({type:"error",id:o.id,error:b.message})}finally{h.destroy(v),h.destroy(m)}});break}};function t(a,o,l,c){const d=c.attributeIDs,h=c.attributeTypes;let m,v;const b=o.GetEncodedGeometryType(l);if(b===a.TRIANGULAR_MESH)m=new a.Mesh,v=o.DecodeBufferToMesh(l,m);else if(b===a.POINT_CLOUD)m=new a.PointCloud,v=o.DecodeBufferToPointCloud(l,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const A={index:null,attributes:[]};for(const _ in d){const x=self[h[_]];let T,C;if(c.useUniqueIDs)C=d[_],T=o.GetAttributeByUniqueId(m,C);else{if(C=o.GetAttributeId(m,a[d[_]]),C===-1)continue;T=o.GetAttribute(m,C)}A.attributes.push(r(a,o,m,_,x,T))}return b===a.TRIANGULAR_MESH&&(A.index=i(a,o,m)),a.destroy(m),A}function i(a,o,l){const d=l.num_faces()*3,h=d*4,m=a._malloc(h);o.GetTrianglesUInt32Array(l,h,m);const v=new Uint32Array(a.HEAPF32.buffer,m,d).slice();return a._free(m),{array:v,itemSize:1}}function r(a,o,l,c,d,h){const m=h.num_components(),b=l.num_points()*m,A=b*d.BYTES_PER_ELEMENT,_=s(a,d),x=a._malloc(A);o.GetAttributeDataArrayForAllPoints(l,h,_,A,x);const T=new d(a.HEAPF32.buffer,x,b).slice();return a._free(x),{name:c,array:T,itemSize:m}}function s(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let y1;const nO=()=>{if(y1)return y1;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const a=WebAssembly.instantiate(o(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function o(h){const m=new Uint8Array(h.length);for(let b=0;b<h.length;++b){const A=h.charCodeAt(b);m[b]=A>96?A-71:A>64?A-65:A>47?A+4:A>46?63:62}let v=0;for(let b=0;b<h.length;++b)m[v++]=m[b]<60?i[m[b]]:(m[b]-60)*64+m[++b];return m.buffer.slice(0,v)}function l(h,m,v,b,A,_){const x=s.exports.sbrk,T=v+3&-4,C=x(T*b),M=x(A.length),O=new Uint8Array(s.exports.memory.buffer);O.set(A,M);const R=h(C,v,b,M,A.length);if(R===0&&_&&_(C,T,b),m.set(O.subarray(C,C+v*b)),x(C-x(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return y1={ready:a,supported:!0,decodeVertexBuffer(h,m,v,b,A){l(s.exports.meshopt_decodeVertexBuffer,h,m,v,b,s.exports[c[A]])},decodeIndexBuffer(h,m,v,b){l(s.exports.meshopt_decodeIndexBuffer,h,m,v,b)},decodeIndexSequence(h,m,v,b){l(s.exports.meshopt_decodeIndexSequence,h,m,v,b)},decodeGltfBuffer(h,m,v,b,A,_){l(s.exports[d[A]],h,m,v,b,s.exports[c[_]])}},y1};let v1=null,n$="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function i$(n=!0,e=!0,t){return i=>{t&&t(i),n&&(v1||(v1=new ERe),v1.setDecoderPath(typeof n=="string"?n:n$),i.setDRACOLoader(v1)),e&&i.setMeshoptDecoder(typeof nO=="function"?nO():nO)}}const UR=(n,e,t,i)=>bA(eU,n,i$(e,t,i));UR.preload=(n,e,t,i)=>bA.preload(eU,n,i$(e,t,i));UR.clear=n=>bA.clear(eU,n);UR.setDecoderPath=n=>{n$=n};const TRe=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},d)=>{const h=oh(R=>R.invalidate),m=oh(R=>R.camera),v=oh(R=>R.gl),b=oh(R=>R.events),A=oh(R=>R.setEvents),_=oh(R=>R.set),x=oh(R=>R.get),T=oh(R=>R.performance),C=e||m,M=i||b.connected||v.domElement,O=G.useMemo(()=>new Gwe(C),[C]);return Wq(()=>{O.enabled&&O.update()},-1),G.useEffect(()=>(s&&O.connect(s===!0?M:s),O.connect(M),()=>void O.dispose()),[s,M,t,O,h]),G.useEffect(()=>{const R=P=>{h(),t&&T.regress(),a&&a(P)},B=P=>{o&&o(P)},N=P=>{l&&l(P)};return O.addEventListener("change",R),O.addEventListener("start",B),O.addEventListener("end",N),()=>{O.removeEventListener("start",B),O.removeEventListener("end",N),O.removeEventListener("change",R)}},[a,o,l,O,h,A]),G.useEffect(()=>{if(n){const R=x().controls;return _({controls:O}),()=>_({controls:R})}},[n,O]),G.createElement("primitive",be({ref:d,object:O,enableDamping:r},c))});function MRe(){const{scene:n}=UR(zT()+"/models/ti-trophy.glb"),e=G.useRef(null),t=G.useRef(!1);return G.useEffect(()=>{e.current&&(e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10,e.current.rotation.y=Math.PI/10)},[]),Wq(()=>{e.current&&(t.current||(e.current.rotation.x=.5,t.current=!0),e.current.rotation.y+=.005)}),W.jsx("primitive",{ref:e,object:n,scale:1.2})}const wRe=()=>W.jsxs(Pwe,{style:{height:"400px",pointerEvents:"none"},children:[W.jsx("ambientLight",{intensity:.5}),W.jsx("directionalLight",{position:[1,1,1],intensity:10}),W.jsx("directionalLight",{position:[1,0,0],intensity:10}),W.jsx("directionalLight",{position:[0,0,1],intensity:10}),W.jsx("directionalLight",{position:[1,0,0],intensity:10}),W.jsx(G.Suspense,{fallback:null,children:W.jsx(MRe,{})}),W.jsx(TRe,{enableZoom:!1,enableRotate:!1,enablePan:!1})]}),oV=({trophyHolderName:n,trophyHolderFaction:e})=>W.jsx("div",{style:{overflow:"hidden",borderRadius:"20px",touchAction:"auto",width:"300px",maxHeight:"min-content",zIndex:1e3},children:W.jsx("div",{style:{overflowY:"auto",overflowX:"hidden",maxHeight:"100%",zIndex:1e3},children:W.jsxs(Ss,{textAlign:"center",sx:{backgroundImage:`url("${zT()}images/tihexes.webp")`,backgroundPosition:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[W.jsx(Ss,{sx:{borderRadius:"5px",backgroundImage:"linear-gradient(to bottom right, rgb(241,87,38) ,rgb(245,189,26) )",width:"100px",height:"150px",padding:"4px",marginTop:"30px"},children:n&&W.jsx(Ss,{sx:{borderRadius:"5px",height:"150px",backgroundImage:`url("${zT()}images/factions/${e.factionImage}")`,backgroundSize:"cover"}})}),W.jsx(G.Suspense,{fallback:W.jsx("div",{children:"Loading Trophy..."}),children:W.jsx(wRe,{})}),W.jsxs(Ss,{textAlign:"center",mb:8,sx:{marginTop:"-70px"},children:[W.jsx(qr,{variant:"h6",sx:{color:"#C5CAE9"},children:"Current trophy holder:"}),W.jsx(o3.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},children:W.jsx(Ss,{children:W.jsx(qr,{variant:"h2",component:"h1",gutterBottom:!0,sx:{color:"#FFEB3B",fontWeight:700},children:n})})})]})]})})});var kR,Kt,r$,s$,p0,Sm,lV,a$,o$,kM={},l$=[],RRe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function bh(n,e){for(var t in e)n[t]=e[t];return n}function c$(n){var e=n.parentNode;e&&e.removeChild(n)}function Ke(n,e,t){var i,r,s,a={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?kR.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)a[s]===void 0&&(a[s]=n.defaultProps[s]);return sT(n,a,i,r,null)}function sT(n,e,t,i,r){var s={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++r$};return r==null&&Kt.vnode!=null&&Kt.vnode(s),s}function Yd(){return{current:null}}function Cr(n){return n.children}function DRe(n,e,t,i,r){var s;for(s in t)s==="children"||s==="key"||s in e||FM(n,s,null,t[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||FM(n,s,e[s],t[s],i)}function cV(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||RRe.test(e)?t:t+"px"}function FM(n,e,t,i,r){var s;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||cV(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||cV(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?i||n.addEventListener(e,s?dV:uV,s):n.removeEventListener(e,s?dV:uV,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function uV(n){p0=!0;try{return this.l[n.type+!1](Kt.event?Kt.event(n):n)}finally{p0=!1}}function dV(n){p0=!0;try{return this.l[n.type+!0](Kt.event?Kt.event(n):n)}finally{p0=!1}}function Ho(n,e){this.props=n,this.context=e}function CS(n,e){if(e==null)return n.__?CS(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?CS(n):null}function u$(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return u$(n)}}function IRe(n){p0?setTimeout(n):a$(n)}function AN(n){(!n.__d&&(n.__d=!0)&&Sm.push(n)&&!HM.__r++||lV!==Kt.debounceRendering)&&((lV=Kt.debounceRendering)||IRe)(HM)}function HM(){var n,e,t,i,r,s,a,o;for(Sm.sort(function(l,c){return l.__v.__b-c.__v.__b});n=Sm.shift();)n.__d&&(e=Sm.length,i=void 0,r=void 0,a=(s=(t=n).__v).__e,(o=t.__P)&&(i=[],(r=bh({},s)).__v=s.__v+1,tU(o,s,r,t.__n,o.ownerSVGElement!==void 0,s.__h!=null?[a]:null,i,a??CS(s),s.__h),m$(i,s),s.__e!=a&&u$(s)),Sm.length>e&&Sm.sort(function(l,c){return l.__v.__b-c.__v.__b}));HM.__r=0}function d$(n,e,t,i,r,s,a,o,l,c){var d,h,m,v,b,A,_,x=i&&i.__k||l$,T=x.length;for(t.__k=[],d=0;d<e.length;d++)if((v=t.__k[d]=(v=e[d])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?sT(null,v,null,null,v):Array.isArray(v)?sT(Cr,{children:v},null,null,null):v.__b>0?sT(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=t,v.__b=t.__b+1,(m=x[d])===null||m&&v.key==m.key&&v.type===m.type)x[d]=void 0;else for(h=0;h<T;h++){if((m=x[h])&&v.key==m.key&&v.type===m.type){x[h]=void 0;break}m=null}tU(n,v,m=m||kM,r,s,a,o,l,c),b=v.__e,(h=v.ref)&&m.ref!=h&&(_||(_=[]),m.ref&&_.push(m.ref,null,v),_.push(h,v.__c||b,v)),b!=null?(A==null&&(A=b),typeof v.type=="function"&&v.__k===m.__k?v.__d=l=f$(v,l,n):l=h$(n,v,m,x,b,l),typeof t.type=="function"&&(t.__d=l)):l&&m.__e==l&&l.parentNode!=n&&(l=CS(m))}for(t.__e=A,d=T;d--;)x[d]!=null&&(typeof t.type=="function"&&x[d].__e!=null&&x[d].__e==t.__d&&(t.__d=p$(i).nextSibling),y$(x[d],x[d]));if(_)for(d=0;d<_.length;d++)g$(_[d],_[++d],_[++d])}function f$(n,e,t){for(var i,r=n.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=n,e=typeof i.type=="function"?f$(i,e,t):h$(t,i,i,r,i.__e,e));return e}function zM(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){zM(t,e)}):e.push(n)),e}function h$(n,e,t,i,r,s){var a,o,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==n)n.appendChild(r),a=null;else{for(o=s,l=0;(o=o.nextSibling)&&l<i.length;l+=1)if(o==r)break e;n.insertBefore(r,s),a=s}return a!==void 0?a:r.nextSibling}function p$(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=p$(t)))return i}return null}function tU(n,e,t,i,r,s,a,o,l){var c,d,h,m,v,b,A,_,x,T,C,M,O,R,B,N=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,o=e.__e=t.__e,e.__h=null,s=[o]),(c=Kt.__b)&&c(e);try{e:if(typeof N=="function"){if(_=e.props,x=(c=N.contextType)&&i[c.__c],T=c?x?x.props.value:c.__:i,t.__c?A=(d=e.__c=t.__c).__=d.__E:("prototype"in N&&N.prototype.render?e.__c=d=new N(_,T):(e.__c=d=new Ho(_,T),d.constructor=N,d.render=PRe),x&&x.sub(d),d.props=_,d.state||(d.state={}),d.context=T,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),N.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=bh({},d.__s)),bh(d.__s,N.getDerivedStateFromProps(_,d.__s))),m=d.props,v=d.state,d.__v=e,h)N.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(N.getDerivedStateFromProps==null&&_!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(_,T),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(_,d.__s,T)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(d.props=_,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(P){P&&(P.__=e)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(_,d.__s,T),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,v,b)})}if(d.context=T,d.props=_,d.__P=n,M=Kt.__r,O=0,"prototype"in N&&N.prototype.render){for(d.state=d.__s,d.__d=!1,M&&M(e),c=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,M&&M(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++O<25);d.state=d.__s,d.getChildContext!=null&&(i=bh(bh({},i),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(b=d.getSnapshotBeforeUpdate(m,v)),B=c!=null&&c.type===Cr&&c.key==null?c.props.children:c,d$(n,Array.isArray(B)?B:[B],e,t,i,r,s,a,o,l),d.base=e.__e,e.__h=null,d.__h.length&&a.push(d),A&&(d.__E=d.__=null),d.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=ORe(t.__e,e,t,i,r,s,a,l);(c=Kt.diffed)&&c(e)}catch(P){e.__v=null,(l||s!=null)&&(e.__e=o,e.__h=!!l,s[s.indexOf(o)]=null),Kt.__e(P,e,t)}}function m$(n,e){Kt.__c&&Kt.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Kt.__e(i,t.__v)}})}function ORe(n,e,t,i,r,s,a,o){var l,c,d,h=t.props,m=e.props,v=e.type,b=0;if(v==="svg"&&(r=!0),s!=null){for(;b<s.length;b++)if((l=s[b])&&"setAttribute"in l==!!v&&(v?l.localName===v:l.nodeType===3)){n=l,s[b]=null;break}}if(n==null){if(v===null)return document.createTextNode(m);n=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),s=null,o=!1}if(v===null)h===m||o&&n.data===m||(n.data=m);else{if(s=s&&kR.call(n.childNodes),c=(h=t.props||kM).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!o){if(s!=null)for(h={},b=0;b<n.attributes.length;b++)h[n.attributes[b].name]=n.attributes[b].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===n.innerHTML)||(n.innerHTML=d&&d.__html||""))}if(DRe(n,m,h,r,o),d)e.__k=[];else if(b=e.props.children,d$(n,Array.isArray(b)?b:[b],e,t,i,r&&v!=="foreignObject",s,a,s?s[0]:t.__k&&CS(t,0),o),s!=null)for(b=s.length;b--;)s[b]!=null&&c$(s[b]);o||("value"in m&&(b=m.value)!==void 0&&(b!==n.value||v==="progress"&&!b||v==="option"&&b!==h.value)&&FM(n,"value",b,h.value,!1),"checked"in m&&(b=m.checked)!==void 0&&b!==n.checked&&FM(n,"checked",b,h.checked,!1))}return n}function g$(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){Kt.__e(i,t)}}function y$(n,e,t){var i,r;if(Kt.unmount&&Kt.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||g$(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Kt.__e(s,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&y$(i[r],e,t||typeof n.type!="function");t||n.__e==null||c$(n.__e),n.__=n.__e=n.__d=void 0}function PRe(n,e,t){return this.constructor(n,t)}function TS(n,e,t){var i,r,s;Kt.__&&Kt.__(n,e),r=(i=!1)?null:e.__k,s=[],tU(e,n=e.__k=Ke(Cr,null,[n]),r||kM,kM,e.ownerSVGElement!==void 0,r?null:e.firstChild?kR.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),m$(s,n)}function NRe(n,e){var t={__c:e="__cC"+o$++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.some(function(o){o.__e=!0,AN(o)})},this.sub=function(a){r.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){r.splice(r.indexOf(a),1),o&&o.call(a)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}kR=l$.slice,Kt={__e:function(n,e,t,i){for(var r,s,a;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(n)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),a=r.__d),a)return r.__E=r}catch(o){n=o}throw n}},r$=0,s$=function(n){return n!=null&&n.constructor===void 0},p0=!1,Ho.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bh({},this.state),typeof n=="function"&&(n=n(bh({},t),this.props)),n&&bh(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),AN(this))},Ho.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),AN(this))},Ho.prototype.render=Cr,Sm=[],a$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,HM.__r=0,o$=0;var yu,iO,fV,v$=[],rO=[],hV=Kt.__b,pV=Kt.__r,mV=Kt.diffed,gV=Kt.__c,yV=Kt.unmount;function BRe(){for(var n;n=v$.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(aT),n.__H.__h.forEach(EN),n.__H.__h=[]}catch(e){n.__H.__h=[],Kt.__e(e,n.__v)}}Kt.__b=function(n){yu=null,hV&&hV(n)},Kt.__r=function(n){pV&&pV(n);var e=(yu=n.__c).__H;e&&(iO===yu?(e.__h=[],yu.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=rO,t.__N=t.i=void 0})):(e.__h.forEach(aT),e.__h.forEach(EN),e.__h=[])),iO=yu},Kt.diffed=function(n){mV&&mV(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(v$.push(e)!==1&&fV===Kt.requestAnimationFrame||((fV=Kt.requestAnimationFrame)||LRe)(BRe)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==rO&&(t.__=t.__V),t.i=void 0,t.__V=rO})),iO=yu=null},Kt.__c=function(n,e){e.some(function(t){try{t.__h.forEach(aT),t.__h=t.__h.filter(function(i){return!i.__||EN(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Kt.__e(i,t.__v)}}),gV&&gV(n,e)},Kt.unmount=function(n){yV&&yV(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{aT(i)}catch(r){e=r}}),t.__H=void 0,e&&Kt.__e(e,t.__v))};var vV=typeof requestAnimationFrame=="function";function LRe(n){var e,t=function(){clearTimeout(i),vV&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);vV&&(e=requestAnimationFrame(t))}function aT(n){var e=yu,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),yu=e}function EN(n){var e=yu;n.__c=n.__(),yu=e}function URe(n,e){for(var t in e)n[t]=e[t];return n}function bV(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function _V(n){this.props=n}(_V.prototype=new Ho).isPureReactComponent=!0,_V.prototype.shouldComponentUpdate=function(n,e){return bV(this.props,n)||bV(this.state,e)};var xV=Kt.__b;Kt.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),xV&&xV(n)};var kRe=Kt.__e;Kt.__e=function(n,e,t,i){if(n.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}kRe(n,e,t,i)};var SV=Kt.unmount;function b$(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=URe({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return b$(i,e,t)})),n}function _$(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return _$(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function sO(){this.__u=0,this.t=null,this.__b=null}function x$(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function b1(){this.u=null,this.o=null}Kt.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),SV&&SV(n)},(sO.prototype=new Ho).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=x$(i.__v),s=!1,a=function(){s||(s=!0,t.__R=null,r?r(o):o())};t.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=_$(c,c.__c.__P,c.__c.__O)}var d;for(i.setState({__a:i.__b=null});d=i.t.pop();)d.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(a,a)},sO.prototype.componentWillUnmount=function(){this.t=[]},sO.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=b$(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Ke(Cr,null,n.fallback);return r&&(r.__h=null),[Ke(Cr,null,e.__a?null:n.children),r]};var AV=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function FRe(n){return this.getChildContext=function(){return n.context},n.children}function HRe(n){var e=this,t=n.i;e.componentWillUnmount=function(){TS(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),TS(Ke(FRe,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function zRe(n,e){var t=Ke(HRe,{__v:n,i:e});return t.containerInfo=e,t}(b1.prototype=new Ho).__a=function(n){var e=this,t=x$(e.__v),i=e.o.get(n);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),AV(e,n,i)):r()};t?t(s):s()}},b1.prototype.render=function(n){this.u=null,this.o=new Map;var e=zM(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},b1.prototype.componentDidUpdate=b1.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){AV(n,t,e)})};var GRe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,VRe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,jRe=typeof document<"u",WRe=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Ho.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ho.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var EV=Kt.event;function YRe(){}function XRe(){return this.cancelBubble}function qRe(){return this.defaultPrevented}Kt.event=function(n){return EV&&(n=EV(n)),n.persist=YRe,n.isPropagationStopped=XRe,n.isDefaultPrevented=qRe,n.nativeEvent=n};var CV={configurable:!0,get:function(){return this.class}},TV=Kt.vnode;Kt.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},t){var a=t[s];jRe&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in t&&a==null||(s==="defaultValue"&&"value"in t&&t.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!WRe(t.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&VRe.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=a)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=zM(t.children).forEach(function(o){o.props.selected=i.value.indexOf(o.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=zM(t.children).forEach(function(o){o.props.selected=i.multiple?i.defaultValue.indexOf(o.props.value)!=-1:i.defaultValue==o.props.value})),n.props=i,t.class!=t.className&&(CV.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",CV))}n.$$typeof=GRe,TV&&TV(n)};var MV=Kt.__r;Kt.__r=function(n){MV&&MV(n),n.__c};const S$=[],CN=new Map;function A$(n){S$.push(n),CN.forEach(e=>{C$(e,n)})}function $Re(n){n.isConnected&&n.getRootNode&&E$(n.getRootNode())}function E$(n){let e=CN.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=JRe();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}CN.set(n,e),KRe(e)}}function KRe(n){for(const e of S$)C$(n,e)}function C$(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&t.insertRule(r+"}",i+s)})}let aO;function JRe(){return aO===void 0&&(aO=QRe()),aO}function QRe(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&E$(document);var ZRe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';A$(ZRe);class nU{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function iU(n){n.parentNode&&n.parentNode.removeChild(n)}function oa(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(eDe(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function eDe(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function tDe(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let s=t[r].querySelectorAll(e);for(let a=0;a<s.length;a+=1)i.push(s[a])}return i}const nDe=/(top|left|right|bottom|width|height)$/i;function Bx(n,e){for(let t in e)T$(n,t,e[t])}function T$(n,e,t){t==null?n.style[e]="":typeof t=="number"&&nDe.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function M$(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let wV=0;function FR(){return wV+=1,"fc-dom-"+wV}function HR(n){n.preventDefault()}function iDe(n,e){return t=>{let i=oa(t.target,n);i&&e.call(i,t,i)}}function w$(n,e,t,i){let r=iDe(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function rDe(n,e,t,i){let r;return w$(n,"mouseover",e,(s,a)=>{if(a!==r){r=a,t(s,a);let o=l=>{r=null,i(l,a),a.removeEventListener("mouseleave",o)};a.addEventListener("mouseleave",o)}})}const RV=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function sDe(n,e){let t=i=>{e(i),RV.forEach(r=>{n.removeEventListener(r,t)})};RV.forEach(i=>{n.addEventListener(i,t)})}function R$(n){return Object.assign({onClick:n},D$(n))}function D$(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let DV=0;function vg(){return DV+=1,String(DV)}function rU(){document.body.classList.add("fc-not-allowed")}function sU(){document.body.classList.remove("fc-not-allowed")}function aDe(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",HR)}function oDe(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",HR)}function lDe(n){n.addEventListener("contextmenu",HR)}function cDe(n){n.removeEventListener("contextmenu",HR)}function uDe(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function dDe(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=fDe(n,e,t[i]),r)return r;return 0}function fDe(n,e,t){return t.func?t.func(n,e):hDe(n[t.field],e[t.field])*(t.order||1)}function hDe(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function oO(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Lx(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),n):t}function pDe(n,e){return n-e}function lO(n){return n%1===0}function mDe(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const gDe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function hi(n,e){return typeof n=="string"?yDe(n):typeof n=="object"&&n?IV(n):typeof n=="number"?IV({[e||"milliseconds"]:n}):null}function yDe(n){let e=gDe.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function IV(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function vDe(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function bDe(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function _De(n){return Nv(n)/365}function xDe(n){return Nv(n)/30}function Nv(n){return MS(n)/864e5}function MS(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function TN(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Vh(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const SDe=["sun","mon","tue","wed","thu","fri","sat"];function OV(n,e){let t=_h(n);return t[2]+=e*7,so(t)}function Ms(n,e){let t=_h(n);return t[2]+=e,so(t)}function jh(n,e){let t=_h(n);return t[6]+=e,so(t)}function ADe(n,e){return Q0(n,e)/7}function Q0(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function EDe(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function CDe(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function TDe(n,e){return(e.valueOf()-n.valueOf())/1e3}function MDe(n,e){let t=tr(n),i=tr(e);return{years:0,months:0,days:Math.round(Q0(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function wDe(n,e){let t=GM(n,e);return t!==null&&t%7===0?t/7:null}function GM(n,e){return xh(n)===xh(e)?Math.round(Q0(n,e)):null}function tr(n){return so([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function RDe(n){return so([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function DDe(n){return so([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function IDe(n){return so([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function ODe(n,e,t){let i=n.getUTCFullYear(),r=cO(n,i,e,t);if(r<1)return cO(n,i-1,e,t);let s=cO(n,i+1,e,t);return s>=1?Math.min(r,s):r}function cO(n,e,t,i){let r=so([e,0,1+PDe(e,t,i)]),s=tr(n),a=Math.round(Q0(r,s));return Math.floor(a/7)+1}function PDe(n,e,t){let i=7+e-t;return-((7+so([n,0,i]).getUTCDay()-e)%7)+i-1}function PV(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function NV(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function _h(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function so(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function I$(n){return!isNaN(n.valueOf())}function xh(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function NDe(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",oU(e,!0)))),i}function aU(n){return n.toISOString().replace(/T.*$/,"")}function BDe(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function oU(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=Math.round(i%60);return e?`${t+oO(r,2)}:${oO(s,2)}`:`GMT${t}${r}${s?`:${oO(s,2)}`:""}`}function ai(n,e,t){let i,r;return function(...s){if(!i)r=n.apply(this,s);else if(!Vh(i,s)){let a=n.apply(this,s);(!e||!e(a,r))&&(r=a)}return i=s,r}}function oT(n,e,t){let i,r;return s=>(i?wc(i,s)||(r=n.call(this,s)):r=n.call(this,s),i=s,r)}const uO={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},VM={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},_1=/\s*([ap])\.?m\.?/i,LDe=/,/g,UDe=/\s+/g,kDe=/\u200e/g,FDe=/UTC|GMT/;class HDe{constructor(e){let t={},i={},r=9;for(let s in e)s in uO?(i[s]=e[s],uO[s]<9&&(r=Math.min(uO[s],r))):(t[s]=e[s],s in VM&&(r=Math.min(VM[s],r)));this.standardDateProps=t,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=ai(BV)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:s,extendedSettings:a}=this,o=YDe(e.marker,t.marker,i.calendarSystem);if(!o)return this.format(e,i);let l=o;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,i),d=this.format(t,i);if(c===d)return c;let h=XDe(s,l),m=BV(h,a,i),v=m(e),b=m(t),A=qDe(c,v,d,b),_=a.separator||r||i.defaultSeparator||"";return A?A.before+v+_+b+A.after:c+_+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function BV(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>oU(r.timeZoneOffset):i===0&&e.week?r=>WDe(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):zDe(n,e,t)}function zDe(n,e,t){n=Object.assign({},n),e=Object.assign({},e),GDe(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let s=Object.assign({},n);delete s.minute,r=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:a}=s,o;r&&!a.getUTCMinutes()?o=r:o=i;let l=o.format(a);return VDe(l,s,n,e,t)}}function GDe(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function VDe(n,e,t,i,r){return n=n.replace(kDe,""),t.timeZoneName==="short"&&(n=jDe(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":oU(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(LDe,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(_1,"").trim():i.meridiem==="narrow"?n=n.replace(_1,(s,a)=>a.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(_1,(s,a)=>`${a.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(_1,s=>s.toLocaleLowerCase())),n=n.replace(UDe," "),n=n.trim(),n}function jDe(n,e){let t=!1;return n=n.replace(FDe,()=>(t=!0,e)),t||(n+=` ${e}`),n}function WDe(n,e,t,i,r){let s=[];return r==="long"?s.push(t):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function YDe(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:xh(n)!==xh(e)?1:0}function XDe(n,e){let t={};for(let i in n)(!(i in VM)||VM[i]<=e)&&(t[i]=n[i]);return t}function qDe(n,e,t,i){let r=0;for(;r<n.length;){let s=n.indexOf(e,r);if(s===-1)break;let a=n.substr(0,s);r=s+e.length;let o=n.substr(r),l=0;for(;l<t.length;){let c=t.indexOf(i,l);if(c===-1)break;let d=t.substr(0,c);l=c+i.length;let h=t.substr(l);if(a===d&&o===h)return{before:a,after:o}}}return null}function LV(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function jM(n,e,t,i){let r=LV(n,t.calendarSystem),s=e?LV(e,t.calendarSystem):null;return{date:r,start:r,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class $De{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,jM(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,jM(e,t,i,r))}}class KDe{constructor(e){this.func=e}format(e,t,i){return this.func(jM(e,null,t,i))}formatRange(e,t,i,r){return this.func(jM(e,t,i,r))}}function As(n){return typeof n=="object"&&n?new HDe(n):typeof n=="string"?new $De(n):typeof n=="function"?new KDe(n):null}const UV={navLinkDayClick:qe,navLinkWeekClick:qe,duration:hi,bootstrapFontAwesome:qe,buttonIcons:qe,customButtons:qe,defaultAllDayEventDuration:hi,defaultTimedEventDuration:hi,nextDayThreshold:hi,scrollTime:hi,scrollTimeReset:Boolean,slotMinTime:hi,slotMaxTime:hi,dayPopoverFormat:As,slotDuration:hi,snapDuration:hi,headerToolbar:qe,footerToolbar:qe,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:As,dayHeaderClassNames:qe,dayHeaderContent:qe,dayHeaderDidMount:qe,dayHeaderWillUnmount:qe,dayCellClassNames:qe,dayCellContent:qe,dayCellDidMount:qe,dayCellWillUnmount:qe,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:qe,weekNumbers:Boolean,weekNumberClassNames:qe,weekNumberContent:qe,weekNumberDidMount:qe,weekNumberWillUnmount:qe,editable:Boolean,viewClassNames:qe,viewDidMount:qe,viewWillUnmount:qe,nowIndicator:Boolean,nowIndicatorSnap:qe,nowIndicatorClassNames:qe,nowIndicatorContent:qe,nowIndicatorDidMount:qe,nowIndicatorWillUnmount:qe,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:qe,locale:qe,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:qe,eventOrder:uDe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:qe,contentHeight:qe,direction:String,weekNumberFormat:As,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:qe,initialDate:qe,now:qe,eventDataTransform:qe,stickyHeaderDates:qe,stickyFooterScrollbar:qe,viewHeight:qe,defaultAllDay:Boolean,eventSourceFailure:qe,eventSourceSuccess:qe,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:qe,eventConstraint:qe,eventAllow:qe,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:qe,eventContent:qe,eventDidMount:qe,eventWillUnmount:qe,selectConstraint:qe,selectOverlap:qe,selectAllow:qe,droppable:Boolean,unselectCancel:String,slotLabelFormat:qe,slotLaneClassNames:qe,slotLaneContent:qe,slotLaneDidMount:qe,slotLaneWillUnmount:qe,slotLabelClassNames:qe,slotLabelContent:qe,slotLabelDidMount:qe,slotLabelWillUnmount:qe,dayMaxEvents:qe,dayMaxEventRows:qe,dayMinWidth:Number,slotLabelInterval:hi,allDayText:String,allDayClassNames:qe,allDayContent:qe,allDayDidMount:qe,allDayWillUnmount:qe,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:As,rerenderDelay:Number,moreLinkText:qe,moreLinkHint:qe,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:qe,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:hi,hiddenDays:qe,fixedWeekCount:Boolean,validRange:qe,visibleRange:qe,titleFormat:qe,eventInteractive:Boolean,noEventsText:String,viewHint:qe,navLinkHint:qe,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:qe,moreLinkClassNames:qe,moreLinkContent:qe,moreLinkDidMount:qe,moreLinkWillUnmount:qe,monthStartFormat:As,handleCustomRendering:qe,customRenderingMetaMap:qe,customRenderingReplaces:Boolean},Ux={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},kV={datesSet:qe,eventsSet:qe,eventAdd:qe,eventChange:qe,eventRemove:qe,windowResize:qe,eventClick:qe,eventMouseEnter:qe,eventMouseLeave:qe,select:qe,unselect:qe,loading:qe,_unmount:qe,_beforeprint:qe,_afterprint:qe,_noEventDrop:qe,_noEventResize:qe,_resize:qe,_scrollRequest:qe},FV={buttonText:qe,buttonHints:qe,views:qe,plugins:qe,initialEvents:qe,events:qe,eventSources:qe},bm={headerToolbar:_m,footerToolbar:_m,buttonText:_m,buttonHints:_m,buttonIcons:_m,dateIncrement:_m,plugins:x1,events:x1,eventSources:x1,resources:x1};function _m(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?wc(n,e):n===e}function x1(n,e){return Array.isArray(n)&&Array.isArray(e)?Vh(n,e):n===e}const JDe={type:String,component:qe,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:qe,usesMinMaxTime:Boolean,classNames:qe,content:qe,didMount:qe,willUnmount:qe};function dO(n){return cU(n,bm)}function lU(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function qe(n){return n}const{hasOwnProperty:WM}=Object.prototype;function cU(n,e){let t={};if(e){for(let i in e)if(e[i]===_m){let r=[];for(let s=n.length-1;s>=0;s-=1){let a=n[s][i];if(typeof a=="object"&&a)r.unshift(a);else if(a!==void 0){t[i]=a;break}}r.length&&(t[i]=cU(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let s in r)s in t||(t[s]=r[s])}return t}function cg(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function bg(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function O$(n){let e={};for(let t of n)e[t]=!0;return e}function uU(n){let e=[];for(let t in n)e.push(n[t]);return e}function wc(n,e){if(n===e)return!0;for(let t in n)if(WM.call(n,t)&&!(t in e))return!1;for(let t in e)if(WM.call(e,t)&&n[t]!==e[t])return!1;return!0}const QDe=/^on[A-Z]/;function ZDe(n,e){const t=eIe(n,e);for(let i of t)if(!QDe.test(i))return!1;return!0}function eIe(n,e){let t=[];for(let i in n)WM.call(n,i)&&(i in e||t.push(i));for(let i in e)WM.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function fO(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&tIe(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function tIe(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function nIe(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let s=e;s<t;s+=i){let a=n[s];a!==void 0&&r.push(a)}return r}let P$={};function iIe(n,e){P$[n]=e}function rIe(n){return new P$[n]}class sIe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return so(e)}markerToArray(e){return _h(e)}}iIe("gregory",sIe);const aIe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function oIe(n){let e=aIe.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(I$(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class lIe{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=rIe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):so(PV(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=so(e)),t===null||!I$(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=oIe(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return xh(e)===xh(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return xh(e)===xh(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=wDe(e,t),i!==null?{unit:"week",value:i}:(i=GM(e,t),i!==null?{unit:"day",value:i}:(i=EDe(e,t),lO(i)?{unit:"hour",value:i}:(i=CDe(e,t),lO(i)?{unit:"minute",value:i}:(i=TDe(e,t),lO(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/_De(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/xDe(i):i.days&&(r=GM(e,t),r!==null)?r/Nv(i):(t.valueOf()-e.valueOf())/MS(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?tr(e):t==="hour"?RDe(e):t==="minute"?DDe(e):t==="second"?IDe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):ODe(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=jh(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),NDe(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?so(PV(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):so(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-NV(_h(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(_h(e)):null}toDate(e,t){return this.timeZone==="local"?NV(_h(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(_h(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class _A{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}_A.prototype.classes={};_A.prototype.iconClasses={};_A.prototype.baseIconClass="";_A.prototype.iconOverridePrefix="";function YM(n){n();let e=Kt.debounceRendering,t=[];function i(r){t.push(r)}for(Kt.debounceRendering=i,TS(Ke(cIe,{}),document.createElement("div"));t.length;)t.shift()();Kt.debounceRendering=e}class cIe extends Ho{render(){return Ke("div",{})}componentDidMount(){this.setState({})}}function N$(n){let e=NRe(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(o=>{o.context=a.value,o.forceUpdate()})},this.sub=a=>{s.push(a);let o=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),o&&o.call(a)}}}return r},e}class uIe{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const _g=N$({});function dIe(n,e,t,i,r,s,a,o,l,c,d,h,m,v){return{dateEnv:r,nowManager:s,options:t,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:c,calendarApi:h,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler(b){d.on("_resize",b)},removeResizeHandler(b){d.off("_resize",b)},createScrollResponder(b){return new uIe(b,d,hi(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:v}}class xg extends Ho{shouldComponentUpdate(e,t){return!fO(this.props,e,this.propEquality)||!fO(this.state,t,this.stateEquality)}safeSetState(e){fO(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}xg.addPropsEquality=fIe;xg.addStateEquality=hIe;xg.contextType=_g;xg.prototype.propEquality={};xg.prototype.stateEquality={};class pr extends xg{}pr.contextType=_g;function fIe(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function hIe(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Bu(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class dU extends pr{constructor(){super(...arguments),this.id=vg(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!MN(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Bu(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:s,renderProps:a}=e,o=B$(e,[],this.handleEl);let l=!1,c,d=[],h;if(r!=null){const m=typeof r=="function"?r(a,Ke):r;if(m===!0)l=!0;else{const v=m&&typeof m=="object";v&&"html"in m?o.dangerouslySetInnerHTML={__html:m.html}:v&&"domNodes"in m?d=Array.prototype.slice.call(m.domNodes):(v?s$(m):typeof m!="function")?c=m:h=m}}else l=!MN(e.generatorName,i);return l&&s&&(c=s(a)),this.queuedDomNodes=d,this.currentGeneratorMeta=h,Ke(e.elTag,o,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=r.options;if(s){const o=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:a==null?void 0:a[i.generatorName];o&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},i),{elClasses:(i.elClasses||[]).filter(pIe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Vh(e,t)){t.forEach(iU);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}dU.addPropsEquality({elClasses:Vh,elStyle:wc,elAttrs:ZDe,renderProps:wc});function MN(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function B$(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function pIe(n){return!!n}const L$=N$(0);class ef extends Ho{constructor(){super(...arguments),this.InnerContent=mIe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Bu(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=gIe(e.classNameGenerator,e.renderProps);if(e.children){const i=B$(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?Ke(e.elTag,i,r):r}else return Ke(dU,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ef.contextType=L$;function mIe(n,e){const t=n.props;return Ke(dU,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function gIe(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class HV extends pr{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return Ke(ef,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...U$(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function U$(n){return[`fc-${n.type}-view`,"fc-view"]}function yIe(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function zV(n,e){let t=[],{start:i}=e,r,s;for(n.sort(vIe),r=0;r<n.length;r+=1)s=n[r],s.start>i&&t.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&t.push({start:i,end:e.end}),t}function vIe(n,e){return n.start.valueOf()-e.start.valueOf()}function m0(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function bIe(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function fU(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function zR(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Dh(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function _Ie(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function k$(n){let e=Math.floor(Q0(n.start,n.end))||1,t=tr(n.start),i=Ms(t,e);return{start:t,end:i}}function F$(n,e=hi(0)){let t=null,i=null;if(n.end){i=tr(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=MS(e)&&(i=Ms(i,1))}return n.start&&(t=tr(n.start),i&&i<=t&&(i=Ms(t,1))),{start:t,end:i}}function xv(n,e,t,i){return i==="year"?hi(t.diffWholeYears(n,e),"year"):i==="month"?hi(t.diffWholeMonths(n,e),"month"):MDe(n,e)}class H${constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,t,i=!0){let{props:r}=this,s,a,o,l,c,d;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=_Ie(e,s)),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),l=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),l=this.trimHiddenDays(l),c=l,r.showNonCurrentDates||(c=m0(c,a.range)),c=this.adjustActiveRange(c),c=m0(c,s),d=fU(a.range,s),Dh(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:c,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,s=null,a=null,o;return i.duration?(r=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(e,t,r,s)):(o=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,t,o)):(a=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(r=this.getFallbackDuration(),s=TN(r).unit,a=this.buildRangeFromDuration(e,t,r,s)),{duration:r,unit:s,range:a}}getFallbackDuration(){return hi({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:a,end:o}=e;return i&&(Nv(r)<0&&(a=tr(a),a=t.add(a,r)),Nv(s)>1&&(o=tr(o),o=Ms(o,-1),o=t.add(o,s))),{start:a,end:o}}buildRangeFromDuration(e,t,i,r){let{dateEnv:s,dateAlignment:a}=this.props,o,l,c;if(!a){let{dateIncrement:h}=this.props;h&&MS(h)<MS(i)?a=TN(h).unit:a=r}Nv(i)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,t),o=tr(o));function d(){o=s.startOf(e,a),l=s.add(o,i),c={start:o,end:l}}return d(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),d()),c}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:s}=this.props,a=0,o=e,l;s&&(o=r.startOf(o,s)),o=tr(o),o=this.skipHiddenDays(o,t),l=o;do l=Ms(l,1),this.isHiddenDay(l)||(a+=1);while(a<i);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?hi(1,i):e||hi({days:1}))}refineRange(e){if(e){let t=yIe(e,this.props.dateEnv);return t&&(t=F$(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Ms(e,t);return e}}function hU(n,e,t,i){return{instanceId:vg(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function xIe(n,e,t,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(n,t);if(s){let{allDay:a}=n;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function ug(n,e,t){let{dateEnv:i,pluginHooks:r,options:s}=t,{defs:a,instances:o}=n;o=cg(o,l=>!a[l.defId].recurringDef);for(let l in a){let c=a[l];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let h=SIe(c,d,e,i,r.recurringTypes);for(let m of h){let v=hU(l,{start:m,end:i.add(m,d)});o[v.instanceId]=v}}}return{defs:a,instances:o}}function SIe(n,e,t,i,r){let a=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(a=a.map(tr)),a}const lT={id:String,groupId:String,title:String,url:String,interactive:Boolean},z$={start:qe,end:qe,date:qe,allDay:Boolean},AIe=Object.assign(Object.assign(Object.assign({},lT),z$),{extendedProps:qe});function G$(n,e,t,i,r=pU(t),s,a){let{refined:o,extra:l}=V$(n,t,r),c=CIe(e,t),d=xIe(o,c,t.dateEnv,t.pluginHooks.recurringTypes);if(d){let m=wN(o,l,e?e.sourceId:"",d.allDay,!!d.duration,t,s);return m.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null}}let h=EIe(o,c,t,i);if(h){let m=wN(o,l,e?e.sourceId:"",h.allDay,h.hasEnd,t,s),v=hU(m.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return a&&m.publicId&&a[m.publicId]&&(v.instanceId=a[m.publicId]),{def:m,instance:v}}return null}function V$(n,e,t=pU(e)){return lU(n,t)}function pU(n){return Object.assign(Object.assign(Object.assign({},XM),AIe),n.pluginHooks.eventRefiners)}function wN(n,e,t,i,r,s,a){let o={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(a&&n.id?a[n.id]:"")||vg(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:qM(n,s),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(o,l(n));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function EIe(n,e,t,i){let{allDay:r}=n,s,a=null,o=!1,l,c=null,d=n.start!=null?n.start:n.date;if(s=t.dateEnv.createMarkerMeta(d),s)a=s.marker;else if(!i)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&a&&(a=tr(a)),l&&(c=l.marker,r&&(c=tr(c)),a&&c<=a&&(c=null)),c?o=!0:i||(o=t.options.forceEventDuration||!1,c=t.dateEnv.add(a,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:o,range:{start:a,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function CIe(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function wS(n,e,t,i,r,s){let a=Tc(),o=pU(t);for(let l of n){let c=G$(l,e,t,i,o,r,s);c&&RN(c,a)}return a}function RN(n,e=Tc()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function mU(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=GR(n,s=>TIe(i,s));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Tc()}function TIe(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Tc(){return{defs:{},instances:{}}}function gU(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function GR(n,e){let t=cg(n.defs,e),i=cg(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function MIe(n,e){let{defs:t,instances:i}=n,r={},s={};for(let a in t)e.defs[a]||(r[a]=t[a]);for(let a in i)!e.instances[a]&&r[i[a].defId]&&(s[a]=i[a]);return{defs:r,instances:s}}function wIe(n,e){return Array.isArray(n)?wS(n,null,e,!0):typeof n=="object"&&n?wS([n],null,e,!0):n!=null?String(n):null}function GV(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const XM={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:qe,overlap:qe,allow:qe,className:GV,classNames:GV,color:String,backgroundColor:String,borderColor:String,textColor:String},RIe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function qM(n,e){let t=wIe(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function DIe(n){return n.reduce(IIe,RIe)}function IIe(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const OIe={id:String,defaultAllDay:Boolean,url:String,format:String,events:qe,eventDataTransform:qe,success:qe,failure:qe};function j$(n,e,t=W$(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:s}=lU(i,t),a=PIe(r,e);if(a)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:vg(),sourceDefId:a.sourceDefId,meta:a.meta,ui:qM(r,e),extendedProps:s}}return null}function W$(n){return Object.assign(Object.assign(Object.assign({},XM),OIe),n.pluginHooks.eventSourceRefiners)}function PIe(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let s=t[i].parseMeta(n);if(s)return{sourceDefId:i,meta:s}}return null}function NIe(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return BIe(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return LIe(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return UIe(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return gU(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?ug(n,i.activeRange,r):n;case"REMOVE_EVENTS":return MIe(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return X$(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return GR(n,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Tc();default:return n}}function BIe(n,e,t,i,r,s){if(e&&t===e.latestFetchId){let a=wS(Y$(r,e,s),e,s);return i&&(a=ug(a,i,s)),gU(X$(n,e.sourceId),a)}return n}function LIe(n,e,t,i,r){const{defIdMap:s,instanceIdMap:a}=FIe(n);let o=wS(Y$(t,e,r),e,r,!1,s,a);return ug(o,i,r)}function Y$(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=VV(n,r)),i&&(n=VV(n,i)),n}function VV(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function UIe(n,e,t,i){return t&&(e=ug(e,t,i)),gU(n,e)}function jV(n,e,t){let{defs:i}=n,r=bg(n.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function X$(n,e){return GR(n,t=>t.sourceId!==e)}function kIe(n,e){return{defs:n.defs,instances:cg(n.instances,t=>!e[t.instanceId])}}function FIe(n){const{defs:e,instances:t}=n,i={},r={};for(let s in e){const a=e[s],{publicId:o}=a;o&&(i[o]=s)}for(let s in t){const a=t[s],o=e[a.defId],{publicId:l}=o;l&&(r[l]=s)}return{defIdMap:i,instanceIdMap:r}}class VR{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){HIe(this.handlers,e,t)}off(e,t){zIe(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let a of s)a.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function HIe(n,e,t){(n[e]||(n[e]=[])).push(t)}function zIe(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const GIe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function VIe(n,e){return wS(jIe(n),null,e)}function jIe(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},GIe),t)),e}function q$(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},yU(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function WIe(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function yU(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,a2e(n,e.dateEnv)),t}function WV(n,e,t){let{dateEnv:i,options:r}=t,s=e;return n?(s=tr(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function vU(n,e,t,i){let r=$M(n.defs,e),s=Tc();for(let a in n.defs){let o=n.defs[a];s.defs[a]=YIe(o,r[a],t,i)}for(let a in n.instances){let o=n.instances[a],l=s.defs[o.defId];s.instances[a]=XIe(o,l,r[o.defId],t,i)}return s}function YIe(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let a of i.pluginHooks.eventDefMutationAppliers)a(s,t,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function XIe(n,e,t,i,r){let{dateEnv:s}=r,a=i.standardProps&&i.standardProps.allDay===!0,o=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},n);return a&&(l.range=k$(l.range)),i.datesDelta&&t.startEditable&&(l.range={start:s.add(l.range.start,i.datesDelta),end:s.add(l.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(l.range={start:s.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,i.endDelta)}),o&&(l.range={start:l.range.start,end:WV(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:tr(l.range.start),end:tr(l.range.end)}),l.range.end<l.range.start&&(l.range.end=WV(e.allDay,l.range.start,r)),l}class uv{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class nr{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in z$)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=lT[e](t),this.mutate({standardProps:{publicId:t}});else if(e in lT)t=lT[e](t),this.mutate({standardProps:{[e]:t}});else if(e in XM){let i=XM[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,a=xv(s.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=xv(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},a=r.createMarker(e),o;if(a&&!(t!=null&&(o=r.createMarker(t),!o))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=k$(l));let c=xv(l.start,a,r,i.granularity);if(o){let d=xv(l.end,o,r,i.granularity);vDe(c,d)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let t=hi(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=hi(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=hi(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=As(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),a=mU(s,t.instanceId);a=vU(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new nr(r,i,t);this._def=a.defs[i.defId],this._instance=a.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Wm(a,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=$$(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new uv(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:s}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),r&&(a.start=r),s&&(a.end=s),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),i.display&&i.display!=="auto"&&(a.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?a.color=i.backgroundColor:(i.backgroundColor&&(a.backgroundColor=i.backgroundColor),i.borderColor&&(a.borderColor=i.borderColor)),i.textColor&&(a.textColor=i.textColor),i.classNames.length&&(a.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function $$(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Wm(n,e,t){let{defs:i,instances:r}=n,s=[],a=t?t.instanceId:"";for(let o in r){let l=r[o],c=i[l.defId];l.instanceId!==a&&s.push(new nr(e,c,l))}return s}function YV(n,e,t,i){let r={},s={},a={},o=[],l=[],c=$M(n.defs,e);for(let d in n.defs){let h=n.defs[d];c[h.defId].display==="inverse-background"&&(h.groupId?(r[h.groupId]=[],a[h.groupId]||(a[h.groupId]=h)):s[d]=[])}for(let d in n.instances){let h=n.instances[d],m=n.defs[h.defId],v=c[m.defId],b=h.range,A=!m.allDay&&i?F$(b,i):b,_=m0(A,t);_&&(v.display==="inverse-background"?m.groupId?r[m.groupId].push(_):s[h.defId].push(_):v.display!=="none"&&(v.display==="background"?o:l).push({def:m,ui:v,instance:h,range:_,isStart:A.start&&A.start.valueOf()===_.start.valueOf(),isEnd:A.end&&A.end.valueOf()===_.end.valueOf()}))}for(let d in r){let h=r[d],m=zV(h,t);for(let v of m){let b=a[d],A=c[b.defId];o.push({def:b,ui:A,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let d in s){let h=s[d],m=zV(h,t);for(let v of m)o.push({def:n.defs[d],ui:c[d],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function XV(n,e){n.fcSeg=e}function g0(n){return n.fcSeg||n.parentNode.fcSeg||null}function $M(n,e){return bg(n,t=>K$(t,e))}function K$(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),DIe(t)}function qIe(n,e){let t=n.map($Ie);return t.sort((i,r)=>dDe(i,r,e)),t.map(i=>i._seg)}function $Ie(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:s,duration:s-r,allDay:Number(t.allDay),_seg:n})}function KIe(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:s}=n.eventRange,a=s.startEditable;for(let o of i)a=o(a,r,s,e);return a}function JIe(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function QIe(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function J$(n,e,t,i,r,s,a){let{dateEnv:o,options:l}=t,{displayEventTime:c,displayEventEnd:d}=l,h=n.eventRange.def,m=n.eventRange.instance;c==null&&(c=i!==!1),d==null&&(d=r!==!1);let v=m.range.start,b=m.range.end,A=n.start||n.eventRange.range.start,_=n.end||n.eventRange.range.end,x=tr(v).valueOf()===tr(A).valueOf(),T=tr(jh(b,-1)).valueOf()===tr(jh(_,-1)).valueOf();return c&&!h.allDay&&(x||T)?(A=x?v:A,_=T?b:_,d&&h.hasEnd?o.formatRange(A,_,e,{forcedStartTzo:m.forcedStartTzo,forcedEndTzo:m.forcedEndTzo}):o.format(A,e,{forcedTzo:m.forcedStartTzo})):""}function kx(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&Dh(e,i.start)}}function ZIe(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function e2e(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Q$(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:s,options:a}=e,{eventInteractive:o}=a;return o==null&&(o=t.interactive,o==null&&(o=!!s.hasHandlers("eventClick"))),o?D$(l=>{s.trigger("eventClick",{el:l.target,event:new nr(e,t,i),jsEvent:l,view:e.viewApi})}):{}}const t2e={start:qe,end:qe,allDay:Boolean};function n2e(n,e,t){let i=i2e(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function i2e(n,e){let{refined:t,extra:i}=lU(n,t2e),r=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:a}=t;return a==null&&(a=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:a},i)}function r2e(n,e){return bIe(n.range,e.range)&&n.allDay===e.allDay&&s2e(n,e)}function s2e(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function a2e(n,e){return Object.assign(Object.assign({},eK(n.range,e,n.allDay)),{allDay:n.allDay})}function Z$(n,e,t){return Object.assign(Object.assign({},eK(n,e,t)),{timeZone:e.timeZone})}function eK(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function o2e(n,e,t){let i=V$({editable:!1},t),r=wN(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:K$(r,e),instance:hU(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function l2e(n,e,t){let i=!1,r=function(o){i||(i=!0,e(o))},s=function(o){i||(i=!0,t(o))},a=n(r,s);a&&typeof a.then=="function"&&a.then(r,s)}class qV extends Error{constructor(e,t){super(e),this.response=t}}function c2e(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new qV("Failure parsing JSON",r)});throw new qV("Request failed",r)})}let hO;function tK(){return hO==null&&(hO=u2e()),hO}function u2e(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class d2e extends pr{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{YM(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{YM(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",s=!r&&t.height!=null?t.height:"",a=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return tK()||a.push("fc-liquid-hack"),e.children(a,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Z0{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function f2e(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function bU(n){return{[n.component.uid]:n}}const DN={};class jR extends Ho{constructor(e,t){super(e,t),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,i=t.nowManager.getDateMarker(),{nowIndicatorSnap:r}=t.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return r?(s=t.dateEnv.startOf(i,e.unit),a=t.dateEnv.add(s,hi(1,e.unit)).valueOf()-i.valueOf()):(s=i,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:h2e(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}jR.contextType=_g;function h2e(n){let e=tr(n),t=Ms(e,1);return{start:e,end:t}}class p2e{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,a;for(let o in t)r.push(o);for(s=0;s<r.length;s+=1)if(a=t[r[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=hi(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),As(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),As(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),s=n2e(i,r.dateEnv,hi({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),q$(s,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),WIe(e,t))}addEvent(e,t){if(e instanceof nr){let a=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:RN({def:a,instance:o})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof uv)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=uU(i.eventSources));else if(t!=null){let a=this.getEventSourceById(t);if(!a)return console.warn(`Could not find an event source with ID "${t}"`),null;r=a.internalEventSource}let s=G$(e,r,i,!1);if(s){let a=new nr(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:RN(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:$$(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let s in i){let a=i[s];if(a.publicId===e){if(a.recurringDef)return new nr(t,a,null);for(let o in r){let l=r[o];if(l.defId===a.defId)return new nr(t,a,l)}}}return null}getEvents(){let e=this.getCurrentData();return Wm(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new uv(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new uv(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof uv)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=j$(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new uv(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=hi(e);t&&this.trigger("_scrollRequest",{time:t})}}function m2e(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function nK(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function g2e(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function y2e(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function v2e(n,e){return{left:n.left-e.left,top:n.top-e.top}}function iK(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Dh(i.activeRange,n))),isOther:!!(i&&!Dh(i.currentRange,n)),isToday:!!(e&&Dh(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function _U(n,e){let t=["fc-day",`fc-day-${SDe[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const b2e=As({year:"numeric",month:"long",day:"numeric"}),_2e=As({week:"long"});function IN(n,e,t="day",i=!0){const{dateEnv:r,options:s,calendarApi:a}=n;let o=r.format(e,t==="week"?_2e:b2e);if(s.navLinks){let l=r.toDate(e);const c=d=>{let h=t==="day"?s.navLinkDayClick:t==="week"?s.navLinkWeekClick:null;typeof h=="function"?h.call(a,r.toDate(e),d):(typeof h=="string"&&(t=h),a.zoomTo(e,t))};return Object.assign({title:Lx(s.navLinkHint,[o,l],o),"data-navlink":""},i?R$(c):{onClick:c})}return{"aria-label":o}}let pO=null;function x2e(){return pO===null&&(pO=S2e()),pO}function S2e(){let n=document.createElement("div");Bx(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return iU(n),t}let mO;function A2e(){return mO||(mO=E2e()),mO}function E2e(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=rK(n);return document.body.removeChild(n),e}function rK(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function C2e(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,a=parseInt(t.borderBottomWidth,10)||0,o=rK(n),l=o.y-i-r,c=o.x-s-a,d={borderLeft:i,borderRight:r,borderTop:s,borderBottom:a,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return x2e()&&t.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(t.paddingLeft,10)||0,d.paddingRight=parseInt(t.paddingRight,10)||0,d.paddingTop=parseInt(t.paddingTop,10)||0,d.paddingBottom=parseInt(t.paddingBottom,10)||0),d}function T2e(n,e=!1,t){let i=xU(n),r=C2e(n,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function xU(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function M2e(n){let e=sK(n),t=n.getBoundingClientRect();for(let i of e){let r=nK(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function sK(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class KM{constructor(e,t,i,r){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.left-e),i.push(s.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.top-e),i.push(s.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,s;for(s=0;s<r;s+=1)if(e>=t[s]&&e<i[s])return s}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,s;for(s=0;s<r;s+=1)if(e>=t[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return S1(this.tops||[],e.tops||[])&&S1(this.bottoms||[],e.bottoms||[])&&S1(this.lefts||[],e.lefts||[])&&S1(this.rights||[],e.rights||[])}}function S1(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class SU{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class w2e extends SU{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class R2e extends SU{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Sg extends pr{constructor(){super(...arguments),this.uid=vg()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!oa(e,".fc-event-mirror")}isValidDateDownEl(e){return!oa(e,".fc-event:not(.fc-bg-event)")&&!oa(e,".fc-more-link")&&!oa(e,"a[data-navlink]")&&!oa(e,".fc-popover")}}class D2e{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:aK(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,s=t.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(gO(r,t.level,t.levelCoord),gO(i,t.level,[e])):gO(i[t.level],t.lateral,e),this.stackCnts[Fx(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,a=t.length,o=0,l=-1,c=-1,d=null,h=0;for(let b=0;b<a;b+=1){const A=t[b];if(!r&&A>=o+this.getEntryThickness(e))break;let _=i[b],x,T=KV(_,e.span.start,$V),C=T[0]+T[1];for(;(x=_[C])&&x.span.start<e.span.end;){let M=A+this.getEntryThickness(x);M>o&&(o=M,d=x,l=b,c=C),M===o&&(h=Math.max(h,s[Fx(x)]+1)),C+=1}}let m=0;if(d)for(m=l+1;m<a&&t[m]<o;)m+=1;let v=-1;return m<a&&t[m]===o&&(v=KV(i[m],e.span.end,$V)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:h,levelCoord:o,level:m,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let a=e[s],o=t[s];for(let l of a)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return r}}function $V(n){return n.span.end}function Fx(n){return n.index+":"+n.span.start}function aK(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function gO(n,e,t){n.splice(e,0,t)}function KV(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),a=t(n[s]);if(e<a)r=s;else if(e>a)i=s+1;else return[s,1]}return[i,0]}class I2e{constructor(e,t){this.emitter=new VR}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const AU={};function O2e(n,e){return!n||e>10?As({weekday:"short"}):e>1?As({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):As({weekday:"long"})}const oK="fc-col-header-cell";function lK(n){return n.text}class P2e extends pr{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:s}=this,{date:a,dateProfile:o}=s,l=iK(a,s.todayRange,null,o),c=[oK].concat(_U(l,i)),d=e.format(a,s.dayHeaderFormat),h=!l.isDisabled&&s.colCnt>1?IN(this.context,a):{},m=e.toDate(a);e.namedTimeZoneImpl&&(m=jh(m,36e5));let v=Object.assign(Object.assign(Object.assign({date:m,view:r},s.extraRenderProps),{text:d}),l);return Ke(ef,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:aU(a)},s.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:lK,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>Ke("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&Ke(b,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const N2e=As({weekday:"long"});class B2e extends pr{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:s}=this.context,a=Ms(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(a,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:a},o),{view:r}),e.extraRenderProps),{text:l});return Ke(ef,{elTag:"th",elClasses:[oK,..._U(o,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:lK,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},d=>Ke("div",{className:"fc-scrollgrid-sync-inner"},Ke(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(a,N2e)}})))}}class L2e extends pr{constructor(){super(...arguments),this.createDayHeaderFormatter=ai(U2e)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Ke(jR,{unit:"day"},(o,l)=>Ke("tr",{role:"row"},s&&s("day"),t.map(c=>r?Ke(P2e,{key:c.toISOString(),date:c,dateProfile:i,todayRange:l,colCnt:t.length,dayHeaderFormat:a}):Ke(B2e,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:a}))))}}function U2e(n,e,t){return n||O2e(e,t)}class k2e{constructor(e,t){let i=e.start,{end:r}=e,s=[],a=[],o=-1;for(;i<r;)t.isHiddenDay(i)?s.push(o+.5):(o+=1,s.push(o),a.push(i)),i=Ms(i,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Ms(e.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:t===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(Q0(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class F2e{constructor(e,t){let{dates:i}=e,r,s,a;if(t){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);a=Math.ceil(i.length/r)}else a=1,r=i.length;this.rowCnt=a,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:a}=i,o=s;for(;o<=a;){let l=Math.floor(o/t),c=Math.min((l+1)*t,a+1);r.push({row:l,firstCol:o%t,lastCol:(c-1)%t,isStart:i.isStart&&o===s,isEnd:i.isEnd&&c-1===a}),o=c}}return r}}class H2e{constructor(){this.sliceBusinessHours=ai(this._sliceBusinessHours),this.sliceDateSelection=ai(this._sliceDateSpan),this.sliceEventStore=ai(this._sliceEventStore),this.sliceEventDrag=ai(this._sliceInteraction),this.sliceEventResize=ai(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...s){let{eventUiBases:a}=e,o=this.sliceEventStore(e.eventStore,a,t,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,a,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...s),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,i,...s),eventResize:this.sliceEventResize(e.eventResize,a,t,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...s){return this._sliceDateSpan({range:{start:e,end:jh(e,1)},allDay:!1},t,i,{},r,...s)}_sliceBusinessHours(e,t,i,r,...s){return e?this._sliceEventStore(ug(e,A1(t,!!i),r),{},t,i,...s).bg:[]}_sliceEventStore(e,t,i,r,...s){if(e){let a=YV(e,t,A1(i,!!r),r);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...s){if(!e)return null;let a=YV(e.mutatedEvents,t,A1(i,!!r),r);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,s,...a){if(!e)return[];let o=A1(t,!!i),l=m0(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=o2e(e,r,s),d=this.sliceRange(e.range,...a);for(let h of d)h.eventRange=c;return d}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Ms(i.start,1)});let r=this.sliceRange(i,...t);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function A1(n,e){let t=n.activeRange;return e?t:{start:jh(t.start,n.slotMinTime.milliseconds),end:jh(t.end,n.slotMaxTime.milliseconds-864e5)}}function cK(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!zR(e.validRange,i[r].range))return!1;return uK({eventDrag:n},t)}function z2e(n,e,t){return zR(e.validRange,n.range)?uK({dateSelection:n},t):!1}function uK(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||G2e)(i,e)}function G2e(n,e,t={},i){return!(n.eventDrag&&!V2e(n,e,t,i)||n.dateSelection&&!j2e(n,e,t,i))}function V2e(n,e,t,i){let r=e.getCurrentData(),s=n.eventDrag,a=s.mutatedEvents,o=a.defs,l=a.instances,c=$M(o,s.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=bg(c,i));let d=kIe(n.eventStore,s.affectedEvents.instances),h=d.defs,m=d.instances,v=$M(h,n.eventUiBases);for(let b in l){let A=l[b],_=A.range,x=c[A.defId],T=o[A.defId];if(!dK(x.constraints,_,d,n.businessHours,e))return!1;let{eventOverlap:C}=e.options,M=typeof C=="function"?C:null;for(let R in m){let B=m[R];if(fU(_,B.range)&&(v[B.defId].overlap===!1&&s.isEvent||x.overlap===!1||M&&!M(new nr(e,h[B.defId],B),new nr(e,T,A))))return!1}let O=r.eventStore;for(let R of x.allows){let B=Object.assign(Object.assign({},t),{range:A.range,allDay:T.allDay}),N=O.defs[T.defId],P=O.instances[b],I;if(N?I=new nr(e,N,P):I=new nr(e,T),!R(yU(B,e),I))return!1}}return!0}function j2e(n,e,t,i){let r=n.eventStore,s=r.defs,a=r.instances,o=n.dateSelection,l=o.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!dK(c.constraints,l,r,n.businessHours,e))return!1;let{selectOverlap:d}=e.options,h=typeof d=="function"?d:null;for(let m in a){let v=a[m];if(fU(l,v.range)&&(c.overlap===!1||h&&!h(new nr(e,s[v.defId],v),null)))return!1}for(let m of c.allows){let v=Object.assign(Object.assign({},t),o);if(!m(yU(v,e),null))return!1}return!0}function dK(n,e,t,i,r){for(let s of n)if(!Y2e(W2e(s,e,t,i,r),e))return!1;return!0}function W2e(n,e,t,i,r){return n==="businessHours"?yO(ug(i,e,r)):typeof n=="string"?yO(GR(t,s=>s.groupId===n)):typeof n=="object"&&n?yO(ug(n,e,r)):[]}function yO(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function Y2e(n,e){for(let t of n)if(zR(t,e))return!0;return!1}const E1=/^(visible|hidden)$/;class X2e extends pr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Bu(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,s=["fc-scroller"];return t&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),Ke("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(E1.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(E1.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return E1.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return E1.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Bm{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:s}=this,a=!1,o=!1;t!==null?(a=i in s,s[i]=t,r[i]=(r[i]||0)+1,o=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(i)),o&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return nIe(this.currentMap,e,t,i)}getAll(){return uU(this.currentMap)}}function q2e(n){let e=tDe(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,mDe(i));return Math.ceil(t)}function fK(n,e){return n.liquid&&e.liquid}function $2e(n,e){return e.maxHeight!=null||fK(n,e)}function K2e(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):Ke("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Ke(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function J2e(n,e){return Vh(n,e,wc)}function Q2e(n,e){let t=[];for(let i of n){let r=i.span||1;for(let s=0;s<r;s+=1)t.push(Ke("col",{style:{width:i.width==="shrink"?Z2e(e):i.width||"",minWidth:i.minWidth||""}}))}return Ke("colgroup",{},...t)}function Z2e(n){return n??4}function eOe(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function tOe(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function nOe(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function iOe(n){return Ke("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function JV(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function rOe(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class hK extends pr{constructor(){super(...arguments),this.processCols=ai(e=>e,J2e),this.renderMicroColGroup=ai(Q2e),this.scrollerRefs=new Bm,this.scrollerElRefs=new Bm(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,t.shrinkWidth),o=tOe(e.liquid,i);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=r.length,c=0,d,h=[],m=[],v=[];for(;c<l&&(d=r[c]).type==="header";)h.push(this.renderSection(d,a,!0)),c+=1;for(;c<l&&(d=r[c]).type==="body";)m.push(this.renderSection(d,a,!1)),c+=1;for(;c<l&&(d=r[c]).type==="footer";)v.push(this.renderSection(d,a,!0)),c+=1;let b=!tK();const A={role:"rowgroup"};return Ke("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!b&&h.length)&&Ke("thead",A,...h),!!(!b&&m.length)&&Ke("tbody",A,...m),!!(!b&&v.length)&&Ke("tfoot",A,...v),b&&Ke("tbody",A,...h,...m,...v))}renderSection(e,t,i){return"outerContent"in e?Ke(Cr,{key:e.key},e.outerContent):Ke("tr",{key:e.key,role:"presentation",className:nOe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,c=$2e(s,e),d=fK(s,e),h=s.liquid?a?"scroll":c?"auto":"hidden":"visible",m=e.key,v=K2e(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&o[m]!==void 0?o[m]:null,clientHeight:l[m]!==void 0?l[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Ke(r?"th":"td",{ref:i.elRef,role:"presentation"},Ke("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},Ke(X2e,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,t){let i=sOe(this.props.sections,t);i&&Bu(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return eOe(this.props.cols)?q2e(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=A2e(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,s={},a={};for(let o in t.currentMap){let l=t.currentMap[o];if(l&&l.needsYScrolling()){r=!0;break}}for(let o of this.props.sections){let l=o.key,c=i.currentMap[l];if(c){let d=c.parentNode;s[l]=Math.floor(d.getBoundingClientRect().width-(r?e.y:0)),a[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:a}}}hK.addStateEquality({scrollerClientWidths:wc,scrollerClientHeights:wc});function sOe(n,e){for(let t of n)if(t.key===e)return t;return null}class EU extends pr{constructor(){super(...arguments),this.buildPublicEvent=ai((e,t,i)=>new nr(e,t,i)),this.handleEl=e=>{this.el=e,Bu(this.props.elRef,e),e&&XV(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:s}=r,{ui:a}=s,o={event:this.buildPublicEvent(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&KIe(r,t),isStartResizable:!e.disableResizing&&JIe(r,t),isEndResizable:!e.disableResizing&&QIe(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Ke(ef,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...ZIe(o),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&XV(this.el,this.props.seg)}}class pK extends pr{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:s}=r.eventRange,a=i.eventTimeFormat||e.defaultTimeFormat,o=J$(r,a,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Ke(EU,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:Q$(r,t),defaultGenerator:aOe,timeText:o}),(l,c)=>Ke(Cr,null,Ke(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&Ke("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&Ke("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}pK.addPropsEquality({seg:wc});function aOe(n){return Ke("div",{className:"fc-event-main-frame"},n.timeText&&Ke("div",{className:"fc-event-time"},n.timeText),Ke("div",{className:"fc-event-title-container"},Ke("div",{className:"fc-event-title fc-sticky"},n.event.title||Ke(Cr,null,""))))}const oOe=As({day:"numeric"});class mK extends pr{constructor(){super(...arguments),this.refineRenderProps=oT(lOe)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return Ke(ef,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":aU(e.date)}),elClasses:[..._U(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function gK(n){return!!(n.dayCellContent||MN("dayCellContent",n))}function lOe(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,s=iK(e,n.todayRange,null,i),a=n.showDayNumber?t.format(e,r?n.monthStartFormat:oOe):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},s),{isMonthStart:r,dayNumberText:a}),n.extraRenderProps)}class cOe extends pr{render(){let{props:e}=this,{seg:t}=e;return Ke(EU,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:uOe,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function uOe(n){let{title:e}=n.event;return e&&Ke("div",{className:"fc-event-title"},n.event.title)}function dOe(n){return Ke("div",{className:`fc-${n}`})}const fOe=n=>Ke(_g.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,s=i.weekNumberFormat||n.defaultFormat,a=t.computeWeekNumber(r),o=t.format(r,s),l={num:a,text:o,date:r};return Ke(ef,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:hOe,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},n.children)});function hOe(n){return n.text}const vO=10;class pOe extends pr{constructor(){super(...arguments),this.state={titleId:FR()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Bu(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=M$(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return zRe(Ke("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Ke("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Ke("span",{className:"fc-popover-title",id:r.titleId},i.title),Ke("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Ke("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,s=M2e(t);if(s){let a=r.getBoundingClientRect(),o=i?oa(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-a.width:s.left;o=Math.max(o,vO),l=Math.min(l,document.documentElement.clientWidth-vO-a.width),l=Math.max(l,vO);let c=r.offsetParent.getBoundingClientRect();Bx(r,{top:o-c.top,left:l-c.left})}}}class mOe extends Sg{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:a}=i,o=t.format(r,e.dayPopoverFormat);return Ke(mK,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:s},(l,c,d)=>Ke(pOe,{elRef:d.ref,id:i.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},gK(e)&&Ke(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:s,props:a}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class gOe extends pr{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:FR()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Bu(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,s=QV(t).start;function a(o){let{def:l,instance:c,range:d}=o.eventRange;return{event:new nr(i,l,c),start:i.dateEnv.toDate(d.start),end:i.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!t.allDayDate,allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Ke(_g.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:a}=i,{moreLinkText:o}=s,{moreCnt:l}=e,c=QV(e),d=typeof o=="function"?o.call(a,l):`+${l} ${o}`,h=Lx(s.moreLinkHint,[l],d),m={num:l,shortText:`+${l}`,text:d,view:r};return Ke(Cr,null,!!e.moreCnt&&Ke(ef,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),R$(this.handleClick)),{title:h,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||yOe,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Ke(mOe,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=oa(this.linkEl,".fc-view-harness"))}}function yOe(n){return n.text}function QV(n){if(n.allDayDate)return{start:n.allDayDate,end:Ms(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:vOe(e),end:_Oe(e)}}function vOe(n){return n.reduce(bOe).eventRange.range.start}function bOe(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function _Oe(n){return n.reduce(xOe).eventRange.range.end}function xOe(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class SOe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class AOe extends SOe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const EOe=[],yK={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},vK=Object.assign(Object.assign({},yK),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function COe(n){let e=n.length>0?n[0].code:"en",t=EOe.concat(n),i={en:vK};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function bK(n,e){return typeof n=="object"&&!Array.isArray(n)?_K(n.code,[n.code],n):TOe(n,e)}function TOe(n,e){let t=[].concat(n||[]),i=MOe(t,e)||vK;return _K(n,t,i)}function MOe(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function _K(n,e,t){let i=cU([yK,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Qh(n){return{id:vg(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function wOe(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let a of s){const o=a.name,l=t[o];l===void 0?(t[o]=a.id,r(a.deps),i=DOe(i,a)):l!==a.id&&console.warn(`Duplicate plugin '${o}'`)}}return n&&r(n),r(e),i}function ROe(){let n=[],e=[],t;return(i,r)=>((!t||!Vh(i,n)||!Vh(r,e))&&(t=wOe(i,r)),n=i,e=r,t)}function DOe(n,e){return{premiumReleaseDate:IOe(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function IOe(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Zh extends _A{}Zh.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Zh.prototype.baseIconClass="fc-icon";Zh.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Zh.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Zh.prototype.iconOverrideOption="buttonIcons";Zh.prototype.iconOverrideCustomButtonOption="icon";Zh.prototype.iconOverridePrefix="fc-icon-";function OOe(n,e){let t={},i;for(i in n)ON(i,t,n,e);for(i in e)ON(i,t,n,e);return t}function ON(n,e,t,i){if(e[n])return e[n];let r=POe(n,e,t,i);return r&&(e[n]=r),r}function POe(n,e,t,i){let r=t[n],s=i[n],a=d=>r&&r[d]!==null?r[d]:s&&s[d]!==null?s[d]:null,o=a("component"),l=a("superType"),c=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");c=ON(l,e,t,i)}return!o&&c&&(o=c.component),o?{type:n,component:o,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function ZV(n){return bg(n,NOe)}function NOe(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=e6(e):t&&!(t.prototype instanceof pr)&&(t=e6(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function e6(n){return e=>Ke(_g.Consumer,null,t=>Ke(ef,{elTag:"div",elClasses:U$(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function BOe(n,e,t,i){let r=ZV(n),s=ZV(e.views),a=OOe(r,s);return bg(a,o=>LOe(o,s,e,t,i))}function LOe(n,e,t,i,r){let s=n.overrides.duration||n.defaults.duration||i.duration||t.duration,a=null,o="",l="",c={};if(s&&(a=UOe(s),a)){let m=TN(a);o=m.unit,m.value===1&&(l=o,c=e[o]?e[o].rawOptions:{})}let d=m=>{let v=m.buttonText||{},b=n.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[n.type]!=null?v[n.type]:v[l]!=null?v[l]:null},h=m=>{let v=m.buttonHints||{},b=n.defaults.buttonTextKey;return b!=null&&v[b]!=null?v[b]:v[n.type]!=null?v[n.type]:v[l]!=null?v[l]:null};return{type:n.type,component:n.component,duration:a,durationUnit:o,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:d(i)||d(t)||n.overrides.buttonText,buttonTextDefault:d(r)||n.defaults.buttonText||d(Ux)||n.type,buttonTitleOverride:h(i)||h(t)||n.overrides.buttonHint,buttonTitleDefault:h(r)||n.defaults.buttonHint||h(Ux)}}let t6={};function UOe(n){let e=JSON.stringify(n),t=t6[e];return t===void 0&&(t=hi(n),t6[e]=t),t}function kOe(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function FOe(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function HOe(n,e,t){let i=n.initialDate;return i!=null?e.createMarker(i):t.getDateMarker()}function zOe(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function GOe(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function VOe(n,e,t){let i=e?e.activeRange:null;return SK({},KOe(n,t),i,t)}function jOe(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return SK(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return YOe(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?AK(n,r,i):n;case"FETCH_EVENT_SOURCES":return CU(n,e.sourceIds?O$(e.sourceIds):EK(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return $Oe(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function WOe(n,e,t){let i=e?e.activeRange:null;return CU(n,EK(n,t),i,!0,t)}function xK(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function SK(n,e,t,i){let r={};for(let s of e)r[s.sourceId]=s;return t&&(r=AK(r,t,i)),Object.assign(Object.assign({},n),r)}function YOe(n,e){return cg(n,t=>t.sourceId!==e)}function AK(n,e,t){return CU(n,cg(n,i=>XOe(i,e,t)),e,!1,t)}function XOe(n,e,t){return CK(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function CU(n,e,t,i,r){let s={};for(let a in n){let o=n[a];e[a]?s[a]=qOe(o,t,i,r):s[a]=o}return s}function qOe(n,e,t,i){let{options:r,calendarApi:s}=i,a=i.pluginHooks.eventSourceDefs[n.sourceDefId],o=vg();return a.fetch({eventSource:n,range:e,isRefetch:t,context:i},l=>{let{rawEvents:c}=l;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(s,c,l.response)||c),n.success&&(c=n.success.call(s,c,l.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:o,fetchRange:e,rawEvents:c})},l=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,l),c=!0),n.failure&&(n.failure(l),c=!0),c||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:o})}function $Oe(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function EK(n,e){return cg(n,t=>CK(t,e))}function KOe(n,e){let t=W$(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let s of i){let a=j$(s,e,t);a&&r.push(a)}return r}function CK(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function JOe(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function QOe(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function ZOe(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function ePe(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function tPe(n,e,t,i,r){let s=n.headerToolbar?n6(n.headerToolbar,n,e,t,i,r):null,a=n.footerToolbar?n6(n.footerToolbar,n,e,t,i,r):null;return{header:s,footer:a}}function n6(n,e,t,i,r,s){let a={},o=[],l=!1;for(let c in n){let d=n[c],h=nPe(d,e,t,i,r,s);a[c]=h.widgets,o.push(...h.viewsWithButtons),l=l||h.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:l}}function nPe(n,e,t,i,r,s){let a=e.direction==="rtl",o=e.customButtons||{},l=t.buttonText||{},c=e.buttonText||{},d=t.buttonHints||{},h=e.buttonHints||{},m=n?n.split(" "):[],v=[],b=!1;return{widgets:m.map(_=>_.split(",").map(x=>{if(x==="title")return b=!0,{buttonName:x};let T,C,M,O,R,B;if(T=o[x])M=N=>{T.click&&T.click.call(N.target,N,N.target)},(O=i.getCustomButtonIconClass(T))||(O=i.getIconClass(x,a))||(R=T.text),B=T.hint||T.text;else if(C=r[x]){v.push(x),M=()=>{s.changeView(x)},(R=C.buttonTextOverride)||(O=i.getIconClass(x,a))||(R=C.buttonTextDefault);let N=C.buttonTextOverride||C.buttonTextDefault;B=Lx(C.buttonTitleOverride||C.buttonTitleDefault||e.viewHint,[N,x],N)}else if(s[x])if(M=()=>{s[x]()},(R=l[x])||(O=i.getIconClass(x,a))||(R=c[x]),x==="prevYear"||x==="nextYear"){let N=x==="prevYear"?"prev":"next";B=Lx(d[N]||h[N],[c.year||"year","year"],c[x])}else B=N=>Lx(d[x]||h[x],[c[N]||N,N],c[x]);return{buttonName:x,buttonClick:M,buttonIcon:O,buttonText:R,buttonHint:B}})),viewsWithButtons:v,hasTitle:b}}class iPe{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let rPe={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const sPe=Qh({name:"array-event-source",eventSourceDefs:[rPe]});let aPe={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;l2e(r.bind(null,Z$(n.range,i)),s=>e({rawEvents:s}),t)}};const oPe=Qh({name:"func-event-source",eventSourceDefs:[aPe]}),lPe={method:String,extraParams:qe,startParam:String,endParam:String,timeZoneParam:String};let cPe={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=dPe(i,n.range,n.context);c2e(i.method,i.url,r).then(([s,a])=>{e({rawEvents:s,response:a})},t)}};const uPe=Qh({name:"json-event-source",eventSourceRefiners:lPe,eventSourceDefs:[cPe]});function dPe(n,e,t){let{dateEnv:i,options:r}=t,s,a,o,l,c={};return s=n.startParam,s==null&&(s=r.startParam),a=n.endParam,a==null&&(a=r.endParam),o=n.timeZoneParam,o==null&&(o=r.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(c,l),c[s]=i.formatIso(e.start),c[a]=i.formatIso(e.end),i.timeZone!=="local"&&(c[o]=i.timeZone),c}const fPe={daysOfWeek:qe,startTime:hi,endTime:hi,duration:hi,startRecur:qe,endRecur:qe};let hPe={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=bDe(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=m0(e,{start:n.startRecur,end:n.endRecur});return i?mPe(n.daysOfWeek,n.startTime,n.dateEnv,t,i):[]}};const pPe=Qh({name:"simple-recurring-event",recurringTypes:[hPe],eventRefiners:fPe});function mPe(n,e,t,i,r){let s=n?O$(n):null,a=tr(r.start),o=r.end,l=[];for(e&&(e.milliseconds<0?o=Ms(o,1):e.milliseconds>=1e3*60*60*24&&(a=Ms(a,-1)));a<o;){let c;(!s||s[a.getUTCDay()])&&(e?c=i.add(a,e):c=a,l.push(i.createMarker(t.toDate(c)))),a=Ms(a,1)}return l}const gPe=Qh({name:"change-handler",optionChangeHandlers:{events(n,e){i6([n],e)},eventSources:i6}});function i6(n,e){let t=uU(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let s=!1;for(let a=0;a<t.length;a+=1)if(t[a]._raw===r){t.splice(a,1),s=!0;break}s||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function yPe(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Z$(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function vPe(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Wm(n,e))}const bPe=[sPe,oPe,uPe,pPe,gPe,Qh({name:"misc",isLoadingFuncs:[n=>xK(n.eventSources)],propSetHandlers:{dateProfile:yPe,eventStore:vPe}})];class _Pe{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new nU(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function xPe(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,As(e.titleFormat||SPe(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function SPe(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=GM(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class r6{constructor(){this.resetListeners=new Set}handleInput(e,t){const i=this.dateEnv;if(e!==i&&(typeof t=="function"?this.nowFn=t:i||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class APe{constructor(e){this.computeCurrentViewData=ai(this._computeCurrentViewData),this.organizeRawLocales=ai(COe),this.buildLocale=ai(bK),this.buildPluginHooks=ROe(),this.buildDateEnv=ai(EPe),this.buildTheme=ai(CPe),this.parseToolbars=ai(tPe),this.buildViewSpecs=ai(BOe),this.buildDateProfileGenerator=oT(TPe),this.buildViewApi=ai(MPe),this.buildViewUiProps=oT(DPe),this.buildEventUiBySource=ai(wPe,wc),this.buildEventUiBases=ai(RPe),this.parseContextBusinessHours=oT(IPe),this.buildTitle=ai(xPe),this.nowManager=new r6,this.emitter=new VR,this.actionRunner=new _Pe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new r6;let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=HOe(i.calendarOptions,i.dateEnv,this.nowManager),l=s.dateProfileGenerator.build(o);Dh(l.activeRange,o)||(o=l.currentRange.start);for(let m of i.pluginHooks.contextInit)m(a);let c=VOe(i.calendarOptions,l,a),d={dynamicOptionOverrides:t,currentViewType:r,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(a),eventSources:c,eventUiBases:{},eventStore:Tc(),renderableEventStore:Tc(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},h=Object.assign(Object.assign({},a),d);for(let m of i.pluginHooks.reducers)Object.assign(d,m(null,null,h));bO(d,a)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,s=zOe(i.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),o=kOe(i.currentViewType,e),l=this.computeCurrentViewData(o,a,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:h}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(h=l.dateProfileGenerator.build(d)),d=FOe(d,e),h=GOe(h,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Dh(h.currentRange,d))&&(d=h.currentRange.start);let m=jOe(i.eventSources,e,h,c),v=NIe(i.eventStore,e,m,h,c),A=xK(m)&&!l.options.progressiveEventRendering&&i.renderableEventStore||v,{eventUiSingleBase:_,selectionConfig:x}=this.buildViewUiProps(c),T=this.buildEventUiBySource(m),C=this.buildEventUiBases(A.defs,_,T),M={dynamicOptionOverrides:s,currentViewType:o,currentDate:d,dateProfile:h,eventSources:m,eventStore:v,renderableEventStore:A,selectionConfig:x,eventUiBases:C,businessHours:this.parseContextBusinessHours(c),dateSelection:JOe(i.dateSelection,e),eventSelection:QOe(i.eventSelection,e),eventDrag:ZOe(i.eventDrag,e),eventResize:ePe(i.eventResize,e)},O=Object.assign(Object.assign({},c),M);for(let N of a.pluginHooks.reducers)Object.assign(M,N(i,e,O));let R=bO(i,c),B=bO(M,c);!R&&B?r.trigger("loading",!0):R&&!B&&r.trigger("loading",!1),this.state=M,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),o=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=a.eventSources=WOe(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=jV(a.eventStore,i.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=jV(a.renderableEventStore,i.dateEnv,a.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==c[d])&&o[d](c[d],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:a,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,t);s6(l);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,o,r.defaultRangeSeparator),d=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),h=this.buildTheme(r,s),m=this.parseToolbars(r,this.stableOptionOverrides,h,d,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:c,viewSpecs:d,theme:h,toolbarConfig:m,localeDefaults:a,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=dO([Ux,e,t]),s=this.organizeRawLocales(i),a=s.map,o=this.buildLocale(r||s.defaultCode,a).options,l=this.buildPluginHooks(e.plugins||[],bPe),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},UV),kV),FV),l.listenerRefiners),l.optionRefiners),d={},h=dO([Ux,o,e,t]),m={},v=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,A=!1;for(let _ in h)this.optionsForRefining.indexOf(_)===-1&&(h[_]===v[_]||bm[_]&&_ in v&&bm[_](v[_],h[_]))?m[_]=b[_]:c[_]?(m[_]=c[_](h[_]),A=!0):d[_]=v[_];return A&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:o,extra:d}}_computeCurrentViewData(e,t,i,r){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:o}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,i,r);s6(o),this.nowManager.handleInput(t.dateEnv,a.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,t,i,r,s){let a=dO([Ux,e.optionDefaults,i,r,e.optionOverrides,s]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},UV),kV),FV),JDe),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,h=!1,m={};for(let v in a)a[v]===c[v]||bm[v]&&bm[v](a[v],c[v])?l[v]=d[v]:(a[v]===this.currentCalendarOptionsInput[v]||bm[v]&&bm[v](a[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(l[v]=this.currentCalendarOptionsRefined[v]):o[v]?l[v]=o[v](a[v]):m[v]=a[v],h=!0);return h&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function EPe(n,e,t,i,r,s,a,o){let l=bK(e||a.defaultCode,a.map);return new lIe({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:o})}function CPe(n,e){let t=e.themeClasses[n.themeSystem]||Zh;return new t(n)}function TPe(n){let e=n.dateProfileGeneratorClass||H$;return new e(n)}function MPe(n,e,t){return new iPe(n,e,t)}function wPe(n){return bg(n,e=>e.ui)}function RPe(n,e,t){let i={"":e};for(let r in n){let s=n[r];s.sourceId&&t[s.sourceId]&&(i[r]=t[s.sourceId])}return i}function DPe(n){let{options:e}=n;return{eventUiSingleBase:qM({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:qM({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function bO(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function IPe(n){return VIe(n.options.businessHours,n)}function s6(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class OPe extends pr{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return Ke("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],s=!0;for(let a of e){let{buttonName:o,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:h}=a;if(o==="title")s=!1,r.push(Ke("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let m=o===t.activeButton,v=!t.isTodayEnabled&&o==="today"||!t.isPrevEnabled&&o==="prev"||!t.isNextEnabled&&o==="next",b=[`fc-${o}-button`,i.getClass("button")];m&&b.push(i.getClass("buttonActive")),r.push(Ke("button",{type:"button",title:typeof h=="function"?h(t.navUnit):h,disabled:v,"aria-pressed":m,className:b.join(" "),onClick:l},c||(d?Ke("span",{className:d,role:"img"}):"")))}}if(r.length>1){let a=s&&i.getClass("buttonGroup")||"";return Ke("div",{className:a},...r)}return r[0]}}class a6 extends pr{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,s,a=e.sectionWidgets,o=a.center;return a.left?(i=!0,r=a.left):r=a.start,a.right?(i=!0,s=a.right):s=a.end,Ke("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",o||[]),this.renderSection("end",s||[]))}renderSection(e,t){let{props:i}=this;return Ke(OPe,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class PPe extends pr{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Bu(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return i?t.availableWidth!==null?s=t.availableWidth/i:a=`${1/i*100}%`:s=e.height||"",Ke("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class NPe extends Z0{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:s}=r,a=g0(i);if(a&&r.isValidSegDownEl(t.target)){let o=oa(t.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new nr(r.context,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:s.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=w$(e.el,"click",".fc-event",this.handleSegClick)}}class BPe extends Z0{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{g0(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=rDe(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:s}=r,a=g0(i);(!t||r.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:i,event:new nr(s,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:s.viewApi})}}class LPe extends xg{constructor(){super(...arguments),this.buildViewContext=ai(dIe),this.buildViewPropTransformers=ai(kPe),this.buildToolbarProps=ai(UPe),this.headerRef=Yd(),this.footerRef=Yd(),this.interactionsStore={},this.state={viewLabelId:FR()},this.registerInteractiveComponent=(e,t)=>{let i=f2e(e,t),a=[NPe,BPe].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(i));this.interactionsStore[e.uid]=a,DN[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete DN[e.uid]},this.resizeRunner=new nU(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=!1,s="",a;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:a=Math.max(i.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Ke(_g.Provider,{value:o},Ke(jR,{unit:"day"},c=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return Ke(Cr,null,t.header&&Ke(a6,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:l},d)),Ke(PPe,{liquid:r,height:s,aspectRatio:a,labeledById:l},this.renderView(e),this.buildAppendContent()),t.footer&&Ke(a6,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return Ke(Cr,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let o of s)Object.assign(r,o.transform(r,e));let a=i.component;return Ke(a,Object.assign({},r))}}function UPe(n,e,t,i,r,s){let a=t.build(r,void 0,!1),o=t.buildPrev(e,i,!1),l=t.buildNext(e,i,!1);return{title:s,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:a.isValid&&!Dh(e.currentRange,r),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function kPe(n){return n.map(e=>new e)}class FPe extends p2e{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;YM(()=>{TS(Ke(d2e,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,a,o)=>(this.setClassNames(r),this.setHeight(s),Ke(L$.Provider,{value:this.customContentRenderId},Ke(LPe,Object.assign({isHeightAuto:a,forPrint:o},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,TS(null,this.el),this.setClassNames([]),this.setHeight(""))},$Re(e),this.el=e,this.renderRunner=new nU(this.handleRenderRequest),new APe({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){YM(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Vh(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){T$(this.el,"height",e)}}const HPe=parseInt(String(to.version).split(".")[0]),zPe=HPe<18;class TK extends G.Component{constructor(){super(...arguments),this.elRef=G.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(to.createElement(GPe,{key:t.id,customRendering:t}));return to.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new AOe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new FPe(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{jx.flushSync(()=>{})});let t;e.subscribe(i=>{const r=Date.now(),s=!t;(zPe||s||this.isUpdating||this.isUnmounting||r-t<100?MK:jx.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}TK.act=MK;class GPe extends G.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return jx.createPortal(i,e.containerEl)}}function MK(n){n()}class VPe extends Sg{constructor(){super(...arguments),this.headerElRef=Yd()}renderSimpleLayout(e,t){let{props:i,context:r}=this,s=[],a=JV(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Ke(HV,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Ke(hK,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:o}=this,l=!a.forPrint&&JV(o.options),c=!a.forPrint&&rOe(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:iOe}]}),Ke(HV,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},Ke(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:d}))}}function cT(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function C1(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function o6(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const wK=As({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function RK(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class DK extends pr{render(){let{props:e}=this;return Ke(pK,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:wK,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class IK extends pr{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,s=i.eventTimeFormat||wK,a=J$(r,s,t,!0,e.defaultDisplayEventEnd);return Ke(EU,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Q$(e.seg,t),defaultGenerator:jPe,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function jPe(n){return Ke(Cr,null,Ke("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Ke("div",{className:"fc-event-time"},n.timeText),Ke("div",{className:"fc-event-title"},n.event.title||Ke(Cr,null,"")))}class WPe extends pr{constructor(){super(...arguments),this.compileSegs=ai(YPe)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return Ke(gOe,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Ke(Cr,null,t.map(s=>{let a=s.eventRange.instance.instanceId;return Ke("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:r[a]?"hidden":""}},RK(s)?Ke(IK,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},kx(s,e.todayRange))):Ke(DK,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},kx(s,e.todayRange))))}))}})}}function YPe(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const XPe=As({week:"narrow"});class qPe extends Sg{constructor(){super(...arguments),this.rootElRef=Yd(),this.state={dayNumberId:FR()},this.handleRootEl=e=>{Bu(this.rootElRef,e),Bu(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:s,dateEnv:a}=e,{date:o,dateProfile:l}=t;const c=t.showDayNumber&&KPe(o,l.currentRange,a);return Ke(mK,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:$Pe,date:o,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(d,h)=>Ke("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Ke(fOe,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:IN(e,o,"week"),date:o,defaultFormat:XPe}),!h.isDisabled&&(t.showDayNumber||gK(s)||t.forceDayTop)?Ke("div",{className:"fc-daygrid-day-top"},Ke(d,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},IN(e,o)),{id:i.dayNumberId})})):t.showDayNumber?Ke("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Ke("a",{className:"fc-daygrid-day-number"},"")):void 0,Ke("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Ke("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Ke(WPe,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Ke("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function $Pe(n){return n.dayNumberText||Ke(Cr,null,"")}function KPe(n,e,t){const{start:i,end:r}=e,s=jh(r,-1),a=t.getYear(i),o=t.getMonth(i),l=t.getYear(s),c=t.getMonth(s);return!(a===l&&o===c)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function OK(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function PK(n){return OK(n)+":"+n.lastCol}function JPe(n,e,t,i,r,s,a){let o=new eNe(x=>{let T=n[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[T]||1});o.allowReslicing=!0,o.strictOrder=i,e===!0||t===!0?(o.maxCoord=s,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let l=[],c=[];for(let x=0;x<n.length;x+=1){let T=n[x],C=PK(T);r[C]!=null?l.push({index:x,span:{start:T.firstCol,end:T.lastCol+1}}):c.push(T)}let d=o.addSegs(l),h=o.toRects(),{singleColPlacements:m,multiColPlacements:v,leftoverMargins:b}=QPe(h,n,a),A=[],_=[];for(let x of c){v[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let T=x.firstCol;T<=x.lastCol;T+=1)m[T].push({seg:Bv(x,T,T+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)A.push(0);for(let x of d){let T=n[x.index],C=x.span;v[C.start].push({seg:Bv(T,C.start,C.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=C.start;M<C.end;M+=1)A[M]+=1,m[M].push({seg:Bv(T,M,M+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)_.push(b[x]);return{singleColPlacements:m,multiColPlacements:v,moreCnts:A,moreMarginTops:_}}function QPe(n,e,t){let i=ZPe(n,t.length),r=[],s=[],a=[];for(let o=0;o<t.length;o+=1){let l=i[o],c=[],d=0,h=0;for(let v of l){let b=e[v.index];c.push({seg:Bv(b,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-d}),d=v.levelCoord+v.thickness}let m=[];d=0,h=0;for(let v of l){let b=e[v.index],A=v.span.end-v.span.start>1,_=v.span.start===o;h+=v.levelCoord-d,d=v.levelCoord+v.thickness,A?(h+=v.thickness,_&&m.push({seg:Bv(b,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):_&&(m.push({seg:Bv(b,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:h}),h=0)}r.push(c),s.push(m),a.push(h)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:a}}function ZPe(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Bv(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,s=r.range,a=m0(s,{start:i[e].date,end:Ms(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:a},isStart:n.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:n.isEnd&&a.end.valueOf()===s.end.valueOf()})}class eNe extends D2e{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[Fx(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:a,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&a){const c=Fx(a);if(!s[c])if(this.allowReslicing){const d=Object.assign(Object.assign({},a),{span:aK(a.span,t.span)}),h=Fx(d);s[h]=!0,r[o][l]=d,i.push(d),this.splitEntry(a,t,i)}else s[c]=!0,i.push(a)}super.handleInvalidInsertion(e,t,i)}}class NK extends Sg{constructor(){super(...arguments),this.cellElRefs=new Bm,this.frameElRefs=new Bm,this.fgElRefs=new Bm,this.segHarnessRefs=new Bm,this.rootElRef=Yd(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,s=e.cells.length,a=C1(e.businessHourSegs,s),o=C1(e.bgEventSegs,s),l=C1(this.getHighlightSegs(),s),c=C1(this.getMirrorSegs(),s),{singleColPlacements:d,multiColPlacements:h,moreCnts:m,moreMarginTops:v}=JPe(qIe(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Ke("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((A,_)=>{let x=this.renderFgSegs(_,e.forPrint?d[_]:h[_],e.todayRange,b),T=this.renderFgSegs(_,tNe(c[_],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Ke(qPe,{key:A.key,elRef:this.cellElRefs.createRef(A.key),innerElRef:this.frameElRefs.createRef(A.key),dateProfile:e.dateProfile,date:A.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&_===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:A.extraRenderProps,extraDataAttrs:A.extraDataAttrs,extraClassNames:A.extraClassNames,extraDateSpan:A.extraDateSpan,moreCnt:m[_],moreMarginTop:v[_],singlePlacements:d[_],fgContentElRef:this.fgElRefs.createRef(A.key),fgContent:Ke(Cr,null,Ke(Cr,null,x),Ke(Cr,null,T)),bgContent:Ke(Cr,null,this.renderFillSegs(l[_],"highlight"),this.renderFillSegs(a[_],"non-business"),this.renderFillSegs(o[_],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!wc(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,s,a,o){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:d}=this.state,h=this.props.cells.length===1,m=s||a||o,v=[];if(d)for(let b of t){let{seg:A}=b,{instanceId:_}=A.eventRange.instance,x=b.isVisible&&!r[_],T=b.isAbsolute,C="",M="";T&&(l.isRtl?(M=0,C=d.lefts[A.lastCol]-d.lefts[A.firstCol]):(C=0,M=d.rights[A.firstCol]-d.rights[A.lastCol])),v.push(Ke("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:OK(A),ref:m?null:this.segHarnessRefs.createRef(PK(A)),style:{visibility:x?"":"hidden",marginTop:T?"":b.marginTop,top:T?b.absoluteTop:"",left:C,right:M}},RK(A)?Ke(IK,Object.assign({seg:A,isDragging:s,isSelected:_===c,defaultDisplayEventEnd:h},kx(A,i))):Ke(DK,Object.assign({seg:A,isDragging:s,isResizing:a,isDateSelecting:o,isSelected:_===c,defaultDisplayEventEnd:h},kx(A,i)))))}return v}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let o of e){let l=i?{right:0,left:s.lefts[o.lastCol]-s.lefts[o.firstCol]}:{left:0,right:s.rights[o.firstCol]-s.rights[o.lastCol]};a.push(Ke("div",{key:e2e(o.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?Ke(cOe,Object.assign({seg:o},kx(o,r))):dOe(t)))}return Ke(Cr,{},...a)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(c=>r.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,d=new KM(c,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(d))&&this.setState({framePositions:new KM(c,l,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}NK.addStateEquality({segHeights:wc});function tNe(n,e){if(!n.length)return[];let t=nNe(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function nNe(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class iNe extends Sg{constructor(){super(...arguments),this.splitBusinessHourSegs=ai(cT),this.splitBgEventSegs=ai(rNe),this.splitFgEventSegs=ai(cT),this.splitDateSelectionSegs=ai(cT),this.splitEventDrag=ai(o6),this.splitEventResize=ai(o6),this.rowRefs=new Bm}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitDateSelectionSegs(e.dateSelectionSegs,i),l=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),d=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Ke(jR,{unit:"day"},(h,m)=>Ke(Cr,null,e.cells.map((v,b)=>Ke(NK,{ref:this.rowRefs.createRef(b),key:v.length?v[0].date.toISOString():b,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:r[b],eventSelection:e.eventSelection,bgEventSegs:s[b],fgEventSegs:a[b],dateSelectionSegs:o[b],eventDrag:l[b],eventResize:c[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new KM(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new KM(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),a=r.topToIndex(t);if(a!=null&&s!=null){let o=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=Ms(i,1);return{start:i,end:r}}}function rNe(n,e){return cT(n.filter(sNe),e)}function sNe(n){return n.eventRange.def.allDay}class aNe extends Sg{constructor(){super(...arguments),this.elRef=Yd(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,s=i===!0||t===!0;s&&!r&&(s=!1,t=null,i=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Ke("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Ke("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Ke("tbody",{role:"presentation"},Ke(iNe,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=oNe(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function oNe(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${BDe(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${aU(e.currentDate)}"]`)),t}class lNe extends H2e{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class cNe extends Sg{constructor(){super(...arguments),this.slicer=new lNe,this.tableRef=Yd()}render(){let{props:e,context:t}=this;return Ke(aNe,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class uNe extends VPe{constructor(){super(...arguments),this.buildDayTableModel=ai(dNe),this.headerRef=Yd(),this.tableRef=Yd()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),s=e.dayHeaders&&Ke(L2e,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),a=o=>Ke(cNe,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function dNe(n,e){let t=new k2e(n.renderRange,e);return new F2e(t,/year|month|week/.test(n.currentRangeUnit))}class fNe extends H${buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:s}=this;return hNe({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function hNe(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,s;if(n.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=OV(s,1))),n.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(Ms(t.end,-1))),o=Math.ceil(ADe(a,r));r=OV(r,6-o)}return{start:i,end:r}}var pNe=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';A$(pNe);var mNe=Qh({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:uNe,dateProfileGeneratorClass:fNe},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});AU.touchMouseIgnoreWait=500;let PN=0,JM=0,NN=!1;class BK{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&gNe(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,yNe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new VR,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),vNe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),bNe()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||oa(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){NN=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?oa(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return PN||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(NN=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,s,a=0,o=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),t?(this.origPageX=r,this.origPageY=s):(a=r-this.origPageX,o=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:a,deltaY:o}}}function gNe(n){return n.button===0&&!n.ctrlKey}function yNe(){PN+=1,setTimeout(()=>{PN-=1},AU.touchMouseIgnoreWait)}function vNe(){JM+=1,JM===1&&window.addEventListener("touchmove",LK,{passive:!1})}function bNe(){JM-=1,JM||window.removeEventListener("touchmove",LK,{passive:!1})}function LK(n){NN&&n.preventDefault()}class _Ne{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Bx(i,{left:r.left,top:r.top}),sDe(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(iU(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Bx(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Bx(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class UK extends SU{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class kK extends UK{constructor(e,t){super(new w2e(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return T2e(this.scrollController.el)}}class xNe extends UK{constructor(e){super(new R2e,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const l6=typeof performance=="function"?performance.now:Date.now;class SNe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=l6();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,a=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(l6()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,a=s*s/(r*r)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*o);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let a of s){let o=a.clientRect,l=e-o.left,c=o.right-e,d=t-o.top,h=o.bottom-t;l>=0&&c>=0&&d>=0&&h>=0&&(d<=i&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"top",distance:d}),h<=i&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>h)&&(r={scrollCache:a,name:"bottom",distance:h}),l<=i&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:a,name:"left",distance:l}),c<=i&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:a,name:"right",distance:c}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new xNe(!1):new kK(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class xA extends I2e{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,aDe(document.body),lDe(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:o,deltaY:l}=r;a=o*o+l*l,a>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,oDe(document.body),cDe(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new BK(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new _Ne,this.autoScroller=new SNe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class ANe{constructor(e){this.el=e,this.origRect=xU(e),this.scrollCaches=sK(e).map(t=>new kK(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!ENe(r.getEventTarget())&&!m2e(i,r.clientRect))return!1;return!0}}function ENe(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class WR{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new VR}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,s;r instanceof HTMLElement&&(s=xU(r),i=g2e(i,s));let a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&s){let o=nK(s,a.rect);o&&(i=y2e(o))}this.coordAdjust=v2e(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!YR(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=bg(this.droppableStore,e=>(e.component.prepareHits(),new ANe(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let a in i){let o=i[a].component,l=r[a];if(l&&l.isWithinClipping(e,t)){let c=l.computeLeft(),d=l.computeTop(),h=e-c,m=t-d,{origRect:v}=l,b=v.right-v.left,A=v.bottom-v.top;if(h>=0&&h<b&&m>=0&&m<A){let _=o.queryHit(h,m,b,A);_&&zR(_.dateProfile.activeRange,_.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(h+c-window.scrollX,m+d-window.scrollY)))&&(!s||_.layer>s.layer)&&(_.componentId=a,_.context=o.context,_.rect.left+=c,_.rect.right+=c,_.rect.top+=d,_.rect.bottom+=d,s=_)}}}return s}}function YR(n,e){return!n&&!e?!0:!!n!=!!e?!1:r2e(n.dateSpan,e.dateSpan)}function FK(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,CNe(n,e.dateEnv)),t}function CNe(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class TNe extends Z0{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:o}=this.hitDragging;if(a&&o&&YR(a,o)){let{context:l}=r,c=Object.assign(Object.assign({},FK(a.dateSpan,l)),{dayEl:a.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new xA(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new WR(this.dragging,bU(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class MNe extends Z0{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:o,dragging:l}=this,{options:c}=o.context,d=c.selectable&&o.isValidDateDownEl(a.origEvent.target);l.setIgnoreMove(!d),l.delay=a.isTouch?wNe(o):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,o)=>{let{context:l}=this.component,c=null,d=!1;if(a){let h=this.hitDragging.initialHit;a.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,a)||(c=RNe(h,a,l.pluginHooks.dateSelectionTransformers)),(!c||!z2e(c,a.dateProfile,l))&&(d=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):o||l.dispatch({type:"UNSELECT_DATES"}),d?rU():sU(),o||(this.dragSelection=c)},this.handlePointerUp=a=>{this.dragSelection&&(q$(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new xA(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new WR(this.dragging,bU(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function wNe(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function RNe(n,e,t){let i=n.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(pDe);let a={};for(let o of t){let l=o(n,e);if(l===!1)return null;l&&Object.assign(a,l)}return a.range={start:s[0],end:s[3]},a.allDay=i.allDay,a}class SA extends Z0{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let o=a.origEvent.target,{component:l,dragging:c}=this,{mirror:d}=c,{options:h}=l.context,m=l.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=g0(a.subjectEl),A=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=mU(m.getCurrentData().eventStore,A),c.minDistance=a.isTouch?0:h.eventDragMinDistance,c.delay=a.isTouch&&A!==l.props.eventSelection?INe(l):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=oa(o,".fc"),d.revertDuration=h.dragRevertDuration;let _=l.isValidSegDownEl(o)&&!oa(o,".fc-event-resizer");c.setIgnoreMove(!_),this.isDragging=_&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let o=this.component.context,l=this.eventRange,c=l.instance.instanceId;a.isTouch?c!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(a),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new nr(o,l.def,l.instance),jsEvent:a.origEvent,view:o.viewApi}))},this.handleHitUpdate=(a,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,h=null,m=null,v=null,b=!1,A={affectedEvents:l,mutatedEvents:Tc(),isEvent:!0};if(a){h=a.context;let _=h.options;d===h||_.editable&&_.droppable?(m=DNe(c,a,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(v=vU(l,h.getCurrentData().eventUiBases,m,h),A.mutatedEvents=v,cK(A,a.dateProfile,h)||(b=!0,m=null,v=null,A.mutatedEvents=Tc()))):h=null}this.displayDrag(h,A),b?rU():sU(),o||(d===h&&YR(c,a)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=m,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:c,validMutation:d}=this,h=this.eventRange.def,m=this.eventRange.instance,v=new nr(o,h,m),b=this.relevantEvents,A=this.mutatedRelevantEvents,{finalHit:_}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:l}),d){if(c===o){let x=new nr(o,A.defs[h.defId],m?A.instances[m.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:A});let T={oldEvent:v,event:x,relatedEvents:Wm(A,o,m),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:b})}},C={};for(let M of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(C,M(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),C),{el:a.subjectEl,delta:d.datesDelta,jsEvent:a.origEvent,view:l})),o.emitter.trigger("eventChange",T)}else if(c){let x={event:v,relatedEvents:Wm(b,o,m),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:b})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:a.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:b}),o.emitter.trigger("eventRemove",x);let T=A.defs[h.defId],C=A.instances[m.instanceId],M=new nr(c,T,C);c.dispatch({type:"MERGE_EVENTS",eventStore:A});let O={event:M,relatedEvents:Wm(A,c,C),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:A})}};c.emitter.trigger("eventAdd",O),a.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},FK(_.dateSpan,c)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:_.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:a.subjectEl,view:_.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new xA(e.el);r.pointer.selector=SA.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new WR(this.dragging,DN);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Tc(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}SA.SELECTOR=".fc-event-draggable, .fc-event-resizable";function DNe(n,e,t,i){let r=n.dateSpan,s=e.dateSpan,a=r.range.start,o=s.range.start,l={};r.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=tr(t):a=t);let c=xv(a,o,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let h of i)h(d,n,e);return d}function INe(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class ONe extends Z0{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,o=this.querySegEl(s),l=g0(o),c=this.eventRange=l.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,o=this.eventRange;this.relevantEvents=mU(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=g0(l),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:l,event:new nr(a,o.def,o.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,o)=>{let{context:l}=this.component,c=this.relevantEvents,d=this.hitDragging.initialHit,h=this.eventRange.instance,m=null,v=null,b=!1,A={affectedEvents:c,mutatedEvents:Tc(),isEvent:!0};s&&(s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(m=PNe(d,s,o.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),m&&(v=vU(c,l.getCurrentData().eventUiBases,m,l),A.mutatedEvents=v,cK(A,s.dateProfile,l)||(b=!0,m=null,v=null,A.mutatedEvents=null)),v?l.dispatch({type:"SET_EVENT_RESIZE",state:A}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),b?rU():sU(),a||(m&&YR(d,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=v)},this.handleDragEnd=s=>{let{context:a}=this.component,o=this.eventRange.def,l=this.eventRange.instance,c=new nr(a,o,l),d=this.relevantEvents,h=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let m=new nr(a,h.defs[o.defId],l?h.instances[l.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:h});let v={oldEvent:c,event:m,relatedEvents:Wm(h,a,l),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:d})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||hi(0),endDelta:this.validMutation.endDelta||hi(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",v)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new xA(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new WR(this.dragging,bU(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return oa(e.subjectEl,".fc-event")}}function PNe(n,e,t,i){let r=n.context.dateEnv,s=n.dateSpan.range.start,a=e.dateSpan.range.start,o=xv(s,a,r,n.largeUnit);if(t){if(r.add(i.start,o)<i.end)return{startDelta:o}}else if(r.add(i.end,o)>i.start)return{endDelta:o};return null}class NNe{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=M$(i.origEvent);this.matchesCancel=!!oa(s,r),this.matchesEvent=!!oa(s,SA.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,a=r.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let o=r.options.unselectAuto;o&&(!o||!this.matchesCancel)&&r.calendarApi.unselect(i)}a.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new BK(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const BNe={fixedMirrorParent:qe},LNe={dateClick:qe,eventDragStart:qe,eventDragStop:qe,eventDrop:qe,eventResizeStart:qe,eventResizeStop:qe,eventResize:qe,drop:qe,eventReceive:qe,eventLeave:qe};AU.dataAttrPrefix="";var UNe=Qh({name:"@fullcalendar/interaction",componentInteractions:[TNe,MNe,SA,ONe],calendarInteractions:[NNe],elementDraggingImpl:xA,optionRefiners:BNe,listenerRefiners:LNe});const kNe=({campaignId:n})=>{const[e,t]=G.useState([]),[i,r]=G.useState(!1),[s,a]=G.useState([]),[o,l]=G.useState(null),[c,d]=G.useState(null);G.useEffect(()=>{vx(n).then(T=>a(T)),kz(n,new Date().getFullYear().toString(),(new Date().getMonth()+1).toString().padStart(2,"0")).then(T=>{t(T)})},[n]);const h=T=>{const C=T.start;C.setDate(C.getDate()+7),kz(n,new Date().getFullYear().toString(),(C.getMonth()+1).toString().padStart(2,"0")).then(M=>{t(M)})},m=T=>{if(l(T.dateStr),new Date(T.dateStr)<new Date(new Date().toISOString().slice(0,10))){alert("You cannot alter events for past dates.");return}r(!0)},v=async()=>{if(!o||!c){console.log("Add error occured!");return}const T={title:c,date:o,color:Uz(c)};t([...e,T]),await gge(n,o==null?void 0:o.split("-")[0],o==null?void 0:o.split("-")[1],T),r(!1),d(null)},b=T=>{if(new Date(T.el.fcSeg.eventRange.range.start)<new Date(new Date().toISOString().slice(0,10))){alert("You cannot alter events for past dates.");return}window.confirm(`Remove ${T.event.title}'s availability on ${T.event.startStr}?`)&&(t(e.filter(C=>!(C.title===T.event.title&&C.date===T.event.startStr))),yge(n,T.event.startStr.split("-")[0],T.event.startStr.split("-")[1],{title:T.event.title,date:T.event.startStr,color:Uz(T.event.title)}))},A=()=>{const C=e.filter(M=>M.date===o).map(M=>M.title);return s.map(M=>M.name).filter(M=>!C.includes(M))},_=T=>W.jsx("div",{style:{display:"flex"},children:W.jsx("i",{style:{overflow:"hidden"},children:T.event.title})}),x=T=>T.date<new Date(new Date().setHours(0,0,0,0))?["fc-day-past"]:[];return W.jsxs("div",{style:{margin:"0 auto",padding:"0px 20px 0px 20px"},children:[W.jsx("h2",{className:"text-xl font-bold mb-4",children:"Game Calendar"}),W.jsx(TK,{plugins:[mNe,UNe],initialView:"dayGridMonth",firstDay:1,events:e,dateClick:m,eventClick:b,eventContent:_,datesSet:h,dayCellClassNames:x,height:"auto",fixedWeekCount:!1}),W.jsx("style",{children:`
                .fc-day-past {
                    background-color: rgba(200, 200, 200, 0.3);
                }
                .fc-day-past a{
                    color: #a19797ff;
                }
                `}),W.jsxs(noe,{open:i,onClose:()=>r(!1),children:[W.jsx(boe,{children:"Select a Player"}),W.jsx(goe,{children:o}),W.jsx(foe,{children:W.jsx(Yv,{options:A(),value:c,onChange:(T,C)=>d(C),renderInput:T=>W.jsx(xu,{...T,label:"Player",variant:"outlined"}),sx:{minWidth:250,mt:1}})}),W.jsxs(aoe,{children:[W.jsx(Xv,{onClick:()=>r(!1),children:"Cancel"}),W.jsx(Xv,{onClick:v,variant:"contained",disabled:!c,children:"Add"})]})]})]})},HK=({orientation:n,children:e,sx:t})=>W.jsx(Ss,{id:"centered-box-wrapper",sx:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",maxWidth:"1200px",minWidth:"min-content",backgroundColor:"rgba(37, 77, 110,0.9)",boxShadow:"rgba(0,0,0,0.8) 0 0 5px ",color:"white",overflow:"hidden",borderRadius:"20px",paddingBottom:"15px",[tA.breakpoints.down("md")]:{maxHeight:"700px"},...t},children:W.jsx("div",{id:"centered-box-scrollable",style:{overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:n??"row",justifyContent:"center",padding:"5px",width:"100%"},children:e})});function FNe(n){return en("MuiBarElement",n)}const HNe=Xt("MuiBarElement",["root","highlighted","faded","series"]),zNe=n=>{const{classes:e,id:t,isHighlighted:i,isFaded:r}=n,s={root:["root",`series-${t}`,i&&"highlighted",r&&"faded"]};return Jt(s,FNe,e)};class GNe{constructor(e){sn(this,"subscribe",e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}));sn(this,"getSnapshot",()=>this.value);sn(this,"update",e=>{const t=e(this.value);t!==this.value&&(this.value=t,this.listeners.forEach(i=>i(t)))});this.value=e,this.listeners=new Set}}const XR=({params:n,store:e})=>{G.useEffect(()=>{e.update(i=>be({},i,{animation:be({},i.animation,{skip:n.skipAnimation})}))},[e,n.skipAnimation]);const t=G.useCallback(()=>{let i=!1;return e.update(r=>be({},r,{animation:be({},r.animation,{skipAnimationRequests:r.animation.skipAnimationRequests+1})})),()=>{i||(i=!0,e.update(r=>be({},r,{animation:be({},r.animation,{skipAnimationRequests:r.animation.skipAnimationRequests-1})})))}},[e]);return rr(()=>{if(typeof window>"u"||!(window!=null&&window.matchMedia))return;let r;const s=o=>{o.matches?r=t():r==null||r()},a=window.matchMedia("(prefers-reduced-motion)");return s(a),a.addEventListener("change",s),()=>{a.removeEventListener("change",s)}},[t,e]),{instance:{disableAnimation:t}}};XR.params={skipAnimation:!0};XR.getDefaultizedParams=({params:n})=>be({},n,{skipAnimation:n.skipAnimation??!1});XR.getInitialState=({skipAnimation:n})=>({animation:{skip:n,skipAnimationRequests:0}});var QM=Symbol("NOT_FOUND");function VNe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function jNe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function WNe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var c6=n=>Array.isArray(n)?n:[n];function YNe(n){const e=Array.isArray(n[0])?n[0]:n;return WNe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XNe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}function qNe(n){let e;return{get(t){return e&&n(e.key,t)?e.value:QM},put(t,i){e={key:t,value:i}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function $Ne(n,e){let t=[];function i(o){const l=t.findIndex(c=>e(o,c.key));if(l>-1){const c=t[l];return l>0&&(t.splice(l,1),t.unshift(c)),c.value}return QM}function r(o,l){i(o)===QM&&(t.unshift({key:o,value:l}),t.length>n&&t.pop())}function s(){return t}function a(){t=[]}return{get:i,put:r,getEntries:s,clear:a}}var KNe=(n,e)=>n===e;function JNe(n){return function(t,i){if(t===null||i===null||t.length!==i.length)return!1;const{length:r}=t;for(let s=0;s<r;s++)if(!n(t[s],i[s]))return!1;return!0}}function QNe(n,e){const t=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:i=KNe,maxSize:r=1,resultEqualityCheck:s}=t,a=JNe(i);let o=0;const l=r<=1?qNe(a):$Ne(r,a);function c(){let d=l.get(arguments);if(d===QM){if(d=n.apply(null,arguments),o++,s){const m=l.getEntries().find(v=>s(v.value,d));m&&(d=m.value,o!==0&&o--)}l.put(arguments,d)}return d}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}var ZNe=class{constructor(n){this.value=n}deref(){return this.value}},eBe=typeof WeakRef<"u"?WeakRef:ZNe,tBe=0,u6=1;function T1(){return{s:tBe,v:void 0,o:null,p:null}}function zK(n,e={}){let t=T1();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let m=0,v=l;m<v;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let A=o.o;A===null&&(o.o=A=new WeakMap);const _=A.get(b);_===void 0?(o=T1(),A.set(b,o)):o=_}else{let A=o.p;A===null&&(o.p=A=new Map);const _=A.get(b);_===void 0?(o=T1(),A.set(b,o)):o=_}}const c=o;let d;if(o.s===u6)d=o.v;else if(d=n.apply(null,arguments),s++,i){const m=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;m!=null&&i(m,d)&&(d=m,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new eBe(d):d}return c.s=u6,c.v=d,d}return a.clearCache=()=>{t=T1(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function GK(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},c=r.pop();typeof c=="object"&&(l=c,c=r.pop()),VNe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...t,...l},{memoize:h,memoizeOptions:m=[],argsMemoize:v=zK,argsMemoizeOptions:b=[]}=d,A=c6(m),_=c6(b),x=YNe(r),T=h(function(){return s++,c.apply(null,arguments)},...A),C=v(function(){a++;const O=XNe(x,arguments);return o=T.apply(null,O),o},..._);return Object.assign(C,{resultFunc:c,memoizedResultFunc:T,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var nBe=GK(zK),iBe=Object.assign((n,e=nBe)=>{jNe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>iBe});const rBe=GK({memoize:QNe,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),d6=new WeakMap,Tt=(...n)=>(t,...i)=>{const r=t.cacheKey;let s=d6.get(r);s||(s=new Map,d6.set(r,s));const a=s.get(n);if(a)return a(t,...i);const o=rBe(...n);return s.set(n,o),o(t,...i)},sBe=n=>n.animation,aBe=Tt([sBe],n=>n.skip||n.skipAnimationRequests>0),oBe=Object.is,an=(n,e,t=[],i=oBe)=>{const r=s=>e(s,...t);return Iq.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getSnapshot,r,i)},TU="DEFAULT_X_AXIS_KEY",MU="DEFAULT_Y_AXIS_KEY",lBe={top:20,bottom:20,left:20,right:20},cBe=45,uBe=25,VK=20,ep=n=>{var e;return(e=n.cartesianAxis)==null?void 0:e.x},Ag=n=>{var e;return(e=n.cartesianAxis)==null?void 0:e.y},dBe=Tt([Ag],n=>(n??[]).reduce((e,t)=>{var i;return t.position==="left"?e+(t.width||0)+((i=t.zoom)!=null&&i.slider.enabled?t.zoom.slider.size:0):e},0)),fBe=Tt([Ag],n=>(n??[]).reduce((e,t)=>{var i;return t.position==="right"?e+(t.width||0)+((i=t.zoom)!=null&&i.slider.enabled?t.zoom.slider.size:0):e},0)),hBe=Tt([ep],n=>(n??[]).reduce((e,t)=>{var i;return t.position==="top"?e+(t.height||0)+((i=t.zoom)!=null&&i.slider.enabled?t.zoom.slider.size:0):e},0)),pBe=Tt([ep],n=>(n??[]).reduce((e,t)=>{var i;return t.position==="bottom"?e+(t.height||0)+((i=t.zoom)!=null&&i.slider.enabled?t.zoom.slider.size:0):e},0)),mBe=n=>n.dimensions,jK=n=>n.dimensions.width,WK=n=>n.dimensions.height,gBe=n=>n.dimensions.margin.top,yBe=n=>n.dimensions.margin.right,vBe=n=>n.dimensions.margin.bottom,bBe=n=>n.dimensions.margin.left,Xo=Tt([jK,WK,gBe,yBe,vBe,bBe,hBe,fBe,pBe,dBe],(n,e,t,i,r,s,a,o,l,c)=>({width:n-s-i-c-o,left:s+c,right:i+o,height:e-t-r-a-l,top:t+a,bottom:r+l})),YK=Tt([mBe],n=>({width:n.propsWidth,height:n.propsHeight})),_Be=Tt([jK,WK],(n,e)=>({width:n,height:e}));function xBe(n,e){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:e?be({},e,n):n}const SBe=10,qR=({params:n,store:e,svgRef:t})=>{const i=n.width!==void 0&&n.height!==void 0,r=G.useRef({displayError:!1,initialCompute:!0,computeRun:0}),[s,a]=G.useState(0),[o,l]=G.useState(0),c=G.useCallback(()=>{const b=t==null?void 0:t.current;if(!b)return{};const _=Rl(b).getComputedStyle(b),x=Math.floor(parseFloat(_.height))||0,T=Math.floor(parseFloat(_.width))||0;return e.update(C=>C.dimensions.width===T&&C.dimensions.height===x?C:be({},C,{dimensions:{margin:{top:n.margin.top,right:n.margin.right,bottom:n.margin.bottom,left:n.margin.left},width:n.width??T,height:n.height??x,propsWidth:n.width,propsHeight:n.height}})),{height:x,width:T}},[e,t,n.height,n.width,n.margin.left,n.margin.right,n.margin.top,n.margin.bottom]);G.useEffect(()=>{e.update(b=>{const A=n.width??b.dimensions.width,_=n.height??b.dimensions.height;return be({},b,{dimensions:{margin:{top:n.margin.top,right:n.margin.right,bottom:n.margin.bottom,left:n.margin.left},width:A,height:_,propsHeight:n.height,propsWidth:n.width}})})},[e,n.height,n.width,n.margin.left,n.margin.right,n.margin.top,n.margin.bottom]),G.useEffect(()=>{r.current.displayError=!0},[]),rr(()=>{if(i||!r.current.initialCompute||r.current.computeRun>SBe)return;const b=c();b.width!==s||b.height!==o?(r.current.computeRun+=1,b.width!==void 0&&a(b.width),b.height!==void 0&&l(b.height)):r.current.initialCompute&&(r.current.initialCompute=!1)},[o,s,c,i]),rr(()=>{if(i)return()=>{};c();const b=t.current;if(typeof ResizeObserver>"u")return()=>{};let A;const _=new ResizeObserver(()=>{A=requestAnimationFrame(()=>{c()})});return b&&_.observe(b),()=>{A&&cancelAnimationFrame(A),b&&_.unobserve(b)}},[c,i,t]);const d=an(e,Xo),h=G.useCallback(b=>b>=d.left-1&&b<=d.left+d.width,[d.left,d.width]),m=G.useCallback(b=>b>=d.top-1&&b<=d.top+d.height,[d.height,d.top]);return{instance:{isPointInside:G.useCallback((b,A,_)=>_&&"closest"in _&&_.closest("[data-drawing-container]")?!0:h(b)&&m(A),[h,m]),isXInside:h,isYInside:m}}};qR.params={width:!0,height:!0,margin:!0};qR.getDefaultizedParams=({params:n})=>be({},n,{margin:xBe(n.margin,lBe)});qR.getInitialState=({width:n,height:e,margin:t})=>({dimensions:{margin:t,width:n??0,height:e??0,propsWidth:n,propsHeight:e}});const wU=({params:n,store:e})=>(rr(()=>{e.update(t=>be({},t,{experimentalFeatures:n.experimentalFeatures}))},[e,n.experimentalFeatures]),{});wU.params={experimentalFeatures:!0};wU.getInitialState=({experimentalFeatures:n})=>({experimentalFeatures:n});const ABe=n=>n.experimentalFeatures,$R=Tt([ABe],n=>!!(n!=null&&n.preferStrictDomainInLineCharts));let f6=0;const EBe=()=>(f6+=1,`mui-chart-${f6}`),RU=({params:n,store:e})=>(G.useEffect(()=>{e.update(t=>n.id===void 0||n.id===t.id.providedChartId&&t.id.chartId!==void 0?t:be({},t,{id:be({},t.id,{chartId:n.id??EBe()})}))},[e,n.id]),{});RU.params={id:!0};RU.getInitialState=({id:n})=>({id:{chartId:n,providedChartId:n}});const CBe=n=>n.id,TBe=Tt([CBe],n=>n.chartId),MBe=["#4254FB","#FFB422","#FA4F58","#0DBEFF","#22BF75","#FA83B4","#FF7511"],wBe=["#495AFB","#FFC758","#F35865","#30C8FF","#44CE8D","#F286B3","#FF8C39"],XK=n=>n==="dark"?wBe:MBe,qK=({series:n,colors:e,seriesConfig:t,dataset:i})=>{const r={};n.forEach((a,o)=>{var d;const l=t[a.type].getSeriesWithDefaultValues(a,o,e),c=l.id;if(r[a.type]===void 0&&(r[a.type]={series:{},seriesOrder:[]}),((d=r[a.type])==null?void 0:d.series[c])!==void 0)throw new Error(`MUI X Charts: series' id "${c}" is not unique.`);r[a.type].series[c]=l,r[a.type].seriesOrder.push(c)});const s={};return Object.keys(t).forEach(a=>{var l,c;const o=r[a];o!==void 0&&(s[a]=((c=(l=t[a])==null?void 0:l.seriesProcessor)==null?void 0:c.call(l,o,i))??r[a])}),s},KR=({params:n,store:e,seriesConfig:t})=>{const{series:i,dataset:r,theme:s,colors:a}=n,o=G.useRef(!0);return G.useEffect(()=>{if(o.current){o.current=!1;return}e.update(l=>be({},l,{series:be({},l.series,{processedSeries:qK({series:i,colors:typeof a=="function"?a(s):a,seriesConfig:t,dataset:r})})}))},[a,r,i,s,t,e]),{}};KR.params={dataset:!0,series:!0,colors:!0,theme:!0};const RBe=[];KR.getDefaultizedParams=({params:n})=>{var e;return be({},n,{series:(e=n.series)!=null&&e.length?n.series:RBe,colors:n.colors??XK,theme:n.theme??"light"})};KR.getInitialState=({series:n=[],colors:e,theme:t,dataset:i},r,s)=>({series:{seriesConfig:s,processedSeries:qK({series:n,colors:typeof e=="function"?e(t):e,seriesConfig:s,dataset:i})}});const $K=n=>n.series,qo=Tt([$K],n=>n.processedSeries),tf=Tt([$K],n=>n.seriesConfig),DBe={abort:!0,animationcancel:!0,animationend:!0,animationiteration:!0,animationstart:!0,auxclick:!0,beforeinput:!0,beforetoggle:!0,blur:!0,cancel:!0,canplay:!0,canplaythrough:!0,change:!0,click:!0,close:!0,compositionend:!0,compositionstart:!0,compositionupdate:!0,contextlost:!0,contextmenu:!0,contextrestored:!0,copy:!0,cuechange:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,durationchange:!0,emptied:!0,ended:!0,error:!0,focus:!0,focusin:!0,focusout:!0,formdata:!0,gotpointercapture:!0,input:!0,invalid:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,loadeddata:!0,loadedmetadata:!0,loadstart:!0,lostpointercapture:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,pause:!0,play:!0,playing:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,progress:!0,ratechange:!0,reset:!0,resize:!0,scroll:!0,scrollend:!0,securitypolicyviolation:!0,seeked:!0,seeking:!0,select:!0,selectionchange:!0,selectstart:!0,slotchange:!0,stalled:!0,submit:!0,suspend:!0,timeupdate:!0,toggle:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,transitioncancel:!0,transitionend:!0,transitionrun:!0,transitionstart:!0,volumechange:!0,waiting:!0,webkitanimationend:!0,webkitanimationiteration:!0,webkitanimationstart:!0,webkittransitionend:!0,wheel:!0,beforematch:!0,pointerrawupdate:!0};class KK{constructor(e){sn(this,"customData",{});sn(this,"handleOptionsChange",e=>{e&&e.detail&&this.updateOptions(e.detail)});sn(this,"handleStateChange",e=>{e&&e.detail&&this.updateState(e.detail)});if(!e||!e.name)throw new Error("Gesture must be initialized with a valid name.");if(e.name in DBe)throw new Error(`Gesture can't be created with a native event name. Tried to use "${e.name}". Please use a custom name instead.`);this.name=e.name,this.preventDefault=e.preventDefault??!1,this.stopPropagation=e.stopPropagation??!1,this.preventIf=e.preventIf??[],this.requiredKeys=e.requiredKeys??[],this.pointerMode=e.pointerMode??[],this.pointerOptions=e.pointerOptions??{}}init(e,t,i,r){this.element=e,this.pointerManager=t,this.gesturesRegistry=i,this.keyboardManager=r;const s=`${this.name}ChangeOptions`;this.element.addEventListener(s,this.handleOptionsChange);const a=`${this.name}ChangeState`;this.element.addEventListener(a,this.handleStateChange)}updateOptions(e){this.preventDefault=e.preventDefault??this.preventDefault,this.stopPropagation=e.stopPropagation??this.stopPropagation,this.preventIf=e.preventIf??this.preventIf,this.requiredKeys=e.requiredKeys??this.requiredKeys,this.pointerMode=e.pointerMode??this.pointerMode,this.pointerOptions=e.pointerOptions??this.pointerOptions}getEffectiveConfig(e){const t={requiredKeys:this.requiredKeys},i=this.pointerOptions[e];return i?be({},t,i):t}updateState(e){Object.assign(this.state,e)}getTargetElement(e){return this.isActive||this.element===e.target||"contains"in this.element&&this.element.contains(e.target)||"getRootNode"in this.element&&this.element.getRootNode()instanceof ShadowRoot&&e.composedPath().includes(this.element)?this.element:null}set isActive(e){e?this.gesturesRegistry.registerActiveGesture(this.element,this):this.gesturesRegistry.unregisterActiveGesture(this.element,this)}get isActive(){return this.gesturesRegistry.isGestureActive(this.element,this)??!1}shouldPreventGesture(e,t){const i=this.getEffectiveConfig(t);if(!this.keyboardManager.areKeysPressed(i.requiredKeys))return!0;if(this.preventIf.length===0)return!1;const r=this.gesturesRegistry.getActiveGestures(e);return this.preventIf.some(s=>r[s])}isPointerTypeAllowed(e){return!this.pointerMode||this.pointerMode.length===0?!0:this.pointerMode.includes(e)}destroy(){const e=`${this.name}ChangeOptions`;this.element.removeEventListener(e,this.handleOptionsChange);const t=`${this.name}ChangeState`;this.element.removeEventListener(t,this.handleStateChange)}}class IBe{constructor(){sn(this,"activeGestures",new Map)}registerActiveGesture(e,t){this.activeGestures.has(e)||this.activeGestures.set(e,new Set);const i=this.activeGestures.get(e),r={gesture:t,element:e};i.add(r)}unregisterActiveGesture(e,t){const i=this.activeGestures.get(e);i&&(i.forEach(r=>{r.gesture===t&&i.delete(r)}),i.size===0&&this.activeGestures.delete(e))}getActiveGestures(e){const t=this.activeGestures.get(e);return t?Array.from(t).reduce((i,r)=>(i[r.gesture.name]=!0,i),{}):{}}isGestureActive(e,t){const i=this.activeGestures.get(e);return i?Array.from(i).some(r=>r.gesture===t):!1}destroy(){this.activeGestures.clear()}unregisterElement(e){this.activeGestures.delete(e)}}class OBe{constructor(){sn(this,"pressedKeys",new Set);sn(this,"handleKeyDown",e=>{this.pressedKeys.add(e.key)});sn(this,"handleKeyUp",e=>{this.pressedKeys.delete(e.key)});sn(this,"clearKeys",()=>{this.pressedKeys.clear()});this.initialize()}initialize(){typeof window>"u"||(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.clearKeys))}areKeysPressed(e){return!e||e.length===0?!0:e.every(t=>t==="ControlOrMeta"?navigator.platform.includes("Mac")?this.pressedKeys.has("Meta"):this.pressedKeys.has("Control"):this.pressedKeys.has(t))}destroy(){typeof window<"u"&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.clearKeys)),this.clearKeys()}}class PBe{constructor(e){sn(this,"preventEventInterruption",!0);sn(this,"pointers",new Map);sn(this,"gestureHandlers",new Set);sn(this,"handleInterruptEvents",e=>{if(this.preventEventInterruption&&"pointerType"in e&&e.pointerType==="touch"){e.preventDefault();return}const t=new PointerEvent("forceCancel",{bubbles:!1,cancelable:!1}),i=this.pointers.values().next().value;if(this.pointers.size>0&&i){Object.defineProperties(t,{clientX:{value:i.clientX},clientY:{value:i.clientY},pointerId:{value:i.pointerId},pointerType:{value:i.pointerType}});for(const[r,s]of this.pointers.entries()){const a=be({},s,{type:"forceCancel"});this.pointers.set(r,a)}}this.notifyHandlers(t),this.pointers.clear()});sn(this,"handlePointerEvent",e=>{const{type:t,pointerId:i}=e;if(t==="pointerdown"||t==="pointermove")this.pointers.set(i,this.createPointerData(e));else if(t==="pointerup"||t==="pointercancel"||t==="forceCancel"){this.pointers.set(i,this.createPointerData(e)),this.notifyHandlers(e),this.pointers.delete(i);return}this.notifyHandlers(e)});this.root=e.root??document.getRootNode({composed:!0})??document.body,this.touchAction=e.touchAction||"auto",this.passive=e.passive??!1,this.preventEventInterruption=e.preventEventInterruption??!1,this.setupEventListeners()}registerGestureHandler(e){return this.gestureHandlers.add(e),()=>{this.gestureHandlers.delete(e)}}getPointers(){return new Map(this.pointers)}setupEventListeners(){this.touchAction!=="auto"&&(this.root.style.touchAction=this.touchAction),this.root.addEventListener("pointerdown",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointermove",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointerup",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointercancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("forceCancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("blur",this.handleInterruptEvents),this.root.addEventListener("contextmenu",this.handleInterruptEvents)}notifyHandlers(e){this.gestureHandlers.forEach(t=>t(this.pointers,e))}createPointerData(e){return{pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,target:e.target,timeStamp:e.timeStamp,type:e.type,isPrimary:e.isPrimary,pressure:e.pressure,width:e.width,height:e.height,pointerType:e.pointerType,srcEvent:e}}destroy(){this.root.removeEventListener("pointerdown",this.handlePointerEvent),this.root.removeEventListener("pointermove",this.handlePointerEvent),this.root.removeEventListener("pointerup",this.handlePointerEvent),this.root.removeEventListener("pointercancel",this.handlePointerEvent),this.root.removeEventListener("forceCancel",this.handlePointerEvent),this.root.removeEventListener("blur",this.handleInterruptEvents),this.root.removeEventListener("contextmenu",this.handleInterruptEvents),this.pointers.clear(),this.gestureHandlers.clear()}}class NBe{constructor(e){sn(this,"gestureTemplates",new Map);sn(this,"elementGestureMap",new Map);sn(this,"activeGesturesRegistry",new IBe);sn(this,"keyboardManager",new OBe);this.pointerManager=new PBe({root:e.root,touchAction:e.touchAction,passive:e.passive}),e.gestures&&e.gestures.length>0&&e.gestures.forEach(t=>{this.addGestureTemplate(t)})}addGestureTemplate(e){this.gestureTemplates.has(e.name)&&console.warn(`Gesture template with name "${e.name}" already exists. It will be overwritten.`),this.gestureTemplates.set(e.name,e)}setGestureOptions(e,t,i){const r=this.elementGestureMap.get(t);if(!r||!r.has(e)){console.error(`Gesture "${e}" not found on the provided element.`);return}const s=new CustomEvent(`${e}ChangeOptions`,{detail:i,bubbles:!1,cancelable:!1,composed:!1});t.dispatchEvent(s)}setGestureState(e,t,i){const r=this.elementGestureMap.get(t);if(!r||!r.has(e)){console.error(`Gesture "${e}" not found on the provided element.`);return}const s=new CustomEvent(`${e}ChangeState`,{detail:i,bubbles:!1,cancelable:!1,composed:!1});t.dispatchEvent(s)}registerElement(e,t,i){return Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=i==null?void 0:i[r];this.registerSingleGesture(r,t,s)}),t}registerSingleGesture(e,t,i){const r=this.gestureTemplates.get(e);if(!r)return console.error(`Gesture template "${e}" not found.`),!1;this.elementGestureMap.has(t)||this.elementGestureMap.set(t,new Map);const s=this.elementGestureMap.get(t);s.has(e)&&(console.warn(`Element already has gesture "${e}" registered. It will be replaced.`),this.unregisterElement(e,t));const a=r.clone(i);return a.init(t,this.pointerManager,this.activeGesturesRegistry,this.keyboardManager),s.set(e,a),!0}unregisterElement(e,t){const i=this.elementGestureMap.get(t);return!i||!i.has(e)?!1:(i.get(e).destroy(),i.delete(e),this.activeGesturesRegistry.unregisterElement(t),i.size===0&&this.elementGestureMap.delete(t),!0)}unregisterAllGestures(e){const t=this.elementGestureMap.get(e);if(t){for(const[,i]of t)i.destroy(),this.activeGesturesRegistry.unregisterElement(e);this.elementGestureMap.delete(e)}}destroy(){for(const[e]of this.elementGestureMap)this.unregisterAllGestures(e);this.gestureTemplates.clear(),this.elementGestureMap.clear(),this.activeGesturesRegistry.destroy(),this.keyboardManager.destroy(),this.pointerManager.destroy()}}class eb extends KK{constructor(t){super(t);sn(this,"unregisterHandler",null);sn(this,"originalTarget",null);this.minPointers=t.minPointers??1,this.maxPointers=t.maxPointers??1/0}init(t,i,r,s){super.init(t,i,r,s),this.unregisterHandler=this.pointerManager.registerGestureHandler(this.handlePointerEvent)}updateOptions(t){super.updateOptions(t),this.minPointers=t.minPointers??this.minPointers,this.maxPointers=t.maxPointers??this.maxPointers}getRelevantPointers(t,i){return t.filter(r=>this.isPointerTypeAllowed(r.pointerType)&&(i===r.target||r.target===this.originalTarget||i===this.originalTarget||"contains"in i&&i.contains(r.target))||"getRootNode"in i&&i.getRootNode()instanceof ShadowRoot&&r.srcEvent.composedPath().includes(i))}destroy(){this.unregisterHandler&&(this.unregisterHandler(),this.unregisterHandler=null),super.destroy()}}function BBe(n,e){const t=e.x-n.x,i=e.y-n.y;return Math.sqrt(t*t+i*i)}function _O(n){if(n.length<2)return 0;let e=0,t=0;for(let i=0;i<n.length;i+=1)for(let r=i+1;r<n.length;r+=1)e+=BBe({x:n[i].clientX,y:n[i].clientY},{x:n[r].clientX,y:n[r].clientY}),t+=1;return t>0?e/t:0}function Xd(n){if(n.length===0)return{x:0,y:0};const e=n.reduce((t,i)=>(t.x+=i.clientX,t.y+=i.clientY,t),{x:0,y:0});return{x:e.x/n.length,y:e.y/n.length}}function Od(n,e){return`${n}${e==="ongoing"?"":e.charAt(0).toUpperCase()+e.slice(1)}`}const M1=1e-5,ch=1e-5,h6=.15;function LBe(n,e){const t=e.x-n.x,i=e.y-n.y,r={vertical:null,horizontal:null,mainAxis:null},s=UBe(e,n),a=Math.abs(t)>Math.abs(i)?"horizontal":"vertical",o=s||a==="horizontal"?M1:h6,l=s?M1:a==="horizontal"?h6:M1;return Math.abs(t)>o&&(r.horizontal=t>0?"right":"left"),Math.abs(i)>l&&(r.vertical=i>0?"down":"up"),r.mainAxis=s?"diagonal":a,r}function UBe(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.atan2(i,t)*180/Math.PI;return r>=-45+ch&&r<=-22.5+ch||r>=22.5+ch&&r<=45+ch||r>=135+ch&&r<=157.5+ch||r>=-157.5+ch&&r<=-135+ch}function kBe(n,e){if(!n.vertical&&!n.horizontal)return!1;if(e.length===0)return!0;const t=n.vertical===null||e.includes(n.vertical),i=n.horizontal===null||e.includes(n.horizontal);return t&&i}const FBe=0,HBe=n=>n>FBe?1:n<-0?-1:0,p6=n=>n.preventDefault();class DU extends eb{constructor(t){super(t);sn(this,"state",{lastPosition:null});sn(this,"handleElementEnter",t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen")return;const i=this.pointerManager.getPointers()||new Map,r=Array.from(i.values());if(r.length>=this.minPointers&&r.length<=this.maxPointers){this.isActive=!0;const s={x:t.clientX,y:t.clientY};this.state.lastPosition=s,this.emitMoveEvent(this.element,"start",r,t),this.emitMoveEvent(this.element,"ongoing",r,t)}});sn(this,"handleElementLeave",t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen"||!this.isActive)return;const i=this.pointerManager.getPointers()||new Map,r=Array.from(i.values());this.emitMoveEvent(this.element,"end",r,t),this.resetState()});sn(this,"handlePointerEvent",(t,i)=>{if(i.type!=="pointermove"||i.pointerType!=="mouse"&&i.pointerType!=="pen")return;this.preventDefault&&i.preventDefault(),this.stopPropagation&&i.stopPropagation();const r=Array.from(t.values()),s=this.getTargetElement(i);if(!s||r.length<this.minPointers||r.length>this.maxPointers)return;if(this.shouldPreventGesture(s,i.pointerType)){if(!this.isActive)return;this.resetState(),this.emitMoveEvent(s,"end",r,i);return}const a={x:i.clientX,y:i.clientY};this.state.lastPosition=a,this.isActive||(this.isActive=!0,this.emitMoveEvent(s,"start",r,i)),this.emitMoveEvent(s,"ongoing",r,i)});this.threshold=t.threshold||0}clone(t){return new DU(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,i,r,s){super.init(t,i,r,s),this.element.addEventListener("pointerenter",this.handleElementEnter),this.element.addEventListener("pointerleave",this.handleElementLeave)}destroy(){this.element.removeEventListener("pointerenter",this.handleElementEnter),this.element.removeEventListener("pointerleave",this.handleElementLeave),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state={lastPosition:null}}emitMoveEvent(t,i,r,s){const a=this.state.lastPosition||Xd(r),o=this.gesturesRegistry.getActiveGestures(t),l={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:i,pointers:r,timeStamp:s.timeStamp,activeGestures:o,customData:this.customData},c=Od(this.name,i),d=new CustomEvent(c,{bubbles:!0,cancelable:!0,composed:!0,detail:l});t.dispatchEvent(d)}}class RS extends eb{constructor(t){super(t);sn(this,"state",{startPointers:new Map,startCentroid:null,lastCentroid:null,movementThresholdReached:!1,totalDeltaX:0,totalDeltaY:0,activeDeltaX:0,activeDeltaY:0,lastDirection:{vertical:null,horizontal:null,mainAxis:null},lastDeltas:null});sn(this,"handlePointerEvent",(t,i)=>{const r=Array.from(t.values());if(i.type==="forceCancel"){this.cancel(i.target,r,i);return}const s=this.getTargetElement(i);if(!s)return;if(this.shouldPreventGesture(s,i.pointerType)){this.cancel(s,r,i);return}const a=this.getRelevantPointers(r,s);if(a.length<this.minPointers||a.length>this.maxPointers){this.cancel(s,a,i);return}switch(i.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(a.forEach(o=>{this.state.startPointers.set(o.pointerId,o)}),this.originalTarget=s,this.state.startCentroid=Xd(a),this.state.lastCentroid=be({},this.state.startCentroid));break;case"pointermove":if(this.state.startCentroid&&a.length>=this.minPointers){const o=Xd(a),l=o.x-this.state.startCentroid.x,c=o.y-this.state.startCentroid.y,d=Math.sqrt(l*l+c*c),h=LBe(this.state.lastCentroid??this.state.startCentroid,o),m=this.state.lastCentroid?o.x-this.state.lastCentroid.x:0,v=this.state.lastCentroid?o.y-this.state.lastCentroid.y:0;!this.state.movementThresholdReached&&d>=this.threshold&&kBe(h,this.direction)?(this.state.movementThresholdReached=!0,this.isActive=!0,this.state.lastDeltas={x:m,y:v},this.state.totalDeltaX+=m,this.state.totalDeltaY+=v,this.state.activeDeltaX+=m,this.state.activeDeltaY+=v,this.emitPanEvent(s,"start",a,i,o),this.emitPanEvent(s,"ongoing",a,i,o)):this.state.movementThresholdReached&&this.isActive&&(this.state.lastDeltas={x:m,y:v},this.state.totalDeltaX+=m,this.state.totalDeltaY+=v,this.state.activeDeltaX+=m,this.state.activeDeltaY+=v,this.emitPanEvent(s,"ongoing",a,i,o)),this.state.lastCentroid=o,this.state.lastDirection=h}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive&&this.state.movementThresholdReached){if(a.filter(o=>o.type!=="pointerup"&&o.type!=="pointercancel").length<this.minPointers){const o=this.state.lastCentroid||this.state.startCentroid;i.type==="pointercancel"&&this.emitPanEvent(s,"cancel",a,i,o),this.emitPanEvent(s,"end",a,i,o),this.resetState()}}else this.resetState();break}});this.direction=t.direction||["up","down","left","right"],this.threshold=t.threshold||0}clone(t){return new RS(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,direction:[...this.direction],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.direction=t.direction||this.direction,this.threshold=t.threshold??this.threshold}resetState(){this.isActive=!1,this.state=be({},this.state,{startPointers:new Map,startCentroid:null,lastCentroid:null,lastDeltas:null,activeDeltaX:0,activeDeltaY:0,movementThresholdReached:!1,lastDirection:{vertical:null,horizontal:null,mainAxis:null}})}emitPanEvent(t,i,r,s,a){var T,C;if(!this.state.startCentroid)return;const o=((T=this.state.lastDeltas)==null?void 0:T.x)??0,l=((C=this.state.lastDeltas)==null?void 0:C.y)??0,c=this.state.startPointers.values().next().value,d=c?(s.timeStamp-c.timeStamp)/1e3:0,h=d>0?o/d:0,m=d>0?l/d:0,v=Math.sqrt(h*h+m*m),b=this.gesturesRegistry.getActiveGestures(t),A={gestureName:this.name,initialCentroid:this.state.startCentroid,centroid:a,target:s.target,srcEvent:s,phase:i,pointers:r,timeStamp:s.timeStamp,deltaX:o,deltaY:l,direction:this.state.lastDirection,velocityX:h,velocityY:m,velocity:v,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,activeDeltaX:this.state.activeDeltaX,activeDeltaY:this.state.activeDeltaY,activeGestures:b,customData:this.customData},_=Od(this.name,i),x=new CustomEvent(_,{bubbles:!0,cancelable:!0,composed:!0,detail:A});t.dispatchEvent(x),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancel(t,i,r){if(this.isActive){const s=t??this.element;this.emitPanEvent(s,"cancel",i,r,this.state.lastCentroid),this.emitPanEvent(s,"end",i,r,this.state.lastCentroid)}this.resetState()}}class IU extends eb{constructor(t){super(be({},t,{minPointers:t.minPointers??2}));sn(this,"state",{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,totalScale:1,deltaScale:0});sn(this,"handlePointerEvent",(t,i)=>{const r=Array.from(t.values()),s=this.getTargetElement(i);if(!s)return;if(this.shouldPreventGesture(s,i.pointerType)){this.isActive&&(this.emitPinchEvent(s,"cancel",r,i),this.resetState());return}const a=this.getRelevantPointers(r,s);switch(i.type){case"pointerdown":if(a.length>=2&&!this.isActive){const o=_O(a);this.state.startDistance=o,this.state.lastDistance=o,this.state.lastTime=i.timeStamp,this.originalTarget=s}break;case"pointermove":if(this.state.startDistance&&a.length>=this.minPointers){const o=_O(a),l=Math.abs(o-this.state.lastDistance);if(l!==0&&l>=this.threshold){const c=this.state.startDistance?o/this.state.startDistance:1,d=c/this.state.lastScale;this.state.totalScale*=d;const h=(i.timeStamp-this.state.lastTime)/1e3;if(this.state.lastDistance){const v=(o-this.state.lastDistance)/h;this.state.velocity=Number.isNaN(v)?0:v}this.state.lastDistance=o,this.state.deltaScale=c-this.state.lastScale,this.state.lastScale=c,this.state.lastTime=i.timeStamp,this.isActive?this.emitPinchEvent(s,"ongoing",a,i):(this.isActive=!0,this.emitPinchEvent(s,"start",a,i),this.emitPinchEvent(s,"ongoing",a,i))}}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive){const o=a.filter(l=>l.type!=="pointerup"&&l.type!=="pointercancel");if(o.length<this.minPointers)i.type==="pointercancel"&&this.emitPinchEvent(s,"cancel",a,i),this.emitPinchEvent(s,"end",a,i),this.resetState();else if(o.length>=2){const l=_O(o);this.state.startDistance=l/this.state.lastScale}}break}});this.threshold=t.threshold??0}clone(t){return new IU(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state=be({},this.state,{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,deltaScale:0})}emitPinchEvent(t,i,r,s){const a=Xd(r),o=this.state.lastDistance,l=this.state.lastScale,c=this.gesturesRegistry.getActiveGestures(t),d={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:i,pointers:r,timeStamp:s.timeStamp,scale:l,deltaScale:this.state.deltaScale,totalScale:this.state.totalScale,distance:o,velocity:this.state.velocity,activeGestures:c,direction:HBe(this.state.velocity),customData:this.customData};this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation();const h=Od(this.name,i),m=new CustomEvent(h,{bubbles:!0,cancelable:!0,composed:!0,detail:d});t.dispatchEvent(m)}}class OU extends eb{constructor(t){super(t);sn(this,"state",{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1});sn(this,"handlePointerEvent",(t,i)=>{const r=Array.from(t.values());if(i.type==="forceCancel"){this.cancelPress(i.target,r,i);return}const s=this.getTargetElement(i);if(!s)return;if(this.shouldPreventGesture(s,i.pointerType)){this.isActive&&this.cancelPress(s,r,i);return}const a=this.getRelevantPointers(r,s);if(a.length<this.minPointers||a.length>this.maxPointers){this.isActive&&this.cancelPress(s,a,i);return}switch(i.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(this.state.startCentroid=Xd(a),this.state.lastPosition=be({},this.state.startCentroid),this.state.startTime=i.timeStamp,this.isActive=!0,this.originalTarget=s,this.clearPressTimer(),this.state.timerId=setTimeout(()=>{if(this.isActive&&this.state.startCentroid){this.state.pressThresholdReached=!0;const o=this.state.lastPosition;this.emitPressEvent(s,"start",a,i,o),this.emitPressEvent(s,"ongoing",a,i,o)}},this.duration));break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Xd(a);this.state.lastPosition=o;const l=o.x-this.state.startCentroid.x,c=o.y-this.state.startCentroid.y;Math.sqrt(l*l+c*c)>this.maxDistance&&this.cancelPress(s,a,i)}break;case"pointerup":if(this.isActive){if(this.state.pressThresholdReached){const o=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(s,"end",a,i,o)}this.resetState()}break;case"pointercancel":case"forceCancel":this.cancelPress(s,a,i);break}});this.duration=t.duration??500,this.maxDistance=t.maxDistance??10}clone(t){return new OU(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,duration:this.duration,maxDistance:this.maxDistance,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.clearPressTimer(),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.duration=t.duration??this.duration,this.maxDistance=t.maxDistance??this.maxDistance}resetState(){this.clearPressTimer(),this.isActive=!1,this.state=be({},this.state,{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1})}clearPressTimer(){this.state.timerId!==null&&(clearTimeout(this.state.timerId),this.state.timerId=null)}emitPressEvent(t,i,r,s,a){const o=this.gesturesRegistry.getActiveGestures(t),l=s.timeStamp-this.state.startTime,c={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:i,pointers:r,timeStamp:s.timeStamp,x:a.x,y:a.y,duration:l,activeGestures:o,customData:this.customData},d=Od(this.name,i),h=new CustomEvent(d,{bubbles:!0,cancelable:!0,composed:!0,detail:c});t.dispatchEvent(h),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancelPress(t,i,r){if(this.isActive&&this.state.pressThresholdReached){const s=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(t??this.element,"cancel",i,r,s),this.emitPressEvent(t??this.element,"end",i,r,s)}this.resetState()}}class JR extends eb{constructor(t){super(t);sn(this,"state",{startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null});sn(this,"handlePointerEvent",(t,i)=>{const r=Array.from(t.values()),s=this.getTargetElement(i);if(!s)return;const a=this.getRelevantPointers(r,s);if(this.shouldPreventGesture(s,i.pointerType)||a.length<this.minPointers||a.length>this.maxPointers){this.isActive&&this.cancelTap(s,a,i);return}switch(i.type){case"pointerdown":this.isActive||(this.state.startCentroid=Xd(a),this.state.lastPosition=be({},this.state.startCentroid),this.isActive=!0,this.originalTarget=s);break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Xd(a);this.state.lastPosition=o;const l=o.x-this.state.startCentroid.x,c=o.y-this.state.startCentroid.y;Math.sqrt(l*l+c*c)>this.maxDistance&&this.cancelTap(s,a,i)}break;case"pointerup":if(this.isActive){this.state.currentTapCount+=1;const o=this.state.lastPosition||this.state.startCentroid;if(!o){this.cancelTap(s,a,i);return}this.state.currentTapCount>=this.taps?(this.fireTapEvent(s,a,i,o),this.resetState()):(this.state.lastTapTime=i.timeStamp,this.isActive=!1,this.state.startCentroid=null,setTimeout(()=>{this.state&&this.state.currentTapCount>0&&this.state.currentTapCount<this.taps&&(this.state.currentTapCount=0)},300))}break;case"pointercancel":case"forceCancel":this.cancelTap(s,a,i);break}});this.maxDistance=t.maxDistance??10,this.taps=t.taps??1}clone(t){return new JR(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,maxDistance:this.maxDistance,taps:this.taps,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.maxDistance=t.maxDistance??this.maxDistance,this.taps=t.taps??this.taps}resetState(){this.isActive=!1,this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null}}fireTapEvent(t,i,r,s){const a=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:s,target:r.target,srcEvent:r,phase:"end",pointers:i,timeStamp:r.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:a,customData:this.customData},l=new CustomEvent(this.name,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(l),this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation()}cancelTap(t,i,r){if(this.state.startCentroid||this.state.lastPosition){const s=this.state.lastPosition||this.state.startCentroid,a=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:s,target:r.target,srcEvent:r,phase:"cancel",pointers:i,timeStamp:r.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:a,customData:this.customData},l=Od(this.name,"cancel"),c=new CustomEvent(l,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(c)}this.resetState()}}class PU extends eb{constructor(t){super(t);sn(this,"state",{phase:"waitingForTap",dragTimeoutId:null});sn(this,"tapHandler",()=>{this.state.phase==="waitingForTap"&&(this.state.phase="tapDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))});sn(this,"dragStartHandler",t=>{this.state.phase==="tapDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(Od(this.name,t.detail.phase),t)))});sn(this,"dragMoveHandler",t=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(Od(this.name,t.detail.phase),t))});sn(this,"dragEndHandler",t=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(Od(this.name,t.detail.phase),t)))});this.tapMaxDistance=t.tapMaxDistance??10,this.dragTimeout=t.dragTimeout??1e3,this.dragThreshold=t.dragThreshold??0,this.dragDirection=t.dragDirection||["up","down","left","right"],this.tapGesture=new JR({name:`${this.name}-tap`,maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new RS({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(t){return new PU(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,tapMaxDistance:this.tapMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,i,r,s){super.init(t,i,r,s),this.tapGesture.init(t,i,r,s),this.panGesture.init(t,i,r,s),this.element.addEventListener(this.tapGesture.name,this.tapHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.tapGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.tapGesture.name,this.tapHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(t){super.updateOptions(t),this.tapMaxDistance=t.tapMaxDistance??this.tapMaxDistance,this.dragTimeout=t.dragTimeout??this.dragTimeout,this.dragThreshold=t.dragThreshold??this.dragThreshold,this.dragDirection=t.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.tapGesture.name}ChangeOptions`,{detail:{maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForTap",dragTimeoutId:null}}handlePointerEvent(){}setTouchAction(){this.element.addEventListener("touchstart",p6,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",p6)}}class NU extends KK{constructor(t){super(t);sn(this,"state",{totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0});sn(this,"handleWheelEvent",t=>{if(this.shouldPreventGesture(this.element,"mouse"))return;const i=this.pointerManager.getPointers()||new Map,r=Array.from(i.values());this.state.totalDeltaX+=t.deltaX*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaY+=t.deltaY*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaZ+=t.deltaZ*this.sensitivity*(this.invert?-1:1),["totalDeltaX","totalDeltaY","totalDeltaZ"].forEach(s=>{this.state[s]<this.min&&(this.state[s]=this.min),this.state[s]>this.max&&(this.state[s]=this.max)}),this.emitWheelEvent(r,t)});this.sensitivity=t.sensitivity??1,this.max=t.max??Number.MAX_SAFE_INTEGER,this.min=t.min??Number.MIN_SAFE_INTEGER,this.initialDelta=t.initialDelta??0,this.invert=t.invert??!1,this.state.totalDeltaX=this.initialDelta,this.state.totalDeltaY=this.initialDelta,this.state.totalDeltaZ=this.initialDelta}clone(t){return new NU(be({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,sensitivity:this.sensitivity,max:this.max,min:this.min,initialDelta:this.initialDelta,invert:this.invert,requiredKeys:[...this.requiredKeys],preventIf:[...this.preventIf]},t))}init(t,i,r,s){super.init(t,i,r,s),this.element.addEventListener("wheel",this.handleWheelEvent)}destroy(){this.element.removeEventListener("wheel",this.handleWheelEvent),this.resetState(),super.destroy()}resetState(){this.isActive=!1,this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0}}updateOptions(t){super.updateOptions(t),this.sensitivity=t.sensitivity??this.sensitivity,this.max=t.max??this.max,this.min=t.min??this.min,this.initialDelta=t.initialDelta??this.initialDelta,this.invert=t.invert??this.invert}emitWheelEvent(t,i){const r=t.length>0?Xd(t):{x:i.clientX,y:i.clientY},s=this.gesturesRegistry.getActiveGestures(this.element),a={gestureName:this.name,centroid:r,target:i.target,srcEvent:i,phase:"ongoing",pointers:t,timeStamp:i.timeStamp,deltaX:i.deltaX*this.sensitivity*(this.invert?-1:1),deltaY:i.deltaY*this.sensitivity*(this.invert?-1:1),deltaZ:i.deltaZ*this.sensitivity*(this.invert?-1:1),deltaMode:i.deltaMode,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,totalDeltaZ:this.state.totalDeltaZ,activeGestures:s,customData:this.customData};this.preventDefault&&i.preventDefault(),this.stopPropagation&&i.stopPropagation();const o=Od(this.name,"ongoing"),l=new CustomEvent(o,{bubbles:!0,cancelable:!0,composed:!0,detail:a});this.element.dispatchEvent(l)}}const nv=n=>n.preventDefault(),BU=({svgRef:n})=>{const e=G.useRef(null);G.useEffect(()=>{const r=n.current;e.current||(e.current=new NBe({gestures:[new RS({name:"pan",threshold:0,maxPointers:1}),new RS({name:"zoomPan",threshold:0,maxPointers:1,preventIf:["zoomTapAndDrag"]}),new DU({name:"move",preventIf:["pan","zoomPinch","zoomPan"]}),new IU({name:"zoomPinch",threshold:5,preventIf:["pan","zoomPan"]}),new NU({name:"zoomTurnWheel",sensitivity:.01,initialDelta:1}),new JR({name:"tap",maxDistance:10,preventIf:["pan","zoomPan","zoomPinch"]}),new OU({name:"quickPress",duration:50,maxDistance:10}),new PU({name:"zoomTapAndDrag",tapMaxDistance:10,dragThreshold:10,dragTimeout:1e3})]}));const s=e.current;if(!(!r||!s))return s.registerElement(["pan","move","zoomPinch","zoomPan","zoomTurnWheel","tap","quickPress","zoomTapAndDrag"],r),()=>{s.unregisterAllGestures(r)}},[n,e]);const t=G.useCallback((r,s,a)=>{const o=n.current;return o==null||o.addEventListener(r,s,a),{cleanup:()=>o==null?void 0:o.removeEventListener(r,s)}},[n]),i=G.useCallback((r,s)=>{const a=n.current,o=e.current;!o||!a||o.setGestureOptions(r,a,s??{})},[n,e]);return G.useEffect(()=>{const r=n.current;return r==null||r.addEventListener("gesturestart",nv),r==null||r.addEventListener("gesturechange",nv),r==null||r.addEventListener("gestureend",nv),()=>{r==null||r.removeEventListener("gesturestart",nv),r==null||r.removeEventListener("gesturechange",nv),r==null||r.removeEventListener("gestureend",nv)}},[n]),{instance:{addInteractionListener:t,updateZoomInteractionListeners:i}}};BU.params={};BU.getInitialState=()=>({});const zBe=[RU,wU,qR,KR,BU,XR],GBe=["apiRef"],VBe=n=>{let{plugins:e}=n,t=li(n.props,GBe);const i={};e.forEach(a=>{Object.assign(i,a.params)});const r={};return Object.keys(t).forEach(a=>{const o=t[a];i[a]&&(r[a]=o)}),e.reduce((a,o)=>o.getDefaultizedParams?o.getDefaultizedParams({params:a}):a,r)};let m6=0;function jBe(n,e,t){const i=Wh(),r=G.useMemo(()=>[...zBe,...n],[n]),s=VBe({plugins:r,props:e});s.id=s.id??i;const o=G.useRef({}).current,l=YBe(e.apiRef),c=G.useRef(null),d=G.useRef(null),h=G.useRef(null);if(h.current==null){m6+=1;const b={cacheKey:{id:m6}};r.forEach(A=>{A.getInitialState&&Object.assign(b,A.getInitialState(s,b,t))}),h.current=new GNe(b)}const m=b=>{const A=b({instance:o,params:s,plugins:r,store:h.current,svgRef:d,chartRootRef:c,seriesConfig:t});A.publicAPI&&Object.assign(l.current,A.publicAPI),A.instance&&Object.assign(o,A.instance)};return r.forEach(m),{contextValue:G.useMemo(()=>({store:h.current,publicAPI:l.current,instance:o,svgRef:d,chartRootRef:c}),[o,l])}}function WBe(n){return n.current==null&&(n.current={}),n}function YBe(n){const e=G.useRef({});return n?WBe(n):e}const JK=G.createContext(null);const QK=()=>{},ZK=4,eJ=20+2*ZK,XBe=40+2*ZK,qBe="hover",w1={minStart:0,maxEnd:100,step:5,minSpan:10,maxSpan:100,panning:!0,filterMode:"keep",slider:{enabled:!1,preview:!1,size:eJ,showTooltip:qBe}},LU=(n,e,t)=>{var i;if(n)return n===!0?be({axisId:e,axisDirection:t},w1):be({axisId:e,axisDirection:t},w1,n,{slider:be({},w1.slider,{size:((i=n.slider)==null?void 0:i.preview)??w1.slider.preview?XBe:eJ},n.slider)})};function tJ(n,e){const t={top:0,bottom:0,none:0};return(n&&n.length>0?n:[{id:TU,scaleType:"linear"}]).map((s,a)=>{var v;const o=s.dataKey,l=a===0?"bottom":"none",c=s.position??l,d=uBe+(s.label?VK:0),h=s.id??`defaultized-x-axis-${a}`,m=be({offset:t[c]},s,{id:h,position:c,height:s.height??d,zoom:LU(s.zoom,h,"x")});if(c!=="none"&&(t[c]+=m.height,(v=m.zoom)!=null&&v.slider.enabled&&(t[c]+=m.zoom.slider.size)),o===void 0||s.data!==void 0)return m;if(e===void 0)throw new Error("MUI X Charts: x-axis uses `dataKey` but no `dataset` is provided.");return be({},m,{data:e.map(b=>b[o])})})}function nJ(n,e){const t={right:0,left:0,none:0};return(n&&n.length>0?n:[{id:MU,scaleType:"linear"}]).map((s,a)=>{var v;const o=s.dataKey,l=a===0?"left":"none",c=s.position??l,d=cBe+(s.label?VK:0),h=s.id??`defaultized-y-axis-${a}`,m=be({offset:t[c]},s,{id:h,position:c,width:s.width??d,zoom:LU(s.zoom,h,"y")});if(c!=="none"&&(t[c]+=m.width,(v=m.zoom)!=null&&v.slider.enabled&&(t[c]+=m.zoom.slider.size)),o===void 0||s.data!==void 0)return m;if(e===void 0)throw new Error("MUI X Charts: y-axis uses `dataKey` but no `dataset` is provided.");return be({},m,{data:e.map(b=>b[o])})})}function $Be(n,e){return function(i,r){if(r.location==="tick"){const s=r.scale.domain();return s[0]===s[1]?r.scale.tickFormat(1)(i):r.scale.tickFormat(n)(i)}return r.location==="zoom-slider-tooltip"?e.tickFormat(2)(i):`${i}`}}function DS(n){return n.scaleType==="band"}function QR(n){return n.scaleType==="point"}function KBe(n){return n.scaleType==="symlog"}function iJ(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function UU(n){let e=n,t=n;n.length===1&&(e=(a,o)=>n(a)-o,t=JBe(n));function i(a,o,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const d=l+c>>>1;t(a[d],o)<0?l=d+1:c=d}return l}function r(a,o,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const d=l+c>>>1;t(a[d],o)>0?c=d:l=d+1}return l}function s(a,o,l,c){l==null&&(l=0),c==null&&(c=a.length);const d=i(a,o,l,c-1);return d>l&&e(a[d-1],o)>-e(a[d],o)?d-1:d}return{left:i,center:s,right:r}}function JBe(n){return(e,t)=>iJ(n(e),t)}function QBe(n){return n===null?NaN:+n}const ZBe=UU(iJ),rJ=ZBe.right;UU(QBe).center;class g6 extends Map{constructor(e,t=nLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(y6(this,e))}has(e){return super.has(y6(this,e))}set(e,t){return super.set(eLe(this,e),t)}delete(e){return super.delete(tLe(this,e))}}function y6({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function eLe({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function tLe({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(t),n.delete(i)),t}function nLe(n){return n!==null&&typeof n=="object"?n.valueOf():n}var BN=Math.sqrt(50),LN=Math.sqrt(10),UN=Math.sqrt(2);function kN(n,e,t){var i,r=-1,s,a,o;if(e=+e,n=+n,t=+t,n===e&&t>0)return[n];if((i=e<n)&&(s=n,n=e,e=s),(o=sJ(n,e,t))===0||!isFinite(o))return[];if(o>0){let l=Math.round(n/o),c=Math.round(e/o);for(l*o<n&&++l,c*o>e&&--c,a=new Array(s=c-l+1);++r<s;)a[r]=(l+r)*o}else{o=-o;let l=Math.round(n*o),c=Math.round(e*o);for(l/o<n&&++l,c/o>e&&--c,a=new Array(s=c-l+1);++r<s;)a[r]=(l+r)/o}return i&&a.reverse(),a}function sJ(n,e,t){var i=(e-n)/Math.max(0,t),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=BN?10:s>=LN?5:s>=UN?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=BN?10:s>=LN?5:s>=UN?2:1)}function FN(n,e,t){var i=Math.abs(e-n)/Math.max(0,t),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=BN?r*=10:s>=LN?r*=5:s>=UN&&(r*=2),e<n?-r:r}function iLe(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function nf(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function rLe(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v6=Symbol("implicit");function ZM(){var n=new g6,e=[],t=[],i=v6;function r(s){let a=n.get(s);if(a===void 0){if(i!==v6)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new g6;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ZM(e,t).unknown(i)},nf.apply(r,arguments),r}function ZR(){var n=ZM().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,c=0,d=.5;delete n.unknown;function h(){var m=e().length,v=r<i,b=v?r:i,A=v?i:r;s=(A-b)/Math.max(1,m-l+c*2),o&&(s=Math.floor(s)),b+=(A-b-s*(m-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var _=iLe(m).map(function(x){return b+s*x});return t(v?_.reverse():_)}return n.domain=function(m){return arguments.length?(e(m),h()):e()},n.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(m){return arguments.length?(o=!!m,h()):o},n.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),h()):l},n.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),h()):l},n.paddingOuter=function(m){return arguments.length?(c=+m,h()):c},n.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},n.copy=function(){return ZR(e(),[i,r]).round(o).paddingInner(l).paddingOuter(c).align(d)},nf.apply(h(),arguments)}function aJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return aJ(e())},n}function oJ(){return aJ(ZR.apply(null,arguments).paddingInner(1))}function kU(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function lJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function AA(){}var IS=.7,ew=1/IS,Lv="\\s*([+-]?\\d+)\\s*",OS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sLe=/^#([0-9a-f]{3,8})$/,aLe=new RegExp(`^rgb\\(${Lv},${Lv},${Lv}\\)$`),oLe=new RegExp(`^rgb\\(${Ru},${Ru},${Ru}\\)$`),lLe=new RegExp(`^rgba\\(${Lv},${Lv},${Lv},${OS}\\)$`),cLe=new RegExp(`^rgba\\(${Ru},${Ru},${Ru},${OS}\\)$`),uLe=new RegExp(`^hsl\\(${OS},${Ru},${Ru}\\)$`),dLe=new RegExp(`^hsla\\(${OS},${Ru},${Ru},${OS}\\)$`),b6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kU(AA,PS,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:_6,formatHex:_6,formatHex8:fLe,formatHsl:hLe,formatRgb:x6,toString:x6});function _6(){return this.rgb().formatHex()}function fLe(){return this.rgb().formatHex8()}function hLe(){return cJ(this).formatHsl()}function x6(){return this.rgb().formatRgb()}function PS(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=sLe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?S6(e):t===3?new ao(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?R1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?R1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aLe.exec(n))?new ao(e[1],e[2],e[3],1):(e=oLe.exec(n))?new ao(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lLe.exec(n))?R1(e[1],e[2],e[3],e[4]):(e=cLe.exec(n))?R1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uLe.exec(n))?C6(e[1],e[2]/100,e[3]/100,1):(e=dLe.exec(n))?C6(e[1],e[2]/100,e[3]/100,e[4]):b6.hasOwnProperty(n)?S6(b6[n]):n==="transparent"?new ao(NaN,NaN,NaN,0):null}function S6(n){return new ao(n>>16&255,n>>8&255,n&255,1)}function R1(n,e,t,i){return i<=0&&(n=e=t=NaN),new ao(n,e,t,i)}function pLe(n){return n instanceof AA||(n=PS(n)),n?(n=n.rgb(),new ao(n.r,n.g,n.b,n.opacity)):new ao}function HN(n,e,t,i){return arguments.length===1?pLe(n):new ao(n,e,t,i??1)}function ao(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}kU(ao,HN,lJ(AA,{brighter(n){return n=n==null?ew:Math.pow(ew,n),new ao(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?IS:Math.pow(IS,n),new ao(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ao(Ym(this.r),Ym(this.g),Ym(this.b),tw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A6,formatHex:A6,formatHex8:mLe,formatRgb:E6,toString:E6}));function A6(){return`#${Lm(this.r)}${Lm(this.g)}${Lm(this.b)}`}function mLe(){return`#${Lm(this.r)}${Lm(this.g)}${Lm(this.b)}${Lm((isNaN(this.opacity)?1:this.opacity)*255)}`}function E6(){const n=tw(this.opacity);return`${n===1?"rgb(":"rgba("}${Ym(this.r)}, ${Ym(this.g)}, ${Ym(this.b)}${n===1?")":`, ${n})`}`}function tw(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ym(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Lm(n){return n=Ym(n),(n<16?"0":"")+n.toString(16)}function C6(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new _c(n,e,t,i)}function cJ(n){if(n instanceof _c)return new _c(n.h,n.s,n.l,n.opacity);if(n instanceof AA||(n=PS(n)),!n)return new _c;if(n instanceof _c)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new _c(a,o,l,n.opacity)}function gLe(n,e,t,i){return arguments.length===1?cJ(n):new _c(n,e,t,i??1)}function _c(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}kU(_c,gLe,lJ(AA,{brighter(n){return n=n==null?ew:Math.pow(ew,n),new _c(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?IS:Math.pow(IS,n),new _c(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new ao(xO(n>=240?n-240:n+120,r,i),xO(n,r,i),xO(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new _c(T6(this.h),D1(this.s),D1(this.l),tw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=tw(this.opacity);return`${n===1?"hsl(":"hsla("}${T6(this.h)}, ${D1(this.s)*100}%, ${D1(this.l)*100}%${n===1?")":`, ${n})`}`}}));function T6(n){return n=(n||0)%360,n<0?n+360:n}function D1(n){return Math.max(0,Math.min(1,n||0))}function xO(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const FU=n=>()=>n;function yLe(n,e){return function(t){return n+t*e}}function vLe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function bLe(n){return(n=+n)==1?uJ:function(e,t){return t-e?vLe(e,t,n):FU(isNaN(e)?t:e)}}function uJ(n,e){var t=e-n;return t?yLe(n,t):FU(isNaN(n)?e:n)}const M6=function n(e){var t=bLe(e);function i(r,s){var a=t((r=HN(r)).r,(s=HN(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),c=uJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=c(d),r+""}}return i.gamma=n,i}(1);function _Le(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function xLe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SLe(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=eD(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function HU(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function ls(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function ALe(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=eD(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var zN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SO=new RegExp(zN.source,"g");function ELe(n){return function(){return n}}function CLe(n){return function(e){return n(e)+""}}function TLe(n,e){var t=zN.lastIndex=SO.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=zN.exec(n))&&(r=SO.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:ls(i,r)})),t=SO.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?CLe(l[0].x):ELe(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function eD(n,e){var t=typeof e,i;return e==null||t==="boolean"?FU(e):(t==="number"?ls:t==="string"?(i=PS(e))?(e=i,M6):TLe:e instanceof PS?M6:e instanceof Date?HU:xLe(e)?_Le:Array.isArray(e)?SLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ALe:ls)(n,e)}function dJ(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function MLe(n){return function(){return n}}function wLe(n){return+n}var w6=[0,1];function Cl(n){return n}function GN(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:MLe(isNaN(e)?NaN:.5)}function RLe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function DLe(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=GN(r,i),s=t(a,s)):(i=GN(i,r),s=t(s,a)),function(o){return s(i(o))}}function ILe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=GN(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=rJ(n,o,1,i)-1;return s[l](r[l](o))}}function EA(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function tD(){var n=w6,e=w6,t=eD,i,r,s,a=Cl,o,l,c;function d(){var m=Math.min(n.length,e.length);return a!==Cl&&(a=RLe(n[0],n[m-1])),o=m>2?ILe:DLe,l=c=null,h}function h(m){return m==null||isNaN(m=+m)?s:(l||(l=o(n.map(i),e,t)))(i(a(m)))}return h.invert=function(m){return a(r((c||(c=o(e,n.map(i),ls)))(m)))},h.domain=function(m){return arguments.length?(n=Array.from(m,wLe),d()):n.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),t=dJ,d()},h.clamp=function(m){return arguments.length?(a=m?!0:Cl,d()):a!==Cl},h.interpolate=function(m){return arguments.length?(t=m,d()):t},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,v){return i=m,r=v,d()}}function fJ(){return tD()(Cl,Cl)}function OLe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function nw(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function y0(n){return n=nw(Math.abs(n)),n?n[1]:NaN}function PLe(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function NLe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var BLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function NS(n){if(!(e=BLe.exec(n)))throw new Error("invalid format: "+n);var e;return new zU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}NS.prototype=zU.prototype;function zU(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}zU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LLe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var hJ;function ULe(n,e){var t=nw(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(hJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+nw(n,Math.max(0,e+s-1))[0]}function R6(n,e){var t=nw(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const D6={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:OLe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>R6(n*100,e),r:R6,s:ULe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function I6(n){return n}var O6=Array.prototype.map,P6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kLe(n){var e=n.grouping===void 0||n.thousands===void 0?I6:PLe(O6.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?I6:NLe(O6.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(h){h=NS(h);var m=h.fill,v=h.align,b=h.sign,A=h.symbol,_=h.zero,x=h.width,T=h.comma,C=h.precision,M=h.trim,O=h.type;O==="n"?(T=!0,O="g"):D6[O]||(C===void 0&&(C=12),M=!0,O="g"),(_||m==="0"&&v==="=")&&(_=!0,m="0",v="=");var R=A==="$"?t:A==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",B=A==="$"?i:/[%p]/.test(O)?a:"",N=D6[O],P=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function I(F){var U=R,j=B,q,Z,H;if(O==="c")j=N(F)+j,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?l:N(Math.abs(F),C),M&&(F=LLe(F)),Y&&+F==0&&b!=="+"&&(Y=!1),U=(Y?b==="("?b:o:b==="-"||b==="("?"":b)+U,j=(O==="s"?P6[8+hJ/3]:"")+j+(Y&&b==="("?")":""),P){for(q=-1,Z=F.length;++q<Z;)if(H=F.charCodeAt(q),48>H||H>57){j=(H===46?r+F.slice(q+1):F.slice(q))+j,F=F.slice(0,q);break}}}T&&!_&&(F=e(F,1/0));var X=U.length+F.length+j.length,ne=X<x?new Array(x-X+1).join(m):"";switch(T&&_&&(F=e(ne+F,ne.length?x-j.length:1/0),ne=""),v){case"<":F=U+F+j+ne;break;case"=":F=U+ne+F+j;break;case"^":F=ne.slice(0,X=ne.length>>1)+U+F+j+ne.slice(X);break;default:F=ne+U+F+j;break}return s(F)}return I.toString=function(){return h+""},I}function d(h,m){var v=c((h=NS(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(y0(m)/3)))*3,A=Math.pow(10,-b),_=P6[8+b/3];return function(x){return v(A*x)+_}}return{format:c,formatPrefix:d}}var I1,GU,pJ;FLe({thousands:",",grouping:[3],currency:["$",""]});function FLe(n){return I1=kLe(n),GU=I1.format,pJ=I1.formatPrefix,I1}function HLe(n){return Math.max(0,-y0(Math.abs(n)))}function zLe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(y0(e)/3)))*3-y0(Math.abs(n)))}function GLe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,y0(e)-y0(n))+1}function VLe(n,e,t,i){var r=FN(n,e,t),s;switch(i=NS(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=zLe(r,a))&&(i.precision=s),pJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=GLe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=HLe(r))&&(i.precision=s-(i.type==="%")*2);break}}return GU(i)}function nD(n){var e=n.domain;return n.ticks=function(t){var i=e();return kN(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return VLe(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=r,r=s,s=c);d-- >0;){if(c=sJ(a,o,t),c===l)return i[r]=a,i[s]=o,e(i);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return n},n}function VU(){var n=fJ();return n.copy=function(){return EA(n,VU())},nf.apply(n,arguments),nD(n)}function mJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function N6(n){return Math.log(n)}function B6(n){return Math.exp(n)}function jLe(n){return-Math.log(-n)}function WLe(n){return-Math.exp(-n)}function YLe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function XLe(n){return n===10?YLe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function qLe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function L6(n){return(e,t)=>-n(-e,t)}function $Le(n){const e=n(N6,B6),t=e.domain;let i=10,r,s;function a(){return r=qLe(i),s=XLe(i),t()[0]<0?(r=L6(r),s=L6(s),n(jLe,WLe)):n(N6,B6),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let m=r(c),v=r(d),b,A;const _=o==null?10:+o;let x=[];if(!(i%1)&&v-m<_){if(m=Math.floor(m),v=Math.ceil(v),c>0){for(;m<=v;++m)for(b=1;b<i;++b)if(A=m<0?b/s(-m):b*s(m),!(A<c)){if(A>d)break;x.push(A)}}else for(;m<=v;++m)for(b=i-1;b>=1;--b)if(A=m>0?b/s(-m):b*s(m),!(A<c)){if(A>d)break;x.push(A)}x.length*2<_&&(x=kN(c,d,_))}else x=kN(m,v,Math.min(v-m,_)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=NS(l)).precision==null&&(l.trim=!0),l=GU(l)),o===1/0)return l;const c=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=c?l(d):""}},e.nice=()=>t(mJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function iw(){const n=$Le(tD()).domain([1,10]);return n.copy=()=>EA(n,iw()).base(n.base()),nf.apply(n,arguments),n}function U6(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function k6(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function KLe(n){var e=1,t=n(U6(e),k6(e));return t.constant=function(i){return arguments.length?n(U6(e=+i),k6(e)):e},nD(t)}function gJ(){var n=KLe(tD());return n.copy=function(){return EA(n,gJ()).constant(n.constant())},nf.apply(n,arguments)}function F6(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function JLe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function QLe(n){return n<0?-n*n:n*n}function ZLe(n){var e=n(Cl,Cl),t=1;function i(){return t===1?n(Cl,Cl):t===.5?n(JLe,QLe):n(F6(t),F6(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},nD(e)}function jU(){var n=ZLe(tD());return n.copy=function(){return EA(n,jU()).exponent(n.exponent())},nf.apply(n,arguments),n}function e3e(){return jU.apply(null,arguments).exponent(.5)}function yJ(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[rJ(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return yJ().domain(n).range(e).unknown(t)},nf.apply(r,arguments)}const AO=new Date,EO=new Date;function fs(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),n(s);while(c<s&&s<a);return l},r.filter=s=>fs(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(AO.setTime(+s),EO.setTime(+a),n(AO),n(EO),Math.floor(t(AO,EO))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const rw=fs(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);rw.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?fs(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):rw);rw.range;const Ed=1e3,Tl=Ed*60,Cd=Tl*60,qd=Cd*24,WU=qd*7,H6=qd*30,CO=qd*365,Um=fs(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Ed)},(n,e)=>(e-n)/Ed,n=>n.getUTCSeconds());Um.range;const YU=fs(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ed)},(n,e)=>{n.setTime(+n+e*Tl)},(n,e)=>(e-n)/Tl,n=>n.getMinutes());YU.range;const XU=fs(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Tl)},(n,e)=>(e-n)/Tl,n=>n.getUTCMinutes());XU.range;const qU=fs(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ed-n.getMinutes()*Tl)},(n,e)=>{n.setTime(+n+e*Cd)},(n,e)=>(e-n)/Cd,n=>n.getHours());qU.range;const $U=fs(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Cd)},(n,e)=>(e-n)/Cd,n=>n.getUTCHours());$U.range;const CA=fs(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Tl)/qd,n=>n.getDate()-1);CA.range;const iD=fs(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/qd,n=>n.getUTCDate()-1);iD.range;const vJ=fs(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/qd,n=>Math.floor(n/qd));vJ.range;function Eg(n){return fs(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tl)/WU)}const rD=Eg(0),sw=Eg(1),t3e=Eg(2),n3e=Eg(3),v0=Eg(4),i3e=Eg(5),r3e=Eg(6);rD.range;sw.range;t3e.range;n3e.range;v0.range;i3e.range;r3e.range;function Cg(n){return fs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/WU)}const sD=Cg(0),aw=Cg(1),s3e=Cg(2),a3e=Cg(3),b0=Cg(4),o3e=Cg(5),l3e=Cg(6);sD.range;aw.range;s3e.range;a3e.range;b0.range;o3e.range;l3e.range;const KU=fs(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());KU.range;const JU=fs(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());JU.range;const $d=fs(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());$d.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:fs(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});$d.range;const Kd=fs(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Kd.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:fs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Kd.range;function bJ(n,e,t,i,r,s){const a=[[Um,1,Ed],[Um,5,5*Ed],[Um,15,15*Ed],[Um,30,30*Ed],[s,1,Tl],[s,5,5*Tl],[s,15,15*Tl],[s,30,30*Tl],[r,1,Cd],[r,3,3*Cd],[r,6,6*Cd],[r,12,12*Cd],[i,1,qd],[i,2,2*qd],[t,1,WU],[e,1,H6],[e,3,3*H6],[n,1,CO]];function o(c,d,h){const m=d<c;m&&([c,d]=[d,c]);const v=h&&typeof h.range=="function"?h:l(c,d,h),b=v?v.range(c,+d+1):[];return m?b.reverse():b}function l(c,d,h){const m=Math.abs(d-c)/h,v=UU(([,,_])=>_).right(a,m);if(v===a.length)return n.every(FN(c/CO,d/CO,h));if(v===0)return rw.every(Math.max(FN(c,d,h),1));const[b,A]=a[m/a[v-1][2]<a[v][2]/m?v-1:v];return b.every(A)}return[o,l]}const[c3e,u3e]=bJ(Kd,JU,sD,vJ,$U,XU),[d3e,f3e]=bJ($d,KU,rD,CA,qU,YU);function TO(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function MO(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function V_(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function h3e(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,c=j_(r),d=W_(r),h=j_(s),m=W_(s),v=j_(a),b=W_(a),A=j_(o),_=W_(o),x=j_(l),T=W_(l),C={a:Y,A:X,b:ne,B:K,c:null,d:Y6,e:Y6,f:L3e,g:Y3e,G:q3e,H:P3e,I:N3e,j:B3e,L:_J,m:U3e,M:k3e,p:ae,q:ye,Q:$6,s:K6,S:F3e,u:H3e,U:z3e,V:G3e,w:V3e,W:j3e,x:null,X:null,y:W3e,Y:X3e,Z:$3e,"%":q6},M={a:Se,A:de,b:xe,B:pe,c:null,d:X6,e:X6,f:Z3e,g:cUe,G:dUe,H:K3e,I:J3e,j:Q3e,L:SJ,m:eUe,M:tUe,p:He,q:ve,Q:$6,s:K6,S:nUe,u:iUe,U:rUe,V:sUe,w:aUe,W:oUe,x:null,X:null,y:lUe,Y:uUe,Z:fUe,"%":q6},O={a:I,A:F,b:U,B:j,c:q,d:j6,e:j6,f:R3e,g:V6,G:G6,H:W6,I:W6,j:C3e,L:w3e,m:E3e,M:T3e,p:P,q:A3e,Q:I3e,s:O3e,S:M3e,u:v3e,U:b3e,V:_3e,w:y3e,W:x3e,x:Z,X:H,y:V6,Y:G6,Z:S3e,"%":D3e};C.x=R(t,C),C.X=R(i,C),C.c=R(e,C),M.x=R(t,M),M.X=R(i,M),M.c=R(e,M);function R(V,ee){return function(oe){var ue=[],_e=-1,Q=0,Oe=V.length,we,ke,Ce;for(oe instanceof Date||(oe=new Date(+oe));++_e<Oe;)V.charCodeAt(_e)===37&&(ue.push(V.slice(Q,_e)),(ke=z6[we=V.charAt(++_e)])!=null?we=V.charAt(++_e):ke=we==="e"?" ":"0",(Ce=ee[we])&&(we=Ce(oe,ke)),ue.push(we),Q=_e+1);return ue.push(V.slice(Q,_e)),ue.join("")}}function B(V,ee){return function(oe){var ue=V_(1900,void 0,1),_e=N(ue,V,oe+="",0),Q,Oe;if(_e!=oe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ee&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Q=MO(V_(ue.y,0,1)),Oe=Q.getUTCDay(),Q=Oe>4||Oe===0?aw.ceil(Q):aw(Q),Q=iD.offset(Q,(ue.V-1)*7),ue.y=Q.getUTCFullYear(),ue.m=Q.getUTCMonth(),ue.d=Q.getUTCDate()+(ue.w+6)%7):(Q=TO(V_(ue.y,0,1)),Oe=Q.getDay(),Q=Oe>4||Oe===0?sw.ceil(Q):sw(Q),Q=CA.offset(Q,(ue.V-1)*7),ue.y=Q.getFullYear(),ue.m=Q.getMonth(),ue.d=Q.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Oe="Z"in ue?MO(V_(ue.y,0,1)).getUTCDay():TO(V_(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Oe+5)%7:ue.w+ue.U*7-(Oe+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,MO(ue)):TO(ue)}}function N(V,ee,oe,ue){for(var _e=0,Q=ee.length,Oe=oe.length,we,ke;_e<Q;){if(ue>=Oe)return-1;if(we=ee.charCodeAt(_e++),we===37){if(we=ee.charAt(_e++),ke=O[we in z6?ee.charAt(_e++):we],!ke||(ue=ke(V,oe,ue))<0)return-1}else if(we!=oe.charCodeAt(ue++))return-1}return ue}function P(V,ee,oe){var ue=c.exec(ee.slice(oe));return ue?(V.p=d.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function I(V,ee,oe){var ue=v.exec(ee.slice(oe));return ue?(V.w=b.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function F(V,ee,oe){var ue=h.exec(ee.slice(oe));return ue?(V.w=m.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function U(V,ee,oe){var ue=x.exec(ee.slice(oe));return ue?(V.m=T.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function j(V,ee,oe){var ue=A.exec(ee.slice(oe));return ue?(V.m=_.get(ue[0].toLowerCase()),oe+ue[0].length):-1}function q(V,ee,oe){return N(V,e,ee,oe)}function Z(V,ee,oe){return N(V,t,ee,oe)}function H(V,ee,oe){return N(V,i,ee,oe)}function Y(V){return a[V.getDay()]}function X(V){return s[V.getDay()]}function ne(V){return l[V.getMonth()]}function K(V){return o[V.getMonth()]}function ae(V){return r[+(V.getHours()>=12)]}function ye(V){return 1+~~(V.getMonth()/3)}function Se(V){return a[V.getUTCDay()]}function de(V){return s[V.getUTCDay()]}function xe(V){return l[V.getUTCMonth()]}function pe(V){return o[V.getUTCMonth()]}function He(V){return r[+(V.getUTCHours()>=12)]}function ve(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ee=R(V+="",C);return ee.toString=function(){return V},ee},parse:function(V){var ee=B(V+="",!1);return ee.toString=function(){return V},ee},utcFormat:function(V){var ee=R(V+="",M);return ee.toString=function(){return V},ee},utcParse:function(V){var ee=B(V+="",!0);return ee.toString=function(){return V},ee}}}var z6={"-":"",_:" ",0:"0"},ws=/^\s*\d+/,p3e=/^%/,m3e=/[\\^$*+?|[\]().{}]/g;function ci(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function g3e(n){return n.replace(m3e,"\\$&")}function j_(n){return new RegExp("^(?:"+n.map(g3e).join("|")+")","i")}function W_(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function y3e(n,e,t){var i=ws.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function v3e(n,e,t){var i=ws.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function b3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function _3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function x3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function G6(n,e,t){var i=ws.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function V6(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function S3e(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function A3e(n,e,t){var i=ws.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function E3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function j6(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function C3e(n,e,t){var i=ws.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function W6(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function T3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function M3e(n,e,t){var i=ws.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function w3e(n,e,t){var i=ws.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function R3e(n,e,t){var i=ws.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function D3e(n,e,t){var i=p3e.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function I3e(n,e,t){var i=ws.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function O3e(n,e,t){var i=ws.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function Y6(n,e){return ci(n.getDate(),e,2)}function P3e(n,e){return ci(n.getHours(),e,2)}function N3e(n,e){return ci(n.getHours()%12||12,e,2)}function B3e(n,e){return ci(1+CA.count($d(n),n),e,3)}function _J(n,e){return ci(n.getMilliseconds(),e,3)}function L3e(n,e){return _J(n,e)+"000"}function U3e(n,e){return ci(n.getMonth()+1,e,2)}function k3e(n,e){return ci(n.getMinutes(),e,2)}function F3e(n,e){return ci(n.getSeconds(),e,2)}function H3e(n){var e=n.getDay();return e===0?7:e}function z3e(n,e){return ci(rD.count($d(n)-1,n),e,2)}function xJ(n){var e=n.getDay();return e>=4||e===0?v0(n):v0.ceil(n)}function G3e(n,e){return n=xJ(n),ci(v0.count($d(n),n)+($d(n).getDay()===4),e,2)}function V3e(n){return n.getDay()}function j3e(n,e){return ci(sw.count($d(n)-1,n),e,2)}function W3e(n,e){return ci(n.getFullYear()%100,e,2)}function Y3e(n,e){return n=xJ(n),ci(n.getFullYear()%100,e,2)}function X3e(n,e){return ci(n.getFullYear()%1e4,e,4)}function q3e(n,e){var t=n.getDay();return n=t>=4||t===0?v0(n):v0.ceil(n),ci(n.getFullYear()%1e4,e,4)}function $3e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ci(e/60|0,"0",2)+ci(e%60,"0",2)}function X6(n,e){return ci(n.getUTCDate(),e,2)}function K3e(n,e){return ci(n.getUTCHours(),e,2)}function J3e(n,e){return ci(n.getUTCHours()%12||12,e,2)}function Q3e(n,e){return ci(1+iD.count(Kd(n),n),e,3)}function SJ(n,e){return ci(n.getUTCMilliseconds(),e,3)}function Z3e(n,e){return SJ(n,e)+"000"}function eUe(n,e){return ci(n.getUTCMonth()+1,e,2)}function tUe(n,e){return ci(n.getUTCMinutes(),e,2)}function nUe(n,e){return ci(n.getUTCSeconds(),e,2)}function iUe(n){var e=n.getUTCDay();return e===0?7:e}function rUe(n,e){return ci(sD.count(Kd(n)-1,n),e,2)}function AJ(n){var e=n.getUTCDay();return e>=4||e===0?b0(n):b0.ceil(n)}function sUe(n,e){return n=AJ(n),ci(b0.count(Kd(n),n)+(Kd(n).getUTCDay()===4),e,2)}function aUe(n){return n.getUTCDay()}function oUe(n,e){return ci(aw.count(Kd(n)-1,n),e,2)}function lUe(n,e){return ci(n.getUTCFullYear()%100,e,2)}function cUe(n,e){return n=AJ(n),ci(n.getUTCFullYear()%100,e,2)}function uUe(n,e){return ci(n.getUTCFullYear()%1e4,e,4)}function dUe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?b0(n):b0.ceil(n),ci(n.getUTCFullYear()%1e4,e,4)}function fUe(){return"+0000"}function q6(){return"%"}function $6(n){return+n}function K6(n){return Math.floor(+n/1e3)}var iv,EJ,CJ;hUe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hUe(n){return iv=h3e(n),EJ=iv.format,iv.parse,CJ=iv.utcFormat,iv.utcParse,iv}function pUe(n){return new Date(n)}function mUe(n){return n instanceof Date?+n:+new Date(+n)}function QU(n,e,t,i,r,s,a,o,l,c){var d=fJ(),h=d.invert,m=d.domain,v=c(".%L"),b=c(":%S"),A=c("%I:%M"),_=c("%I %p"),x=c("%a %d"),T=c("%b %d"),C=c("%B"),M=c("%Y");function O(R){return(l(R)<R?v:o(R)<R?b:a(R)<R?A:s(R)<R?_:i(R)<R?r(R)<R?x:T:t(R)<R?C:M)(R)}return d.invert=function(R){return new Date(h(R))},d.domain=function(R){return arguments.length?m(Array.from(R,mUe)):m().map(pUe)},d.ticks=function(R){var B=m();return n(B[0],B[B.length-1],R??10)},d.tickFormat=function(R,B){return B==null?O:c(B)},d.nice=function(R){var B=m();return(!R||typeof R.range!="function")&&(R=e(B[0],B[B.length-1],R??10)),R?m(mJ(B,R)):d},d.copy=function(){return EA(d,QU(n,e,t,i,r,s,a,o,l,c))},d}function TJ(){return nf.apply(QU(d3e,f3e,$d,KU,rD,CA,qU,YU,Um,EJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gUe(){return nf.apply(QU(c3e,u3e,Kd,JU,sD,iD,$U,XU,Um,CJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yUe(){var n=0,e=1,t,i,r,s,a=Cl,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),c):[n,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function d(h){return function(m){var v,b;return arguments.length?([v,b]=m,a=h(v,b),c):[a(0),a(1)]}}return c.range=d(eD),c.rangeRound=d(dJ),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),c}}function vUe(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function MJ(){var n=nD(yUe()(Cl));return n.copy=function(){return vUe(n,MJ())},rLe.apply(n,arguments)}function wJ(n){return n.type==="piecewise"?yJ(n.thresholds,n.colors):MJ([n.min??0,n.max??100],n.color)}function _0(n){return n.values?ZM(n.values,n.colors).unknown(n.unknownColor??null):ZM(n.colors.map((e,t)=>t),n.colors).unknown(n.unknownColor??null)}function Uv(n){return n.type==="ordinal"?_0(n):wJ(n)}function RJ(n,e,t){const{tickMaxStep:i,tickMinStep:r,tickNumber:s}=n,a=r===void 0?999:Math.floor(Math.abs(e[1]-e[0])/r),o=i===void 0?2:Math.ceil(Math.abs(e[1]-e[0])/i);return Math.min(a,Math.max(o,s??t))}function DJ(n,e){return e[1]-e[0]===0?1:n/((e[1]-e[0])/100)}function ZU(n){return Math.floor(Math.abs(n)/50)}function bUe(n,e){const t=gJ(n,e),i=t.ticks,{negativeScale:r,linearScale:s,positiveScale:a}=_Ue(t);return t.ticks=o=>{const l=i(o),c=t.constant();let d=0,h=0,m=0;l.forEach(b=>{b>-c&&b<c&&(h+=1),b<=-c&&(d+=1),b>=c&&(m+=1)});const v=[];if(d>0&&v.push(...r.ticks(d)),h>0){const b=s.ticks(h);v.at(-1)===b[0]?v.push(...b.slice(1)):v.push(...b)}if(m>0){const b=a.ticks(m);v.at(-1)===b[0]?v.push(...b.slice(1)):v.push(...b)}return v},t.tickFormat=(o=10,l)=>{const c=t.constant(),[d,h]=t.domain(),m=h-d,v=r.domain(),b=v[1]-v[0],_=(m===0?0:b/m)*o,x=s.domain(),T=x[1]-x[0],M=(m===0?0:T/m)*o,O=a.domain(),R=O[1]-O[0],N=(m===0?0:R/m)*o,P=r.tickFormat(_,l),I=s.tickFormat(M,l),F=a.tickFormat(N,l);return U=>(U.valueOf()<=-c?P:U.valueOf()>=c?F:I)(U)},t}function _Ue(n){const e=n.constant(),t=n.domain(),i=[t[0],Math.min(t[1],-e)],r=iw(i,n.range()),s=[Math.max(t[0],-e),Math.min(t[1],e)],a=VU(s,n.range()),o=[Math.max(t[0],e),t[1]],l=iw(o,n.range());return{negativeScale:r,linearScale:a,positiveScale:l}}function ek(n,e,t){switch(n){case"log":return iw(e,t);case"pow":return jU(e,t);case"sqrt":return e3e(e,t);case"time":return TJ(e,t);case"utc":return gUe(e,t);case"symlog":return bUe(e,t);default:return VU(e,t)}}const VN=n=>(n==null?void 0:n[0])instanceof Date;function jN(n,e,t){const i=TJ(n,e);return(r,{location:s})=>s==="tick"?i.tickFormat(t)(r):`${r.toLocaleString()}`}let J6,Q6;class xUe{constructor(){sn(this,"types",new Set);if(J6)throw new Error("You can only create one instance!");J6=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}class SUe{constructor(){sn(this,"types",new Set);if(Q6)throw new Error("You can only create one instance!");Q6=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const aD=new xUe;aD.addType("bar");aD.addType("line");aD.addType("scatter");const IJ=new SUe;IJ.addType("radar");function tk(n){return aD.getTypes().has(n)}const AUe=(n,e,t,i,r,s,a)=>{var c;const o=t==="x"?i[n].xExtremumGetter:i[n].yExtremumGetter,l=((c=s[n])==null?void 0:c.series)??{};return(o==null?void 0:o({series:l,axis:e,axisIndex:r,isDefaultAxis:r===0,getFilters:a}))??[1/0,-1/0]};function OJ(n,e,t,i,r,s){const a=Object.keys(t).filter(tk);let o=[1/0,-1/0];for(const l of a){const[c,d]=AUe(l,n,e,t,i,r,s);o=[Math.min(o[0],c),Math.max(o[1],d)]}return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o}const EUe=(n,e,t,i)=>{const r=new Set;return Object.keys(e).filter(tk).forEach(a=>{var c,d,h;const o=((c=t[a])==null?void 0:c.series)??{},l=(h=(d=e[a]).axisTooltipGetter)==null?void 0:h.call(d,o);l!==void 0&&l.forEach(({axisId:m,direction:v})=>{v===n&&r.add(m??i)})}),r},wO=(n,e)=>{const t=n[1]-n[0],i=e[1]-e[0],r=n[0]-e[0]*t/i,s=n[1]+(100-e[1])*t/i;return[r,s]},CUe=(n,e,t,i)=>{var r;if(n.domainLimit!==void 0)return n.domainLimit;if(e==="x")for(const s of((r=i.line)==null?void 0:r.seriesOrder)??[]){const a=i.line.series[s];if(a.xAxisId===n.id||a.xAxisId===void 0&&t===0)return"strict"}return"nice"},TUe=.2;function MUe(n,e,t){const i=e==="x"?[n.left,n.left+n.width]:[n.top+n.height,n.top];return t.reverse?[i[1],i[0]]:i}function wUe({drawingArea:n,formattedSeries:e,axis:t=[],seriesConfig:i,zoomMap:r,preferStrictDomainInLineCharts:s,defaultTickNumber:a}){const o={};return t.forEach((l,c)=>{const d=l,h=r==null?void 0:r.get(d.id);o[d.id]=PJ(d,"x",h,n,i,c,e,s,a)}),o}function RUe({drawingArea:n,formattedSeries:e,axis:t=[],seriesConfig:i,zoomMap:r,preferStrictDomainInLineCharts:s,defaultTickNumber:a}){const o={};return t.forEach((l,c)=>{const d=l,h=r==null?void 0:r.get(d.id);o[d.id]=PJ(d,"y",h,n,i,c,e,s,a)}),o}function PJ(n,e,t,i,r,s,a,o,l){const c=t?[t.start,t.end]:[0,100],d=MUe(i,e,n);if(DS(n)){const C=n.categoryGapRatio??TUe,M=e==="y"?[d[1],d[0]]:d,O=wO(M,c);return{scale:ZR(n.data,O).paddingInner(C).paddingOuter(C/2)}}if(QR(n)){const C=e==="y"?[...d].reverse():d,M=wO(C,c);return{scale:oJ(n.data,M)}}const h=n.scaleType??"linear",m=NJ(n,e,s,a,o),[v,b]=OJ(n,e,r,s,a),A=LJ(n,v,b);if(typeof m=="function"){const{min:C,max:M}=m(v,b);A[0]=C,A[1]=M}const _=RJ(n,A,l),x=wO(d,c),T=ek(h,A,x);return KBe(n)&&n.constant!=null&&T.constant(n.constant),BJ(T,n,m,_),{scale:T,tickNumber:_}}function NJ(n,e,t,i,r){return r?CUe(n,e,t,i):n.domainLimit??"nice"}function BJ(n,e,t,i){t==="nice"&&n.nice(i);const[r,s]=n.domain();n.domain([e.min??r,e.max??s])}function LJ(n,e,t){let i=e,r=t;return n.max!=null&&n.max.valueOf()<e&&(i=n.max),n.min!=null&&n.min.valueOf()>e&&(r=n.min),[n.min??i,n.max??r]}function Ua(n){return n.bandwidth!==void 0}function DUe(n){return Ua(n)&&n.paddingOuter!==void 0}function IUe(n,e,t){const i=e==="x"?[n.left,n.left+n.width]:[n.top+n.height,n.top];return t?[i[1],i[0]]:i}const OUe=.2,PUe=.1;function UJ({scales:n,drawingArea:e,formattedSeries:t,axis:i,seriesConfig:r,axisDirection:s,zoomMap:a,zoomOptions:o,getFilters:l,preferStrictDomainInLineCharts:c}){if(i===void 0)return{axis:{},axisIds:[]};const d=EUe(s,r,t,i[0].id),h={};return i.forEach((m,v)=>{const b=m,A=n[b.id];let _=A.scale;const x=o==null?void 0:o[b.id],T=a==null?void 0:a.get(b.id),C=T?[T.start,T.end]:[0,100],M=IUe(e,s,b.reverse??!1),O=!b.ignoreTooltip&&d.has(b.id),R=b.data??[];if(Ua(_)){const U=s==="y"?[M[1],M[0]]:M;if(DUe(_)&&DS(b)){const j=b.categoryGapRatio??OUe,q=b.barGapRatio??PUe;h[b.id]=be({offset:0,height:0,categoryGapRatio:j,barGapRatio:q,triggerTooltip:O},b,{data:R,scale:_,tickNumber:b.data.length,colorScale:b.colorMap&&(b.colorMap.type==="ordinal"?_0(be({values:b.data},b.colorMap)):Uv(b.colorMap))})}if(QR(b)&&(h[b.id]=be({offset:0,height:0,triggerTooltip:O},b,{data:R,scale:_,tickNumber:b.data.length,colorScale:b.colorMap&&(b.colorMap.type==="ordinal"?_0(be({values:b.data},b.colorMap)):Uv(b.colorMap))})),VN(b.data)){const j=jN(b.data,U,b.tickNumber);h[b.id].valueFormatter=b.valueFormatter??j}return}if(b.scaleType==="band"||b.scaleType==="point")return;const B=A.tickNumber,N=b,P=N.scaleType??"linear",I=DJ(B,C),F=T===void 0&&!x?l:void 0;if(F){const[U,j]=OJ(b,s,r,v,t,F);_=_.copy(),_.domain([U,j]);const q=NJ(b,s,v,t,c),Z=LJ(b,U,j);if(typeof q=="function"){const{min:H,max:Y}=q(U,j);Z[0]=H,Z[1]=Y}_.domain(Z),BJ(_,b,q,B)}h[b.id]=be({offset:0,height:0,triggerTooltip:O},N,{data:R,scaleType:P,scale:_,tickNumber:I,colorScale:N.colorMap&&wJ(N.colorMap),valueFormatter:b.valueFormatter??$Be(I,ek(P,M.map(U=>_.invert(U)),M))})}),{axis:h,axisIds:i.map(({id:m})=>m)}}function NUe(n){return n!=null}function kJ(n,e,t){return(i,r,s)=>{const a=e[i];if(!a||a.filterMode!=="discard")return null;const o=n==null?void 0:n.get(i);return o===void 0||o.start<=0&&o.end>=100?null:Ua(s)?BUe(r,o.start,o.end,t):LUe(s,o.start,o.end,t,r)}}function BUe(n,e,t,i){const r=(n==null?void 0:n.length)??0,s=Math.floor(e*r/100),a=Math.ceil(t*r/100);return function(l,c){return(l[i]??(n==null?void 0:n[c]))==null?!0:c>=s&&c<a}}function LUe(n,e,t,i,r){let s,a;[s,a]=n.domain(),s=s instanceof Date?s.getTime():s,a=a instanceof Date?a.getTime():a;const o=s+e*(a-s)/100,l=s+t*(a-s)/100;return function(d,h){const m=d[i]??(r==null?void 0:r[h]);return m==null?!0:m>=o&&m<=l}}const UUe=n=>({currentAxisId:e,seriesXAxisId:t,seriesYAxisId:i,isDefaultAxis:r})=>(s,a)=>{var c,d;return!(e===t?i:t)||r?((d=(c=Object.values(n??{}))[0])==null?void 0:d.call(c,s,a))??!0:[i,t].filter(h=>h!==e).map(h=>n[h??""]).filter(NUe).every(h=>h(s,a))},Z6=n=>(e=[])=>e.reduce((t,i)=>{const{zoom:r,id:s}=i,a=LU(r,s,n);return a&&(t[s]=a),t},{}),kUe=n=>{const e=new Map;return n.forEach(t=>{e.set(t.axisId,t)}),e},FJ=n=>n.zoom,HJ=Tt([FJ],n=>n==null?void 0:n.isInteracting),tb=Tt([FJ],n=>(n==null?void 0:n.zoomData)&&kUe(n==null?void 0:n.zoomData)),TA=Tt([ep,Ag],(n,e)=>be({},Z6("x")(n),Z6("y")(e)));Tt([TA,(n,e)=>e],(n,e)=>n[e]);const FUe=Tt([tb,TA],(n,e)=>n&&e&&kJ(n,e,"x")),HUe=Tt([tb,TA],(n,e)=>n&&e&&kJ(n,e,"y")),zUe=Tt([Xo],function(e){return ZU(e.width)}),GUe=Tt([Xo],function(e){return ZU(e.height)}),zJ=Tt([ep,Xo,qo,tf,tb,$R,zUe],function(e,t,i,r,s,a,o){return wUe({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:r,zoomMap:s,preferStrictDomainInLineCharts:a,defaultTickNumber:o})}),GJ=Tt([Ag,Xo,qo,tf,tb,$R,GUe],function(e,t,i,r,s,a,o){return RUe({drawingArea:t,formattedSeries:i,axis:e,seriesConfig:r,zoomMap:s,preferStrictDomainInLineCharts:a,defaultTickNumber:o})}),VJ=Tt([FUe,HUe,ep,Ag,zJ,GJ],(n,e,t,i,r,s)=>{if(n===void 0||e===void 0)return;const a=t==null?void 0:t.reduce((l,c)=>{const d=n(c.id,c.data,r[c.id].scale);return d!==null&&(l[c.id]=d),l},{}),o=i==null?void 0:i.reduce((l,c)=>{const d=e(c.id,c.data,s[c.id].scale);return d!==null&&(l[c.id]=d),l},{});if(!(Object.keys(a??{}).length===0&&Object.keys(o??{}).length===0))return UUe(be({},a,o))}),go=Tt([ep,Xo,qo,tf,tb,TA,VJ,$R,zJ],(n,e,t,i,r,s,a,o,l)=>UJ({scales:l,drawingArea:e,formattedSeries:t,axis:n,seriesConfig:i,axisDirection:"x",zoomMap:r,zoomOptions:s,getFilters:a,preferStrictDomainInLineCharts:o})),yo=Tt([Ag,Xo,qo,tf,tb,TA,VJ,$R,GJ],(n,e,t,i,r,s,a,o,l)=>UJ({scales:l,drawingArea:e,formattedSeries:t,axis:n,seriesConfig:i,axisDirection:"y",zoomMap:r,zoomOptions:s,getFilters:a,preferStrictDomainInLineCharts:o}));Tt([go,yo,(n,e)=>e],(n,e,t)=>(n==null?void 0:n.axis[t])??(e==null?void 0:e.axis[t]));Tt([ep,Ag,(n,e)=>e],(n,e,t)=>{const i=(n==null?void 0:n.find(r=>r.id===t))??(e==null?void 0:e.find(r=>r.id===t))??null;if(i)return i});function rv(n){return n instanceof Date?n.getTime():n}function x0(n,e){const{scale:t,data:i,reverse:r}=n;if(!Ua(t)){const a=t.invert(e);if(i===void 0)return-1;const o=rv(a);return i==null?void 0:i.findIndex((c,d)=>{const h=rv(c);return h>o&&(d===0||Math.abs(o-h)<=Math.abs(o-rv(i[d-1])))||h<=o&&(d===i.length-1||Math.abs(rv(a)-h)<Math.abs(rv(a)-rv(i[d+1])))})}const s=t.bandwidth()===0?Math.floor((e-Math.min(...t.range())+t.step()/2)/t.step()):Math.floor((e-Math.min(...t.range()))/t.step());return s<0||s>=i.length?-1:r?i.length-1-s:s}function e8(n,e,t){const{scale:i,data:r}=n;return Ua(i)?t===null||t<0||t>=r.length?null:r[t]:t===null?i.invert(e):r[t]}function WN(n,e){const t=n.createSVGPoint();return t.x=e.clientX,t.y=e.clientY,t.matrixTransform(n.getScreenCTM().inverse())}const VUe=Object.is;function jJ(n,e){if(n===e)return!0;if(!(n instanceof Object)||!(e instanceof Object))return!1;let t=0,i=0;for(const r in n)if(t+=1,!VUe(n[r],e[r])||!(r in e))return!1;for(const r in e)i+=1;return t===i}const MA=({store:n})=>{const e=Tr(function(){n.update(a=>be({},a,{interaction:be({},a.interaction,{pointer:null,item:null})}))}),t=Tr(function(a){n.update(o=>{const l=o.interaction.item;return a?l===null||Object.keys(a).some(c=>a[c]!==l[c])?o:be({},o,{interaction:be({},o.interaction,{item:null})}):l===null?o:be({},o,{interaction:be({},o.interaction,{item:null})})})}),i=Tr(function(a){n.update(o=>jJ(o.interaction.item,a)?o:be({},o,{interaction:be({},o.interaction,{item:a})}))}),r=Tr(function(a){n.update(o=>be({},o,{interaction:be({},o.interaction,{pointer:a,lastUpdate:a!==null?"pointer":o.interaction.lastUpdate})}))});return{instance:{cleanInteraction:e,setItemInteraction:i,removeItemInteraction:t,setPointerCoordinate:r}}};MA.getInitialState=()=>({interaction:{item:null,pointer:null,lastUpdate:"pointer"}});MA.params={};const oD=n=>n.interaction,jUe=Tt([oD],n=>n!==void 0),WJ=Tt([oD],n=>(n==null?void 0:n.item)??null),YJ=Tt([oD],n=>(n==null?void 0:n.pointer)??null),wA=Tt([YJ],n=>n&&n.x),RA=Tt([YJ],n=>n&&n.y),WUe=Tt([WJ],n=>n!==null),XJ=Tt([oD],n=>n==null?void 0:n.lastUpdate);function kv(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;if(Array.isArray(n)){const r=n.length;if(r!==e.length)return!1;for(let s=0;s<r;s+=1)if(!kv(n[s],e[s]))return!1;return!0}if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;const r=Array.from(n.entries());for(let s=0;s<r.length;s+=1)if(!e.has(r[s][0]))return!1;for(let s=0;s<r.length;s+=1){const a=r[s];if(!kv(a[1],e.get(a[0])))return!1}return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;const r=Array.from(n.entries());for(let s=0;s<r.length;s+=1)if(!e.has(r[s][0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){const r=n.length;if(r!==e.length)return!1;for(let s=0;s<r;s+=1)if(n[s]!==e[s])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const t=Object.keys(n),i=t.length;if(i!==Object.keys(e).length)return!1;for(let r=0;r<i;r+=1)if(!Object.prototype.hasOwnProperty.call(e,t[r]))return!1;for(let r=0;r<i;r+=1){const s=t[r];if(!kv(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}const lD=(n,e)=>e;function YN(n,e,t=e.axisIds[0]){return Array.isArray(t)?t.map(i=>x0(e.axis[i],n)):x0(e.axis[t],n)}const qJ=(n,e,t)=>{if(n===null)return null;const i=YN(n,e,t);return i===-1?null:i},nk=Tt([wA,go,lD],qJ),ik=Tt([RA,yo,lD],qJ),YUe=Tt([wA,RA,go,yo],(n,e,t,i)=>[...n===null?[]:t.axisIds.map(r=>({axisId:r,dataIndex:YN(n,t,r)})),...e===null?[]:i.axisIds.map(r=>({axisId:r,dataIndex:YN(e,i,r)}))].filter(r=>r.dataIndex!==null&&r.dataIndex>=0));function $J(n,e,t,i=e.axisIds[0]){return Array.isArray(i)?i.map((r,s)=>e8(e.axis[r],n,t[s])):e8(e.axis[i],n,t)}const XUe=Tt([wA,go,nk,lD],(n,e,t,i)=>n===null||e.axisIds.length===0?null:$J(n,e,t,i)),qUe=Tt([RA,yo,ik,lD],(n,e,t,i)=>n===null||e.axisIds.length===0?null:$J(n,e,t,i)),KJ=Tt([wA,go],(n,e)=>n===null?[]:e.axisIds.filter(t=>e.axis[t].triggerTooltip).map(t=>({axisId:t,dataIndex:x0(e.axis[t],n)})).filter(({dataIndex:t})=>t>=0),{memoizeOptions:{resultEqualityCheck:kv}}),JJ=Tt([RA,yo],(n,e)=>n===null?[]:e.axisIds.filter(t=>e.axis[t].triggerTooltip).map(t=>({axisId:t,dataIndex:x0(e.axis[t],n)})).filter(({dataIndex:t})=>t>=0),{memoizeOptions:{resultEqualityCheck:kv}}),$Ue=Tt([KJ,JJ],(n,e)=>n.length>0||e.length>0),KUe=()=>{};function JUe(n,e,t,i){const r=Rw(QUe,{store:n,selector:e,skip:i}).current;r.effect=t,G.useEffect(r.onMount(i),[i])}function QUe(n){const{store:e,selector:t,skip:i}=n;let r=!1,s;const a=()=>{o.dispose??(o.dispose=e.subscribe(l=>{const c=t(l);o.effect(s,c),s=c}))},o={effect:KUe,dispose:null,onMount:l=>()=>{if(!l)return r||(r=!0,s=t(e.value)),a(),()=>{var c;(c=o.dispose)==null||c.call(o),o.dispose=null}}};return i||(r=!0,s=t(e.value),a()),o}function ZUe(n){return n.setPointerCoordinate!==void 0}const nb=({params:n,store:e,seriesConfig:t,svgRef:i,instance:r})=>{const{xAxis:s,yAxis:a,dataset:o,onHighlightedAxisChange:l}=n,c=an(e,Xo),d=an(e,qo),h=an(e,jUe),{axis:m,axisIds:v}=an(e,go),{axis:b,axisIds:A}=an(e,yo);QK({controlled:n.highlightedAxis}),rr(()=>{n.highlightedAxis!==void 0&&e.update(M=>M.controlledCartesianAxisHighlight===n.highlightedAxis?M:be({},M,{controlledCartesianAxisHighlight:n.highlightedAxis}))},[e,n.highlightedAxis]);const _=G.useRef(!0);G.useEffect(()=>{if(_.current){_.current=!1;return}e.update(M=>be({},M,{cartesianAxis:be({},M.cartesianAxis,{x:tJ(s,o),y:nJ(a,o)})}))},[t,c,s,a,o,e]);const x=v[0],T=A[0];JUe(e,YUe,(M,O)=>{if(!Object.is(M,O)){if(M.length!==O.length){l(O);return}M!=null&&M.some(({axisId:R,dataIndex:B},N)=>O[N].axisId!==R||O[N].dataIndex!==B)&&l(O)}},!l);const C=ZUe(r);return G.useEffect(()=>{const M=i.current;if(!h||!C||!M||n.disableAxisListener)return()=>{};const O=r.addInteractionListener("moveEnd",U=>{U.detail.activeGestures.pan||r.cleanInteraction()}),R=r.addInteractionListener("panEnd",U=>{U.detail.activeGestures.move||r.cleanInteraction()}),B=r.addInteractionListener("quickPressEnd",U=>{!U.detail.activeGestures.move&&!U.detail.activeGestures.pan&&r.cleanInteraction()}),N=U=>{var H;const j=U.detail.srcEvent,q=U.detail.target,Z=WN(M,j);if(U.detail.srcEvent.buttons>=1&&(q!=null&&q.hasPointerCapture(U.detail.srcEvent.pointerId))&&!(q!=null&&q.closest("[data-charts-zoom-slider]"))&&(q==null||q.releasePointerCapture(U.detail.srcEvent.pointerId)),!r.isPointInside(Z.x,Z.y,q)){(H=r.cleanInteraction)==null||H.call(r);return}r.setPointerCoordinate(Z)},P=r.addInteractionListener("move",N),I=r.addInteractionListener("pan",N),F=r.addInteractionListener("quickPress",N);return()=>{P.cleanup(),O.cleanup(),I.cleanup(),R.cleanup(),F.cleanup(),B.cleanup()}},[i,e,m,x,b,T,r,n.disableAxisListener,h,C]),G.useEffect(()=>{const M=i.current,O=n.onAxisClick;if(M===null||!O)return()=>{};const R=r.addInteractionListener("tap",B=>{let N=null,P=!1;const I=WN(M,B.detail.srcEvent),F=x0(m[x],I.x);P=F!==-1,N=P?F:x0(b[T],I.y);const U=P?v[0]:A[0];if(N==null||N===-1)return;const j=(P?m:b)[U].data[N],q={};Object.keys(d).filter(Z=>["bar","line"].includes(Z)).forEach(Z=>{var H;(H=d[Z])==null||H.seriesOrder.forEach(Y=>{const X=d[Z].series[Y],ne=X.xAxisId,K=X.yAxisId,ae=P?ne:K;(ae===void 0||ae===U)&&(q[Y]=X.data[N])})}),O(B.detail.srcEvent,{dataIndex:N,axisValue:j,seriesValues:q})});return()=>{R.cleanup()}},[n.onAxisClick,d,i,m,v,b,A,x,T,r]),{}};nb.params={xAxis:!0,yAxis:!0,dataset:!0,onAxisClick:!0,disableAxisListener:!0,onHighlightedAxisChange:!0,highlightedAxis:!0};nb.getDefaultizedParams=({params:n})=>be({},n,{colors:n.colors??XK,theme:n.theme??"light",defaultizedXAxis:tJ(n.xAxis,n.dataset),defaultizedYAxis:nJ(n.yAxis,n.dataset)});nb.getInitialState=n=>be({cartesianAxis:{x:n.defaultizedXAxis,y:n.defaultizedYAxis}},n.highlightedAxis===void 0?{}:{controlledCartesianAxisHighlight:n.highlightedAxis});const DA=n=>n.keyboardNavigation,eke=Tt([DA],n=>(n==null?void 0:n.item)!=null),rk=Tt([DA],n=>{var e;return(e=n==null?void 0:n.item)==null?void 0:e.type}),sk=Tt([DA],n=>{var e;return(e=n==null?void 0:n.item)==null?void 0:e.seriesId}),ak=Tt([DA],n=>{var e;return(e=n==null?void 0:n.item)==null?void 0:e.dataIndex}),tke=Tt([DA],n=>!!(n!=null&&n.enableKeyboardNavigation)),QJ=n=>(e,t,i,r,s)=>{var l;if(e===void 0||t===void 0||i===void 0)return;const a=(l=s[e])==null?void 0:l.series[t];if(!a)return;let o=n==="x"?"xAxisId"in a&&a.xAxisId:"yAxisId"in a&&a.yAxisId;return(o===void 0||o===!1)&&(o=r.axisIds[0]),{axisId:o,dataIndex:i}},nke=Tt([rk,sk,ak,go,qo],QJ("x")),ike=Tt([rk,sk,ak,yo,qo],QJ("y")),ib=n=>n.controlledCartesianAxisHighlight,ZJ=(n,e,t)=>t!==void 0?t.filter(i=>e.axis[i.axisId]!==void 0).map(i=>i):n===null?[]:[{axisId:e.axisIds[0],dataIndex:n}];Tt([nk,go,ib],ZJ);Tt([ik,yo,ib],ZJ);const eQ=(n,e,t,i,r,s)=>{var c,d;if(i!==void 0)return i.map(h=>{var m,v;return be({},h,{value:(v=(m=t.axis[h.axisId])==null?void 0:m.data)==null?void 0:v[h.dataIndex]})}).filter(({value:h})=>h!==void 0);const a=e!==null&&{axisId:t.axisIds[0],dataIndex:n,value:e},o=r&&((d=(c=t.axis[r.axisId])==null?void 0:c.data)==null?void 0:d[r.dataIndex]),l=r&&o!=null&&be({},r,{value:o});if(s==="pointer"){if(a)return[a];if(l)return[l]}if(s==="keyboard"){if(l)return[l];if(a)return[a]}return[]},rke=Tt([nk,XUe,go,ib,nke,XJ],eQ),ske=Tt([ik,qUe,yo,ib,ike,XJ],eQ),tQ=(n,e)=>n===void 0?[e.axis[e.axisIds[0]]]:n.map(i=>e.axis[i.axisId]??null).filter(i=>i!==null);Tt([ib,go],tQ);Tt([ib,yo],tQ);function t8(n,e){return n.id!==void 0?n:be({id:e},n)}function n8(n){return n.colorMap?be({},n,{colorScale:n.colorMap.type==="ordinal"&&n.data?_0(be({values:n.data},n.colorMap)):Uv(n.colorMap.type==="continuous"?be({min:n.min,max:n.max},n.colorMap):n.colorMap)}):n}function nQ(n,e){if(!n||n.length===0)return{axis:{},axisIds:[]};const t={},i=[];return n.forEach((r,s)=>{const a=r.dataKey,o=r.id??`defaultized-z-axis-${s}`;if(a===void 0||r.data!==void 0){t[o]=n8(t8(r,o)),i.push(o);return}if(e===void 0)throw new Error("MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.");t[o]=n8(t8(be({},r,{data:e.map(l=>l[a])}),o)),i.push(o)}),{axis:t,axisIds:i}}const IA=({params:n,store:e})=>{const{zAxis:t,dataset:i}=n,r=G.useRef(!0);return G.useEffect(()=>{if(r.current){r.current=!1;return}e.update(s=>be({},s,{zAxis:nQ(t,i)}))},[t,i,e]),{}};IA.params={zAxis:!0,dataset:!0};IA.getInitialState=n=>({zAxis:nQ(n.zAxis,n.dataset)});const ake=n=>n,oke=Tt([ake],n=>n.zAxis),rb=({store:n,params:e})=>{QK({controlled:e.highlightedItem}),rr(()=>{n.update(r=>r.highlight.item===e.highlightedItem?r:be({},r,{highlight:be({},r.highlight,{item:e.highlightedItem})}))},[n,e.highlightedItem]);const t=Tr(()=>{var r;(r=e.onHighlightChange)==null||r.call(e,null),n.update(s=>be({},s,{highlight:{item:null}}))}),i=Tr(r=>{var a;const s=n.getSnapshot().highlight.item;jJ(s,r)||((a=e.onHighlightChange)==null||a.call(e,r),n.update(o=>be({},o,{highlight:{item:r}})))});return{instance:{clearHighlight:t,setHighlight:i}}};rb.getDefaultizedParams=({params:n})=>be({},n,{highlightedItem:n.highlightedItem??null});rb.getInitialState=n=>({highlight:{item:n.highlightedItem}});rb.params={highlightedItem:!0,onHighlightChange:!0};function iQ(n){let e=1/0,t=-1/0;for(const i of n??[])i<e&&(e=i),i>t&&(t=i);return[e,t]}const i8=(n,e)=>e==="x"?{x:n,y:null}:{x:null,y:n},rQ=n=>{var a;const{axis:e,getFilters:t,isDefaultAxis:i}=n,r=t==null?void 0:t({currentAxisId:e.id,isDefaultAxis:i}),s=r?(a=e.data)==null?void 0:a.filter((o,l)=>r({x:null,y:null},l)):e.data;return iQ(s??[])},sQ=n=>e=>{const{series:t,axis:i,getFilters:r,isDefaultAxis:s}=e;return Object.keys(t).filter(a=>{const o=n==="x"?t[a].xAxisId:t[a].yAxisId;return o===i.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:l}=t[o],c=r==null?void 0:r({currentAxisId:i.id,isDefaultAxis:s,seriesXAxisId:t[o].xAxisId,seriesYAxisId:t[o].yAxisId}),[d,h]=(l==null?void 0:l.reduce((m,v,b)=>c&&(!c(i8(v[0],n),b)||!c(i8(v[1],n),b))?m:[Math.min(...v,m[0]),Math.max(...v,m[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(d,a[0]),Math.max(h,a[1])]},[1/0,-1/0])},lke=n=>Object.keys(n.series).some(t=>n.series[t].layout==="horizontal")?sQ("x")(n):rQ(n),cke=n=>Object.keys(n.series).some(t=>n.series[t].layout==="horizontal")?rQ(n):sQ("y")(n);function mc(n){return function(){return n}}const uke=Math.PI,RO=2*uke;function aQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function dke(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function fke(n){return n}function hke(){var n=fke,e=dke,t=null,i=mc(0),r=mc(RO),s=mc(0);function a(o){var l,c=(o=aQ(o)).length,d,h,m=0,v=new Array(c),b=new Array(c),A=+i.apply(this,arguments),_=Math.min(RO,Math.max(-RO,r.apply(this,arguments)-A)),x,T=Math.min(Math.abs(_)/c,s.apply(this,arguments)),C=T*(_<0?-1:1),M;for(l=0;l<c;++l)(M=b[v[l]=l]=+n(o[l],l,o))>0&&(m+=M);for(e!=null?v.sort(function(O,R){return e(b[O],b[R])}):t!=null&&v.sort(function(O,R){return t(o[O],o[R])}),l=0,h=m?(_-c*C)/m:0;l<c;++l,A=x)d=v[l],M=b[d],x=A+(M>0?M*h:0)+C,b[d]={data:o[d],index:l,value:M,startAngle:A,endAngle:x,padAngle:T};return b}return a.value=function(o){return arguments.length?(n=typeof o=="function"?o:mc(+o),a):n},a.sortValues=function(o){return arguments.length?(e=o,t=null,a):e},a.sort=function(o){return arguments.length?(t=o,e=null,a):t},a.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:mc(+o),a):i},a.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:mc(+o),a):r},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:mc(+o),a):s},a}function S0(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function A0(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function pke(n,e){return n[e]}function mke(n){const e=[];return e.key=n,e}function oQ(){var n=mc([]),e=A0,t=S0,i=pke;function r(s){var a=Array.from(n.apply(this,arguments),mke),o,l=a.length,c=-1,d;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+i(h,a[o].key,c,s)]).data=h;for(o=0,d=aQ(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:mc(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:mc(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?A0:typeof s=="function"?s:mc(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??S0,r):t},r}function gke(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}S0(n,e)}}function yke(n,e){if((l=n.length)>0)for(var t,i=0,r,s,a,o,l,c=n[e[0]].length;i<c;++i)for(a=o=0,t=0;t<l;++t)(s=(r=n[e[t]][i])[1]-r[0])>0?(r[0]=a,r[1]=a+=s):s<0?(r[1]=o,r[0]=o+=s):(r[0]=0,r[1]=s)}function vke(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}S0(n,e)}}function bke(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,m=d[i-1][1]||0,v=(h-m)/2,b=0;b<o;++b){var A=n[e[b]],_=A[i][1]||0,x=A[i-1][1]||0;v+=_-x}l+=h,c+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=c/l)}r[i-1][1]+=r[i-1][0]=t,S0(n,e)}}function lQ(n){var e=n.map(_ke);return A0(n).sort(function(t,i){return e[t]-e[i]})}function _ke(n){for(var e=-1,t=0,i=n.length,r,s=-1/0;++e<i;)(r=+n[e][1])>s&&(s=r,t=e);return t}function cQ(n){var e=n.map(uQ);return A0(n).sort(function(t,i){return e[t]-e[i]})}function uQ(n){for(var e=0,t=-1,i=n.length,r;++t<i;)(r=+n[t][1])&&(e+=r);return e}function xke(n){return cQ(n).reverse()}function Ske(n){var e=n.length,t,i,r=n.map(uQ),s=lQ(n),a=0,o=0,l=[],c=[];for(t=0;t<e;++t)i=s[t],a<o?(a+=r[i],l.push(i)):(o+=r[i],c.push(i));return c.reverse().concat(l)}function Ake(n){return A0(n).reverse()}const DO={appearance:lQ,ascending:cQ,descending:xke,insideOut:Ske,none:A0,reverse:Ake},IO={expand:gke,diverging:yke,none:S0,silhouette:vke,wiggle:bke},dQ=n=>{const{series:e,seriesOrder:t,defaultStrategy:i}=n,r=[],s={};return t.forEach(a=>{const{stack:o,stackOrder:l,stackOffset:c}=e[a];o===void 0?r.push({ids:[a],stackingOrder:DO.none,stackingOffset:IO.none}):s[o]===void 0?(s[o]=r.length,r.push({ids:[a],stackingOrder:DO[l??(i==null?void 0:i.stackOrder)??"none"],stackingOffset:IO[c??(i==null?void 0:i.stackOffset)??"diverging"]})):(r[s[o]].ids.push(a),l!==void 0&&(r[s[o]].stackingOrder=DO[l]),c!==void 0&&(r[s[o]].stackingOffset=IO[c]))}),r},Eke=n=>n==null?"":n.toLocaleString(),Cke=(n,e)=>{const{seriesOrder:t,series:i}=n,r=dQ(n),s=e??[];t.forEach(o=>{const l=i[o].data;if(l!==void 0)l.forEach((c,d)=>{s.length<=d?s.push({[o]:c}):s[d][o]=c});else if(e===void 0)throw new Error([`MUI X Charts: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return r.forEach(o=>{const{ids:l,stackingOffset:c,stackingOrder:d}=o,h=oQ().keys(l.map(m=>{const v=i[m].dataKey;return i[m].data===void 0&&v!==void 0?v:m})).value((m,v)=>m[v]??0).order(d).offset(c)(s);l.forEach((m,v)=>{const b=i[m].dataKey;a[m]=be({layout:"vertical",labelMarkType:"square",minBarSize:0,valueFormatter:i[m].valueFormatter??Eke},i[m],{data:b?e.map(A=>{const _=A[b];return typeof _!="number"?null:_}):i[m].data,stackedData:h[v].map(([A,_])=>[A,_])})})}),{seriesOrder:t,stackingGroups:r,series:a}};function Rc(n,e){return typeof n=="function"?n(e):n}const Tke=n=>{const{seriesOrder:e,series:t}=n;return e.reduce((i,r)=>{const s=Rc(t[r].label,"legend");return s===void 0||i.push({markType:t[r].labelMarkType,id:r,seriesId:r,color:t[r].color,label:s}),i},[])},fQ=(n,e,t)=>{const i=n.layout==="vertical",r=i?e==null?void 0:e.colorScale:t==null?void 0:t.colorScale,s=i?t==null?void 0:t.colorScale:e==null?void 0:e.colorScale,a=i?e==null?void 0:e.data:t==null?void 0:t.data;return s?o=>{if(o===void 0)return n.color;const l=n.data[o],c=l===null?n.color:s(l);return c===null?n.color:c}:r&&a?o=>{if(o===void 0)return n.color;const l=a[o],c=l===null?n.color:r(l);return c===null?n.color:c}:()=>n.color},Mke=n=>{const{series:e,getColor:t,identifier:i}=n;if(!i||i.dataIndex===void 0)return null;const r=Rc(e.label,"tooltip"),s=e.data[i.dataIndex];if(s==null)return null;const a=e.valueFormatter(s,{dataIndex:i.dataIndex});return{identifier:i,color:t(i.dataIndex),label:r,value:s,formattedValue:a,markType:e.labelMarkType}},wke=n=>Object.values(n).map(e=>e.layout==="horizontal"?{direction:"y",axisId:e.yAxisId}:{direction:"x",axisId:e.xAxisId}),Rke=(n,e,t)=>be({id:n.id??`auto-generated-id-${e}`,color:t[e%t.length]},n),Dke={seriesProcessor:Cke,colorProcessor:fQ,legendGetter:Tke,tooltipGetter:Mke,axisTooltipGetter:wke,xExtremumGetter:lke,yExtremumGetter:cke,getSeriesWithDefaultValues:Rke},Ike=n=>{const{series:e,axis:t,isDefaultAxis:i,getFilters:r}=n;let s=1/0,a=-1/0;for(const o in e){if(!Object.hasOwn(e,o))continue;const l=e[o].xAxisId;if(!(l===t.id||l===void 0&&i))continue;const c=r==null?void 0:r({currentAxisId:t.id,isDefaultAxis:i,seriesXAxisId:e[o].xAxisId,seriesYAxisId:e[o].yAxisId}),d=e[o].data??[];for(let h=0;h<d.length;h+=1){const m=d[h];c&&!c(m,h)||m.x!==null&&(m.x<s&&(s=m.x),m.x>a&&(a=m.x))}}return[s,a]},Oke=n=>{const{series:e,axis:t,isDefaultAxis:i,getFilters:r}=n;let s=1/0,a=-1/0;for(const o in e){if(!Object.hasOwn(e,o))continue;const l=e[o].yAxisId;if(!(l===t.id||l===void 0&&i))continue;const c=r==null?void 0:r({currentAxisId:t.id,isDefaultAxis:i,seriesXAxisId:e[o].xAxisId,seriesYAxisId:e[o].yAxisId}),d=e[o].data??[];for(let h=0;h<d.length;h+=1){const m=d[h];c&&!c(m,h)||m.y!==null&&(m.y<s&&(s=m.y),m.y>a&&(a=m.y))}}return[s,a]},Pke=({series:n,seriesOrder:e},t)=>({series:Object.fromEntries(Object.entries(n).map(([r,s])=>{const a=s==null?void 0:s.datasetKeys,o=["x","y","id"].filter(c=>typeof(a==null?void 0:a[c])!="string");if(s!=null&&s.datasetKeys&&o.length>0)throw new Error([`MUI X Charts: scatter series with id='${r}' has incomplete datasetKeys.`,`Properties ${o.map(c=>`"${c}"`).join(", ")} are missing.`].join(`
`));const l=a?(t==null?void 0:t.map(c=>({x:c[a.x]??null,y:c[a.y]??null,z:a.z&&c[a.z],id:a.id&&c[a.id]})))??[]:s.data??[];return[r,be({labelMarkType:"circle",markerSize:4},s,{preview:be({markerSize:1},s==null?void 0:s.preview),data:l,valueFormatter:s.valueFormatter??(c=>c&&`(${c.x}, ${c.y})`)})]})),seriesOrder:e}),Nke=(n,e,t,i)=>{const r=i==null?void 0:i.colorScale,s=t==null?void 0:t.colorScale,a=e==null?void 0:e.colorScale;return r?o=>{var d,h;if(o===void 0)return n.color;if(((d=i==null?void 0:i.data)==null?void 0:d[o])!==void 0){const m=r((h=i==null?void 0:i.data)==null?void 0:h[o]);if(m!==null)return m}const l=n.data[o],c=l===null?n.color:r(l.z);return c===null?n.color:c}:s?o=>{if(o===void 0)return n.color;const l=n.data[o],c=l===null?n.color:s(l.y);return c===null?n.color:c}:a?o=>{if(o===void 0)return n.color;const l=n.data[o],c=l===null?n.color:a(l.x);return c===null?n.color:c}:()=>n.color},Bke=n=>{const{seriesOrder:e,series:t}=n;return e.reduce((i,r)=>{const s=Rc(t[r].label,"legend");return s===void 0||i.push({markType:t[r].labelMarkType,id:r,seriesId:r,color:t[r].color,label:s}),i},[])},Lke=n=>{const{series:e,getColor:t,identifier:i}=n;if(!i||i.dataIndex===void 0)return null;const r=Rc(e.label,"tooltip"),s=e.data[i.dataIndex],a=e.valueFormatter(s,{dataIndex:i.dataIndex});return{identifier:i,color:t(i.dataIndex),label:r,value:s,formattedValue:a,markType:e.labelMarkType}},Uke=(n,e,t)=>be({id:n.id??`auto-generated-id-${e}`,color:t[e%t.length]},n),kke={seriesProcessor:Pke,colorProcessor:Nke,legendGetter:Bke,tooltipGetter:Lke,xExtremumGetter:Ike,yExtremumGetter:Oke,getSeriesWithDefaultValues:Uke},Fke=n=>{const{axis:e}=n;return iQ(e.data??[])};function Hke(n,e,t,i){return t.reduce((r,s,a)=>{if(e[a]===null)return r;const[o,l]=n(s);return i&&(!i({y:o,x:null},a)||!i({y:l,x:null},a))?r:[Math.min(o,l,r[0]),Math.max(o,l,r[1])]},[1/0,-1/0])}const zke=n=>{const{series:e,axis:t,isDefaultAxis:i,getFilters:r}=n;return Object.keys(e).filter(s=>{const a=e[s].yAxisId;return a===t.id||i&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:l,data:c}=e[a],d=o!==void 0,h=r==null?void 0:r({currentAxisId:t.id,isDefaultAxis:i,seriesXAxisId:e[a].xAxisId,seriesYAxisId:e[a].yAxisId}),m=d&&t.scaleType!=="log"&&typeof e[a].baseline!="string"?_=>_:_=>[_[1],_[1]],v=Hke(m,c,l,h),[b,A]=v;return[Math.min(b,s[0]),Math.max(A,s[1])]},[1/0,-1/0])};function Gke(n,e){const t={};return Object.keys(n).forEach(i=>{t[i]=be({},n[i],{valueFormatter:n[i].valueFormatter??e})}),t}const Vke=(n,e)=>{const{seriesOrder:t,series:i}=n,r=dQ(be({},n,{defaultStrategy:{stackOffset:"none"}})),s=e??[];t.forEach(o=>{const l=i[o].data;l!==void 0&&l.forEach((c,d)=>{s.length<=d?s.push({[o]:c}):s[d][o]=c})});const a={};return r.forEach(o=>{const{ids:l,stackingOrder:c,stackingOffset:d}=o,h=oQ().keys(l.map(m=>{const v=i[m].dataKey;return i[m].data===void 0&&v!==void 0?v:m})).value((m,v)=>m[v]??0).order(c).offset(d)(s);l.forEach((m,v)=>{const b=i[m].dataKey;a[m]=be({labelMarkType:"line"},i[m],{data:b?e.map(A=>{const _=A[b];return typeof _!="number"?null:_}):i[m].data,stackedData:h[v].map(([A,_])=>[A,_])})})}),{seriesOrder:t,stackingGroups:r,series:Gke(a,o=>o==null?"":o.toLocaleString())}},jke=(n,e,t)=>{const i=t==null?void 0:t.colorScale,r=e==null?void 0:e.colorScale;return i?s=>{if(s===void 0)return n.color;const a=n.data[s],o=a===null?n.color:i(a);return o===null?n.color:o}:r?s=>{var l;if(s===void 0)return n.color;const a=(l=e.data)==null?void 0:l[s],o=a===null?n.color:r(a);return o===null?n.color:o}:()=>n.color},Wke=n=>{const{seriesOrder:e,series:t}=n;return e.reduce((i,r)=>{const s=Rc(t[r].label,"legend");return s===void 0||i.push({markType:t[r].labelMarkType,id:r,seriesId:r,color:t[r].color,label:s}),i},[])},Yke=n=>{const{series:e,getColor:t,identifier:i}=n;if(!i||i.dataIndex===void 0)return null;const r=Rc(e.label,"tooltip"),s=e.data[i.dataIndex],a=e.valueFormatter(s,{dataIndex:i.dataIndex});return{identifier:i,color:t(i.dataIndex),label:r,value:s,formattedValue:a,markType:e.labelMarkType}},Xke=n=>Object.values(n).map(e=>({direction:"x",axisId:e.xAxisId})),qke=(n,e,t)=>be({id:n.id??`auto-generated-id-${e}`,color:t[e%t.length]},n),$ke={colorProcessor:jke,seriesProcessor:Vke,legendGetter:Wke,tooltipGetter:Yke,axisTooltipGetter:Xke,xExtremumGetter:Fke,yExtremumGetter:zke,getSeriesWithDefaultValues:qke},Kke=(n="none")=>{if(typeof n=="function")return n;switch(n){case"none":return null;case"desc":return(e,t)=>t-e;case"asc":return(e,t)=>e-t;default:return null}},Jke=n=>{const{seriesOrder:e,series:t}=n,i={};return e.forEach(r=>{const s=hke().startAngle(2*Math.PI*(t[r].startAngle??0)/360).endAngle(2*Math.PI*(t[r].endAngle??360)/360).padAngle(2*Math.PI*(t[r].paddingAngle??0)/360).sortValues(Kke(t[r].sortingValues??"none"))(t[r].data.map(a=>a.value));i[r]=be({labelMarkType:"circle",valueFormatter:a=>a.value.toLocaleString()},t[r],{data:t[r].data.map((a,o)=>be({},a,{id:a.id??`auto-generated-pie-id-${r}-${o}`},s[o])).map((a,o)=>{var l,c;return be({labelMarkType:"circle"},a,{formattedValue:((c=(l=t[r]).valueFormatter)==null?void 0:c.call(l,be({},a,{label:Rc(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:i}},Qke=n=>e=>n.data[e].color,Zke=n=>{const{seriesOrder:e,series:t}=n;return e.reduce((i,r)=>(t[r].data.forEach((s,a)=>{const o=Rc(s.label,"legend");o!==void 0&&i.push({markType:s.labelMarkType??t[r].labelMarkType,id:s.id??a,seriesId:r,color:s.color,label:o,itemId:s.id??a})}),i),[])},eFe=n=>{const{series:e,getColor:t,identifier:i}=n;if(!i||i.dataIndex===void 0)return null;const r=e.data[i.dataIndex];if(r==null)return null;const s=Rc(r.label,"tooltip"),a=be({},r,{label:s}),o=e.valueFormatter(a,{dataIndex:i.dataIndex});return{identifier:i,color:t(i.dataIndex),label:s,value:a,formattedValue:o,markType:r.labelMarkType??e.labelMarkType}},tFe=(n,e,t)=>be({id:n.id??`auto-generated-id-${e}`},n,{data:n.data.map((i,r)=>be({color:t[r%t.length]},i))}),nFe={colorProcessor:Qke,seriesProcessor:Jke,legendGetter:Zke,tooltipGetter:eFe,getSeriesWithDefaultValues:tFe},iFe={bar:Dke,scatter:kke,line:$ke,pie:nFe},rFe=[IA,nb,MA,rb];function sFe(n){const{children:e,plugins:t=rFe,pluginParams:i={},seriesConfig:r=iFe}=n,{contextValue:s}=jBe(t,i,r);return W.jsx(JK.Provider,{value:s,children:e})}const rf=()=>{const n=G.useContext(JK);if(n==null)throw new Error(["MUI X Charts: Could not find the Chart context.","It looks like you rendered your component outside of a ChartDataProvider.","This can also happen if you are bundling multiple versions of the library."].join(`
`));return n};function aFe(n){"hasPointerCapture"in n.currentTarget&&n.currentTarget.hasPointerCapture(n.pointerId)&&n.currentTarget.releasePointerCapture(n.pointerId)}const oFe=(n,e)=>{const{instance:t}=rf(),i=G.useRef(!1),r=Tr(()=>{i.current=!0,t.setItemInteraction(n),t.setHighlight(n)}),s=Tr(()=>{i.current=!1,t.removeItemInteraction(n),t.clearHighlight()});return G.useEffect(()=>()=>{i.current&&s()},[s]),{onPointerEnter:r,onPointerLeave:s,onPointerDown:aFe}};function Hi(){const n=rf();if(!n)throw new Error(["MUI X Charts: Could not find the charts context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return n.store}function lFe(){return!1}function hQ(n,e){return!n||!e?lFe:function(i){return i?n.highlight==="series"?i.seriesId===e.seriesId:n.highlight==="item"?i.dataIndex===e.dataIndex&&i.seriesId===e.seriesId:!1:!1}}function cFe(){return!1}function pQ(n,e){return!n||!e?cFe:function(i){return i?n.fade==="series"?i.seriesId===e.seriesId&&i.dataIndex!==e.dataIndex:n.fade==="global"?i.seriesId!==e.seriesId||i.dataIndex!==e.dataIndex:!1:!1}}function ok(n,e,t){return(n==null?void 0:n.highlight)==="series"&&(e==null?void 0:e.seriesId)===t}function uFe(n,e,t){return ok(n,e,t)?!1:(n==null?void 0:n.fade)==="global"&&e!=null||(n==null?void 0:n.fade)==="series"&&(e==null?void 0:e.seriesId)===t}function mQ(n,e,t){return(n==null?void 0:n.highlight)==="item"&&(e==null?void 0:e.seriesId)===t?e.dataIndex:null}function dFe(n,e,t){return ok(n,e,t)||mQ(n,e,t)===(e==null?void 0:e.dataIndex)?null:((n==null?void 0:n.fade)==="series"||(n==null?void 0:n.fade)==="global")&&(e==null?void 0:e.seriesId)===t?e.dataIndex:null}const fFe=n=>n.highlight,hFe=n=>n.series,pFe=Tt([hFe],n=>{const e=new Map;return Object.keys(n.processedSeries).forEach(t=>{var r;const i=n.processedSeries[t];(r=i==null?void 0:i.seriesOrder)==null||r.forEach(s=>{const a=i==null?void 0:i.series[s];e.set(s,a==null?void 0:a.highlightScope)})}),e}),sf=Tt([fFe],function(e){return e.item}),tp=Tt([pFe,sf],function(e,t){if(!t)return null;const i=e.get(t.seriesId);return i===void 0?null:i});Tt([tp,sf],hQ);Tt([tp,sf],pQ);const mFe=Tt([tp,sf,(n,e)=>e],function(e,t,i){return hQ(e,t)(i)});Tt([tp,sf,(n,e)=>e],ok);Tt([tp,sf,(n,e)=>e],uFe);Tt([tp,sf,(n,e)=>e],dFe);Tt([tp,sf,(n,e)=>e],mQ);const gFe=Tt([tp,sf,(n,e)=>e],function(e,t,i){return pQ(e,t)(i)});function gQ(n){const e=Hi(),t=an(e,mFe,[n]),i=an(e,gFe,[n]);return{isHighlighted:t,isFaded:!t&&i}}var OO,r8;function yFe(){if(r8)return OO;r8=1;var n=4,e=.001,t=1e-7,i=10,r=11,s=1/(r-1),a=typeof Float32Array=="function";function o(A,_){return 1-3*_+3*A}function l(A,_){return 3*_-6*A}function c(A){return 3*A}function d(A,_,x){return((o(_,x)*A+l(_,x))*A+c(_))*A}function h(A,_,x){return 3*o(_,x)*A*A+2*l(_,x)*A+c(_)}function m(A,_,x,T,C){var M,O,R=0;do O=_+(x-_)/2,M=d(O,T,C)-A,M>0?x=O:_=O;while(Math.abs(M)>t&&++R<i);return O}function v(A,_,x,T){for(var C=0;C<n;++C){var M=h(_,x,T);if(M===0)return _;var O=d(_,x,T)-A;_-=O/M}return _}function b(A){return A}return OO=function(_,x,T,C){if(!(0<=_&&_<=1&&0<=T&&T<=1))throw new Error("bezier x values must be in [0, 1] range");if(_===x&&T===C)return b;for(var M=a?new Float32Array(r):new Array(r),O=0;O<r;++O)M[O]=d(O*s,_,T);function R(B){for(var N=0,P=1,I=r-1;P!==I&&M[P]<=B;++P)N+=s;--P;var F=(B-M[P])/(M[P+1]-M[P]),U=N+F*s,j=h(U,_,T);return j>=e?v(B,U,_,T):j===0?U:m(B,N,N+s,_,T)}return function(N){return N===0?0:N===1?1:d(R(N),x,C)}},OO}var vFe=yFe();const bFe=C0(vFe),_Fe=300,xFe=bFe(.66,0,.34,1);var E0=0,nx=0,Y_=0,yQ=1e3,ow,ix,lw=0,dg=0,cD=0,BS=typeof performance=="object"&&performance.now?performance:Date,vQ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function lk(){return dg||(vQ(SFe),dg=BS.now()+cD)}function SFe(){dg=0}function cw(){this._call=this._time=this._next=null}cw.prototype=bQ.prototype={constructor:cw,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?lk():+t)+(e==null?0:+e),!this._next&&ix!==this&&(ix?ix._next=this:ow=this,ix=this),this._call=n,this._time=t,XN()},stop:function(){this._call&&(this._call=null,this._time=1/0,XN())}};function bQ(n,e,t){var i=new cw;return i.restart(n,e,t),i}function AFe(){lk(),++E0;for(var n=ow,e;n;)(e=dg-n._time)>=0&&n._call.call(void 0,e),n=n._next;--E0}function s8(){dg=(lw=BS.now())+cD,E0=nx=0;try{AFe()}finally{E0=0,CFe(),dg=0}}function EFe(){var n=BS.now(),e=n-lw;e>yQ&&(cD-=e,lw=n)}function CFe(){for(var n,e=ow,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:ow=t);ix=n,XN(i)}function XN(n){if(!E0){nx&&(nx=clearTimeout(nx));var e=n-dg;e>24?(n<1/0&&(nx=setTimeout(s8,n-BS.now()-cD)),Y_&&(Y_=clearInterval(Y_))):(Y_||(lw=BS.now(),Y_=setInterval(EFe,yQ)),E0=1,vQ(s8))}}function TFe(n,e,t){var i=new cw;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}class MFe{constructor(e,t,i){sn(this,"elapsed",0);sn(this,"timer",null);this.duration=e,this.easingFn=t,this.onTickCallback=i,this.resume()}get running(){return this.timer!==null}timerCallback(e){this.elapsed=Math.min(e,this.duration);const t=this.duration===0?1:this.elapsed/this.duration,i=this.easingFn(t);this.onTickCallback(i),this.elapsed>=this.duration&&this.stop()}resume(){if(this.running||this.elapsed>=this.duration)return this;const e=lk()-this.elapsed;return this.timer=bQ(t=>this.timerCallback(t),0,e),this}stop(){return this.running?(this.timer&&(this.timer.stop(),this.timer=null),this):this}finish(){return this.stop(),TFe(()=>this.timerCallback(this.duration)),this}}function wFe(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r+=1){const s=t[r];if(!Object.prototype.hasOwnProperty.call(e,s)||!Object.is(n[s],e[s]))return!1}return!0}function RFe(n,{createInterpolator:e,applyProps:t,skip:i,initialProps:r=n}){const s=G.useRef(r),a=G.useRef(null),o=G.useRef(null),l=G.useRef(n);rr(()=>{l.current=n},[n]),rr(()=>{var h;i&&((h=a.current)==null||h.finish(),a.current=null,o.current=null,s.current=n)},[n,i]);const c=G.useCallback(h=>{const m=s.current,v=e(m,n);a.current=new MFe(_Fe,xFe,b=>{const A=v(b);s.current=A,t(h,A)})},[t,e,n]);return G.useCallback(h=>{var v,b,A,_;if(h===null){(v=a.current)==null||v.stop();return}const m=o.current;if(m===h){if(wFe(l.current,n)){(b=a.current)==null||b.resume();return}(A=a.current)==null||A.stop()}m&&((_=a.current)==null||_.stop()),o.current=h,(a.current||!i)&&c(h)},[c,n,i])}function ck(n,{createInterpolator:e,transformProps:t,applyProps:i,skip:r,initialProps:s=n,ref:a}){const o=t??(d=>d),l=RFe(n,{initialProps:s,createInterpolator:e,applyProps:(d,h)=>i(d,o(h)),skip:r});return be({},t(r?n:s),{ref:hr(l,a)})}function DFe(n,e){const t=ls(n.x,e.x),i=ls(n.y,e.y),r=ls(n.width,e.width),s=ls(n.height,e.height);return a=>({x:t(a),y:i(a),width:r(a),height:s(a)})}function IFe(n){const e={x:n.layout==="vertical"?n.x:n.xOrigin,y:n.layout==="vertical"?n.yOrigin:n.y,width:n.layout==="vertical"?n.width:0,height:n.layout==="vertical"?0:n.height};return ck({x:n.x,y:n.y,width:n.width,height:n.height},{createInterpolator:DFe,applyProps(t,i){t.setAttribute("x",i.x.toString()),t.setAttribute("y",i.y.toString()),t.setAttribute("width",i.width.toString()),t.setAttribute("height",i.height.toString())},transformProps:t=>t,initialProps:e,skip:n.skipAnimation,ref:n.ref})}const OFe=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function PFe(n){const{ownerState:e}=n,t=li(n,OFe),i=IFe(n);return W.jsx("rect",be({},t,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1,"data-highlighted":e.isHighlighted||void 0,"data-faded":e.isFaded||void 0},i))}function _Q(n,e,t){const i=e!==void 0&&n[e]?Object.keys(n).indexOf(e):0,r=e!==void 0&&t!==void 0&&n[e]&&n[e].series[t]?n[e].seriesOrder.indexOf(t):-1,s=Object.keys(n).filter(c=>c!=="sankey");for(let c=0;c<s.length;c+=1){const d=(i+c)%s.length,h=n[s[d]],m=c===0?r+1:0;for(let v=m;v<h.seriesOrder.length;v+=1)if(h.series[h.seriesOrder[v]].data.length>0)return{type:s[d],seriesId:h.seriesOrder[v]}}const a=i,o=n[s[a]],l=r;for(let c=0;c<l;c+=1)if(o.series[o.seriesOrder[c]].data.length>0)return{type:s[a],seriesId:o.seriesOrder[c]};return null}function xQ(n,e,t){const i=e!==void 0&&n[e]?Object.keys(n).indexOf(e):0,r=e!==void 0&&t!==void 0&&n[e]&&n[e].series[t]?n[e].seriesOrder.indexOf(t):1,s=Object.keys(n).filter(c=>c!=="sankey");for(let c=0;c<s.length;c+=1){const d=(s.length+i-c)%s.length,h=n[s[d]],m=c===0?r+1:h.seriesOrder.length;for(let v=1;v<m;v+=1){const b=(h.seriesOrder.length+r-v)%h.seriesOrder.length;if(h.series[h.seriesOrder[b]].data.length>0)return{type:s[d],seriesId:h.seriesOrder[b]}}}const a=i,o=n[s[a]],l=o.seriesOrder;for(let c=l.length-1;c>r;c-=1)if(o.series[o.seriesOrder[c]].data.length>0)return{type:s[a],seriesId:o.seriesOrder[c]};return null}function SQ(n,e,t){var r,s;if(e==="sankey")return!1;const i=(s=(r=n[e])==null?void 0:r.series[t])==null?void 0:s.data;return i&&i.length>0}function NFe(n){var r;let{type:e,seriesId:t}=n.keyboardNavigation.item??{};if(e===void 0||e==="sankey"||t===void 0||!SQ(n.series.processedSeries,e,t)){const s=_Q(n.series.processedSeries,e,t);if(s===null)return null;e=s.type,t=s.seriesId}const i=n.series.processedSeries[e].series[t].data.length;return{type:e,seriesId:t,dataIndex:((((r=n.keyboardNavigation.item)==null?void 0:r.dataIndex)??-1)+1)%i}}function BFe(n){var r;let{type:e,seriesId:t}=n.keyboardNavigation.item??{};if(e===void 0||e==="sankey"||t===void 0||!SQ(n.series.processedSeries,e,t)){const s=xQ(n.series.processedSeries,e,t);if(s===null)return null;e=s.type,t=s.seriesId}const i=n.series.processedSeries[e].series[t].data.length;return{type:e,seriesId:t,dataIndex:(i+(((r=n.keyboardNavigation.item)==null?void 0:r.dataIndex)??1)-1)%i}}function LFe(n){var s;let{type:e,seriesId:t}=n.keyboardNavigation.item??{};const i=_Q(n.series.processedSeries,e,t);if(i===null)return null;e=i.type,t=i.seriesId;const r=n.series.processedSeries[e].series[t].data.length;return{type:e,seriesId:t,dataIndex:Math.min(r-1,((s=n.keyboardNavigation.item)==null?void 0:s.dataIndex)??0)}}function UFe(n){var s;let{type:e,seriesId:t}=n.keyboardNavigation.item??{};const i=xQ(n.series.processedSeries,e,t);if(i===null)return null;e=i.type,t=i.seriesId;const r=n.series.processedSeries[e].series[t].data.length;return{type:e,seriesId:t,dataIndex:Math.min(r-1,((s=n.keyboardNavigation.item)==null?void 0:s.dataIndex)??0)}}const uD=({params:n,store:e,svgRef:t})=>{const i=Tr(function(){e.update(s=>s.keyboardNavigation.item===null?s:be({},s,{keyboardNavigation:be({},s.keyboardNavigation,{item:null})}))});return G.useEffect(()=>{const r=t.current;if(!r||!n.enableKeyboardNavigation)return;function s(a){e.update(o=>{let l=o.keyboardNavigation.item;switch(a.key){case"ArrowRight":l=NFe(o);break;case"ArrowLeft":l=BFe(o);break;case"ArrowDown":{l=UFe(o);break}case"ArrowUp":{l=LFe(o);break}}return l!==o.keyboardNavigation.item?(a.preventDefault(),be({},o,o.interaction&&{interaction:be({},o.interaction,{lastUpdate:"keyboard"})},{keyboardNavigation:be({},o.keyboardNavigation,{item:l})})):o})}return r.addEventListener("keydown",s),r.addEventListener("blur",i),()=>{r.removeEventListener("keydown",s),r.removeEventListener("blur",i)}},[t,i,n.enableKeyboardNavigation,e]),rr(()=>e.update(r=>r.keyboardNavigation.enableKeyboardNavigation===n.enableKeyboardNavigation?r:be({},r,{keyboardNavigation:be({},r.keyboardNavigation,{enableKeyboardNavigation:!!n.enableKeyboardNavigation})})),[e,n.enableKeyboardNavigation]),{}};uD.getInitialState=n=>({keyboardNavigation:{item:null,enableKeyboardNavigation:!!n.enableKeyboardNavigation}});uD.params={enableKeyboardNavigation:!0};function kFe(){const n=Hi(),e=an(n,rk),t=an(n,sk),i=an(n,ak);return G.useMemo(()=>e===void 0||t===void 0||i===void 0?null:{seriesType:e,seriesId:t,dataIndex:i},[e,t,i])}function FFe(n){const e=kFe();return e!==null&&e.seriesType===n.seriesType&&e.seriesId===n.seriesId&&e.dataIndex===n.dataIndex}const HFe=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function zFe(n){const{id:e,dataIndex:t,classes:i,color:r,slots:s,slotProps:a,style:o,onClick:l,skipAnimation:c,layout:d,x:h,xOrigin:m,y:v,yOrigin:b,width:A,height:_}=n,x=li(n,HFe),T=oFe({type:"bar",seriesId:e,dataIndex:t}),{isFaded:C,isHighlighted:M}=gQ({seriesId:e,dataIndex:t}),O=FFe({seriesType:"bar",seriesId:e,dataIndex:t}),R={id:e,dataIndex:t,classes:i,color:r,isFaded:C,isHighlighted:M,isFocused:O},B=zNe(R),N=(s==null?void 0:s.bar)??PFe,P=Iu({elementType:N,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:x,additionalProps:be({},T,{id:e,dataIndex:t,color:r,x:h,xOrigin:m,y:v,yOrigin:b,width:A,height:_,style:o,onClick:l,cursor:l?"pointer":"unset",stroke:"none",fill:r,skipAnimation:c,layout:d,"data-focused":O||void 0}),className:B.root,ownerState:R});return W.jsx(N,be({},P))}function Ul(){const n=Hi();return an(n,Xo)}function uk(){const n=Hi();return an(n,TBe)}function dk(n){return IJ.getTypes().has(n)}const GFe=(n,e,t,i,r,s,a)=>{var v;const o=i==="rotation"?r[e].rotationExtremumGetter:r[e].radiusExtremumGetter,l=((v=a[e])==null?void 0:v.series)??{},[c,d]=(o==null?void 0:o({series:l,axis:t,axisIndex:s,isDefaultAxis:s===0}))??[1/0,-1/0],[h,m]=n;return[Math.min(c,h),Math.max(d,m)]},VFe=(n,e,t,i,r)=>{const a=Object.keys(t).filter(dk).reduce((o,l)=>GFe(o,l,n,e,t,i,r),[1/0,-1/0]);return Number.isNaN(a[0])||Number.isNaN(a[1])?[1/0,-1/0]:a},rx=(n,e)=>n===void 0?e:Math.PI*n/180,jFe=(n,e,t,i)=>{const r=new Set;return Object.keys(e).filter(dk).forEach(a=>{var c,d,h;const o=((c=t[a])==null?void 0:c.series)??{},l=(h=(d=e[a]).axisTooltipGetter)==null?void 0:h.call(d,o);l!==void 0&&l.forEach(({axisId:m,direction:v})=>{v===n&&r.add(m??i)})}),r};function WFe(n,e,t){if(e==="rotation"){if(t.scaleType==="point"){const i=[rx(t.startAngle,0),rx(t.endAngle,2*Math.PI)],r=i[1]-i[0];return r>Math.PI*2-.1&&(i[1]-=r/t.data.length),i}return[rx(t.startAngle,0),rx(t.endAngle,2*Math.PI)]}return[0,Math.min(n.height,n.width)/2]}const YFe=.2,XFe=.1;function AQ({drawingArea:n,formattedSeries:e,axis:t,seriesConfig:i,axisDirection:r}){if(t===void 0)return{axis:{},axisIds:[]};const s=jFe(r,i,e,t[0].id),a={};return t.forEach((o,l)=>{const c=o,d=WFe(n,r,c),[h,m]=VFe(c,r,i,l,e),v=!c.ignoreTooltip&&s.has(c.id),b=c.data??[];if(DS(c)){const P=c.categoryGapRatio??YFe,I=c.barGapRatio??XFe;if(a[c.id]=be({offset:0,categoryGapRatio:P,barGapRatio:I,triggerTooltip:v},c,{data:b,scale:ZR(c.data,d).paddingInner(P).paddingOuter(P/2),tickNumber:c.data.length,colorScale:c.colorMap&&(c.colorMap.type==="ordinal"?_0(be({values:c.data},c.colorMap)):Uv(c.colorMap))}),VN(c.data)){const F=jN(c.data,d,c.tickNumber);a[c.id].valueFormatter=c.valueFormatter??F}}if(QR(c)&&(a[c.id]=be({offset:0,triggerTooltip:v},c,{data:b,scale:oJ(c.data,d),tickNumber:c.data.length,colorScale:c.colorMap&&(c.colorMap.type==="ordinal"?_0(be({values:c.data},c.colorMap)):Uv(c.colorMap))}),VN(c.data))){const P=jN(c.data,d,c.tickNumber);a[c.id].valueFormatter=c.valueFormatter??P}if(c.scaleType==="band"||c.scaleType==="point")return;const A=c.scaleType??"linear",_=c.domainLimit??"nice",x=[c.min??h,c.max??m];if(typeof _=="function"){const{min:P,max:I}=_(h,m);x[0]=P,x[1]=I}const T=RJ(c,x,ZU(Math.abs(d[1]-d[0]))),C=DJ(T,d),M=ek(A,x,d),O=_==="nice"?M.nice(T):M,[R,B]=O.domain(),N=[c.min??R,c.max??B];a[c.id]=be({offset:0,triggerTooltip:v},c,{data:b,scaleType:A,scale:O.domain(N),tickNumber:C,colorScale:c.colorMap&&Uv(c.colorMap)})}),{axis:a,axisIds:t.map(({id:o})=>o)}}const EQ=n=>n.polarAxis,CQ=Tt([EQ],n=>n==null?void 0:n.rotation),qFe=Tt([EQ],n=>n==null?void 0:n.radius),Tg=Tt([CQ,Xo,qo,tf],(n,e,t,i)=>AQ({drawingArea:e,formattedSeries:t,axis:n,seriesConfig:i,axisDirection:"rotation"})),$Fe=Tt([qFe,Xo,qo,tf],(n,e,t,i)=>AQ({drawingArea:e,formattedSeries:t,axis:n,seriesConfig:i,axisDirection:"radius"})),KFe=Tt([Xo],n=>({cx:n.left+n.width/2,cy:n.top+n.height/2})),JFe=n=>(e,t)=>Math.atan2(e-n.cx,n.cy-t);function dD(n){return(n%360+360)%360}const PO=2*Math.PI;function QFe(n){return(n%PO+PO)%PO}function a8(n,e){const{scale:t,data:i,reverse:r}=n;if(!Ua(t))throw new Error("MUI X Charts: getAxisValue is not implemented for polare continuous axes.");if(!i)return-1;const s=QFe(e-Math.min(...t.range())),a=t.bandwidth()===0?Math.floor((s+t.step()/2)/t.step())%i.length:Math.floor(s/t.step());return a<0||a>=i.length?-1:r?i.length-1-a:a}function af(){const n=Hi(),{axis:e,axisIds:t}=an(n,go);return{xAxis:e,xAxisIds:t}}function of(){const n=Hi(),{axis:e,axisIds:t}=an(n,yo);return{yAxis:e,yAxisIds:t}}function ZFe(n){const e=Hi(),{axis:t,axisIds:i}=an(e,go),r=i[0];return t[r]}function eHe(n){const e=Hi(),{axis:t,axisIds:i}=an(e,yo),r=i[0];return t[r]}function TQ(){const n=Hi(),{axis:e,axisIds:t}=an(n,Tg);return{rotationAxis:e,rotationAxisIds:t}}function tHe(){const n=Hi(),{axis:e,axisIds:t}=an(n,$Fe);return{radiusAxis:e,radiusAxisIds:t}}function nHe(n){const e=Hi(),{axis:t,axisIds:i}=an(e,Tg),r=i[0];return t[r]}function uw(n){if(Ua(n))return t=>(n(t)??0)+n.bandwidth()/2;const e=n.domain();return e[0]===e[1]?t=>t===e[0]?n(t):NaN:t=>n(t)}function fk(){const n=Hi(),{axis:e,axisIds:t}=an(n,oke)??{axis:{},axisIds:[]};return{zAxis:e,zAxisIds:t}}function hk(){const n=rf();if(!n)throw new Error(["MUI X Charts: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return n.svgRef}function fD(){const n=Hi();return an(n,qo)}function iHe(n,e){if(n===e)return!0;if(!Array.isArray(n)||!Array.isArray(e))return!1;let t=n.length;if(t!==e.length)return!1;for(;t--;)if(n[t]!==e[t])return!1;return!0}function rHe(n){const e=Tt([qo,(t,i)=>i],(t,i)=>{var s,a,o,l,c,d;if(!i||Array.isArray(i)&&i.length===0)return((a=(s=t[n])==null?void 0:s.seriesOrder)==null?void 0:a.map(h=>{var m;return(m=t[n])==null?void 0:m.series[h]}))??[];if(!Array.isArray(i))return(l=(o=t[n])==null?void 0:o.series)==null?void 0:l[i];const r=[];for(const h of i){const m=(d=(c=t[n])==null?void 0:c.series)==null?void 0:d[h];m&&r.push(m)}return r});return t=>{const i=Hi();return an(i,e,[t],iHe)}}function sHe(n){const e=Tt([qo],t=>t[n]);return()=>{const t=Hi();return an(t,e)}}rHe("bar");const aHe=sHe("bar");function oHe(){return aHe()}function lHe(n,e){return Object.keys(n).flatMap(t=>{const i=e[t].legendGetter;return i===void 0?[]:i(n[t])})}function cHe(){const n=fD(),e=Hi(),t=an(e,tf);return{items:lHe(n,t)}}function uHe(){const n=uk();return G.useCallback(e=>`${n}-gradient-${e}`,[n])}function dHe(){const n=uk();return G.useCallback(e=>`${n}-gradient-${e}-object-bound`,[n])}function fHe(n,e){const t=ls(n.x,e.x),i=ls(n.y,e.y),r=ls(n.width,e.width),s=ls(n.height,e.height);return a=>({x:t(a),y:i(a),width:r(a),height:s(a)})}function hHe(n){const e={x:n.layout==="vertical"?n.x+n.width/2:n.xOrigin,y:n.layout==="vertical"?n.yOrigin:n.y+n.height/2,width:n.width,height:n.height},t={x:n.x+n.width/2,y:n.y+n.height/2,width:n.width,height:n.height};return ck(t,{createInterpolator:fHe,transformProps:i=>i,applyProps(i,r){i.setAttribute("x",r.x.toString()),i.setAttribute("y",r.y.toString()),i.setAttribute("width",r.width.toString()),i.setAttribute("height",r.height.toString())},initialProps:e,skip:n.skipAnimation,ref:n.ref})}function pHe(){return rf().chartRootRef}const mHe={"image/png":"PNG","image/jpeg":"JPEG","image/webp":"WebP"},gHe=n=>({components:{MuiChartsLocalizationProvider:{defaultProps:{localeText:be({},n)}}}}),MQ={loading:"Loading data",noData:"No data to display",zoomIn:"Zoom in",zoomOut:"Zoom out",toolbarExport:"Export",toolbarExportPrint:"Print",toolbarExportImage:n=>`Export as ${mHe[n]??n}`,chartTypeBar:"Bar",chartTypeColumn:"Column",chartTypeLine:"Line",chartTypeArea:"Area",chartTypePie:"Pie",chartPaletteLabel:"Color palette",chartPaletteNameRainbowSurge:"Rainbow Surge",chartPaletteNameBlueberryTwilight:"Blueberry Twilight",chartPaletteNameMangoFusion:"Mango Fusion",chartPaletteNameCheerfulFiesta:"Cheerful Fiesta",chartPaletteNameStrawberrySky:"Strawberry Sky",chartPaletteNameBlue:"Blue",chartPaletteNameGreen:"Green",chartPaletteNamePurple:"Purple",chartPaletteNameRed:"Red",chartPaletteNameOrange:"Orange",chartPaletteNameYellow:"Yellow",chartPaletteNameCyan:"Cyan",chartPaletteNamePink:"Pink",chartConfigurationSectionChart:"Chart",chartConfigurationSectionColumns:"Columns",chartConfigurationSectionBars:"Bars",chartConfigurationSectionAxes:"Axes",chartConfigurationGrid:"Grid",chartConfigurationBorderRadius:"Border radius",chartConfigurationCategoryGapRatio:"Category gap ratio",chartConfigurationBarGapRatio:"Series gap ratio",chartConfigurationStacked:"Stacked",chartConfigurationShowToolbar:"Show toolbar",chartConfigurationSkipAnimation:"Skip animation",chartConfigurationInnerRadius:"Inner radius",chartConfigurationOuterRadius:"Outer radius",chartConfigurationColors:"Colors",chartConfigurationHideLegend:"Hide legend",chartConfigurationShowMark:"Show mark",chartConfigurationHeight:"Height",chartConfigurationWidth:"Width",chartConfigurationSeriesGap:"Series gap",chartConfigurationTickPlacement:"Tick placement",chartConfigurationTickLabelPlacement:"Tick label placement",chartConfigurationCategoriesAxisLabel:"Categories axis label",chartConfigurationSeriesAxisLabel:"Series axis label",chartConfigurationXAxisPosition:"X-axis position",chartConfigurationYAxisPosition:"Y-axis position",chartConfigurationSeriesAxisReverse:"Reverse series axis",chartConfigurationTooltipPlacement:"Placement",chartConfigurationTooltipTrigger:"Trigger",chartConfigurationLegendPosition:"Position",chartConfigurationLegendDirection:"Direction",chartConfigurationBarLabels:"Bar labels",chartConfigurationColumnLabels:"Column labels",chartConfigurationInterpolation:"Interpolation",chartConfigurationSectionTooltip:"Tooltip",chartConfigurationSectionLegend:"Legend",chartConfigurationSectionLines:"Lines",chartConfigurationSectionAreas:"Areas",chartConfigurationSectionArcs:"Arcs",chartConfigurationPaddingAngle:"Padding angle",chartConfigurationCornerRadius:"Corner radius",chartConfigurationArcLabels:"Arc labels",chartConfigurationStartAngle:"Start angle",chartConfigurationEndAngle:"End angle",chartConfigurationPieTooltipTrigger:"Trigger",chartConfigurationPieLegendPosition:"Position",chartConfigurationPieLegendDirection:"Direction",chartConfigurationOptionNone:"None",chartConfigurationOptionValue:"Value",chartConfigurationOptionAuto:"Auto",chartConfigurationOptionTop:"Top",chartConfigurationOptionTopLeft:"Top Left",chartConfigurationOptionTopRight:"Top Right",chartConfigurationOptionBottom:"Bottom",chartConfigurationOptionBottomLeft:"Bottom Left",chartConfigurationOptionBottomRight:"Bottom Right",chartConfigurationOptionLeft:"Left",chartConfigurationOptionRight:"Right",chartConfigurationOptionAxis:"Axis",chartConfigurationOptionItem:"Item",chartConfigurationOptionHorizontal:"Horizontal",chartConfigurationOptionVertical:"Vertical",chartConfigurationOptionBoth:"Both",chartConfigurationOptionStart:"Start",chartConfigurationOptionMiddle:"Middle",chartConfigurationOptionEnd:"End",chartConfigurationOptionExtremities:"Extremities",chartConfigurationOptionTick:"Tick",chartConfigurationOptionMonotoneX:"Monotone X",chartConfigurationOptionMonotoneY:"Monotone Y",chartConfigurationOptionCatmullRom:"Catmull-Rom",chartConfigurationOptionLinear:"Linear",chartConfigurationOptionNatural:"Natural",chartConfigurationOptionStep:"Step",chartConfigurationOptionStepBefore:"Step Before",chartConfigurationOptionStepAfter:"Step After",chartConfigurationOptionBumpX:"Bump X",chartConfigurationOptionBumpY:"Bump Y"},yHe=MQ;gHe(MQ);const vHe=["localeText"],qN=G.createContext(null);function bHe(n){const{localeText:e}=n,t=li(n,vHe),{localeText:i}=G.useContext(qN)??{localeText:void 0},r=Wo({props:t,name:"MuiChartsLocalizationProvider"}),{children:s,localeText:a}=r,o=G.useMemo(()=>be({},yHe,a,i,e),[a,i,e]),l=G.useMemo(()=>({localeText:o}),[o]);return W.jsx(qN.Provider,{value:l,children:s})}const wQ=()=>{const n=G.useContext(qN);if(n===null)throw new Error(["MUI X Charts: Can not find the charts localization context.","It looks like you forgot to wrap your component in ChartsLocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-charts` package"].join(`
`));return n};function _He(n,e){const t=ls(n.x,e.x),i=ls(n.y,e.y),r=ls(n.width,e.width),s=ls(n.height,e.height),a=ls(n.borderRadius,e.borderRadius);return o=>({x:t(o),y:i(o),width:r(o),height:s(o),borderRadius:a(o)})}function xHe(n){const e={x:n.layout==="vertical"?n.x:n.xOrigin,y:n.layout==="vertical"?n.yOrigin:n.y,width:n.layout==="vertical"?n.width:0,height:n.layout==="vertical"?0:n.height,borderRadius:n.borderRadius};return ck({x:n.x,y:n.y,width:n.width,height:n.height,borderRadius:n.borderRadius},{createInterpolator:_He,transformProps:t=>({d:AHe(n.hasNegative,n.hasPositive,n.layout,t.x,t.y,t.width,t.height,n.xOrigin,n.yOrigin,t.borderRadius)}),applyProps(t,{d:i}){i&&t.setAttribute("d",i)},initialProps:e,skip:n.skipAnimation,ref:n.ref})}function SHe(n){const{maskId:e,x:t,y:i,width:r,height:s,skipAnimation:a}=n,{ref:o,d:l}=xHe({layout:n.layout??"vertical",hasNegative:n.hasNegative,hasPositive:n.hasPositive,xOrigin:n.xOrigin,yOrigin:n.yOrigin,x:t,y:i,width:r,height:s,borderRadius:n.borderRadius??0,skipAnimation:a});return!n.borderRadius||n.borderRadius<=0?null:W.jsx("clipPath",{id:e,children:W.jsx("path",{ref:o,d:l})})}function AHe(n,e,t,i,r,s,a,o,l,c){if(t==="vertical"){if(e&&n){const h=Math.min(c,s/2,a/2);return`M${i},${r+a/2} v${-(a/2-h)} a${h},${h} 0 0 1 ${h},${-h} h${s-h*2} a${h},${h} 0 0 1 ${h},${h} v${a-2*h} a${h},${h} 0 0 1 ${-h},${h} h${-(s-h*2)} a${h},${h} 0 0 1 ${-h},${-h} v${-(a/2-h)}`}const d=Math.min(c,s/2);if(e)return`M${i},${Math.max(l,r+d)} v${Math.min(0,-(l-r-d))} a${d},${d} 0 0 1 ${d},${-d} h${s-d*2} a${d},${d} 0 0 1 ${d},${d} v${Math.max(0,l-r-d)} Z`;if(n)return`M${i},${Math.min(l,r+a-d)} v${Math.max(0,a-d)} a${d},${d} 0 0 0 ${d},${d} h${s-d*2} a${d},${d} 0 0 0 ${d},${-d} v${-Math.max(0,a-d)} Z`}if(t==="horizontal"){if(e&&n){const h=Math.min(c,s/2,a/2);return`M${i+s/2},${r} h${s/2-h} a${h},${h} 0 0 1 ${h},${h} v${a-h*2} a${h},${h} 0 0 1 ${-h},${h} h${-(s-2*h)} a${h},${h} 0 0 1 ${-h},${-h} v${-(a-h*2)} a${h},${h} 0 0 1 ${h},${-h} h${s/2-h}`}const d=Math.min(c,a/2);if(e)return`M${Math.min(o,i-d)},${r} h${s} a${d},${d} 0 0 1 ${d},${d} v${a-d*2} a${d},${d} 0 0 1 ${-d},${d} h${-s} Z`;if(n)return`M${Math.max(o,i+s+d)},${r} h${-s} a${d},${d} 0 0 0 ${-d},${d} v${a-d*2} a${d},${d} 0 0 0 ${d},${d} h${s} Z`}}function EHe(n){return en("MuiBarLabel",n)}const NO=Xt("MuiBarLabel",["root","highlighted","faded","animate"]),CHe=n=>{const{classes:e,seriesId:t,isFaded:i,isHighlighted:r,skipAnimation:s}=n,a={root:["root",`series-${t}`,r&&"highlighted",i&&"faded",!s&&"animate"]};return Jt(a,EHe,e)},THe=n=>{const{barLabel:e,value:t,dataIndex:i,seriesId:r,height:s,width:a}=n;return e==="value"?t?t==null?void 0:t.toString():null:e({seriesId:r,dataIndex:i,value:t},{bar:{height:s,width:a}})},MHe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],wHe=lt("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(n,e)=>[{[`&.${NO.faded}`]:e.faded},{[`&.${NO.highlighted}`]:e.highlighted},e.root]})(({theme:n})=>{var e,t,i,r;return be({},(e=n==null?void 0:n.typography)==null?void 0:e.body2,{stroke:"none",fill:(r=(i=(t=n.vars||n)==null?void 0:t.palette)==null?void 0:i.text)==null?void 0:r.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${NO.faded}`]:{opacity:.3}})});function RHe(n){const e=Wo({props:n,name:"MuiBarLabel"}),t=li(e,MHe),i=hHe(e);return W.jsx(wHe,be({},t,i))}const DHe=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],IHe=["ownerState"];function OHe(n){const{seriesId:e,classes:t,color:i,dataIndex:r,barLabel:s,slots:a,slotProps:o,xOrigin:l,yOrigin:c,x:d,y:h,width:m,height:v,value:b,skipAnimation:A,layout:_}=n,x=li(n,DHe),{isFaded:T,isHighlighted:C}=gQ({seriesId:e,dataIndex:r}),M={seriesId:e,classes:t,color:i,isFaded:T,isHighlighted:C,dataIndex:r,skipAnimation:A,layout:_},O=CHe(M),R=(a==null?void 0:a.barLabel)??RHe,B=Iu({elementType:R,externalSlotProps:o==null?void 0:o.barLabel,additionalProps:be({},x,{xOrigin:l,yOrigin:c,x:d,y:h,width:m,height:v,className:O.root}),ownerState:M}),{ownerState:N}=B,P=li(B,IHe);if(!s)return null;const I=THe({barLabel:s,value:b,dataIndex:r,seriesId:e,height:v,width:m});return I?W.jsx(R,be({},P,N,{children:I})):null}function PHe(n){return en("MuiBar",n)}Xt("MuiBar",["root","series","seriesLabels"]);const RQ=n=>Jt({root:["root"],series:["series"],seriesLabels:["seriesLabels"]},PHe,n),NHe=["bars","skipAnimation"];function BHe(n){const{bars:e,skipAnimation:t}=n,i=li(n,NHe),r=RQ();return W.jsx(G.Fragment,{children:e.flatMap(({seriesId:s,data:a})=>W.jsx("g",{className:r.seriesLabels,"data-series":s,children:a.map(({xOrigin:o,yOrigin:l,x:c,y:d,dataIndex:h,color:m,value:v,width:b,height:A,layout:_})=>W.jsx(OHe,be({seriesId:s,dataIndex:h,value:v,color:m,xOrigin:o,yOrigin:l,x:c,y:d,width:b,height:A,skipAnimation:t??!1,layout:_??"vertical"},i),h))},s))})}function LHe(n){const e=Hi(),t=an(e,aBe);return n||t}function UHe(){const n=Hi();return an(n,HJ)}const BO=(n,e)=>{const t=`${n}-axis`,i=`${n}Axis`;return e===(n==="x"?TU:MU)?`The first \`${i}\``:`The ${t} with id "${e}"`};function kHe(n,e,t,i,r,s,a){const o=r[i],l=a[s],c=n?o:l,d=n?l:o,h=n?i:s,m=n?s:i,v=n?"x":"y",b=n?"y":"x";if(!DS(c))throw new Error(`MUI X Charts: ${BO(v,h)} should be of type "band" to display the bar series of id "${e}".`);if(c.data===void 0)throw new Error(`MUI X Charts: ${BO(v,h)} should have data property.`);if(DS(d)||QR(d))throw new Error(`MUI X Charts: ${BO(b,m)} should be a continuous type to display the bar series of id "${e}".`)}function FHe(n,e,t){const i=oHe()??{series:{},stackingGroups:[]},r=af().xAxisIds[0],s=of().yAxisIds[0],a=uk(),{series:o,stackingGroups:l}=i,c={};return{completedData:l.flatMap(({ids:h},m)=>{const v=n.left,b=n.left+n.width,A=n.top,_=n.top+n.height;return h.map(x=>{const T=o[x].xAxisId??r,C=o[x].yAxisId??s,M=e[T],O=t[C],R=o[x].layout==="vertical";kHe(R,x,o[x],T,e,C,t);const B=R?M:O,N=M.scale,P=O.scale,I=fQ(o[x],e[T],t[C]),F=B.scale.bandwidth(),{barWidth:U,offset:j}=HHe({bandWidth:F,numberOfGroups:l.length,gapRatio:B.barGapRatio}),q=m*(U+j),{stackedData:Z,data:H,layout:Y,minBarSize:X}=o[x],ne=B.data.map((K,ae)=>{if(H[ae]==null)return null;const Se=Z[ae].map(oe=>R?P(oe):N(oe)),de=Math.round(Math.min(...Se)),xe=Math.round(Math.max(...Se)),pe=o[x].stack,{barSize:He,startCoordinate:ve}=zHe(R,de,xe,H[ae],X),V={seriesId:x,dataIndex:ae,layout:Y,x:R?N(K)+q:ve,y:R?ve:P(K)+q,xOrigin:N(0)??0,yOrigin:P(0)??0,height:R?He:U,width:R?U:He,color:I(ae),value:H[ae],maskId:`${a}_${pe||x}_${m}_${ae}`};if(V.x>b||V.x+V.width<v||V.y>_||V.y+V.height<A)return null;c[V.maskId]||(c[V.maskId]={id:V.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:V.layout,xOrigin:N(0),yOrigin:P(0),x:0,y:0});const ee=c[V.maskId];return ee.width=V.layout==="vertical"?V.width:ee.width+V.width,ee.height=V.layout==="vertical"?ee.height+V.height:V.height,ee.x=Math.min(ee.x===0?1/0:ee.x,V.x),ee.y=Math.min(ee.y===0?1/0:ee.y,V.y),ee.hasNegative=ee.hasNegative||(V.value??0)<0,ee.hasPositive=ee.hasPositive||(V.value??0)>0,V}).filter(K=>K!==null);return{seriesId:x,data:ne}})}),masksData:Object.values(c)}}function HHe({bandWidth:n,numberOfGroups:e,gapRatio:t}){if(t===0)return{barWidth:n/e,offset:0};const i=n/(e+(e-1)*t),r=t*i;return{barWidth:i,offset:r}}function zHe(n,e,t,i,r){if(i===0||i==null)return{barSize:0,startCoordinate:e};const s=t-e<r,a=s?r:t-e,o=n&&i>=0,l=!n&&i<0;return s&&(o||l)?{barSize:a,startCoordinate:t-a}:{barSize:a,startCoordinate:e}}const GHe=["skipAnimation","onItemClick","borderRadius","barLabel"],VHe=lt("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${HNe.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function jHe(n){const{skipAnimation:e,onItemClick:t,borderRadius:i,barLabel:r}=n,s=li(n,GHe),a=UHe(),o=LHe(a||e),{xAxis:l}=af(),{yAxis:c}=of(),{completedData:d,masksData:h}=FHe(Ul(),l,c),m=!i||i<=0,v=RQ();return W.jsxs(VHe,{className:v.root,children:[!m&&h.map(({id:b,x:A,y:_,xOrigin:x,yOrigin:T,width:C,height:M,hasPositive:O,hasNegative:R,layout:B})=>W.jsx(SHe,{maskId:b,borderRadius:i,hasNegative:R,hasPositive:O,layout:B,x:A,y:_,xOrigin:x,yOrigin:T,width:C,height:M,skipAnimation:o??!1},b)),d.map(({seriesId:b,data:A})=>W.jsx("g",{"data-series":b,className:v.series,children:A.map(({dataIndex:_,color:x,maskId:T,layout:C,x:M,xOrigin:O,y:R,yOrigin:B,width:N,height:P})=>{const I=W.jsx(zFe,be({id:b,dataIndex:_,color:x,skipAnimation:o??!1,layout:C??"vertical",x:M,xOrigin:O,y:R,yOrigin:B,width:N,height:P},s,{onClick:t&&(F=>{t(F,{type:"bar",seriesId:b,dataIndex:_})})}),_);return m?I:W.jsx("g",{clipPath:`url(#${T})`,children:I},_)})},b)),r&&W.jsx(BHe,be({bars:d,skipAnimation:o,barLabel:r},s))]})}function hD(){const[n,e]=G.useState(typeof window<"u"||!1);return G.useEffect(()=>{e(!0)},[]),n}function pk(n){return typeof n=="number"&&!Number.isFinite(n)}const LO={start:0,extremities:0,end:1,middle:.5};function WHe(n){const{scale:e,tickNumber:t,valueFormatter:i,tickInterval:r,tickPlacement:s="extremities",tickLabelPlacement:a,isInside:o}=n;if(Ua(e)){const m=e.domain(),v=a??"middle";return e.bandwidth()>0?[...(typeof r=="function"&&m.filter(r)||typeof r=="object"&&r||m).map(_=>{const x=`${_}`;return{value:_,formattedValue:(i==null?void 0:i(_,{location:"tick",scale:e,tickNumber:t,defaultTickLabel:x}))??x,offset:e(_)-(e.step()-e.bandwidth())/2+LO[s]*e.step(),labelOffset:v==="tick"?0:e.step()*(LO[v]-LO[s])}}),...s==="extremities"?[{formattedValue:void 0,offset:e.range()[1],labelOffset:0}]:[]]:(typeof r=="function"&&m.filter(r)||typeof r=="object"&&r||m).map(A=>{const _=`${A}`;return{value:A,formattedValue:(i==null?void 0:i(A,{location:"tick",scale:e,tickNumber:t,defaultTickLabel:_}))??_,offset:e(A),labelOffset:0}})}if(e.domain().some(pk))return[];const c=a,d=typeof r=="object"?r:YHe(e,t),h=[];for(let m=0;m<d.length;m+=1){const v=d[m],b=e(v);if(o(b)){const A=e.tickFormat(t)(v);h.push({value:v,formattedValue:(i==null?void 0:i(v,{location:"tick",scale:e,tickNumber:t,defaultTickLabel:A}))??A,offset:b,labelOffset:c==="middle"?e(d[m-1]??0)-(b+e(d[m-1]??0))/2:0})}}return h}function YHe(n,e){const t=n.domain();return t[0]===t[1]?[t[0]]:n.ticks(e)}function pD(n){const{scale:e,tickNumber:t,valueFormatter:i,tickInterval:r,tickPlacement:s="extremities",tickLabelPlacement:a,direction:o}=n,{instance:l}=rf(),c=o==="x"?l.isXInside:l.isYInside;return G.useMemo(()=>WHe({scale:e,tickNumber:t,tickPlacement:s,tickInterval:r,tickLabelPlacement:a,valueFormatter:i,isInside:c}),[e,t,s,r,a,i,c])}function XHe(n=!1){const[e,t]=G.useState(!1);return rr(()=>{n||t(!0)},[n]),G.useEffect(()=>{n&&t(!0)},[n]),e}const DQ=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function qHe(n){return n.length}function $He(n){const e=DQ.segment(n);let t=0;for(const i of e)t+=1;return t}const KHe=DQ?$He:qHe;function JHe(n){return n*(Math.PI/180)}const IQ=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function QHe(n,e){return n.slice(0,e)}function ZHe(n,e){const t=IQ.segment(n);let i="",r=0;for(const s of t)if(i+=s.segment,r+=1,r>=e)break;return i}const eze=IQ?ZHe:QHe,o8="";function OQ(n,e){const{width:t,height:i,measureText:r}=e,s=JHe(e.angle),a=r(n),o=Math.abs(a.width*Math.cos(s))+Math.abs(a.height*Math.sin(s)),l=Math.abs(a.width*Math.sin(s))+Math.abs(a.height*Math.cos(s));return o<=t&&l<=i}function PQ(n,e){if(e(n))return n;let t=n,i=1,r=1/2;const s=KHe(n);let a=s,o=s,l=null;do{if(o=a,a=Math.floor(s*r),a===0)break;t=eze(n,a).trim();const c=e(t+o8);i+=1,c?(l=t,r+=1/2**i):r-=1/2**i}while(Math.abs(a-o)!==1);return l?l+o8:""}function tze(){return typeof window>"u"}const O1=new Map,nze=2e3,ize={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rze=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],l8="mui_measurement_span";function NQ(n,e){return rze.indexOf(n)>=0&&e===+e?`${e}px`:e}function BQ(n){return n.split("").reduce((i,r)=>r===r.toUpperCase()?[...i,"-",r.toLowerCase()]:[...i,r],[]).join("")}const sze=n=>Object.keys(n).sort().reduce((e,t)=>`${e}${BQ(t)}:${NQ(t,n[t])};`,"");let UO;const OA=(n,e={})=>{if(n==null||tze())return{width:0,height:0};const t=`${n}`,i=sze(e),r=`${t}-${i}`,s=O1.get(r);if(s)return s;try{let a=document.getElementById(l8);a===null&&(a=document.createElement("span"),a.setAttribute("id",l8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));const o=be({},ize,e);Object.keys(o).map(d=>(a.style[BQ(d)]=NQ(d,o[d]),d)),a.textContent=t;const l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return O1.set(r,c),O1.size+1>nze&&O1.clear(),UO&&clearTimeout(UO),UO=setTimeout(()=>{a.textContent=""},0),c}catch{return{width:0,height:0}}};function aze(n,e,t,i,r){const s=new Map,a=dD((r==null?void 0:r.angle)??0);let o=1,l=1;(r==null?void 0:r.textAnchor)==="start"?(o=1/0,l=1):(r==null?void 0:r.textAnchor)==="end"?(o=1,l=1/0):(o=2,l=2),a>90&&a<270&&([o,l]=[l,o]),i&&([o,l]=[l,o]);for(const c of n)if(c.formattedValue){const d=Math.min((c.offset+c.labelOffset)*o,(e.left+e.width+e.right-c.offset-c.labelOffset)*l),h=m=>OQ(m,{width:d,height:t,angle:a,measureText:v=>OA(v,r)});s.set(c,PQ(c.formattedValue.toString(),h))}return s}const c8=5;function oze(n,e,t=0){const i=Math.min(Math.abs(t)%180,Math.abs(Math.abs(t)%180-180)%180);if(i<c8)return n;if(i>90-c8)return e;const r=rx(i),s=Math.atan2(e,n);return r<s?n/Math.cos(r):e/Math.sin(r)}function LQ({style:n,needsComputation:e,text:t}){return t.split(`
`).map(i=>be({text:i},e?OA(i,n):{width:0,height:0}))}function lze(n,{tickLabelStyle:e,tickLabelInterval:t,tickLabelMinGap:i,reverse:r,isMounted:s,isXInside:a}){const o=d=>{if(!s||d.formattedValue===void 0)return{width:0,height:0};const h=LQ({style:e,needsComputation:!0,text:d.formattedValue});return{width:Math.max(...h.map(m=>m.width)),height:Math.max(h.length*h[0].height)}};if(typeof t=="function")return new Set(n.filter((d,h)=>t(d.value,h)));let l=0;const c=r?-1:1;return new Set(n.filter((d,h)=>{const{offset:m,labelOffset:v,formattedValue:b}=d;if(b==="")return!1;const A=m+v;if(h>0&&c*A<c*(l+i)||!a(A))return!1;const{width:_,height:x}=o(d),T=oze(_,x,e==null?void 0:e.angle),C=A-c*T/2;return h>0&&c*C<c*(l+i)?!1:(l=A+c*T/2,!0)}))}function UQ(n){return en("MuiChartsAxis",n)}const P1=Xt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right","id"]),kQ=n=>{const{classes:e,position:t,id:i}=n,r={root:["root","directionX",t,`id-${i}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return Jt(r,UQ,e)},$N=3,cze=4,FQ={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4},uze=["x","y","style","text","ownerState"],dze=["angle","textAnchor","dominantBaseline"];function mD(n){const{x:e,y:t,style:i,text:r}=n,s=li(n,uze),a=i??{},{angle:o,textAnchor:l,dominantBaseline:c}=a,d=li(a,dze),h=hD(),m=G.useMemo(()=>LQ({style:d,needsComputation:h&&r.includes(`
`),text:r}),[d,r,h]);let v;switch(c){case"hanging":case"text-before-edge":v=0;break;case"central":v=(m.length-1)/2*-m[0].height;break;default:v=(m.length-1)*-m[0].height;break}return W.jsx("text",be({},s,{transform:o?`rotate(${o}, ${e}, ${t})`:void 0,x:e,y:t,textAnchor:l,dominantBaseline:c,style:d,children:m.map((b,A)=>W.jsx("tspan",{x:e,dy:`${A===0?v:m[0].height}px`,dominantBaseline:c,children:b.text},A))}))}function HQ(n){const e=dD(n);return e<=30||e>=330||e<=210&&e>=150?"middle":e<=180?"end":"start"}function zQ(n){const e=dD(n);return e<=30||e>=330?"hanging":e<=210&&e>=150?"auto":"central"}function GQ(n){switch(n){case"start":return"end";case"end":return"start";default:return n}}const fze=["scale","tickNumber","reverse"];function VQ(n){const{xAxis:e,xAxisIds:t}=af(),i=e[n.axisId??t[0]],{scale:r,tickNumber:s,reverse:a}=i,o=li(i,fze),l=Wo({props:be({},o,n),name:"MuiChartsXAxis"}),c=be({},FQ,l),{position:d,tickLabelStyle:h,slots:m,slotProps:v}=c,b=ho(),A=fg(),_=kQ(c),x=d==="bottom"?1:-1,T=(m==null?void 0:m.axisTick)??"line",C=(m==null?void 0:m.axisTickLabel)??mD,M=HQ((d==="bottom"?0:180)-((h==null?void 0:h.angle)??0)),O=zQ((d==="bottom"?0:180)-((h==null?void 0:h.angle)??0)),R=Iu({elementType:C,externalSlotProps:v==null?void 0:v.axisTickLabel,additionalProps:{style:be({},b.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:A?GQ(M):M,dominantBaseline:O},h)},className:_.tickLabel,ownerState:{}});return{xScale:r,defaultizedProps:c,tickNumber:s,positionSign:x,classes:_,Tick:T,TickLabel:C,axisTickLabelProps:R,reverse:a}}function hze(n){const{axisLabelHeight:e}=n,{xScale:t,defaultizedProps:i,tickNumber:r,positionSign:s,classes:a,Tick:o,TickLabel:l,axisTickLabelProps:c,reverse:d}=VQ(n),h=fg(),m=XHe(),{disableTicks:v,tickSize:b,valueFormatter:A,slotProps:_,tickInterval:x,tickLabelInterval:T,tickPlacement:C,tickLabelPlacement:M,tickLabelMinGap:O,height:R}=i,B=Ul(),{instance:N}=rf(),P=hD(),I=v?4:b,F=pD({scale:t,tickNumber:r,valueFormatter:A,tickInterval:x,tickPlacement:C,tickLabelPlacement:M,direction:"x"}),U=lze(F,{tickLabelStyle:c.style,tickLabelInterval:T,tickLabelMinGap:O,reverse:d,isMounted:m,isXInside:N.isXInside}),j=Math.max(0,R-(e>0?e+cze:0)-I-$N),q=P?aze(U,B,j,h,c.style):new Map(Array.from(U).map(Z=>[Z,Z.formattedValue]));return W.jsx(G.Fragment,{children:F.map((Z,H)=>{const{offset:Y,labelOffset:X}=Z,ne=X??0,K=s*(I+$N),ae=N.isXInside(Y),ye=q.get(Z),Se=U.has(Z);return W.jsxs("g",{transform:`translate(${Y}, 0)`,className:a.tickContainer,children:[!v&&ae&&W.jsx(o,be({y2:s*I,className:a.tick},_==null?void 0:_.axisTick)),ye!==void 0&&Se&&W.jsx(l,be({x:ne,y:K},c,{text:ye}))]},H)})})}const X_={start:0,extremities:0,end:1,middle:.5,tick:0};function jQ(n){const{scale:e,tickInterval:t,tickLabelPlacement:i="middle",tickPlacement:r="extremities",groups:s}=n;return G.useMemo(()=>{const a=e.domain(),o=typeof t=="function"&&a.filter(t)||typeof t=="object"&&t||a;if(e.bandwidth()>0){const l=u8(o,s,r,i,e);return l[0]&&(l[0].ignoreTick=!0),[{formattedValue:void 0,offset:e.range()[0],labelOffset:0,groupIndex:s.length-1},...l,{formattedValue:void 0,offset:e.range()[1],labelOffset:0,groupIndex:s.length-1}]}return u8(o,s,r,i,e)},[e,t,s,r,i])}function u8(n,e,t,i,r){const s=[],a=new Map;let o=0;for(let l=0;l<e.length;l+=1)for(let c=0;c<n.length;c+=1){const d=n[c],h=e[l].getValue(d,c),m=s[s.length-1];if((m==null?void 0:m.value)!==h||(m==null?void 0:m.groupIndex)!==l){o=1;const b=Ua(r)?r(d)-(r.step()-r.bandwidth())/2+X_[t]*r.step():r(d),A=r.step()*o*(X_[i]-X_[t]);s.push({value:h,formattedValue:`${h}`,offset:b,groupIndex:l,dataIndex:c,ignoreTick:!1,labelOffset:A}),a.has(c)||a.set(c,new Set);const _=a.get(c);for(const x of _.values())s[x].ignoreTick=!0;_.add(s.length-1)}else{o+=1;const b=r.step()*o*(X_[i]-X_[t]);m.labelOffset=b}}return s}const d8={tickSize:6},pze=(n,e,t)=>{const i=n[e]??{},r=t??d8.tickSize,s=r*e*2+r;return be({},d8,i,{tickSize:i.tickSize??s})};function mze(n){const{xScale:e,defaultizedProps:t,positionSign:i,classes:r,Tick:s,TickLabel:a,axisTickLabelProps:o}=VQ(n);if(!Ua(e))throw new Error("MUI X Charts: ChartsGroupedXAxis only supports the `band` and `point` scale types.");const{disableTicks:l,tickSize:c,valueFormatter:d,slotProps:h,tickInterval:m,tickPlacement:v,tickLabelPlacement:b}=t,A=t.groups,{instance:_}=rf(),x=jQ({scale:e,tickInterval:m,tickPlacement:v,tickLabelPlacement:b,groups:A});return W.jsx(G.Fragment,{children:x.map((T,C)=>{const{offset:M,labelOffset:O}=T,R=O??0,B=_.isXInside(M),N=T.formattedValue,P=T.ignoreTick??!1,I=T.groupIndex??0,F=pze(A,I,c),U=i*F.tickSize,j=i*(F.tickSize+$N);return W.jsxs("g",{transform:`translate(${M}, 0)`,className:r.tickContainer,"data-group-index":I,children:[!l&&!P&&B&&W.jsx(s,be({y2:U,className:r.tick},h==null?void 0:h.axisTick)),N!==void 0&&W.jsx(a,be({x:R,y:j},o,{style:be({},o.style,F.tickLabelStyle),text:N}))]},C)})})}const WQ=lt("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:n})=>({[`& .${P1.tickLabel}`]:be({},n.typography.caption,{fill:(n.vars||n).palette.text.primary}),[`& .${P1.label}`]:{fill:(n.vars||n).palette.text.primary},[`& .${P1.line}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${P1.tick}`]:{stroke:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges"}})),gze=["axis"],yze=["scale","tickNumber","reverse"],vze=lt(WQ,{name:"MuiChartsXAxis",slot:"Root"})({});function bze(n){let{axis:e}=n,t=li(n,gze);const{scale:i}=e,r=li(e,yze),s=Wo({props:be({},r,t),name:"MuiChartsXAxis"}),a=be({},FQ,s),{position:o,labelStyle:l,offset:c,slots:d,slotProps:h,sx:m,disableLine:v,label:b,height:A}=a,_=ho(),x=kQ(a),{left:T,top:C,width:M,height:O}=Ul(),R=o==="bottom"?1:-1,B=(d==null?void 0:d.axisLine)??"line",N=(d==null?void 0:d.axisLabel)??mD,P=Iu({elementType:N,externalSlotProps:h==null?void 0:h.axisLabel,additionalProps:{style:be({},_.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:o==="bottom"?"text-after-edge":"text-before-edge"},l)},ownerState:{}});if(o==="none")return null;const I=b?OA(b,P.style).height:0,F=i.domain(),j=Ua(i)?F.length===0:F.some(pk);let q=null;j||(q="groups"in e&&Array.isArray(e.groups)?W.jsx(mze,be({},t)):W.jsx(hze,be({},t,{axisLabelHeight:I})));const Z={x:T+M/2,y:R*A};return W.jsxs(vze,{transform:`translate(0, ${o==="bottom"?C+O+c:C-c})`,className:x.root,sx:m,children:[!v&&W.jsx(B,be({x1:T,x2:T+M,className:x.line},h==null?void 0:h.axisLine)),q,b&&W.jsx("g",{className:x.label,children:W.jsx(N,be({},Z,P,{text:b}))})]})}function _ze(n){const{xAxis:e,xAxisIds:t}=af(),i=e[n.axisId??t[0]];return i?W.jsx(bze,be({},n,{axis:i})):(`${n.axisId}`,null)}function xze(n,e,t,i,r){const s=new Map,a=dD((r==null?void 0:r.angle)??0);let o=1,l=1;(r==null?void 0:r.textAnchor)==="start"?(o=1/0,l=1):(r==null?void 0:r.textAnchor)==="end"?(o=1,l=1/0):(o=2,l=2),a>180&&([o,l]=[l,o]),i&&([o,l]=[l,o]);for(const c of n)if(c.formattedValue){const d=Math.min((c.offset+c.labelOffset)*o,(e.top+e.height+e.bottom-c.offset-c.labelOffset)*l),h=m=>OQ(m,{width:t,height:d,angle:a,measureText:v=>OA(v,r)});s.set(c,PQ(c.formattedValue.toString(),h))}return s}const YQ=n=>{const{classes:e,position:t,id:i}=n,r={root:["root","directionY",t,`id-${i}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return Jt(r,UQ,e)},KN=2,Sze=2,XQ={disableLine:!1,disableTicks:!1,tickSize:6},Aze=["scale","tickNumber","reverse"];function qQ(n){const{yAxis:e,yAxisIds:t}=of(),i=e[n.axisId??t[0]],{scale:r,tickNumber:s}=i,a=li(i,Aze),o=Wo({props:be({},a,n),name:"MuiChartsYAxis"}),l=be({},XQ,o),{position:c,tickLabelStyle:d,slots:h,slotProps:m}=l,v=ho(),b=fg(),A=YQ(l),_=c==="right"?1:-1,x=typeof(d==null?void 0:d.fontSize)=="number"?d.fontSize:12,T=(h==null?void 0:h.axisTick)??"line",C=(h==null?void 0:h.axisTickLabel)??mD,M=HQ((c==="right"?-90:90)-((d==null?void 0:d.angle)??0)),O=zQ((c==="right"?-90:90)-((d==null?void 0:d.angle)??0)),R=Iu({elementType:C,externalSlotProps:m==null?void 0:m.axisTickLabel,additionalProps:{style:be({},v.typography.caption,{fontSize:x,textAnchor:b?GQ(M):M,dominantBaseline:O},d)},className:A.tickLabel,ownerState:{}});return{yScale:r,defaultizedProps:l,tickNumber:s,positionSign:_,classes:A,Tick:T,TickLabel:C,axisTickLabelProps:R}}function Eze(n){const{axisLabelHeight:e}=n,{yScale:t,defaultizedProps:i,tickNumber:r,positionSign:s,classes:a,Tick:o,TickLabel:l,axisTickLabelProps:c}=qQ(n),d=fg(),{disableTicks:h,tickSize:m,valueFormatter:v,slotProps:b,tickPlacement:A,tickLabelPlacement:_,tickInterval:x,tickLabelInterval:T,width:C}=i,M=Ul(),{instance:O}=rf(),R=hD(),B=h?4:m,N=pD({scale:t,tickNumber:r,valueFormatter:v,tickPlacement:A,tickLabelPlacement:_,tickInterval:x,direction:"y"}),P=Math.max(0,C-(e>0?e+Sze:0)-B-KN),I=R?xze(N,M,P,d,c.style):new Map(Array.from(N).map(F=>[F,F.formattedValue]));return W.jsx(G.Fragment,{children:N.map((F,U)=>{const{offset:j,labelOffset:q,value:Z}=F,H=s*(B+KN),Y=q,X=typeof T=="function"&&!(T!=null&&T(Z,U)),ne=O.isYInside(j),K=I.get(F);return ne?W.jsxs("g",{transform:`translate(0, ${j})`,className:a.tickContainer,children:[!h&&W.jsx(o,be({x2:s*B,className:a.tick},b==null?void 0:b.axisTick)),K!==void 0&&!X&&W.jsx(l,be({x:H,y:Y,text:K},c))]},U):null})})}const f8={tickSize:6},Cze=(n,e,t)=>{const i=n[e]??{},r=t??f8.tickSize,s=r*e*2+r;return be({},f8,i,{tickSize:i.tickSize??s})};function Tze(n){const{yScale:e,defaultizedProps:t,positionSign:i,classes:r,Tick:s,TickLabel:a,axisTickLabelProps:o}=qQ(n);if(!Ua(e))throw new Error("MUI X Charts: ChartsGroupedYAxis only supports the `band` and `point` scale types.");const{disableTicks:l,tickSize:c,valueFormatter:d,slotProps:h,tickInterval:m,tickPlacement:v,tickLabelPlacement:b}=t,A=t.groups,{instance:_}=rf(),x=jQ({scale:e,tickInterval:m,tickPlacement:v,tickLabelPlacement:b,groups:A});return W.jsx(G.Fragment,{children:x.map((T,C)=>{const{offset:M,labelOffset:O}=T,R=O??0,B=_.isYInside(M),N=T.formattedValue,P=T.ignoreTick??!1,I=T.groupIndex??0,F=Cze(A,I,c),U=i*F.tickSize,j=i*(F.tickSize+KN);return W.jsxs("g",{transform:`translate(0, ${M})`,className:r.tickContainer,"data-group-index":I,children:[!l&&!P&&B&&W.jsx(s,be({x2:U,className:r.tick},h==null?void 0:h.axisTick)),N!==void 0&&W.jsx(a,be({x:j,y:R},o,{style:be({},o.style,F.tickLabelStyle),text:N}))]},C)})})}const Mze=["axis"],wze=["scale","tickNumber","reverse"],Rze=lt(WQ,{name:"MuiChartsYAxis",slot:"Root"})({});function Dze(n){let{axis:e}=n,t=li(n,Mze);const{scale:i}=e,r=li(e,wze),s=hD(),a=Wo({props:be({},r,t),name:"MuiChartsYAxis"}),o=be({},XQ,a),{position:l,disableLine:c,label:d,labelStyle:h,offset:m,width:v,sx:b,slots:A,slotProps:_}=o,x=ho(),T=YQ(o),{left:C,top:M,width:O,height:R}=Ul(),B=l==="right"?1:-1,N=(A==null?void 0:A.axisLine)??"line",P=(A==null?void 0:A.axisLabel)??mD,I=Iu({elementType:N,externalSlotProps:_==null?void 0:_.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),F=Iu({elementType:P,externalSlotProps:_==null?void 0:_.axisLabel,additionalProps:{style:be({},x.typography.body1,{lineHeight:1,fontSize:14,angle:B*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},h)},ownerState:{}});if(l==="none")return null;const U={x:B*v,y:M+R/2},j=d==null?0:OA(d,F.style).height,q=i.domain(),H=Ua(i)?q.length===0:q.some(pk);let Y=null;return H||(Y="groups"in e&&Array.isArray(e.groups)?W.jsx(Tze,be({},t)):W.jsx(Eze,be({},t,{axisLabelHeight:j}))),W.jsxs(Rze,{transform:`translate(${l==="right"?C+O+m:C-m}, 0)`,className:T.root,sx:b,children:[!c&&W.jsx(N,be({y1:M,y2:M+R,className:T.line},I)),Y,d&&s&&W.jsx("g",{className:T.label,children:W.jsx(P,be({},U,F,{text:d}))})]})}function Ize(n){const{yAxis:e,yAxisIds:t}=of(),i=e[n.axisId??t[0]];return i?W.jsx(Dze,be({},n,{axis:i})):(`${n.axisId}`,null)}function Oze(n){const{slots:e,slotProps:t}=n,{xAxisIds:i,xAxis:r}=af(),{yAxisIds:s,yAxis:a}=of();return W.jsxs(G.Fragment,{children:[i.map(o=>!r[o].position||r[o].position==="none"?null:W.jsx(_ze,{slots:e,slotProps:t,axisId:o},o)),s.map(o=>!a[o].position||a[o].position==="none"?null:W.jsx(Ize,{slots:e,slotProps:t,axisId:o},o))]})}function Pze(n){return en("MuiChartsTooltip",n)}const dv=Xt("MuiChartsTooltip",["root","paper","table","row","cell","mark","markContainer","labelCell","valueCell","axisValueCell"]),gD=n=>Jt({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markContainer:["markContainer"],labelCell:["labelCell"],valueCell:["valueCell"],axisValueCell:["axisValueCell"]},Pze,n);function Nze(){var R,B,N;const n=Hi(),e=an(n,WJ),t=an(n,tf),i=fD(),{xAxis:r,xAxisIds:s}=af(),{yAxis:a,yAxisIds:o}=of(),{zAxis:l,zAxisIds:c}=fk(),{rotationAxis:d,rotationAxisIds:h}=TQ(),{radiusAxis:m,radiusAxisIds:v}=tHe(),b=i.xAxisId??s[0],A=i.yAxisId??o[0],_=i.zAxisId??c[0],x=i.rotationAxisId??h[0],T=i.radiusAxisId??v[0];if(!e)return null;const C=(R=i[e.type])==null?void 0:R.series[e.seriesId];if(!C)return null;const M=((N=(B=t[C.type]).colorProcessor)==null?void 0:N.call(B,C,b&&r[b],A&&a[A],_&&l[_]))??(()=>""),O={};return b!==void 0&&(O.x=r[b]),A!==void 0&&(O.y=a[A]),x!==void 0&&(O.rotation=d[x]),T!==void 0&&(O.radius=m[T]),t[C.type].tooltipGetter({series:C,axesConfig:O,getColor:M,identifier:e})}const JN=lt("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(n,e)=>e.paper})(({theme:n})=>{var e;return{backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,borderRadius:(e=(n.vars||n).shape)==null?void 0:e.borderRadius,border:`solid ${(n.vars||n).palette.divider} 1px`}}),QN=lt("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:n})=>({borderSpacing:0,[`& .${dv.markContainer}`]:{display:"inline-block",width:`calc(20px + ${n.spacing(1.5)})`,verticalAlign:"middle"},"& caption":{borderBottom:`solid ${(n.vars||n).palette.divider} 1px`,padding:n.spacing(.5,1.5),textAlign:"start",whiteSpace:"nowrap","& span":{marginRight:n.spacing(1.5)}}})),ZN=lt("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:n})=>({"tr:first-of-type& td":{paddingTop:n.spacing(.5)},"tr:last-of-type& td":{paddingBottom:n.spacing(.5)}})),Sv=lt(qr,{name:"MuiChartsTooltip",slot:"Cell"})(({theme:n})=>({verticalAlign:"middle",color:(n.vars||n).palette.text.secondary,textAlign:"start",[`&.${dv.cell}`]:{paddingLeft:n.spacing(1),paddingRight:n.spacing(1)},[`&.${dv.labelCell}`]:{whiteSpace:"nowrap",fontWeight:n.typography.fontWeightRegular},[`&.${dv.valueCell}, &.${dv.axisValueCell}`]:{color:(n.vars||n).palette.text.primary,fontWeight:n.typography.fontWeightMedium},[`&.${dv.valueCell}`]:{paddingLeft:n.spacing(1.5),paddingRight:n.spacing(1.5)},"td:first-of-type&, th:first-of-type&":{paddingLeft:n.spacing(1.5)},"td:last-of-type&, th:last-of-type&":{paddingRight:n.spacing(1.5)}}));function Bze(n){return en("MuiChartsLabelMark",n)}const sv=Xt("MuiChartsLabelMark",["root","line","square","circle","mask","fill"]),Lze=n=>{const{type:e}=n;return Jt({root:typeof e=="function"?["root"]:["root",e],mask:["mask"],fill:["fill"]},Bze,n.classes)},$Q=(n,e,t)=>G.forwardRef(function(r,s){var m;const a=Wo({props:r,name:n}),o=typeof e.defaultProps=="function"?e.defaultProps(a):e.defaultProps??{},l=qm(o,a),c=ho(),d=(m=e.classesResolver)==null?void 0:m.call(e,l,c),h=G.forwardRef(t);return W.jsx(h,be({},l,{classes:d,ref:s}))}),Uze=["type","color","className","classes"],kze=lt("div",{name:"MuiChartsLabelMark",slot:"Root"})(()=>({display:"flex",width:14,height:14,[`&.${sv.line}`]:{width:16,height:"unset",alignItems:"center",[`.${sv.mask}`]:{height:4,width:"100%",borderRadius:1,overflow:"hidden"}},[`&.${sv.square}`]:{height:13,width:13,borderRadius:2,overflow:"hidden"},[`&.${sv.circle}`]:{height:15,width:15},svg:{display:"block"},[`& .${sv.mask} > *`]:{height:"100%",width:"100%"},[`& .${sv.mask}`]:{height:"100%",width:"100%"}})),dw=$Q("MuiChartsLabelMark",{defaultProps:{type:"square"},classesResolver:Lze},function(e,t){const{type:i,color:r,className:s,classes:a}=e,o=li(e,Uze),l=i;return W.jsx(kze,be({className:Nt(a==null?void 0:a.root,s),ownerState:e,"aria-hidden":"true",ref:t},o,{children:W.jsx("div",{className:a==null?void 0:a.mask,children:typeof l=="function"?W.jsx(l,{className:a==null?void 0:a.fill,color:r}):W.jsx("svg",{viewBox:"0 0 24 24",preserveAspectRatio:i==="line"?"none":void 0,children:i==="circle"?W.jsx("circle",{className:a==null?void 0:a.fill,r:"12",cx:"12",cy:"12",fill:r}):W.jsx("rect",{className:a==null?void 0:a.fill,width:"24",height:"24",fill:r})})})}))});function Fze(n){const{classes:e,sx:t}=n,i=Nze(),r=gD(e);if(!i)return null;if("values"in i){const{label:c,color:d,markType:h}=i;return W.jsx(JN,{sx:t,className:r.paper,children:W.jsxs(QN,{className:r.table,children:[W.jsxs(qr,{component:"caption",children:[W.jsx("div",{className:r.markContainer,children:W.jsx(dw,{type:h,color:d,className:r.mark})}),c]}),W.jsx("tbody",{children:i.values.map(({formattedValue:m,label:v})=>W.jsxs(ZN,{className:r.row,children:[W.jsx(Sv,{className:Nt(r.labelCell,r.cell),component:"th",children:v}),W.jsx(Sv,{className:Nt(r.valueCell,r.cell),component:"td",children:m})]},v))})]})})}const{color:s,label:a,formattedValue:o,markType:l}=i;return W.jsx(JN,{sx:t,className:r.paper,children:W.jsx(QN,{className:r.table,children:W.jsx("tbody",{children:W.jsxs(ZN,{className:r.row,children:[W.jsxs(Sv,{className:Nt(r.labelCell,r.cell),component:"th",children:[W.jsx("div",{className:r.markContainer,children:W.jsx(dw,{type:l,color:s,className:r.mark})}),a]}),W.jsx(Sv,{className:Nt(r.valueCell,r.cell),component:"td",children:o})]})})})})}function Hze(n){const e=Hi(),t=an(e,tf);return G.useMemo(()=>{const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].colorProcessor}),r},[t])}function zze(){const n=hk(),[e,t]=G.useState(null);return G.useEffect(()=>{const i=n.current;if(i===null)return()=>{};const r=a=>{a.pointerType!=="mouse"&&t(null)},s=a=>{t({pointerType:a.pointerType})};return i.addEventListener("pointerenter",s),i.addEventListener("pointerup",r),()=>{i.removeEventListener("pointerenter",s),i.removeEventListener("pointerup",r)}},[n]),e}function Gze(n){return n instanceof Date?n.toUTCString():n.toLocaleString()}const Vze="@media (pointer: fine)",jze=()=>U9(Vze,{defaultMatches:!0}),KQ=(n,e)=>e,JQ=(n,e)=>e;function QQ(n,e,t){return Array.isArray(t)?t.map(i=>a8(e.axis[i],n)):a8(e.axis[t],n)}const ZQ=Tt([wA,RA,KFe],(n,e,t)=>n===null||e===null?null:JFe(t)(n,e)),Wze=Tt([ZQ,Tg,KQ],(n,e,t=e.axisIds[0])=>n===null?null:QQ(n,e,t)),eZ=Tt([ZQ,Tg,JQ],(n,e,t=e.axisIds)=>n===null?null:QQ(n,e,t));Tt([Tg,Wze,KQ],(n,e,t=n.axisIds[0])=>{var r;if(e===null||e===-1||n.axisIds.length===0)return null;const i=(r=n.axis[t])==null?void 0:r.data;return i?i[e]:null});Tt([Tg,eZ,JQ],(n,e,t=n.axisIds)=>e===null?null:t.map((i,r)=>{var a;const s=e[r];return s===-1?null:(a=n.axis[i].data)==null?void 0:a[s]}));const tZ=Tt([eZ,Tg],(n,e)=>n===null?[]:e.axisIds.map((t,i)=>({axisId:t,dataIndex:n[i]})).filter(({axisId:t,dataIndex:i})=>e.axis[t].triggerTooltip&&i>=0),{memoizeOptions:{resultEqualityCheck:kv}});Tt([],()=>[]);const Yze=Tt([tZ],n=>n.length>0);function kO(n,e,t){var a;const i=((a=n.data)==null?void 0:a[e])??null,s=(n.valueFormatter??(o=>n.scaleType==="utc"?Gze(o):o.toLocaleString()))(i,{location:"tooltip",scale:n.scale});return{axisDirection:t,axisId:n.id,mainAxis:n,dataIndex:e,axisValue:i,axisFormattedValue:s,seriesItems:[]}}function Xze(n={}){const{multipleAxes:e,directions:t}=n,i=ZFe(),r=eHe(),s=nHe(),a=Hi(),o=an(a,KJ),l=an(a,JJ),c=an(a,tZ),d=fD(),{xAxis:h}=af(),{yAxis:m}=of(),{zAxis:v,zAxisIds:b}=fk(),{rotationAxis:A}=TQ(),_=Hze();if(o.length===0&&l.length===0&&c.length===0)return null;const x=[];return(t===void 0||t.includes("x"))&&o.forEach(({axisId:T,dataIndex:C})=>{!e&&x.length>1||x.push(kO(h[T],C,"x"))}),(t===void 0||t.includes("y"))&&l.forEach(({axisId:T,dataIndex:C})=>{!e&&x.length>1||x.push(kO(m[T],C,"y"))}),(t===void 0||t.includes("rotation"))&&c.forEach(({axisId:T,dataIndex:C})=>{!e&&x.length>1||x.push(kO(A[T],C,"rotation"))}),Object.keys(d).filter(tk).forEach(T=>{const C=d[T];return C?C.seriesOrder.forEach(M=>{var P;const O=C.series[M],R=O.xAxisId??i.id,B=O.yAxisId??r.id,N=x.findIndex(({axisDirection:I,axisId:F})=>I==="x"&&F===R||I==="y"&&F===B);if(N>=0){const I="zAxisId"in O?O.zAxisId:b[0],{dataIndex:F}=x[N],U=((P=_[T])==null?void 0:P.call(_,O,h[R],m[B],I?v[I]:void 0)(F))??"",j=O.data[F]??null,q=O.valueFormatter(j,{dataIndex:F}),Z=Rc(O.label,"tooltip")??null;x[N].seriesItems.push({seriesId:M,color:U,value:j,formattedValue:q,formattedLabel:Z,markType:O.labelMarkType})}}):[]}),Object.keys(d).filter(dk).forEach(T=>{const C=d[T];return C?C.seriesOrder.forEach(M=>{var N;const O=C.series[M],R=O.rotationAxisId??(s==null?void 0:s.id),B=x.findIndex(({axisDirection:P,axisId:I})=>P==="rotation"&&I===R);if(B>=0){const{dataIndex:P}=x[B],I=((N=_[T])==null?void 0:N.call(_,O)(P))??"",F=O.data[P]??null,U=O.valueFormatter(F,{dataIndex:P}),j=Rc(O.label,"tooltip")??null;x[B].seriesItems.push({seriesId:M,color:I,value:F,formattedValue:U,formattedLabel:j,markType:O.labelMarkType})}}):[]}),e?x:x.length===0?x[0]:null}function qze(n){return Xze(be({},n,{multipleAxes:!0}))}function $ze(n){const e=gD(n.classes),t=qze();return t===null?null:W.jsx(JN,{sx:n.sx,className:e.paper,children:t.map(({axisId:i,mainAxis:r,axisValue:s,axisFormattedValue:a,seriesItems:o})=>W.jsxs(QN,{className:e.table,children:[s!=null&&!r.hideTooltip&&W.jsx(qr,{component:"caption",children:a}),W.jsx("tbody",{children:o.map(({seriesId:l,color:c,formattedValue:d,formattedLabel:h,markType:m})=>d==null?null:W.jsxs(ZN,{className:e.row,children:[W.jsxs(Sv,{className:Nt(e.labelCell,e.cell),component:"th",children:[W.jsx("div",{className:e.markContainer,children:W.jsx(dw,{type:m,color:c,className:e.mark})}),h||null]}),W.jsx(Sv,{className:Nt(e.valueCell,e.cell),component:"td",children:d})]},l))})]},i))})}function Kze(n){let e,t;const i=()=>{t=null,n(...e)};function r(...s){e=s,t||(t=requestAnimationFrame(i))}return r.clear=()=>{t&&(cancelAnimationFrame(t),t=null)},r}function Jze(){const n=Hi(),e=an(n,CQ),t=an(n,ep);return e!==void 0?"polar":t!==void 0?"cartesian":"none"}const Qze=["trigger","classes","children"],Zze=()=>!1,e4e=lt(DB,{name:"MuiChartsTooltip",slot:"Root"})(({theme:n})=>({pointerEvents:"none",zIndex:n.zIndex.modal}));function t4e(n){const e=Wo({props:n,name:"MuiChartsTooltipContainer"}),{trigger:t="axis",classes:i,children:r}=e,s=li(e,Qze),a=hk(),o=gD(i),l=zze(),c=jze(),d=G.useRef(null),h=Rw(()=>({x:0,y:0})),m=Jze(),v=Hi(),b=an(v,t==="axis"?m==="polar"&&Yze||m==="cartesian"&&$Ue||Zze:WUe);G.useEffect(()=>{const C=a.current;if(C===null)return()=>{};const M=Kze(()=>{var R;return(R=d.current)==null?void 0:R.update()}),O=R=>{h.current={x:R.clientX,y:R.clientY},M()};return C.addEventListener("pointerdown",O),C.addEventListener("pointermove",O),()=>{C.removeEventListener("pointerdown",O),C.removeEventListener("pointermove",O),M.clear()}},[a,h]);const A=G.useMemo(()=>({getBoundingClientRect:()=>({x:h.current.x,y:h.current.y,top:h.current.y,left:h.current.x,right:h.current.x,bottom:h.current.y,width:0,height:0,toJSON:()=>""})}),[h]),_=(l==null?void 0:l.pointerType)==="mouse"||c,x=(l==null?void 0:l.pointerType)==="touch"||!c,T=G.useMemo(()=>[{name:"offset",options:{offset:()=>x?[0,64]:[0,8]}},..._?[]:[{name:"flip",options:{fallbackPlacements:["top-end","top-start","bottom-end","bottom"]}}],{name:"preventOverflow",options:{altAxis:!0}}],[_,x]);return t==="none"?null:W.jsx(jle,{children:b&&W.jsx(e4e,be({className:o==null?void 0:o.root,open:b,placement:_?"right-start":"top",popperRef:d,anchorEl:A,modifiers:T},s,{children:r}))})}function n4e(n){const{classes:e,trigger:t="axis"}=n,i=gD(e);return W.jsx(t4e,be({},n,{classes:e,children:t==="axis"?W.jsx($ze,{classes:i}):W.jsx(Fze,{classes:i})}))}const i4e=n=>({type:"series",color:n.color,label:n.label,seriesId:n.seriesId,itemId:n.itemId});function r4e(n){return en("MuiChartsLegend",n)}const s4e=n=>{const{classes:e,direction:t}=n;return Jt({root:["root",t],item:["item"],mark:["mark"],label:["label"],series:["series"]},r4e,e)},h8=Xt("MuiChartsLegend",["root","item","series","mark","label","vertical","horizontal"]),a4e=["slots","slotProps"],o4e=["ownerState"],l4e=(n,e,t,i)=>{function r(s,a){var O;const o=Wo({props:s,name:n}),l=typeof t.defaultProps=="function"?t.defaultProps(o):t.defaultProps??{},c=qm(l,o),d=c,{slots:h,slotProps:m}=d,v=li(d,a4e),b=ho(),A=(O=t.classesResolver)==null?void 0:O.call(t,c,b),_=(h==null?void 0:h[e])??i,x=t.propagateSlots&&!(h!=null&&h[e]),T=Iu({elementType:_,externalSlotProps:m==null?void 0:m[e],additionalProps:be({},v,{classes:A},x&&{slots:h,slotProps:m}),ownerState:{}}),C=li(T,o4e),M=be({},C);for(const R of t.omitProps??[])delete M[R];return W.jsx(_,be({},M,{ref:a}))}return G.forwardRef(r)};function c4e(n){return en("MuiChartsLabel",n)}Xt("MuiChartsLabel",["root"]);const u4e=n=>Jt({root:["root"]},c4e,n.classes),d4e=["children","className","classes"],f4e=$Q("MuiChartsLabel",{classesResolver:u4e},function(e,t){const{children:i,className:r,classes:s}=e,a=li(e,d4e);return W.jsx("span",be({className:Nt(s==null?void 0:s.root,r),ref:t},a,{children:i}))}),h4e=["direction","onItemClick","className","classes"],p4e=lt("ul",{name:"MuiChartsLegend",slot:"Root"})(({ownerState:n,theme:e})=>be({},e.typography.caption,{color:(e.vars||e).palette.text.primary,lineHeight:"100%",display:"flex",flexDirection:n.direction==="vertical"?"column":"row",alignItems:n.direction==="vertical"?void 0:"center",flexShrink:0,gap:e.spacing(2),listStyleType:"none",paddingInlineStart:0,marginBlock:e.spacing(1),marginInline:e.spacing(1),flexWrap:"wrap",li:{display:n.direction==="horizontal"?"inline-flex":void 0},[`button.${h8.series}`]:{background:"none",border:"none",padding:0,fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",letterSpacing:"inherit",color:"inherit"},[`& .${h8.series}`]:{display:n.direction==="vertical"?"flex":"inline-flex",alignItems:"center",gap:e.spacing(1)},gridArea:"legend"})),m4e=l4e("MuiChartsLegend","legend",{defaultProps:{direction:"horizontal"},omitProps:["position"],classesResolver:s4e},G.forwardRef(function(e,t){const i=cHe(),{onItemClick:r,className:s,classes:a}=e,o=li(e,h4e);if(i.items.length===0)return null;const l=r?"button":"div";return W.jsx(p4e,be({className:Nt(a==null?void 0:a.root,s),ref:t},o,{ownerState:e,children:i.items.map((c,d)=>W.jsx("li",{className:a==null?void 0:a.item,"data-series":c.id,children:W.jsxs(l,{className:a==null?void 0:a.series,role:r?"button":void 0,type:r?"button":void 0,onClick:r?h=>r(h,i4e(c),d):void 0,children:[W.jsx(dw,{className:a==null?void 0:a.mark,color:c.color,type:c.markType}),W.jsx(f4e,{className:a==null?void 0:a.label,children:c.label})]})},c.id))}))}));function g4e(n){return en("MuiChartsAxisHighlight",n)}Xt("MuiChartsAxisHighlight",["root"]);const fw=lt("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:n})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:be({fill:"white",fillOpacity:.1},n.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:be({strokeDasharray:"5 2",stroke:"#ffffff"},n.applyStyles("light",{stroke:"#000000"}))}]}));function y4e(n){const{type:e,classes:t}=n,{left:i,width:r}=Ul(),s=Hi(),a=an(s,ske),o=an(s,yo);return a.length===0?null:a.map(({axisId:l,value:c})=>{const h=o.axis[l].scale,m=uw(h),v=e==="band"&&c!==null&&Ua(h);return W.jsxs(G.Fragment,{children:[v&&h(c)!==void 0&&W.jsx(fw,{d:`M ${i} ${h(c)-(h.step()-h.bandwidth())/2} l 0 ${h.step()} l ${r} 0 l 0 ${-h.step()} Z`,className:t.root,ownerState:{axisHighlight:"band"}}),e==="line"&&c!==null&&W.jsx(fw,{d:`M ${i} ${m(c)} L ${i+r} ${m(c)}`,className:t.root,ownerState:{axisHighlight:"line"}})]},`${l}-${c}`)})}function v4e(n){const{type:e,classes:t}=n,{top:i,height:r}=Ul(),s=Hi(),a=an(s,rke),o=an(s,go);return a.length===0?null:a.map(({axisId:l,value:c})=>{const h=o.axis[l].scale,m=uw(h),v=e==="band"&&c!==null&&Ua(h);return W.jsxs(G.Fragment,{children:[v&&h(c)!==void 0&&W.jsx(fw,{d:`M ${h(c)-(h.step()-h.bandwidth())/2} ${i} l ${h.step()} 0 l 0 ${r} l ${-h.step()} 0 Z`,className:t.root,ownerState:{axisHighlight:"band"}}),e==="line"&&c!==null&&W.jsx(fw,{d:`M ${m(c)} ${i} L ${m(c)} ${i+r}`,className:t.root,ownerState:{axisHighlight:"line"}})]},`${l}-${c}`)})}const b4e=()=>Jt({root:["root"]},g4e);function _4e(n){const{x:e,y:t}=n,i=b4e();return W.jsxs(G.Fragment,{children:[e&&e!=="none"&&W.jsx(v4e,{type:e,classes:i}),t&&t!=="none"&&W.jsx(y4e,{type:t,classes:i})]})}function x4e(n){const{id:e,offset:t}=n,{left:i,top:r,width:s,height:a}=Ul(),o=be({top:0,right:0,bottom:0,left:0},t);return W.jsx("clipPath",{id:e,children:W.jsx("rect",{x:i-o.left,y:r-o.top,width:s+o.left+o.right,height:a+o.top+o.bottom})})}function S4e(n){return en("MuiChartsGrid",n)}const p8=Xt("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),A4e=lt("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(n,e)=>[{[`&.${p8.verticalLine}`]:e.verticalLine},{[`&.${p8.horizontalLine}`]:e.horizontalLine},e.root]})({}),nZ=lt("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:n})=>({stroke:(n.vars||n).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function E4e(n){const{axis:e,start:t,end:i,classes:r}=n,{scale:s,tickNumber:a,tickInterval:o}=e,l=pD({scale:s,tickNumber:a,tickInterval:o,direction:"x"});return W.jsx(G.Fragment,{children:l.map(({value:c,offset:d})=>{var h;return W.jsx(nZ,{y1:t,y2:i,x1:d,x2:d,className:r.verticalLine},`vertical-${((h=c==null?void 0:c.getTime)==null?void 0:h.call(c))??c}`)})})}function C4e(n){const{axis:e,start:t,end:i,classes:r}=n,{scale:s,tickNumber:a,tickInterval:o}=e,l=pD({scale:s,tickNumber:a,tickInterval:o,direction:"y"});return W.jsx(G.Fragment,{children:l.map(({value:c,offset:d})=>{var h;return W.jsx(nZ,{y1:d,y2:d,x1:t,x2:i,className:r.horizontalLine},`horizontal-${((h=c==null?void 0:c.getTime)==null?void 0:h.call(c))??c}`)})})}const T4e=["vertical","horizontal"],M4e=({classes:n})=>Jt({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},S4e,n);function w4e(n){const e=Wo({props:n,name:"MuiChartsGrid"}),t=Ul(),{vertical:i,horizontal:r}=e,s=li(e,T4e),{xAxis:a,xAxisIds:o}=af(),{yAxis:l,yAxisIds:c}=of(),d=M4e(e),h=l[c[0]],m=a[o[0]];return W.jsxs(A4e,be({},s,{className:d.root,children:[i&&W.jsx(E4e,{axis:m,start:t.top,end:t.height+t.top,classes:d}),r&&W.jsx(C4e,{axis:h,start:t.left,end:t.width+t.left,classes:d})]}))}const R4e=["message"],D4e=lt("text")(({theme:n})=>be({},n.typography.body2,{stroke:"none",fill:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function I4e(n){const{message:e}=n,t=li(n,R4e),{top:i,left:r,height:s,width:a}=Ul(),{localeText:o}=wQ();return W.jsx(D4e,be({x:r+a/2,y:i+s/2},t,{children:e??o.loading}))}const O4e=["message"],P4e=lt("text")(({theme:n})=>be({},n.typography.body2,{stroke:"none",fill:(n.vars||n).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function N4e(n){const{message:e}=n,t=li(n,O4e),{top:i,left:r,height:s,width:a}=Ul(),{localeText:o}=wQ();return W.jsx(P4e,be({x:r+a/2,y:i+s/2},t,{children:e??o.noData}))}function B4e(){const n=fD();return Object.values(n).every(e=>{if(!e)return!0;const{series:t,seriesOrder:i}=e;return i.every(r=>{const s=t[r];return s.type==="sankey"?s.data.links.length===0:s.data.length===0})})}function L4e(n){var t,i,r,s;const e=B4e();if(n.loading){const a=((t=n.slots)==null?void 0:t.loadingOverlay)??I4e;return W.jsx(a,be({},(i=n.slotProps)==null?void 0:i.loadingOverlay))}if(e){const a=((r=n.slots)==null?void 0:r.noDataOverlay)??N4e;return W.jsx(a,be({},(s=n.slotProps)==null?void 0:s.noDataOverlay))}return null}const U4e=[IA,nb,MA,rb,uD],k4e=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend","showToolbar"],F4e=n=>{var V,ee,oe,ue,_e;const{xAxis:e,yAxis:t,series:i,width:r,height:s,margin:a,colors:o,dataset:l,sx:c,axisHighlight:d,grid:h,children:m,slots:v,slotProps:b,skipAnimation:A,loading:_,layout:x,onItemClick:T,highlightedItem:C,onHighlightChange:M,borderRadius:O,barLabel:R,className:B}=n,N=li(n,k4e),I=`${Wh()}-clip-path`,F=x==="horizontal"||x===void 0&&i.some(Q=>Q.layout==="horizontal"),U=G.useMemo(()=>[{id:TU,scaleType:"band",data:Array.from({length:Math.max(...i.map(Q=>(Q.data??l??[]).length))},(Q,Oe)=>Oe)}],[l,i]),j=G.useMemo(()=>[{id:MU,scaleType:"band",data:Array.from({length:Math.max(...i.map(Q=>(Q.data??l??[]).length))},(Q,Oe)=>Oe)}],[l,i]),q=G.useMemo(()=>i.map(Q=>be({type:"bar"},Q,{layout:F?"horizontal":"vertical"})),[F,i]),Z=F?void 0:U,H=G.useMemo(()=>e?F?e:e.map(Q=>be({scaleType:"band"},Q)):Z,[Z,F,e]),Y=F?j:void 0,X=G.useMemo(()=>t?F?t.map(Q=>be({scaleType:"band"},Q)):t:Y,[Y,F,t]),ne=be({},N,{series:q,width:r,height:s,margin:a,colors:o,dataset:l,xAxis:H,yAxis:X,highlightedItem:C,onHighlightChange:M,disableAxisListener:((V=b==null?void 0:b.tooltip)==null?void 0:V.trigger)!=="axis"&&(d==null?void 0:d.x)==="none"&&(d==null?void 0:d.y)==="none",className:B,skipAnimation:A,plugins:U4e}),K={onItemClick:T,slots:v,slotProps:b,borderRadius:O,barLabel:R},ae={vertical:h==null?void 0:h.vertical,horizontal:h==null?void 0:h.horizontal},ye={clipPath:`url(#${I})`},Se={id:I},de={slots:v,slotProps:b,loading:_},xe={slots:v,slotProps:b},pe=be({},F?{y:"band"}:{x:"band"},d),He={slots:v,slotProps:b};return{chartsWrapperProps:{sx:c,legendPosition:(oe=(ee=n.slotProps)==null?void 0:ee.legend)==null?void 0:oe.position,legendDirection:(_e=(ue=n.slotProps)==null?void 0:ue.legend)==null?void 0:_e.direction,hideLegend:n.hideLegend??!1},chartContainerProps:ne,barPlotProps:K,gridProps:ae,clipPathProps:Se,clipPathGroupProps:ye,overlayProps:de,chartsAxisProps:xe,axisHighlightProps:pe,legendProps:He,children:m}},H4e={baseButton:Xv,baseIconButton:Dw},z4e={},G4e=be({},H4e,z4e),V4e=G.createContext(null);function j4e(n){const{slots:e,slotProps:t={},defaultSlots:i,children:r}=n,s=G.useMemo(()=>({slots:be({},i,e),slotProps:t}),[i,e,t]);return W.jsx(V4e.Provider,{value:s,children:r})}const Pd=11102230246251565e-32,na=134217729,W4e=(3+8*Pd)*Pd;function FO(n,e,t,i,r){let s,a,o,l,c=e[0],d=i[0],h=0,m=0;d>c==d>-c?(s=c,c=e[++h]):(s=d,d=i[++m]);let v=0;if(h<n&&m<t)for(d>c==d>-c?(a=c+s,o=s-(a-c),c=e[++h]):(a=d+s,o=s-(a-d),d=i[++m]),s=a,o!==0&&(r[v++]=o);h<n&&m<t;)d>c==d>-c?(a=s+c,l=a-s,o=s-(a-l)+(c-l),c=e[++h]):(a=s+d,l=a-s,o=s-(a-l)+(d-l),d=i[++m]),s=a,o!==0&&(r[v++]=o);for(;h<n;)a=s+c,l=a-s,o=s-(a-l)+(c-l),c=e[++h],s=a,o!==0&&(r[v++]=o);for(;m<t;)a=s+d,l=a-s,o=s-(a-l)+(d-l),d=i[++m],s=a,o!==0&&(r[v++]=o);return(s!==0||v===0)&&(r[v++]=s),v}function Y4e(n,e){let t=e[0];for(let i=1;i<n;i++)t+=e[i];return t}function PA(n){return new Float64Array(n)}const X4e=(3+16*Pd)*Pd,q4e=(2+12*Pd)*Pd,$4e=(9+64*Pd)*Pd*Pd,av=PA(4),m8=PA(8),g8=PA(12),y8=PA(16),Ra=PA(4);function K4e(n,e,t,i,r,s,a){let o,l,c,d,h,m,v,b,A,_,x,T,C,M,O,R,B,N;const P=n-r,I=t-r,F=e-s,U=i-s;M=P*U,m=na*P,v=m-(m-P),b=P-v,m=na*U,A=m-(m-U),_=U-A,O=b*_-(M-v*A-b*A-v*_),R=F*I,m=na*F,v=m-(m-F),b=F-v,m=na*I,A=m-(m-I),_=I-A,B=b*_-(R-v*A-b*A-v*_),x=O-B,h=O-x,av[0]=O-(x+h)+(h-B),T=M+x,h=T-M,C=M-(T-h)+(x-h),x=C-R,h=C-x,av[1]=C-(x+h)+(h-R),N=T+x,h=N-T,av[2]=T-(N-h)+(x-h),av[3]=N;let j=Y4e(4,av),q=q4e*a;if(j>=q||-j>=q||(h=n-P,o=n-(P+h)+(h-r),h=t-I,c=t-(I+h)+(h-r),h=e-F,l=e-(F+h)+(h-s),h=i-U,d=i-(U+h)+(h-s),o===0&&l===0&&c===0&&d===0)||(q=$4e*a+W4e*Math.abs(j),j+=P*d+U*o-(F*c+I*l),j>=q||-j>=q))return j;M=o*U,m=na*o,v=m-(m-o),b=o-v,m=na*U,A=m-(m-U),_=U-A,O=b*_-(M-v*A-b*A-v*_),R=l*I,m=na*l,v=m-(m-l),b=l-v,m=na*I,A=m-(m-I),_=I-A,B=b*_-(R-v*A-b*A-v*_),x=O-B,h=O-x,Ra[0]=O-(x+h)+(h-B),T=M+x,h=T-M,C=M-(T-h)+(x-h),x=C-R,h=C-x,Ra[1]=C-(x+h)+(h-R),N=T+x,h=N-T,Ra[2]=T-(N-h)+(x-h),Ra[3]=N;const Z=FO(4,av,4,Ra,m8);M=P*d,m=na*P,v=m-(m-P),b=P-v,m=na*d,A=m-(m-d),_=d-A,O=b*_-(M-v*A-b*A-v*_),R=F*c,m=na*F,v=m-(m-F),b=F-v,m=na*c,A=m-(m-c),_=c-A,B=b*_-(R-v*A-b*A-v*_),x=O-B,h=O-x,Ra[0]=O-(x+h)+(h-B),T=M+x,h=T-M,C=M-(T-h)+(x-h),x=C-R,h=C-x,Ra[1]=C-(x+h)+(h-R),N=T+x,h=N-T,Ra[2]=T-(N-h)+(x-h),Ra[3]=N;const H=FO(Z,m8,4,Ra,g8);M=o*d,m=na*o,v=m-(m-o),b=o-v,m=na*d,A=m-(m-d),_=d-A,O=b*_-(M-v*A-b*A-v*_),R=l*c,m=na*l,v=m-(m-l),b=l-v,m=na*c,A=m-(m-c),_=c-A,B=b*_-(R-v*A-b*A-v*_),x=O-B,h=O-x,Ra[0]=O-(x+h)+(h-B),T=M+x,h=T-M,C=M-(T-h)+(x-h),x=C-R,h=C-x,Ra[1]=C-(x+h)+(h-R),N=T+x,h=N-T,Ra[2]=T-(N-h)+(x-h),Ra[3]=N;const Y=FO(H,g8,4,Ra,y8);return y8[Y-1]}function N1(n,e,t,i,r,s){const a=(e-s)*(t-r),o=(n-r)*(i-s),l=a-o,c=Math.abs(a+o);return Math.abs(l)>=X4e*c?l:-K4e(n,e,t,i,r,s,c)}const v8=Math.pow(2,-52),B1=new Uint32Array(512);class hw{static from(e,t=t5e,i=n5e){const r=e.length,s=new Float64Array(r*2);for(let a=0;a<r;a++){const o=e[a];s[2*a]=t(o),s[2*a+1]=i(o)}return new hw(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*t-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:i,_hullTri:r,_hullHash:s}=this,a=e.length>>1;let o=1/0,l=1/0,c=-1/0,d=-1/0;for(let P=0;P<a;P++){const I=e[2*P],F=e[2*P+1];I<o&&(o=I),F<l&&(l=F),I>c&&(c=I),F>d&&(d=F),this._ids[P]=P}const h=(o+c)/2,m=(l+d)/2;let v,b,A;for(let P=0,I=1/0;P<a;P++){const F=HO(h,m,e[2*P],e[2*P+1]);F<I&&(v=P,I=F)}const _=e[2*v],x=e[2*v+1];for(let P=0,I=1/0;P<a;P++){if(P===v)continue;const F=HO(_,x,e[2*P],e[2*P+1]);F<I&&F>0&&(b=P,I=F)}let T=e[2*b],C=e[2*b+1],M=1/0;for(let P=0;P<a;P++){if(P===v||P===b)continue;const I=Z4e(_,x,T,C,e[2*P],e[2*P+1]);I<M&&(A=P,M=I)}let O=e[2*A],R=e[2*A+1];if(M===1/0){for(let F=0;F<a;F++)this._dists[F]=e[2*F]-e[0]||e[2*F+1]-e[1];Av(this._ids,this._dists,0,a-1);const P=new Uint32Array(a);let I=0;for(let F=0,U=-1/0;F<a;F++){const j=this._ids[F],q=this._dists[j];q>U&&(P[I++]=j,U=q)}this.hull=P.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(N1(_,x,T,C,O,R)<0){const P=b,I=T,F=C;b=A,T=O,C=R,A=P,O=I,R=F}const B=e5e(_,x,T,C,O,R);this._cx=B.x,this._cy=B.y;for(let P=0;P<a;P++)this._dists[P]=HO(e[2*P],e[2*P+1],B.x,B.y);Av(this._ids,this._dists,0,a-1),this._hullStart=v;let N=3;i[v]=t[A]=b,i[b]=t[v]=A,i[A]=t[b]=v,r[v]=0,r[b]=1,r[A]=2,s.fill(-1),s[this._hashKey(_,x)]=v,s[this._hashKey(T,C)]=b,s[this._hashKey(O,R)]=A,this.trianglesLen=0,this._addTriangle(v,b,A,-1,-1,-1);for(let P=0,I,F;P<this._ids.length;P++){const U=this._ids[P],j=e[2*U],q=e[2*U+1];if(P>0&&Math.abs(j-I)<=v8&&Math.abs(q-F)<=v8||(I=j,F=q,U===v||U===b||U===A))continue;let Z=0;for(let K=0,ae=this._hashKey(j,q);K<this._hashSize&&(Z=s[(ae+K)%this._hashSize],!(Z!==-1&&Z!==i[Z]));K++);Z=t[Z];let H=Z,Y;for(;Y=i[H],N1(j,q,e[2*H],e[2*H+1],e[2*Y],e[2*Y+1])>=0;)if(H=Y,H===Z){H=-1;break}if(H===-1)continue;let X=this._addTriangle(H,U,i[H],-1,-1,r[H]);r[U]=this._legalize(X+2),r[H]=X,N++;let ne=i[H];for(;Y=i[ne],N1(j,q,e[2*ne],e[2*ne+1],e[2*Y],e[2*Y+1])<0;)X=this._addTriangle(ne,U,Y,r[U],-1,r[ne]),r[U]=this._legalize(X+2),i[ne]=ne,N--,ne=Y;if(H===Z)for(;Y=t[H],N1(j,q,e[2*Y],e[2*Y+1],e[2*H],e[2*H+1])<0;)X=this._addTriangle(Y,U,H,-1,r[H],r[Y]),this._legalize(X+2),r[Y]=X,i[H]=H,N--,H=Y;this._hullStart=t[U]=H,i[H]=t[ne]=U,i[U]=ne,s[this._hashKey(j,q)]=U,s[this._hashKey(e[2*H],e[2*H+1])]=H}this.hull=new Uint32Array(N);for(let P=0,I=this._hullStart;P<N;P++)this.hull[P]=I,I=i[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(J4e(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:i,coords:r}=this;let s=0,a=0;for(;;){const o=i[e],l=e-e%3;if(a=l+(e+2)%3,o===-1){if(s===0)break;e=B1[--s];continue}const c=o-o%3,d=l+(e+1)%3,h=c+(o+2)%3,m=t[a],v=t[e],b=t[d],A=t[h];if(Q4e(r[2*m],r[2*m+1],r[2*v],r[2*v+1],r[2*b],r[2*b+1],r[2*A],r[2*A+1])){t[e]=A,t[o]=m;const x=i[h];if(x===-1){let C=this._hullStart;do{if(this._hullTri[C]===h){this._hullTri[C]=e;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(e,x),this._link(o,i[a]),this._link(a,h);const T=c+(o+1)%3;s<B1.length&&(B1[s++]=T)}else{if(s===0)break;e=B1[--s]}}return a}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,i,r,s,a){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,r),this._link(o+1,s),this._link(o+2,a),this.trianglesLen+=3,o}}function J4e(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function HO(n,e,t,i){const r=n-t,s=e-i;return r*r+s*s}function Q4e(n,e,t,i,r,s,a,o){const l=n-a,c=e-o,d=t-a,h=i-o,m=r-a,v=s-o,b=l*l+c*c,A=d*d+h*h,_=m*m+v*v;return l*(h*_-A*v)-c*(d*_-A*m)+b*(d*v-h*m)<0}function Z4e(n,e,t,i,r,s){const a=t-n,o=i-e,l=r-n,c=s-e,d=a*a+o*o,h=l*l+c*c,m=.5/(a*c-o*l),v=(c*d-o*h)*m,b=(a*h-l*d)*m;return v*v+b*b}function e5e(n,e,t,i,r,s){const a=t-n,o=i-e,l=r-n,c=s-e,d=a*a+o*o,h=l*l+c*c,m=.5/(a*c-o*l),v=n+(c*d-o*h)*m,b=e+(a*h-l*d)*m;return{x:v,y:b}}function Av(n,e,t,i){if(i-t<=20)for(let r=t+1;r<=i;r++){const s=n[r],a=e[s];let o=r-1;for(;o>=t&&e[n[o]]>a;)n[o+1]=n[o--];n[o+1]=s}else{const r=t+i>>1;let s=t+1,a=i;q_(n,r,s),e[n[t]]>e[n[i]]&&q_(n,t,i),e[n[s]]>e[n[i]]&&q_(n,s,i),e[n[t]]>e[n[s]]&&q_(n,t,s);const o=n[s],l=e[o];for(;;){do s++;while(e[n[s]]<l);do a--;while(e[n[a]]>l);if(a<s)break;q_(n,s,a)}n[t+1]=n[a],n[a]=o,i-s+1>=a-t?(Av(n,e,s,i),Av(n,e,t,a-1)):(Av(n,e,t,a-1),Av(n,e,s,i))}}function q_(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function t5e(n){return n[0]}function n5e(n){return n[1]}const b8=1e-6;class km{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e=+e,t=+t,i=+i;const r=e+i,s=t;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>b8||Math.abs(this._y1-s)>b8)&&(this._+="L"+r+","+s),i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(e,t,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class eB{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class i5e{constructor(e,[t,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=t,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:i},vectors:r}=this;let s,a;const o=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let A=0,_=0,x=i.length,T,C;A<x;A+=3,_+=2){const M=i[A]*2,O=i[A+1]*2,R=i[A+2]*2,B=e[M],N=e[M+1],P=e[O],I=e[O+1],F=e[R],U=e[R+1],j=P-B,q=I-N,Z=F-B,H=U-N,Y=(j*H-q*Z)*2;if(Math.abs(Y)<1e-9){if(s===void 0){s=a=0;for(const ne of t)s+=e[ne*2],a+=e[ne*2+1];s/=t.length,a/=t.length}const X=1e9*Math.sign((s-B)*H-(a-N)*Z);T=(B+F)/2-X*H,C=(N+U)/2+X*Z}else{const X=1/Y,ne=j*j+q*q,K=Z*Z+H*H;T=B+(H*ne-q*K)*X,C=N+(j*K-Z*ne)*X}o[_]=T,o[_+1]=C}let l=t[t.length-1],c,d=l*4,h,m=e[2*l],v,b=e[2*l+1];r.fill(0);for(let A=0;A<t.length;++A)l=t[A],c=d,h=m,v=b,d=l*4,m=e[2*l],b=e[2*l+1],r[c+2]=r[d]=v-b,r[c+3]=r[d+1]=m-h}render(e){const t=e==null?e=new km:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:a,vectors:o}=this;if(s.length<=1)return null;for(let d=0,h=i.length;d<h;++d){const m=i[d];if(m<d)continue;const v=Math.floor(d/3)*2,b=Math.floor(m/3)*2,A=a[v],_=a[v+1],x=a[b],T=a[b+1];this._renderSegment(A,_,x,T,e)}let l,c=s[s.length-1];for(let d=0;d<s.length;++d){l=c,c=s[d];const h=Math.floor(r[c]/3)*2,m=a[h],v=a[h+1],b=l*4,A=this._project(m,v,o[b+2],o[b+3]);A&&this._renderSegment(m,v,A[0],A[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new km:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const i=t==null?t=new km:void 0,r=this._clip(e);if(r===null||!r.length)return;t.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(r[a]!==r[a-2]||r[a+1]!==r[a-1])&&t.lineTo(r[a],r[a+1]);return t.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){const r=this.cellPolygon(t);r&&(r.index=t,yield r)}}cellPolygon(e){const t=new eB;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,r,s){let a;const o=this._regioncode(e,t),l=this._regioncode(i,r);o===0&&l===0?(s.moveTo(e,t),s.lineTo(i,r)):(a=this._clipSegment(e,t,i,r,o,l))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(e,t,i){return t=+t,t!==t||(i=+i,i!==i)?!1:this.delaunay._step(e,t,i)===e}*neighbors(e){const t=this._clip(e);if(t)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r){e:for(let s=0,a=t.length;s<a;s+=2)for(let o=0,l=r.length;o<l;o+=2)if(t[s]===r[o]&&t[s+1]===r[o+1]&&t[(s+2)%a]===r[(o+l-2)%l]&&t[(s+3)%a]===r[(o+l-1)%l]){yield i;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,a=i[e];if(a===-1)return null;const o=[];let l=a;do{const c=Math.floor(l/3);if(o.push(t[c*2],t[c*2+1]),l=l%3===2?l-2:l+1,s[l]!==e)break;l=r[l]}while(l!==a&&l!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:i}=this,r=e*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(e,t,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const i=t.length;let r=null,s,a,o=t[i-2],l=t[i-1],c,d=this._regioncode(o,l),h,m=0;for(let v=0;v<i;v+=2)if(s=o,a=l,o=t[v],l=t[v+1],c=d,d=this._regioncode(o,l),c===0&&d===0)h=m,m=0,r?r.push(o,l):r=[o,l];else{let b,A,_,x,T;if(c===0){if((b=this._clipSegment(s,a,o,l,c,d))===null)continue;[A,_,x,T]=b}else{if((b=this._clipSegment(o,l,s,a,d,c))===null)continue;[x,T,A,_]=b,h=m,m=this._edgecode(A,_),h&&m&&this._edge(e,h,m,r,r.length),r?r.push(A,_):r=[A,_]}h=m,m=this._edgecode(x,T),h&&m&&this._edge(e,h,m,r,r.length),r?r.push(x,T):r=[x,T]}if(r)h=m,m=this._edgecode(r[0],r[1]),h&&m&&this._edge(e,h,m,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,t,i,r,s,a){const o=s<a;for(o&&([e,t,i,r,s,a]=[i,r,e,t,a,s]);;){if(s===0&&a===0)return o?[i,r,e,t]:[e,t,i,r];if(s&a)return null;let l,c,d=s||a;d&8?(l=e+(i-e)*(this.ymax-t)/(r-t),c=this.ymax):d&4?(l=e+(i-e)*(this.ymin-t)/(r-t),c=this.ymin):d&2?(c=t+(r-t)*(this.xmax-e)/(i-e),l=this.xmax):(c=t+(r-t)*(this.xmin-e)/(i-e),l=this.xmin),s?(e=l,t=c,s=this._regioncode(e,t)):(i=l,r=c,a=this._regioncode(i,r))}}_clipInfinite(e,t,i,r,s,a){let o=Array.from(t),l;if((l=this._project(o[0],o[1],i,r))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],s,a))&&o.push(l[0],l[1]),o=this._clipFinite(e,o))for(let c=0,d=o.length,h,m=this._edgecode(o[d-2],o[d-1]);c<d;c+=2)h=m,m=this._edgecode(o[c],o[c+1]),h&&m&&(c=this._edge(e,h,m,o,c),d=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,i,r,s){for(;t!==i;){let a,o;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin;break}(r[s]!==a||r[s+1]!==o)&&this.contains(e,a,o)&&(r.splice(s,0,a,o),s+=2)}return s}_project(e,t,i,r){let s=1/0,a,o,l;if(r<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/r)<s&&(l=this.ymin,o=e+(s=a)*i)}else if(r>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/r)<s&&(l=this.ymax,o=e+(s=a)*i)}if(i>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/i)<s&&(o=this.xmax,l=t+(s=a)*r)}else if(i<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/i)<s&&(o=this.xmin,l=t+(s=a)*r)}return[o,l]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const i=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[i]&&e[i]===e[r]||e[t+1]===e[i+1]&&e[i+1]===e[r+1])&&(e.splice(i,2),t-=2)}e.length||(e=null)}return e}}const r5e=2*Math.PI,ov=Math.pow;function s5e(n){return n[0]}function a5e(n){return n[1]}function o5e(n){const{triangles:e,coords:t}=n;for(let i=0;i<e.length;i+=3){const r=2*e[i],s=2*e[i+1],a=2*e[i+2];if((t[a]-t[r])*(t[s+1]-t[r+1])-(t[s]-t[r])*(t[a+1]-t[r+1])>1e-10)return!1}return!0}function l5e(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class mk{static from(e,t=s5e,i=a5e,r){return new mk("length"in e?c5e(e,t,i,r):Float64Array.from(u5e(e,t,i,r)))}constructor(e){this._delaunator=new hw(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&o5e(e)){this.collinear=Int32Array.from({length:t.length/2},(m,v)=>v).sort((m,v)=>t[2*m]-t[2*v]||t[2*m+1]-t[2*v+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],d=[t[2*l],t[2*l+1],t[2*c],t[2*c+1]],h=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let m=0,v=t.length/2;m<v;++m){const b=l5e(t[2*m],t[2*m+1],h);t[2*m]=b[0],t[2*m+1]=b[1]}this._delaunator=new hw(t)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,c=i.length;l<c;++l){const d=s[l%3===2?l-2:l+1];(i[l]===-1||a[d]===-1)&&(a[d]=l)}for(let l=0,c=r.length;l<c;++l)o[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,r.length===2&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new i5e(this,e)}*neighbors(e){const{inedges:t,hull:i,_hullIndex:r,halfedges:s,triangles:a,collinear:o}=this;if(o){const h=o.indexOf(e);h>0&&(yield o[h-1]),h<o.length-1&&(yield o[h+1]);return}const l=t[e];if(l===-1)return;let c=l,d=-1;do{if(yield d=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=s[c],c===-1){const h=i[(r[e]+1)%i.length];h!==d&&(yield h);return}}while(c!==l)}find(e,t,i=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const r=i;let s;for(;(s=this._step(i,e,t))>=0&&s!==i&&s!==r;)i=s;return s}_step(e,t,i){const{inedges:r,hull:s,_hullIndex:a,halfedges:o,triangles:l,points:c}=this;if(r[e]===-1||!c.length)return(e+1)%(c.length>>1);let d=e,h=ov(t-c[e*2],2)+ov(i-c[e*2+1],2);const m=r[e];let v=m;do{let b=l[v];const A=ov(t-c[b*2],2)+ov(i-c[b*2+1],2);if(A<h&&(h=A,d=b),v=v%3===2?v-2:v+1,l[v]!==e)break;if(v=o[v],v===-1){if(v=s[(a[e]+1)%s.length],v!==b&&ov(t-c[v*2],2)+ov(i-c[v*2+1],2)<h)return v;break}}while(v!==m);return d}render(e){const t=e==null?e=new km:void 0,{points:i,halfedges:r,triangles:s}=this;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l<a)continue;const c=s[a]*2,d=s[l]*2;e.moveTo(i[c],i[c+1]),e.lineTo(i[d],i[d+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const i=e==null?e=new km:void 0,{points:r}=this;for(let s=0,a=r.length;s<a;s+=2){const o=r[s],l=r[s+1];e.moveTo(o+t,l),e.arc(o,l,t,0,r5e)}return i&&i.value()}renderHull(e){const t=e==null?e=new km:void 0,{hull:i,points:r}=this,s=i[0]*2,a=i.length;e.moveTo(r[s],r[s+1]);for(let o=1;o<a;++o){const l=2*i[o];e.lineTo(r[l],r[l+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new eB;return this.renderHull(e),e.value()}renderTriangle(e,t){const i=t==null?t=new km:void 0,{points:r,triangles:s}=this,a=s[e*=3]*2,o=s[e+1]*2,l=s[e+2]*2;return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[l],r[l+1]),t.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new eB;return this.renderTriangle(e,t),t.value()}}function c5e(n,e,t,i){const r=n.length,s=new Float64Array(r*2);for(let a=0;a<r;++a){const o=n[a];s[a*2]=e.call(i,o,a,n),s[a*2+1]=t.call(i,o,a,n)}return s}function*u5e(n,e,t,i){let r=0;for(const s of n)yield e.call(i,s,r,n),yield t.call(i,s,r,n),++r}const yD=({svgRef:n,params:e,store:t,instance:i})=>{var R;const{disableVoronoi:r,voronoiMaxRadius:s,onItemClick:a}=e,o=an(t,Xo),{axis:l,axisIds:c}=an(t,go),{axis:d,axisIds:h}=an(t,yo),m=an(t,HJ),{series:v,seriesOrder:b}=((R=an(t,qo))==null?void 0:R.scatter)??{},A=G.useRef({}),_=G.useRef(void 0),x=G.useRef(void 0),T=c[0],C=h[0];rr(()=>{t.update(B=>B.voronoi.isVoronoiEnabled===!r?B:be({},B,{voronoi:{isVoronoiEnabled:!r}}))},[t,r]),rr(()=>{if(m||b===void 0||v===void 0||r)return;A.current={};let B=[];b.forEach(N=>{const{data:P,xAxisId:I,yAxisId:F}=v[N],U=l[I??T].scale,j=d[F??C].scale,q=uw(U),Z=uw(j),H=[],Y=[];for(let X=0;X<P.length;X+=1){const{x:ne,y:K}=P[X],ae=q(ne),ye=Z(K);i.isPointInside(ae,ye)&&(H.push(ae),H.push(ye),Y.push(X))}A.current[N]={seriesId:N,seriesIndexes:Y,startIndex:B.length,endIndex:B.length+H.length,markerSize:v[N].markerSize},B=B.concat(H)}),_.current=new mk(B),x.current=void 0},[m,T,C,v,b,l,d,o,i,r]),G.useEffect(()=>{if(n.current===null||r)return;const B=n.current;function N(Y){const X=WN(B,Y);if(!i.isPointInside(X.x,X.y))return x.current=void 0,"outside-chart";if(!_.current)return"no-point-found";const ne=_.current.find(X.x,X.y,x.current);if(ne===void 0)return"no-point-found";x.current=ne;const K=Object.values(A.current).find(de=>2*ne>=de.startIndex&&2*ne<de.endIndex);if(K===void 0)return"no-point-found";const ae=(2*ne-A.current[K.seriesId].startIndex)/2,ye=A.current[K.seriesId].seriesIndexes[ae],Se=s==="item"?K.markerSize:s;if(Se!==void 0){const de=_.current.points[2*ne],xe=_.current.points[2*ne+1];if((de-X.x)**2+(xe-X.y)**2>Se**2)return"outside-voronoi-max-radius"}return{seriesId:K.seriesId,dataIndex:ye}}const P=i.addInteractionListener("moveEnd",Y=>{var X,ne;Y.detail.activeGestures.pan||((X=i.cleanInteraction)==null||X.call(i),(ne=i.clearHighlight)==null||ne.call(i))}),I=i.addInteractionListener("panEnd",Y=>{var X,ne;Y.detail.activeGestures.move||((X=i.cleanInteraction)==null||X.call(i),(ne=i.clearHighlight)==null||ne.call(i))}),F=i.addInteractionListener("quickPressEnd",Y=>{var X,ne;!Y.detail.activeGestures.move&&!Y.detail.activeGestures.pan&&((X=i.cleanInteraction)==null||X.call(i),(ne=i.clearHighlight)==null||ne.call(i))}),U=Y=>{var ae,ye,Se,de,xe,pe;const X=N(Y.detail.srcEvent);if(X==="outside-chart"){(ae=i.cleanInteraction)==null||ae.call(i),(ye=i.clearHighlight)==null||ye.call(i);return}if(X==="outside-voronoi-max-radius"||X==="no-point-found"){(Se=i.removeItemInteraction)==null||Se.call(i),(de=i.clearHighlight)==null||de.call(i);return}const{seriesId:ne,dataIndex:K}=X;(xe=i.setItemInteraction)==null||xe.call(i,{type:"scatter",seriesId:ne,dataIndex:K}),(pe=i.setHighlight)==null||pe.call(i,{seriesId:ne,dataIndex:K})},j=i.addInteractionListener("tap",Y=>{const X=N(Y.detail.srcEvent);if(typeof X!="string"&&a){const{seriesId:ne,dataIndex:K}=X;a(Y.detail.srcEvent,{type:"scatter",seriesId:ne,dataIndex:K})}}),q=i.addInteractionListener("move",U),Z=i.addInteractionListener("pan",U),H=i.addInteractionListener("quickPress",U);return()=>{j.cleanup(),q.cleanup(),P.cleanup(),Z.cleanup(),I.cleanup(),H.cleanup(),F.cleanup()}},[n,d,l,s,a,r,o,i]);const M=Tr(()=>{t.update(B=>be({},B,{voronoi:be({},B.voronoi,{isVoronoiEnabled:!0})}))}),O=Tr(()=>{t.update(B=>be({},B,{voronoi:be({},B.voronoi,{isVoronoiEnabled:!1})}))});return{instance:{enableVoronoi:M,disableVoronoi:O}}};yD.getDefaultizedParams=({params:n})=>be({},n,{disableVoronoi:n.disableVoronoi??!n.series.some(e=>e.type==="scatter")});yD.getInitialState=n=>({voronoi:{isVoronoiEnabled:!n.disableVoronoi}});yD.params={disableVoronoi:!0,voronoiMaxRadius:!0,onItemClick:!0};const iZ=[IA,nb,MA,rb,yD,uD],d5e=["children","localeText","plugins","seriesConfig","slots","slotProps"],f5e=n=>{const e=Wo({props:n,name:"MuiChartDataProvider"}),{children:t,localeText:i,plugins:r=iZ,seriesConfig:s,slots:a,slotProps:o}=e,l=li(e,d5e),c=ho(),d={plugins:r,seriesConfig:s,pluginParams:be({theme:c.palette.mode},l)};return{children:t,localeText:i,chartProviderProps:d,slots:a,slotProps:o}};function h5e(n){const{children:e,localeText:t,chartProviderProps:i,slots:r,slotProps:s}=f5e(n);return W.jsx(sFe,be({},i,{children:W.jsx(bHe,{localeText:t,children:W.jsx(j4e,{slots:r,slotProps:s,defaultSlots:G4e,children:e})})}))}function _8(n){const{isReversed:e,gradientId:t,size:i,direction:r,scale:s,colorMap:a}=n;return i<=0?null:W.jsx("linearGradient",{id:t,x1:"0",x2:"0",y1:"0",y2:"0",[`${r}${e?1:2}`]:`${i}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,l)=>{const c=s(o);if(c===void 0)return null;const d=e?1-c/i:c/i;return Number.isNaN(d)?null:W.jsxs(G.Fragment,{children:[W.jsx("stop",{offset:d,stopColor:a.colors[l],stopOpacity:1}),W.jsx("stop",{offset:d,stopColor:a.colors[l+1],stopOpacity:1})]},o.toString()+l)})})}const p5e=10;function x8(n){const{gradientUnits:e,isReversed:t,gradientId:i,size:r,direction:s,scale:a,colorScale:o,colorMap:l}=n,c=[l.min??0,l.max??100],d=c.map(a).filter(b=>b!==void 0);if(d.length!==2)return null;const h=typeof c[0]=="number"?ls(c[0],c[1]):HU(c[0],c[1]),m=Math.round((Math.max(...d)-Math.min(...d))/p5e),v=`${c[0]}-${c[1]}-`;return W.jsx("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${t?1:2}`]:e==="objectBoundingBox"?1:`${r}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:m+1},(b,A)=>{const _=h(A/m);if(_===void 0)return null;const x=a(_);if(x===void 0)return null;const T=t?1-x/r:x/r,C=o(_);return C===null?null:W.jsx("stop",{offset:T,stopColor:C,stopOpacity:1},v+A)})})}const m5e=10,g5e=n=>n?{x1:"1",x2:"0",y1:"0",y2:"0"}:{x1:"0",x2:"1",y1:"0",y2:"0"};function zO(n){const{isReversed:e,gradientId:t,colorScale:i,colorMap:r}=n,s=[r.min??0,r.max??100],a=typeof s[0]=="number"?ls(s[0],s[1]):HU(s[0],s[1]),o=m5e,l=`${s[0]}-${s[1]}-`;return W.jsx("linearGradient",be({id:t},g5e(e),{gradientUnits:"objectBoundingBox",children:Array.from({length:o+1},(c,d)=>{const h=d/o,m=a(h);if(m===void 0)return null;const v=i(m);return v===null?null:W.jsx("stop",{offset:h,stopColor:v,stopOpacity:1},l+d)})}))}function y5e(){const{top:n,height:e,bottom:t,left:i,width:r,right:s}=Ul(),a=n+e+t,o=i+r+s,l=uHe(),c=dHe(),{xAxis:d,xAxisIds:h}=af(),{yAxis:m,yAxisIds:v}=of(),{zAxis:b,zAxisIds:A}=fk(),_=v.filter(C=>m[C].colorMap!==void 0),x=h.filter(C=>d[C].colorMap!==void 0),T=A.filter(C=>b[C].colorMap!==void 0);return _.length===0&&x.length===0&&T.length===0?null:W.jsxs("defs",{children:[_.map(C=>{const M=l(C),O=c(C),{colorMap:R,scale:B,colorScale:N,reverse:P}=m[C];return(R==null?void 0:R.type)==="piecewise"?W.jsx(_8,{isReversed:!P,scale:B,colorMap:R,size:a,gradientId:M,direction:"y"},M):(R==null?void 0:R.type)==="continuous"?W.jsxs(G.Fragment,{children:[W.jsx(x8,{isReversed:!P,scale:B,colorScale:N,colorMap:R,size:a,gradientId:M,direction:"y"}),W.jsx(zO,{isReversed:P,colorScale:N,colorMap:R,gradientId:O})]},M):null}),x.map(C=>{const M=l(C),O=c(C),{colorMap:R,scale:B,reverse:N,colorScale:P}=d[C];return(R==null?void 0:R.type)==="piecewise"?W.jsx(_8,{isReversed:N,scale:B,colorMap:R,size:o,gradientId:M,direction:"x"},M):(R==null?void 0:R.type)==="continuous"?W.jsxs(G.Fragment,{children:[W.jsx(x8,{isReversed:N,scale:B,colorScale:P,colorMap:R,size:o,gradientId:M,direction:"x"}),W.jsx(zO,{isReversed:N,colorScale:P,colorMap:R,gradientId:O})]},M):null}),T.map(C=>{const M=c(C),{colorMap:O,colorScale:R}=b[C];return(O==null?void 0:O.type)==="continuous"?W.jsx(zO,{colorScale:R,colorMap:O,gradientId:M},M):null})]})}const v5e=["children","className","title","desc"],b5e=lt("svg",{name:"MuiChartsSurface",slot:"Root"})(({ownerState:n,theme:e})=>({width:n.width??"100%",height:n.height??"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",touchAction:"pan-y",userSelect:"none",gridArea:"chart","&:focus":{outline:"none"},"&:focus-visible":{outline:`${(e.vars??e).palette.text.primary} solid 2px`,"&[data-has-focused-item=true]":{outline:"none"}},"& [data-focused=true]":{outline:`${(e.vars??e).palette.text.primary} solid 2px`}})),_5e=G.forwardRef(function(e,t){const i=Hi(),{width:r,height:s}=an(i,_Be),{width:a,height:o}=an(i,YK),l=an(i,tke),c=an(i,eke),d=hk(),h=hr(d,t),m=Wo({props:e,name:"MuiChartsSurface"}),{children:v,className:b,title:A,desc:_}=m,x=li(m,v5e),T=s>0&&r>0;return W.jsxs(b5e,be({ownerState:{width:a,height:o},viewBox:`0 0 ${r} ${s}`,className:b,tabIndex:l?0:void 0,"data-has-focused-item":c||void 0},x,{ref:h,children:[A&&W.jsx("title",{children:A}),_&&W.jsx("desc",{children:_}),W.jsx(y5e,{}),T&&v]}))}),x5e=["width","height","margin","children","series","colors","dataset","desc","onAxisClick","highlightedAxis","onHighlightedAxisChange","disableVoronoi","voronoiMaxRadius","onItemClick","disableAxisListener","highlightedItem","onHighlightChange","sx","title","xAxis","yAxis","zAxis","rotationAxis","radiusAxis","skipAnimation","seriesConfig","plugins","localeText","slots","slotProps","experimentalFeatures","enableKeyboardNavigation"],S5e=(n,e)=>{const t=n,{width:i,height:r,margin:s,children:a,series:o,colors:l,dataset:c,desc:d,onAxisClick:h,highlightedAxis:m,onHighlightedAxisChange:v,disableVoronoi:b,voronoiMaxRadius:A,onItemClick:_,disableAxisListener:x,highlightedItem:T,onHighlightChange:C,sx:M,title:O,xAxis:R,yAxis:B,zAxis:N,rotationAxis:P,radiusAxis:I,skipAnimation:F,seriesConfig:U,plugins:j,localeText:q,slots:Z,slotProps:H,experimentalFeatures:Y,enableKeyboardNavigation:X}=t,ne=li(t,x5e),K=be({title:O,desc:d,sx:M,ref:e},ne);return{chartDataProviderProps:{margin:s,series:o,colors:l,dataset:c,disableAxisListener:x,highlightedItem:T,onHighlightChange:C,onAxisClick:h,highlightedAxis:m,onHighlightedAxisChange:v,disableVoronoi:b,voronoiMaxRadius:A,onItemClick:_,xAxis:R,yAxis:B,zAxis:N,rotationAxis:P,radiusAxis:I,skipAnimation:F,width:i,height:r,localeText:q,seriesConfig:U,experimentalFeatures:Y,enableKeyboardNavigation:X,plugins:j??iZ,slots:Z,slotProps:H},chartsSurfaceProps:K,children:a}},S8=Xt("MuiChartsToolbar",["root"]),A5e=n=>(n==null?void 0:n.horizontal)==="start"?"start":(n==null?void 0:n.horizontal)==="end"?"end":"center",E5e=n=>(n==null?void 0:n.vertical)==="top"?"flex-start":(n==null?void 0:n.vertical)==="bottom"?"flex-end":"center",C5e=(n,e,t)=>n?'"chart"':e==="vertical"?(t==null?void 0:t.horizontal)==="start"?'"legend chart"':'"chart legend"':(t==null?void 0:t.vertical)==="bottom"?`"chart"
            "legend"`:`"legend"
          "chart"`,T5e=(n=!1,e="horizontal",t="end",i=void 0)=>{const r=i?"auto":"1fr";return e==="horizontal"||n?r:t==="start"?`auto ${r}`:`${r} auto`},M5e=(n=!1,e="horizontal",t="top")=>{const i="1fr";return e==="vertical"||n?i:t==="bottom"?`${i} auto`:`auto ${i}`},w5e=lt("div",{name:"MuiChartsWrapper",slot:"Root",shouldForwardProp:n=>F1(n)&&n!=="extendVertically"&&n!=="width"})(({ownerState:n,width:e})=>{var s,a;const t=T5e(n.hideLegend,n.legendDirection,(s=n.legendPosition)==null?void 0:s.horizontal,e),i=M5e(n.hideLegend,n.legendDirection,(a=n.legendPosition)==null?void 0:a.vertical),r=C5e(n.hideLegend,n.legendDirection,n.legendPosition);return{variants:[{props:{extendVertically:!0},style:{height:"100%"}}],flex:1,display:"grid",gridTemplateColumns:t,gridTemplateRows:i,gridTemplateAreas:r,[`&:has(.${S8.root})`]:{gridTemplateRows:`auto ${i}`,gridTemplateAreas:`"${t.split(" ").map(()=>"toolbar").join(" ")}"
        ${r}`},[`& .${S8.root}`]:{gridArea:"toolbar",justifySelf:"center"},justifyContent:"center",justifyItems:A5e(n.legendPosition),alignItems:E5e(n.legendPosition)}});function R5e(n){const{children:e,sx:t,extendVertically:i}=n,r=pHe(),s=Hi(),{width:a,height:o}=an(s,YK);return W.jsx(w5e,{ref:r,ownerState:n,sx:t,extendVertically:i??o===void 0,width:a,children:e})}const D5e=G.forwardRef(function(e,t){var C,M,O,R;const i=Wo({props:e,name:"MuiBarChart"}),{chartsWrapperProps:r,chartContainerProps:s,barPlotProps:a,gridProps:o,clipPathProps:l,clipPathGroupProps:c,overlayProps:d,chartsAxisProps:h,axisHighlightProps:m,legendProps:v,children:b}=F4e(i),{chartDataProviderProps:A,chartsSurfaceProps:_}=S5e(s,t),x=((C=i.slots)==null?void 0:C.tooltip)??n4e,T=(M=i.slots)==null?void 0:M.toolbar;return W.jsx(h5e,be({},A,{children:W.jsxs(R5e,be({},r,{children:[i.showToolbar&&T?W.jsx(T,be({},(O=i.slotProps)==null?void 0:O.toolbar)):null,!i.hideLegend&&W.jsx(m4e,be({},v)),W.jsxs(_5e,be({},_,{children:[W.jsx(w4e,be({},o)),W.jsxs("g",be({},c,{children:[W.jsx(jHe,be({},a)),W.jsx(L4e,be({},d)),W.jsx(_4e,be({},m))]})),W.jsx(Oze,be({},h)),W.jsx(x4e,be({},l)),b]})),!i.loading&&W.jsx(x,be({},(R=i.slotProps)==null?void 0:R.tooltip))]}))}))}),I5e=({campaignId:n})=>{const[e,t]=G.useState([]),[i,r]=G.useState(null),s=a=>{if(a.length===0)return[];const o={};return a.forEach(l=>{l.playedFactions.forEach(c=>{o[c.faction]?o[c.faction]++:o[c.faction]=1})}),Object.entries(o).map(([l,c])=>({faction:l,plays:c,player:""})).sort((l,c)=>c.plays-l.plays)};return G.useEffect(()=>{bx(n).then(a=>t(a.sort((o,l)=>new Date(o.date).getTime()-new Date(l.date).getTime())))},[n]),W.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,padding:16},children:[W.jsx(qr,{variant:"h6",gutterBottom:!0,children:"Statistics"}),W.jsx(OP,{title:"Faction Playtimes",isOpen:i==="factions-by-plays",optionName:"factions-by-plays",openCloseCallback:r,children:W.jsx("div",{style:{flex:1},children:W.jsx(D5e,{slotProps:{legend:{sx:{justifyContent:"center"},position:{vertical:"bottom"}}},xAxis:[{data:["Factions"]}],series:s(e).map(a=>({data:[a.plays],label:a.faction,color:dge(a.faction)})),height:400})})})]})},GO=[{factionName:"The Arborec",factionImage:"arborec.webp"},{factionName:"The Barony of Letnev",factionImage:"barony.webp"},{factionName:"The Clan of Saar",factionImage:"saar.webp"},{factionName:"The Embers of Muaat",factionImage:"muaat.webp"},{factionName:"The Emirates of Hacan",factionImage:"hacan.webp"},{factionName:"The Federation of Sol",factionImage:"sol.webp"},{factionName:"The Ghosts of Creuss",factionImage:"creuss.webp"},{factionName:"The L1Z1X Mindnet",factionImage:"l1z1x.webp"},{factionName:"The Mentak Coalition",factionImage:"mentak.webp"},{factionName:"The Naalu Collective",factionImage:"naalu.webp"},{factionName:"The Nekro Virus",factionImage:"nekro.webp"},{factionName:"Sardakk N'orr",factionImage:"sardakk.webp"},{factionName:"The Universities of Jol-Nar",factionImage:"jolnar.webp"},{factionName:"The Winnu",factionImage:"winnu.webp"},{factionName:"The Xxcha Kingdom",factionImage:"xxcha.webp"},{factionName:"The Yin Brotherhood",factionImage:"yin.webp"},{factionName:"The Yssaril Tribes",factionImage:"yssaril.webp"},{factionName:"The Argent Flight",factionImage:"argent.webp"},{factionName:"The Empyrean",factionImage:"empyrean.webp"},{factionName:"The Mahact Gene-Sorcerers",factionImage:"mahact.webp"},{factionName:"The Naaz-Rokha Alliance",factionImage:"naazrokha.webp"},{factionName:"The Nomad",factionImage:"nomad.webp"},{factionName:"The Titans of Ul",factionImage:"titans.webp"},{factionName:"The Vuil'raith Cabal",factionImage:"cabal.webp"}],O5e=({campaignId:n,currentTab:e})=>{const[t,i]=G.useState(),r=U9("(min-width:1060px)"),s=()=>{bx(n).then(a=>{var l;const o=a.sort((c,d)=>new Date(c.date).getTime()-new Date(d.date).getTime())[a.length-1];i({player:o.winnersName,faction:((l=o.playedFactions.find(c=>c.player===o.winnersName))==null?void 0:l.faction)||""})})};return G.useEffect(()=>{s()},[e]),W.jsxs(Ss,{id:"main-content-box",sx:{width:"100%",overflow:"hidden",flex:1,boxSizing:"border-box",padding:"30px 15px 20px 15px",scrollbarWidth:"thin",display:"flex",gap:"10px"},children:[W.jsxs(Ss,{id:"main-centered-box",sx:{width:"100%",display:"flex",justifyContent:"center"},children:[e==="Trophy"&&W.jsx(oV,{trophyHolderName:(t==null?void 0:t.player)||"",trophyHolderFaction:GO.find(a=>a.factionName===(t==null?void 0:t.faction))||{}}),e!=="Trophy"&&W.jsxs(HK,{children:[e==="Players"&&W.jsx(Ege,{campaignId:n}),e==="Games"&&W.jsx(Age,{campaignId:n,availableFactions:GO.map(a=>a.factionName),gameAddedCallback:s}),e==="Calendar"&&W.jsx(kNe,{campaignId:n}),e==="Statistics"&&W.jsx(I5e,{campaignId:n})]})]}),e!=="Trophy"&&r&&W.jsx(Ss,{sx:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",touchAction:"auto"},children:W.jsx(oV,{trophyHolderName:(t==null?void 0:t.player)||"",trophyHolderFaction:GO.find(a=>a.factionName===(t==null?void 0:t.faction))||{}})})]})},P5e=mo(W.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),N5e=mo(W.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"})),B5e=mo(W.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"})),L5e=mo([W.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),W.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),W.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")]),U5e=mo(W.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"})),k5e=mo(W.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),F5e=mo(W.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),H5e=({open:n,toggleDrawer:e,openTab:t,setCampaignId:i})=>{const r=()=>{window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("campaignId"),i(null),kde(QW))};return W.jsxs(Ss,{id:"banner-box",component:o3.div,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},sx:{padding:"5px 0px 5px 0px",width:"100%",background:"radial-gradient(ellipse at center,rgb(24, 24, 97), #000)",borderTop:"4px solid rgb(241,87,38)",borderBottom:"4px solid rgb(245,189,26)",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)",display:"flex",alignItems:"center",gap:2,boxSizing:"border-box"},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"center",width:"100px",marginLeft:"10px"},children:[W.jsx(Dw,{color:"inherit","aria-label":"open drawer",onClick:e(!0),edge:"start",sx:[n&&{focus:"none"}],children:W.jsx(P5e,{})}),W.jsx(Noe,{open:n,onClose:e(!1),children:W.jsxs(Ss,{sx:{width:250},role:"presentation",onClick:e(!1),children:[W.jsx(V1,{children:W.jsx(yI,{disablePadding:!0,onClick:()=>{t("Trophy")},children:W.jsxs(gI,{children:[W.jsx(vI,{children:W.jsx(N5e,{})}),W.jsx(bI,{primary:"Trophy"})]})},"Trophy")}),W.jsx(qx,{}),W.jsx(V1,{children:[["Games",W.jsx(B5e,{})],["Players",W.jsx(L5e,{})],["Calendar",W.jsx(k5e,{})],["Statistics",W.jsx(U5e,{})]].map(([s,a])=>W.jsx(yI,{disablePadding:!0,onClick:()=>{t(s)},children:W.jsxs(gI,{children:[W.jsx(vI,{children:a}),W.jsx(bI,{primary:s})]})},s))}),W.jsx(qx,{}),W.jsx(V1,{children:W.jsx(yI,{disablePadding:!0,onClick:()=>{r()},children:W.jsxs(gI,{children:[W.jsx(vI,{children:W.jsx(F5e,{})}),W.jsx(bI,{primary:"Log Out"})]})},"Log Out")})]})})]}),W.jsx(qr,{variant:"h2",sx:{margin:"0 auto",whiteSpace:"nowrap",fontFamily:"TI Title Font","@media (max-width:800px)":{fontSize:"clamp(0.5rem, 5vw + 0.5rem, 5.7rem);"},"@media (max-width:500px)":{backgroundSize:"1500px 100px"},"@media (max-width:400px)":{backgroundSize:"1000px 100px"},"@media (max-width:330px)":{fontSize:"1.5rem"},background:"radial-gradient(ellipse at 50% 80%, rgb(247,190,23) 20%, rgb(253,242,147) 25%, rgb(238,90,29) 35%)",backgroundSize:"2000px 100px",backgroundPosition:"center center",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"TWILIGHT IMPERIUM STATS"}),W.jsx("div",{style:{width:"100px",marginRight:"10px"}})]})},z5e=({onLogin:n})=>{const[e,t]=G.useState(""),[i,r]=G.useState(""),[s,a]=G.useState(!1),o=G.useRef(null),l=G.useRef(null),c=G.useCallback(()=>!e||!i||s,[e,i,s]);G.useEffect(()=>{const h=o.current;if(!h)return;const m=v=>{var b;v.key==="Enter"&&!c()&&((b=l.current)==null||b.click())};return h.addEventListener("keyup",m),()=>{h.removeEventListener("keyup",m)}},[c]);const d=async()=>{a(!0);try{const h=e.trim(),m=i.trim();if(h&&m){const v=await mge(h),b=await uge(m);if(v===null){window.confirm("No campaign found. Do you want to register instead?")&&(await pge({id:h,registrationDate:new Date().toISOString(),passwordHash:b}),n(e));return}if(b!==v.passwordHash){console.log("INCORRECT PASSWORD");return}Ode(QW).then(()=>{localStorage.setItem("campaignId",e),n(e)})}}finally{a(!1)}};return W.jsx(Ss,{sx:{minWidth:"238px",display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:W.jsxs(Jd,{elevation:6,sx:{padding:4,maxWidth:"400px",backgroundColor:"#1d1f40"},children:[W.jsx(qr,{variant:"h5",gutterBottom:!0,color:"white",children:"TI4 Game Login"}),W.jsx(xu,{label:"Campaign ID",value:e,onChange:h=>t(h.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),W.jsx(xu,{id:"passwordField",label:"Password",type:"password",ref:o,value:i,onChange:h=>r(h.target.value),fullWidth:!0,margin:"normal",size:"small",sx:{"& .MuiInputLabel-root":{color:"lightblue"}},slotProps:{input:{style:{color:"white"}}}}),W.jsx(Xv,{id:"loginButton",variant:"contained",color:"primary",ref:l,fullWidth:!0,onClick:d,disabled:c(),sx:{mt:2},children:"Enter Game"})]})})},G5e=({setCampaignId:n})=>W.jsx("div",{style:{overflow:"hidden",flex:1,flexDirection:"column",justifyContent:"center",alignContent:"center",alignItems:"center",width:"100%",scrollbarWidth:"thin",display:"flex",gap:"10px"},children:W.jsxs(HK,{orientation:"column",sx:{padding:"10px",width:"60%",[tA.breakpoints.down("md")]:{width:"70%"}},children:[W.jsx(qr,{variant:"h4",gutterBottom:!0,color:"white",children:"Welcome to TI4 Statistics!"}),W.jsx(z5e,{onLogin:n})]})}),V5e=()=>W.jsxs(Ss,{id:"footer-box",component:o3.div,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},sx:{padding:"5px 0px 5px 0px",width:"100%",background:"radial-gradient(ellipse at center,rgb(24, 24, 97), #000)",borderTop:"4px solid rgb(241,87,38)",borderBottom:"4px solid rgb(245,189,26)",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[W.jsx(Ss,{}),W.jsx(qr,{variant:"h6",sx:{whiteSpace:"nowrap",fontFamily:"TI Title Font","@media (max-width:700px)":{fontSize:"clamp(0.2rem, 2vw + 0.4rem, 5.7rem);"},"@media (max-width:500px)":{backgroundSize:"1500px 100px"},"@media (max-width:400px)":{backgroundSize:"1000px 100px"},"@media (max-width:330px)":{fontSize:"0.9rem"},background:"radial-gradient(ellipse at 50% 80%, rgb(247,190,23) 20%, rgb(253,242,147) 25%, rgb(238,90,29) 35%)",backgroundSize:"2000px 100px",backgroundPosition:"center center",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"FOOTER"})]});function j5e(){const[n,e]=G.useState(()=>localStorage.getItem("campaignId")),[t,i]=G.useState(!1),[r,s]=G.useState("Games"),a=l=>()=>{i(l)},o=l=>{s(l);const c=new URLSearchParams(window.location.search);c.set("currentTab",l),window.history.replaceState({},"",`${window.location.pathname}?${c}`)};return G.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("currentTab");c&&s(c)},[]),W.jsxs("main",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundImage:`url("${zT()}images/ti4bg.webp")`,backgroundSize:"cover",color:"white",overflow:"hidden"},children:[W.jsx(H5e,{open:t,toggleDrawer:a,openTab:o,setCampaignId:e}),n===null?W.jsx(G5e,{setCampaignId:e}):W.jsx(O5e,{currentTab:r,campaignId:n}),W.jsx(V5e,{})]})}const W5e=G.createContext(void 0),Y5e=({children:n})=>{const[e,t]=G.useState(()=>localStorage.getItem("campaignId"));return W.jsx(W5e.Provider,{value:{campaignId:e,setCampaignId:t},children:n})};eee.createRoot(document.getElementById("root")).render(W.jsx(G.StrictMode,{children:W.jsx(Vee,{theme:tA,children:W.jsx(Y5e,{children:W.jsx(j5e,{})})})}));
